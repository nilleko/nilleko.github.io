const p$3=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))c(d);new MutationObserver(d=>{for(const j of d)if(j.type==="childList")for(const Z of j.addedNodes)Z.tagName==="LINK"&&Z.rel==="modulepreload"&&c(Z)}).observe(document,{childList:!0,subtree:!0});function o(d){const j={};return d.integrity&&(j.integrity=d.integrity),d.referrerpolicy&&(j.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?j.credentials="include":d.crossorigin==="anonymous"?j.credentials="omit":j.credentials="same-origin",j}function c(d){if(d.ep)return;d.ep=!0;const j=o(d);fetch(d.href,j)}};p$3();var commonjsGlobal=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),t$1=Symbol.for("react.provider"),u=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(e){return e===null||typeof e!="object"?null:(e=z$1&&e[z$1]||e["@@iterator"],typeof e=="function"?e:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(e,i,o){this.props=e,this.context=i,this.refs=D$1,this.updater=o||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(e,i){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,i,"setState")};E$1.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(e,i,o){this.props=e,this.context=i,this.refs=D$1,this.updater=o||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(e,i,o){var c,d={},j=null,Z=null;if(i!=null)for(c in i.ref!==void 0&&(Z=i.ref),i.key!==void 0&&(j=""+i.key),i)J.call(i,c)&&!L$1.hasOwnProperty(c)&&(d[c]=i[c]);var s=arguments.length-2;if(s===1)d.children=o;else if(1<s){for(var $=Array(s),et=0;et<s;et++)$[et]=arguments[et+2];d.children=$}if(e&&e.defaultProps)for(c in s=e.defaultProps,s)d[c]===void 0&&(d[c]=s[c]);return{$$typeof:l$1,type:e,key:j,ref:Z,props:d,_owner:K$1.current}}function N$1(e,i){return{$$typeof:l$1,type:e.type,key:i,ref:e.ref,props:e.props,_owner:e._owner}}function O$1(e){return typeof e=="object"&&e!==null&&e.$$typeof===l$1}function escape$1(e){var i={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(o){return i[o]})}var P$1=/\/+/g;function Q$1(e,i){return typeof e=="object"&&e!==null&&e.key!=null?escape$1(""+e.key):i.toString(36)}function R$1(e,i,o,c,d){var j=typeof e;(j==="undefined"||j==="boolean")&&(e=null);var Z=!1;if(e===null)Z=!0;else switch(j){case"string":case"number":Z=!0;break;case"object":switch(e.$$typeof){case l$1:case n$1:Z=!0}}if(Z)return Z=e,d=d(Z),e=c===""?"."+Q$1(Z,0):c,I$1(d)?(o="",e!=null&&(o=e.replace(P$1,"$&/")+"/"),R$1(d,i,o,"",function(et){return et})):d!=null&&(O$1(d)&&(d=N$1(d,o+(!d.key||Z&&Z.key===d.key?"":(""+d.key).replace(P$1,"$&/")+"/")+e)),i.push(d)),1;if(Z=0,c=c===""?".":c+":",I$1(e))for(var s=0;s<e.length;s++){j=e[s];var $=c+Q$1(j,s);Z+=R$1(j,i,o,$,d)}else if($=A$1(e),typeof $=="function")for(e=$.call(e),s=0;!(j=e.next()).done;)j=j.value,$=c+Q$1(j,s++),Z+=R$1(j,i,o,$,d);else if(j==="object")throw i=String(e),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return Z}function S$1(e,i,o){if(e==null)return e;var c=[],d=0;return R$1(e,c,"","",function(j){return i.call(o,j,d++)}),c}function T$1(e){if(e._status===-1){var i=e._result;i=i(),i.then(function(o){(e._status===0||e._status===-1)&&(e._status=1,e._result=o)},function(o){(e._status===0||e._status===-1)&&(e._status=2,e._result=o)}),e._status===-1&&(e._status=0,e._result=i)}if(e._status===1)return e._result.default;throw e._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(e,i,o){S$1(e,function(){i.apply(this,arguments)},o)},count:function(e){var i=0;return S$1(e,function(){i++}),i},toArray:function(e){return S$1(e,function(i){return i})||[]},only:function(e){if(!O$1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(e,i,o){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var c=C$1({},e.props),d=e.key,j=e.ref,Z=e._owner;if(i!=null){if(i.ref!==void 0&&(j=i.ref,Z=K$1.current),i.key!==void 0&&(d=""+i.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for($ in i)J.call(i,$)&&!L$1.hasOwnProperty($)&&(c[$]=i[$]===void 0&&s!==void 0?s[$]:i[$])}var $=arguments.length-2;if($===1)c.children=o;else if(1<$){s=Array($);for(var et=0;et<$;et++)s[et]=arguments[et+2];c.children=s}return{$$typeof:l$1,type:e.type,key:d,ref:j,props:c,_owner:Z}};react_production_min.createContext=function(e){return e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:t$1,_context:e},e.Consumer=e};react_production_min.createElement=M$1;react_production_min.createFactory=function(e){var i=M$1.bind(null,e);return i.type=e,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(e){return{$$typeof:v,render:e}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(e){return{$$typeof:y,_payload:{_status:-1,_result:e},_init:T$1}};react_production_min.memo=function(e,i){return{$$typeof:x,type:e,compare:i===void 0?null:i}};react_production_min.startTransition=function(e){var i=V$1.transition;V$1.transition={};try{e()}finally{V$1.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(e,i){return U$1.current.useCallback(e,i)};react_production_min.useContext=function(e){return U$1.current.useContext(e)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(e){return U$1.current.useDeferredValue(e)};react_production_min.useEffect=function(e,i){return U$1.current.useEffect(e,i)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(e,i,o){return U$1.current.useImperativeHandle(e,i,o)};react_production_min.useInsertionEffect=function(e,i){return U$1.current.useInsertionEffect(e,i)};react_production_min.useLayoutEffect=function(e,i){return U$1.current.useLayoutEffect(e,i)};react_production_min.useMemo=function(e,i){return U$1.current.useMemo(e,i)};react_production_min.useReducer=function(e,i,o){return U$1.current.useReducer(e,i,o)};react_production_min.useRef=function(e){return U$1.current.useRef(e)};react_production_min.useState=function(e){return U$1.current.useState(e)};react_production_min.useSyncExternalStore=function(e,i,o){return U$1.current.useSyncExternalStore(e,i,o)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.1.0";react.exports=react_production_min;var React=react.exports,client={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function i(Nt,_t){var at=Nt.length;Nt.push(_t);e:for(;0<at;){var Bt=at-1>>>1,Vt=Nt[Bt];if(0<d(Vt,_t))Nt[Bt]=_t,Nt[at]=Vt,at=Bt;else break e}}function o(Nt){return Nt.length===0?null:Nt[0]}function c(Nt){if(Nt.length===0)return null;var _t=Nt[0],at=Nt.pop();if(at!==_t){Nt[0]=at;e:for(var Bt=0,Vt=Nt.length,Qt=Vt>>>1;Bt<Qt;){var or=2*(Bt+1)-1,ar=Nt[or],qt=or+1,Gt=Nt[qt];if(0>d(ar,at))qt<Vt&&0>d(Gt,ar)?(Nt[Bt]=Gt,Nt[qt]=at,Bt=qt):(Nt[Bt]=ar,Nt[or]=at,Bt=or);else if(qt<Vt&&0>d(Gt,at))Nt[Bt]=Gt,Nt[qt]=at,Bt=qt;else break e}}return _t}function d(Nt,_t){var at=Nt.sortIndex-_t.sortIndex;return at!==0?at:Nt.id-_t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var j=performance;e.unstable_now=function(){return j.now()}}else{var Z=Date,s=Z.now();e.unstable_now=function(){return Z.now()-s}}var $=[],et=[],ut=1,gt=null,lt=3,ft=!1,ot=!1,yt=!1,wt=typeof setTimeout=="function"?setTimeout:null,Rt=typeof clearTimeout=="function"?clearTimeout:null,Mt=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Tt(Nt){for(var _t=o(et);_t!==null;){if(_t.callback===null)c(et);else if(_t.startTime<=Nt)c(et),_t.sortIndex=_t.expirationTime,i($,_t);else break;_t=o(et)}}function Ct(Nt){if(yt=!1,Tt(Nt),!ot)if(o($)!==null)ot=!0,St(ct);else{var _t=o(et);_t!==null&&Dt(Ct,_t.startTime-Nt)}}function ct(Nt,_t){ot=!1,yt&&(yt=!1,Rt(Yt),Yt=-1),ft=!0;var at=lt;try{for(Tt(_t),gt=o($);gt!==null&&(!(gt.expirationTime>_t)||Nt&&!bt());){var Bt=gt.callback;if(typeof Bt=="function"){gt.callback=null,lt=gt.priorityLevel;var Vt=Bt(gt.expirationTime<=_t);_t=e.unstable_now(),typeof Vt=="function"?gt.callback=Vt:gt===o($)&&c($),Tt(_t)}else c($);gt=o($)}if(gt!==null)var Qt=!0;else{var or=o(et);or!==null&&Dt(Ct,or.startTime-_t),Qt=!1}return Qt}finally{gt=null,lt=at,ft=!1}}var Lt=!1,Kt=null,Yt=-1,pt=5,dt=-1;function bt(){return!(e.unstable_now()-dt<pt)}function mt(){if(Kt!==null){var Nt=e.unstable_now();dt=Nt;var _t=!0;try{_t=Kt(!0,Nt)}finally{_t?jt():(Lt=!1,Kt=null)}}else Lt=!1}var jt;if(typeof Mt=="function")jt=function(){Mt(mt)};else if(typeof MessageChannel!="undefined"){var zt=new MessageChannel,kt=zt.port2;zt.port1.onmessage=mt,jt=function(){kt.postMessage(null)}}else jt=function(){wt(mt,0)};function St(Nt){Kt=Nt,Lt||(Lt=!0,jt())}function Dt(Nt,_t){Yt=wt(function(){Nt(e.unstable_now())},_t)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Nt){Nt.callback=null},e.unstable_continueExecution=function(){ot||ft||(ot=!0,St(ct))},e.unstable_forceFrameRate=function(Nt){0>Nt||125<Nt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):pt=0<Nt?Math.floor(1e3/Nt):5},e.unstable_getCurrentPriorityLevel=function(){return lt},e.unstable_getFirstCallbackNode=function(){return o($)},e.unstable_next=function(Nt){switch(lt){case 1:case 2:case 3:var _t=3;break;default:_t=lt}var at=lt;lt=_t;try{return Nt()}finally{lt=at}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Nt,_t){switch(Nt){case 1:case 2:case 3:case 4:case 5:break;default:Nt=3}var at=lt;lt=Nt;try{return _t()}finally{lt=at}},e.unstable_scheduleCallback=function(Nt,_t,at){var Bt=e.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?Bt+at:Bt):at=Bt,Nt){case 1:var Vt=-1;break;case 2:Vt=250;break;case 5:Vt=1073741823;break;case 4:Vt=1e4;break;default:Vt=5e3}return Vt=at+Vt,Nt={id:ut++,callback:_t,priorityLevel:Nt,startTime:at,expirationTime:Vt,sortIndex:-1},at>Bt?(Nt.sortIndex=at,i(et,Nt),o($)===null&&Nt===o(et)&&(yt?(Rt(Yt),Yt=-1):yt=!0,Dt(Ct,at-Bt))):(Nt.sortIndex=Vt,i($,Nt),ot||ft||(ot=!0,St(ct))),Nt},e.unstable_shouldYield=bt,e.unstable_wrapCallback=function(Nt){var _t=lt;return function(){var at=lt;lt=_t;try{return Nt.apply(this,arguments)}finally{lt=at}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=react.exports,ba=scheduler.exports;function p$1(e){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+e,o=1;o<arguments.length;o++)i+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(e,i){ha(e,i),ha(e+"Capture",i)}function ha(e,i){for(ea[e]=i,e=0;e<i.length;e++)da.add(i[e])}var ia=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function na(e){return ja.call(ma,e)?!0:ja.call(la,e)?!1:ka.test(e)?ma[e]=!0:(la[e]=!0,!1)}function oa(e,i,o,c){if(o!==null&&o.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function pa(e,i,o,c){if(i===null||typeof i=="undefined"||oa(e,i,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function t(e,i,o,c,d,j,Z){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=e,this.type=i,this.sanitizeURL=j,this.removeEmptyString=Z}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){z[e]=new t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var i=e[0];z[i]=new t(i,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){z[e]=new t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){z[e]=new t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){z[e]=new t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){z[e]=new t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){z[e]=new t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){z[e]=new t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){z[e]=new t(e,5,!1,e.toLowerCase(),null,!1,!1)});var qa=/[\-:]([a-z])/g;function ra(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var i=e.replace(qa,ra);z[i]=new t(i,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var i=e.replace(qa,ra);z[i]=new t(i,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var i=e.replace(qa,ra);z[i]=new t(i,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){z[e]=new t(e,1,!1,e.toLowerCase(),null,!1,!1)});z.xlinkHref=new t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){z[e]=new t(e,1,!1,e.toLowerCase(),null,!0,!0)});function sa(e,i,o,c){var d=z.hasOwnProperty(i)?z[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(pa(i,o,d,c)&&(o=null),c||d===null?na(i)&&(o===null?e.removeAttribute(i):e.setAttribute(i,""+o)):d.mustUseProperty?e[d.propertyName]=o===null?d.type===3?!1:"":o:(i=d.attributeName,c=d.attributeNamespace,o===null?e.removeAttribute(i):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?e.setAttributeNS(c,i,o):e.setAttribute(i,o))))}var ta=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ua=Symbol.for("react.element"),va=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),xa=Symbol.for("react.strict_mode"),za=Symbol.for("react.profiler"),Aa=Symbol.for("react.provider"),Ba=Symbol.for("react.context"),Ca=Symbol.for("react.forward_ref"),Da=Symbol.for("react.suspense"),Ea=Symbol.for("react.suspense_list"),Fa=Symbol.for("react.memo"),Ga=Symbol.for("react.lazy"),Ha=Symbol.for("react.offscreen"),Ia=Symbol.iterator;function Ja(e){return e===null||typeof e!="object"?null:(e=Ia&&e[Ia]||e["@@iterator"],typeof e=="function"?e:null)}var A=Object.assign,Ka;function La(e){if(Ka===void 0)try{throw Error()}catch(o){var i=o.stack.trim().match(/\n( *(at )?)/);Ka=i&&i[1]||""}return`
`+Ka+e}var Ma=!1;function Na(e,i){if(!e||Ma)return"";Ma=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(et){var c=et}Reflect.construct(e,[],i)}else{try{i.call()}catch(et){c=et}e.call(i.prototype)}else{try{throw Error()}catch(et){c=et}e()}}catch(et){if(et&&c&&typeof et.stack=="string"){for(var d=et.stack.split(`
`),j=c.stack.split(`
`),Z=d.length-1,s=j.length-1;1<=Z&&0<=s&&d[Z]!==j[s];)s--;for(;1<=Z&&0<=s;Z--,s--)if(d[Z]!==j[s]){if(Z!==1||s!==1)do if(Z--,s--,0>s||d[Z]!==j[s]){var $=`
`+d[Z].replace(" at new "," at ");return e.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",e.displayName)),$}while(1<=Z&&0<=s);break}}}finally{Ma=!1,Error.prepareStackTrace=o}return(e=e?e.displayName||e.name:"")?La(e):""}function Oa(e){switch(e.tag){case 5:return La(e.type);case 16:return La("Lazy");case 13:return La("Suspense");case 19:return La("SuspenseList");case 0:case 2:case 15:return e=Na(e.type,!1),e;case 11:return e=Na(e.type.render,!1),e;case 1:return e=Na(e.type,!0),e;default:return""}}function Pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wa:return"Fragment";case va:return"Portal";case za:return"Profiler";case xa:return"StrictMode";case Da:return"Suspense";case Ea:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ba:return(e.displayName||"Context")+".Consumer";case Aa:return(e._context.displayName||"Context")+".Provider";case Ca:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Fa:return i=e.displayName||null,i!==null?i:Pa(e.type)||"Memo";case Ga:i=e._payload,e=e._init;try{return Pa(e(i))}catch{}}return null}function Qa(e){var i=e.type;switch(e.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=i.render,e=e.displayName||e.name||"",i.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pa(i);case 8:return i===xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ra(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Sa(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ta(e){var i=Sa(e)?"checked":"value",o=Object.getOwnPropertyDescriptor(e.constructor.prototype,i),c=""+e[i];if(!e.hasOwnProperty(i)&&typeof o!="undefined"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,j=o.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return d.call(this)},set:function(Z){c=""+Z,j.call(this,Z)}}),Object.defineProperty(e,i,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(Z){c=""+Z},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Ua(e){e._valueTracker||(e._valueTracker=Ta(e))}function Va(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var o=i.getValue(),c="";return e&&(c=Sa(e)?e.checked?"true":"false":e.value),e=c,e!==o?(i.setValue(e),!0):!1}function Wa(e){if(e=e||(typeof document!="undefined"?document:void 0),typeof e=="undefined")return null;try{return e.activeElement||e.body}catch{return e.body}}function Xa(e,i){var o=i.checked;return A({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o!=null?o:e._wrapperState.initialChecked})}function Ya(e,i){var o=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;o=Ra(i.value!=null?i.value:o),e._wrapperState={initialChecked:c,initialValue:o,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Za(e,i){i=i.checked,i!=null&&sa(e,"checked",i,!1)}function $a(e,i){Za(e,i);var o=Ra(i.value),c=i.type;if(o!=null)c==="number"?(o===0&&e.value===""||e.value!=o)&&(e.value=""+o):e.value!==""+o&&(e.value=""+o);else if(c==="submit"||c==="reset"){e.removeAttribute("value");return}i.hasOwnProperty("value")?bb(e,i.type,o):i.hasOwnProperty("defaultValue")&&bb(e,i.type,Ra(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(e.defaultChecked=!!i.defaultChecked)}function cb(e,i,o){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+e._wrapperState.initialValue,o||i===e.value||(e.value=i),e.defaultValue=i}o=e.name,o!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,o!==""&&(e.name=o)}function bb(e,i,o){(i!=="number"||Wa(e.ownerDocument)!==e)&&(o==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+o&&(e.defaultValue=""+o))}var db=Array.isArray;function eb(e,i,o,c){if(e=e.options,i){i={};for(var d=0;d<o.length;d++)i["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=i.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&c&&(e[o].defaultSelected=!0)}else{for(o=""+Ra(o),i=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,c&&(e[d].defaultSelected=!0);return}i!==null||e[d].disabled||(i=e[d])}i!==null&&(i.selected=!0)}}function fb(e,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$1(91));return A({},i,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function gb(e,i){var o=i.value;if(o==null){if(o=i.children,i=i.defaultValue,o!=null){if(i!=null)throw Error(p$1(92));if(db(o)){if(1<o.length)throw Error(p$1(93));o=o[0]}i=o}i==null&&(i=""),o=i}e._wrapperState={initialValue:Ra(o)}}function hb(e,i){var o=Ra(i.value),c=Ra(i.defaultValue);o!=null&&(o=""+o,o!==e.value&&(e.value=o),i.defaultValue==null&&e.defaultValue!==o&&(e.defaultValue=o)),c!=null&&(e.defaultValue=""+c)}function ib(e){var i=e.textContent;i===e._wrapperState.initialValue&&i!==""&&i!==null&&(e.value=i)}function jb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kb(e,i){return e==null||e==="http://www.w3.org/1999/xhtml"?jb(i):e==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var lb,mb=function(e){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(i,o,c,d){MSApp.execUnsafeLocalFunction(function(){return e(i,o,c,d)})}:e}(function(e,i){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=i;else{for(lb=lb||document.createElement("div"),lb.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=lb.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;i.firstChild;)e.appendChild(i.firstChild)}});function nb(e,i){if(i){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=i;return}}e.textContent=i}var ob={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pb=["Webkit","ms","Moz","O"];Object.keys(ob).forEach(function(e){pb.forEach(function(i){i=i+e.charAt(0).toUpperCase()+e.substring(1),ob[i]=ob[e]})});function qb(e,i,o){return i==null||typeof i=="boolean"||i===""?"":o||typeof i!="number"||i===0||ob.hasOwnProperty(e)&&ob[e]?(""+i).trim():i+"px"}function rb(e,i){e=e.style;for(var o in i)if(i.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=qb(o,i[o],c);o==="float"&&(o="cssFloat"),c?e.setProperty(o,d):e[o]=d}}var sb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tb(e,i){if(i){if(sb[e]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$1(137,e));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$1(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$1(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$1(62))}}function ub(e,i){if(e.indexOf("-")===-1)return typeof i.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vb=null;function wb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xb=null,yb=null,zb=null;function Ab(e){if(e=Bb(e)){if(typeof xb!="function")throw Error(p$1(280));var i=e.stateNode;i&&(i=Cb(i),xb(e.stateNode,e.type,i))}}function Db(e){yb?zb?zb.push(e):zb=[e]:yb=e}function Eb(){if(yb){var e=yb,i=zb;if(zb=yb=null,Ab(e),i)for(e=0;e<i.length;e++)Ab(i[e])}}function Fb(e,i){return e(i)}function Gb(){}var Hb=!1;function Ib(e,i,o){if(Hb)return e(i,o);Hb=!0;try{return Fb(e,i,o)}finally{Hb=!1,(yb!==null||zb!==null)&&(Gb(),Eb())}}function Jb(e,i){var o=e.stateNode;if(o===null)return null;var c=Cb(o);if(c===null)return null;o=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(e=e.type,c=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!c;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(p$1(231,i,typeof o));return o}var Kb=!1;if(ia)try{var Lb={};Object.defineProperty(Lb,"passive",{get:function(){Kb=!0}}),window.addEventListener("test",Lb,Lb),window.removeEventListener("test",Lb,Lb)}catch{Kb=!1}function Mb(e,i,o,c,d,j,Z,s,$){var et=Array.prototype.slice.call(arguments,3);try{i.apply(o,et)}catch(ut){this.onError(ut)}}var Nb=!1,Ob=null,Pb=!1,Qb=null,Rb={onError:function(e){Nb=!0,Ob=e}};function Sb(e,i,o,c,d,j,Z,s,$){Nb=!1,Ob=null,Mb.apply(Rb,arguments)}function Tb(e,i,o,c,d,j,Z,s,$){if(Sb.apply(this,arguments),Nb){if(Nb){var et=Ob;Nb=!1,Ob=null}else throw Error(p$1(198));Pb||(Pb=!0,Qb=et)}}function Ub(e){var i=e,o=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(o=i.return),e=i.return;while(e)}return i.tag===3?o:null}function Vb(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function Wb(e){if(Ub(e)!==e)throw Error(p$1(188))}function Xb(e){var i=e.alternate;if(!i){if(i=Ub(e),i===null)throw Error(p$1(188));return i!==e?null:e}for(var o=e,c=i;;){var d=o.return;if(d===null)break;var j=d.alternate;if(j===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===j.child){for(j=d.child;j;){if(j===o)return Wb(d),e;if(j===c)return Wb(d),i;j=j.sibling}throw Error(p$1(188))}if(o.return!==c.return)o=d,c=j;else{for(var Z=!1,s=d.child;s;){if(s===o){Z=!0,o=d,c=j;break}if(s===c){Z=!0,c=d,o=j;break}s=s.sibling}if(!Z){for(s=j.child;s;){if(s===o){Z=!0,o=j,c=d;break}if(s===c){Z=!0,c=j,o=d;break}s=s.sibling}if(!Z)throw Error(p$1(189))}}if(o.alternate!==c)throw Error(p$1(190))}if(o.tag!==3)throw Error(p$1(188));return o.stateNode.current===o?e:i}function Yb(e){return e=Xb(e),e!==null?Zb(e):null}function Zb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var i=Zb(e);if(i!==null)return i;e=e.sibling}return null}var $b=ba.unstable_scheduleCallback,ac=ba.unstable_cancelCallback,bc=ba.unstable_shouldYield,cc=ba.unstable_requestPaint,B=ba.unstable_now,dc=ba.unstable_getCurrentPriorityLevel,ec=ba.unstable_ImmediatePriority,fc=ba.unstable_UserBlockingPriority,gc=ba.unstable_NormalPriority,hc=ba.unstable_LowPriority,ic=ba.unstable_IdlePriority,jc=null,kc=null;function lc(e){if(kc&&typeof kc.onCommitFiberRoot=="function")try{kc.onCommitFiberRoot(jc,e,void 0,(e.current.flags&128)===128)}catch{}}var nc=Math.clz32?Math.clz32:mc,oc=Math.log,pc=Math.LN2;function mc(e){return e>>>=0,e===0?32:31-(oc(e)/pc|0)|0}var qc=64,rc=4194304;function sc(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tc(e,i){var o=e.pendingLanes;if(o===0)return 0;var c=0,d=e.suspendedLanes,j=e.pingedLanes,Z=o&268435455;if(Z!==0){var s=Z&~d;s!==0?c=sc(s):(j&=Z,j!==0&&(c=sc(j)))}else Z=o&~d,Z!==0?c=sc(Z):j!==0&&(c=sc(j));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,j=i&-i,d>=j||d===16&&(j&4194240)!==0))return i;if((c&4)!==0&&(c|=o&16),i=e.entangledLanes,i!==0)for(e=e.entanglements,i&=c;0<i;)o=31-nc(i),d=1<<o,c|=e[o],i&=~d;return c}function uc(e,i){switch(e){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vc(e,i){for(var o=e.suspendedLanes,c=e.pingedLanes,d=e.expirationTimes,j=e.pendingLanes;0<j;){var Z=31-nc(j),s=1<<Z,$=d[Z];$===-1?((s&o)===0||(s&c)!==0)&&(d[Z]=uc(s,i)):$<=i&&(e.expiredLanes|=s),j&=~s}}function wc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xc(){var e=qc;return qc<<=1,(qc&4194240)===0&&(qc=64),e}function yc(e){for(var i=[],o=0;31>o;o++)i.push(e);return i}function zc(e,i,o){e.pendingLanes|=i,i!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,i=31-nc(i),e[i]=o}function Ac(e,i){var o=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;var c=e.eventTimes;for(e=e.expirationTimes;0<o;){var d=31-nc(o),j=1<<d;i[d]=0,c[d]=-1,e[d]=-1,o&=~j}}function Bc(e,i){var o=e.entangledLanes|=i;for(e=e.entanglements;o;){var c=31-nc(o),d=1<<c;d&i|e[c]&i&&(e[c]|=i),o&=~d}}var C=0;function Cc(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var Dc,Ec,Fc,Gc,Hc,Ic=!1,Jc=[],Kc=null,Lc=null,Mc=null,Nc=new Map,Oc=new Map,Pc=[],Qc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rc(e,i){switch(e){case"focusin":case"focusout":Kc=null;break;case"dragenter":case"dragleave":Lc=null;break;case"mouseover":case"mouseout":Mc=null;break;case"pointerover":case"pointerout":Nc.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Oc.delete(i.pointerId)}}function Sc(e,i,o,c,d,j){return e===null||e.nativeEvent!==j?(e={blockedOn:i,domEventName:o,eventSystemFlags:c,nativeEvent:j,targetContainers:[d]},i!==null&&(i=Bb(i),i!==null&&Ec(i)),e):(e.eventSystemFlags|=c,i=e.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),e)}function Tc(e,i,o,c,d){switch(i){case"focusin":return Kc=Sc(Kc,e,i,o,c,d),!0;case"dragenter":return Lc=Sc(Lc,e,i,o,c,d),!0;case"mouseover":return Mc=Sc(Mc,e,i,o,c,d),!0;case"pointerover":var j=d.pointerId;return Nc.set(j,Sc(Nc.get(j)||null,e,i,o,c,d)),!0;case"gotpointercapture":return j=d.pointerId,Oc.set(j,Sc(Oc.get(j)||null,e,i,o,c,d)),!0}return!1}function Uc(e){var i=Vc(e.target);if(i!==null){var o=Ub(i);if(o!==null){if(i=o.tag,i===13){if(i=Vb(o),i!==null){e.blockedOn=i,Hc(e.priority,function(){Fc(o)});return}}else if(i===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var o=Xc(e.domEventName,e.eventSystemFlags,i[0],e.nativeEvent);if(o===null){o=e.nativeEvent;var c=new o.constructor(o.type,o);vb=c,o.target.dispatchEvent(c),vb=null}else return i=Bb(o),i!==null&&Ec(i),e.blockedOn=o,!1;i.shift()}return!0}function Yc(e,i,o){Wc(e)&&o.delete(i)}function Zc(){Ic=!1,Kc!==null&&Wc(Kc)&&(Kc=null),Lc!==null&&Wc(Lc)&&(Lc=null),Mc!==null&&Wc(Mc)&&(Mc=null),Nc.forEach(Yc),Oc.forEach(Yc)}function $c(e,i){e.blockedOn===i&&(e.blockedOn=null,Ic||(Ic=!0,ba.unstable_scheduleCallback(ba.unstable_NormalPriority,Zc)))}function ad(e){function i(d){return $c(d,e)}if(0<Jc.length){$c(Jc[0],e);for(var o=1;o<Jc.length;o++){var c=Jc[o];c.blockedOn===e&&(c.blockedOn=null)}}for(Kc!==null&&$c(Kc,e),Lc!==null&&$c(Lc,e),Mc!==null&&$c(Mc,e),Nc.forEach(i),Oc.forEach(i),o=0;o<Pc.length;o++)c=Pc[o],c.blockedOn===e&&(c.blockedOn=null);for(;0<Pc.length&&(o=Pc[0],o.blockedOn===null);)Uc(o),o.blockedOn===null&&Pc.shift()}var bd=ta.ReactCurrentBatchConfig,cd=!0;function dd(e,i,o,c){var d=C,j=bd.transition;bd.transition=null;try{C=1,ed(e,i,o,c)}finally{C=d,bd.transition=j}}function fd(e,i,o,c){var d=C,j=bd.transition;bd.transition=null;try{C=4,ed(e,i,o,c)}finally{C=d,bd.transition=j}}function ed(e,i,o,c){if(cd){var d=Xc(e,i,o,c);if(d===null)gd(e,i,c,hd,o),Rc(e,c);else if(Tc(d,e,i,o,c))c.stopPropagation();else if(Rc(e,c),i&4&&-1<Qc.indexOf(e)){for(;d!==null;){var j=Bb(d);if(j!==null&&Dc(j),j=Xc(e,i,o,c),j===null&&gd(e,i,c,hd,o),j===d)break;d=j}d!==null&&c.stopPropagation()}else gd(e,i,c,null,o)}}var hd=null;function Xc(e,i,o,c){if(hd=null,e=wb(c),e=Vc(e),e!==null)if(i=Ub(e),i===null)e=null;else if(o=i.tag,o===13){if(e=Vb(i),e!==null)return e;e=null}else if(o===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null);return hd=e,null}function id(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dc()){case ec:return 1;case fc:return 4;case gc:case hc:return 16;case ic:return 536870912;default:return 16}default:return 16}}var jd=null,kd=null,ld=null;function md(){if(ld)return ld;var e,i=kd,o=i.length,c,d="value"in jd?jd.value:jd.textContent,j=d.length;for(e=0;e<o&&i[e]===d[e];e++);var Z=o-e;for(c=1;c<=Z&&i[o-c]===d[j-c];c++);return ld=d.slice(e,1<c?1-c:void 0)}function nd(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function od(){return!0}function pd(){return!1}function qd(e){function i(o,c,d,j,Z){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=j,this.target=Z,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(o=e[s],this[s]=o?o(j):j[s]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?od:pd,this.isPropagationStopped=pd,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),i}var rd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=qd(rd),td=A({},rd,{view:0,detail:0}),ud=qd(td),vd,wd,xd,zd=A({},td,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xd&&(xd&&e.type==="mousemove"?(vd=e.screenX-xd.screenX,wd=e.screenY-xd.screenY):wd=vd=0,xd=e),vd)},movementY:function(e){return"movementY"in e?e.movementY:wd}}),Ad=qd(zd),Bd=A({},zd,{dataTransfer:0}),Cd=qd(Bd),Dd=A({},td,{relatedTarget:0}),Ed=qd(Dd),Fd=A({},rd,{animationName:0,elapsedTime:0,pseudoElement:0}),Gd=qd(Fd),Hd=A({},rd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Id=qd(Hd),Jd=A({},rd,{data:0}),Kd=qd(Jd),Ld={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Md={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Od(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Nd[e])?!!i[e]:!1}function yd(){return Od}var Pd=A({},td,{key:function(e){if(e.key){var i=Ld[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=nd(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Md[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yd,charCode:function(e){return e.type==="keypress"?nd(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?nd(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qd=qd(Pd),Rd=A({},zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sd=qd(Rd),Td=A({},td,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yd}),Ud=qd(Td),Vd=A({},rd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wd=qd(Vd),Xd=A({},zd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Yd=qd(Xd),Zd=[9,13,27,32],$d=ia&&"CompositionEvent"in window,ae=null;ia&&"documentMode"in document&&(ae=document.documentMode);var be=ia&&"TextEvent"in window&&!ae,ce=ia&&(!$d||ae&&8<ae&&11>=ae),de=String.fromCharCode(32),ee=!1;function fe(e,i){switch(e){case"keyup":return Zd.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var he=!1;function ie(e,i){switch(e){case"compositionend":return ge(i);case"keypress":return i.which!==32?null:(ee=!0,de);case"textInput":return e=i.data,e===de&&ee?null:e;default:return null}}function je(e,i){if(he)return e==="compositionend"||!$d&&fe(e,i)?(e=md(),ld=kd=jd=null,he=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return ce&&i.locale!=="ko"?null:i.data;default:return null}}var ke={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function le(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!ke[e.type]:i==="textarea"}function me(e,i,o,c){Db(c),i=ne(i,"onChange"),0<i.length&&(o=new sd("onChange","change",null,o,c),e.push({event:o,listeners:i}))}var oe=null,pe=null;function qe(e){re(e,0)}function se(e){var i=te(e);if(Va(i))return e}function ue(e,i){if(e==="change")return i}var ve=!1;if(ia){var we;if(ia){var xe="oninput"in document;if(!xe){var ye=document.createElement("div");ye.setAttribute("oninput","return;"),xe=typeof ye.oninput=="function"}we=xe}else we=!1;ve=we&&(!document.documentMode||9<document.documentMode)}function ze(){oe&&(oe.detachEvent("onpropertychange",Ae),pe=oe=null)}function Ae(e){if(e.propertyName==="value"&&se(pe)){var i=[];me(i,pe,e,wb(e)),Ib(qe,i)}}function Be(e,i,o){e==="focusin"?(ze(),oe=i,pe=o,oe.attachEvent("onpropertychange",Ae)):e==="focusout"&&ze()}function Ce(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return se(pe)}function De(e,i){if(e==="click")return se(i)}function Ee(e,i){if(e==="input"||e==="change")return se(i)}function Fe(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Ge=typeof Object.is=="function"?Object.is:Fe;function He(e,i){if(Ge(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var o=Object.keys(e),c=Object.keys(i);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!ja.call(i,d)||!Ge(e[d],i[d]))return!1}return!0}function Ie(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Je(e,i){var o=Ie(e);e=0;for(var c;o;){if(o.nodeType===3){if(c=e+o.textContent.length,e<=i&&c>=i)return{node:o,offset:i-e};e=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ie(o)}}function Ke(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Ke(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Le(){for(var e=window,i=Wa();i instanceof e.HTMLIFrameElement;){try{var o=typeof i.contentWindow.location.href=="string"}catch{o=!1}if(o)e=i.contentWindow;else break;i=Wa(e.document)}return i}function Me(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}function Ne(e){var i=Le(),o=e.focusedElem,c=e.selectionRange;if(i!==o&&o&&o.ownerDocument&&Ke(o.ownerDocument.documentElement,o)){if(c!==null&&Me(o)){if(i=c.start,e=c.end,e===void 0&&(e=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(e,o.value.length);else if(e=(i=o.ownerDocument||document)&&i.defaultView||window,e.getSelection){e=e.getSelection();var d=o.textContent.length,j=Math.min(c.start,d);c=c.end===void 0?j:Math.min(c.end,d),!e.extend&&j>c&&(d=c,c=j,j=d),d=Je(o,j);var Z=Je(o,c);d&&Z&&(e.rangeCount!==1||e.anchorNode!==d.node||e.anchorOffset!==d.offset||e.focusNode!==Z.node||e.focusOffset!==Z.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),e.removeAllRanges(),j>c?(e.addRange(i),e.extend(Z.node,Z.offset)):(i.setEnd(Z.node,Z.offset),e.addRange(i)))}}for(i=[],e=o;e=e.parentNode;)e.nodeType===1&&i.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)e=i[o],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Oe=ia&&"documentMode"in document&&11>=document.documentMode,Pe=null,Qe=null,Re=null,Se=!1;function Te(e,i,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Se||Pe==null||Pe!==Wa(c)||(c=Pe,"selectionStart"in c&&Me(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Re&&He(Re,c)||(Re=c,c=ne(Qe,"onSelect"),0<c.length&&(i=new sd("onSelect","select",null,i,o),e.push({event:i,listeners:c}),i.target=Pe)))}function Ue(e,i){var o={};return o[e.toLowerCase()]=i.toLowerCase(),o["Webkit"+e]="webkit"+i,o["Moz"+e]="moz"+i,o}var Ve={animationend:Ue("Animation","AnimationEnd"),animationiteration:Ue("Animation","AnimationIteration"),animationstart:Ue("Animation","AnimationStart"),transitionend:Ue("Transition","TransitionEnd")},We={},Xe={};ia&&(Xe=document.createElement("div").style,"AnimationEvent"in window||(delete Ve.animationend.animation,delete Ve.animationiteration.animation,delete Ve.animationstart.animation),"TransitionEvent"in window||delete Ve.transitionend.transition);function Ye(e){if(We[e])return We[e];if(!Ve[e])return e;var i=Ve[e],o;for(o in i)if(i.hasOwnProperty(o)&&o in Xe)return We[e]=i[o];return e}var Ze=Ye("animationend"),$e=Ye("animationiteration"),af=Ye("animationstart"),bf=Ye("transitionend"),cf=new Map,df="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ef(e,i){cf.set(e,i),fa(i,[e])}for(var ff=0;ff<df.length;ff++){var gf=df[ff],hf=gf.toLowerCase(),jf=gf[0].toUpperCase()+gf.slice(1);ef(hf,"on"+jf)}ef(Ze,"onAnimationEnd");ef($e,"onAnimationIteration");ef(af,"onAnimationStart");ef("dblclick","onDoubleClick");ef("focusin","onFocus");ef("focusout","onBlur");ef(bf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lf=new Set("cancel close invalid load scroll toggle".split(" ").concat(kf));function mf(e,i,o){var c=e.type||"unknown-event";e.currentTarget=o,Tb(c,i,void 0,e),e.currentTarget=null}function re(e,i){i=(i&4)!==0;for(var o=0;o<e.length;o++){var c=e[o],d=c.event;c=c.listeners;e:{var j=void 0;if(i)for(var Z=c.length-1;0<=Z;Z--){var s=c[Z],$=s.instance,et=s.currentTarget;if(s=s.listener,$!==j&&d.isPropagationStopped())break e;mf(d,s,et),j=$}else for(Z=0;Z<c.length;Z++){if(s=c[Z],$=s.instance,et=s.currentTarget,s=s.listener,$!==j&&d.isPropagationStopped())break e;mf(d,s,et),j=$}}}if(Pb)throw e=Qb,Pb=!1,Qb=null,e}function D(e,i){var o=i[nf];o===void 0&&(o=i[nf]=new Set);var c=e+"__bubble";o.has(c)||(of(i,e,2,!1),o.add(c))}function pf(e,i,o){var c=0;i&&(c|=4),of(o,e,c,i)}var qf="_reactListening"+Math.random().toString(36).slice(2);function rf(e){if(!e[qf]){e[qf]=!0,da.forEach(function(o){o!=="selectionchange"&&(lf.has(o)||pf(o,!1,e),pf(o,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[qf]||(i[qf]=!0,pf("selectionchange",!1,i))}}function of(e,i,o,c){switch(id(i)){case 1:var d=dd;break;case 4:d=fd;break;default:d=ed}o=d.bind(null,i,o,e),d=void 0,!Kb||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?e.addEventListener(i,o,{capture:!0,passive:d}):e.addEventListener(i,o,!0):d!==void 0?e.addEventListener(i,o,{passive:d}):e.addEventListener(i,o,!1)}function gd(e,i,o,c,d){var j=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var Z=c.tag;if(Z===3||Z===4){var s=c.stateNode.containerInfo;if(s===d||s.nodeType===8&&s.parentNode===d)break;if(Z===4)for(Z=c.return;Z!==null;){var $=Z.tag;if(($===3||$===4)&&($=Z.stateNode.containerInfo,$===d||$.nodeType===8&&$.parentNode===d))return;Z=Z.return}for(;s!==null;){if(Z=Vc(s),Z===null)return;if($=Z.tag,$===5||$===6){c=j=Z;continue e}s=s.parentNode}}c=c.return}Ib(function(){var et=j,ut=wb(o),gt=[];e:{var lt=cf.get(e);if(lt!==void 0){var ft=sd,ot=e;switch(e){case"keypress":if(nd(o)===0)break e;case"keydown":case"keyup":ft=Qd;break;case"focusin":ot="focus",ft=Ed;break;case"focusout":ot="blur",ft=Ed;break;case"beforeblur":case"afterblur":ft=Ed;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ft=Ad;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ft=Cd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ft=Ud;break;case Ze:case $e:case af:ft=Gd;break;case bf:ft=Wd;break;case"scroll":ft=ud;break;case"wheel":ft=Yd;break;case"copy":case"cut":case"paste":ft=Id;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ft=Sd}var yt=(i&4)!==0,wt=!yt&&e==="scroll",Rt=yt?lt!==null?lt+"Capture":null:lt;yt=[];for(var Mt=et,Tt;Mt!==null;){Tt=Mt;var Ct=Tt.stateNode;if(Tt.tag===5&&Ct!==null&&(Tt=Ct,Rt!==null&&(Ct=Jb(Mt,Rt),Ct!=null&&yt.push(sf(Mt,Ct,Tt)))),wt)break;Mt=Mt.return}0<yt.length&&(lt=new ft(lt,ot,null,o,ut),gt.push({event:lt,listeners:yt}))}}if((i&7)===0){e:{if(lt=e==="mouseover"||e==="pointerover",ft=e==="mouseout"||e==="pointerout",lt&&o!==vb&&(ot=o.relatedTarget||o.fromElement)&&(Vc(ot)||ot[tf]))break e;if((ft||lt)&&(lt=ut.window===ut?ut:(lt=ut.ownerDocument)?lt.defaultView||lt.parentWindow:window,ft?(ot=o.relatedTarget||o.toElement,ft=et,ot=ot?Vc(ot):null,ot!==null&&(wt=Ub(ot),ot!==wt||ot.tag!==5&&ot.tag!==6)&&(ot=null)):(ft=null,ot=et),ft!==ot)){if(yt=Ad,Ct="onMouseLeave",Rt="onMouseEnter",Mt="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Sd,Ct="onPointerLeave",Rt="onPointerEnter",Mt="pointer"),wt=ft==null?lt:te(ft),Tt=ot==null?lt:te(ot),lt=new yt(Ct,Mt+"leave",ft,o,ut),lt.target=wt,lt.relatedTarget=Tt,Ct=null,Vc(ut)===et&&(yt=new yt(Rt,Mt+"enter",ot,o,ut),yt.target=Tt,yt.relatedTarget=wt,Ct=yt),wt=Ct,ft&&ot)t:{for(yt=ft,Rt=ot,Mt=0,Tt=yt;Tt;Tt=uf(Tt))Mt++;for(Tt=0,Ct=Rt;Ct;Ct=uf(Ct))Tt++;for(;0<Mt-Tt;)yt=uf(yt),Mt--;for(;0<Tt-Mt;)Rt=uf(Rt),Tt--;for(;Mt--;){if(yt===Rt||Rt!==null&&yt===Rt.alternate)break t;yt=uf(yt),Rt=uf(Rt)}yt=null}else yt=null;ft!==null&&vf(gt,lt,ft,yt,!1),ot!==null&&wt!==null&&vf(gt,wt,ot,yt,!0)}}e:{if(lt=et?te(et):window,ft=lt.nodeName&&lt.nodeName.toLowerCase(),ft==="select"||ft==="input"&&lt.type==="file")var ct=ue;else if(le(lt))if(ve)ct=Ee;else{ct=Ce;var Lt=Be}else(ft=lt.nodeName)&&ft.toLowerCase()==="input"&&(lt.type==="checkbox"||lt.type==="radio")&&(ct=De);if(ct&&(ct=ct(e,et))){me(gt,ct,o,ut);break e}Lt&&Lt(e,lt,et),e==="focusout"&&(Lt=lt._wrapperState)&&Lt.controlled&&lt.type==="number"&&bb(lt,"number",lt.value)}switch(Lt=et?te(et):window,e){case"focusin":(le(Lt)||Lt.contentEditable==="true")&&(Pe=Lt,Qe=et,Re=null);break;case"focusout":Re=Qe=Pe=null;break;case"mousedown":Se=!0;break;case"contextmenu":case"mouseup":case"dragend":Se=!1,Te(gt,o,ut);break;case"selectionchange":if(Oe)break;case"keydown":case"keyup":Te(gt,o,ut)}var Kt;if($d)e:{switch(e){case"compositionstart":var Yt="onCompositionStart";break e;case"compositionend":Yt="onCompositionEnd";break e;case"compositionupdate":Yt="onCompositionUpdate";break e}Yt=void 0}else he?fe(e,o)&&(Yt="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(Yt="onCompositionStart");Yt&&(ce&&o.locale!=="ko"&&(he||Yt!=="onCompositionStart"?Yt==="onCompositionEnd"&&he&&(Kt=md()):(jd=ut,kd="value"in jd?jd.value:jd.textContent,he=!0)),Lt=ne(et,Yt),0<Lt.length&&(Yt=new Kd(Yt,e,null,o,ut),gt.push({event:Yt,listeners:Lt}),Kt?Yt.data=Kt:(Kt=ge(o),Kt!==null&&(Yt.data=Kt)))),(Kt=be?ie(e,o):je(e,o))&&(et=ne(et,"onBeforeInput"),0<et.length&&(ut=new Kd("onBeforeInput","beforeinput",null,o,ut),gt.push({event:ut,listeners:et}),ut.data=Kt))}re(gt,i)})}function sf(e,i,o){return{instance:e,listener:i,currentTarget:o}}function ne(e,i){for(var o=i+"Capture",c=[];e!==null;){var d=e,j=d.stateNode;d.tag===5&&j!==null&&(d=j,j=Jb(e,o),j!=null&&c.unshift(sf(e,j,d)),j=Jb(e,i),j!=null&&c.push(sf(e,j,d))),e=e.return}return c}function uf(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function vf(e,i,o,c,d){for(var j=i._reactName,Z=[];o!==null&&o!==c;){var s=o,$=s.alternate,et=s.stateNode;if($!==null&&$===c)break;s.tag===5&&et!==null&&(s=et,d?($=Jb(o,j),$!=null&&Z.unshift(sf(o,$,s))):d||($=Jb(o,j),$!=null&&Z.push(sf(o,$,s)))),o=o.return}Z.length!==0&&e.push({event:i,listeners:Z})}var wf=/\r\n?/g,xf=/\u0000|\uFFFD/g;function yf(e){return(typeof e=="string"?e:""+e).replace(wf,`
`).replace(xf,"")}function zf(e,i,o){if(i=yf(i),yf(e)!==i&&o)throw Error(p$1(425))}function Af(){}var Bf=null,Cf=null;function Df(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ef=typeof setTimeout=="function"?setTimeout:void 0,Ff=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,If=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf!="undefined"?function(e){return Gf.resolve(null).then(e).catch(Hf)}:Ef;function Hf(e){setTimeout(function(){throw e})}function Jf(e,i){var o=i,c=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){e.removeChild(d),ad(i);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);ad(i)}function Kf(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return e}function Lf(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"){if(i===0)return e;i--}else o==="/$"&&i++}e=e.previousSibling}return null}var Mf=Math.random().toString(36).slice(2),Nf="__reactFiber$"+Mf,Of="__reactProps$"+Mf,tf="__reactContainer$"+Mf,nf="__reactEvents$"+Mf,Pf="__reactListeners$"+Mf,Qf="__reactHandles$"+Mf;function Vc(e){var i=e[Nf];if(i)return i;for(var o=e.parentNode;o;){if(i=o[tf]||o[Nf]){if(o=i.alternate,i.child!==null||o!==null&&o.child!==null)for(e=Lf(e);e!==null;){if(o=e[Nf])return o;e=Lf(e)}return i}e=o,o=e.parentNode}return null}function Bb(e){return e=e[Nf]||e[tf],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function te(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(p$1(33))}function Cb(e){return e[Of]||null}var Rf=[],Sf=-1;function Tf(e){return{current:e}}function E(e){0>Sf||(e.current=Rf[Sf],Rf[Sf]=null,Sf--)}function G(e,i){Sf++,Rf[Sf]=e.current,e.current=i}var Uf={},H=Tf(Uf),Vf=Tf(!1),Wf=Uf;function Xf(e,i){var o=e.type.contextTypes;if(!o)return Uf;var c=e.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},j;for(j in o)d[j]=i[j];return c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=d),d}function Yf(e){return e=e.childContextTypes,e!=null}function Zf(){E(Vf),E(H)}function $f(e,i,o){if(H.current!==Uf)throw Error(p$1(168));G(H,i),G(Vf,o)}function ag(e,i,o){var c=e.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(p$1(108,Qa(e)||"Unknown",d));return A({},o,c)}function bg(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Uf,Wf=H.current,G(H,e),G(Vf,Vf.current),!0}function cg(e,i,o){var c=e.stateNode;if(!c)throw Error(p$1(169));o?(e=ag(e,i,Wf),c.__reactInternalMemoizedMergedChildContext=e,E(Vf),E(H),G(H,e)):E(Vf),G(Vf,o)}var dg=null,eg=!1,fg=!1;function gg(e){dg===null?dg=[e]:dg.push(e)}function hg(e){eg=!0,gg(e)}function ig(){if(!fg&&dg!==null){fg=!0;var e=0,i=C;try{var o=dg;for(C=1;e<o.length;e++){var c=o[e];do c=c(!0);while(c!==null)}dg=null,eg=!1}catch(d){throw dg!==null&&(dg=dg.slice(e+1)),$b(ec,ig),d}finally{C=i,fg=!1}}return null}var jg=ta.ReactCurrentBatchConfig;function kg(e,i){if(e&&e.defaultProps){i=A({},i),e=e.defaultProps;for(var o in e)i[o]===void 0&&(i[o]=e[o]);return i}return i}var lg=Tf(null),mg=null,ng=null,og=null;function pg(){og=ng=mg=null}function qg(e){var i=lg.current;E(lg),e._currentValue=i}function rg(e,i,o){for(;e!==null;){var c=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),e===o)break;e=e.return}}function sg(e,i){mg=e,og=ng=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&i)!==0&&(tg=!0),e.firstContext=null)}function ug(e){var i=e._currentValue;if(og!==e)if(e={context:e,memoizedValue:i,next:null},ng===null){if(mg===null)throw Error(p$1(308));ng=e,mg.dependencies={lanes:0,firstContext:e}}else ng=ng.next=e;return i}var vg=null,wg=!1;function xg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yg(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zg(e,i){return{eventTime:e,lane:i,tag:0,payload:null,callback:null,next:null}}function Ag(e,i){var o=e.updateQueue;o!==null&&(o=o.shared,Bg(e)?(e=o.interleaved,e===null?(i.next=i,vg===null?vg=[o]:vg.push(o)):(i.next=e.next,e.next=i),o.interleaved=i):(e=o.pending,e===null?i.next=i:(i.next=e.next,e.next=i),o.pending=i))}function Cg(e,i,o){if(i=i.updateQueue,i!==null&&(i=i.shared,(o&4194240)!==0)){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Bc(e,o)}}function Dg(e,i){var o=e.updateQueue,c=e.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,j=null;if(o=o.firstBaseUpdate,o!==null){do{var Z={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};j===null?d=j=Z:j=j.next=Z,o=o.next}while(o!==null);j===null?d=j=i:j=j.next=i}else d=j=i;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:j,shared:c.shared,effects:c.effects},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=i:e.next=i,o.lastBaseUpdate=i}function Eg(e,i,o,c){var d=e.updateQueue;wg=!1;var j=d.firstBaseUpdate,Z=d.lastBaseUpdate,s=d.shared.pending;if(s!==null){d.shared.pending=null;var $=s,et=$.next;$.next=null,Z===null?j=et:Z.next=et,Z=$;var ut=e.alternate;ut!==null&&(ut=ut.updateQueue,s=ut.lastBaseUpdate,s!==Z&&(s===null?ut.firstBaseUpdate=et:s.next=et,ut.lastBaseUpdate=$))}if(j!==null){var gt=d.baseState;Z=0,ut=et=$=null,s=j;do{var lt=s.lane,ft=s.eventTime;if((c&lt)===lt){ut!==null&&(ut=ut.next={eventTime:ft,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var ot=e,yt=s;switch(lt=i,ft=o,yt.tag){case 1:if(ot=yt.payload,typeof ot=="function"){gt=ot.call(ft,gt,lt);break e}gt=ot;break e;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=yt.payload,lt=typeof ot=="function"?ot.call(ft,gt,lt):ot,lt==null)break e;gt=A({},gt,lt);break e;case 2:wg=!0}}s.callback!==null&&s.lane!==0&&(e.flags|=64,lt=d.effects,lt===null?d.effects=[s]:lt.push(s))}else ft={eventTime:ft,lane:lt,tag:s.tag,payload:s.payload,callback:s.callback,next:null},ut===null?(et=ut=ft,$=gt):ut=ut.next=ft,Z|=lt;if(s=s.next,s===null){if(s=d.shared.pending,s===null)break;lt=s,s=lt.next,lt.next=null,d.lastBaseUpdate=lt,d.shared.pending=null}}while(1);if(ut===null&&($=gt),d.baseState=$,d.firstBaseUpdate=et,d.lastBaseUpdate=ut,i=d.shared.interleaved,i!==null){d=i;do Z|=d.lane,d=d.next;while(d!==i)}else j===null&&(d.shared.lanes=0);Fg|=Z,e.lanes=Z,e.memoizedState=gt}}function Gg(e,i,o){if(e=i.effects,i.effects=null,e!==null)for(i=0;i<e.length;i++){var c=e[i],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(p$1(191,d));d.call(c)}}}var Hg=new aa.Component().refs;function Ig(e,i,o,c){i=e.memoizedState,o=o(c,i),o=o==null?i:A({},i,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Mg={isMounted:function(e){return(e=e._reactInternals)?Ub(e)===e:!1},enqueueSetState:function(e,i,o){e=e._reactInternals;var c=Jg(),d=Kg(e),j=zg(c,d);j.payload=i,o!=null&&(j.callback=o),Ag(e,j),i=Lg(e,d,c),i!==null&&Cg(i,e,d)},enqueueReplaceState:function(e,i,o){e=e._reactInternals;var c=Jg(),d=Kg(e),j=zg(c,d);j.tag=1,j.payload=i,o!=null&&(j.callback=o),Ag(e,j),i=Lg(e,d,c),i!==null&&Cg(i,e,d)},enqueueForceUpdate:function(e,i){e=e._reactInternals;var o=Jg(),c=Kg(e),d=zg(o,c);d.tag=2,i!=null&&(d.callback=i),Ag(e,d),i=Lg(e,c,o),i!==null&&Cg(i,e,c)}};function Ng(e,i,o,c,d,j,Z){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(c,j,Z):i.prototype&&i.prototype.isPureReactComponent?!He(o,c)||!He(d,j):!0}function Og(e,i,o){var c=!1,d=Uf,j=i.contextType;return typeof j=="object"&&j!==null?j=ug(j):(d=Yf(i)?Wf:H.current,c=i.contextTypes,j=(c=c!=null)?Xf(e,d):Uf),i=new i(o,j),e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Mg,e.stateNode=i,i._reactInternals=e,c&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=d,e.__reactInternalMemoizedMaskedChildContext=j),i}function Pg(e,i,o,c){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(o,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(o,c),i.state!==e&&Mg.enqueueReplaceState(i,i.state,null)}function Qg(e,i,o,c){var d=e.stateNode;d.props=o,d.state=e.memoizedState,d.refs=Hg,xg(e);var j=i.contextType;typeof j=="object"&&j!==null?d.context=ug(j):(j=Yf(i)?Wf:H.current,d.context=Xf(e,j)),d.state=e.memoizedState,j=i.getDerivedStateFromProps,typeof j=="function"&&(Ig(e,i,j,o),d.state=e.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Mg.enqueueReplaceState(d,d.state,null),Eg(e,o,d,c),d.state=e.memoizedState),typeof d.componentDidMount=="function"&&(e.flags|=4194308)}var Rg=[],Sg=0,Tg=null,Ug=0,Vg=[],Wg=0,Xg=null,Yg=1,Zg="";function $g(e,i){Rg[Sg++]=Ug,Rg[Sg++]=Tg,Tg=e,Ug=i}function ah(e,i,o){Vg[Wg++]=Yg,Vg[Wg++]=Zg,Vg[Wg++]=Xg,Xg=e;var c=Yg;e=Zg;var d=32-nc(c)-1;c&=~(1<<d),o+=1;var j=32-nc(i)+d;if(30<j){var Z=d-d%5;j=(c&(1<<Z)-1).toString(32),c>>=Z,d-=Z,Yg=1<<32-nc(i)+d|o<<d|c,Zg=j+e}else Yg=1<<j|o<<d|c,Zg=e}function bh(e){e.return!==null&&($g(e,1),ah(e,1,0))}function ch(e){for(;e===Tg;)Tg=Rg[--Sg],Rg[Sg]=null,Ug=Rg[--Sg],Rg[Sg]=null;for(;e===Xg;)Xg=Vg[--Wg],Vg[Wg]=null,Zg=Vg[--Wg],Vg[Wg]=null,Yg=Vg[--Wg],Vg[Wg]=null}var dh=null,eh=null,I=!1,fh=null;function gh(e,i){var o=hh(5,null,null,0);o.elementType="DELETED",o.stateNode=i,o.return=e,i=e.deletions,i===null?(e.deletions=[o],e.flags|=16):i.push(o)}function ih(e,i){switch(e.tag){case 5:var o=e.type;return i=i.nodeType!==1||o.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(e.stateNode=i,dh=e,eh=Kf(i.firstChild),!0):!1;case 6:return i=e.pendingProps===""||i.nodeType!==3?null:i,i!==null?(e.stateNode=i,dh=e,eh=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(o=Xg!==null?{id:Yg,overflow:Zg}:null,e.memoizedState={dehydrated:i,treeContext:o,retryLane:1073741824},o=hh(18,null,null,0),o.stateNode=i,o.return=e,e.child=o,dh=e,eh=null,!0):!1;default:return!1}}function jh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kh(e){if(I){var i=eh;if(i){var o=i;if(!ih(e,i)){if(jh(e))throw Error(p$1(418));i=Kf(o.nextSibling);var c=dh;i&&ih(e,i)?gh(c,o):(e.flags=e.flags&-4097|2,I=!1,dh=e)}}else{if(jh(e))throw Error(p$1(418));e.flags=e.flags&-4097|2,I=!1,dh=e}}}function lh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;dh=e}function mh(e){if(e!==dh)return!1;if(!I)return lh(e),I=!0,!1;var i;if((i=e.tag!==3)&&!(i=e.tag!==5)&&(i=e.type,i=i!=="head"&&i!=="body"&&!Df(e.type,e.memoizedProps)),i&&(i=eh)){if(jh(e)){for(e=eh;e;)e=Kf(e.nextSibling);throw Error(p$1(418))}for(;i;)gh(e,i),i=Kf(i.nextSibling)}if(lh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p$1(317));e:{for(e=e.nextSibling,i=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"){if(i===0){eh=Kf(e.nextSibling);break e}i--}else o!=="$"&&o!=="$!"&&o!=="$?"||i++}e=e.nextSibling}eh=null}}else eh=dh?Kf(e.stateNode.nextSibling):null;return!0}function nh(){eh=dh=null,I=!1}function oh(e){fh===null?fh=[e]:fh.push(e)}function ph(e,i,o){if(e=o.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(p$1(309));var c=o.stateNode}if(!c)throw Error(p$1(147,e));var d=c,j=""+e;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===j?i.ref:(i=function(Z){var s=d.refs;s===Hg&&(s=d.refs={}),Z===null?delete s[j]:s[j]=Z},i._stringRef=j,i)}if(typeof e!="string")throw Error(p$1(284));if(!o._owner)throw Error(p$1(290,e))}return e}function qh(e,i){throw e=Object.prototype.toString.call(i),Error(p$1(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e))}function rh(e){var i=e._init;return i(e._payload)}function sh(e){function i(Rt,Mt){if(e){var Tt=Rt.deletions;Tt===null?(Rt.deletions=[Mt],Rt.flags|=16):Tt.push(Mt)}}function o(Rt,Mt){if(!e)return null;for(;Mt!==null;)i(Rt,Mt),Mt=Mt.sibling;return null}function c(Rt,Mt){for(Rt=new Map;Mt!==null;)Mt.key!==null?Rt.set(Mt.key,Mt):Rt.set(Mt.index,Mt),Mt=Mt.sibling;return Rt}function d(Rt,Mt){return Rt=th(Rt,Mt),Rt.index=0,Rt.sibling=null,Rt}function j(Rt,Mt,Tt){return Rt.index=Tt,e?(Tt=Rt.alternate,Tt!==null?(Tt=Tt.index,Tt<Mt?(Rt.flags|=2,Mt):Tt):(Rt.flags|=2,Mt)):(Rt.flags|=1048576,Mt)}function Z(Rt){return e&&Rt.alternate===null&&(Rt.flags|=2),Rt}function s(Rt,Mt,Tt,Ct){return Mt===null||Mt.tag!==6?(Mt=uh(Tt,Rt.mode,Ct),Mt.return=Rt,Mt):(Mt=d(Mt,Tt),Mt.return=Rt,Mt)}function $(Rt,Mt,Tt,Ct){var ct=Tt.type;return ct===wa?ut(Rt,Mt,Tt.props.children,Ct,Tt.key):Mt!==null&&(Mt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Ga&&rh(ct)===Mt.type)?(Ct=d(Mt,Tt.props),Ct.ref=ph(Rt,Mt,Tt),Ct.return=Rt,Ct):(Ct=vh(Tt.type,Tt.key,Tt.props,null,Rt.mode,Ct),Ct.ref=ph(Rt,Mt,Tt),Ct.return=Rt,Ct)}function et(Rt,Mt,Tt,Ct){return Mt===null||Mt.tag!==4||Mt.stateNode.containerInfo!==Tt.containerInfo||Mt.stateNode.implementation!==Tt.implementation?(Mt=wh(Tt,Rt.mode,Ct),Mt.return=Rt,Mt):(Mt=d(Mt,Tt.children||[]),Mt.return=Rt,Mt)}function ut(Rt,Mt,Tt,Ct,ct){return Mt===null||Mt.tag!==7?(Mt=xh(Tt,Rt.mode,Ct,ct),Mt.return=Rt,Mt):(Mt=d(Mt,Tt),Mt.return=Rt,Mt)}function gt(Rt,Mt,Tt){if(typeof Mt=="string"&&Mt!==""||typeof Mt=="number")return Mt=uh(""+Mt,Rt.mode,Tt),Mt.return=Rt,Mt;if(typeof Mt=="object"&&Mt!==null){switch(Mt.$$typeof){case ua:return Tt=vh(Mt.type,Mt.key,Mt.props,null,Rt.mode,Tt),Tt.ref=ph(Rt,null,Mt),Tt.return=Rt,Tt;case va:return Mt=wh(Mt,Rt.mode,Tt),Mt.return=Rt,Mt;case Ga:var Ct=Mt._init;return gt(Rt,Ct(Mt._payload),Tt)}if(db(Mt)||Ja(Mt))return Mt=xh(Mt,Rt.mode,Tt,null),Mt.return=Rt,Mt;qh(Rt,Mt)}return null}function lt(Rt,Mt,Tt,Ct){var ct=Mt!==null?Mt.key:null;if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return ct!==null?null:s(Rt,Mt,""+Tt,Ct);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case ua:return Tt.key===ct?$(Rt,Mt,Tt,Ct):null;case va:return Tt.key===ct?et(Rt,Mt,Tt,Ct):null;case Ga:return ct=Tt._init,lt(Rt,Mt,ct(Tt._payload),Ct)}if(db(Tt)||Ja(Tt))return ct!==null?null:ut(Rt,Mt,Tt,Ct,null);qh(Rt,Tt)}return null}function ft(Rt,Mt,Tt,Ct,ct){if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number")return Rt=Rt.get(Tt)||null,s(Mt,Rt,""+Ct,ct);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case ua:return Rt=Rt.get(Ct.key===null?Tt:Ct.key)||null,$(Mt,Rt,Ct,ct);case va:return Rt=Rt.get(Ct.key===null?Tt:Ct.key)||null,et(Mt,Rt,Ct,ct);case Ga:var Lt=Ct._init;return ft(Rt,Mt,Tt,Lt(Ct._payload),ct)}if(db(Ct)||Ja(Ct))return Rt=Rt.get(Tt)||null,ut(Mt,Rt,Ct,ct,null);qh(Mt,Ct)}return null}function ot(Rt,Mt,Tt,Ct){for(var ct=null,Lt=null,Kt=Mt,Yt=Mt=0,pt=null;Kt!==null&&Yt<Tt.length;Yt++){Kt.index>Yt?(pt=Kt,Kt=null):pt=Kt.sibling;var dt=lt(Rt,Kt,Tt[Yt],Ct);if(dt===null){Kt===null&&(Kt=pt);break}e&&Kt&&dt.alternate===null&&i(Rt,Kt),Mt=j(dt,Mt,Yt),Lt===null?ct=dt:Lt.sibling=dt,Lt=dt,Kt=pt}if(Yt===Tt.length)return o(Rt,Kt),I&&$g(Rt,Yt),ct;if(Kt===null){for(;Yt<Tt.length;Yt++)Kt=gt(Rt,Tt[Yt],Ct),Kt!==null&&(Mt=j(Kt,Mt,Yt),Lt===null?ct=Kt:Lt.sibling=Kt,Lt=Kt);return I&&$g(Rt,Yt),ct}for(Kt=c(Rt,Kt);Yt<Tt.length;Yt++)pt=ft(Kt,Rt,Yt,Tt[Yt],Ct),pt!==null&&(e&&pt.alternate!==null&&Kt.delete(pt.key===null?Yt:pt.key),Mt=j(pt,Mt,Yt),Lt===null?ct=pt:Lt.sibling=pt,Lt=pt);return e&&Kt.forEach(function(bt){return i(Rt,bt)}),I&&$g(Rt,Yt),ct}function yt(Rt,Mt,Tt,Ct){var ct=Ja(Tt);if(typeof ct!="function")throw Error(p$1(150));if(Tt=ct.call(Tt),Tt==null)throw Error(p$1(151));for(var Lt=ct=null,Kt=Mt,Yt=Mt=0,pt=null,dt=Tt.next();Kt!==null&&!dt.done;Yt++,dt=Tt.next()){Kt.index>Yt?(pt=Kt,Kt=null):pt=Kt.sibling;var bt=lt(Rt,Kt,dt.value,Ct);if(bt===null){Kt===null&&(Kt=pt);break}e&&Kt&&bt.alternate===null&&i(Rt,Kt),Mt=j(bt,Mt,Yt),Lt===null?ct=bt:Lt.sibling=bt,Lt=bt,Kt=pt}if(dt.done)return o(Rt,Kt),I&&$g(Rt,Yt),ct;if(Kt===null){for(;!dt.done;Yt++,dt=Tt.next())dt=gt(Rt,dt.value,Ct),dt!==null&&(Mt=j(dt,Mt,Yt),Lt===null?ct=dt:Lt.sibling=dt,Lt=dt);return I&&$g(Rt,Yt),ct}for(Kt=c(Rt,Kt);!dt.done;Yt++,dt=Tt.next())dt=ft(Kt,Rt,Yt,dt.value,Ct),dt!==null&&(e&&dt.alternate!==null&&Kt.delete(dt.key===null?Yt:dt.key),Mt=j(dt,Mt,Yt),Lt===null?ct=dt:Lt.sibling=dt,Lt=dt);return e&&Kt.forEach(function(mt){return i(Rt,mt)}),I&&$g(Rt,Yt),ct}function wt(Rt,Mt,Tt,Ct){if(typeof Tt=="object"&&Tt!==null&&Tt.type===wa&&Tt.key===null&&(Tt=Tt.props.children),typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case ua:e:{for(var ct=Tt.key,Lt=Mt;Lt!==null;){if(Lt.key===ct){if(ct=Tt.type,ct===wa){if(Lt.tag===7){o(Rt,Lt.sibling),Mt=d(Lt,Tt.props.children),Mt.return=Rt,Rt=Mt;break e}}else if(Lt.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===Ga&&rh(ct)===Lt.type){o(Rt,Lt.sibling),Mt=d(Lt,Tt.props),Mt.ref=ph(Rt,Lt,Tt),Mt.return=Rt,Rt=Mt;break e}o(Rt,Lt);break}else i(Rt,Lt);Lt=Lt.sibling}Tt.type===wa?(Mt=xh(Tt.props.children,Rt.mode,Ct,Tt.key),Mt.return=Rt,Rt=Mt):(Ct=vh(Tt.type,Tt.key,Tt.props,null,Rt.mode,Ct),Ct.ref=ph(Rt,Mt,Tt),Ct.return=Rt,Rt=Ct)}return Z(Rt);case va:e:{for(Lt=Tt.key;Mt!==null;){if(Mt.key===Lt)if(Mt.tag===4&&Mt.stateNode.containerInfo===Tt.containerInfo&&Mt.stateNode.implementation===Tt.implementation){o(Rt,Mt.sibling),Mt=d(Mt,Tt.children||[]),Mt.return=Rt,Rt=Mt;break e}else{o(Rt,Mt);break}else i(Rt,Mt);Mt=Mt.sibling}Mt=wh(Tt,Rt.mode,Ct),Mt.return=Rt,Rt=Mt}return Z(Rt);case Ga:return Lt=Tt._init,wt(Rt,Mt,Lt(Tt._payload),Ct)}if(db(Tt))return ot(Rt,Mt,Tt,Ct);if(Ja(Tt))return yt(Rt,Mt,Tt,Ct);qh(Rt,Tt)}return typeof Tt=="string"&&Tt!==""||typeof Tt=="number"?(Tt=""+Tt,Mt!==null&&Mt.tag===6?(o(Rt,Mt.sibling),Mt=d(Mt,Tt),Mt.return=Rt,Rt=Mt):(o(Rt,Mt),Mt=uh(Tt,Rt.mode,Ct),Mt.return=Rt,Rt=Mt),Z(Rt)):o(Rt,Mt)}return wt}var yh=sh(!0),zh=sh(!1),Ah={},Bh=Tf(Ah),Ch=Tf(Ah),Dh=Tf(Ah);function Eh(e){if(e===Ah)throw Error(p$1(174));return e}function Fh(e,i){switch(G(Dh,i),G(Ch,e),G(Bh,Ah),e=i.nodeType,e){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:kb(null,"");break;default:e=e===8?i.parentNode:i,i=e.namespaceURI||null,e=e.tagName,i=kb(i,e)}E(Bh),G(Bh,i)}function Gh(){E(Bh),E(Ch),E(Dh)}function Hh(e){Eh(Dh.current);var i=Eh(Bh.current),o=kb(i,e.type);i!==o&&(G(Ch,e),G(Bh,o))}function Ih(e){Ch.current===e&&(E(Bh),E(Ch))}var K=Tf(0);function Jh(e){for(var i=e;i!==null;){if(i.tag===13){var o=i.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Kh=[];function Lh(){for(var e=0;e<Kh.length;e++)Kh[e]._workInProgressVersionPrimary=null;Kh.length=0}var Mh=ta.ReactCurrentDispatcher,Nh=ta.ReactCurrentBatchConfig,Oh=0,L=null,M=null,N=null,Ph=!1,Qh=!1,Rh=0,Sh=0;function O(){throw Error(p$1(321))}function Th(e,i){if(i===null)return!1;for(var o=0;o<i.length&&o<e.length;o++)if(!Ge(e[o],i[o]))return!1;return!0}function Uh(e,i,o,c,d,j){if(Oh=j,L=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Mh.current=e===null||e.memoizedState===null?Vh:Wh,e=o(c,d),Qh){j=0;do{if(Qh=!1,Rh=0,25<=j)throw Error(p$1(301));j+=1,N=M=null,i.updateQueue=null,Mh.current=Xh,e=o(c,d)}while(Qh)}if(Mh.current=Yh,i=M!==null&&M.next!==null,Oh=0,N=M=L=null,Ph=!1,i)throw Error(p$1(300));return e}function Zh(){var e=Rh!==0;return Rh=0,e}function $h(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return N===null?L.memoizedState=N=e:N=N.next=e,N}function ai(){if(M===null){var e=L.alternate;e=e!==null?e.memoizedState:null}else e=M.next;var i=N===null?L.memoizedState:N.next;if(i!==null)N=i,M=e;else{if(e===null)throw Error(p$1(310));M=e,e={memoizedState:M.memoizedState,baseState:M.baseState,baseQueue:M.baseQueue,queue:M.queue,next:null},N===null?L.memoizedState=N=e:N=N.next=e}return N}function bi(e,i){return typeof i=="function"?i(e):i}function ci(e){var i=ai(),o=i.queue;if(o===null)throw Error(p$1(311));o.lastRenderedReducer=e;var c=M,d=c.baseQueue,j=o.pending;if(j!==null){if(d!==null){var Z=d.next;d.next=j.next,j.next=Z}c.baseQueue=d=j,o.pending=null}if(d!==null){j=d.next,c=c.baseState;var s=Z=null,$=null,et=j;do{var ut=et.lane;if((Oh&ut)===ut)$!==null&&($=$.next={lane:0,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null}),c=et.hasEagerState?et.eagerState:e(c,et.action);else{var gt={lane:ut,action:et.action,hasEagerState:et.hasEagerState,eagerState:et.eagerState,next:null};$===null?(s=$=gt,Z=c):$=$.next=gt,L.lanes|=ut,Fg|=ut}et=et.next}while(et!==null&&et!==j);$===null?Z=c:$.next=s,Ge(c,i.memoizedState)||(tg=!0),i.memoizedState=c,i.baseState=Z,i.baseQueue=$,o.lastRenderedState=c}if(e=o.interleaved,e!==null){d=e;do j=d.lane,L.lanes|=j,Fg|=j,d=d.next;while(d!==e)}else d===null&&(o.lanes=0);return[i.memoizedState,o.dispatch]}function di(e){var i=ai(),o=i.queue;if(o===null)throw Error(p$1(311));o.lastRenderedReducer=e;var c=o.dispatch,d=o.pending,j=i.memoizedState;if(d!==null){o.pending=null;var Z=d=d.next;do j=e(j,Z.action),Z=Z.next;while(Z!==d);Ge(j,i.memoizedState)||(tg=!0),i.memoizedState=j,i.baseQueue===null&&(i.baseState=j),o.lastRenderedState=j}return[j,c]}function ei(){}function fi(e,i){var o=L,c=ai(),d=i(),j=!Ge(c.memoizedState,d);if(j&&(c.memoizedState=d,tg=!0),c=c.queue,gi(hi.bind(null,o,c,e),[e]),c.getSnapshot!==i||j||N!==null&&N.memoizedState.tag&1){if(o.flags|=2048,ii(9,ji.bind(null,o,c,d,i),void 0,null),P===null)throw Error(p$1(349));(Oh&30)!==0||ki(o,i,d)}return d}function ki(e,i,o){e.flags|=16384,e={getSnapshot:i,value:o},i=L.updateQueue,i===null?(i={lastEffect:null,stores:null},L.updateQueue=i,i.stores=[e]):(o=i.stores,o===null?i.stores=[e]:o.push(e))}function ji(e,i,o,c){i.value=o,i.getSnapshot=c,li(i)&&Lg(e,1,-1)}function hi(e,i,o){return o(function(){li(i)&&Lg(e,1,-1)})}function li(e){var i=e.getSnapshot;e=e.value;try{var o=i();return!Ge(e,o)}catch{return!0}}function mi(e){var i=$h();return typeof e=="function"&&(e=e()),i.memoizedState=i.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},i.queue=e,e=e.dispatch=ni.bind(null,L,e),[i.memoizedState,e]}function ii(e,i,o,c){return e={tag:e,create:i,destroy:o,deps:c,next:null},i=L.updateQueue,i===null?(i={lastEffect:null,stores:null},L.updateQueue=i,i.lastEffect=e.next=e):(o=i.lastEffect,o===null?i.lastEffect=e.next=e:(c=o.next,o.next=e,e.next=c,i.lastEffect=e)),e}function oi(){return ai().memoizedState}function pi(e,i,o,c){var d=$h();L.flags|=e,d.memoizedState=ii(1|i,o,void 0,c===void 0?null:c)}function qi(e,i,o,c){var d=ai();c=c===void 0?null:c;var j=void 0;if(M!==null){var Z=M.memoizedState;if(j=Z.destroy,c!==null&&Th(c,Z.deps)){d.memoizedState=ii(i,o,j,c);return}}L.flags|=e,d.memoizedState=ii(1|i,o,j,c)}function ri(e,i){return pi(8390656,8,e,i)}function gi(e,i){return qi(2048,8,e,i)}function si(e,i){return qi(4,2,e,i)}function ti(e,i){return qi(4,4,e,i)}function ui(e,i){if(typeof i=="function")return e=e(),i(e),function(){i(null)};if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function vi(e,i,o){return o=o!=null?o.concat([e]):null,qi(4,4,ui.bind(null,i,e),o)}function wi(){}function xi(e,i){var o=ai();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&Th(i,c[1])?c[0]:(o.memoizedState=[e,i],e)}function yi(e,i){var o=ai();i=i===void 0?null:i;var c=o.memoizedState;return c!==null&&i!==null&&Th(i,c[1])?c[0]:(e=e(),o.memoizedState=[e,i],e)}function zi(e,i,o){return(Oh&21)===0?(e.baseState&&(e.baseState=!1,tg=!0),e.memoizedState=o):(Ge(o,i)||(o=xc(),L.lanes|=o,Fg|=o,e.baseState=!0),i)}function Ai(e,i){var o=C;C=o!==0&&4>o?o:4,e(!0);var c=Nh.transition;Nh.transition={};try{e(!1),i()}finally{C=o,Nh.transition=c}}function Bi(){return ai().memoizedState}function Ci(e,i,o){var c=Kg(e);o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Di(e)?Ei(i,o):(Fi(e,i,o),o=Jg(),e=Lg(e,c,o),e!==null&&Gi(e,i,c))}function ni(e,i,o){var c=Kg(e),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Di(e))Ei(i,d);else{Fi(e,i,d);var j=e.alternate;if(e.lanes===0&&(j===null||j.lanes===0)&&(j=i.lastRenderedReducer,j!==null))try{var Z=i.lastRenderedState,s=j(Z,o);if(d.hasEagerState=!0,d.eagerState=s,Ge(s,Z))return}catch{}finally{}o=Jg(),e=Lg(e,c,o),e!==null&&Gi(e,i,c)}}function Di(e){var i=e.alternate;return e===L||i!==null&&i===L}function Ei(e,i){Qh=Ph=!0;var o=e.pending;o===null?i.next=i:(i.next=o.next,o.next=i),e.pending=i}function Fi(e,i,o){Bg(e)?(e=i.interleaved,e===null?(o.next=o,vg===null?vg=[i]:vg.push(i)):(o.next=e.next,e.next=o),i.interleaved=o):(e=i.pending,e===null?o.next=o:(o.next=e.next,e.next=o),i.pending=o)}function Gi(e,i,o){if((o&4194240)!==0){var c=i.lanes;c&=e.pendingLanes,o|=c,i.lanes=o,Bc(e,o)}}var Yh={readContext:ug,useCallback:O,useContext:O,useEffect:O,useImperativeHandle:O,useInsertionEffect:O,useLayoutEffect:O,useMemo:O,useReducer:O,useRef:O,useState:O,useDebugValue:O,useDeferredValue:O,useTransition:O,useMutableSource:O,useSyncExternalStore:O,useId:O,unstable_isNewReconciler:!1},Vh={readContext:ug,useCallback:function(e,i){return $h().memoizedState=[e,i===void 0?null:i],e},useContext:ug,useEffect:ri,useImperativeHandle:function(e,i,o){return o=o!=null?o.concat([e]):null,pi(4194308,4,ui.bind(null,i,e),o)},useLayoutEffect:function(e,i){return pi(4194308,4,e,i)},useInsertionEffect:function(e,i){return pi(4,2,e,i)},useMemo:function(e,i){var o=$h();return i=i===void 0?null:i,e=e(),o.memoizedState=[e,i],e},useReducer:function(e,i,o){var c=$h();return i=o!==void 0?o(i):i,c.memoizedState=c.baseState=i,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},c.queue=e,e=e.dispatch=Ci.bind(null,L,e),[c.memoizedState,e]},useRef:function(e){var i=$h();return e={current:e},i.memoizedState=e},useState:mi,useDebugValue:wi,useDeferredValue:function(e){return $h().memoizedState=e},useTransition:function(){var e=mi(!1),i=e[0];return e=Ai.bind(null,e[1]),$h().memoizedState=e,[i,e]},useMutableSource:function(){},useSyncExternalStore:function(e,i,o){var c=L,d=$h();if(I){if(o===void 0)throw Error(p$1(407));o=o()}else{if(o=i(),P===null)throw Error(p$1(349));(Oh&30)!==0||ki(c,i,o)}d.memoizedState=o;var j={value:o,getSnapshot:i};return d.queue=j,ri(hi.bind(null,c,j,e),[e]),c.flags|=2048,ii(9,ji.bind(null,c,j,o,i),void 0,null),o},useId:function(){var e=$h(),i=P.identifierPrefix;if(I){var o=Zg,c=Yg;o=(c&~(1<<32-nc(c)-1)).toString(32)+o,i=":"+i+"R"+o,o=Rh++,0<o&&(i+="H"+o.toString(32)),i+=":"}else o=Sh++,i=":"+i+"r"+o.toString(32)+":";return e.memoizedState=i},unstable_isNewReconciler:!1},Wh={readContext:ug,useCallback:xi,useContext:ug,useEffect:gi,useImperativeHandle:vi,useInsertionEffect:si,useLayoutEffect:ti,useMemo:yi,useReducer:ci,useRef:oi,useState:function(){return ci(bi)},useDebugValue:wi,useDeferredValue:function(e){var i=ai();return zi(i,M.memoizedState,e)},useTransition:function(){var e=ci(bi)[0],i=ai().memoizedState;return[e,i]},useMutableSource:ei,useSyncExternalStore:fi,useId:Bi,unstable_isNewReconciler:!1},Xh={readContext:ug,useCallback:xi,useContext:ug,useEffect:gi,useImperativeHandle:vi,useInsertionEffect:si,useLayoutEffect:ti,useMemo:yi,useReducer:di,useRef:oi,useState:function(){return di(bi)},useDebugValue:wi,useDeferredValue:function(e){var i=ai();return M===null?i.memoizedState=e:zi(i,M.memoizedState,e)},useTransition:function(){var e=di(bi)[0],i=ai().memoizedState;return[e,i]},useMutableSource:ei,useSyncExternalStore:fi,useId:Bi,unstable_isNewReconciler:!1};function Hi(e,i){try{var o="",c=i;do o+=Oa(c),c=c.return;while(c);var d=o}catch(j){d=`
Error generating stack: `+j.message+`
`+j.stack}return{value:e,source:i,stack:d}}function Ii(e,i){try{console.error(i.value)}catch(o){setTimeout(function(){throw o})}}var Ji=typeof WeakMap=="function"?WeakMap:Map;function Ki(e,i,o){o=zg(-1,o),o.tag=3,o.payload={element:null};var c=i.value;return o.callback=function(){Li||(Li=!0,Mi=c),Ii(e,i)},o}function Ni(e,i,o){o=zg(-1,o),o.tag=3;var c=e.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;o.payload=function(){return c(d)},o.callback=function(){Ii(e,i)}}var j=e.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(o.callback=function(){Ii(e,i),typeof c!="function"&&(Oi===null?Oi=new Set([this]):Oi.add(this));var Z=i.stack;this.componentDidCatch(i.value,{componentStack:Z!==null?Z:""})}),o}function Pi(e,i,o){var c=e.pingCache;if(c===null){c=e.pingCache=new Ji;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(o)||(d.add(o),e=Qi.bind(null,e,i,o),i.then(e,e))}function Ri(e){do{var i;if((i=e.tag===13)&&(i=e.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return e;e=e.return}while(e!==null);return null}function Si(e,i,o,c,d){return(e.mode&1)===0?(e===i?e.flags|=65536:(e.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(i=zg(-1,1),i.tag=2,Ag(o,i))),o.lanes|=1),e):(e.flags|=65536,e.lanes=d,e)}var Ti,Ui,Vi,Wi;Ti=function(e,i){for(var o=i.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return;o=o.return}o.sibling.return=o.return,o=o.sibling}};Ui=function(){};Vi=function(e,i,o,c){var d=e.memoizedProps;if(d!==c){e=i.stateNode,Eh(Bh.current);var j=null;switch(o){case"input":d=Xa(e,d),c=Xa(e,c),j=[];break;case"select":d=A({},d,{value:void 0}),c=A({},c,{value:void 0}),j=[];break;case"textarea":d=fb(e,d),c=fb(e,c),j=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(e.onclick=Af)}tb(o,c);var Z;o=null;for(et in d)if(!c.hasOwnProperty(et)&&d.hasOwnProperty(et)&&d[et]!=null)if(et==="style"){var s=d[et];for(Z in s)s.hasOwnProperty(Z)&&(o||(o={}),o[Z]="")}else et!=="dangerouslySetInnerHTML"&&et!=="children"&&et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&et!=="autoFocus"&&(ea.hasOwnProperty(et)?j||(j=[]):(j=j||[]).push(et,null));for(et in c){var $=c[et];if(s=d!=null?d[et]:void 0,c.hasOwnProperty(et)&&$!==s&&($!=null||s!=null))if(et==="style")if(s){for(Z in s)!s.hasOwnProperty(Z)||$&&$.hasOwnProperty(Z)||(o||(o={}),o[Z]="");for(Z in $)$.hasOwnProperty(Z)&&s[Z]!==$[Z]&&(o||(o={}),o[Z]=$[Z])}else o||(j||(j=[]),j.push(et,o)),o=$;else et==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,s=s?s.__html:void 0,$!=null&&s!==$&&(j=j||[]).push(et,$)):et==="children"?typeof $!="string"&&typeof $!="number"||(j=j||[]).push(et,""+$):et!=="suppressContentEditableWarning"&&et!=="suppressHydrationWarning"&&(ea.hasOwnProperty(et)?($!=null&&et==="onScroll"&&D("scroll",e),j||s===$||(j=[])):(j=j||[]).push(et,$))}o&&(j=j||[]).push("style",o);var et=j;(i.updateQueue=et)&&(i.flags|=4)}};Wi=function(e,i,o,c){o!==c&&(i.flags|=4)};function Xi(e,i){if(!I)switch(e.tailMode){case"hidden":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:c.sibling=null}}function Q(e){var i=e.alternate!==null&&e.alternate.child===e.child,o=0,c=0;if(i)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=c,e.childLanes=o,i}function Yi(e,i,o){var c=i.pendingProps;switch(ch(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Q(i),null;case 1:return Yf(i.type)&&Zf(),Q(i),null;case 3:return c=i.stateNode,Gh(),E(Vf),E(H),Lh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(e===null||e.child===null)&&(mh(i)?i.flags|=4:e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,fh!==null&&(Zi(fh),fh=null))),Ui(e,i),Q(i),null;case 5:Ih(i);var d=Eh(Dh.current);if(o=i.type,e!==null&&i.stateNode!=null)Vi(e,i,o,c,d),e.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(p$1(166));return Q(i),null}if(e=Eh(Bh.current),mh(i)){c=i.stateNode,o=i.type;var j=i.memoizedProps;switch(c[Nf]=i,c[Of]=j,e=(i.mode&1)!==0,o){case"dialog":D("cancel",c),D("close",c);break;case"iframe":case"object":case"embed":D("load",c);break;case"video":case"audio":for(d=0;d<kf.length;d++)D(kf[d],c);break;case"source":D("error",c);break;case"img":case"image":case"link":D("error",c),D("load",c);break;case"details":D("toggle",c);break;case"input":Ya(c,j),D("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!j.multiple},D("invalid",c);break;case"textarea":gb(c,j),D("invalid",c)}tb(o,j),d=null;for(var Z in j)if(j.hasOwnProperty(Z)){var s=j[Z];Z==="children"?typeof s=="string"?c.textContent!==s&&(j.suppressHydrationWarning!==!0&&zf(c.textContent,s,e),d=["children",s]):typeof s=="number"&&c.textContent!==""+s&&(j.suppressHydrationWarning!==!0&&zf(c.textContent,s,e),d=["children",""+s]):ea.hasOwnProperty(Z)&&s!=null&&Z==="onScroll"&&D("scroll",c)}switch(o){case"input":Ua(c),cb(c,j,!0);break;case"textarea":Ua(c),ib(c);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(c.onclick=Af)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{Z=d.nodeType===9?d:d.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jb(o)),e==="http://www.w3.org/1999/xhtml"?o==="script"?(e=Z.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof c.is=="string"?e=Z.createElement(o,{is:c.is}):(e=Z.createElement(o),o==="select"&&(Z=e,c.multiple?Z.multiple=!0:c.size&&(Z.size=c.size))):e=Z.createElementNS(e,o),e[Nf]=i,e[Of]=c,Ti(e,i,!1,!1),i.stateNode=e;e:{switch(Z=ub(o,c),o){case"dialog":D("cancel",e),D("close",e),d=c;break;case"iframe":case"object":case"embed":D("load",e),d=c;break;case"video":case"audio":for(d=0;d<kf.length;d++)D(kf[d],e);d=c;break;case"source":D("error",e),d=c;break;case"img":case"image":case"link":D("error",e),D("load",e),d=c;break;case"details":D("toggle",e),d=c;break;case"input":Ya(e,c),d=Xa(e,c),D("invalid",e);break;case"option":d=c;break;case"select":e._wrapperState={wasMultiple:!!c.multiple},d=A({},c,{value:void 0}),D("invalid",e);break;case"textarea":gb(e,c),d=fb(e,c),D("invalid",e);break;default:d=c}tb(o,d),s=d;for(j in s)if(s.hasOwnProperty(j)){var $=s[j];j==="style"?rb(e,$):j==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&mb(e,$)):j==="children"?typeof $=="string"?(o!=="textarea"||$!=="")&&nb(e,$):typeof $=="number"&&nb(e,""+$):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(ea.hasOwnProperty(j)?$!=null&&j==="onScroll"&&D("scroll",e):$!=null&&sa(e,j,$,Z))}switch(o){case"input":Ua(e),cb(e,c,!1);break;case"textarea":Ua(e),ib(e);break;case"option":c.value!=null&&e.setAttribute("value",""+Ra(c.value));break;case"select":e.multiple=!!c.multiple,j=c.value,j!=null?eb(e,!!c.multiple,j,!1):c.defaultValue!=null&&eb(e,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(e.onclick=Af)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Q(i),null;case 6:if(e&&i.stateNode!=null)Wi(e,i,e.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(p$1(166));if(o=Eh(Dh.current),Eh(Bh.current),mh(i)){if(c=i.stateNode,o=i.memoizedProps,c[Nf]=i,(j=c.nodeValue!==o)&&(e=dh,e!==null))switch(e.tag){case 3:zf(c.nodeValue,o,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zf(c.nodeValue,o,(e.mode&1)!==0)}j&&(i.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[Nf]=i,i.stateNode=c}return Q(i),null;case 13:if(E(K),c=i.memoizedState,I&&eh!==null&&(i.mode&1)!==0&&(i.flags&128)===0){for(c=eh;c;)c=Kf(c.nextSibling);return nh(),i.flags|=98560,i}if(c!==null&&c.dehydrated!==null){if(c=mh(i),e===null){if(!c)throw Error(p$1(318));if(c=i.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p$1(317));c[Nf]=i}else nh(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;return Q(i),null}return fh!==null&&(Zi(fh),fh=null),(i.flags&128)!==0?(i.lanes=o,i):(c=c!==null,o=!1,e===null?mh(i):o=e.memoizedState!==null,c!==o&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(e===null||(K.current&1)!==0?R===0&&(R=3):$i())),i.updateQueue!==null&&(i.flags|=4),Q(i),null);case 4:return Gh(),Ui(e,i),e===null&&rf(i.stateNode.containerInfo),Q(i),null;case 10:return qg(i.type._context),Q(i),null;case 17:return Yf(i.type)&&Zf(),Q(i),null;case 19:if(E(K),j=i.memoizedState,j===null)return Q(i),null;if(c=(i.flags&128)!==0,Z=j.rendering,Z===null)if(c)Xi(j,!1);else{if(R!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(Z=Jh(e),Z!==null){for(i.flags|=128,Xi(j,!1),c=Z.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=o,o=i.child;o!==null;)j=o,e=c,j.flags&=14680066,Z=j.alternate,Z===null?(j.childLanes=0,j.lanes=e,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=Z.childLanes,j.lanes=Z.lanes,j.child=Z.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=Z.memoizedProps,j.memoizedState=Z.memoizedState,j.updateQueue=Z.updateQueue,j.type=Z.type,e=Z.dependencies,j.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),o=o.sibling;return G(K,K.current&1|2),i.child}e=e.sibling}j.tail!==null&&B()>aj&&(i.flags|=128,c=!0,Xi(j,!1),i.lanes=4194304)}else{if(!c)if(e=Jh(Z),e!==null){if(i.flags|=128,c=!0,o=e.updateQueue,o!==null&&(i.updateQueue=o,i.flags|=4),Xi(j,!0),j.tail===null&&j.tailMode==="hidden"&&!Z.alternate&&!I)return Q(i),null}else 2*B()-j.renderingStartTime>aj&&o!==1073741824&&(i.flags|=128,c=!0,Xi(j,!1),i.lanes=4194304);j.isBackwards?(Z.sibling=i.child,i.child=Z):(o=j.last,o!==null?o.sibling=Z:i.child=Z,j.last=Z)}return j.tail!==null?(i=j.tail,j.rendering=i,j.tail=i.sibling,j.renderingStartTime=B(),i.sibling=null,o=K.current,G(K,c?o&1|2:o&1),i):(Q(i),null);case 22:case 23:return bj(),c=i.memoizedState!==null,e!==null&&e.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(cj&1073741824)!==0&&(Q(i),i.subtreeFlags&6&&(i.flags|=8192)):Q(i),null;case 24:return null;case 25:return null}throw Error(p$1(156,i.tag))}var dj=ta.ReactCurrentOwner,tg=!1;function ej(e,i,o,c){i.child=e===null?zh(i,null,o,c):yh(i,e.child,o,c)}function fj(e,i,o,c,d){o=o.render;var j=i.ref;return sg(i,d),c=Uh(e,i,o,c,j,d),o=Zh(),e!==null&&!tg?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~d,gj(e,i,d)):(I&&o&&bh(i),i.flags|=1,ej(e,i,c,d),i.child)}function hj(e,i,o,c,d){if(e===null){var j=o.type;return typeof j=="function"&&!ij(j)&&j.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(i.tag=15,i.type=j,jj(e,i,j,c,d)):(e=vh(o.type,null,c,i,i.mode,d),e.ref=i.ref,e.return=i,i.child=e)}if(j=e.child,(e.lanes&d)===0){var Z=j.memoizedProps;if(o=o.compare,o=o!==null?o:He,o(Z,c)&&e.ref===i.ref)return gj(e,i,d)}return i.flags|=1,e=th(j,c),e.ref=i.ref,e.return=i,i.child=e}function jj(e,i,o,c,d){if(e!==null){var j=e.memoizedProps;if(He(j,c)&&e.ref===i.ref)if(tg=!1,i.pendingProps=c=j,(e.lanes&d)!==0)(e.flags&131072)!==0&&(tg=!0);else return i.lanes=e.lanes,gj(e,i,d)}return kj(e,i,o,c,d)}function lj(e,i,o){var c=i.pendingProps,d=c.children,j=e!==null?e.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(mj,cj),cj|=o;else if((o&1073741824)!==0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=j!==null?j.baseLanes:o,G(mj,cj),cj|=c;else return e=j!==null?j.baseLanes|o:o,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:e,cachePool:null,transitions:null},i.updateQueue=null,G(mj,cj),cj|=e,null;else j!==null?(c=j.baseLanes|o,i.memoizedState=null):c=o,G(mj,cj),cj|=c;return ej(e,i,d,o),i.child}function nj(e,i){var o=i.ref;(e===null&&o!==null||e!==null&&e.ref!==o)&&(i.flags|=512,i.flags|=2097152)}function kj(e,i,o,c,d){var j=Yf(o)?Wf:H.current;return j=Xf(i,j),sg(i,d),o=Uh(e,i,o,c,j,d),c=Zh(),e!==null&&!tg?(i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~d,gj(e,i,d)):(I&&c&&bh(i),i.flags|=1,ej(e,i,o,d),i.child)}function oj(e,i,o,c,d){if(Yf(o)){var j=!0;bg(i)}else j=!1;if(sg(i,d),i.stateNode===null)e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2),Og(i,o,c),Qg(i,o,c,d),c=!0;else if(e===null){var Z=i.stateNode,s=i.memoizedProps;Z.props=s;var $=Z.context,et=o.contextType;typeof et=="object"&&et!==null?et=ug(et):(et=Yf(o)?Wf:H.current,et=Xf(i,et));var ut=o.getDerivedStateFromProps,gt=typeof ut=="function"||typeof Z.getSnapshotBeforeUpdate=="function";gt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(s!==c||$!==et)&&Pg(i,Z,c,et),wg=!1;var lt=i.memoizedState;Z.state=lt,Eg(i,c,Z,d),$=i.memoizedState,s!==c||lt!==$||Vf.current||wg?(typeof ut=="function"&&(Ig(i,o,ut,c),$=i.memoizedState),(s=wg||Ng(i,o,s,c,lt,$,et))?(gt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(i.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=$),Z.props=c,Z.state=$,Z.context=et,c=s):(typeof Z.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{Z=i.stateNode,yg(e,i),s=i.memoizedProps,et=i.type===i.elementType?s:kg(i.type,s),Z.props=et,gt=i.pendingProps,lt=Z.context,$=o.contextType,typeof $=="object"&&$!==null?$=ug($):($=Yf(o)?Wf:H.current,$=Xf(i,$));var ft=o.getDerivedStateFromProps;(ut=typeof ft=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(s!==gt||lt!==$)&&Pg(i,Z,c,$),wg=!1,lt=i.memoizedState,Z.state=lt,Eg(i,c,Z,d);var ot=i.memoizedState;s!==gt||lt!==ot||Vf.current||wg?(typeof ft=="function"&&(Ig(i,o,ft,c),ot=i.memoizedState),(et=wg||Ng(i,o,et,c,lt,ot,$)||!1)?(ut||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(c,ot,$),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(c,ot,$)),typeof Z.componentDidUpdate=="function"&&(i.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof Z.componentDidUpdate!="function"||s===e.memoizedProps&&lt===e.memoizedState||(i.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&lt===e.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=ot),Z.props=c,Z.state=ot,Z.context=$,c=et):(typeof Z.componentDidUpdate!="function"||s===e.memoizedProps&&lt===e.memoizedState||(i.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||s===e.memoizedProps&&lt===e.memoizedState||(i.flags|=1024),c=!1)}return pj(e,i,o,c,j,d)}function pj(e,i,o,c,d,j){nj(e,i);var Z=(i.flags&128)!==0;if(!c&&!Z)return d&&cg(i,o,!1),gj(e,i,j);c=i.stateNode,dj.current=i;var s=Z&&typeof o.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,e!==null&&Z?(i.child=yh(i,e.child,null,j),i.child=yh(i,null,s,j)):ej(e,i,s,j),i.memoizedState=c.state,d&&cg(i,o,!0),i.child}function qj(e){var i=e.stateNode;i.pendingContext?$f(e,i.pendingContext,i.pendingContext!==i.context):i.context&&$f(e,i.context,!1),Fh(e,i.containerInfo)}function rj(e,i,o,c,d){return nh(),oh(d),i.flags|=256,ej(e,i,o,c),i.child}var sj={dehydrated:null,treeContext:null,retryLane:0};function tj(e){return{baseLanes:e,cachePool:null,transitions:null}}function uj(e,i){return{baseLanes:e.baseLanes|i,cachePool:null,transitions:e.transitions}}function vj(e,i,o){var c=i.pendingProps,d=K.current,j=!1,Z=(i.flags&128)!==0,s;if((s=Z)||(s=e!==null&&e.memoizedState===null?!1:(d&2)!==0),s?(j=!0,i.flags&=-129):(e===null||e.memoizedState!==null)&&(d|=1),G(K,d&1),e===null)return kh(i),e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((i.mode&1)===0?i.lanes=1:e.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(d=c.children,e=c.fallback,j?(c=i.mode,j=i.child,d={mode:"hidden",children:d},(c&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=d):j=wj(d,c,0,null),e=xh(e,c,o,null),j.return=i,e.return=i,j.sibling=e,i.child=j,i.child.memoizedState=tj(o),i.memoizedState=sj,e):xj(i,d));if(d=e.memoizedState,d!==null){if(s=d.dehydrated,s!==null){if(Z)return i.flags&256?(i.flags&=-257,yj(e,i,o,Error(p$1(422)))):i.memoizedState!==null?(i.child=e.child,i.flags|=128,null):(j=c.fallback,d=i.mode,c=wj({mode:"visible",children:c.children},d,0,null),j=xh(j,d,o,null),j.flags|=2,c.return=i,j.return=i,c.sibling=j,i.child=c,(i.mode&1)!==0&&yh(i,e.child,null,o),i.child.memoizedState=tj(o),i.memoizedState=sj,j);if((i.mode&1)===0)i=yj(e,i,o,null);else if(s.data==="$!")i=yj(e,i,o,Error(p$1(419)));else if(c=(o&e.childLanes)!==0,tg||c){if(c=P,c!==null){switch(o&-o){case 4:j=2;break;case 16:j=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:j=32;break;case 536870912:j=268435456;break;default:j=0}c=(j&(c.suspendedLanes|o))!==0?0:j,c!==0&&c!==d.retryLane&&(d.retryLane=c,Lg(e,c,-1))}$i(),i=yj(e,i,o,Error(p$1(421)))}else s.data==="$?"?(i.flags|=128,i.child=e.child,i=zj.bind(null,e),s._reactRetry=i,i=null):(o=d.treeContext,eh=Kf(s.nextSibling),dh=i,I=!0,fh=null,o!==null&&(Vg[Wg++]=Yg,Vg[Wg++]=Zg,Vg[Wg++]=Xg,Yg=o.id,Zg=o.overflow,Xg=i),i=xj(i,i.pendingProps.children),i.flags|=4096);return i}return j?(c=Aj(e,i,c.children,c.fallback,o),j=i.child,d=e.child.memoizedState,j.memoizedState=d===null?tj(o):uj(d,o),j.childLanes=e.childLanes&~o,i.memoizedState=sj,c):(o=Bj(e,i,c.children,o),i.memoizedState=null,o)}return j?(c=Aj(e,i,c.children,c.fallback,o),j=i.child,d=e.child.memoizedState,j.memoizedState=d===null?tj(o):uj(d,o),j.childLanes=e.childLanes&~o,i.memoizedState=sj,c):(o=Bj(e,i,c.children,o),i.memoizedState=null,o)}function xj(e,i){return i=wj({mode:"visible",children:i},e.mode,0,null),i.return=e,e.child=i}function Bj(e,i,o,c){var d=e.child;return e=d.sibling,o=th(d,{mode:"visible",children:o}),(i.mode&1)===0&&(o.lanes=c),o.return=i,o.sibling=null,e!==null&&(c=i.deletions,c===null?(i.deletions=[e],i.flags|=16):c.push(e)),i.child=o}function Aj(e,i,o,c,d){var j=i.mode;e=e.child;var Z=e.sibling,s={mode:"hidden",children:o};return(j&1)===0&&i.child!==e?(o=i.child,o.childLanes=0,o.pendingProps=s,i.deletions=null):(o=th(e,s),o.subtreeFlags=e.subtreeFlags&14680064),Z!==null?c=th(Z,c):(c=xh(c,j,d,null),c.flags|=2),c.return=i,o.return=i,o.sibling=c,i.child=o,c}function yj(e,i,o,c){return c!==null&&oh(c),yh(i,e.child,null,o),e=xj(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Cj(e,i,o){e.lanes|=i;var c=e.alternate;c!==null&&(c.lanes|=i),rg(e.return,i,o)}function Dj(e,i,o,c,d){var j=e.memoizedState;j===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(j.isBackwards=i,j.rendering=null,j.renderingStartTime=0,j.last=c,j.tail=o,j.tailMode=d)}function Ej(e,i,o){var c=i.pendingProps,d=c.revealOrder,j=c.tail;if(ej(e,i,c.children,o),c=K.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cj(e,o,i);else if(e.tag===19)Cj(e,o,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}c&=1}if(G(K,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(o=i.child,d=null;o!==null;)e=o.alternate,e!==null&&Jh(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=i.child,i.child=null):(d=o.sibling,o.sibling=null),Dj(i,!1,d,o,j);break;case"backwards":for(o=null,d=i.child,i.child=null;d!==null;){if(e=d.alternate,e!==null&&Jh(e)===null){i.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Dj(i,!0,o,null,j);break;case"together":Dj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function gj(e,i,o){if(e!==null&&(i.dependencies=e.dependencies),Fg|=i.lanes,(o&i.childLanes)===0)return null;if(e!==null&&i.child!==e.child)throw Error(p$1(153));if(i.child!==null){for(e=i.child,o=th(e,e.pendingProps),i.child=o,o.return=i;e.sibling!==null;)e=e.sibling,o=o.sibling=th(e,e.pendingProps),o.return=i;o.sibling=null}return i.child}function Fj(e,i,o){switch(i.tag){case 3:qj(i),nh();break;case 5:Hh(i);break;case 1:Yf(i.type)&&bg(i);break;case 4:Fh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;G(lg,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(G(K,K.current&1),i.flags|=128,null):(o&i.child.childLanes)!==0?vj(e,i,o):(G(K,K.current&1),e=gj(e,i,o),e!==null?e.sibling:null);G(K,K.current&1);break;case 19:if(c=(o&i.childLanes)!==0,(e.flags&128)!==0){if(c)return Ej(e,i,o);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),G(K,K.current),c)break;return null;case 22:case 23:return i.lanes=0,lj(e,i,o)}return gj(e,i,o)}function Gj(e,i){switch(ch(i),i.tag){case 1:return Yf(i.type)&&Zf(),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Gh(),E(Vf),E(H),Lh(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 5:return Ih(i),null;case 13:if(E(K),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(p$1(340));nh()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return E(K),null;case 4:return Gh(),null;case 10:return qg(i.type._context),null;case 22:case 23:return bj(),null;case 24:return null;default:return null}}var Hj=!1,S=!1,Ij=typeof WeakSet=="function"?WeakSet:Set,T=null;function Jj(e,i){var o=e.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){U(e,i,c)}else o.current=null}function Kj(e,i,o){try{o()}catch(c){U(e,i,c)}}var Lj=!1;function Mj(e,i){if(Bf=cd,e=Le(),Me(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,j=c.focusNode;c=c.focusOffset;try{o.nodeType,j.nodeType}catch{o=null;break e}var Z=0,s=-1,$=-1,et=0,ut=0,gt=e,lt=null;t:for(;;){for(var ft;gt!==o||d!==0&&gt.nodeType!==3||(s=Z+d),gt!==j||c!==0&&gt.nodeType!==3||($=Z+c),gt.nodeType===3&&(Z+=gt.nodeValue.length),(ft=gt.firstChild)!==null;)lt=gt,gt=ft;for(;;){if(gt===e)break t;if(lt===o&&++et===d&&(s=Z),lt===j&&++ut===c&&($=Z),(ft=gt.nextSibling)!==null)break;gt=lt,lt=gt.parentNode}gt=ft}o=s===-1||$===-1?null:{start:s,end:$}}else o=null}o=o||{start:0,end:0}}else o=null;for(Cf={focusedElem:e,selectionRange:o},cd=!1,T=i;T!==null;)if(i=T,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,T=e;else for(;T!==null;){i=T;try{var ot=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ot!==null){var yt=ot.memoizedProps,wt=ot.memoizedState,Rt=i.stateNode,Mt=Rt.getSnapshotBeforeUpdate(i.elementType===i.type?yt:kg(i.type,yt),wt);Rt.__reactInternalSnapshotBeforeUpdate=Mt}break;case 3:var Tt=i.stateNode.containerInfo;if(Tt.nodeType===1)Tt.textContent="";else if(Tt.nodeType===9){var Ct=Tt.body;Ct!=null&&(Ct.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(p$1(163))}}catch(ct){U(i,i.return,ct)}if(e=i.sibling,e!==null){e.return=i.return,T=e;break}T=i.return}return ot=Lj,Lj=!1,ot}function Nj(e,i,o){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&e)===e){var j=d.destroy;d.destroy=void 0,j!==void 0&&Kj(i,o,j)}d=d.next}while(d!==c)}}function Oj(e,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var c=o.create;o.destroy=c()}o=o.next}while(o!==i)}}function Pj(e){var i=e.ref;if(i!==null){var o=e.stateNode;switch(e.tag){case 5:e=o;break;default:e=o}typeof i=="function"?i(e):i.current=e}}function Qj(e){var i=e.alternate;i!==null&&(e.alternate=null,Qj(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&(delete i[Nf],delete i[Of],delete i[nf],delete i[Pf],delete i[Qf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Rj(e){return e.tag===5||e.tag===3||e.tag===4}function Sj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rj(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tj(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.nodeType===8?o.parentNode.insertBefore(e,i):o.insertBefore(e,i):(o.nodeType===8?(i=o.parentNode,i.insertBefore(e,o)):(i=o,i.appendChild(e)),o=o._reactRootContainer,o!=null||i.onclick!==null||(i.onclick=Af));else if(c!==4&&(e=e.child,e!==null))for(Tj(e,i,o),e=e.sibling;e!==null;)Tj(e,i,o),e=e.sibling}function Uj(e,i,o){var c=e.tag;if(c===5||c===6)e=e.stateNode,i?o.insertBefore(e,i):o.appendChild(e);else if(c!==4&&(e=e.child,e!==null))for(Uj(e,i,o),e=e.sibling;e!==null;)Uj(e,i,o),e=e.sibling}var V=null,Vj=!1;function Wj(e,i,o){for(o=o.child;o!==null;)Xj(e,i,o),o=o.sibling}function Xj(e,i,o){if(kc&&typeof kc.onCommitFiberUnmount=="function")try{kc.onCommitFiberUnmount(jc,o)}catch{}switch(o.tag){case 5:S||Jj(o,i);case 6:var c=V,d=Vj;V=null,Wj(e,i,o),V=c,Vj=d,V!==null&&(Vj?(e=V,o=o.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)):V.removeChild(o.stateNode));break;case 18:V!==null&&(Vj?(e=V,o=o.stateNode,e.nodeType===8?Jf(e.parentNode,o):e.nodeType===1&&Jf(e,o),ad(e)):Jf(V,o.stateNode));break;case 4:c=V,d=Vj,V=o.stateNode.containerInfo,Vj=!0,Wj(e,i,o),V=c,Vj=d;break;case 0:case 11:case 14:case 15:if(!S&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var j=d,Z=j.destroy;j=j.tag,Z!==void 0&&((j&2)!==0||(j&4)!==0)&&Kj(o,i,Z),d=d.next}while(d!==c)}Wj(e,i,o);break;case 1:if(!S&&(Jj(o,i),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(s){U(o,i,s)}Wj(e,i,o);break;case 21:Wj(e,i,o);break;case 22:o.mode&1?(S=(c=S)||o.memoizedState!==null,Wj(e,i,o),S=c):Wj(e,i,o);break;default:Wj(e,i,o)}}function Yj(e){var i=e.updateQueue;if(i!==null){e.updateQueue=null;var o=e.stateNode;o===null&&(o=e.stateNode=new Ij),i.forEach(function(c){var d=Zj.bind(null,e,c);o.has(c)||(o.add(c),c.then(d,d))})}}function ak(e,i){var o=i.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var j=e,Z=i,s=Z;e:for(;s!==null;){switch(s.tag){case 5:V=s.stateNode,Vj=!1;break e;case 3:V=s.stateNode.containerInfo,Vj=!0;break e;case 4:V=s.stateNode.containerInfo,Vj=!0;break e}s=s.return}if(V===null)throw Error(p$1(160));Xj(j,Z,d),V=null,Vj=!1;var $=d.alternate;$!==null&&($.return=null),d.return=null}catch(et){U(d,i,et)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)bk(i,e),i=i.sibling}function bk(e,i){var o=e.alternate,c=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ak(i,e),ck(e),c&4){try{Nj(3,e,e.return),Oj(3,e)}catch(ot){U(e,e.return,ot)}try{Nj(5,e,e.return)}catch(ot){U(e,e.return,ot)}}break;case 1:ak(i,e),ck(e),c&512&&o!==null&&Jj(o,o.return);break;case 5:if(ak(i,e),ck(e),c&512&&o!==null&&Jj(o,o.return),e.flags&32){var d=e.stateNode;try{nb(d,"")}catch(ot){U(e,e.return,ot)}}if(c&4&&(d=e.stateNode,d!=null)){var j=e.memoizedProps,Z=o!==null?o.memoizedProps:j,s=e.type,$=e.updateQueue;if(e.updateQueue=null,$!==null)try{s==="input"&&j.type==="radio"&&j.name!=null&&Za(d,j),ub(s,Z);var et=ub(s,j);for(Z=0;Z<$.length;Z+=2){var ut=$[Z],gt=$[Z+1];ut==="style"?rb(d,gt):ut==="dangerouslySetInnerHTML"?mb(d,gt):ut==="children"?nb(d,gt):sa(d,ut,gt,et)}switch(s){case"input":$a(d,j);break;case"textarea":hb(d,j);break;case"select":var lt=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!j.multiple;var ft=j.value;ft!=null?eb(d,!!j.multiple,ft,!1):lt!==!!j.multiple&&(j.defaultValue!=null?eb(d,!!j.multiple,j.defaultValue,!0):eb(d,!!j.multiple,j.multiple?[]:"",!1))}d[Of]=j}catch(ot){U(e,e.return,ot)}}break;case 6:if(ak(i,e),ck(e),c&4){if(e.stateNode===null)throw Error(p$1(162));et=e.stateNode,ut=e.memoizedProps;try{et.nodeValue=ut}catch(ot){U(e,e.return,ot)}}break;case 3:if(ak(i,e),ck(e),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ad(i.containerInfo)}catch(ot){U(e,e.return,ot)}break;case 4:ak(i,e),ck(e);break;case 13:ak(i,e),ck(e),et=e.child,et.flags&8192&&et.memoizedState!==null&&(et.alternate===null||et.alternate.memoizedState===null)&&(dk=B()),c&4&&Yj(e);break;case 22:if(et=o!==null&&o.memoizedState!==null,e.mode&1?(S=(ut=S)||et,ak(i,e),S=ut):ak(i,e),ck(e),c&8192){ut=e.memoizedState!==null;e:for(gt=null,lt=e;;){if(lt.tag===5){if(gt===null){gt=lt;try{d=lt.stateNode,ut?(j=d.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(s=lt.stateNode,$=lt.memoizedProps.style,Z=$!=null&&$.hasOwnProperty("display")?$.display:null,s.style.display=qb("display",Z))}catch(ot){U(e,e.return,ot)}}}else if(lt.tag===6){if(gt===null)try{lt.stateNode.nodeValue=ut?"":lt.memoizedProps}catch(ot){U(e,e.return,ot)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===e)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===e)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===e)break e;gt===lt&&(gt=null),lt=lt.return}gt===lt&&(gt=null),lt.sibling.return=lt.return,lt=lt.sibling}if(ut&&!et&&(e.mode&1)!==0)for(T=e,e=e.child;e!==null;){for(et=T=e;T!==null;){switch(ut=T,gt=ut.child,ut.tag){case 0:case 11:case 14:case 15:Nj(4,ut,ut.return);break;case 1:if(Jj(ut,ut.return),j=ut.stateNode,typeof j.componentWillUnmount=="function"){lt=ut,ft=ut.return;try{d=lt,j.props=d.memoizedProps,j.state=d.memoizedState,j.componentWillUnmount()}catch(ot){U(lt,ft,ot)}}break;case 5:Jj(ut,ut.return);break;case 22:if(ut.memoizedState!==null){ek(et);continue}}gt!==null?(gt.return=ut,T=gt):ek(et)}e=e.sibling}}break;case 19:ak(i,e),ck(e),c&4&&Yj(e);break;case 21:break;default:ak(i,e),ck(e)}}function ck(e){var i=e.flags;if(i&2){try{e:{for(var o=e.return;o!==null;){if(Rj(o)){var c=o;break e}o=o.return}throw Error(p$1(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(nb(d,""),c.flags&=-33);var j=Sj(e);Uj(e,j,d);break;case 3:case 4:var Z=c.stateNode.containerInfo,s=Sj(e);Tj(e,s,Z);break;default:throw Error(p$1(161))}}catch($){U(e,e.return,$)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function fk(e,i,o){T=e,gk(e)}function gk(e,i,o){for(var c=(e.mode&1)!==0;T!==null;){var d=T,j=d.child;if(d.tag===22&&c){var Z=d.memoizedState!==null||Hj;if(!Z){var s=d.alternate,$=s!==null&&s.memoizedState!==null||S;s=Hj;var et=S;if(Hj=Z,(S=$)&&!et)for(T=d;T!==null;)Z=T,$=Z.child,Z.tag===22&&Z.memoizedState!==null?hk(d):$!==null?($.return=Z,T=$):hk(d);for(;j!==null;)T=j,gk(j),j=j.sibling;T=d,Hj=s,S=et}ik(e)}else(d.subtreeFlags&8772)!==0&&j!==null?(j.return=d,T=j):ik(e)}}function ik(e){for(;T!==null;){var i=T;if((i.flags&8772)!==0){var o=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:S||Oj(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!S)if(o===null)c.componentDidMount();else{var d=i.elementType===i.type?o.memoizedProps:kg(i.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var j=i.updateQueue;j!==null&&Gg(i,j,c);break;case 3:var Z=i.updateQueue;if(Z!==null){if(o=null,i.child!==null)switch(i.child.tag){case 5:o=i.child.stateNode;break;case 1:o=i.child.stateNode}Gg(i,Z,o)}break;case 5:var s=i.stateNode;if(o===null&&i.flags&4){o=s;var $=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&o.focus();break;case"img":$.src&&(o.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var et=i.alternate;if(et!==null){var ut=et.memoizedState;if(ut!==null){var gt=ut.dehydrated;gt!==null&&ad(gt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(p$1(163))}S||i.flags&512&&Pj(i)}catch(lt){U(i,i.return,lt)}}if(i===e){T=null;break}if(o=i.sibling,o!==null){o.return=i.return,T=o;break}T=i.return}}function ek(e){for(;T!==null;){var i=T;if(i===e){T=null;break}var o=i.sibling;if(o!==null){o.return=i.return,T=o;break}T=i.return}}function hk(e){for(;T!==null;){var i=T;try{switch(i.tag){case 0:case 11:case 15:var o=i.return;try{Oj(4,i)}catch($){U(i,o,$)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch($){U(i,d,$)}}var j=i.return;try{Pj(i)}catch($){U(i,j,$)}break;case 5:var Z=i.return;try{Pj(i)}catch($){U(i,Z,$)}}}catch($){U(i,i.return,$)}if(i===e){T=null;break}var s=i.sibling;if(s!==null){s.return=i.return,T=s;break}T=i.return}}var jk=Math.ceil,kk=ta.ReactCurrentDispatcher,lk=ta.ReactCurrentOwner,mk=ta.ReactCurrentBatchConfig,W=0,P=null,X=null,Y=0,cj=0,mj=Tf(0),R=0,nk=null,Fg=0,ok=0,pk=0,qk=null,rk=null,dk=0,aj=1/0,sk=null,Li=!1,Mi=null,Oi=null,tk=!1,uk=null,vk=0,wk=0,xk=null,yk=-1,zk=0;function Jg(){return(W&6)!==0?B():yk!==-1?yk:yk=B()}function Kg(e){return(e.mode&1)===0?1:(W&2)!==0&&Y!==0?Y&-Y:jg.transition!==null?(zk===0&&(zk=xc()),zk):(e=C,e!==0||(e=window.event,e=e===void 0?16:id(e.type)),e)}function Lg(e,i,o){if(50<wk)throw wk=0,xk=null,Error(p$1(185));var c=Ak(e,i);return c===null?null:(zc(c,i,o),((W&2)===0||c!==P)&&(c===P&&((W&2)===0&&(ok|=i),R===4&&Bk(c,Y)),Ck(c,o),i===1&&W===0&&(e.mode&1)===0&&(aj=B()+500,eg&&ig())),c)}function Ak(e,i){e.lanes|=i;var o=e.alternate;for(o!==null&&(o.lanes|=i),o=e,e=e.return;e!==null;)e.childLanes|=i,o=e.alternate,o!==null&&(o.childLanes|=i),o=e,e=e.return;return o.tag===3?o.stateNode:null}function Bg(e){return(P!==null||vg!==null)&&(e.mode&1)!==0&&(W&2)===0}function Ck(e,i){var o=e.callbackNode;vc(e,i);var c=tc(e,e===P?Y:0);if(c===0)o!==null&&ac(o),e.callbackNode=null,e.callbackPriority=0;else if(i=c&-c,e.callbackPriority!==i){if(o!=null&&ac(o),i===1)e.tag===0?hg(Dk.bind(null,e)):gg(Dk.bind(null,e)),If(function(){W===0&&ig()}),o=null;else{switch(Cc(c)){case 1:o=ec;break;case 4:o=fc;break;case 16:o=gc;break;case 536870912:o=ic;break;default:o=gc}o=Ek(o,Fk.bind(null,e))}e.callbackPriority=i,e.callbackNode=o}}function Fk(e,i){if(yk=-1,zk=0,(W&6)!==0)throw Error(p$1(327));var o=e.callbackNode;if(Gk()&&e.callbackNode!==o)return null;var c=tc(e,e===P?Y:0);if(c===0)return null;if((c&30)!==0||(c&e.expiredLanes)!==0||i)i=Hk(e,c);else{i=c;var d=W;W|=2;var j=Ik();(P!==e||Y!==i)&&(sk=null,aj=B()+500,Jk(e,i));do try{Kk();break}catch(s){Lk(e,s)}while(1);pg(),kk.current=j,W=d,X!==null?i=0:(P=null,Y=0,i=R)}if(i!==0){if(i===2&&(d=wc(e),d!==0&&(c=d,i=Mk(e,d))),i===1)throw o=nk,Jk(e,0),Bk(e,c),Ck(e,B()),o;if(i===6)Bk(e,c);else{if(d=e.current.alternate,(c&30)===0&&!Nk(d)&&(i=Hk(e,c),i===2&&(j=wc(e),j!==0&&(c=j,i=Mk(e,j))),i===1))throw o=nk,Jk(e,0),Bk(e,c),Ck(e,B()),o;switch(e.finishedWork=d,e.finishedLanes=c,i){case 0:case 1:throw Error(p$1(345));case 2:Ok(e,rk,sk);break;case 3:if(Bk(e,c),(c&130023424)===c&&(i=dk+500-B(),10<i)){if(tc(e,0)!==0)break;if(d=e.suspendedLanes,(d&c)!==c){Jg(),e.pingedLanes|=e.suspendedLanes&d;break}e.timeoutHandle=Ef(Ok.bind(null,e,rk,sk),i);break}Ok(e,rk,sk);break;case 4:if(Bk(e,c),(c&4194240)===c)break;for(i=e.eventTimes,d=-1;0<c;){var Z=31-nc(c);j=1<<Z,Z=i[Z],Z>d&&(d=Z),c&=~j}if(c=d,c=B()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*jk(c/1960))-c,10<c){e.timeoutHandle=Ef(Ok.bind(null,e,rk,sk),c);break}Ok(e,rk,sk);break;case 5:Ok(e,rk,sk);break;default:throw Error(p$1(329))}}}return Ck(e,B()),e.callbackNode===o?Fk.bind(null,e):null}function Mk(e,i){var o=qk;return e.current.memoizedState.isDehydrated&&(Jk(e,i).flags|=256),e=Hk(e,i),e!==2&&(i=rk,rk=o,i!==null&&Zi(i)),e}function Zi(e){rk===null?rk=e:rk.push.apply(rk,e)}function Nk(e){for(var i=e;;){if(i.flags&16384){var o=i.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],j=d.getSnapshot;d=d.value;try{if(!Ge(j(),d))return!1}catch{return!1}}}if(o=i.child,i.subtreeFlags&16384&&o!==null)o.return=i,i=o;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Bk(e,i){for(i&=~pk,i&=~ok,e.suspendedLanes|=i,e.pingedLanes&=~i,e=e.expirationTimes;0<i;){var o=31-nc(i),c=1<<o;e[o]=-1,i&=~c}}function Dk(e){if((W&6)!==0)throw Error(p$1(327));Gk();var i=tc(e,0);if((i&1)===0)return Ck(e,B()),null;var o=Hk(e,i);if(e.tag!==0&&o===2){var c=wc(e);c!==0&&(i=c,o=Mk(e,c))}if(o===1)throw o=nk,Jk(e,0),Bk(e,i),Ck(e,B()),o;if(o===6)throw Error(p$1(345));return e.finishedWork=e.current.alternate,e.finishedLanes=i,Ok(e,rk,sk),Ck(e,B()),null}function Pk(e,i){var o=W;W|=1;try{return e(i)}finally{W=o,W===0&&(aj=B()+500,eg&&ig())}}function Qk(e){uk!==null&&uk.tag===0&&(W&6)===0&&Gk();var i=W;W|=1;var o=mk.transition,c=C;try{if(mk.transition=null,C=1,e)return e()}finally{C=c,mk.transition=o,W=i,(W&6)===0&&ig()}}function bj(){cj=mj.current,E(mj)}function Jk(e,i){e.finishedWork=null,e.finishedLanes=0;var o=e.timeoutHandle;if(o!==-1&&(e.timeoutHandle=-1,Ff(o)),X!==null)for(o=X.return;o!==null;){var c=o;switch(ch(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Zf();break;case 3:Gh(),E(Vf),E(H),Lh();break;case 5:Ih(c);break;case 4:Gh();break;case 13:E(K);break;case 19:E(K);break;case 10:qg(c.type._context);break;case 22:case 23:bj()}o=o.return}if(P=e,X=e=th(e.current,null),Y=cj=i,R=0,nk=null,pk=ok=Fg=0,rk=qk=null,vg!==null){for(i=0;i<vg.length;i++)if(o=vg[i],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,j=o.pending;if(j!==null){var Z=j.next;j.next=d,c.next=Z}o.pending=c}vg=null}return e}function Lk(e,i){do{var o=X;try{if(pg(),Mh.current=Yh,Ph){for(var c=L.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Ph=!1}if(Oh=0,N=M=L=null,Qh=!1,Rh=0,lk.current=null,o===null||o.return===null){R=1,nk=i,X=null;break}e:{var j=e,Z=o.return,s=o,$=i;if(i=Y,s.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var et=$,ut=s,gt=ut.tag;if((ut.mode&1)===0&&(gt===0||gt===11||gt===15)){var lt=ut.alternate;lt?(ut.updateQueue=lt.updateQueue,ut.memoizedState=lt.memoizedState,ut.lanes=lt.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var ft=Ri(Z);if(ft!==null){ft.flags&=-257,Si(ft,Z,s,j,i),ft.mode&1&&Pi(j,et,i),i=ft,$=et;var ot=i.updateQueue;if(ot===null){var yt=new Set;yt.add($),i.updateQueue=yt}else ot.add($);break e}else{if((i&1)===0){Pi(j,et,i),$i();break e}$=Error(p$1(426))}}else if(I&&s.mode&1){var wt=Ri(Z);if(wt!==null){(wt.flags&65536)===0&&(wt.flags|=256),Si(wt,Z,s,j,i),oh($);break e}}j=$,R!==4&&(R=2),qk===null?qk=[j]:qk.push(j),$=Hi($,s),s=Z;do{switch(s.tag){case 3:s.flags|=65536,i&=-i,s.lanes|=i;var Rt=Ki(s,$,i);Dg(s,Rt);break e;case 1:j=$;var Mt=s.type,Tt=s.stateNode;if((s.flags&128)===0&&(typeof Mt.getDerivedStateFromError=="function"||Tt!==null&&typeof Tt.componentDidCatch=="function"&&(Oi===null||!Oi.has(Tt)))){s.flags|=65536,i&=-i,s.lanes|=i;var Ct=Ni(s,j,i);Dg(s,Ct);break e}}s=s.return}while(s!==null)}Rk(o)}catch(ct){i=ct,X===o&&o!==null&&(X=o=o.return);continue}break}while(1)}function Ik(){var e=kk.current;return kk.current=Yh,e===null?Yh:e}function $i(){(R===0||R===3||R===2)&&(R=4),P===null||(Fg&268435455)===0&&(ok&268435455)===0||Bk(P,Y)}function Hk(e,i){var o=W;W|=2;var c=Ik();(P!==e||Y!==i)&&(sk=null,Jk(e,i));do try{Sk();break}catch(d){Lk(e,d)}while(1);if(pg(),W=o,kk.current=c,X!==null)throw Error(p$1(261));return P=null,Y=0,R}function Sk(){for(;X!==null;)Tk(X)}function Kk(){for(;X!==null&&!bc();)Tk(X)}function Tk(e){var i=Uk(e.alternate,e,cj);e.memoizedProps=e.pendingProps,i===null?Rk(e):X=i,lk.current=null}function Rk(e){var i=e;do{var o=i.alternate;if(e=i.return,(i.flags&32768)===0){if(o=Yi(o,i,cj),o!==null){X=o;return}}else{if(o=Gj(o,i),o!==null){o.flags&=32767,X=o;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{R=6,X=null;return}}if(i=i.sibling,i!==null){X=i;return}X=i=e}while(i!==null);R===0&&(R=5)}function Ok(e,i,o){var c=C,d=mk.transition;try{mk.transition=null,C=1,Vk(e,i,o,c)}finally{mk.transition=d,C=c}return null}function Vk(e,i,o,c){do Gk();while(uk!==null);if((W&6)!==0)throw Error(p$1(327));o=e.finishedWork;var d=e.finishedLanes;if(o===null)return null;if(e.finishedWork=null,e.finishedLanes=0,o===e.current)throw Error(p$1(177));e.callbackNode=null,e.callbackPriority=0;var j=o.lanes|o.childLanes;if(Ac(e,j),e===P&&(X=P=null,Y=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||tk||(tk=!0,Ek(gc,function(){return Gk(),null})),j=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||j){j=mk.transition,mk.transition=null;var Z=C;C=1;var s=W;W|=4,lk.current=null,Mj(e,o),bk(o,e),Ne(Cf),cd=!!Bf,Cf=Bf=null,e.current=o,fk(o),cc(),W=s,C=Z,mk.transition=j}else e.current=o;if(tk&&(tk=!1,uk=e,vk=d),j=e.pendingLanes,j===0&&(Oi=null),lc(o.stateNode),Ck(e,B()),i!==null)for(c=e.onRecoverableError,o=0;o<i.length;o++)c(i[o]);if(Li)throw Li=!1,e=Mi,Mi=null,e;return(vk&1)!==0&&e.tag!==0&&Gk(),j=e.pendingLanes,(j&1)!==0?e===xk?wk++:(wk=0,xk=e):wk=0,ig(),null}function Gk(){if(uk!==null){var e=Cc(vk),i=mk.transition,o=C;try{if(mk.transition=null,C=16>e?16:e,uk===null)var c=!1;else{if(e=uk,uk=null,vk=0,(W&6)!==0)throw Error(p$1(331));var d=W;for(W|=4,T=e.current;T!==null;){var j=T,Z=j.child;if((T.flags&16)!==0){var s=j.deletions;if(s!==null){for(var $=0;$<s.length;$++){var et=s[$];for(T=et;T!==null;){var ut=T;switch(ut.tag){case 0:case 11:case 15:Nj(8,ut,j)}var gt=ut.child;if(gt!==null)gt.return=ut,T=gt;else for(;T!==null;){ut=T;var lt=ut.sibling,ft=ut.return;if(Qj(ut),ut===et){T=null;break}if(lt!==null){lt.return=ft,T=lt;break}T=ft}}}var ot=j.alternate;if(ot!==null){var yt=ot.child;if(yt!==null){ot.child=null;do{var wt=yt.sibling;yt.sibling=null,yt=wt}while(yt!==null)}}T=j}}if((j.subtreeFlags&2064)!==0&&Z!==null)Z.return=j,T=Z;else e:for(;T!==null;){if(j=T,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Nj(9,j,j.return)}var Rt=j.sibling;if(Rt!==null){Rt.return=j.return,T=Rt;break e}T=j.return}}var Mt=e.current;for(T=Mt;T!==null;){Z=T;var Tt=Z.child;if((Z.subtreeFlags&2064)!==0&&Tt!==null)Tt.return=Z,T=Tt;else e:for(Z=Mt;T!==null;){if(s=T,(s.flags&2048)!==0)try{switch(s.tag){case 0:case 11:case 15:Oj(9,s)}}catch(ct){U(s,s.return,ct)}if(s===Z){T=null;break e}var Ct=s.sibling;if(Ct!==null){Ct.return=s.return,T=Ct;break e}T=s.return}}if(W=d,ig(),kc&&typeof kc.onPostCommitFiberRoot=="function")try{kc.onPostCommitFiberRoot(jc,e)}catch{}c=!0}return c}finally{C=o,mk.transition=i}}return!1}function Wk(e,i,o){i=Hi(o,i),i=Ki(e,i,1),Ag(e,i),i=Jg(),e=Ak(e,1),e!==null&&(zc(e,1,i),Ck(e,i))}function U(e,i,o){if(e.tag===3)Wk(e,e,o);else for(;i!==null;){if(i.tag===3){Wk(i,e,o);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Oi===null||!Oi.has(c))){e=Hi(o,e),e=Ni(i,e,1),Ag(i,e),e=Jg(),i=Ak(i,1),i!==null&&(zc(i,1,e),Ck(i,e));break}}i=i.return}}function Qi(e,i,o){var c=e.pingCache;c!==null&&c.delete(i),i=Jg(),e.pingedLanes|=e.suspendedLanes&o,P===e&&(Y&o)===o&&(R===4||R===3&&(Y&130023424)===Y&&500>B()-dk?Jk(e,0):pk|=o),Ck(e,i)}function Xk(e,i){i===0&&((e.mode&1)===0?i=1:(i=rc,rc<<=1,(rc&130023424)===0&&(rc=4194304)));var o=Jg();e=Ak(e,i),e!==null&&(zc(e,i,o),Ck(e,o))}function zj(e){var i=e.memoizedState,o=0;i!==null&&(o=i.retryLane),Xk(e,o)}function Zj(e,i){var o=0;switch(e.tag){case 13:var c=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=e.stateNode;break;default:throw Error(p$1(314))}c!==null&&c.delete(i),Xk(e,o)}var Uk;Uk=function(e,i,o){if(e!==null)if(e.memoizedProps!==i.pendingProps||Vf.current)tg=!0;else{if((e.lanes&o)===0&&(i.flags&128)===0)return tg=!1,Fj(e,i,o);tg=(e.flags&131072)!==0}else tg=!1,I&&(i.flags&1048576)!==0&&ah(i,Ug,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2),e=i.pendingProps;var d=Xf(i,H.current);sg(i,o),d=Uh(null,i,c,e,d,o);var j=Zh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Yf(c)?(j=!0,bg(i)):j=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,xg(i),d.updater=Mg,i.stateNode=d,d._reactInternals=i,Qg(i,c,e,o),i=pj(null,i,c,!0,j,o)):(i.tag=0,I&&j&&bh(i),ej(null,i,d,o),i=i.child),i;case 16:c=i.elementType;e:{switch(e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2),e=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=Yk(c),e=kg(c,e),d){case 0:i=kj(null,i,c,e,o);break e;case 1:i=oj(null,i,c,e,o);break e;case 11:i=fj(null,i,c,e,o);break e;case 14:i=hj(null,i,c,kg(c.type,e),o);break e}throw Error(p$1(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:kg(c,d),kj(e,i,c,d,o);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:kg(c,d),oj(e,i,c,d,o);case 3:e:{if(qj(i),e===null)throw Error(p$1(387));c=i.pendingProps,j=i.memoizedState,d=j.element,yg(e,i),Eg(i,c,null,o);var Z=i.memoizedState;if(c=Z.element,j.isDehydrated)if(j={element:c,isDehydrated:!1,cache:Z.cache,pendingSuspenseBoundaries:Z.pendingSuspenseBoundaries,transitions:Z.transitions},i.updateQueue.baseState=j,i.memoizedState=j,i.flags&256){d=Error(p$1(423)),i=rj(e,i,c,o,d);break e}else if(c!==d){d=Error(p$1(424)),i=rj(e,i,c,o,d);break e}else for(eh=Kf(i.stateNode.containerInfo.firstChild),dh=i,I=!0,fh=null,o=zh(i,null,c,o),i.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(nh(),c===d){i=gj(e,i,o);break e}ej(e,i,c,o)}i=i.child}return i;case 5:return Hh(i),e===null&&kh(i),c=i.type,d=i.pendingProps,j=e!==null?e.memoizedProps:null,Z=d.children,Df(c,d)?Z=null:j!==null&&Df(c,j)&&(i.flags|=32),nj(e,i),ej(e,i,Z,o),i.child;case 6:return e===null&&kh(i),null;case 13:return vj(e,i,o);case 4:return Fh(i,i.stateNode.containerInfo),c=i.pendingProps,e===null?i.child=yh(i,null,c,o):ej(e,i,c,o),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:kg(c,d),fj(e,i,c,d,o);case 7:return ej(e,i,i.pendingProps,o),i.child;case 8:return ej(e,i,i.pendingProps.children,o),i.child;case 12:return ej(e,i,i.pendingProps.children,o),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,j=i.memoizedProps,Z=d.value,G(lg,c._currentValue),c._currentValue=Z,j!==null)if(Ge(j.value,Z)){if(j.children===d.children&&!Vf.current){i=gj(e,i,o);break e}}else for(j=i.child,j!==null&&(j.return=i);j!==null;){var s=j.dependencies;if(s!==null){Z=j.child;for(var $=s.firstContext;$!==null;){if($.context===c){if(j.tag===1){$=zg(-1,o&-o),$.tag=2;var et=j.updateQueue;if(et!==null){et=et.shared;var ut=et.pending;ut===null?$.next=$:($.next=ut.next,ut.next=$),et.pending=$}}j.lanes|=o,$=j.alternate,$!==null&&($.lanes|=o),rg(j.return,o,i),s.lanes|=o;break}$=$.next}}else if(j.tag===10)Z=j.type===i.type?null:j.child;else if(j.tag===18){if(Z=j.return,Z===null)throw Error(p$1(341));Z.lanes|=o,s=Z.alternate,s!==null&&(s.lanes|=o),rg(Z,o,i),Z=j.sibling}else Z=j.child;if(Z!==null)Z.return=j;else for(Z=j;Z!==null;){if(Z===i){Z=null;break}if(j=Z.sibling,j!==null){j.return=Z.return,Z=j;break}Z=Z.return}j=Z}ej(e,i,d.children,o),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,sg(i,o),d=ug(d),c=c(d),i.flags|=1,ej(e,i,c,o),i.child;case 14:return c=i.type,d=kg(c,i.pendingProps),d=kg(c.type,d),hj(e,i,c,d,o);case 15:return jj(e,i,i.type,i.pendingProps,o);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:kg(c,d),e!==null&&(e.alternate=null,i.alternate=null,i.flags|=2),i.tag=1,Yf(c)?(e=!0,bg(i)):e=!1,sg(i,o),Og(i,c,d),Qg(i,c,d,o),pj(null,i,c,!0,e,o);case 19:return Ej(e,i,o);case 22:return lj(e,i,o)}throw Error(p$1(156,i.tag))};function Ek(e,i){return $b(e,i)}function Zk(e,i,o,c){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hh(e,i,o,c){return new Zk(e,i,o,c)}function ij(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yk(e){if(typeof e=="function")return ij(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ca)return 11;if(e===Fa)return 14}return 2}function th(e,i){var o=e.alternate;return o===null?(o=hh(e.tag,i,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=i,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&14680064,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,i=e.dependencies,o.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o}function vh(e,i,o,c,d,j){var Z=2;if(c=e,typeof e=="function")ij(e)&&(Z=1);else if(typeof e=="string")Z=5;else e:switch(e){case wa:return xh(o.children,d,j,i);case xa:Z=8,d|=8;break;case za:return e=hh(12,o,i,d|2),e.elementType=za,e.lanes=j,e;case Da:return e=hh(13,o,i,d),e.elementType=Da,e.lanes=j,e;case Ea:return e=hh(19,o,i,d),e.elementType=Ea,e.lanes=j,e;case Ha:return wj(o,d,j,i);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Aa:Z=10;break e;case Ba:Z=9;break e;case Ca:Z=11;break e;case Fa:Z=14;break e;case Ga:Z=16,c=null;break e}throw Error(p$1(130,e==null?e:typeof e,""))}return i=hh(Z,o,i,d),i.elementType=e,i.type=c,i.lanes=j,i}function xh(e,i,o,c){return e=hh(7,e,c,i),e.lanes=o,e}function wj(e,i,o,c){return e=hh(22,e,c,i),e.elementType=Ha,e.lanes=o,e.stateNode={},e}function uh(e,i,o){return e=hh(6,e,null,i),e.lanes=o,e}function wh(e,i,o){return i=hh(4,e.children!==null?e.children:[],e.key,i),i.lanes=o,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}function $k(e,i,o,c,d){this.tag=i,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yc(0),this.expirationTimes=yc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yc(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function al(e,i,o,c,d,j,Z,s,$){return e=new $k(e,i,o,s,$),i===1?(i=1,j===!0&&(i|=8)):i=0,j=hh(3,null,null,i),e.current=j,j.stateNode=e,j.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},xg(j),e}function bl(e,i,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:va,key:c==null?null:""+c,children:e,containerInfo:i,implementation:o}}function cl(e){if(!e)return Uf;e=e._reactInternals;e:{if(Ub(e)!==e||e.tag!==1)throw Error(p$1(170));var i=e;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Yf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$1(171))}if(e.tag===1){var o=e.type;if(Yf(o))return ag(e,o,i)}return i}function dl(e,i,o,c,d,j,Z,s,$){return e=al(o,c,!0,e,d,j,Z,s,$),e.context=cl(null),o=e.current,c=Jg(),d=Kg(o),j=zg(c,d),j.callback=i!=null?i:null,Ag(o,j),e.current.lanes=d,zc(e,d,c),Ck(e,c),e}function el(e,i,o,c){var d=i.current,j=Jg(),Z=Kg(d);return o=cl(o),i.context===null?i.context=o:i.pendingContext=o,i=zg(j,Z),i.payload={element:e},c=c===void 0?null:c,c!==null&&(i.callback=c),Ag(d,i),e=Lg(d,Z,j),e!==null&&Cg(e,d,Z),Z}function fl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gl(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<i?o:i}}function hl(e,i){gl(e,i),(e=e.alternate)&&gl(e,i)}function il(){return null}var jl=typeof reportError=="function"?reportError:function(e){console.error(e)};function kl(e){this._internalRoot=e}ll.prototype.render=kl.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(p$1(409));el(e,i,null,null)};ll.prototype.unmount=kl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;Qk(function(){el(null,e,null,null)}),i[tf]=null}};function ll(e){this._internalRoot=e}ll.prototype.unstable_scheduleHydration=function(e){if(e){var i=Gc();e={blockedOn:null,target:e,priority:i};for(var o=0;o<Pc.length&&i!==0&&i<Pc[o].priority;o++);Pc.splice(o,0,e),o===0&&Uc(e)}};function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function nl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function ol(){}function pl(e,i,o,c,d){if(d){if(typeof c=="function"){var j=c;c=function(){var et=fl(Z);j.call(et)}}var Z=dl(i,c,e,0,null,!1,!1,"",ol);return e._reactRootContainer=Z,e[tf]=Z.current,rf(e.nodeType===8?e.parentNode:e),Qk(),Z}for(;d=e.lastChild;)e.removeChild(d);if(typeof c=="function"){var s=c;c=function(){var et=fl($);s.call(et)}}var $=al(e,0,!1,null,null,!1,!1,"",ol);return e._reactRootContainer=$,e[tf]=$.current,rf(e.nodeType===8?e.parentNode:e),Qk(function(){el(i,$,o,c)}),$}function ql(e,i,o,c,d){var j=o._reactRootContainer;if(j){var Z=j;if(typeof d=="function"){var s=d;d=function(){var $=fl(Z);s.call($)}}el(i,Z,e,d)}else Z=pl(o,i,e,d,c);return fl(Z)}Dc=function(e){switch(e.tag){case 3:var i=e.stateNode;if(i.current.memoizedState.isDehydrated){var o=sc(i.pendingLanes);o!==0&&(Bc(i,o|1),Ck(i,B()),(W&6)===0&&(aj=B()+500,ig()))}break;case 13:var c=Jg();Qk(function(){return Lg(e,1,c)}),hl(e,1)}};Ec=function(e){if(e.tag===13){var i=Jg();Lg(e,134217728,i),hl(e,134217728)}};Fc=function(e){if(e.tag===13){var i=Jg(),o=Kg(e);Lg(e,o,i),hl(e,o)}};Gc=function(){return C};Hc=function(e,i){var o=C;try{return C=e,i()}finally{C=o}};xb=function(e,i,o){switch(i){case"input":if($a(e,o),i=o.name,o.type==="radio"&&i!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<o.length;i++){var c=o[i];if(c!==e&&c.form===e.form){var d=Cb(c);if(!d)throw Error(p$1(90));Va(c),$a(c,d)}}}break;case"textarea":hb(e,o);break;case"select":i=o.value,i!=null&&eb(e,!!o.multiple,i,!1)}};Fb=Pk;Gb=Qk;var rl={usingClientEntryPoint:!1,Events:[Bb,te,Cb,Db,Eb,Pk]},sl={findFiberByHostInstance:Vc,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},tl={bundleType:sl.bundleType,version:sl.version,rendererPackageName:sl.rendererPackageName,rendererConfig:sl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Yb(e),e===null?null:e.stateNode},findFiberByHostInstance:sl.findFiberByHostInstance||il,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{jc=ul.inject(tl),kc=ul}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rl;reactDom_production_min.createPortal=function(e,i){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ml(i))throw Error(p$1(200));return bl(e,i,null,o)};reactDom_production_min.createRoot=function(e,i){if(!ml(e))throw Error(p$1(299));var o=!1,c="",d=jl;return i!=null&&(i.unstable_strictMode===!0&&(o=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=al(e,1,!1,null,null,o,!1,c,d),e[tf]=i.current,rf(e.nodeType===8?e.parentNode:e),new kl(i)};reactDom_production_min.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(p$1(188)):(e=Object.keys(e).join(","),Error(p$1(268,e)));return e=Yb(i),e=e===null?null:e.stateNode,e};reactDom_production_min.flushSync=function(e){return Qk(e)};reactDom_production_min.hydrate=function(e,i,o){if(!nl(i))throw Error(p$1(200));return ql(null,e,i,!0,o)};reactDom_production_min.hydrateRoot=function(e,i,o){if(!ml(e))throw Error(p$1(405));var c=o!=null&&o.hydratedSources||null,d=!1,j="",Z=jl;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(j=o.identifierPrefix),o.onRecoverableError!==void 0&&(Z=o.onRecoverableError)),i=dl(i,null,e,1,o!=null?o:null,d,!1,j,Z),e[tf]=i.current,rf(e),c)for(e=0;e<c.length;e++)o=c[e],d=o._getVersion,d=d(o._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[o,d]:i.mutableSourceEagerHydrationData.push(o,d);return new ll(i)};reactDom_production_min.render=function(e,i,o){if(!nl(i))throw Error(p$1(200));return ql(null,e,i,!1,o)};reactDom_production_min.unmountComponentAtNode=function(e){if(!nl(e))throw Error(p$1(40));return e._reactRootContainer?(Qk(function(){ql(null,null,e,!1,function(){e._reactRootContainer=null,e[tf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Pk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(e,i,o,c){if(!nl(o))throw Error(p$1(200));if(e==null||e._reactInternals===void 0)throw Error(p$1(38));return ql(e,i,o,!1,c)};reactDom_production_min.version="18.1.0-next-22edb9f77-20220426";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(e){console.error(e)}}checkDCE(),reactDom.exports=reactDom_production_min;var m$1=reactDom.exports;client.createRoot=m$1.createRoot,client.hydrateRoot=m$1.hydrateRoot;var mapboxGl={exports:{}};(function(e,i){(function(o,c){e.exports=c()})(commonjsGlobal,function(){var o,c,d;function j(s,$){if(!o)o=$;else if(!c)c=$;else{var et="self.onerror = function() { console.error('An error occurred while parsing the WebWorker bundle. This is most likely due to improper transpilation by Babel; please see https://docs.mapbox.com/mapbox-gl-js/guides/install/#transpiling'); }; var sharedChunk = {}; ("+o+")(sharedChunk); ("+c+")(sharedChunk); self.onerror = null;",ut={};o(ut),d=$(ut),typeof window!="undefined"&&window&&window.URL&&window.URL.createObjectURL&&(d.workerUrl=window.URL.createObjectURL(new Blob([et],{type:"text/javascript"})))}}j(["exports"],function(s){var $="2.8.2",et=ut;function ut(_,h,b,_e){this.cx=3*_,this.bx=3*(b-_)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*h,this.by=3*(_e-h)-this.cy,this.ay=1-this.cy-this.by,this.p1x=_,this.p1y=_e,this.p2x=b,this.p2y=_e}ut.prototype.sampleCurveX=function(_){return((this.ax*_+this.bx)*_+this.cx)*_},ut.prototype.sampleCurveY=function(_){return((this.ay*_+this.by)*_+this.cy)*_},ut.prototype.sampleCurveDerivativeX=function(_){return(3*this.ax*_+2*this.bx)*_+this.cx},ut.prototype.solveCurveX=function(_,h){var b,_e,rt,it,ht;for(h===void 0&&(h=1e-6),rt=_,ht=0;ht<8;ht++){if(it=this.sampleCurveX(rt)-_,Math.abs(it)<h)return rt;var xt=this.sampleCurveDerivativeX(rt);if(Math.abs(xt)<1e-6)break;rt-=it/xt}if((rt=_)<(b=0))return b;if(rt>(_e=1))return _e;for(;b<_e;){if(it=this.sampleCurveX(rt),Math.abs(it-_)<h)return rt;_>it?b=rt:_e=rt,rt=.5*(_e-b)+b}return rt},ut.prototype.solve=function(_,h){return this.sampleCurveY(this.solveCurveX(_,h))};var gt=lt;function lt(_,h){this.x=_,this.y=h}lt.prototype={clone:function(){return new lt(this.x,this.y)},add:function(_){return this.clone()._add(_)},sub:function(_){return this.clone()._sub(_)},multByPoint:function(_){return this.clone()._multByPoint(_)},divByPoint:function(_){return this.clone()._divByPoint(_)},mult:function(_){return this.clone()._mult(_)},div:function(_){return this.clone()._div(_)},rotate:function(_){return this.clone()._rotate(_)},rotateAround:function(_,h){return this.clone()._rotateAround(_,h)},matMult:function(_){return this.clone()._matMult(_)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(_){return this.x===_.x&&this.y===_.y},dist:function(_){return Math.sqrt(this.distSqr(_))},distSqr:function(_){var h=_.x-this.x,b=_.y-this.y;return h*h+b*b},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(_){return Math.atan2(this.y-_.y,this.x-_.x)},angleWith:function(_){return this.angleWithSep(_.x,_.y)},angleWithSep:function(_,h){return Math.atan2(this.x*h-this.y*_,this.x*_+this.y*h)},_matMult:function(_){var h=_[2]*this.x+_[3]*this.y;return this.x=_[0]*this.x+_[1]*this.y,this.y=h,this},_add:function(_){return this.x+=_.x,this.y+=_.y,this},_sub:function(_){return this.x-=_.x,this.y-=_.y,this},_mult:function(_){return this.x*=_,this.y*=_,this},_div:function(_){return this.x/=_,this.y/=_,this},_multByPoint:function(_){return this.x*=_.x,this.y*=_.y,this},_divByPoint:function(_){return this.x/=_.x,this.y/=_.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var _=this.y;return this.y=this.x,this.x=-_,this},_rotate:function(_){var h=Math.cos(_),b=Math.sin(_),_e=b*this.x+h*this.y;return this.x=h*this.x-b*this.y,this.y=_e,this},_rotateAround:function(_,h){var b=Math.cos(_),_e=Math.sin(_),rt=h.y+_e*(this.x-h.x)+b*(this.y-h.y);return this.x=h.x+b*(this.x-h.x)-_e*(this.y-h.y),this.y=rt,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},lt.convert=function(_){return _ instanceof lt?_:Array.isArray(_)?new lt(_[0],_[1]):_};var ft=typeof self!="undefined"?self:{};const ot=Math.PI/180,yt=180/Math.PI;function wt(_){return _*ot}function Rt(_){return _*yt}const Mt=[[0,0],[1,0],[1,1],[0,1]];function Tt(_){if(_<=0)return 0;if(_>=1)return 1;const h=_*_,b=h*_;return 4*(_<.5?b:3*(_-h)+b-.75)}function Ct(_,h,b,_e){const rt=new et(_,h,b,_e);return function(it){return rt.solve(it)}}const ct=Ct(.25,.1,.25,1);function Lt(_,h,b){return Math.min(b,Math.max(h,_))}function Kt(_,h,b){return(b=Lt((b-_)/(h-_),0,1))*b*(3-2*b)}function Yt(_,h,b){const _e=b-h,rt=((_-h)%_e+_e)%_e+h;return rt===h?b:rt}function pt(_,h,b){if(!_.length)return b(null,[]);let _e=_.length;const rt=new Array(_.length);let it=null;_.forEach((ht,xt)=>{h(ht,(Pt,Ut)=>{Pt&&(it=Pt),rt[xt]=Ut,--_e==0&&b(it,rt)})})}function dt(_){const h=[];for(const b in _)h.push(_[b]);return h}function bt(_,...h){for(const b of h)for(const _e in b)_[_e]=b[_e];return _}let mt=1;function jt(){return mt++}function zt(){return function _(h){return h?(h^Math.random()*(16>>h/4)).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,_)}()}function kt(_){return _<=1?1:Math.pow(2,Math.ceil(Math.log(_)/Math.LN2))}function St(_){return!!_&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(_)}function Dt(_,h){_.forEach(b=>{h[b]&&(h[b]=h[b].bind(h))})}function Nt(_,h){return _.indexOf(h,_.length-h.length)!==-1}function _t(_,h,b){const _e={};for(const rt in _)_e[rt]=h.call(b||this,_[rt],rt,_);return _e}function at(_,h,b){const _e={};for(const rt in _)h.call(b||this,_[rt],rt,_)&&(_e[rt]=_[rt]);return _e}function Bt(_){return Array.isArray(_)?_.map(Bt):typeof _=="object"&&_?_t(_,Bt):_}const Vt={};function Qt(_){Vt[_]||(typeof console!="undefined"&&console.warn(_),Vt[_]=!0)}function or(_,h,b){return(b.y-_.y)*(h.x-_.x)>(h.y-_.y)*(b.x-_.x)}function ar(_){let h=0;for(let b,_e,rt=0,it=_.length,ht=it-1;rt<it;ht=rt++)b=_[rt],_e=_[ht],h+=(_e.x-b.x)*(b.y+_e.y);return h}function qt(){return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope}function Gt(_){const h={};if(_.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(b,_e,rt,it)=>{const ht=rt||it;return h[_e]=!ht||ht.toLowerCase(),""}),h["max-age"]){const b=parseInt(h["max-age"],10);isNaN(b)?delete h["max-age"]:h["max-age"]=b}return h}let vt,At,It,Ht,Zt=null;function rr(_){if(Zt==null){const h=_.navigator?_.navigator.userAgent:null;Zt=!!_.safari||!(!h||!(/\b(iPad|iPhone|iPod)\b/.test(h)||h.match("Safari")&&!h.match("Chrome")))}return Zt}function pr(_){try{const h=ft[_];return h.setItem("_mapbox_test_",1),h.removeItem("_mapbox_test_"),!0}catch{return!1}}const _r={now:()=>It!==void 0?It:ft.performance.now(),setNow(_){It=_},restoreNow(){It=void 0},frame(_){const h=ft.requestAnimationFrame(_);return{cancel:()=>ft.cancelAnimationFrame(h)}},getImageData(_,h=0){const{width:b,height:_e}=_;Ht||(Ht=ft.document.createElement("canvas"));const rt=Ht.getContext("2d");if(!rt)throw new Error("failed to create canvas 2d context");return(b>Ht.width||_e>Ht.height)&&(Ht.width=b,Ht.height=_e),rt.clearRect(-h,-h,b+2*h,_e+2*h),rt.drawImage(_,0,0,b,_e),rt.getImageData(-h,-h,b+2*h,_e+2*h)},resolveURL:_=>(vt||(vt=ft.document.createElement("a")),vt.href=_,vt.href),get devicePixelRatio(){return ft.devicePixelRatio},get prefersReducedMotion(){return!!ft.matchMedia&&(At==null&&(At=ft.matchMedia("(prefers-reduced-motion: reduce)")),At.matches)}};let ir;const cr={API_URL:"https://api.mapbox.com",get API_URL_REGEX(){if(ir==null){const _=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;try{ir={}.API_URL_REGEX!=null?new RegExp({}.API_URL_REGEX):_}catch{ir=_}}return ir},get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},SESSION_PATH:"/map-sessions/v1",FEEDBACK_URL:"https://apps.mapbox.com/feedback",TILE_URL_VERSION:"v4",RASTER_URL_PREFIX:"raster/v1",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},mr={supported:!1,testSupport:function(_){!Yr&&Mr&&(an?dn(_):Cr=_)}};let Cr,Mr,Yr=!1,an=!1;function dn(_){const h=_.createTexture();_.bindTexture(_.TEXTURE_2D,h);try{if(_.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,Mr),_.isContextLost())return;mr.supported=!0}catch{}_.deleteTexture(h),Yr=!0}ft.document&&(Mr=ft.document.createElement("img"),Mr.onload=function(){Cr&&dn(Cr),Cr=null,an=!0},Mr.onerror=function(){Yr=!0,Cr=null},Mr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");const rn="01",tn="NO_ACCESS_TOKEN";function Hn(_){return _.indexOf("mapbox:")===0}function Qn(_){return cr.API_URL_REGEX.test(_)}const io=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function yo(_){const h=_.match(io);if(!h)throw new Error("Unable to parse URL object");return{protocol:h[1],authority:h[2],path:h[3]||"/",params:h[4]?h[4].split("&"):[]}}function ko(_){const h=_.params.length?`?${_.params.join("&")}`:"";return`${_.protocol}://${_.authority}${_.path}${h}`}function Ho(_){if(!_)return null;const h=_.split(".");if(!h||h.length!==3)return null;try{return JSON.parse(decodeURIComponent(ft.atob(h[1]).split("").map(b=>"%"+("00"+b.charCodeAt(0).toString(16)).slice(-2)).join("")))}catch{return null}}class qo{constructor(h){this.type=h,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null}getStorageKey(h){const b=Ho(cr.ACCESS_TOKEN);let _e="";return _e=b&&b.u?ft.btoa(encodeURIComponent(b.u).replace(/%([0-9A-F]{2})/g,(rt,it)=>String.fromCharCode(Number("0x"+it)))):cr.ACCESS_TOKEN||"",h?`mapbox.eventData.${h}:${_e}`:`mapbox.eventData:${_e}`}fetchEventData(){const h=pr("localStorage"),b=this.getStorageKey(),_e=this.getStorageKey("uuid");if(h)try{const rt=ft.localStorage.getItem(b);rt&&(this.eventData=JSON.parse(rt));const it=ft.localStorage.getItem(_e);it&&(this.anonId=it)}catch{Qt("Unable to read from LocalStorage")}}saveEventData(){const h=pr("localStorage"),b=this.getStorageKey(),_e=this.getStorageKey("uuid");if(h)try{ft.localStorage.setItem(_e,this.anonId),Object.keys(this.eventData).length>=1&&ft.localStorage.setItem(b,JSON.stringify(this.eventData))}catch{Qt("Unable to write to LocalStorage")}}processRequests(h){}postEvent(h,b,_e,rt){if(!cr.EVENTS_URL)return;const it=yo(cr.EVENTS_URL);it.params.push(`access_token=${rt||cr.ACCESS_TOKEN||""}`);const ht={event:this.type,created:new Date(h).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:$,skuId:rn,userId:this.anonId},xt=b?bt(ht,b):ht,Pt={url:ko(it),headers:{"Content-Type":"text/plain"},body:JSON.stringify([xt])};this.pendingRequest=Hr(Pt,Ut=>{this.pendingRequest=null,_e(Ut),this.saveEventData(),this.processRequests(rt)})}queueRequest(h,b){this.queue.push(h),this.processRequests(b)}}const Fo=new class extends qo{constructor(_){super("appUserTurnstile"),this._customAccessToken=_}postTurnstileEvent(_,h){cr.EVENTS_URL&&cr.ACCESS_TOKEN&&Array.isArray(_)&&_.some(b=>Hn(b)||Qn(b))&&this.queueRequest(Date.now(),h)}processRequests(_){if(this.pendingRequest||this.queue.length===0)return;this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();const h=Ho(cr.ACCESS_TOKEN),b=h?h.u:cr.ACCESS_TOKEN;let _e=b!==this.eventData.tokenU;St(this.anonId)||(this.anonId=zt(),_e=!0);const rt=this.queue.shift();if(this.eventData.lastSuccess){const it=new Date(this.eventData.lastSuccess),ht=new Date(rt),xt=(rt-this.eventData.lastSuccess)/864e5;_e=_e||xt>=1||xt<-1||it.getDate()!==ht.getDate()}else _e=!0;_e?this.postEvent(rt,{"enabled.telemetry":!1},it=>{it||(this.eventData.lastSuccess=rt,this.eventData.tokenU=b)},_):this.processRequests()}},Vo=Fo.postTurnstileEvent.bind(Fo),ss=new class extends qo{constructor(){super("map.load"),this.success={},this.skuToken=""}postMapLoadEvent(_,h,b,_e){this.skuToken=h,this.errorCb=_e,cr.EVENTS_URL&&(b||cr.ACCESS_TOKEN?this.queueRequest({id:_,timestamp:Date.now()},b):this.errorCb(new Error(tn)))}processRequests(_){if(this.pendingRequest||this.queue.length===0)return;const{id:h,timestamp:b}=this.queue.shift();h&&this.success[h]||(this.anonId||this.fetchEventData(),St(this.anonId)||(this.anonId=zt()),this.postEvent(b,{skuToken:this.skuToken},_e=>{_e?this.errorCb(_e):h&&(this.success[h]=!0)},_))}},ds=ss.postMapLoadEvent.bind(ss),fs=new class extends qo{constructor(){super("map.auth"),this.success={},this.skuToken=""}getSession(_,h,b,_e){if(!cr.API_URL||!cr.SESSION_PATH)return;const rt=yo(cr.API_URL+cr.SESSION_PATH);rt.params.push(`sku=${h||""}`),rt.params.push(`access_token=${_e||cr.ACCESS_TOKEN||""}`);const it={url:ko(rt),headers:{"Content-Type":"text/plain"}};this.pendingRequest=en(it,ht=>{this.pendingRequest=null,b(ht),this.saveEventData(),this.processRequests(_e)})}getSessionAPI(_,h,b,_e){this.skuToken=h,this.errorCb=_e,cr.SESSION_PATH&&cr.API_URL&&(b||cr.ACCESS_TOKEN?this.queueRequest({id:_,timestamp:Date.now()},b):this.errorCb(new Error(tn)))}processRequests(_){if(this.pendingRequest||this.queue.length===0)return;const{id:h,timestamp:b}=this.queue.shift();h&&this.success[h]||this.getSession(b,this.skuToken,_e=>{_e?this.errorCb(_e):h&&(this.success[h]=!0)},_)}},Ul=fs.getSessionAPI.bind(fs),As=new Set,xl="mapbox-tiles";let bs,Ps,Ns=500,Fs=50;function Ys(){ft.caches&&!bs&&(bs=ft.caches.open(xl))}function Xs(_){const h=_.indexOf("?");return h<0?_:_.slice(0,h)}let Ks=1/0;const Ir={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Ir);class dr extends Error{constructor(h,b,_e){b===401&&Qn(_e)&&(h+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),super(h),this.status=b,this.url=_e}toString(){return`${this.name}: ${this.message} (${this.status}): ${this.url}`}}const yr=qt()?()=>self.worker&&self.worker.referrer:()=>(ft.location.protocol==="blob:"?ft.parent:ft).location.href,Rr=function(_,h){if(!(/^file:/.test(b=_.url)||/^file:/.test(yr())&&!/^\w+:/.test(b))){if(ft.fetch&&ft.Request&&ft.AbortController&&ft.Request.prototype.hasOwnProperty("signal"))return function(_e,rt){const it=new ft.AbortController,ht=new ft.Request(_e.url,{method:_e.method||"GET",body:_e.body,credentials:_e.credentials,headers:_e.headers,referrer:yr(),signal:it.signal});let xt=!1,Pt=!1;const Ut=($t=ht.url).indexOf("sku=")>0&&Qn($t);var $t;_e.type==="json"&&ht.headers.set("Accept","application/json");const Jt=(ur,gr,wr)=>{if(Pt)return;if(ur&&ur.message!=="SecurityError"&&Qt(ur),gr&&wr)return tr(gr);const Tr=Date.now();ft.fetch(ht).then(Lr=>{if(Lr.ok){const Vr=Ut?Lr.clone():null;return tr(Lr,Vr,Tr)}return rt(new dr(Lr.statusText,Lr.status,_e.url))}).catch(Lr=>{Lr.code!==20&&rt(new Error(Lr.message))})},tr=(ur,gr,wr)=>{(_e.type==="arrayBuffer"?ur.arrayBuffer():_e.type==="json"?ur.json():ur.text()).then(Tr=>{Pt||(gr&&wr&&function(Lr,Vr,Zr){if(Ys(),!bs)return;const qr={status:Vr.status,statusText:Vr.statusText,headers:new ft.Headers};Vr.headers.forEach((mn,_n)=>qr.headers.set(_n,mn));const Kr=Gt(Vr.headers.get("Cache-Control")||"");if(Kr["no-store"])return;Kr["max-age"]&&qr.headers.set("Expires",new Date(Zr+1e3*Kr["max-age"]).toUTCString());const Jr=qr.headers.get("Expires");Jr&&(new Date(Jr).getTime()-Zr<42e4||function(mn,_n){if(Ps===void 0)try{new Response(new ReadableStream),Ps=!0}catch{Ps=!1}Ps?_n(mn.body):mn.blob().then(_n)}(Vr,mn=>{const _n=new ft.Response(mn,qr);Ys(),bs&&bs.then(Tn=>Tn.put(Xs(Lr.url),_n)).catch(Tn=>Qt(Tn.message))}))}(ht,gr,wr),xt=!0,rt(null,Tr,ur.headers.get("Cache-Control"),ur.headers.get("Expires")))}).catch(Tr=>{Pt||rt(new Error(Tr.message))})};return Ut?function(ur,gr){if(Ys(),!bs)return gr(null);const wr=Xs(ur.url);bs.then(Tr=>{Tr.match(wr).then(Lr=>{const Vr=function(Zr){if(!Zr)return!1;const qr=new Date(Zr.headers.get("Expires")||0),Kr=Gt(Zr.headers.get("Cache-Control")||"");return qr>Date.now()&&!Kr["no-cache"]}(Lr);Tr.delete(wr),Vr&&Tr.put(wr,Lr.clone()),gr(null,Lr,Vr)}).catch(gr)}).catch(gr)}(ht,Jt):Jt(null,null),{cancel:()=>{Pt=!0,xt||it.abort()}}}(_,h);if(qt()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",_,h,void 0,!0)}var b;return function(_e,rt){const it=new ft.XMLHttpRequest;it.open(_e.method||"GET",_e.url,!0),_e.type==="arrayBuffer"&&(it.responseType="arraybuffer");for(const ht in _e.headers)it.setRequestHeader(ht,_e.headers[ht]);return _e.type==="json"&&(it.responseType="text",it.setRequestHeader("Accept","application/json")),it.withCredentials=_e.credentials==="include",it.onerror=()=>{rt(new Error(it.statusText))},it.onload=()=>{if((it.status>=200&&it.status<300||it.status===0)&&it.response!==null){let ht=it.response;if(_e.type==="json")try{ht=JSON.parse(it.response)}catch(xt){return rt(xt)}rt(null,ht,it.getResponseHeader("Cache-Control"),it.getResponseHeader("Expires"))}else rt(new dr(it.statusText,it.status,_e.url))},it.send(_e.body),{cancel:()=>it.abort()}}(_,h)},Br=function(_,h){return Rr(bt(_,{type:"arrayBuffer"}),h)},Hr=function(_,h){return Rr(bt(_,{method:"POST"}),h)},en=function(_,h){return Rr(bt(_,{method:"GET"}),h)};function Qr(_){const h=ft.document.createElement("a");return h.href=_,h.protocol===ft.document.location.protocol&&h.host===ft.document.location.host}const Gr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";let ln,En;ln=[],En=0;const Nn=function(_,h){if(mr.supported&&(_.headers||(_.headers={}),_.headers.accept="image/webp,*/*"),En>=cr.MAX_PARALLEL_IMAGE_REQUESTS){const it={requestParameters:_,callback:h,cancelled:!1,cancel(){this.cancelled=!0}};return ln.push(it),it}En++;let b=!1;const _e=()=>{if(!b)for(b=!0,En--;ln.length&&En<cr.MAX_PARALLEL_IMAGE_REQUESTS;){const it=ln.shift(),{requestParameters:ht,callback:xt,cancelled:Pt}=it;Pt||(it.cancel=Nn(ht,xt).cancel)}},rt=Br(_,(it,ht,xt,Pt)=>{_e(),it?h(it):ht&&(ft.createImageBitmap?function(Ut,$t){const Jt=new ft.Blob([new Uint8Array(Ut)],{type:"image/png"});ft.createImageBitmap(Jt).then(tr=>{$t(null,tr)}).catch(tr=>{$t(new Error(`Could not load image because of ${tr.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}(ht,(Ut,$t)=>h(Ut,$t,xt,Pt)):function(Ut,$t){const Jt=new ft.Image,tr=ft.URL;Jt.onload=()=>{$t(null,Jt),tr.revokeObjectURL(Jt.src),Jt.onload=null,ft.requestAnimationFrame(()=>{Jt.src=Gr})},Jt.onerror=()=>$t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const ur=new ft.Blob([new Uint8Array(Ut)],{type:"image/png"});Jt.src=Ut.byteLength?tr.createObjectURL(ur):Gr}(ht,(Ut,$t)=>h(Ut,$t,xt,Pt)))});return{cancel:()=>{rt.cancel(),_e()}}};function Cn(_,h,b){b[_]&&b[_].indexOf(h)!==-1||(b[_]=b[_]||[],b[_].push(h))}function Jn(_,h,b){if(b&&b[_]){const _e=b[_].indexOf(h);_e!==-1&&b[_].splice(_e,1)}}class Xn{constructor(h,b={}){bt(this,b),this.type=h}}class Wn extends Xn{constructor(h,b={}){super("error",bt({error:h},b))}}class ro{on(h,b){return this._listeners=this._listeners||{},Cn(h,b,this._listeners),this}off(h,b){return Jn(h,b,this._listeners),Jn(h,b,this._oneTimeListeners),this}once(h,b){return b?(this._oneTimeListeners=this._oneTimeListeners||{},Cn(h,b,this._oneTimeListeners),this):new Promise(_e=>this.once(h,_e))}fire(h,b){typeof h=="string"&&(h=new Xn(h,b||{}));const _e=h.type;if(this.listens(_e)){h.target=this;const rt=this._listeners&&this._listeners[_e]?this._listeners[_e].slice():[];for(const xt of rt)xt.call(this,h);const it=this._oneTimeListeners&&this._oneTimeListeners[_e]?this._oneTimeListeners[_e].slice():[];for(const xt of it)Jn(_e,xt,this._oneTimeListeners),xt.call(this,h);const ht=this._eventedParent;ht&&(bt(h,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),ht.fire(h))}else h instanceof Wn&&console.error(h.error);return this}listens(h){return!!(this._listeners&&this._listeners[h]&&this._listeners[h].length>0||this._oneTimeListeners&&this._oneTimeListeners[h]&&this._oneTimeListeners[h].length>0||this._eventedParent&&this._eventedParent.listens(h))}setEventedParent(h,b){return this._eventedParent=h,this._eventedParentData=b,this}}var un=JSON.parse('{"$version":8,"$root":{"version":{"required":true,"type":"enum","values":[8]},"name":{"type":"string"},"metadata":{"type":"*"},"center":{"type":"array","value":"number"},"zoom":{"type":"number"},"bearing":{"type":"number","default":0,"period":360,"units":"degrees"},"pitch":{"type":"number","default":0,"units":"degrees"},"light":{"type":"light"},"terrain":{"type":"terrain"},"fog":{"type":"fog"},"sources":{"required":true,"type":"sources"},"sprite":{"type":"string"},"glyphs":{"type":"string"},"transition":{"type":"transition"},"projection":{"type":"projection"},"layers":{"required":true,"type":"array","value":"layer"}},"sources":{"*":{"type":"source"}},"source":["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],"source_vector":{"type":{"required":true,"type":"enum","values":{"vector":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"attribution":{"type":"string"},"promoteId":{"type":"promoteId"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster":{"type":{"required":true,"type":"enum","values":{"raster":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"scheme":{"type":"enum","values":{"xyz":{},"tms":{}},"default":"xyz"},"attribution":{"type":"string"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_raster_dem":{"type":{"required":true,"type":"enum","values":{"raster-dem":{}}},"url":{"type":"string"},"tiles":{"type":"array","value":"string"},"bounds":{"type":"array","value":"number","length":4,"default":[-180,-85.051129,180,85.051129]},"minzoom":{"type":"number","default":0},"maxzoom":{"type":"number","default":22},"tileSize":{"type":"number","default":512,"units":"pixels"},"attribution":{"type":"string"},"encoding":{"type":"enum","values":{"terrarium":{},"mapbox":{}},"default":"mapbox"},"volatile":{"type":"boolean","default":false},"*":{"type":"*"}},"source_geojson":{"type":{"required":true,"type":"enum","values":{"geojson":{}}},"data":{"type":"*"},"maxzoom":{"type":"number","default":18},"attribution":{"type":"string"},"buffer":{"type":"number","default":128,"maximum":512,"minimum":0},"filter":{"type":"*"},"tolerance":{"type":"number","default":0.375},"cluster":{"type":"boolean","default":false},"clusterRadius":{"type":"number","default":50,"minimum":0},"clusterMaxZoom":{"type":"number"},"clusterMinPoints":{"type":"number"},"clusterProperties":{"type":"*"},"lineMetrics":{"type":"boolean","default":false},"generateId":{"type":"boolean","default":false},"promoteId":{"type":"promoteId"}},"source_video":{"type":{"required":true,"type":"enum","values":{"video":{}}},"urls":{"required":true,"type":"array","value":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"source_image":{"type":{"required":true,"type":"enum","values":{"image":{}}},"url":{"required":true,"type":"string"},"coordinates":{"required":true,"type":"array","length":4,"value":{"type":"array","length":2,"value":"number"}}},"layer":{"id":{"type":"string","required":true},"type":{"type":"enum","values":{"fill":{},"line":{},"symbol":{},"circle":{},"heatmap":{},"fill-extrusion":{},"raster":{},"hillshade":{},"background":{},"sky":{}},"required":true},"metadata":{"type":"*"},"source":{"type":"string"},"source-layer":{"type":"string"},"minzoom":{"type":"number","minimum":0,"maximum":24},"maxzoom":{"type":"number","minimum":0,"maximum":24},"filter":{"type":"filter"},"layout":{"type":"layout"},"paint":{"type":"paint"}},"layout":["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background","layout_sky"],"layout_background":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_sky":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill":{"fill-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_circle":{"circle-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_heatmap":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_fill-extrusion":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_line":{"line-cap":{"type":"enum","values":{"butt":{},"round":{},"square":{}},"default":"butt","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-join":{"type":"enum","values":{"bevel":{},"round":{},"miter":{}},"default":"miter","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{"type":"number","default":2,"requires":[{"line-join":"miter"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-round-limit":{"type":"number","default":1.05,"requires":[{"line-join":"round"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_symbol":{"symbol-placement":{"type":"enum","values":{"point":{},"line":{},"line-center":{}},"default":"point","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-spacing":{"type":"number","default":250,"minimum":1,"units":"pixels","requires":[{"symbol-placement":"line"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{"type":"boolean","default":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{"type":"number","expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{"type":"enum","values":{"auto":{},"viewport-y":{},"source":{}},"default":"auto","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{"type":"boolean","default":false,"requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-optional":{"type":"boolean","default":false,"requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-size":{"type":"number","default":1,"minimum":0,"units":"factor of the original icon size","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{"type":"enum","values":{"none":{},"width":{},"height":{},"both":{}},"default":"none","requires":["icon-image","text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{"type":"array","value":"number","length":4,"default":[0,0,0,0],"units":"pixels","requires":["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-image":{"type":"resolvedImage","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{"type":"boolean","default":false,"requires":["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"icon-offset":{"type":"array","value":"number","length":2,"default":[0,0],"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{"type":"enum","values":{"map":{},"viewport":{},"auto":{}},"default":"auto","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-field":{"type":"formatted","default":"","tokens":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-font":{"type":"array","value":"string","default":["Open Sans Regular","Arial Unicode MS Regular"],"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-size":{"type":"number","default":16,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{"type":"number","default":10,"minimum":0,"units":"ems","requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{"type":"number","default":1.2,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-letter-spacing":{"type":"number","default":0,"units":"ems","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-justify":{"type":"enum","values":{"auto":{},"left":{},"center":{},"right":{}},"default":"center","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{"type":"number","units":"ems","default":0,"requires":["text-field"],"property-type":"data-driven","expression":{"interpolated":true,"parameters":["zoom","feature"]}},"text-variable-anchor":{"type":"array","value":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"requires":["text-field",{"symbol-placement":["point"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-anchor":{"type":"enum","values":{"center":{},"left":{},"right":{},"top":{},"bottom":{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},"default":"center","requires":["text-field",{"!":"text-variable-anchor"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{"type":"number","default":45,"units":"degrees","requires":["text-field",{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-writing-mode":{"type":"array","value":"enum","values":{"horizontal":{},"vertical":{}},"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-rotate":{"type":"number","default":0,"period":360,"units":"degrees","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-padding":{"type":"number","default":2,"minimum":0,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-keep-upright":{"type":"boolean","default":true,"requires":["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-transform":{"type":"enum","values":{"none":{},"uppercase":{},"lowercase":{}},"default":"none","requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-offset":{"type":"array","value":"number","units":"ems","length":2,"default":[0,0],"requires":["text-field",{"!":"text-radial-offset"}],"expression":{"interpolated":true,"parameters":["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{"type":"boolean","default":false,"requires":["text-field"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-optional":{"type":"boolean","default":false,"requires":["text-field","icon-image"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_raster":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"layout_hillshade":{"visibility":{"type":"enum","values":{"visible":{},"none":{}},"default":"visible","property-type":"constant"}},"filter":{"type":"array","value":"*"},"filter_symbol":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature","pitch","distance-from-center"]}},"filter_fill":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_line":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_circle":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_fill-extrusion":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_heatmap":{"type":"boolean","default":false,"transition":false,"property-type":"data-driven","expression":{"interpolated":false,"parameters":["zoom","feature"]}},"filter_operator":{"type":"enum","values":{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},"in":{},"!in":{},"all":{},"any":{},"none":{},"has":{},"!has":{},"within":{}}},"geometry_type":{"type":"enum","values":{"Point":{},"LineString":{},"Polygon":{}}},"function":{"expression":{"type":"expression"},"stops":{"type":"array","value":"function_stop"},"base":{"type":"number","default":1,"minimum":0},"property":{"type":"string","default":"$zoom"},"type":{"type":"enum","values":{"identity":{},"exponential":{},"interval":{},"categorical":{}},"default":"exponential"},"colorSpace":{"type":"enum","values":{"rgb":{},"lab":{},"hcl":{}},"default":"rgb"},"default":{"type":"*","required":false}},"function_stop":{"type":"array","minimum":0,"maximum":24,"value":["number","color"],"length":2},"expression":{"type":"array","value":"*","minimum":1},"fog":{"range":{"type":"array","default":[0.5,10],"minimum":-20,"maximum":20,"length":2,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"horizon-blend":{"type":"number","property-type":"data-constant","default":0.1,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"light":{"anchor":{"type":"enum","default":"viewport","values":{"map":{},"viewport":{}},"property-type":"data-constant","transition":false,"expression":{"interpolated":false,"parameters":["zoom"]}},"position":{"type":"array","default":[1.15,210,30],"length":3,"value":"number","property-type":"data-constant","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]}},"color":{"type":"color","property-type":"data-constant","default":"#ffffff","expression":{"interpolated":true,"parameters":["zoom"]},"transition":true},"intensity":{"type":"number","property-type":"data-constant","default":0.5,"minimum":0,"maximum":1,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"projection":{"name":{"type":"enum","values":{"albers":{},"equalEarth":{},"equirectangular":{},"lambertConformalConic":{},"mercator":{},"naturalEarth":{},"winkelTripel":{}},"default":"mercator","required":true},"center":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]},"parallels":{"type":"array","length":2,"value":"number","property-type":"data-constant","transition":false,"requires":[{"name":["albers","lambertConformalConic"]}]}},"terrain":{"source":{"type":"string","required":true},"exaggeration":{"type":"number","property-type":"data-constant","default":1,"minimum":0,"maximum":1000,"expression":{"interpolated":true,"parameters":["zoom"]},"transition":true}},"paint":["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background","paint_sky"],"paint_fill":{"fill-antialias":{"type":"boolean","default":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{"type":"color","transition":true,"requires":[{"!":"fill-pattern"},{"fill-antialias":true}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"fill-extrusion-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["fill-extrusion-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{"type":"number","default":0,"minimum":0,"units":"meters","transition":true,"requires":["fill-extrusion-height"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{"type":"boolean","default":true,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_line":{"line-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"line-pattern"}],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["line-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"line-width":{"type":"number","default":1,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{"type":"number","default":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{"type":"array","value":"number","minimum":0,"transition":true,"units":"line widths","requires":[{"!":"line-pattern"}],"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{"type":"color","transition":false,"requires":[{"!":"line-pattern"},{"source":"geojson","has":{"lineMetrics":true}}],"expression":{"interpolated":true,"parameters":["line-progress"]},"property-type":"color-ramp"}},"paint_circle":{"circle-radius":{"type":"number","default":5,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{"type":"number","default":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["circle-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"}},"paint_heatmap":{"heatmap-radius":{"type":"number","default":30,"minimum":1,"transition":true,"units":"pixels","expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{"type":"number","default":1,"minimum":0,"transition":false,"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{"type":"number","default":1,"minimum":0,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"heatmap-color":{"type":"color","default":["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",0.1,"royalblue",0.3,"cyan",0.5,"lime",0.7,"yellow",1,"red"],"transition":false,"expression":{"interpolated":true,"parameters":["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_symbol":{"icon-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{"type":"color","default":"#000000","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["icon-image"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["icon-image","icon-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"text-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{"type":"color","default":"#000000","transition":true,"overridable":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{"type":"color","default":"rgba(0, 0, 0, 0)","transition":true,"requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{"type":"number","default":0,"minimum":0,"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{"type":"array","value":"number","length":2,"default":[0,0],"transition":true,"units":"pixels","requires":["text-field"],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"map","requires":["text-field","text-translate"],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_raster":{"raster-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{"type":"number","default":0,"period":360,"transition":true,"units":"degrees","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{"type":"number","default":0,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-saturation":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-contrast":{"type":"number","default":0,"minimum":-1,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"raster-resampling":{"type":"enum","values":{"linear":{},"nearest":{}},"default":"linear","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{"type":"number","default":300,"minimum":0,"transition":false,"units":"milliseconds","expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_hillshade":{"hillshade-illumination-direction":{"type":"number","default":335,"minimum":0,"maximum":359,"transition":false,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{"type":"enum","values":{"map":{},"viewport":{}},"default":"viewport","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{"type":"number","default":0.5,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{"type":"color","default":"#FFFFFF","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{"type":"color","default":"#000000","transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_background":{"background-color":{"type":"color","default":"#000000","transition":true,"requires":[{"!":"background-pattern"}],"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"},"background-pattern":{"type":"resolvedImage","transition":true,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"cross-faded"},"background-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"paint_sky":{"sky-type":{"type":"enum","values":{"gradient":{},"atmosphere":{}},"default":"atmosphere","expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun":{"type":"array","value":"number","length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"requires":[{"sky-type":"atmosphere"}],"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-atmosphere-sun-intensity":{"type":"number","requires":[{"sky-type":"atmosphere"}],"default":10,"minimum":0,"maximum":100,"transition":false,"property-type":"data-constant"},"sky-gradient-center":{"type":"array","requires":[{"sky-type":"gradient"}],"value":"number","default":[0,0],"length":2,"units":"degrees","minimum":[0,0],"maximum":[360,180],"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient-radius":{"type":"number","requires":[{"sky-type":"gradient"}],"default":90,"minimum":0,"maximum":180,"transition":false,"expression":{"interpolated":false,"parameters":["zoom"]},"property-type":"data-constant"},"sky-gradient":{"type":"color","default":["interpolate",["linear"],["sky-radial-progress"],0.8,"#87ceeb",1,"white"],"transition":false,"requires":[{"sky-type":"gradient"}],"expression":{"interpolated":true,"parameters":["sky-radial-progress"]},"property-type":"color-ramp"},"sky-atmosphere-halo-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-atmosphere-color":{"type":"color","default":"white","transition":false,"requires":[{"sky-type":"atmosphere"}],"property-type":"data-constant"},"sky-opacity":{"type":"number","default":1,"minimum":0,"maximum":1,"transition":true,"expression":{"interpolated":true,"parameters":["zoom"]},"property-type":"data-constant"}},"transition":{"duration":{"type":"number","default":300,"minimum":0,"units":"milliseconds"},"delay":{"type":"number","default":0,"minimum":0,"units":"milliseconds"}},"property-type":{"data-driven":{"type":"property-type"},"cross-faded":{"type":"property-type"},"cross-faded-data-driven":{"type":"property-type"},"color-ramp":{"type":"property-type"},"data-constant":{"type":"property-type"},"constant":{"type":"property-type"}},"promoteId":{"*":{"type":"string"}}}');function xo(_,...h){for(const b of h)for(const _e in b)_[_e]=b[_e];return _}function Un(_){return _ instanceof Number||_ instanceof String||_ instanceof Boolean?_.valueOf():_}function vo(_){if(Array.isArray(_))return _.map(vo);if(_ instanceof Object&&!(_ instanceof Number||_ instanceof String||_ instanceof Boolean)){const h={};for(const b in _)h[b]=vo(_[b]);return h}return Un(_)}class so extends Error{constructor(h,b){super(b),this.message=b,this.key=h}}class Us{constructor(h,b=[]){this.parent=h,this.bindings={};for(const[_e,rt]of b)this.bindings[_e]=rt}concat(h){return new Us(this,h)}get(h){if(this.bindings[h])return this.bindings[h];if(this.parent)return this.parent.get(h);throw new Error(`${h} not found in scope.`)}has(h){return!!this.bindings[h]||!!this.parent&&this.parent.has(h)}}const ks={kind:"null"},Pn={kind:"number"},_o={kind:"string"},lo={kind:"boolean"},as={kind:"color"},Js={kind:"object"},mo={kind:"value"},Cs={kind:"collator"},zl={kind:"formatted"},Yo={kind:"resolvedImage"};function ws(_,h){return{kind:"array",itemType:_,N:h}}function Uo(_){if(_.kind==="array"){const h=Uo(_.itemType);return typeof _.N=="number"?`array<${h}, ${_.N}>`:_.itemType.kind==="value"?"array":`array<${h}>`}return _.kind}const Pu=[ks,Pn,_o,lo,as,zl,Js,ws(mo),Yo];function Dl(_,h){if(h.kind==="error")return null;if(_.kind==="array"){if(h.kind==="array"&&(h.N===0&&h.itemType.kind==="value"||!Dl(_.itemType,h.itemType))&&(typeof _.N!="number"||_.N===h.N))return null}else{if(_.kind===h.kind)return null;if(_.kind==="value"){for(const b of Pu)if(!Dl(b,h))return null}}return`Expected ${Uo(_)} but found ${Uo(h)} instead.`}function $l(_,h){return h.some(b=>b.kind===_.kind)}function Rs(_,h){return h.some(b=>b==="null"?_===null:b==="array"?Array.isArray(_):b==="object"?_&&!Array.isArray(_)&&typeof _=="object":b===typeof _)}function Yl(_){var h={exports:{}};return _(h,h.exports),h.exports}var Ms=Yl(function(_,h){var b={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function _e(xt){return(xt=Math.round(xt))<0?0:xt>255?255:xt}function rt(xt){return _e(xt[xt.length-1]==="%"?parseFloat(xt)/100*255:parseInt(xt))}function it(xt){return(Pt=xt[xt.length-1]==="%"?parseFloat(xt)/100:parseFloat(xt))<0?0:Pt>1?1:Pt;var Pt}function ht(xt,Pt,Ut){return Ut<0?Ut+=1:Ut>1&&(Ut-=1),6*Ut<1?xt+(Pt-xt)*Ut*6:2*Ut<1?Pt:3*Ut<2?xt+(Pt-xt)*(2/3-Ut)*6:xt}try{h.parseCSSColor=function(xt){var Pt,Ut=xt.replace(/ /g,"").toLowerCase();if(Ut in b)return b[Ut].slice();if(Ut[0]==="#")return Ut.length===4?(Pt=parseInt(Ut.substr(1),16))>=0&&Pt<=4095?[(3840&Pt)>>4|(3840&Pt)>>8,240&Pt|(240&Pt)>>4,15&Pt|(15&Pt)<<4,1]:null:Ut.length===7&&(Pt=parseInt(Ut.substr(1),16))>=0&&Pt<=16777215?[(16711680&Pt)>>16,(65280&Pt)>>8,255&Pt,1]:null;var $t=Ut.indexOf("("),Jt=Ut.indexOf(")");if($t!==-1&&Jt+1===Ut.length){var tr=Ut.substr(0,$t),ur=Ut.substr($t+1,Jt-($t+1)).split(","),gr=1;switch(tr){case"rgba":if(ur.length!==4)return null;gr=it(ur.pop());case"rgb":return ur.length!==3?null:[rt(ur[0]),rt(ur[1]),rt(ur[2]),gr];case"hsla":if(ur.length!==4)return null;gr=it(ur.pop());case"hsl":if(ur.length!==3)return null;var wr=(parseFloat(ur[0])%360+360)%360/360,Tr=it(ur[1]),Lr=it(ur[2]),Vr=Lr<=.5?Lr*(Tr+1):Lr+Tr-Lr*Tr,Zr=2*Lr-Vr;return[_e(255*ht(Zr,Vr,wr+1/3)),_e(255*ht(Zr,Vr,wr)),_e(255*ht(Zr,Vr,wr-1/3)),gr];default:return null}}return null}}catch{}});class So{constructor(h,b,_e,rt=1){this.r=h,this.g=b,this.b=_e,this.a=rt}static parse(h){if(!h)return;if(h instanceof So)return h;if(typeof h!="string")return;const b=Ms.parseCSSColor(h);return b?new So(b[0]/255*b[3],b[1]/255*b[3],b[2]/255*b[3],b[3]):void 0}toString(){const[h,b,_e,rt]=this.toArray();return`rgba(${Math.round(h)},${Math.round(b)},${Math.round(_e)},${rt})`}toArray(){const{r:h,g:b,b:_e,a:rt}=this;return rt===0?[0,0,0,0]:[255*h/rt,255*b/rt,255*_e/rt,rt]}}So.black=new So(0,0,0,1),So.white=new So(1,1,1,1),So.transparent=new So(0,0,0,0),So.red=new So(1,0,0,1),So.blue=new So(0,0,1,1);class Ds{constructor(h,b,_e){this.sensitivity=h?b?"variant":"case":b?"accent":"base",this.locale=_e,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(h,b){return this.collator.compare(h,b)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}class Vl{constructor(h,b,_e,rt,it){this.text=h.normalize?h.normalize():h,this.image=b,this.scale=_e,this.fontStack=rt,this.textColor=it}}class Ko{constructor(h){this.sections=h}static fromString(h){return new Ko([new Vl(h,null,null,null,null)])}isEmpty(){return this.sections.length===0||!this.sections.some(h=>h.text.length!==0||h.image&&h.image.name.length!==0)}static factory(h){return h instanceof Ko?h:Ko.fromString(h)}toString(){return this.sections.length===0?"":this.sections.map(h=>h.text).join("")}serialize(){const h=["format"];for(const b of this.sections){if(b.image){h.push(["image",b.image.name]);continue}h.push(b.text);const _e={};b.fontStack&&(_e["text-font"]=["literal",b.fontStack.split(",")]),b.scale&&(_e["font-scale"]=b.scale),b.textColor&&(_e["text-color"]=["rgba"].concat(b.textColor.toArray())),h.push(_e)}return h}}class Do{constructor(h){this.name=h.name,this.available=h.available}toString(){return this.name}static fromString(h){return h?new Do({name:h,available:!1}):null}serialize(){return["image",this.name]}}function ps(_,h,b,_e){return typeof _=="number"&&_>=0&&_<=255&&typeof h=="number"&&h>=0&&h<=255&&typeof b=="number"&&b>=0&&b<=255?_e===void 0||typeof _e=="number"&&_e>=0&&_e<=1?null:`Invalid rgba value [${[_,h,b,_e].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${(typeof _e=="number"?[_,h,b,_e]:[_,h,b]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function ls(_){if(_===null||typeof _=="string"||typeof _=="boolean"||typeof _=="number"||_ instanceof So||_ instanceof Ds||_ instanceof Ko||_ instanceof Do)return!0;if(Array.isArray(_)){for(const h of _)if(!ls(h))return!1;return!0}if(typeof _=="object"){for(const h in _)if(!ls(_[h]))return!1;return!0}return!1}function Co(_){if(_===null)return ks;if(typeof _=="string")return _o;if(typeof _=="boolean")return lo;if(typeof _=="number")return Pn;if(_ instanceof So)return as;if(_ instanceof Ds)return Cs;if(_ instanceof Ko)return zl;if(_ instanceof Do)return Yo;if(Array.isArray(_)){const h=_.length;let b;for(const _e of _){const rt=Co(_e);if(b){if(b===rt)continue;b=mo;break}b=rt}return ws(b||mo,h)}return Js}function _s(_){const h=typeof _;return _===null?"":h==="string"||h==="number"||h==="boolean"?String(_):_ instanceof So||_ instanceof Ko||_ instanceof Do?_.toString():JSON.stringify(_)}class zs{constructor(h,b){this.type=h,this.value=b}static parse(h,b){if(h.length!==2)return b.error(`'literal' expression requires exactly one argument, but found ${h.length-1} instead.`);if(!ls(h[1]))return b.error("invalid value");const _e=h[1];let rt=Co(_e);const it=b.expectedType;return rt.kind!=="array"||rt.N!==0||!it||it.kind!=="array"||typeof it.N=="number"&&it.N!==0||(rt=it),new zs(rt,_e)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}serialize(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof So?["rgba"].concat(this.value.toArray()):this.value instanceof Ko?this.value.serialize():this.value}}class es{constructor(h){this.name="ExpressionEvaluationError",this.message=h}toJSON(){return this.message}}const lr={string:_o,number:Pn,boolean:lo,object:Js};class vr{constructor(h,b){this.type=h,this.args=b}static parse(h,b){if(h.length<2)return b.error("Expected at least one argument.");let _e,rt=1;const it=h[0];if(it==="array"){let xt,Pt;if(h.length>2){const Ut=h[1];if(typeof Ut!="string"||!(Ut in lr)||Ut==="object")return b.error('The item type argument of "array" must be one of string, number, boolean',1);xt=lr[Ut],rt++}else xt=mo;if(h.length>3){if(h[2]!==null&&(typeof h[2]!="number"||h[2]<0||h[2]!==Math.floor(h[2])))return b.error('The length argument to "array" must be a positive integer literal',2);Pt=h[2],rt++}_e=ws(xt,Pt)}else _e=lr[it];const ht=[];for(;rt<h.length;rt++){const xt=b.parse(h[rt],rt,mo);if(!xt)return null;ht.push(xt)}return new vr(_e,ht)}evaluate(h){for(let b=0;b<this.args.length;b++){const _e=this.args[b].evaluate(h);if(!Dl(this.type,Co(_e)))return _e;if(b===this.args.length-1)throw new es(`Expected value to be of type ${Uo(this.type)}, but found ${Uo(Co(_e))} instead.`)}return null}eachChild(h){this.args.forEach(h)}outputDefined(){return this.args.every(h=>h.outputDefined())}serialize(){const h=this.type,b=[h.kind];if(h.kind==="array"){const _e=h.itemType;if(_e.kind==="string"||_e.kind==="number"||_e.kind==="boolean"){b.push(_e.kind);const rt=h.N;(typeof rt=="number"||this.args.length>1)&&b.push(rt)}}return b.concat(this.args.map(_e=>_e.serialize()))}}class Pr{constructor(h){this.type=zl,this.sections=h}static parse(h,b){if(h.length<2)return b.error("Expected at least one argument.");const _e=h[1];if(!Array.isArray(_e)&&typeof _e=="object")return b.error("First argument must be an image or text section.");const rt=[];let it=!1;for(let ht=1;ht<=h.length-1;++ht){const xt=h[ht];if(it&&typeof xt=="object"&&!Array.isArray(xt)){it=!1;let Pt=null;if(xt["font-scale"]&&(Pt=b.parse(xt["font-scale"],1,Pn),!Pt))return null;let Ut=null;if(xt["text-font"]&&(Ut=b.parse(xt["text-font"],1,ws(_o)),!Ut))return null;let $t=null;if(xt["text-color"]&&($t=b.parse(xt["text-color"],1,as),!$t))return null;const Jt=rt[rt.length-1];Jt.scale=Pt,Jt.font=Ut,Jt.textColor=$t}else{const Pt=b.parse(h[ht],1,mo);if(!Pt)return null;const Ut=Pt.type.kind;if(Ut!=="string"&&Ut!=="value"&&Ut!=="null"&&Ut!=="resolvedImage")return b.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");it=!0,rt.push({content:Pt,scale:null,font:null,textColor:null})}}return new Pr(rt)}evaluate(h){return new Ko(this.sections.map(b=>{const _e=b.content.evaluate(h);return Co(_e)===Yo?new Vl("",_e,null,null,null):new Vl(_s(_e),null,b.scale?b.scale.evaluate(h):null,b.font?b.font.evaluate(h).join(","):null,b.textColor?b.textColor.evaluate(h):null)}))}eachChild(h){for(const b of this.sections)h(b.content),b.scale&&h(b.scale),b.font&&h(b.font),b.textColor&&h(b.textColor)}outputDefined(){return!1}serialize(){const h=["format"];for(const b of this.sections){h.push(b.content.serialize());const _e={};b.scale&&(_e["font-scale"]=b.scale.serialize()),b.font&&(_e["text-font"]=b.font.serialize()),b.textColor&&(_e["text-color"]=b.textColor.serialize()),h.push(_e)}return h}}class $r{constructor(h){this.type=Yo,this.input=h}static parse(h,b){if(h.length!==2)return b.error("Expected two arguments.");const _e=b.parse(h[1],1,_o);return _e?new $r(_e):b.error("No image name provided.")}evaluate(h){const b=this.input.evaluate(h),_e=Do.fromString(b);return _e&&h.availableImages&&(_e.available=h.availableImages.indexOf(b)>-1),_e}eachChild(h){h(this.input)}outputDefined(){return!1}serialize(){return["image",this.input.serialize()]}}const cn={"to-boolean":lo,"to-color":as,"to-number":Pn,"to-string":_o};class An{constructor(h,b){this.type=h,this.args=b}static parse(h,b){if(h.length<2)return b.error("Expected at least one argument.");const _e=h[0];if((_e==="to-boolean"||_e==="to-string")&&h.length!==2)return b.error("Expected one argument.");const rt=cn[_e],it=[];for(let ht=1;ht<h.length;ht++){const xt=b.parse(h[ht],ht,mo);if(!xt)return null;it.push(xt)}return new An(rt,it)}evaluate(h){if(this.type.kind==="boolean")return Boolean(this.args[0].evaluate(h));if(this.type.kind==="color"){let b,_e;for(const rt of this.args){if(b=rt.evaluate(h),_e=null,b instanceof So)return b;if(typeof b=="string"){const it=h.parseColor(b);if(it)return it}else if(Array.isArray(b)&&(_e=b.length<3||b.length>4?`Invalid rbga value ${JSON.stringify(b)}: expected an array containing either three or four numeric values.`:ps(b[0],b[1],b[2],b[3]),!_e))return new So(b[0]/255,b[1]/255,b[2]/255,b[3])}throw new es(_e||`Could not parse color from value '${typeof b=="string"?b:String(JSON.stringify(b))}'`)}if(this.type.kind==="number"){let b=null;for(const _e of this.args){if(b=_e.evaluate(h),b===null)return 0;const rt=Number(b);if(!isNaN(rt))return rt}throw new es(`Could not convert ${JSON.stringify(b)} to number.`)}return this.type.kind==="formatted"?Ko.fromString(_s(this.args[0].evaluate(h))):this.type.kind==="resolvedImage"?Do.fromString(_s(this.args[0].evaluate(h))):_s(this.args[0].evaluate(h))}eachChild(h){this.args.forEach(h)}outputDefined(){return this.args.every(h=>h.outputDefined())}serialize(){if(this.type.kind==="formatted")return new Pr([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new $r(this.args[0]).serialize();const h=[`to-${this.type.kind}`];return this.eachChild(b=>{h.push(b.serialize())}),h}}const wn=["Unknown","Point","LineString","Polygon"];class gn{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null,this.featureTileCoord=null,this.featureDistanceData=null}id(){return this.feature&&"id"in this.feature&&this.feature.id?this.feature.id:null}geometryType(){return this.feature?typeof this.feature.type=="number"?wn[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}distanceFromCenter(){if(this.featureTileCoord&&this.featureDistanceData){const h=this.featureDistanceData.center,b=this.featureDistanceData.scale,{x:_e,y:rt}=this.featureTileCoord;return this.featureDistanceData.bearing[0]*(_e*b-h[0])+this.featureDistanceData.bearing[1]*(rt*b-h[1])}return 0}parseColor(h){let b=this._parseColorCache[h];return b||(b=this._parseColorCache[h]=So.parse(h)),b}}class Xt{constructor(h,b,_e,rt){this.name=h,this.type=b,this._evaluate=_e,this.args=rt}evaluate(h){return this._evaluate(h,this.args)}eachChild(h){this.args.forEach(h)}outputDefined(){return!1}serialize(){return[this.name].concat(this.args.map(h=>h.serialize()))}static parse(h,b){const _e=h[0],rt=Xt.definitions[_e];if(!rt)return b.error(`Unknown expression "${_e}". If you wanted a literal array, use ["literal", [...]].`,0);const it=Array.isArray(rt)?rt[0]:rt.type,ht=Array.isArray(rt)?[[rt[1],rt[2]]]:rt.overloads,xt=ht.filter(([Ut])=>!Array.isArray(Ut)||Ut.length===h.length-1);let Pt=null;for(const[Ut,$t]of xt){Pt=new iu(b.registry,b.path,null,b.scope);const Jt=[];let tr=!1;for(let ur=1;ur<h.length;ur++){const gr=h[ur],wr=Array.isArray(Ut)?Ut[ur-1]:Ut.type,Tr=Pt.parse(gr,1+Jt.length,wr);if(!Tr){tr=!0;break}Jt.push(Tr)}if(!tr)if(Array.isArray(Ut)&&Ut.length!==Jt.length)Pt.error(`Expected ${Ut.length} arguments, but found ${Jt.length} instead.`);else{for(let ur=0;ur<Jt.length;ur++){const gr=Array.isArray(Ut)?Ut[ur]:Ut.type,wr=Jt[ur];Pt.concat(ur+1).checkSubtype(gr,wr.type)}if(Pt.errors.length===0)return new Xt(_e,it,$t,Jt)}}if(xt.length===1)b.errors.push(...Pt.errors);else{const Ut=(xt.length?xt:ht).map(([Jt])=>{return tr=Jt,Array.isArray(tr)?`(${tr.map(Uo).join(", ")})`:`(${Uo(tr.type)}...)`;var tr}).join(" | "),$t=[];for(let Jt=1;Jt<h.length;Jt++){const tr=b.parse(h[Jt],1+$t.length);if(!tr)return null;$t.push(Uo(tr.type))}b.error(`Expected arguments of type ${Ut}, but found (${$t.join(", ")}) instead.`)}return null}static register(h,b){Xt.definitions=b;for(const _e in b)h[_e]=Xt}}class hr{constructor(h,b,_e){this.type=Cs,this.locale=_e,this.caseSensitive=h,this.diacriticSensitive=b}static parse(h,b){if(h.length!==2)return b.error("Expected one argument.");const _e=h[1];if(typeof _e!="object"||Array.isArray(_e))return b.error("Collator options argument must be an object.");const rt=b.parse(_e["case-sensitive"]!==void 0&&_e["case-sensitive"],1,lo);if(!rt)return null;const it=b.parse(_e["diacritic-sensitive"]!==void 0&&_e["diacritic-sensitive"],1,lo);if(!it)return null;let ht=null;return _e.locale&&(ht=b.parse(_e.locale,1,_o),!ht)?null:new hr(rt,it,ht)}evaluate(h){return new Ds(this.caseSensitive.evaluate(h),this.diacriticSensitive.evaluate(h),this.locale?this.locale.evaluate(h):null)}eachChild(h){h(this.caseSensitive),h(this.diacriticSensitive),this.locale&&h(this.locale)}outputDefined(){return!1}serialize(){const h={};return h["case-sensitive"]=this.caseSensitive.serialize(),h["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(h.locale=this.locale.serialize()),["collator",h]}}const Sr=8192;function zr(_,h){_[0]=Math.min(_[0],h[0]),_[1]=Math.min(_[1],h[1]),_[2]=Math.max(_[2],h[0]),_[3]=Math.max(_[3],h[1])}function Xr(_,h){return!(_[0]<=h[0]||_[2]>=h[2]||_[1]<=h[1]||_[3]>=h[3])}function hn(_,h){const b=(180+_[0])/360,_e=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_[1]*Math.PI/360)))/360,rt=Math.pow(2,h.z);return[Math.round(b*rt*Sr),Math.round(_e*rt*Sr)]}function Fr(_,h,b){const _e=_[0]-h[0],rt=_[1]-h[1],it=_[0]-b[0],ht=_[1]-b[1];return _e*ht-it*rt==0&&_e*it<=0&&rt*ht<=0}function nn(_,h){let b=!1;for(let ht=0,xt=h.length;ht<xt;ht++){const Pt=h[ht];for(let Ut=0,$t=Pt.length;Ut<$t-1;Ut++){if(Fr(_,Pt[Ut],Pt[Ut+1]))return!1;(rt=Pt[Ut])[1]>(_e=_)[1]!=(it=Pt[Ut+1])[1]>_e[1]&&_e[0]<(it[0]-rt[0])*(_e[1]-rt[1])/(it[1]-rt[1])+rt[0]&&(b=!b)}}var _e,rt,it;return b}function Sn(_,h){for(let b=0;b<h.length;b++)if(nn(_,h[b]))return!0;return!1}function In(_,h,b,_e){const rt=_e[0]-b[0],it=_e[1]-b[1],ht=(_[0]-b[0])*it-rt*(_[1]-b[1]),xt=(h[0]-b[0])*it-rt*(h[1]-b[1]);return ht>0&&xt<0||ht<0&&xt>0}function Zn(_,h,b){for(const Ut of b)for(let $t=0;$t<Ut.length-1;++$t)if((xt=[(ht=Ut[$t+1])[0]-(it=Ut[$t])[0],ht[1]-it[1]])[0]*(Pt=[(rt=h)[0]-(_e=_)[0],rt[1]-_e[1]])[1]-xt[1]*Pt[0]!=0&&In(_e,rt,it,ht)&&In(it,ht,_e,rt))return!0;var _e,rt,it,ht,xt,Pt;return!1}function Ro(_,h){for(let b=0;b<_.length;++b)if(!nn(_[b],h))return!1;for(let b=0;b<_.length-1;++b)if(Zn(_[b],_[b+1],h))return!1;return!0}function ao(_,h){for(let b=0;b<h.length;b++)if(Ro(_,h[b]))return!0;return!1}function bo(_,h,b){const _e=[];for(let rt=0;rt<_.length;rt++){const it=[];for(let ht=0;ht<_[rt].length;ht++){const xt=hn(_[rt][ht],b);zr(h,xt),it.push(xt)}_e.push(it)}return _e}function Mo(_,h,b){const _e=[];for(let rt=0;rt<_.length;rt++){const it=bo(_[rt],h,b);_e.push(it)}return _e}function jo(_,h,b,_e){if(_[0]<b[0]||_[0]>b[2]){const rt=.5*_e;let it=_[0]-b[0]>rt?-_e:b[0]-_[0]>rt?_e:0;it===0&&(it=_[0]-b[2]>rt?-_e:b[2]-_[0]>rt?_e:0),_[0]+=it}zr(h,_)}function ho(_,h,b,_e){const rt=Math.pow(2,_e.z)*Sr,it=[_e.x*Sr,_e.y*Sr],ht=[];if(!_)return ht;for(const xt of _)for(const Pt of xt){const Ut=[Pt.x+it[0],Pt.y+it[1]];jo(Ut,h,b,rt),ht.push(Ut)}return ht}function Qs(_,h,b,_e){const rt=Math.pow(2,_e.z)*Sr,it=[_e.x*Sr,_e.y*Sr],ht=[];if(!_)return ht;for(const Pt of _){const Ut=[];for(const $t of Pt){const Jt=[$t.x+it[0],$t.y+it[1]];zr(h,Jt),Ut.push(Jt)}ht.push(Ut)}if(h[2]-h[0]<=rt/2){(xt=h)[0]=xt[1]=1/0,xt[2]=xt[3]=-1/0;for(const Pt of ht)for(const Ut of Pt)jo(Ut,h,b,rt)}var xt;return ht}class Vs{constructor(h,b){this.type=lo,this.geojson=h,this.geometries=b}static parse(h,b){if(h.length!==2)return b.error(`'within' expression requires exactly one argument, but found ${h.length-1} instead.`);if(ls(h[1])){const _e=h[1];if(_e.type==="FeatureCollection")for(let rt=0;rt<_e.features.length;++rt){const it=_e.features[rt].geometry.type;if(it==="Polygon"||it==="MultiPolygon")return new Vs(_e,_e.features[rt].geometry)}else if(_e.type==="Feature"){const rt=_e.geometry.type;if(rt==="Polygon"||rt==="MultiPolygon")return new Vs(_e,_e.geometry)}else if(_e.type==="Polygon"||_e.type==="MultiPolygon")return new Vs(_e,_e)}return b.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(h){if(h.geometry()!=null&&h.canonicalID()!=null){if(h.geometryType()==="Point")return function(b,_e){const rt=[1/0,1/0,-1/0,-1/0],it=[1/0,1/0,-1/0,-1/0],ht=b.canonicalID();if(!ht)return!1;if(_e.type==="Polygon"){const xt=bo(_e.coordinates,it,ht),Pt=ho(b.geometry(),rt,it,ht);if(!Xr(rt,it))return!1;for(const Ut of Pt)if(!nn(Ut,xt))return!1}if(_e.type==="MultiPolygon"){const xt=Mo(_e.coordinates,it,ht),Pt=ho(b.geometry(),rt,it,ht);if(!Xr(rt,it))return!1;for(const Ut of Pt)if(!Sn(Ut,xt))return!1}return!0}(h,this.geometries);if(h.geometryType()==="LineString")return function(b,_e){const rt=[1/0,1/0,-1/0,-1/0],it=[1/0,1/0,-1/0,-1/0],ht=b.canonicalID();if(!ht)return!1;if(_e.type==="Polygon"){const xt=bo(_e.coordinates,it,ht),Pt=Qs(b.geometry(),rt,it,ht);if(!Xr(rt,it))return!1;for(const Ut of Pt)if(!Ro(Ut,xt))return!1}if(_e.type==="MultiPolygon"){const xt=Mo(_e.coordinates,it,ht),Pt=Qs(b.geometry(),rt,it,ht);if(!Xr(rt,it))return!1;for(const Ut of Pt)if(!ao(Ut,xt))return!1}return!0}(h,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}serialize(){return["within",this.geojson]}}function Ws(_){if(_ instanceof Xt&&(_.name==="get"&&_.args.length===1||_.name==="feature-state"||_.name==="has"&&_.args.length===1||_.name==="properties"||_.name==="geometry-type"||_.name==="id"||/^filter-/.test(_.name))||_ instanceof Vs)return!1;let h=!0;return _.eachChild(b=>{h&&!Ws(b)&&(h=!1)}),h}function tp(_){if(_ instanceof Xt&&_.name==="feature-state")return!1;let h=!0;return _.eachChild(b=>{h&&!tp(b)&&(h=!1)}),h}function rp(_,h){if(_ instanceof Xt&&h.indexOf(_.name)>=0)return!1;let b=!0;return _.eachChild(_e=>{b&&!rp(_e,h)&&(b=!1)}),b}class wu{constructor(h,b){this.type=b.type,this.name=h,this.boundExpression=b}static parse(h,b){if(h.length!==2||typeof h[1]!="string")return b.error("'var' expression requires exactly one string literal argument.");const _e=h[1];return b.scope.has(_e)?new wu(_e,b.scope.get(_e)):b.error(`Unknown variable "${_e}". Make sure "${_e}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(h){return this.boundExpression.evaluate(h)}eachChild(){}outputDefined(){return!1}serialize(){return["var",this.name]}}class iu{constructor(h,b=[],_e,rt=new Us,it=[]){this.registry=h,this.path=b,this.key=b.map(ht=>`[${ht}]`).join(""),this.scope=rt,this.errors=it,this.expectedType=_e}parse(h,b,_e,rt,it={}){return b?this.concat(b,_e,rt)._parse(h,it):this._parse(h,it)}_parse(h,b){function _e(rt,it,ht){return ht==="assert"?new vr(it,[rt]):ht==="coerce"?new An(it,[rt]):rt}if(h!==null&&typeof h!="string"&&typeof h!="boolean"&&typeof h!="number"||(h=["literal",h]),Array.isArray(h)){if(h.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const rt=h[0];if(typeof rt!="string")return this.error(`Expression name must be a string, but found ${typeof rt} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const it=this.registry[rt];if(it){let ht=it.parse(h,this);if(!ht)return null;if(this.expectedType){const xt=this.expectedType,Pt=ht.type;if(xt.kind!=="string"&&xt.kind!=="number"&&xt.kind!=="boolean"&&xt.kind!=="object"&&xt.kind!=="array"||Pt.kind!=="value")if(xt.kind!=="color"&&xt.kind!=="formatted"&&xt.kind!=="resolvedImage"||Pt.kind!=="value"&&Pt.kind!=="string"){if(this.checkSubtype(xt,Pt))return null}else ht=_e(ht,xt,b.typeAnnotation||"coerce");else ht=_e(ht,xt,b.typeAnnotation||"assert")}if(!(ht instanceof zs)&&ht.type.kind!=="resolvedImage"&&Pp(ht)){const xt=new gn;try{ht=new zs(ht.type,ht.evaluate(xt))}catch(Pt){return this.error(Pt.message),null}}return ht}return this.error(`Unknown expression "${rt}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(h===void 0?"'undefined' value invalid. Use null instead.":typeof h=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof h} instead.`)}concat(h,b,_e){const rt=typeof h=="number"?this.path.concat(h):this.path,it=_e?this.scope.concat(_e):this.scope;return new iu(this.registry,rt,b||null,it,this.errors)}error(h,...b){const _e=`${this.key}${b.map(rt=>`[${rt}]`).join("")}`;this.errors.push(new so(_e,h))}checkSubtype(h,b){const _e=Dl(h,b);return _e&&this.error(_e),_e}}function Pp(_){if(_ instanceof wu)return Pp(_.boundExpression);if(_ instanceof Xt&&_.name==="error"||_ instanceof hr||_ instanceof Vs)return!1;const h=_ instanceof An||_ instanceof vr;let b=!0;return _.eachChild(_e=>{b=h?b&&Pp(_e):b&&_e instanceof zs}),!!b&&Ws(_)&&rp(_,["zoom","heatmap-density","line-progress","sky-radial-progress","accumulated","is-supported-script","pitch","distance-from-center"])}function np(_,h){const b=_.length-1;let _e,rt,it=0,ht=b,xt=0;for(;it<=ht;)if(xt=Math.floor((it+ht)/2),_e=_[xt],rt=_[xt+1],_e<=h){if(xt===b||h<rt)return xt;it=xt+1}else{if(!(_e>h))throw new es("Input is not a number.");ht=xt-1}return 0}class ip{constructor(h,b,_e){this.type=h,this.input=b,this.labels=[],this.outputs=[];for(const[rt,it]of _e)this.labels.push(rt),this.outputs.push(it)}static parse(h,b){if(h.length-1<4)return b.error(`Expected at least 4 arguments, but found only ${h.length-1}.`);if((h.length-1)%2!=0)return b.error("Expected an even number of arguments.");const _e=b.parse(h[1],1,Pn);if(!_e)return null;const rt=[];let it=null;b.expectedType&&b.expectedType.kind!=="value"&&(it=b.expectedType);for(let ht=1;ht<h.length;ht+=2){const xt=ht===1?-1/0:h[ht],Pt=h[ht+1],Ut=ht,$t=ht+1;if(typeof xt!="number")return b.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',Ut);if(rt.length&&rt[rt.length-1][0]>=xt)return b.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',Ut);const Jt=b.parse(Pt,$t,it);if(!Jt)return null;it=it||Jt.type,rt.push([xt,Jt])}return new ip(it,_e,rt)}evaluate(h){const b=this.labels,_e=this.outputs;if(b.length===1)return _e[0].evaluate(h);const rt=this.input.evaluate(h);if(rt<=b[0])return _e[0].evaluate(h);const it=b.length;return rt>=b[it-1]?_e[it-1].evaluate(h):_e[np(b,rt)].evaluate(h)}eachChild(h){h(this.input);for(const b of this.outputs)h(b)}outputDefined(){return this.outputs.every(h=>h.outputDefined())}serialize(){const h=["step",this.input.serialize()];for(let b=0;b<this.labels.length;b++)b>0&&h.push(this.labels[b]),h.push(this.outputs[b].serialize());return h}}function to(_,h,b){return _*(1-b)+h*b}var kp=Object.freeze({__proto__:null,number:to,color:function(_,h,b){return new So(to(_.r,h.r,b),to(_.g,h.g,b),to(_.b,h.b,b),to(_.a,h.a,b))},array:function(_,h,b){return _.map((_e,rt)=>to(_e,h[rt],b))}});const k1=.95047,D1=1.08883,Sm=4/29,Em=6/29,Tm=3*Em*Em,B1=Math.PI/180,N1=180/Math.PI;function Dp(_){return _>.008856451679035631?Math.pow(_,1/3):_/Tm+Sm}function ou(_){return _>Em?_*_*_:Tm*(_-Sm)}function ku(_){return 255*(_<=.0031308?12.92*_:1.055*Math.pow(_,1/2.4)-.055)}function Am(_){return(_/=255)<=.04045?_/12.92:Math.pow((_+.055)/1.055,2.4)}function Bp(_){const h=Am(_.r),b=Am(_.g),_e=Am(_.b),rt=Dp((.4124564*h+.3575761*b+.1804375*_e)/k1),it=Dp((.2126729*h+.7151522*b+.072175*_e)/1);return{l:116*it-16,a:500*(rt-it),b:200*(it-Dp((.0193339*h+.119192*b+.9503041*_e)/D1)),alpha:_.a}}function Cm(_){let h=(_.l+16)/116,b=isNaN(_.a)?h:h+_.a/500,_e=isNaN(_.b)?h:h-_.b/200;return h=1*ou(h),b=k1*ou(b),_e=D1*ou(_e),new So(ku(3.2404542*b-1.5371385*h-.4985314*_e),ku(-.969266*b+1.8760108*h+.041556*_e),ku(.0556434*b-.2040259*h+1.0572252*_e),_.alpha)}function Jy(_,h,b){const _e=h-_;return _+b*(_e>180||_e<-180?_e-360*Math.round(_e/360):_e)}const op={forward:Bp,reverse:Cm,interpolate:function(_,h,b){return{l:to(_.l,h.l,b),a:to(_.a,h.a,b),b:to(_.b,h.b,b),alpha:to(_.alpha,h.alpha,b)}}},sp={forward:function(_){const{l:h,a:b,b:_e}=Bp(_),rt=Math.atan2(_e,b)*N1;return{h:rt<0?rt+360:rt,c:Math.sqrt(b*b+_e*_e),l:h,alpha:_.a}},reverse:function(_){const h=_.h*B1,b=_.c;return Cm({l:_.l,a:Math.cos(h)*b,b:Math.sin(h)*b,alpha:_.alpha})},interpolate:function(_,h,b){return{h:Jy(_.h,h.h,b),c:to(_.c,h.c,b),l:to(_.l,h.l,b),alpha:to(_.alpha,h.alpha,b)}}};var Rm=Object.freeze({__proto__:null,lab:op,hcl:sp});class ca{constructor(h,b,_e,rt,it){this.type=h,this.operator=b,this.interpolation=_e,this.input=rt,this.labels=[],this.outputs=[];for(const[ht,xt]of it)this.labels.push(ht),this.outputs.push(xt)}static interpolationFactor(h,b,_e,rt){let it=0;if(h.name==="exponential")it=Np(b,h.base,_e,rt);else if(h.name==="linear")it=Np(b,1,_e,rt);else if(h.name==="cubic-bezier"){const ht=h.controlPoints;it=new et(ht[0],ht[1],ht[2],ht[3]).solve(Np(b,1,_e,rt))}return it}static parse(h,b){let[_e,rt,it,...ht]=h;if(!Array.isArray(rt)||rt.length===0)return b.error("Expected an interpolation type expression.",1);if(rt[0]==="linear")rt={name:"linear"};else if(rt[0]==="exponential"){const Ut=rt[1];if(typeof Ut!="number")return b.error("Exponential interpolation requires a numeric base.",1,1);rt={name:"exponential",base:Ut}}else{if(rt[0]!=="cubic-bezier")return b.error(`Unknown interpolation type ${String(rt[0])}`,1,0);{const Ut=rt.slice(1);if(Ut.length!==4||Ut.some($t=>typeof $t!="number"||$t<0||$t>1))return b.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);rt={name:"cubic-bezier",controlPoints:Ut}}}if(h.length-1<4)return b.error(`Expected at least 4 arguments, but found only ${h.length-1}.`);if((h.length-1)%2!=0)return b.error("Expected an even number of arguments.");if(it=b.parse(it,2,Pn),!it)return null;const xt=[];let Pt=null;_e==="interpolate-hcl"||_e==="interpolate-lab"?Pt=as:b.expectedType&&b.expectedType.kind!=="value"&&(Pt=b.expectedType);for(let Ut=0;Ut<ht.length;Ut+=2){const $t=ht[Ut],Jt=ht[Ut+1],tr=Ut+3,ur=Ut+4;if(typeof $t!="number")return b.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',tr);if(xt.length&&xt[xt.length-1][0]>=$t)return b.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',tr);const gr=b.parse(Jt,ur,Pt);if(!gr)return null;Pt=Pt||gr.type,xt.push([$t,gr])}return Pt.kind==="number"||Pt.kind==="color"||Pt.kind==="array"&&Pt.itemType.kind==="number"&&typeof Pt.N=="number"?new ca(Pt,_e,rt,it,xt):b.error(`Type ${Uo(Pt)} is not interpolatable.`)}evaluate(h){const b=this.labels,_e=this.outputs;if(b.length===1)return _e[0].evaluate(h);const rt=this.input.evaluate(h);if(rt<=b[0])return _e[0].evaluate(h);const it=b.length;if(rt>=b[it-1])return _e[it-1].evaluate(h);const ht=np(b,rt),xt=ca.interpolationFactor(this.interpolation,rt,b[ht],b[ht+1]),Pt=_e[ht].evaluate(h),Ut=_e[ht+1].evaluate(h);return this.operator==="interpolate"?kp[this.type.kind.toLowerCase()](Pt,Ut,xt):this.operator==="interpolate-hcl"?sp.reverse(sp.interpolate(sp.forward(Pt),sp.forward(Ut),xt)):op.reverse(op.interpolate(op.forward(Pt),op.forward(Ut),xt))}eachChild(h){h(this.input);for(const b of this.outputs)h(b)}outputDefined(){return this.outputs.every(h=>h.outputDefined())}serialize(){let h;h=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);const b=[this.operator,h,this.input.serialize()];for(let _e=0;_e<this.labels.length;_e++)b.push(this.labels[_e],this.outputs[_e].serialize());return b}}function Np(_,h,b,_e){const rt=_e-b,it=_-b;return rt===0?0:h===1?it/rt:(Math.pow(h,it)-1)/(Math.pow(h,rt)-1)}class ap{constructor(h,b){this.type=h,this.args=b}static parse(h,b){if(h.length<2)return b.error("Expectected at least one argument.");let _e=null;const rt=b.expectedType;rt&&rt.kind!=="value"&&(_e=rt);const it=[];for(const xt of h.slice(1)){const Pt=b.parse(xt,1+it.length,_e,void 0,{typeAnnotation:"omit"});if(!Pt)return null;_e=_e||Pt.type,it.push(Pt)}const ht=rt&&it.some(xt=>Dl(rt,xt.type));return new ap(ht?mo:_e,it)}evaluate(h){let b,_e=null,rt=0;for(const it of this.args){if(rt++,_e=it.evaluate(h),_e&&_e instanceof Do&&!_e.available&&(b||(b=_e),_e=null,rt===this.args.length))return b;if(_e!==null)break}return _e}eachChild(h){this.args.forEach(h)}outputDefined(){return this.args.every(h=>h.outputDefined())}serialize(){const h=["coalesce"];return this.eachChild(b=>{h.push(b.serialize())}),h}}class lp{constructor(h,b){this.type=b.type,this.bindings=[].concat(h),this.result=b}evaluate(h){return this.result.evaluate(h)}eachChild(h){for(const b of this.bindings)h(b[1]);h(this.result)}static parse(h,b){if(h.length<4)return b.error(`Expected at least 3 arguments, but found ${h.length-1} instead.`);const _e=[];for(let it=1;it<h.length-1;it+=2){const ht=h[it];if(typeof ht!="string")return b.error(`Expected string, but found ${typeof ht} instead.`,it);if(/[^a-zA-Z0-9_]/.test(ht))return b.error("Variable names must contain only alphanumeric characters or '_'.",it);const xt=b.parse(h[it+1],it+1);if(!xt)return null;_e.push([ht,xt])}const rt=b.parse(h[h.length-1],h.length-1,b.expectedType,_e);return rt?new lp(_e,rt):null}outputDefined(){return this.result.outputDefined()}serialize(){const h=["let"];for(const[b,_e]of this.bindings)h.push(b,_e.serialize());return h.push(this.result.serialize()),h}}class Mm{constructor(h,b,_e){this.type=h,this.index=b,this.input=_e}static parse(h,b){if(h.length!==3)return b.error(`Expected 2 arguments, but found ${h.length-1} instead.`);const _e=b.parse(h[1],1,Pn),rt=b.parse(h[2],2,ws(b.expectedType||mo));return _e&&rt?new Mm(rt.type.itemType,_e,rt):null}evaluate(h){const b=this.index.evaluate(h),_e=this.input.evaluate(h);if(b<0)throw new es(`Array index out of bounds: ${b} < 0.`);if(b>=_e.length)throw new es(`Array index out of bounds: ${b} > ${_e.length-1}.`);if(b!==Math.floor(b))throw new es(`Array index must be an integer, but found ${b} instead.`);return _e[b]}eachChild(h){h(this.index),h(this.input)}outputDefined(){return!1}serialize(){return["at",this.index.serialize(),this.input.serialize()]}}class Fp{constructor(h,b){this.type=lo,this.needle=h,this.haystack=b}static parse(h,b){if(h.length!==3)return b.error(`Expected 2 arguments, but found ${h.length-1} instead.`);const _e=b.parse(h[1],1,mo),rt=b.parse(h[2],2,mo);return _e&&rt?$l(_e.type,[lo,_o,Pn,ks,mo])?new Fp(_e,rt):b.error(`Expected first argument to be of type boolean, string, number or null, but found ${Uo(_e.type)} instead`):null}evaluate(h){const b=this.needle.evaluate(h),_e=this.haystack.evaluate(h);if(_e==null)return!1;if(!Rs(b,["boolean","string","number","null"]))throw new es(`Expected first argument to be of type boolean, string, number or null, but found ${Uo(Co(b))} instead.`);if(!Rs(_e,["string","array"]))throw new es(`Expected second argument to be of type array or string, but found ${Uo(Co(_e))} instead.`);return _e.indexOf(b)>=0}eachChild(h){h(this.needle),h(this.haystack)}outputDefined(){return!0}serialize(){return["in",this.needle.serialize(),this.haystack.serialize()]}}class Up{constructor(h,b,_e){this.type=Pn,this.needle=h,this.haystack=b,this.fromIndex=_e}static parse(h,b){if(h.length<=2||h.length>=5)return b.error(`Expected 3 or 4 arguments, but found ${h.length-1} instead.`);const _e=b.parse(h[1],1,mo),rt=b.parse(h[2],2,mo);if(!_e||!rt)return null;if(!$l(_e.type,[lo,_o,Pn,ks,mo]))return b.error(`Expected first argument to be of type boolean, string, number or null, but found ${Uo(_e.type)} instead`);if(h.length===4){const it=b.parse(h[3],3,Pn);return it?new Up(_e,rt,it):null}return new Up(_e,rt)}evaluate(h){const b=this.needle.evaluate(h),_e=this.haystack.evaluate(h);if(!Rs(b,["boolean","string","number","null"]))throw new es(`Expected first argument to be of type boolean, string, number or null, but found ${Uo(Co(b))} instead.`);if(!Rs(_e,["string","array"]))throw new es(`Expected second argument to be of type array or string, but found ${Uo(Co(_e))} instead.`);if(this.fromIndex){const rt=this.fromIndex.evaluate(h);return _e.indexOf(b,rt)}return _e.indexOf(b)}eachChild(h){h(this.needle),h(this.haystack),this.fromIndex&&h(this.fromIndex)}outputDefined(){return!1}serialize(){if(this.fromIndex!=null&&this.fromIndex!==void 0){const h=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),h]}return["index-of",this.needle.serialize(),this.haystack.serialize()]}}class zp{constructor(h,b,_e,rt,it,ht){this.inputType=h,this.type=b,this.input=_e,this.cases=rt,this.outputs=it,this.otherwise=ht}static parse(h,b){if(h.length<5)return b.error(`Expected at least 4 arguments, but found only ${h.length-1}.`);if(h.length%2!=1)return b.error("Expected an even number of arguments.");let _e,rt;b.expectedType&&b.expectedType.kind!=="value"&&(rt=b.expectedType);const it={},ht=[];for(let Ut=2;Ut<h.length-1;Ut+=2){let $t=h[Ut];const Jt=h[Ut+1];Array.isArray($t)||($t=[$t]);const tr=b.concat(Ut);if($t.length===0)return tr.error("Expected at least one branch label.");for(const gr of $t){if(typeof gr!="number"&&typeof gr!="string")return tr.error("Branch labels must be numbers or strings.");if(typeof gr=="number"&&Math.abs(gr)>Number.MAX_SAFE_INTEGER)return tr.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if(typeof gr=="number"&&Math.floor(gr)!==gr)return tr.error("Numeric branch labels must be integer values.");if(_e){if(tr.checkSubtype(_e,Co(gr)))return null}else _e=Co(gr);if(it[String(gr)]!==void 0)return tr.error("Branch labels must be unique.");it[String(gr)]=ht.length}const ur=b.parse(Jt,Ut,rt);if(!ur)return null;rt=rt||ur.type,ht.push(ur)}const xt=b.parse(h[1],1,mo);if(!xt)return null;const Pt=b.parse(h[h.length-1],h.length-1,rt);return Pt?xt.type.kind!=="value"&&b.concat(1).checkSubtype(_e,xt.type)?null:new zp(_e,rt,xt,it,ht,Pt):null}evaluate(h){const b=this.input.evaluate(h);return(Co(b)===this.inputType&&this.outputs[this.cases[b]]||this.otherwise).evaluate(h)}eachChild(h){h(this.input),this.outputs.forEach(h),h(this.otherwise)}outputDefined(){return this.outputs.every(h=>h.outputDefined())&&this.otherwise.outputDefined()}serialize(){const h=["match",this.input.serialize()],b=Object.keys(this.cases).sort(),_e=[],rt={};for(const ht of b){const xt=rt[this.cases[ht]];xt===void 0?(rt[this.cases[ht]]=_e.length,_e.push([this.cases[ht],[ht]])):_e[xt][1].push(ht)}const it=ht=>this.inputType.kind==="number"?Number(ht):ht;for(const[ht,xt]of _e)h.push(xt.length===1?it(xt[0]):xt.map(it)),h.push(this.outputs[ht].serialize());return h.push(this.otherwise.serialize()),h}}class Vp{constructor(h,b,_e){this.type=h,this.branches=b,this.otherwise=_e}static parse(h,b){if(h.length<4)return b.error(`Expected at least 3 arguments, but found only ${h.length-1}.`);if(h.length%2!=0)return b.error("Expected an odd number of arguments.");let _e;b.expectedType&&b.expectedType.kind!=="value"&&(_e=b.expectedType);const rt=[];for(let ht=1;ht<h.length-1;ht+=2){const xt=b.parse(h[ht],ht,lo);if(!xt)return null;const Pt=b.parse(h[ht+1],ht+1,_e);if(!Pt)return null;rt.push([xt,Pt]),_e=_e||Pt.type}const it=b.parse(h[h.length-1],h.length-1,_e);return it?new Vp(_e,rt,it):null}evaluate(h){for(const[b,_e]of this.branches)if(b.evaluate(h))return _e.evaluate(h);return this.otherwise.evaluate(h)}eachChild(h){for(const[b,_e]of this.branches)h(b),h(_e);h(this.otherwise)}outputDefined(){return this.branches.every(([h,b])=>b.outputDefined())&&this.otherwise.outputDefined()}serialize(){const h=["case"];return this.eachChild(b=>{h.push(b.serialize())}),h}}class Wp{constructor(h,b,_e,rt){this.type=h,this.input=b,this.beginIndex=_e,this.endIndex=rt}static parse(h,b){if(h.length<=2||h.length>=5)return b.error(`Expected 3 or 4 arguments, but found ${h.length-1} instead.`);const _e=b.parse(h[1],1,mo),rt=b.parse(h[2],2,Pn);if(!_e||!rt)return null;if(!$l(_e.type,[ws(mo),_o,mo]))return b.error(`Expected first argument to be of type array or string, but found ${Uo(_e.type)} instead`);if(h.length===4){const it=b.parse(h[3],3,Pn);return it?new Wp(_e.type,_e,rt,it):null}return new Wp(_e.type,_e,rt)}evaluate(h){const b=this.input.evaluate(h),_e=this.beginIndex.evaluate(h);if(!Rs(b,["string","array"]))throw new es(`Expected first argument to be of type array or string, but found ${Uo(Co(b))} instead.`);if(this.endIndex){const rt=this.endIndex.evaluate(h);return b.slice(_e,rt)}return b.slice(_e)}eachChild(h){h(this.input),h(this.beginIndex),this.endIndex&&h(this.endIndex)}outputDefined(){return!1}serialize(){if(this.endIndex!=null&&this.endIndex!==void 0){const h=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),h]}return["slice",this.input.serialize(),this.beginIndex.serialize()]}}function F1(_,h){return _==="=="||_==="!="?h.kind==="boolean"||h.kind==="string"||h.kind==="number"||h.kind==="null"||h.kind==="value":h.kind==="string"||h.kind==="number"||h.kind==="value"}function U1(_,h,b,_e){return _e.compare(h,b)===0}function Du(_,h,b){const _e=_!=="=="&&_!=="!=";return class _w{constructor(it,ht,xt){this.type=lo,this.lhs=it,this.rhs=ht,this.collator=xt,this.hasUntypedArgument=it.type.kind==="value"||ht.type.kind==="value"}static parse(it,ht){if(it.length!==3&&it.length!==4)return ht.error("Expected two or three arguments.");const xt=it[0];let Pt=ht.parse(it[1],1,mo);if(!Pt)return null;if(!F1(xt,Pt.type))return ht.concat(1).error(`"${xt}" comparisons are not supported for type '${Uo(Pt.type)}'.`);let Ut=ht.parse(it[2],2,mo);if(!Ut)return null;if(!F1(xt,Ut.type))return ht.concat(2).error(`"${xt}" comparisons are not supported for type '${Uo(Ut.type)}'.`);if(Pt.type.kind!==Ut.type.kind&&Pt.type.kind!=="value"&&Ut.type.kind!=="value")return ht.error(`Cannot compare types '${Uo(Pt.type)}' and '${Uo(Ut.type)}'.`);_e&&(Pt.type.kind==="value"&&Ut.type.kind!=="value"?Pt=new vr(Ut.type,[Pt]):Pt.type.kind!=="value"&&Ut.type.kind==="value"&&(Ut=new vr(Pt.type,[Ut])));let $t=null;if(it.length===4){if(Pt.type.kind!=="string"&&Ut.type.kind!=="string"&&Pt.type.kind!=="value"&&Ut.type.kind!=="value")return ht.error("Cannot use collator to compare non-string types.");if($t=ht.parse(it[3],3,Cs),!$t)return null}return new _w(Pt,Ut,$t)}evaluate(it){const ht=this.lhs.evaluate(it),xt=this.rhs.evaluate(it);if(_e&&this.hasUntypedArgument){const Pt=Co(ht),Ut=Co(xt);if(Pt.kind!==Ut.kind||Pt.kind!=="string"&&Pt.kind!=="number")throw new es(`Expected arguments for "${_}" to be (string, string) or (number, number), but found (${Pt.kind}, ${Ut.kind}) instead.`)}if(this.collator&&!_e&&this.hasUntypedArgument){const Pt=Co(ht),Ut=Co(xt);if(Pt.kind!=="string"||Ut.kind!=="string")return h(it,ht,xt)}return this.collator?b(it,ht,xt,this.collator.evaluate(it)):h(it,ht,xt)}eachChild(it){it(this.lhs),it(this.rhs),this.collator&&it(this.collator)}outputDefined(){return!0}serialize(){const it=[_];return this.eachChild(ht=>{it.push(ht.serialize())}),it}}}const Qy=Du("==",function(_,h,b){return h===b},U1),e_=Du("!=",function(_,h,b){return h!==b},function(_,h,b,_e){return!U1(0,h,b,_e)}),z1=Du("<",function(_,h,b){return h<b},function(_,h,b,_e){return _e.compare(h,b)<0}),t_=Du(">",function(_,h,b){return h>b},function(_,h,b,_e){return _e.compare(h,b)>0}),r_=Du("<=",function(_,h,b){return h<=b},function(_,h,b,_e){return _e.compare(h,b)<=0}),n_=Du(">=",function(_,h,b){return h>=b},function(_,h,b,_e){return _e.compare(h,b)>=0});class Im{constructor(h,b,_e,rt,it){this.type=_o,this.number=h,this.locale=b,this.currency=_e,this.minFractionDigits=rt,this.maxFractionDigits=it}static parse(h,b){if(h.length!==3)return b.error("Expected two arguments.");const _e=b.parse(h[1],1,Pn);if(!_e)return null;const rt=h[2];if(typeof rt!="object"||Array.isArray(rt))return b.error("NumberFormat options argument must be an object.");let it=null;if(rt.locale&&(it=b.parse(rt.locale,1,_o),!it))return null;let ht=null;if(rt.currency&&(ht=b.parse(rt.currency,1,_o),!ht))return null;let xt=null;if(rt["min-fraction-digits"]&&(xt=b.parse(rt["min-fraction-digits"],1,Pn),!xt))return null;let Pt=null;return rt["max-fraction-digits"]&&(Pt=b.parse(rt["max-fraction-digits"],1,Pn),!Pt)?null:new Im(_e,it,ht,xt,Pt)}evaluate(h){return new Intl.NumberFormat(this.locale?this.locale.evaluate(h):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(h):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(h):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(h):void 0}).format(this.number.evaluate(h))}eachChild(h){h(this.number),this.locale&&h(this.locale),this.currency&&h(this.currency),this.minFractionDigits&&h(this.minFractionDigits),this.maxFractionDigits&&h(this.maxFractionDigits)}outputDefined(){return!1}serialize(){const h={};return this.locale&&(h.locale=this.locale.serialize()),this.currency&&(h.currency=this.currency.serialize()),this.minFractionDigits&&(h["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(h["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),h]}}class Hp{constructor(h){this.type=Pn,this.input=h}static parse(h,b){if(h.length!==2)return b.error(`Expected 1 argument, but found ${h.length-1} instead.`);const _e=b.parse(h[1],1);return _e?_e.type.kind!=="array"&&_e.type.kind!=="string"&&_e.type.kind!=="value"?b.error(`Expected argument of type string or array, but found ${Uo(_e.type)} instead.`):new Hp(_e):null}evaluate(h){const b=this.input.evaluate(h);if(typeof b=="string"||Array.isArray(b))return b.length;throw new es(`Expected value to be of type string or array, but found ${Uo(Co(b))} instead.`)}eachChild(h){h(this.input)}outputDefined(){return!1}serialize(){const h=["length"];return this.eachChild(b=>{h.push(b.serialize())}),h}}const xu={"==":Qy,"!=":e_,">":t_,"<":z1,">=":n_,"<=":r_,array:vr,at:Mm,boolean:vr,case:Vp,coalesce:ap,collator:hr,format:Pr,image:$r,in:Fp,"index-of":Up,interpolate:ca,"interpolate-hcl":ca,"interpolate-lab":ca,length:Hp,let:lp,literal:zs,match:zp,number:vr,"number-format":Im,object:vr,slice:Wp,step:ip,string:vr,"to-boolean":An,"to-color":An,"to-number":An,"to-string":An,var:wu,within:Vs};function Om(_,[h,b,_e,rt]){h=h.evaluate(_),b=b.evaluate(_),_e=_e.evaluate(_);const it=rt?rt.evaluate(_):1,ht=ps(h,b,_e,it);if(ht)throw new es(ht);return new So(h/255*it,b/255*it,_e/255*it,it)}function V1(_,h){return _ in h}function Lm(_,h){const b=h[_];return b===void 0?null:b}function su(_){return{type:_}}function jm(_){return{result:"success",value:_}}function Su(_){return{result:"error",value:_}}function Bu(_){return _["property-type"]==="data-driven"||_["property-type"]==="cross-faded-data-driven"}function W1(_){return!!_.expression&&_.expression.parameters.indexOf("zoom")>-1}function Pm(_){return!!_.expression&&_.expression.interpolated}function Po(_){return _ instanceof Number?"number":_ instanceof String?"string":_ instanceof Boolean?"boolean":Array.isArray(_)?"array":_===null?"null":typeof _}function Eu(_){return typeof _=="object"&&_!==null&&!Array.isArray(_)}function H1(_){return _}function km(_,h){const b=h.type==="color",_e=_.stops&&typeof _.stops[0][0]=="object",rt=_e||!(_e||_.property!==void 0),it=_.type||(Pm(h)?"exponential":"interval");if(b&&((_=xo({},_)).stops&&(_.stops=_.stops.map(Ut=>[Ut[0],So.parse(Ut[1])])),_.default=So.parse(_.default?_.default:h.default)),_.colorSpace&&_.colorSpace!=="rgb"&&!Rm[_.colorSpace])throw new Error(`Unknown color space: ${_.colorSpace}`);let ht,xt,Pt;if(it==="exponential")ht=Dm;else if(it==="interval")ht=o_;else if(it==="categorical"){ht=i_,xt=Object.create(null);for(const Ut of _.stops)xt[Ut[0]]=Ut[1];Pt=typeof _.stops[0][0]}else{if(it!=="identity")throw new Error(`Unknown function type "${it}"`);ht=G1}if(_e){const Ut={},$t=[];for(let ur=0;ur<_.stops.length;ur++){const gr=_.stops[ur],wr=gr[0].zoom;Ut[wr]===void 0&&(Ut[wr]={zoom:wr,type:_.type,property:_.property,default:_.default,stops:[]},$t.push(wr)),Ut[wr].stops.push([gr[0].value,gr[1]])}const Jt=[];for(const ur of $t)Jt.push([Ut[ur].zoom,km(Ut[ur],h)]);const tr={name:"linear"};return{kind:"composite",interpolationType:tr,interpolationFactor:ca.interpolationFactor.bind(void 0,tr),zoomStops:Jt.map(ur=>ur[0]),evaluate:({zoom:ur},gr)=>Dm({stops:Jt,base:_.base},h,ur).evaluate(ur,gr)}}if(rt){const Ut=it==="exponential"?{name:"exponential",base:_.base!==void 0?_.base:1}:null;return{kind:"camera",interpolationType:Ut,interpolationFactor:ca.interpolationFactor.bind(void 0,Ut),zoomStops:_.stops.map($t=>$t[0]),evaluate:({zoom:$t})=>ht(_,h,$t,xt,Pt)}}return{kind:"source",evaluate(Ut,$t){const Jt=$t&&$t.properties?$t.properties[_.property]:void 0;return Jt===void 0?up(_.default,h.default):ht(_,h,Jt,xt,Pt)}}}function up(_,h,b){return _!==void 0?_:h!==void 0?h:b!==void 0?b:void 0}function i_(_,h,b,_e,rt){return up(typeof b===rt?_e[b]:void 0,_.default,h.default)}function o_(_,h,b){if(Po(b)!=="number")return up(_.default,h.default);const _e=_.stops.length;if(_e===1||b<=_.stops[0][0])return _.stops[0][1];if(b>=_.stops[_e-1][0])return _.stops[_e-1][1];const rt=np(_.stops.map(it=>it[0]),b);return _.stops[rt][1]}function Dm(_,h,b){const _e=_.base!==void 0?_.base:1;if(Po(b)!=="number")return up(_.default,h.default);const rt=_.stops.length;if(rt===1||b<=_.stops[0][0])return _.stops[0][1];if(b>=_.stops[rt-1][0])return _.stops[rt-1][1];const it=np(_.stops.map($t=>$t[0]),b),ht=function($t,Jt,tr,ur){const gr=ur-tr,wr=$t-tr;return gr===0?0:Jt===1?wr/gr:(Math.pow(Jt,wr)-1)/(Math.pow(Jt,gr)-1)}(b,_e,_.stops[it][0],_.stops[it+1][0]),xt=_.stops[it][1],Pt=_.stops[it+1][1];let Ut=kp[h.type]||H1;if(_.colorSpace&&_.colorSpace!=="rgb"){const $t=Rm[_.colorSpace];Ut=(Jt,tr)=>$t.reverse($t.interpolate($t.forward(Jt),$t.forward(tr),ht))}return typeof xt.evaluate=="function"?{evaluate(...$t){const Jt=xt.evaluate.apply(void 0,$t),tr=Pt.evaluate.apply(void 0,$t);if(Jt!==void 0&&tr!==void 0)return Ut(Jt,tr,ht)}}:Ut(xt,Pt,ht)}function G1(_,h,b){return h.type==="color"?b=So.parse(b):h.type==="formatted"?b=Ko.fromString(b.toString()):h.type==="resolvedImage"?b=Do.fromString(b.toString()):Po(b)===h.type||h.type==="enum"&&h.values[b]||(b=void 0),up(b,_.default,h.default)}Xt.register(xu,{error:[{kind:"error"},[_o],(_,[h])=>{throw new es(h.evaluate(_))}],typeof:[_o,[mo],(_,[h])=>Uo(Co(h.evaluate(_)))],"to-rgba":[ws(Pn,4),[as],(_,[h])=>h.evaluate(_).toArray()],rgb:[as,[Pn,Pn,Pn],Om],rgba:[as,[Pn,Pn,Pn,Pn],Om],has:{type:lo,overloads:[[[_o],(_,[h])=>V1(h.evaluate(_),_.properties())],[[_o,Js],(_,[h,b])=>V1(h.evaluate(_),b.evaluate(_))]]},get:{type:mo,overloads:[[[_o],(_,[h])=>Lm(h.evaluate(_),_.properties())],[[_o,Js],(_,[h,b])=>Lm(h.evaluate(_),b.evaluate(_))]]},"feature-state":[mo,[_o],(_,[h])=>Lm(h.evaluate(_),_.featureState||{})],properties:[Js,[],_=>_.properties()],"geometry-type":[_o,[],_=>_.geometryType()],id:[mo,[],_=>_.id()],zoom:[Pn,[],_=>_.globals.zoom],pitch:[Pn,[],_=>_.globals.pitch||0],"distance-from-center":[Pn,[],_=>_.distanceFromCenter()],"heatmap-density":[Pn,[],_=>_.globals.heatmapDensity||0],"line-progress":[Pn,[],_=>_.globals.lineProgress||0],"sky-radial-progress":[Pn,[],_=>_.globals.skyRadialProgress||0],accumulated:[mo,[],_=>_.globals.accumulated===void 0?null:_.globals.accumulated],"+":[Pn,su(Pn),(_,h)=>{let b=0;for(const _e of h)b+=_e.evaluate(_);return b}],"*":[Pn,su(Pn),(_,h)=>{let b=1;for(const _e of h)b*=_e.evaluate(_);return b}],"-":{type:Pn,overloads:[[[Pn,Pn],(_,[h,b])=>h.evaluate(_)-b.evaluate(_)],[[Pn],(_,[h])=>-h.evaluate(_)]]},"/":[Pn,[Pn,Pn],(_,[h,b])=>h.evaluate(_)/b.evaluate(_)],"%":[Pn,[Pn,Pn],(_,[h,b])=>h.evaluate(_)%b.evaluate(_)],ln2:[Pn,[],()=>Math.LN2],pi:[Pn,[],()=>Math.PI],e:[Pn,[],()=>Math.E],"^":[Pn,[Pn,Pn],(_,[h,b])=>Math.pow(h.evaluate(_),b.evaluate(_))],sqrt:[Pn,[Pn],(_,[h])=>Math.sqrt(h.evaluate(_))],log10:[Pn,[Pn],(_,[h])=>Math.log(h.evaluate(_))/Math.LN10],ln:[Pn,[Pn],(_,[h])=>Math.log(h.evaluate(_))],log2:[Pn,[Pn],(_,[h])=>Math.log(h.evaluate(_))/Math.LN2],sin:[Pn,[Pn],(_,[h])=>Math.sin(h.evaluate(_))],cos:[Pn,[Pn],(_,[h])=>Math.cos(h.evaluate(_))],tan:[Pn,[Pn],(_,[h])=>Math.tan(h.evaluate(_))],asin:[Pn,[Pn],(_,[h])=>Math.asin(h.evaluate(_))],acos:[Pn,[Pn],(_,[h])=>Math.acos(h.evaluate(_))],atan:[Pn,[Pn],(_,[h])=>Math.atan(h.evaluate(_))],min:[Pn,su(Pn),(_,h)=>Math.min(...h.map(b=>b.evaluate(_)))],max:[Pn,su(Pn),(_,h)=>Math.max(...h.map(b=>b.evaluate(_)))],abs:[Pn,[Pn],(_,[h])=>Math.abs(h.evaluate(_))],round:[Pn,[Pn],(_,[h])=>{const b=h.evaluate(_);return b<0?-Math.round(-b):Math.round(b)}],floor:[Pn,[Pn],(_,[h])=>Math.floor(h.evaluate(_))],ceil:[Pn,[Pn],(_,[h])=>Math.ceil(h.evaluate(_))],"filter-==":[lo,[_o,mo],(_,[h,b])=>_.properties()[h.value]===b.value],"filter-id-==":[lo,[mo],(_,[h])=>_.id()===h.value],"filter-type-==":[lo,[_o],(_,[h])=>_.geometryType()===h.value],"filter-<":[lo,[_o,mo],(_,[h,b])=>{const _e=_.properties()[h.value],rt=b.value;return typeof _e==typeof rt&&_e<rt}],"filter-id-<":[lo,[mo],(_,[h])=>{const b=_.id(),_e=h.value;return typeof b==typeof _e&&b<_e}],"filter->":[lo,[_o,mo],(_,[h,b])=>{const _e=_.properties()[h.value],rt=b.value;return typeof _e==typeof rt&&_e>rt}],"filter-id->":[lo,[mo],(_,[h])=>{const b=_.id(),_e=h.value;return typeof b==typeof _e&&b>_e}],"filter-<=":[lo,[_o,mo],(_,[h,b])=>{const _e=_.properties()[h.value],rt=b.value;return typeof _e==typeof rt&&_e<=rt}],"filter-id-<=":[lo,[mo],(_,[h])=>{const b=_.id(),_e=h.value;return typeof b==typeof _e&&b<=_e}],"filter->=":[lo,[_o,mo],(_,[h,b])=>{const _e=_.properties()[h.value],rt=b.value;return typeof _e==typeof rt&&_e>=rt}],"filter-id->=":[lo,[mo],(_,[h])=>{const b=_.id(),_e=h.value;return typeof b==typeof _e&&b>=_e}],"filter-has":[lo,[mo],(_,[h])=>h.value in _.properties()],"filter-has-id":[lo,[],_=>_.id()!==null&&_.id()!==void 0],"filter-type-in":[lo,[ws(_o)],(_,[h])=>h.value.indexOf(_.geometryType())>=0],"filter-id-in":[lo,[ws(mo)],(_,[h])=>h.value.indexOf(_.id())>=0],"filter-in-small":[lo,[_o,ws(mo)],(_,[h,b])=>b.value.indexOf(_.properties()[h.value])>=0],"filter-in-large":[lo,[_o,ws(mo)],(_,[h,b])=>function(_e,rt,it,ht){for(;it<=ht;){const xt=it+ht>>1;if(rt[xt]===_e)return!0;rt[xt]>_e?ht=xt-1:it=xt+1}return!1}(_.properties()[h.value],b.value,0,b.value.length-1)],all:{type:lo,overloads:[[[lo,lo],(_,[h,b])=>h.evaluate(_)&&b.evaluate(_)],[su(lo),(_,h)=>{for(const b of h)if(!b.evaluate(_))return!1;return!0}]]},any:{type:lo,overloads:[[[lo,lo],(_,[h,b])=>h.evaluate(_)||b.evaluate(_)],[su(lo),(_,h)=>{for(const b of h)if(b.evaluate(_))return!0;return!1}]]},"!":[lo,[lo],(_,[h])=>!h.evaluate(_)],"is-supported-script":[lo,[_o],(_,[h])=>{const b=_.globals&&_.globals.isSupportedScript;return!b||b(h.evaluate(_))}],upcase:[_o,[_o],(_,[h])=>h.evaluate(_).toUpperCase()],downcase:[_o,[_o],(_,[h])=>h.evaluate(_).toLowerCase()],concat:[_o,su(mo),(_,h)=>h.map(b=>_s(b.evaluate(_))).join("")],"resolved-locale":[_o,[Cs],(_,[h])=>h.evaluate(_).resolvedLocale()]});class Gp{constructor(h,b){this.expression=h,this._warningHistory={},this._evaluator=new gn,this._defaultValue=b?function(_e){return _e.type==="color"&&Eu(_e.default)?new So(0,0,0,0):_e.type==="color"?So.parse(_e.default)||null:_e.default===void 0?null:_e.default}(b):null,this._enumValues=b&&b.type==="enum"?b.values:null}evaluateWithoutErrorHandling(h,b,_e,rt,it,ht,xt,Pt){return this._evaluator.globals=h,this._evaluator.feature=b,this._evaluator.featureState=_e,this._evaluator.canonical=rt||null,this._evaluator.availableImages=it||null,this._evaluator.formattedSection=ht,this._evaluator.featureTileCoord=xt||null,this._evaluator.featureDistanceData=Pt||null,this.expression.evaluate(this._evaluator)}evaluate(h,b,_e,rt,it,ht,xt,Pt){this._evaluator.globals=h,this._evaluator.feature=b||null,this._evaluator.featureState=_e||null,this._evaluator.canonical=rt||null,this._evaluator.availableImages=it||null,this._evaluator.formattedSection=ht||null,this._evaluator.featureTileCoord=xt||null,this._evaluator.featureDistanceData=Pt||null;try{const Ut=this.expression.evaluate(this._evaluator);if(Ut==null||typeof Ut=="number"&&Ut!=Ut)return this._defaultValue;if(this._enumValues&&!(Ut in this._enumValues))throw new es(`Expected value to be one of ${Object.keys(this._enumValues).map($t=>JSON.stringify($t)).join(", ")}, but found ${JSON.stringify(Ut)} instead.`);return Ut}catch(Ut){return this._warningHistory[Ut.message]||(this._warningHistory[Ut.message]=!0,typeof console!="undefined"&&console.warn(Ut.message)),this._defaultValue}}}function Nu(_){return Array.isArray(_)&&_.length>0&&typeof _[0]=="string"&&_[0]in xu}function cp(_,h){const b=new iu(xu,[],h?function(rt){const it={color:as,string:_o,number:Pn,enum:_o,boolean:lo,formatted:zl,resolvedImage:Yo};return rt.type==="array"?ws(it[rt.value]||mo,rt.length):it[rt.type]}(h):void 0),_e=b.parse(_,void 0,void 0,void 0,h&&h.type==="string"?{typeAnnotation:"coerce"}:void 0);return _e?jm(new Gp(_e,h)):Su(b.errors)}class Bm{constructor(h,b){this.kind=h,this._styleExpression=b,this.isStateDependent=h!=="constant"&&!tp(b.expression)}evaluateWithoutErrorHandling(h,b,_e,rt,it,ht){return this._styleExpression.evaluateWithoutErrorHandling(h,b,_e,rt,it,ht)}evaluate(h,b,_e,rt,it,ht){return this._styleExpression.evaluate(h,b,_e,rt,it,ht)}}class Nm{constructor(h,b,_e,rt){this.kind=h,this.zoomStops=_e,this._styleExpression=b,this.isStateDependent=h!=="camera"&&!tp(b.expression),this.interpolationType=rt}evaluateWithoutErrorHandling(h,b,_e,rt,it,ht){return this._styleExpression.evaluateWithoutErrorHandling(h,b,_e,rt,it,ht)}evaluate(h,b,_e,rt,it,ht){return this._styleExpression.evaluate(h,b,_e,rt,it,ht)}interpolationFactor(h,b,_e){return this.interpolationType?ca.interpolationFactor(this.interpolationType,h,b,_e):0}}function Z1(_,h){if((_=cp(_,h)).result==="error")return _;const b=_.value.expression,_e=Ws(b);if(!_e&&!Bu(h))return Su([new so("","data expressions not supported")]);const rt=rp(b,["zoom","pitch","distance-from-center"]);if(!rt&&!W1(h))return Su([new so("","zoom expressions not supported")]);const it=$p(b);return it||rt?it instanceof so?Su([it]):it instanceof ca&&!Pm(h)?Su([new so("",'"interpolate" expressions cannot be used with this property')]):jm(it?new Nm(_e?"camera":"composite",_.value,it.labels,it instanceof ca?it.interpolation:void 0):new Bm(_e?"constant":"source",_.value)):Su([new so("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class Zp{constructor(h,b){this._parameters=h,this._specification=b,xo(this,km(this._parameters,this._specification))}static deserialize(h){return new Zp(h._parameters,h._specification)}static serialize(h){return{_parameters:h._parameters,_specification:h._specification}}}function $p(_){let h=null;if(_ instanceof lp)h=$p(_.result);else if(_ instanceof ap){for(const b of _.args)if(h=$p(b),h)break}else(_ instanceof ip||_ instanceof ca)&&_.input instanceof Xt&&_.input.name==="zoom"&&(h=_);return h instanceof so||_.eachChild(b=>{const _e=$p(b);_e instanceof so?h=_e:!h&&_e?h=new so("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):h&&_e&&h!==_e&&(h=new so("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),h}class Fn{constructor(h,b,_e,rt){this.message=(h?`${h}: `:"")+_e,rt&&(this.identifier=rt),b!=null&&b.__line__&&(this.line=b.__line__)}}function Sl(_){const h=_.key,b=_.value,_e=_.valueSpec||{},rt=_.objectElementValidators||{},it=_.style,ht=_.styleSpec;let xt=[];const Pt=Po(b);if(Pt!=="object")return[new Fn(h,b,`object expected, ${Pt} found`)];for(const Ut in b){const $t=Ut.split(".")[0],Jt=_e[$t]||_e["*"];let tr;rt[$t]?tr=rt[$t]:_e[$t]?tr=vs:rt["*"]?tr=rt["*"]:_e["*"]&&(tr=vs),tr?xt=xt.concat(tr({key:(h&&`${h}.`)+Ut,value:b[Ut],valueSpec:Jt,style:it,styleSpec:ht,object:b,objectKey:Ut},b)):xt.push(new Fn(h,b[Ut],`unknown property "${Ut}"`))}for(const Ut in _e)rt[Ut]||_e[Ut].required&&_e[Ut].default===void 0&&b[Ut]===void 0&&xt.push(new Fn(h,b,`missing required property "${Ut}"`));return xt}function hp(_){const h=_.value,b=_.valueSpec,_e=_.style,rt=_.styleSpec,it=_.key,ht=_.arrayElementValidator||vs;if(Po(h)!=="array")return[new Fn(it,h,`array expected, ${Po(h)} found`)];if(b.length&&h.length!==b.length)return[new Fn(it,h,`array length ${b.length} expected, length ${h.length} found`)];if(b["min-length"]&&h.length<b["min-length"])return[new Fn(it,h,`array length at least ${b["min-length"]} expected, length ${h.length} found`)];let xt={type:b.value,values:b.values,minimum:b.minimum,maximum:b.maximum,function:void 0};rt.$version<7&&(xt.function=b.function),Po(b.value)==="object"&&(xt=b.value);let Pt=[];for(let Ut=0;Ut<h.length;Ut++)Pt=Pt.concat(ht({array:h,arrayIndex:Ut,value:h[Ut],valueSpec:xt,style:_e,styleSpec:rt,key:`${it}[${Ut}]`}));return Pt}function $1(_){const h=_.key,b=_.value,_e=_.valueSpec;let rt=Po(b);if(rt==="number"&&b!=b&&(rt="NaN"),rt!=="number")return[new Fn(h,b,`number expected, ${rt} found`)];if("minimum"in _e){let it=_e.minimum;if(Po(_e.minimum)==="array"&&(it=_e.minimum[_.arrayIndex]),b<it)return[new Fn(h,b,`${b} is less than the minimum value ${it}`)]}if("maximum"in _e){let it=_e.maximum;if(Po(_e.maximum)==="array"&&(it=_e.maximum[_.arrayIndex]),b>it)return[new Fn(h,b,`${b} is greater than the maximum value ${it}`)]}return[]}function q1(_){const h=_.valueSpec,b=Un(_.value.type);let _e,rt,it,ht={};const xt=b!=="categorical"&&_.value.property===void 0,Pt=!xt,Ut=Po(_.value.stops)==="array"&&Po(_.value.stops[0])==="array"&&Po(_.value.stops[0][0])==="object",$t=Sl({key:_.key,value:_.value,valueSpec:_.styleSpec.function,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{stops:function(ur){if(b==="identity")return[new Fn(ur.key,ur.value,'identity function may not have a "stops" property')];let gr=[];const wr=ur.value;return gr=gr.concat(hp({key:ur.key,value:wr,valueSpec:ur.valueSpec,style:ur.style,styleSpec:ur.styleSpec,arrayElementValidator:Jt})),Po(wr)==="array"&&wr.length===0&&gr.push(new Fn(ur.key,wr,"array must have at least one stop")),gr},default:function(ur){return vs({key:ur.key,value:ur.value,valueSpec:h,style:ur.style,styleSpec:ur.styleSpec})}}});return b==="identity"&&xt&&$t.push(new Fn(_.key,_.value,'missing required property "property"')),b==="identity"||_.value.stops||$t.push(new Fn(_.key,_.value,'missing required property "stops"')),b==="exponential"&&_.valueSpec.expression&&!Pm(_.valueSpec)&&$t.push(new Fn(_.key,_.value,"exponential functions not supported")),_.styleSpec.$version>=8&&(Pt&&!Bu(_.valueSpec)?$t.push(new Fn(_.key,_.value,"property functions not supported")):xt&&!W1(_.valueSpec)&&$t.push(new Fn(_.key,_.value,"zoom functions not supported"))),b!=="categorical"&&!Ut||_.value.property!==void 0||$t.push(new Fn(_.key,_.value,'"property" property is required')),$t;function Jt(ur){let gr=[];const wr=ur.value,Tr=ur.key;if(Po(wr)!=="array")return[new Fn(Tr,wr,`array expected, ${Po(wr)} found`)];if(wr.length!==2)return[new Fn(Tr,wr,`array length 2 expected, length ${wr.length} found`)];if(Ut){if(Po(wr[0])!=="object")return[new Fn(Tr,wr,`object expected, ${Po(wr[0])} found`)];if(wr[0].zoom===void 0)return[new Fn(Tr,wr,"object stop key must have zoom")];if(wr[0].value===void 0)return[new Fn(Tr,wr,"object stop key must have value")];const Lr=Un(wr[0].zoom);if(typeof Lr!="number")return[new Fn(Tr,wr[0].zoom,"stop zoom values must be numbers")];if(it&&it>Lr)return[new Fn(Tr,wr[0].zoom,"stop zoom values must appear in ascending order")];Lr!==it&&(it=Lr,rt=void 0,ht={}),gr=gr.concat(Sl({key:`${Tr}[0]`,value:wr[0],valueSpec:{zoom:{}},style:ur.style,styleSpec:ur.styleSpec,objectElementValidators:{zoom:$1,value:tr}}))}else gr=gr.concat(tr({key:`${Tr}[0]`,value:wr[0],valueSpec:{},style:ur.style,styleSpec:ur.styleSpec},wr));return Nu(vo(wr[1]))?gr.concat([new Fn(`${Tr}[1]`,wr[1],"expressions are not allowed in function stops.")]):gr.concat(vs({key:`${Tr}[1]`,value:wr[1],valueSpec:h,style:ur.style,styleSpec:ur.styleSpec}))}function tr(ur,gr){const wr=Po(ur.value),Tr=Un(ur.value),Lr=ur.value!==null?ur.value:gr;if(_e){if(wr!==_e)return[new Fn(ur.key,Lr,`${wr} stop domain type must match previous stop domain type ${_e}`)]}else _e=wr;if(wr!=="number"&&wr!=="string"&&wr!=="boolean"&&typeof Tr!="number"&&typeof Tr!="string"&&typeof Tr!="boolean")return[new Fn(ur.key,Lr,"stop domain value must be a number, string, or boolean")];if(wr!=="number"&&b!=="categorical"){let Vr=`number expected, ${wr} found`;return Bu(h)&&b===void 0&&(Vr+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Fn(ur.key,Lr,Vr)]}return b!=="categorical"||wr!=="number"||typeof Tr=="number"&&isFinite(Tr)&&Math.floor(Tr)===Tr?b!=="categorical"&&wr==="number"&&typeof Tr=="number"&&typeof rt=="number"&&rt!==void 0&&Tr<rt?[new Fn(ur.key,Lr,"stop domain values must appear in ascending order")]:(rt=Tr,b==="categorical"&&Tr in ht?[new Fn(ur.key,Lr,"stop domain values must be unique")]:(ht[Tr]=!0,[])):[new Fn(ur.key,Lr,`integer expected, found ${String(Tr)}`)]}}function Fu(_){const h=(_.expressionContext==="property"?Z1:cp)(vo(_.value),_.valueSpec);if(h.result==="error")return h.value.map(_e=>new Fn(`${_.key}${_e.key}`,_.value,_e.message));const b=h.value.expression||h.value._styleExpression.expression;if(_.expressionContext==="property"&&_.propertyKey==="text-font"&&!b.outputDefined())return[new Fn(_.key,_.value,`Invalid data expression for "${_.propertyKey}". Output values must be contained as literals within the expression.`)];if(_.expressionContext==="property"&&_.propertyType==="layout"&&!tp(b))return[new Fn(_.key,_.value,'"feature-state" data expressions are not supported with layout properties.')];if(_.expressionContext==="filter")return Xl(b,_);if(_.expressionContext&&_.expressionContext.indexOf("cluster")===0){if(!rp(b,["zoom","feature-state"]))return[new Fn(_.key,_.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(_.expressionContext==="cluster-initial"&&!Ws(b))return[new Fn(_.key,_.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Xl(_,h){const b=new Set(["zoom","feature-state","pitch","distance-from-center"]);if(h.valueSpec&&h.valueSpec.expression)for(const rt of h.valueSpec.expression.parameters)b.delete(rt);if(b.size===0)return[];const _e=[];return _ instanceof Xt&&b.has(_.name)?[new Fn(h.key,h.value,`["${_.name}"] expression is not supported in a filter for a ${h.object.type} layer with id: ${h.object.id}`)]:(_.eachChild(rt=>{_e.push(...Xl(rt,h))}),_e)}function dp(_){const h=_.key,b=_.value,_e=_.valueSpec,rt=[];return Array.isArray(_e.values)?_e.values.indexOf(Un(b))===-1&&rt.push(new Fn(h,b,`expected one of [${_e.values.join(", ")}], ${JSON.stringify(b)} found`)):Object.keys(_e.values).indexOf(Un(b))===-1&&rt.push(new Fn(h,b,`expected one of [${Object.keys(_e.values).join(", ")}], ${JSON.stringify(b)} found`)),rt}function au(_){if(_===!0||_===!1)return!0;if(!Array.isArray(_)||_.length===0)return!1;switch(_[0]){case"has":return _.length>=2&&_[1]!=="$id"&&_[1]!=="$type";case"in":return _.length>=3&&(typeof _[1]!="string"||Array.isArray(_[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return _.length!==3||Array.isArray(_[1])||Array.isArray(_[2]);case"any":case"all":for(const h of _.slice(1))if(!au(h)&&typeof h!="boolean")return!1;return!0;default:return!0}}function lu(_,h="fill"){if(_==null)return{filter:()=>!0,needGeometry:!1,needFeature:!1};au(_)||(_=fp(_));const b=_;let _e=!0;try{_e=function(Ut){if(!uu(Ut))return Ut;let $t=vo(Ut);return Y1($t),$t=Fm($t),$t}(b)}catch{console.warn(`Failed to extract static filter. Filter will continue working, but at higher memory usage and slower framerate.
This is most likely a bug, please report this via https://github.com/mapbox/mapbox-gl-js/issues/new?assignees=&labels=&template=Bug_report.md
and paste the contents of this message in the report.
Thank you!
Filter Expression:
${JSON.stringify(b,null,2)}
        `)}const rt=un[`filter_${h}`],it=cp(_e,rt);let ht=null;if(it.result==="error")throw new Error(it.value.map(Ut=>`${Ut.key}: ${Ut.message}`).join(", "));ht=(Ut,$t,Jt)=>it.value.evaluate(Ut,$t,{},Jt);let xt=null,Pt=null;if(_e!==b){const Ut=cp(b,rt);if(Ut.result==="error")throw new Error(Ut.value.map($t=>`${$t.key}: ${$t.message}`).join(", "));xt=($t,Jt,tr,ur,gr)=>Ut.value.evaluate($t,Jt,{},tr,void 0,void 0,ur,gr),Pt=!Ws(Ut.value.expression)}return ht=ht,{filter:ht,dynamicFilter:xt||void 0,needGeometry:qp(_e),needFeature:!!Pt}}function Fm(_){if(!Array.isArray(_))return _;const h=function(b){if(X1.has(b[0])){for(let _e=1;_e<b.length;_e++)if(uu(b[_e]))return!0}return b}(_);return h===!0?h:h.map(b=>Fm(b))}function Y1(_){let h=!1;const b=[];if(_[0]==="case"){for(let _e=1;_e<_.length-1;_e+=2)h=h||uu(_[_e]),b.push(_[_e+1]);b.push(_[_.length-1])}else if(_[0]==="match"){h=h||uu(_[1]);for(let _e=2;_e<_.length-1;_e+=2)b.push(_[_e+1]);b.push(_[_.length-1])}else if(_[0]==="step"){h=h||uu(_[1]);for(let _e=1;_e<_.length-1;_e+=2)b.push(_[_e+1])}h&&(_.length=0,_.push("any",...b));for(let _e=1;_e<_.length;_e++)Y1(_[_e])}function uu(_){if(!Array.isArray(_))return!1;if((h=_[0])==="pitch"||h==="distance-from-center")return!0;var h;for(let b=1;b<_.length;b++)if(uu(_[b]))return!0;return!1}const X1=new Set(["in","==","!=",">",">=","<","<=","to-boolean"]);function Um(_,h){return _<h?-1:_>h?1:0}function qp(_){if(!Array.isArray(_))return!1;if(_[0]==="within")return!0;for(let h=1;h<_.length;h++)if(qp(_[h]))return!0;return!1}function fp(_){if(!_)return!0;const h=_[0];return _.length<=1?h!=="any":h==="=="?pp(_[1],_[2],"=="):h==="!="?gp(pp(_[1],_[2],"==")):h==="<"||h===">"||h==="<="||h===">="?pp(_[1],_[2],h):h==="any"?(b=_.slice(1),["any"].concat(b.map(fp))):h==="all"?["all"].concat(_.slice(1).map(fp)):h==="none"?["all"].concat(_.slice(1).map(fp).map(gp)):h==="in"?zm(_[1],_.slice(2)):h==="!in"?gp(zm(_[1],_.slice(2))):h==="has"?Vm(_[1]):h==="!has"?gp(Vm(_[1])):h!=="within"||_;var b}function pp(_,h,b){switch(_){case"$type":return[`filter-type-${b}`,h];case"$id":return[`filter-id-${b}`,h];default:return[`filter-${b}`,_,h]}}function zm(_,h){if(h.length===0)return!1;switch(_){case"$type":return["filter-type-in",["literal",h]];case"$id":return["filter-id-in",["literal",h]];default:return h.length>200&&!h.some(b=>typeof b!=typeof h[0])?["filter-in-large",_,["literal",h.sort(Um)]]:["filter-in-small",_,["literal",h]]}}function Vm(_){switch(_){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",_]}}function gp(_){return["!",_]}function cu(_){return au(vo(_.value))?Fu(xo({},_,{expressionContext:"filter",valueSpec:_.styleSpec[`filter_${_.layerType||"fill"}`]})):Wm(_)}function Wm(_){const h=_.value,b=_.key;if(Po(h)!=="array")return[new Fn(b,h,`array expected, ${Po(h)} found`)];const _e=_.styleSpec;let rt,it=[];if(h.length<1)return[new Fn(b,h,"filter array must have at least 1 element")];switch(it=it.concat(dp({key:`${b}[0]`,value:h[0],valueSpec:_e.filter_operator,style:_.style,styleSpec:_.styleSpec})),Un(h[0])){case"<":case"<=":case">":case">=":h.length>=2&&Un(h[1])==="$type"&&it.push(new Fn(b,h,`"$type" cannot be use with operator "${h[0]}"`));case"==":case"!=":h.length!==3&&it.push(new Fn(b,h,`filter array for operator "${h[0]}" must have 3 elements`));case"in":case"!in":h.length>=2&&(rt=Po(h[1]),rt!=="string"&&it.push(new Fn(`${b}[1]`,h[1],`string expected, ${rt} found`)));for(let ht=2;ht<h.length;ht++)rt=Po(h[ht]),Un(h[1])==="$type"?it=it.concat(dp({key:`${b}[${ht}]`,value:h[ht],valueSpec:_e.geometry_type,style:_.style,styleSpec:_.styleSpec})):rt!=="string"&&rt!=="number"&&rt!=="boolean"&&it.push(new Fn(`${b}[${ht}]`,h[ht],`string, number, or boolean expected, ${rt} found`));break;case"any":case"all":case"none":for(let ht=1;ht<h.length;ht++)it=it.concat(Wm({key:`${b}[${ht}]`,value:h[ht],style:_.style,styleSpec:_.styleSpec}));break;case"has":case"!has":rt=Po(h[1]),h.length!==2?it.push(new Fn(b,h,`filter array for "${h[0]}" operator must have 2 elements`)):rt!=="string"&&it.push(new Fn(`${b}[1]`,h[1],`string expected, ${rt} found`));break;case"within":rt=Po(h[1]),h.length!==2?it.push(new Fn(b,h,`filter array for "${h[0]}" operator must have 2 elements`)):rt!=="object"&&it.push(new Fn(`${b}[1]`,h[1],`object expected, ${rt} found`))}return it}function Hm(_,h){const b=_.key,_e=_.style,rt=_.styleSpec,it=_.value,ht=_.objectKey,xt=rt[`${h}_${_.layerType}`];if(!xt)return[];const Pt=ht.match(/^(.*)-transition$/);if(h==="paint"&&Pt&&xt[Pt[1]]&&xt[Pt[1]].transition)return vs({key:b,value:it,valueSpec:rt.transition,style:_e,styleSpec:rt});const Ut=_.valueSpec||xt[ht];if(!Ut)return[new Fn(b,it,`unknown property "${ht}"`)];let $t;if(Po(it)==="string"&&Bu(Ut)&&!Ut.tokens&&($t=/^{([^}]+)}$/.exec(it)))return[new Fn(b,it,`"${ht}" does not support interpolation syntax
Use an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify($t[1])} }\`.`)];const Jt=[];return _.layerType==="symbol"&&(ht==="text-field"&&_e&&!_e.glyphs&&Jt.push(new Fn(b,it,'use of "text-field" requires a style "glyphs" property')),ht==="text-font"&&Eu(vo(it))&&Un(it.type)==="identity"&&Jt.push(new Fn(b,it,'"text-font" does not support identity functions'))),Jt.concat(vs({key:_.key,value:it,valueSpec:Ut,style:_e,styleSpec:rt,expressionContext:"property",propertyType:h,propertyKey:ht}))}function Yp(_){return Hm(_,"paint")}function Gm(_){return Hm(_,"layout")}function K1(_){let h=[];const b=_.value,_e=_.key,rt=_.style,it=_.styleSpec;b.type||b.ref||h.push(new Fn(_e,b,'either "type" or "ref" is required'));let ht=Un(b.type);const xt=Un(b.ref);if(b.id){const Pt=Un(b.id);for(let Ut=0;Ut<_.arrayIndex;Ut++){const $t=rt.layers[Ut];Un($t.id)===Pt&&h.push(new Fn(_e,b.id,`duplicate layer id "${b.id}", previously used at line ${$t.id.__line__}`))}}if("ref"in b){let Pt;["type","source","source-layer","filter","layout"].forEach(Ut=>{Ut in b&&h.push(new Fn(_e,b[Ut],`"${Ut}" is prohibited for ref layers`))}),rt.layers.forEach(Ut=>{Un(Ut.id)===xt&&(Pt=Ut)}),Pt?Pt.ref?h.push(new Fn(_e,b.ref,"ref cannot reference another ref layer")):ht=Un(Pt.type):typeof xt=="string"&&h.push(new Fn(_e,b.ref,`ref layer "${xt}" not found`))}else if(ht!=="background"&&ht!=="sky")if(b.source){const Pt=rt.sources&&rt.sources[b.source],Ut=Pt&&Un(Pt.type);Pt?Ut==="vector"&&ht==="raster"?h.push(new Fn(_e,b.source,`layer "${b.id}" requires a raster source`)):Ut==="raster"&&ht!=="raster"?h.push(new Fn(_e,b.source,`layer "${b.id}" requires a vector source`)):Ut!=="vector"||b["source-layer"]?Ut==="raster-dem"&&ht!=="hillshade"?h.push(new Fn(_e,b.source,"raster-dem source can only be used with layer type 'hillshade'.")):ht!=="line"||!b.paint||!b.paint["line-gradient"]||Ut==="geojson"&&Pt.lineMetrics||h.push(new Fn(_e,b,`layer "${b.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):h.push(new Fn(_e,b,`layer "${b.id}" must specify a "source-layer"`)):h.push(new Fn(_e,b.source,`source "${b.source}" not found`))}else h.push(new Fn(_e,b,'missing required property "source"'));return h=h.concat(Sl({key:_e,value:b,valueSpec:it.layer,style:_.style,styleSpec:_.styleSpec,objectElementValidators:{"*":()=>[],type:()=>vs({key:`${_e}.type`,value:b.type,valueSpec:it.layer.type,style:_.style,styleSpec:_.styleSpec,object:b,objectKey:"type"}),filter:Pt=>cu(xo({layerType:ht},Pt)),layout:Pt=>Sl({layer:b,key:Pt.key,value:Pt.value,valueSpec:{},style:Pt.style,styleSpec:Pt.styleSpec,objectElementValidators:{"*":Ut=>Gm(xo({layerType:ht},Ut))}}),paint:Pt=>Sl({layer:b,key:Pt.key,value:Pt.value,valueSpec:{},style:Pt.style,styleSpec:Pt.styleSpec,objectElementValidators:{"*":Ut=>Yp(xo({layerType:ht},Ut))}})}})),h}function Kl(_){const h=_.value,b=_.key,_e=Po(h);return _e!=="string"?[new Fn(b,h,`string expected, ${_e} found`)]:[]}const J1={promoteId:function({key:_,value:h}){if(Po(h)==="string")return Kl({key:_,value:h});{const b=[];for(const _e in h)b.push(...Kl({key:`${_}.${_e}`,value:h[_e]}));return b}}};function Q1(_){const h=_.value,b=_.key,_e=_.styleSpec,rt=_.style;if(!h.type)return[new Fn(b,h,'"type" is required')];const it=Un(h.type);let ht;switch(it){case"vector":case"raster":case"raster-dem":return ht=Sl({key:b,value:h,valueSpec:_e[`source_${it.replace("-","_")}`],style:_.style,styleSpec:_e,objectElementValidators:J1}),ht;case"geojson":if(ht=Sl({key:b,value:h,valueSpec:_e.source_geojson,style:rt,styleSpec:_e,objectElementValidators:J1}),h.cluster)for(const xt in h.clusterProperties){const[Pt,Ut]=h.clusterProperties[xt],$t=typeof Pt=="string"?[Pt,["accumulated"],["get",xt]]:Pt;ht.push(...Fu({key:`${b}.${xt}.map`,value:Ut,expressionContext:"cluster-map"})),ht.push(...Fu({key:`${b}.${xt}.reduce`,value:$t,expressionContext:"cluster-reduce"}))}return ht;case"video":return Sl({key:b,value:h,valueSpec:_e.source_video,style:rt,styleSpec:_e});case"image":return Sl({key:b,value:h,valueSpec:_e.source_image,style:rt,styleSpec:_e});case"canvas":return[new Fn(b,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return dp({key:`${b}.type`,value:h.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:rt,styleSpec:_e})}}function ey(_){const h=_.value,b=_.styleSpec,_e=b.light,rt=_.style;let it=[];const ht=Po(h);if(h===void 0)return it;if(ht!=="object")return it=it.concat([new Fn("light",h,`object expected, ${ht} found`)]),it;for(const xt in h){const Pt=xt.match(/^(.*)-transition$/);it=it.concat(Pt&&_e[Pt[1]]&&_e[Pt[1]].transition?vs({key:xt,value:h[xt],valueSpec:b.transition,style:rt,styleSpec:b}):_e[xt]?vs({key:xt,value:h[xt],valueSpec:_e[xt],style:rt,styleSpec:b}):[new Fn(xt,h[xt],`unknown property "${xt}"`)])}return it}function ty(_){const h=_.value,b=_.key,_e=_.style,rt=_.styleSpec,it=rt.terrain;let ht=[];const xt=Po(h);if(h===void 0)return ht;if(xt!=="object")return ht=ht.concat([new Fn("terrain",h,`object expected, ${xt} found`)]),ht;for(const Pt in h){const Ut=Pt.match(/^(.*)-transition$/);ht=ht.concat(Ut&&it[Ut[1]]&&it[Ut[1]].transition?vs({key:Pt,value:h[Pt],valueSpec:rt.transition,style:_e,styleSpec:rt}):it[Pt]?vs({key:Pt,value:h[Pt],valueSpec:it[Pt],style:_e,styleSpec:rt}):[new Fn(Pt,h[Pt],`unknown property "${Pt}"`)])}if(h.source){const Pt=_e.sources&&_e.sources[h.source],Ut=Pt&&Un(Pt.type);Pt?Ut!=="raster-dem"&&ht.push(new Fn(b,h.source,`terrain cannot be used with a source of type ${String(Ut)}, it only be used with a "raster-dem" source type`)):ht.push(new Fn(b,h.source,`source "${h.source}" not found`))}else ht.push(new Fn(b,h,'terrain is missing required property "source"'));return ht}function ry(_){const h=_.value,b=_.style,_e=_.styleSpec,rt=_e.fog;let it=[];const ht=Po(h);if(h===void 0)return it;if(ht!=="object")return it=it.concat([new Fn("fog",h,`object expected, ${ht} found`)]),it;for(const xt in h){const Pt=xt.match(/^(.*)-transition$/);it=it.concat(Pt&&rt[Pt[1]]&&rt[Pt[1]].transition?vs({key:xt,value:h[xt],valueSpec:_e.transition,style:b,styleSpec:_e}):rt[xt]?vs({key:xt,value:h[xt],valueSpec:rt[xt],style:b,styleSpec:_e}):[new Fn(xt,h[xt],`unknown property "${xt}"`)])}return it}const mp={"*":()=>[],array:hp,boolean:function(_){const h=_.value,b=_.key,_e=Po(h);return _e!=="boolean"?[new Fn(b,h,`boolean expected, ${_e} found`)]:[]},number:$1,color:function(_){const h=_.key,b=_.value,_e=Po(b);return _e!=="string"?[new Fn(h,b,`color expected, ${_e} found`)]:Ms.parseCSSColor(b)===null?[new Fn(h,b,`color expected, "${b}" found`)]:[]},enum:dp,filter:cu,function:q1,layer:K1,object:Sl,source:Q1,light:ey,terrain:ty,fog:ry,string:Kl,formatted:function(_){return Kl(_).length===0?[]:Fu(_)},resolvedImage:function(_){return Kl(_).length===0?[]:Fu(_)},projection:function(_){const h=_.value,b=_.styleSpec,_e=b.projection,rt=_.style;let it=[];const ht=Po(h);if(ht==="object")for(const xt in h)it=it.concat(vs({key:xt,value:h[xt],valueSpec:_e[xt],style:rt,styleSpec:b}));else ht!=="string"&&(it=it.concat([new Fn("projection",h,`object or string expected, ${ht} found`)]));return it}};function vs(_){const h=_.value,b=_.valueSpec,_e=_.styleSpec;return b.expression&&Eu(Un(h))?q1(_):b.expression&&Nu(vo(h))?Fu(_):b.type&&mp[b.type]?mp[b.type](_):Sl(xo({},_,{valueSpec:b.type?_e[b.type]:b}))}function ga(_){const h=_.value,b=_.key,_e=Kl(_);return _e.length||(h.indexOf("{fontstack}")===-1&&_e.push(new Fn(b,h,'"glyphs" url must include a "{fontstack}" token')),h.indexOf("{range}")===-1&&_e.push(new Fn(b,h,'"glyphs" url must include a "{range}" token'))),_e}function yp(_,h=un){return Jl(vs({key:"",value:_,valueSpec:h.$root,styleSpec:h,style:_,objectElementValidators:{glyphs:ga,"*":()=>[]}}))}const s_=_=>Jl(Yp(_)),a_=_=>Jl(Gm(_));function Jl(_){return _.slice().sort((h,b)=>h.line&&b.line?h.line-b.line:0)}function ny(_,h){let b=!1;if(h&&h.length)for(const _e of h)_.fire(new Wn(new Error(_e.message))),b=!0;return b}var hu=Wl;function Wl(_,h,b){var _e=this.cells=[];if(_ instanceof ArrayBuffer){this.arrayBuffer=_;var rt=new Int32Array(this.arrayBuffer);_=rt[0],this.d=(h=rt[1])+2*(b=rt[2]);for(var it=0;it<this.d*this.d;it++){var ht=rt[3+it],xt=rt[3+it+1];_e.push(ht===xt?null:rt.subarray(ht,xt))}var Pt=rt[3+_e.length+1];this.keys=rt.subarray(rt[3+_e.length],Pt),this.bboxes=rt.subarray(Pt),this.insert=this._insertReadonly}else{this.d=h+2*b;for(var Ut=0;Ut<this.d*this.d;Ut++)_e.push([]);this.keys=[],this.bboxes=[]}this.n=h,this.extent=_,this.padding=b,this.scale=h/_,this.uid=0;var $t=b/h*_;this.min=-$t,this.max=_+$t}Wl.prototype.insert=function(_,h,b,_e,rt){this._forEachCell(h,b,_e,rt,this._insertCell,this.uid++),this.keys.push(_),this.bboxes.push(h),this.bboxes.push(b),this.bboxes.push(_e),this.bboxes.push(rt)},Wl.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Wl.prototype._insertCell=function(_,h,b,_e,rt,it){this.cells[rt].push(it)},Wl.prototype.query=function(_,h,b,_e,rt){var it=this.min,ht=this.max;if(_<=it&&h<=it&&ht<=b&&ht<=_e&&!rt)return Array.prototype.slice.call(this.keys);var xt=[];return this._forEachCell(_,h,b,_e,this._queryCell,xt,{},rt),xt},Wl.prototype._queryCell=function(_,h,b,_e,rt,it,ht,xt){var Pt=this.cells[rt];if(Pt!==null)for(var Ut=this.keys,$t=this.bboxes,Jt=0;Jt<Pt.length;Jt++){var tr=Pt[Jt];if(ht[tr]===void 0){var ur=4*tr;(xt?xt($t[ur+0],$t[ur+1],$t[ur+2],$t[ur+3]):_<=$t[ur+2]&&h<=$t[ur+3]&&b>=$t[ur+0]&&_e>=$t[ur+1])?(ht[tr]=!0,it.push(Ut[tr])):ht[tr]=!1}}},Wl.prototype._forEachCell=function(_,h,b,_e,rt,it,ht,xt){for(var Pt=this._convertToCellCoord(_),Ut=this._convertToCellCoord(h),$t=this._convertToCellCoord(b),Jt=this._convertToCellCoord(_e),tr=Pt;tr<=$t;tr++)for(var ur=Ut;ur<=Jt;ur++){var gr=this.d*ur+tr;if((!xt||xt(this._convertFromCellCoord(tr),this._convertFromCellCoord(ur),this._convertFromCellCoord(tr+1),this._convertFromCellCoord(ur+1)))&&rt.call(this,_,h,b,_e,gr,it,ht,xt))return}},Wl.prototype._convertFromCellCoord=function(_){return(_-this.padding)/this.scale},Wl.prototype._convertToCellCoord=function(_){return Math.max(0,Math.min(this.d-1,Math.floor(_*this.scale)+this.padding))},Wl.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var _=this.cells,h=3+this.cells.length+1+1,b=0,_e=0;_e<this.cells.length;_e++)b+=this.cells[_e].length;var rt=new Int32Array(h+b+this.keys.length+this.bboxes.length);rt[0]=this.extent,rt[1]=this.n,rt[2]=this.padding;for(var it=h,ht=0;ht<_.length;ht++){var xt=_[ht];rt[3+ht]=it,rt.set(xt,it),it+=xt.length}return rt[3+_.length]=it,rt.set(this.keys,it),rt[3+_.length+1]=it+=this.keys.length,rt.set(this.bboxes,it),it+=this.bboxes.length,rt.buffer};const Uu={};function Vn(_,h,b={}){Object.defineProperty(_,"_classRegistryKey",{value:h,writeable:!1}),Uu[h]={klass:_,omit:b.omit||[]}}Vn(Object,"Object"),hu.serialize=function(_,h){const b=_.toArrayBuffer();return h&&h.push(b),{buffer:b}},hu.deserialize=function(_){return new hu(_.buffer)},Object.defineProperty(hu,"name",{value:"Grid"}),Vn(hu,"Grid"),Vn(So,"Color"),Vn(Error,"Error"),Vn(dr,"AJAXError"),Vn(Do,"ResolvedImage"),Vn(Zp,"StylePropertyFunction"),Vn(Gp,"StyleExpression",{omit:["_evaluator"]}),Vn(Nm,"ZoomDependentExpression"),Vn(Bm,"ZoomConstantExpression"),Vn(Xt,"CompoundExpression",{omit:["_evaluate"]});for(const _ in xu)Uu[xu[_]._classRegistryKey]||Vn(xu[_],`Expression${_}`);function iy(_){return _&&typeof ArrayBuffer!="undefined"&&(_ instanceof ArrayBuffer||_.constructor&&_.constructor.name==="ArrayBuffer")}function Xp(_){return ft.ImageBitmap&&_ instanceof ft.ImageBitmap}function _p(_,h){if(_==null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp)return _;if(iy(_)||Xp(_))return h&&h.push(_),_;if(ArrayBuffer.isView(_)){const b=_;return h&&h.push(b.buffer),b}if(_ instanceof ft.ImageData)return h&&h.push(_.data.buffer),_;if(Array.isArray(_)){const b=[];for(const _e of _)b.push(_p(_e,h));return b}if(typeof _=="object"){const b=_.constructor,_e=b._classRegistryKey;if(!_e)throw new Error(`can't serialize object of unregistered class ${_e}`);const rt=b.serialize?b.serialize(_,h):{};if(!b.serialize){for(const it in _)_.hasOwnProperty(it)&&(Uu[_e].omit.indexOf(it)>=0||(rt[it]=_p(_[it],h)));_ instanceof Error&&(rt.message=_.message)}if(rt.$name)throw new Error("$name property is reserved for worker serialization logic.");return _e!=="Object"&&(rt.$name=_e),rt}throw new Error("can't serialize object of type "+typeof _)}function zu(_){if(_==null||typeof _=="boolean"||typeof _=="number"||typeof _=="string"||_ instanceof Boolean||_ instanceof Number||_ instanceof String||_ instanceof Date||_ instanceof RegExp||iy(_)||Xp(_)||ArrayBuffer.isView(_)||_ instanceof ft.ImageData)return _;if(Array.isArray(_))return _.map(zu);if(typeof _=="object"){const h=_.$name||"Object",{klass:b}=Uu[h];if(!b)throw new Error(`can't deserialize unregistered class ${h}`);if(b.deserialize)return b.deserialize(_);const _e=Object.create(b.prototype);for(const rt of Object.keys(_))rt!=="$name"&&(_e[rt]=zu(_[rt]));return _e}throw new Error("can't deserialize object of type "+typeof _)}class Zm{constructor(){this.first=!0}update(h,b){const _e=Math.floor(h);return this.first?(this.first=!1,this.lastIntegerZoom=_e,this.lastIntegerZoomTime=0,this.lastZoom=h,this.lastFloorZoom=_e,!0):(this.lastFloorZoom>_e?(this.lastIntegerZoom=_e+1,this.lastIntegerZoomTime=b):this.lastFloorZoom<_e&&(this.lastIntegerZoom=_e,this.lastIntegerZoomTime=b),h!==this.lastZoom&&(this.lastZoom=h,this.lastFloorZoom=_e,!0))}}const oy=_=>_>=1536&&_<=1791,Kp=_=>_>=1872&&_<=1919,vp=_=>_>=2208&&_<=2303,$m=_=>_>=11904&&_<=12031,sy=_=>_>=12032&&_<=12255,qm=_=>_>=12272&&_<=12287,Jp=_=>_>=12288&&_<=12351,bp=_=>_>=12352&&_<=12447,Qp=_=>_>=12448&&_<=12543,ay=_=>_>=12544&&_<=12591,ly=_=>_>=12704&&_<=12735,uy=_=>_>=12736&&_<=12783,Ym=_=>_>=12784&&_<=12799,cy=_=>_>=12800&&_<=13055,hy=_=>_>=13056&&_<=13311,dy=_=>_>=13312&&_<=19903,Xm=_=>_>=19968&&_<=40959,fy=_=>_>=40960&&_<=42127,py=_=>_>=42128&&_<=42191,gy=_=>_>=44032&&_<=55215,wp=_=>_>=63744&&_<=64255,Km=_=>_>=64336&&_<=65023,my=_=>_>=65040&&_<=65055,Vu=_=>_>=65072&&_<=65103,yy=_=>_>=65104&&_<=65135,_g=_=>_>=65136&&_<=65279,Jm=_=>_>=65280&&_<=65519;function em(_){for(const h of _)if(tm(h.charCodeAt(0)))return!0;return!1}function _y(_){for(const h of _)if(!vy(h.charCodeAt(0)))return!1;return!0}function vy(_){return!(oy(_)||Kp(_)||vp(_)||Km(_)||_g(_))}function tm(_){return!(_!==746&&_!==747&&(_<4352||!(ly(_)||ay(_)||Vu(_)&&!(_>=65097&&_<=65103)||wp(_)||hy(_)||$m(_)||uy(_)||!(!Jp(_)||_>=12296&&_<=12305||_>=12308&&_<=12319||_===12336)||dy(_)||Xm(_)||cy(_)||(h=>h>=12592&&h<=12687)(_)||(h=>h>=43360&&h<=43391)(_)||(h=>h>=55216&&h<=55295)(_)||(h=>h>=4352&&h<=4607)(_)||gy(_)||bp(_)||qm(_)||(h=>h>=12688&&h<=12703)(_)||sy(_)||Ym(_)||Qp(_)&&_!==12540||!(!Jm(_)||_===65288||_===65289||_===65293||_>=65306&&_<=65310||_===65339||_===65341||_===65343||_>=65371&&_<=65503||_===65507||_>=65512&&_<=65519)||!(!yy(_)||_>=65112&&_<=65118||_>=65123&&_<=65126)||(h=>h>=5120&&h<=5759)(_)||(h=>h>=6320&&h<=6399)(_)||my(_)||(h=>h>=19904&&h<=19967)(_)||fy(_)||py(_))))}function rm(_){return!(tm(_)||function(h){return!!((b=>b>=128&&b<=255)(h)&&(h===167||h===169||h===174||h===177||h===188||h===189||h===190||h===215||h===247)||(b=>b>=8192&&b<=8303)(h)&&(h===8214||h===8224||h===8225||h===8240||h===8241||h===8251||h===8252||h===8258||h===8263||h===8264||h===8265||h===8273)||(b=>b>=8448&&b<=8527)(h)||(b=>b>=8528&&b<=8591)(h)||(b=>b>=8960&&b<=9215)(h)&&(h>=8960&&h<=8967||h>=8972&&h<=8991||h>=8996&&h<=9e3||h===9003||h>=9085&&h<=9114||h>=9150&&h<=9165||h===9167||h>=9169&&h<=9179||h>=9186&&h<=9215)||(b=>b>=9216&&b<=9279)(h)&&h!==9251||(b=>b>=9280&&b<=9311)(h)||(b=>b>=9312&&b<=9471)(h)||(b=>b>=9632&&b<=9727)(h)||(b=>b>=9728&&b<=9983)(h)&&!(h>=9754&&h<=9759)||(b=>b>=11008&&b<=11263)(h)&&(h>=11026&&h<=11055||h>=11088&&h<=11097||h>=11192&&h<=11243)||Jp(h)||Qp(h)||(b=>b>=57344&&b<=63743)(h)||Vu(h)||yy(h)||Jm(h)||h===8734||h===8756||h===8757||h>=9984&&h<=10087||h>=10102&&h<=10131||h===65532||h===65533)}(_))}function nm(_){return _>=1424&&_<=2303||Km(_)||_g(_)}function l_(_,h){return!(!h&&nm(_)||_>=2304&&_<=3583||_>=3840&&_<=4255||(b=>b>=6016&&b<=6143)(_))}function u_(_){for(const h of _)if(nm(h.charCodeAt(0)))return!0;return!1}const Qm="deferred",xp="loading",e1="loaded";let t1=null,Hs="unavailable",ya=null;const Sp=function(_){_&&typeof _=="string"&&_.indexOf("NetworkError")>-1&&(Hs="error"),t1&&t1(_)};function Tu(){r1.fire(new Xn("pluginStateChange",{pluginStatus:Hs,pluginURL:ya}))}const r1=new ro,im=function(){return Hs},Wu=function(){if(Hs!==Qm||!ya)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");Hs=xp,Tu(),ya&&Br({url:ya},_=>{_?Sp(_):(Hs=e1,Tu())})},El={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:()=>Hs===e1||El.applyArabicShaping!=null,isLoading:()=>Hs===xp,setState(_){Hs=_.pluginStatus,ya=_.pluginURL},isParsed:()=>El.applyArabicShaping!=null&&El.processBidirectionalText!=null&&El.processStyledBidirectionalText!=null,getPluginURL:()=>ya};class Go{constructor(h,b){this.zoom=h,b?(this.now=b.now,this.fadeDuration=b.fadeDuration,this.zoomHistory=b.zoomHistory,this.transition=b.transition,this.pitch=b.pitch):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Zm,this.transition={},this.pitch=0)}isSupportedScript(h){return function(b,_e){for(const rt of b)if(!l_(rt.charCodeAt(0),_e))return!1;return!0}(h,El.isLoaded())}crossFadingFactor(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const h=this.zoom,b=h-Math.floor(h),_e=this.crossFadingFactor();return h>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:b+(1-b)*_e}:{fromScale:.5,toScale:1,t:1-(1-_e)*b}}}class Ep{constructor(h,b){this.property=h,this.value=b,this.expression=function(_e,rt){if(Eu(_e))return new Zp(_e,rt);if(Nu(_e)){const it=Z1(_e,rt);if(it.result==="error")throw new Error(it.value.map(ht=>`${ht.key}: ${ht.message}`).join(", "));return it.value}{let it=_e;return typeof _e=="string"&&rt.type==="color"&&(it=So.parse(_e)),{kind:"constant",evaluate:()=>it}}}(b===void 0?h.specification.default:b,h.specification)}isDataDriven(){return this.expression.kind==="source"||this.expression.kind==="composite"}possiblyEvaluate(h,b,_e){return this.property.possiblyEvaluate(this,h,b,_e)}}class Hu{constructor(h){this.property=h,this.value=new Ep(h,void 0)}transitioned(h,b){return new g(this.property,this.value,b,bt({},h.transition,this.transition),h.now)}untransitioned(){return new g(this.property,this.value,null,{},0)}}class nt{constructor(h){this._properties=h,this._values=Object.create(h.defaultTransitionablePropertyValues)}getValue(h){return Bt(this._values[h].value.value)}setValue(h,b){this._values.hasOwnProperty(h)||(this._values[h]=new Hu(this._values[h].property)),this._values[h].value=new Ep(this._values[h].property,b===null?void 0:Bt(b))}getTransition(h){return Bt(this._values[h].transition)}setTransition(h,b){this._values.hasOwnProperty(h)||(this._values[h]=new Hu(this._values[h].property)),this._values[h].transition=Bt(b)||void 0}serialize(){const h={};for(const b of Object.keys(this._values)){const _e=this.getValue(b);_e!==void 0&&(h[b]=_e);const rt=this.getTransition(b);rt!==void 0&&(h[`${b}-transition`]=rt)}return h}transitioned(h,b){const _e=new tt(this._properties);for(const rt of Object.keys(this._values))_e._values[rt]=this._values[rt].transitioned(h,b._values[rt]);return _e}untransitioned(){const h=new tt(this._properties);for(const b of Object.keys(this._values))h._values[b]=this._values[b].untransitioned();return h}}class g{constructor(h,b,_e,rt,it){const ht=rt.delay||0,xt=rt.duration||0;it=it||0,this.property=h,this.value=b,this.begin=it+ht,this.end=this.begin+xt,h.specification.transition&&(rt.delay||rt.duration)&&(this.prior=_e)}possiblyEvaluate(h,b,_e){const rt=h.now||0,it=this.value.possiblyEvaluate(h,b,_e),ht=this.prior;if(ht){if(rt>this.end)return this.prior=null,it;if(this.value.isDataDriven())return this.prior=null,it;if(rt<this.begin)return ht.possiblyEvaluate(h,b,_e);{const xt=(rt-this.begin)/(this.end-this.begin);return this.property.interpolate(ht.possiblyEvaluate(h,b,_e),it,Tt(xt))}}return it}}class tt{constructor(h){this._properties=h,this._values=Object.create(h.defaultTransitioningPropertyValues)}possiblyEvaluate(h,b,_e){const rt=new Ot(this._properties);for(const it of Object.keys(this._values))rt._values[it]=this._values[it].possiblyEvaluate(h,b,_e);return rt}hasTransition(){for(const h of Object.keys(this._values))if(this._values[h].prior)return!0;return!1}}class st{constructor(h){this._properties=h,this._values=Object.create(h.defaultPropertyValues)}getValue(h){return Bt(this._values[h].value)}setValue(h,b){this._values[h]=new Ep(this._values[h].property,b===null?void 0:Bt(b))}serialize(){const h={};for(const b of Object.keys(this._values)){const _e=this.getValue(b);_e!==void 0&&(h[b]=_e)}return h}possiblyEvaluate(h,b,_e){const rt=new Ot(this._properties);for(const it of Object.keys(this._values))rt._values[it]=this._values[it].possiblyEvaluate(h,b,_e);return rt}}class Et{constructor(h,b,_e){this.property=h,this.value=b,this.parameters=_e}isConstant(){return this.value.kind==="constant"}constantOr(h){return this.value.kind==="constant"?this.value.value:h}evaluate(h,b,_e,rt){return this.property.evaluate(this.value,this.parameters,h,b,_e,rt)}}class Ot{constructor(h){this._properties=h,this._values=Object.create(h.defaultPossiblyEvaluatedValues)}get(h){return this._values[h]}}class Ft{constructor(h){this.specification=h}possiblyEvaluate(h,b){return h.expression.evaluate(b)}interpolate(h,b,_e){const rt=kp[this.specification.type];return rt?rt(h,b,_e):h}}class Wt{constructor(h,b){this.specification=h,this.overrides=b}possiblyEvaluate(h,b,_e,rt){return new Et(this,h.expression.kind==="constant"||h.expression.kind==="camera"?{kind:"constant",value:h.expression.evaluate(b,null,{},_e,rt)}:h.expression,b)}interpolate(h,b,_e){if(h.value.kind!=="constant"||b.value.kind!=="constant")return h;if(h.value.value===void 0||b.value.value===void 0)return new Et(this,{kind:"constant",value:void 0},h.parameters);const rt=kp[this.specification.type];return rt?new Et(this,{kind:"constant",value:rt(h.value.value,b.value.value,_e)},h.parameters):h}evaluate(h,b,_e,rt,it,ht){return h.kind==="constant"?h.value:h.evaluate(b,_e,rt,it,ht)}}class er extends Wt{possiblyEvaluate(h,b,_e,rt){if(h.value===void 0)return new Et(this,{kind:"constant",value:void 0},b);if(h.expression.kind==="constant"){const it=h.expression.evaluate(b,null,{},_e,rt),ht=h.property.specification.type==="resolvedImage"&&typeof it!="string"?it.name:it,xt=this._calculate(ht,ht,ht,b);return new Et(this,{kind:"constant",value:xt},b)}if(h.expression.kind==="camera"){const it=this._calculate(h.expression.evaluate({zoom:b.zoom-1}),h.expression.evaluate({zoom:b.zoom}),h.expression.evaluate({zoom:b.zoom+1}),b);return new Et(this,{kind:"constant",value:it},b)}return new Et(this,h.expression,b)}evaluate(h,b,_e,rt,it,ht){if(h.kind==="source"){const xt=h.evaluate(b,_e,rt,it,ht);return this._calculate(xt,xt,xt,b)}return h.kind==="composite"?this._calculate(h.evaluate({zoom:Math.floor(b.zoom)-1},_e,rt),h.evaluate({zoom:Math.floor(b.zoom)},_e,rt),h.evaluate({zoom:Math.floor(b.zoom)+1},_e,rt),b):h.value}_calculate(h,b,_e,rt){return rt.zoom>rt.zoomHistory.lastIntegerZoom?{from:h,to:b,other:_e}:{from:_e,to:b,other:h}}interpolate(h){return h}}class nr{constructor(h){this.specification=h}possiblyEvaluate(h,b,_e,rt){if(h.value!==void 0){if(h.expression.kind==="constant"){const it=h.expression.evaluate(b,null,{},_e,rt);return this._calculate(it,it,it,b)}return this._calculate(h.expression.evaluate(new Go(Math.floor(b.zoom-1),b)),h.expression.evaluate(new Go(Math.floor(b.zoom),b)),h.expression.evaluate(new Go(Math.floor(b.zoom+1),b)),b)}}_calculate(h,b,_e,rt){return rt.zoom>rt.zoomHistory.lastIntegerZoom?{from:h,to:b}:{from:_e,to:b}}interpolate(h){return h}}class sr{constructor(h){this.specification=h}possiblyEvaluate(h,b,_e,rt){return!!h.expression.evaluate(b,null,{},_e,rt)}interpolate(){return!1}}class fr{constructor(h){this.properties=h,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const b in h){const _e=h[b];_e.specification.overridable&&this.overridableProperties.push(b);const rt=this.defaultPropertyValues[b]=new Ep(_e,void 0),it=this.defaultTransitionablePropertyValues[b]=new Hu(_e);this.defaultTransitioningPropertyValues[b]=it.untransitioned(),this.defaultPossiblyEvaluatedValues[b]=rt.possiblyEvaluate({})}}}function xr(_,h){return 256*(_=Lt(Math.floor(_),0,255))+Lt(Math.floor(h),0,255)}Vn(Wt,"DataDrivenProperty"),Vn(Ft,"DataConstantProperty"),Vn(er,"CrossFadedDataDrivenProperty"),Vn(nr,"CrossFadedProperty"),Vn(sr,"ColorRampProperty");const Ar={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class Er{constructor(h,b){this._structArray=h,this._pos1=b*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class br{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(h,b){return h._trim(),b&&(h.isTransferred=!0,b.push(h.arrayBuffer)),{length:h.length,arrayBuffer:h.arrayBuffer}}static deserialize(h){const b=Object.create(this.prototype);return b.arrayBuffer=h.arrayBuffer,b.length=h.length,b.capacity=h.arrayBuffer.byteLength/b.bytesPerElement,b._refreshViews(),b}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(h){this.reserve(h),this.length=h}reserve(h){if(h>this.capacity){this.capacity=Math.max(h,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const b=this.uint8;this._refreshViews(),b&&this.uint8.set(b)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}destroy(){this.int8=this.uint8=this.int16=this.uint16=this.int32=this.uint32=this.float32=null,this.arrayBuffer=null}}function Nr(_,h=1){let b=0,_e=0;return{members:_.map(rt=>{const it=Ar[rt.type].BYTES_PER_ELEMENT,ht=b=Or(b,Math.max(h,it)),xt=rt.components||1;return _e=Math.max(_e,it),b+=it*xt,{name:rt.name,type:rt.type,components:xt,offset:ht}}),size:Or(b,Math.max(_e,h)),alignment:h}}function Or(_,h){return Math.ceil(_/h)*h}class kr extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(h,b){const _e=this.length;return this.resize(_e+1),this.emplace(_e,h,b)}emplace(h,b,_e){const rt=2*h;return this.int16[rt+0]=b,this.int16[rt+1]=_e,h}}kr.prototype.bytesPerElement=4,Vn(kr,"StructArrayLayout2i4");class Dr extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(h,b,_e){const rt=this.length;return this.resize(rt+1),this.emplace(rt,h,b,_e)}emplace(h,b,_e,rt){const it=3*h;return this.int16[it+0]=b,this.int16[it+1]=_e,this.int16[it+2]=rt,h}}Dr.prototype.bytesPerElement=6,Vn(Dr,"StructArrayLayout3i6");class Ur extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt){const it=this.length;return this.resize(it+1),this.emplace(it,h,b,_e,rt)}emplace(h,b,_e,rt,it){const ht=4*h;return this.int16[ht+0]=b,this.int16[ht+1]=_e,this.int16[ht+2]=rt,this.int16[ht+3]=it,h}}Ur.prototype.bytesPerElement=8,Vn(Ur,"StructArrayLayout4i8");class jr extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt){const Pt=this.length;return this.resize(Pt+1),this.emplace(Pt,h,b,_e,rt,it,ht,xt)}emplace(h,b,_e,rt,it,ht,xt,Pt){const Ut=6*h,$t=12*h,Jt=3*h;return this.int16[Ut+0]=b,this.int16[Ut+1]=_e,this.uint8[$t+4]=rt,this.uint8[$t+5]=it,this.uint8[$t+6]=ht,this.uint8[$t+7]=xt,this.float32[Jt+2]=Pt,h}}jr.prototype.bytesPerElement=12,Vn(jr,"StructArrayLayout2i4ub1f12");class Wr extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt){const it=this.length;return this.resize(it+1),this.emplace(it,h,b,_e,rt)}emplace(h,b,_e,rt,it){const ht=4*h;return this.float32[ht+0]=b,this.float32[ht+1]=_e,this.float32[ht+2]=rt,this.float32[ht+3]=it,h}}Wr.prototype.bytesPerElement=16,Vn(Wr,"StructArrayLayout4f16");class on extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt,Pt,Ut,$t){const Jt=this.length;return this.resize(Jt+1),this.emplace(Jt,h,b,_e,rt,it,ht,xt,Pt,Ut,$t)}emplace(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt){const tr=10*h;return this.uint16[tr+0]=b,this.uint16[tr+1]=_e,this.uint16[tr+2]=rt,this.uint16[tr+3]=it,this.uint16[tr+4]=ht,this.uint16[tr+5]=xt,this.uint16[tr+6]=Pt,this.uint16[tr+7]=Ut,this.uint16[tr+8]=$t,this.uint16[tr+9]=Jt,h}}on.prototype.bytesPerElement=20,Vn(on,"StructArrayLayout10ui20");class pn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt,Pt){const Ut=this.length;return this.resize(Ut+1),this.emplace(Ut,h,b,_e,rt,it,ht,xt,Pt)}emplace(h,b,_e,rt,it,ht,xt,Pt,Ut){const $t=8*h;return this.uint16[$t+0]=b,this.uint16[$t+1]=_e,this.uint16[$t+2]=rt,this.uint16[$t+3]=it,this.uint16[$t+4]=ht,this.uint16[$t+5]=xt,this.uint16[$t+6]=Pt,this.uint16[$t+7]=Ut,h}}pn.prototype.bytesPerElement=16,Vn(pn,"StructArrayLayout8ui16");class vn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht){const xt=this.length;return this.resize(xt+1),this.emplace(xt,h,b,_e,rt,it,ht)}emplace(h,b,_e,rt,it,ht,xt){const Pt=6*h;return this.int16[Pt+0]=b,this.int16[Pt+1]=_e,this.int16[Pt+2]=rt,this.int16[Pt+3]=it,this.int16[Pt+4]=ht,this.int16[Pt+5]=xt,h}}vn.prototype.bytesPerElement=12,Vn(vn,"StructArrayLayout6i12");class yn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr){const Lr=this.length;return this.resize(Lr+1),this.emplace(Lr,h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr)}emplace(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr,Lr){const Vr=16*h;return this.int16[Vr+0]=b,this.int16[Vr+1]=_e,this.int16[Vr+2]=rt,this.int16[Vr+3]=it,this.uint16[Vr+4]=ht,this.uint16[Vr+5]=xt,this.uint16[Vr+6]=Pt,this.uint16[Vr+7]=Ut,this.int16[Vr+8]=$t,this.int16[Vr+9]=Jt,this.int16[Vr+10]=tr,this.int16[Vr+11]=ur,this.int16[Vr+12]=gr,this.int16[Vr+13]=wr,this.int16[Vr+14]=Tr,this.int16[Vr+15]=Lr,h}}yn.prototype.bytesPerElement=32,Vn(yn,"StructArrayLayout4i4ui4i4i32");class jn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h,b,_e){const rt=this.length;return this.resize(rt+1),this.emplace(rt,h,b,_e)}emplace(h,b,_e,rt){const it=3*h;return this.float32[it+0]=b,this.float32[it+1]=_e,this.float32[it+2]=rt,h}}jn.prototype.bytesPerElement=12,Vn(jn,"StructArrayLayout3f12");class sn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(h){const b=this.length;return this.resize(b+1),this.emplace(b,h)}emplace(h,b){return this.uint32[1*h+0]=b,h}}sn.prototype.bytesPerElement=4,Vn(sn,"StructArrayLayout1ul4");class kn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur){const gr=this.length;return this.resize(gr+1),this.emplace(gr,h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur)}emplace(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr){const wr=20*h,Tr=10*h;return this.int16[wr+0]=b,this.int16[wr+1]=_e,this.int16[wr+2]=rt,this.int16[wr+3]=it,this.int16[wr+4]=ht,this.float32[Tr+3]=xt,this.float32[Tr+4]=Pt,this.float32[Tr+5]=Ut,this.float32[Tr+6]=$t,this.int16[wr+14]=Jt,this.uint32[Tr+8]=tr,this.uint16[wr+18]=ur,this.uint16[wr+19]=gr,h}}kn.prototype.bytesPerElement=40,Vn(kn,"StructArrayLayout5i4f1i1ul2ui40");class On extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt){const Pt=this.length;return this.resize(Pt+1),this.emplace(Pt,h,b,_e,rt,it,ht,xt)}emplace(h,b,_e,rt,it,ht,xt,Pt){const Ut=8*h;return this.int16[Ut+0]=b,this.int16[Ut+1]=_e,this.int16[Ut+2]=rt,this.int16[Ut+4]=it,this.int16[Ut+5]=ht,this.int16[Ut+6]=xt,this.int16[Ut+7]=Pt,h}}On.prototype.bytesPerElement=16,Vn(On,"StructArrayLayout3i2i2i16");class Yn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it){const ht=this.length;return this.resize(ht+1),this.emplace(ht,h,b,_e,rt,it)}emplace(h,b,_e,rt,it,ht){const xt=4*h,Pt=8*h;return this.float32[xt+0]=b,this.float32[xt+1]=_e,this.float32[xt+2]=rt,this.int16[Pt+6]=it,this.int16[Pt+7]=ht,h}}Yn.prototype.bytesPerElement=16,Vn(Yn,"StructArrayLayout2f1f2i16");class bn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt){const it=this.length;return this.resize(it+1),this.emplace(it,h,b,_e,rt)}emplace(h,b,_e,rt,it){const ht=12*h,xt=3*h;return this.uint8[ht+0]=b,this.uint8[ht+1]=_e,this.float32[xt+1]=rt,this.float32[xt+2]=it,h}}bn.prototype.bytesPerElement=12,Vn(bn,"StructArrayLayout2ub2f12");class Gn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(h,b,_e){const rt=this.length;return this.resize(rt+1),this.emplace(rt,h,b,_e)}emplace(h,b,_e,rt){const it=3*h;return this.uint16[it+0]=b,this.uint16[it+1]=_e,this.uint16[it+2]=rt,h}}Gn.prototype.bytesPerElement=6,Vn(Gn,"StructArrayLayout3ui6");class eo extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr,Lr,Vr,Zr,qr,Kr){const Jr=this.length;return this.resize(Jr+1),this.emplace(Jr,h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr,Lr,Vr,Zr,qr,Kr)}emplace(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr,Lr,Vr,Zr,qr,Kr,Jr){const mn=30*h,_n=15*h,Tn=60*h;return this.int16[mn+0]=b,this.int16[mn+1]=_e,this.int16[mn+2]=rt,this.float32[_n+2]=it,this.float32[_n+3]=ht,this.uint16[mn+8]=xt,this.uint16[mn+9]=Pt,this.uint32[_n+5]=Ut,this.uint32[_n+6]=$t,this.uint32[_n+7]=Jt,this.uint16[mn+16]=tr,this.uint16[mn+17]=ur,this.uint16[mn+18]=gr,this.float32[_n+10]=wr,this.float32[_n+11]=Tr,this.uint8[Tn+48]=Lr,this.uint8[Tn+49]=Vr,this.uint8[Tn+50]=Zr,this.uint32[_n+13]=qr,this.int16[mn+28]=Kr,this.uint8[Tn+58]=Jr,h}}eo.prototype.bytesPerElement=60,Vn(eo,"StructArrayLayout3i2f2ui3ul3ui2f3ub1ul1i1ub60");class $n extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr,Lr,Vr,Zr,qr,Kr,Jr,mn,_n,Tn,Rn,fn,xn,Mn,Bn){const Ln=this.length;return this.resize(Ln+1),this.emplace(Ln,h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr,Lr,Vr,Zr,qr,Kr,Jr,mn,_n,Tn,Rn,fn,xn,Mn,Bn)}emplace(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr,Lr,Vr,Zr,qr,Kr,Jr,mn,_n,Tn,Rn,fn,xn,Mn,Bn,Ln){const Dn=38*h,uo=19*h;return this.int16[Dn+0]=b,this.int16[Dn+1]=_e,this.int16[Dn+2]=rt,this.float32[uo+2]=it,this.float32[uo+3]=ht,this.int16[Dn+8]=xt,this.int16[Dn+9]=Pt,this.int16[Dn+10]=Ut,this.int16[Dn+11]=$t,this.int16[Dn+12]=Jt,this.int16[Dn+13]=tr,this.uint16[Dn+14]=ur,this.uint16[Dn+15]=gr,this.uint16[Dn+16]=wr,this.uint16[Dn+17]=Tr,this.uint16[Dn+18]=Lr,this.uint16[Dn+19]=Vr,this.uint16[Dn+20]=Zr,this.uint16[Dn+21]=qr,this.uint16[Dn+22]=Kr,this.uint16[Dn+23]=Jr,this.uint16[Dn+24]=mn,this.uint16[Dn+25]=_n,this.uint16[Dn+26]=Tn,this.uint16[Dn+27]=Rn,this.uint16[Dn+28]=fn,this.uint32[uo+15]=xn,this.float32[uo+16]=Mn,this.float32[uo+17]=Bn,this.float32[uo+18]=Ln,h}}$n.prototype.bytesPerElement=76,Vn($n,"StructArrayLayout3i2f6i15ui1ul3f76");class qn extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h){const b=this.length;return this.resize(b+1),this.emplace(b,h)}emplace(h,b){return this.float32[1*h+0]=b,h}}qn.prototype.bytesPerElement=4,Vn(qn,"StructArrayLayout1f4");class no extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt){const Pt=this.length;return this.resize(Pt+1),this.emplace(Pt,h,b,_e,rt,it,ht,xt)}emplace(h,b,_e,rt,it,ht,xt,Pt){const Ut=7*h;return this.float32[Ut+0]=b,this.float32[Ut+1]=_e,this.float32[Ut+2]=rt,this.float32[Ut+3]=it,this.float32[Ut+4]=ht,this.float32[Ut+5]=xt,this.float32[Ut+6]=Pt,h}}no.prototype.bytesPerElement=28,Vn(no,"StructArrayLayout7f28");class po extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it){const ht=this.length;return this.resize(ht+1),this.emplace(ht,h,b,_e,rt,it)}emplace(h,b,_e,rt,it,ht){const xt=5*h;return this.float32[xt+0]=b,this.float32[xt+1]=_e,this.float32[xt+2]=rt,this.float32[xt+3]=it,this.float32[xt+4]=ht,h}}po.prototype.bytesPerElement=20,Vn(po,"StructArrayLayout5f20");class _i extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt){const it=this.length;return this.resize(it+1),this.emplace(it,h,b,_e,rt)}emplace(h,b,_e,rt,it){const ht=6*h;return this.uint32[3*h+0]=b,this.uint16[ht+2]=_e,this.uint16[ht+3]=rt,this.uint16[ht+4]=it,h}}_i.prototype.bytesPerElement=12,Vn(_i,"StructArrayLayout1ul3ui12");class oo extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(h,b){const _e=this.length;return this.resize(_e+1),this.emplace(_e,h,b)}emplace(h,b,_e){const rt=2*h;return this.uint16[rt+0]=b,this.uint16[rt+1]=_e,h}}oo.prototype.bytesPerElement=4,Vn(oo,"StructArrayLayout2ui4");class Ao extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(h){const b=this.length;return this.resize(b+1),this.emplace(b,h)}emplace(h,b){return this.uint16[1*h+0]=b,h}}Ao.prototype.bytesPerElement=2,Vn(Ao,"StructArrayLayout1ui2");class Jo extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h,b){const _e=this.length;return this.resize(_e+1),this.emplace(_e,h,b)}emplace(h,b,_e){const rt=2*h;return this.float32[rt+0]=b,this.float32[rt+1]=_e,h}}Jo.prototype.bytesPerElement=8,Vn(Jo,"StructArrayLayout2f8");class Is extends br{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(h,b,_e,rt,it,ht,xt){const Pt=this.length;return this.resize(Pt+1),this.emplace(Pt,h,b,_e,rt,it,ht,xt)}emplace(h,b,_e,rt,it,ht,xt,Pt){const Ut=8*h,$t=4*h;return this.int16[Ut+0]=b,this.int16[Ut+1]=_e,this.int16[Ut+2]=rt,this.int16[Ut+3]=it,this.int16[Ut+4]=ht,this.int16[Ut+5]=xt,this.float32[$t+3]=Pt,h}}Is.prototype.bytesPerElement=16,Vn(Is,"StructArrayLayout6i1f16");class Os extends Er{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}}Os.prototype.size=12;class _a extends vn{get(h){return new Os(this,h)}}Vn(_a,"FillExtrusionExtArray");class Bl extends Er{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.int16[this._pos2+3]}get tileAnchorY(){return this._structArray.int16[this._pos2+4]}get x1(){return this._structArray.float32[this._pos4+3]}get y1(){return this._structArray.float32[this._pos4+4]}get x2(){return this._structArray.float32[this._pos4+5]}get y2(){return this._structArray.float32[this._pos4+6]}get padding(){return this._structArray.int16[this._pos2+14]}get featureIndex(){return this._structArray.uint32[this._pos4+8]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+18]}get bucketIndex(){return this._structArray.uint16[this._pos2+19]}}Bl.prototype.size=40;class Ql extends kn{get(h){return new Bl(this,h)}}Vn(Ql,"CollisionBoxArray");class du extends Er{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+8]}get numGlyphs(){return this._structArray.uint16[this._pos2+9]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+5]}get lineStartIndex(){return this._structArray.uint32[this._pos4+6]}get lineLength(){return this._structArray.uint32[this._pos4+7]}get segment(){return this._structArray.uint16[this._pos2+16]}get lowerSize(){return this._structArray.uint16[this._pos2+17]}get upperSize(){return this._structArray.uint16[this._pos2+18]}get lineOffsetX(){return this._structArray.float32[this._pos4+10]}get lineOffsetY(){return this._structArray.float32[this._pos4+11]}get writingMode(){return this._structArray.uint8[this._pos1+48]}get placedOrientation(){return this._structArray.uint8[this._pos1+49]}set placedOrientation(h){this._structArray.uint8[this._pos1+49]=h}get hidden(){return this._structArray.uint8[this._pos1+50]}set hidden(h){this._structArray.uint8[this._pos1+50]=h}get crossTileID(){return this._structArray.uint32[this._pos4+13]}set crossTileID(h){this._structArray.uint32[this._pos4+13]=h}get associatedIconIndex(){return this._structArray.int16[this._pos2+28]}get flipState(){return this._structArray.uint8[this._pos1+58]}set flipState(h){this._structArray.uint8[this._pos1+58]=h}}du.prototype.size=60;class eu extends eo{get(h){return new du(this,h)}}Vn(eu,"PlacedSymbolArray");class ts extends Er{get projectedAnchorX(){return this._structArray.int16[this._pos2+0]}get projectedAnchorY(){return this._structArray.int16[this._pos2+1]}get projectedAnchorZ(){return this._structArray.int16[this._pos2+2]}get tileAnchorX(){return this._structArray.float32[this._pos4+2]}get tileAnchorY(){return this._structArray.float32[this._pos4+3]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+8]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+9]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+10]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+11]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+12]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+13]}get key(){return this._structArray.uint16[this._pos2+14]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+17]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+18]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+19]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+20]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+21]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+22]}get featureIndex(){return this._structArray.uint16[this._pos2+23]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+24]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+25]}get numIconVertices(){return this._structArray.uint16[this._pos2+26]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+27]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+28]}get crossTileID(){return this._structArray.uint32[this._pos4+15]}set crossTileID(h){this._structArray.uint32[this._pos4+15]=h}get textOffset0(){return this._structArray.float32[this._pos4+16]}get textOffset1(){return this._structArray.float32[this._pos4+17]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+18]}}ts.prototype.size=76;class ns extends $n{get(h){return new ts(this,h)}}Vn(ns,"SymbolInstanceArray");class Io extends qn{getoffsetX(h){return this.float32[1*h+0]}}Vn(Io,"GlyphOffsetArray");class us extends Dr{getx(h){return this.int16[3*h+0]}gety(h){return this.int16[3*h+1]}gettileUnitDistanceFromAnchor(h){return this.int16[3*h+2]}}Vn(us,"SymbolLineVertexArray");class yl extends Er{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}get layoutVertexArrayOffset(){return this._structArray.uint16[this._pos2+4]}}yl.prototype.size=12;class Qo extends _i{get(h){return new yl(this,h)}}Vn(Qo,"FeatureIndexArray");class Tl extends Er{get a_centroid_pos0(){return this._structArray.uint16[this._pos2+0]}get a_centroid_pos1(){return this._structArray.uint16[this._pos2+1]}}Tl.prototype.size=4;class Tp extends oo{get(h){return new Tl(this,h)}}Vn(Tp,"FillExtrusionCentroidArray");class _l extends Er{get a_pos_30(){return this._structArray.int16[this._pos2+0]}get a_pos_31(){return this._structArray.int16[this._pos2+1]}get a_pos_32(){return this._structArray.int16[this._pos2+2]}get a_pos_normal_30(){return this._structArray.int16[this._pos2+3]}get a_pos_normal_31(){return this._structArray.int16[this._pos2+4]}get a_pos_normal_32(){return this._structArray.int16[this._pos2+5]}get a_scale(){return this._structArray.float32[this._pos4+3]}}_l.prototype.size=16;class Au extends Is{get(h){return new _l(this,h)}}Vn(Au,"CircleGlobeExtArray");const by=Nr([{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"}]),n1=Nr([{name:"a_dash_to",components:4,type:"Uint16"},{name:"a_dash_from",components:4,type:"Uint16"}]);var Gu=Yl(function(_){_.exports=function(h,b){var _e,rt,it,ht,xt,Pt,Ut,$t;for(rt=h.length-(_e=3&h.length),it=b,xt=3432918353,Pt=461845907,$t=0;$t<rt;)Ut=255&h.charCodeAt($t)|(255&h.charCodeAt(++$t))<<8|(255&h.charCodeAt(++$t))<<16|(255&h.charCodeAt(++$t))<<24,++$t,it=27492+(65535&(ht=5*(65535&(it=(it^=Ut=(65535&(Ut=(Ut=(65535&Ut)*xt+(((Ut>>>16)*xt&65535)<<16)&4294967295)<<15|Ut>>>17))*Pt+(((Ut>>>16)*Pt&65535)<<16)&4294967295)<<13|it>>>19))+((5*(it>>>16)&65535)<<16)&4294967295))+((58964+(ht>>>16)&65535)<<16);switch(Ut=0,_e){case 3:Ut^=(255&h.charCodeAt($t+2))<<16;case 2:Ut^=(255&h.charCodeAt($t+1))<<8;case 1:it^=Ut=(65535&(Ut=(Ut=(65535&(Ut^=255&h.charCodeAt($t)))*xt+(((Ut>>>16)*xt&65535)<<16)&4294967295)<<15|Ut>>>17))*Pt+(((Ut>>>16)*Pt&65535)<<16)&4294967295}return it^=h.length,it=2246822507*(65535&(it^=it>>>16))+((2246822507*(it>>>16)&65535)<<16)&4294967295,it=3266489909*(65535&(it^=it>>>13))+((3266489909*(it>>>16)&65535)<<16)&4294967295,(it^=it>>>16)>>>0}}),c_=Yl(function(_){_.exports=function(h,b){for(var _e,rt=h.length,it=b^rt,ht=0;rt>=4;)_e=1540483477*(65535&(_e=255&h.charCodeAt(ht)|(255&h.charCodeAt(++ht))<<8|(255&h.charCodeAt(++ht))<<16|(255&h.charCodeAt(++ht))<<24))+((1540483477*(_e>>>16)&65535)<<16),it=1540483477*(65535&it)+((1540483477*(it>>>16)&65535)<<16)^(_e=1540483477*(65535&(_e^=_e>>>24))+((1540483477*(_e>>>16)&65535)<<16)),rt-=4,++ht;switch(rt){case 3:it^=(255&h.charCodeAt(ht+2))<<16;case 2:it^=(255&h.charCodeAt(ht+1))<<8;case 1:it=1540483477*(65535&(it^=255&h.charCodeAt(ht)))+((1540483477*(it>>>16)&65535)<<16)}return it=1540483477*(65535&(it^=it>>>13))+((1540483477*(it>>>16)&65535)<<16),(it^=it>>>15)>>>0}}),fu=Gu,i1=c_;fu.murmur3=Gu,fu.murmur2=i1;class wy{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(h,b,_e,rt){this.ids.push(g0(h)),this.positions.push(b,_e,rt)}getPositions(h){const b=g0(h);let _e=0,rt=this.ids.length-1;for(;_e<rt;){const ht=_e+rt>>1;this.ids[ht]>=b?rt=ht:_e=ht+1}const it=[];for(;this.ids[_e]===b;)it.push({index:this.positions[3*_e],start:this.positions[3*_e+1],end:this.positions[3*_e+2]}),_e++;return it}static serialize(h,b){const _e=new Float64Array(h.ids),rt=new Uint32Array(h.positions);return h_(_e,rt,0,_e.length-1),b&&b.push(_e.buffer,rt.buffer),{ids:_e,positions:rt}}static deserialize(h){const b=new wy;return b.ids=h.ids,b.positions=h.positions,b.indexed=!0,b}}function g0(_){const h=+_;return!isNaN(h)&&Number.MIN_SAFE_INTEGER<=h&&h<=Number.MAX_SAFE_INTEGER?h:fu(String(_))}function h_(_,h,b,_e){for(;b<_e;){const rt=_[b+_e>>1];let it=b-1,ht=_e+1;for(;;){do it++;while(_[it]<rt);do ht--;while(_[ht]>rt);if(it>=ht)break;xy(_,it,ht),xy(h,3*it,3*ht),xy(h,3*it+1,3*ht+1),xy(h,3*it+2,3*ht+2)}ht-b<_e-ht?(h_(_,h,b,ht),b=ht+1):(h_(_,h,ht+1,_e),_e=ht)}}function xy(_,h,b){const _e=_[h];_[h]=_[b],_[b]=_e}Vn(wy,"FeaturePositionMap");class Cu{constructor(h,b){this.gl=h.gl,this.location=b}}class Sy extends Cu{constructor(h,b){super(h,b),this.current=0}set(h){this.current!==h&&(this.current=h,this.gl.uniform1f(this.location,h))}}class m0 extends Cu{constructor(h,b){super(h,b),this.current=[0,0,0,0]}set(h){h[0]===this.current[0]&&h[1]===this.current[1]&&h[2]===this.current[2]&&h[3]===this.current[3]||(this.current=h,this.gl.uniform4f(this.location,h[0],h[1],h[2],h[3]))}}class y0 extends Cu{constructor(h,b){super(h,b),this.current=So.transparent}set(h){h.r===this.current.r&&h.g===this.current.g&&h.b===this.current.b&&h.a===this.current.a||(this.current=h,this.gl.uniform4f(this.location,h.r,h.g,h.b,h.a))}}const vw=new Float32Array(16),bw=new Float32Array(9),ww=new Float32Array(4);function d_(_){return[xr(255*_.r,255*_.g),xr(255*_.b,255*_.a)]}class o1{constructor(h,b,_e){this.value=h,this.uniformNames=b.map(rt=>`u_${rt}`),this.type=_e}setUniform(h,b,_e){h.set(_e.constantOr(this.value))}getBinding(h,b,_e){return this.type==="color"?new y0(h,b):new Sy(h,b)}}class om{constructor(h,b){this.uniformNames=b.map(_e=>`u_${_e}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(h,b){this.pixelRatioFrom=b.pixelRatio||1,this.pixelRatioTo=h.pixelRatio||1,this.patternFrom=b.tl.concat(b.br),this.patternTo=h.tl.concat(h.br)}setUniform(h,b,_e,rt){const it=rt==="u_pattern_to"||rt==="u_dash_to"?this.patternTo:rt==="u_pattern_from"||rt==="u_dash_from"?this.patternFrom:rt==="u_pixel_ratio_to"?this.pixelRatioTo:rt==="u_pixel_ratio_from"?this.pixelRatioFrom:null;it&&h.set(it)}getBinding(h,b,_e){return _e==="u_pattern_from"||_e==="u_pattern_to"||_e==="u_dash_from"||_e==="u_dash_to"?new m0(h,b):new Sy(h,b)}}class Ru{constructor(h,b,_e,rt){this.expression=h,this.type=_e,this.maxValue=0,this.paintVertexAttributes=b.map(it=>({name:`a_${it}`,type:"Float32",components:_e==="color"?2:1,offset:0})),this.paintVertexArray=new rt}populatePaintArray(h,b,_e,rt,it,ht){const xt=this.paintVertexArray.length,Pt=this.expression.evaluate(new Go(0),b,{},it,rt,ht);this.paintVertexArray.resize(h),this._setPaintValue(xt,h,Pt)}updatePaintArray(h,b,_e,rt,it){const ht=this.expression.evaluate({zoom:0},_e,rt,void 0,it);this._setPaintValue(h,b,ht)}_setPaintValue(h,b,_e){if(this.type==="color"){const rt=d_(_e);for(let it=h;it<b;it++)this.paintVertexArray.emplace(it,rt[0],rt[1])}else{for(let rt=h;rt<b;rt++)this.paintVertexArray.emplace(rt,_e);this.maxValue=Math.max(this.maxValue,Math.abs(_e))}}upload(h){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=h.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class tu{constructor(h,b,_e,rt,it,ht){this.expression=h,this.uniformNames=b.map(xt=>`u_${xt}_t`),this.type=_e,this.useIntegerZoom=rt,this.zoom=it,this.maxValue=0,this.paintVertexAttributes=b.map(xt=>({name:`a_${xt}`,type:"Float32",components:_e==="color"?4:2,offset:0})),this.paintVertexArray=new ht}populatePaintArray(h,b,_e,rt,it,ht){const xt=this.expression.evaluate(new Go(this.zoom),b,{},it,rt,ht),Pt=this.expression.evaluate(new Go(this.zoom+1),b,{},it,rt,ht),Ut=this.paintVertexArray.length;this.paintVertexArray.resize(h),this._setPaintValue(Ut,h,xt,Pt)}updatePaintArray(h,b,_e,rt,it){const ht=this.expression.evaluate({zoom:this.zoom},_e,rt,void 0,it),xt=this.expression.evaluate({zoom:this.zoom+1},_e,rt,void 0,it);this._setPaintValue(h,b,ht,xt)}_setPaintValue(h,b,_e,rt){if(this.type==="color"){const it=d_(_e),ht=d_(rt);for(let xt=h;xt<b;xt++)this.paintVertexArray.emplace(xt,it[0],it[1],ht[0],ht[1])}else{for(let it=h;it<b;it++)this.paintVertexArray.emplace(it,_e,rt);this.maxValue=Math.max(this.maxValue,Math.abs(_e),Math.abs(rt))}}upload(h){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=h.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(h,b){const _e=this.useIntegerZoom?Math.floor(b.zoom):b.zoom,rt=Lt(this.expression.interpolationFactor(_e,this.zoom,this.zoom+1),0,1);h.set(rt)}getBinding(h,b,_e){return new Sy(h,b)}}class Zu{constructor(h,b,_e,rt,it,ht,xt){this.expression=h,this.type=_e,this.useIntegerZoom=rt,this.zoom=it,this.layerId=xt,this.paintVertexAttributes=(_e==="array"?n1:by).members;for(let Pt=0;Pt<b.length;++Pt);this.zoomInPaintVertexArray=new ht,this.zoomOutPaintVertexArray=new ht}populatePaintArray(h,b,_e){const rt=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(h),this.zoomOutPaintVertexArray.resize(h),this._setPaintValues(rt,h,b.patterns&&b.patterns[this.layerId],_e)}updatePaintArray(h,b,_e,rt,it,ht){this._setPaintValues(h,b,_e.patterns&&_e.patterns[this.layerId],ht)}_setPaintValues(h,b,_e,rt){if(!rt||!_e)return;const{min:it,mid:ht,max:xt}=_e,Pt=rt[it],Ut=rt[ht],$t=rt[xt];if(Pt&&Ut&&$t)for(let Jt=h;Jt<b;Jt++)this._setPaintValue(this.zoomInPaintVertexArray,Jt,Ut,Pt),this._setPaintValue(this.zoomOutPaintVertexArray,Jt,Ut,$t)}_setPaintValue(h,b,_e,rt){h.emplace(b,_e.tl[0],_e.tl[1],_e.br[0],_e.br[1],rt.tl[0],rt.tl[1],rt.br[0],rt.br[1],_e.pixelRatio,rt.pixelRatio)}upload(h){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=h.createVertexBuffer(this.zoomInPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=h.createVertexBuffer(this.zoomOutPaintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class $u{constructor(h,b,_e=()=>!0){this.binders={},this._buffers=[];const rt=[];for(const it in h.paint._values){if(!_e(it))continue;const ht=h.paint.get(it);if(!(ht instanceof Et&&Bu(ht.property.specification)))continue;const xt=Sw(it,h.type),Pt=ht.value,Ut=ht.property.specification.type,$t=ht.property.useIntegerZoom,Jt=ht.property.specification["property-type"],tr=Jt==="cross-faded"||Jt==="cross-faded-data-driven",ur=String(it)==="line-dasharray"&&h.layout.get("line-cap").value.kind!=="constant";if(Pt.kind!=="constant"||ur)if(Pt.kind==="source"||ur||tr){const gr=_0(it,Ut,"source");this.binders[it]=tr?new Zu(Pt,xt,Ut,$t,b,gr,h.id):new Ru(Pt,xt,Ut,gr),rt.push(`/a_${it}`)}else{const gr=_0(it,Ut,"composite");this.binders[it]=new tu(Pt,xt,Ut,$t,b,gr),rt.push(`/z_${it}`)}else this.binders[it]=tr?new om(Pt.value,xt):new o1(Pt.value,xt,Ut),rt.push(`/u_${it}`)}this.cacheKey=rt.sort().join("")}getMaxValue(h){const b=this.binders[h];return b instanceof Ru||b instanceof tu?b.maxValue:0}populatePaintArrays(h,b,_e,rt,it,ht){for(const xt in this.binders){const Pt=this.binders[xt];(Pt instanceof Ru||Pt instanceof tu||Pt instanceof Zu)&&Pt.populatePaintArray(h,b,_e,rt,it,ht)}}setConstantPatternPositions(h,b){for(const _e in this.binders){const rt=this.binders[_e];rt instanceof om&&rt.setConstantPatternPositions(h,b)}}updatePaintArrays(h,b,_e,rt,it,ht){let xt=!1;for(const Pt in h){const Ut=b.getPositions(Pt);for(const $t of Ut){const Jt=_e.feature($t.index);for(const tr in this.binders){const ur=this.binders[tr];if((ur instanceof Ru||ur instanceof tu||ur instanceof Zu)&&ur.expression.isStateDependent===!0){const gr=rt.paint.get(tr);ur.expression=gr.value,ur.updatePaintArray($t.start,$t.end,Jt,h[Pt],it,ht),xt=!0}}}}return xt}defines(){const h=[];for(const b in this.binders){const _e=this.binders[b];(_e instanceof o1||_e instanceof om)&&h.push(..._e.uniformNames.map(rt=>`#define HAS_UNIFORM_${rt}`))}return h}getBinderAttributes(){const h=[];for(const b in this.binders){const _e=this.binders[b];if(_e instanceof Ru||_e instanceof tu||_e instanceof Zu)for(let rt=0;rt<_e.paintVertexAttributes.length;rt++)h.push(_e.paintVertexAttributes[rt].name)}return h}getBinderUniforms(){const h=[];for(const b in this.binders){const _e=this.binders[b];if(_e instanceof o1||_e instanceof om||_e instanceof tu)for(const rt of _e.uniformNames)h.push(rt)}return h}getPaintVertexBuffers(){return this._buffers}getUniforms(h,b){const _e=[];for(const rt in this.binders){const it=this.binders[rt];if(it instanceof o1||it instanceof om||it instanceof tu){for(const ht of it.uniformNames)if(b[ht]){const xt=it.getBinding(h,b[ht],ht);_e.push({name:ht,property:rt,binding:xt})}}}return _e}setUniforms(h,b,_e,rt){for(const{name:it,property:ht,binding:xt}of b)this.binders[ht].setUniform(xt,rt,_e.get(ht),it)}updatePaintBuffers(h){this._buffers=[];for(const b in this.binders){const _e=this.binders[b];if(h&&_e instanceof Zu){const rt=h.fromScale===2?_e.zoomInPaintVertexBuffer:_e.zoomOutPaintVertexBuffer;rt&&this._buffers.push(rt)}else(_e instanceof Ru||_e instanceof tu)&&_e.paintVertexBuffer&&this._buffers.push(_e.paintVertexBuffer)}}upload(h){for(const b in this.binders){const _e=this.binders[b];(_e instanceof Ru||_e instanceof tu||_e instanceof Zu)&&_e.upload(h)}this.updatePaintBuffers()}destroy(){for(const h in this.binders){const b=this.binders[h];(b instanceof Ru||b instanceof tu||b instanceof Zu)&&b.destroy()}}}class Ap{constructor(h,b,_e=()=>!0){this.programConfigurations={};for(const rt of h)this.programConfigurations[rt.id]=new $u(rt,b,_e);this.needsUpload=!1,this._featureMap=new wy,this._bufferOffset=0}populatePaintArrays(h,b,_e,rt,it,ht,xt){for(const Pt in this.programConfigurations)this.programConfigurations[Pt].populatePaintArrays(h,b,rt,it,ht,xt);b.id!==void 0&&this._featureMap.add(b.id,_e,this._bufferOffset,h),this._bufferOffset=h,this.needsUpload=!0}updatePaintArrays(h,b,_e,rt,it){for(const ht of _e)this.needsUpload=this.programConfigurations[ht.id].updatePaintArrays(h,this._featureMap,b,ht,rt,it)||this.needsUpload}get(h){return this.programConfigurations[h]}upload(h){if(this.needsUpload){for(const b in this.programConfigurations)this.programConfigurations[b].upload(h);this.needsUpload=!1}}destroy(){for(const h in this.programConfigurations)this.programConfigurations[h].destroy()}}const xw={"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"line-dasharray":["dash_to","dash_from"]};function Sw(_,h){return xw[_]||[_.replace(`${h}-`,"").replace(/-/g,"_")]}const Ew={"line-pattern":{source:on,composite:on},"fill-pattern":{source:on,composite:on},"fill-extrusion-pattern":{source:on,composite:on},"line-dasharray":{source:pn,composite:pn}},Tw={color:{source:Jo,composite:Wr},number:{source:qn,composite:Jo}};function _0(_,h,b){const _e=Ew[_];return _e&&_e[b]||Tw[h][b]}Vn(o1,"ConstantBinder"),Vn(om,"CrossFadedConstantBinder"),Vn(Ru,"SourceExpressionBinder"),Vn(Zu,"CrossFadedCompositeBinder"),Vn(tu,"CompositeExpressionBinder"),Vn($u,"ProgramConfiguration",{omit:["_buffers"]}),Vn(Ap,"ProgramConfigurationSet");const Ey="-transition";class ru extends ro{constructor(h,b){if(super(),this.id=h.id,this.type=h.type,this._featureFilter={filter:()=>!0,needGeometry:!1,needFeature:!1},this._filterCompiled=!1,h.type!=="custom"&&(this.metadata=(h=h).metadata,this.minzoom=h.minzoom,this.maxzoom=h.maxzoom,h.type!=="background"&&h.type!=="sky"&&(this.source=h.source,this.sourceLayer=h["source-layer"],this.filter=h.filter),b.layout&&(this._unevaluatedLayout=new st(b.layout)),b.paint)){this._transitionablePaint=new nt(b.paint);for(const _e in h.paint)this.setPaintProperty(_e,h.paint[_e],{validate:!1});for(const _e in h.layout)this.setLayoutProperty(_e,h.layout[_e],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ot(b.paint)}}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(h){return h==="visibility"?this.visibility:this._unevaluatedLayout.getValue(h)}setLayoutProperty(h,b,_e={}){b!=null&&this._validate(a_,`layers.${this.id}.layout.${h}`,h,b,_e)||(h!=="visibility"?this._unevaluatedLayout.setValue(h,b):this.visibility=b)}getPaintProperty(h){return Nt(h,Ey)?this._transitionablePaint.getTransition(h.slice(0,-Ey.length)):this._transitionablePaint.getValue(h)}setPaintProperty(h,b,_e={}){if(b!=null&&this._validate(s_,`layers.${this.id}.paint.${h}`,h,b,_e))return!1;if(Nt(h,Ey))return this._transitionablePaint.setTransition(h.slice(0,-Ey.length),b||void 0),!1;{const rt=this._transitionablePaint._values[h],it=rt.property.specification["property-type"]==="cross-faded-data-driven",ht=rt.value.isDataDriven(),xt=rt.value;this._transitionablePaint.setValue(h,b),this._handleSpecialPaintPropertyUpdate(h);const Pt=this._transitionablePaint._values[h].value;return Pt.isDataDriven()||ht||it||this._handleOverridablePaintPropertyUpdate(h,xt,Pt)}}_handleSpecialPaintPropertyUpdate(h){}getProgramIds(){return null}getProgramConfiguration(h){return null}_handleOverridablePaintPropertyUpdate(h,b,_e){return!1}isHidden(h){return!!(this.minzoom&&h<this.minzoom)||!!(this.maxzoom&&h>=this.maxzoom)||this.visibility==="none"}updateTransitions(h){this._transitioningPaint=this._transitionablePaint.transitioned(h,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculate(h,b){h.getCrossfadeParameters&&(this._crossfadeParameters=h.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(h,void 0,b)),this.paint=this._transitioningPaint.possiblyEvaluate(h,void 0,b)}serialize(){const h={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(h.layout=h.layout||{},h.layout.visibility=this.visibility),at(h,(b,_e)=>!(b===void 0||_e==="layout"&&!Object.keys(b).length||_e==="paint"&&!Object.keys(b).length))}_validate(h,b,_e,rt,it={}){return(!it||it.validate!==!1)&&ny(this,h.call(yp,{key:b,layerType:this.type,objectKey:_e,value:rt,styleSpec:un,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isSky(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const h in this.paint._values){const b=this.paint.get(h);if(b instanceof Et&&Bu(b.property.specification)&&(b.value.kind==="source"||b.value.kind==="composite")&&b.value.isStateDependent)return!0}return!1}compileFilter(){this._filterCompiled||(this._featureFilter=lu(this.filter),this._filterCompiled=!0)}invalidateCompiledFilter(){this._filterCompiled=!1}dynamicFilter(){return this._featureFilter.dynamicFilter}dynamicFilterNeedsFeature(){return this._featureFilter.needFeature}}const Aw=Nr([{name:"a_pos",components:2,type:"Int16"}],4),Cw=Nr([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"},{name:"a_scale",components:1,type:"Float32"}]);class is{constructor(h=[]){this.segments=h}prepareSegment(h,b,_e,rt){let it=this.segments[this.segments.length-1];return h>is.MAX_VERTEX_ARRAY_LENGTH&&Qt(`Max vertices per segment is ${is.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${h}`),(!it||it.vertexLength+h>is.MAX_VERTEX_ARRAY_LENGTH||it.sortKey!==rt)&&(it={vertexOffset:b.length,primitiveOffset:_e.length,vertexLength:0,primitiveLength:0},rt!==void 0&&(it.sortKey=rt),this.segments.push(it)),it}get(){return this.segments}destroy(){for(const h of this.segments)for(const b in h.vaos)h.vaos[b].destroy()}static simpleSegment(h,b,_e,rt){return new is([{vertexOffset:h,primitiveOffset:b,vertexLength:_e,primitiveLength:rt,vaos:{},sortKey:0}])}}is.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Vn(is,"SegmentVector");var fo=8192;class qu{constructor(h,b){h&&(b?this.setSouthWest(h).setNorthEast(b):h.length===4?this.setSouthWest([h[0],h[1]]).setNorthEast([h[2],h[3]]):this.setSouthWest(h[0]).setNorthEast(h[1]))}setNorthEast(h){return this._ne=h instanceof Bo?new Bo(h.lng,h.lat):Bo.convert(h),this}setSouthWest(h){return this._sw=h instanceof Bo?new Bo(h.lng,h.lat):Bo.convert(h),this}extend(h){const b=this._sw,_e=this._ne;let rt,it;if(h instanceof Bo)rt=h,it=h;else{if(!(h instanceof qu))return Array.isArray(h)?h.length===4||h.every(Array.isArray)?this.extend(qu.convert(h)):this.extend(Bo.convert(h)):this;if(rt=h._sw,it=h._ne,!rt||!it)return this}return b||_e?(b.lng=Math.min(rt.lng,b.lng),b.lat=Math.min(rt.lat,b.lat),_e.lng=Math.max(it.lng,_e.lng),_e.lat=Math.max(it.lat,_e.lat)):(this._sw=new Bo(rt.lng,rt.lat),this._ne=new Bo(it.lng,it.lat)),this}getCenter(){return new Bo((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new Bo(this.getWest(),this.getNorth())}getSouthEast(){return new Bo(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(h){const{lng:b,lat:_e}=Bo.convert(h);let rt=this._sw.lng<=b&&b<=this._ne.lng;return this._sw.lng>this._ne.lng&&(rt=this._sw.lng>=b&&b>=this._ne.lng),this._sw.lat<=_e&&_e<=this._ne.lat&&rt}static convert(h){return!h||h instanceof qu?h:new qu(h)}}const f_=63710088e-1;class Bo{constructor(h,b){if(isNaN(h)||isNaN(b))throw new Error(`Invalid LngLat object: (${h}, ${b})`);if(this.lng=+h,this.lat=+b,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Bo(Yt(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(h){const b=Math.PI/180,_e=this.lat*b,rt=h.lat*b,it=Math.sin(_e)*Math.sin(rt)+Math.cos(_e)*Math.cos(rt)*Math.cos((h.lng-this.lng)*b);return f_*Math.acos(Math.min(it,1))}toBounds(h=0){const b=360*h/40075017,_e=b/Math.cos(Math.PI/180*this.lat);return new qu(new Bo(this.lng-_e,this.lat-b),new Bo(this.lng+_e,this.lat+b))}static convert(h){if(h instanceof Bo)return h;if(Array.isArray(h)&&(h.length===2||h.length===3))return new Bo(Number(h[0]),Number(h[1]));if(!Array.isArray(h)&&typeof h=="object"&&h!==null)return new Bo(Number("lng"in h?h.lng:h.lon),Number(h.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const v0=2*Math.PI*f_;function p_(_){return v0*Math.cos(_*Math.PI/180)}function s1(_){return(180+_)/360}function sm(_){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+_*Math.PI/360)))/360}function am(_,h){return _/p_(h)}function Hl(_){return 360*_-180}function Ls(_){return 360/Math.PI*Math.atan(Math.exp((180-360*_)*Math.PI/180))-90}function b0(_,h){return _*p_(Ls(h))}const pu=85.051129;class Ty{constructor(h,b,_e=0){this.x=+h,this.y=+b,this.z=+_e}static fromLngLat(h,b=0){const _e=Bo.convert(h);return new Ty(s1(_e.lng),sm(_e.lat),am(b,_e.lat))}toLngLat(){return new Bo(Hl(this.x),Ls(this.y))}toAltitude(){return b0(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/v0*(h=Ls(this.y),1/Math.cos(h*Math.PI/180));var h}}function g_(_,h,b,_e,rt,it,ht,xt,Pt){const Ut=(h+_e)/2,$t=(b+rt)/2,Jt=new gt(Ut,$t);xt(Jt),function(tr,ur,gr,wr,Tr,Lr){const Vr=gr-Tr,Zr=wr-Lr;return Math.abs((wr-ur)*Vr-(gr-tr)*Zr)/Math.hypot(Vr,Zr)}(Jt.x,Jt.y,it.x,it.y,ht.x,ht.y)>=Pt?(g_(_,h,b,Ut,$t,it,Jt,xt,Pt),g_(_,Ut,$t,_e,rt,Jt,ht,xt,Pt)):_.push(ht)}function Rw(_,h,b){let _e=_[0],rt=_e.x,it=_e.y;h(_e);const ht=[_e];for(let xt=1;xt<_.length;xt++){const Pt=_[xt],{x:Ut,y:$t}=Pt;h(Pt),g_(ht,rt,it,Ut,$t,_e,Pt,h,b),rt=Ut,it=$t,_e=Pt}return ht}const m_=Math.pow(2,14)-1,w0=-m_-1;function Mw(_,h){const b=Math.round(_.x*h),_e=Math.round(_.y*h);return _.x=Lt(b,w0,m_),_.y=Lt(_e,w0,m_),(b<_.x||b>_.x+1||_e<_.y||_e>_.y+1)&&Qt("Geometry exceeds allowed extent, reduce your vector tile buffer size"),_}function Mu(_,h,b){const _e=_.loadGeometry(),rt=_.extent,it=fo/rt;if(h&&b&&b.projection.isReprojectedInTileSpace){const ht=1<<h.z,{scale:xt,x:Pt,y:Ut,projection:$t}=b,Jt=tr=>{const ur=Hl((h.x+tr.x/rt)/ht),gr=Ls((h.y+tr.y/rt)/ht),wr=$t.project(ur,gr);tr.x=(wr.x*xt-Pt)*rt,tr.y=(wr.y*xt-Ut)*rt};for(let tr=0;tr<_e.length;tr++)if(_.type!==1)_e[tr]=Rw(_e[tr],Jt,1);else{const ur=[];for(const gr of _e[tr])gr.x<0||gr.x>=rt||gr.y<0||gr.y>=rt||(Jt(gr),ur.push(gr));_e[tr]=ur}}for(const ht of _e)for(const xt of ht)Mw(xt,it);return _e}function Cp(_,h){return{type:_.type,id:_.id,properties:_.properties,geometry:h?Mu(_):[]}}function Ay(_,h,b,_e,rt){_.emplaceBack(2*h+(_e+1)/2,2*b+(rt+1)/2)}function Cy(_,h,b,_e){_.emplaceBack(h.x,h.y,h.z,b[0]*16384,b[1]*16384,b[2]*16384,_e)}class y_{constructor(h){this.zoom=h.zoom,this.overscaling=h.overscaling,this.layers=h.layers,this.layerIds=this.layers.map(b=>b.id),this.index=h.index,this.hasPattern=!1,this.projection=h.projection,this.layoutVertexArray=new kr,this.indexArray=new Gn,this.segments=new is,this.programConfigurations=new Ap(h.layers,h.zoom),this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id)}populate(h,b,_e,rt){const it=this.layers[0],ht=[];let xt=null;it.type==="circle"&&(xt=it.layout.get("circle-sort-key"));for(const{feature:Ut,id:$t,index:Jt,sourceLayerIndex:tr}of h){const ur=this.layers[0]._featureFilter.needGeometry,gr=Cp(Ut,ur);if(!this.layers[0]._featureFilter.filter(new Go(this.zoom),gr,_e))continue;const wr=xt?xt.evaluate(gr,{},_e):void 0,Tr={id:$t,properties:Ut.properties,type:Ut.type,sourceLayerIndex:tr,index:Jt,geometry:ur?gr.geometry:Mu(Ut,_e,rt),patterns:{},sortKey:wr};ht.push(Tr)}xt&&ht.sort((Ut,$t)=>Ut.sortKey-$t.sortKey);let Pt=null;rt.projection.name==="globe"&&(this.globeExtVertexArray=new Au,Pt=rt.projection);for(const Ut of ht){const{geometry:$t,index:Jt,sourceLayerIndex:tr}=Ut,ur=h[Jt].feature;this.addFeature(Ut,$t,Jt,b.availableImages,_e,Pt),b.featureIndex.insert(ur,$t,Jt,tr,this.index)}}update(h,b,_e,rt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(h,b,this.stateDependentLayers,_e,rt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(h){this.uploaded||(this.layoutVertexBuffer=h.createVertexBuffer(this.layoutVertexArray,Aw.members),this.indexBuffer=h.createIndexBuffer(this.indexArray),this.globeExtVertexArray&&(this.globeExtVertexBuffer=h.createVertexBuffer(this.globeExtVertexArray,Cw.members))),this.programConfigurations.upload(h),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.globeExtVertexBuffer&&this.globeExtVertexBuffer.destroy())}addFeature(h,b,_e,rt,it,ht){for(const xt of b)for(const Pt of xt){const Ut=Pt.x,$t=Pt.y;if(Ut<0||Ut>=fo||$t<0||$t>=fo)continue;if(ht){const ur=ht.projectTilePoint(Ut,$t,it),gr=ht.upVector(it,Ut,$t),wr=Ls(($t/fo+it.y)/(1<<it.z)),Tr=ht.pixelsPerMeter(wr,1)/am(1,wr),Lr=this.globeExtVertexArray;Cy(Lr,ur,gr,Tr),Cy(Lr,ur,gr,Tr),Cy(Lr,ur,gr,Tr),Cy(Lr,ur,gr,Tr)}const Jt=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,h.sortKey),tr=Jt.vertexLength;Ay(this.layoutVertexArray,Ut,$t,-1,-1),Ay(this.layoutVertexArray,Ut,$t,1,-1),Ay(this.layoutVertexArray,Ut,$t,1,1),Ay(this.layoutVertexArray,Ut,$t,-1,1),this.indexArray.emplaceBack(tr,tr+1,tr+2),this.indexArray.emplaceBack(tr,tr+3,tr+2),Jt.vertexLength+=4,Jt.primitiveLength+=2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,h,_e,{},rt,it)}}function x0(_,h){for(let b=0;b<_.length;b++)if(lm(h,_[b]))return!0;for(let b=0;b<h.length;b++)if(lm(_,h[b]))return!0;return!!__(_,h)}function Iw(_,h,b){return!!lm(_,h)||!!v_(h,_,b)}function S0(_,h){if(_.length===1)return T0(h,_[0]);for(let b=0;b<h.length;b++){const _e=h[b];for(let rt=0;rt<_e.length;rt++)if(lm(_,_e[rt]))return!0}for(let b=0;b<_.length;b++)if(T0(h,_[b]))return!0;for(let b=0;b<h.length;b++)if(__(_,h[b]))return!0;return!1}function Ow(_,h,b){if(_.length>1){if(__(_,h))return!0;for(let _e=0;_e<h.length;_e++)if(v_(h[_e],_,b))return!0}for(let _e=0;_e<_.length;_e++)if(v_(_[_e],h,b))return!0;return!1}function __(_,h){if(_.length===0||h.length===0)return!1;for(let b=0;b<_.length-1;b++){const _e=_[b],rt=_[b+1];for(let it=0;it<h.length-1;it++)if(Lw(_e,rt,h[it],h[it+1]))return!0}return!1}function Lw(_,h,b,_e){return or(_,b,_e)!==or(h,b,_e)&&or(_,h,b)!==or(_,h,_e)}function v_(_,h,b){const _e=b*b;if(h.length===1)return _.distSqr(h[0])<_e;for(let rt=1;rt<h.length;rt++)if(E0(_,h[rt-1],h[rt])<_e)return!0;return!1}function E0(_,h,b){const _e=h.distSqr(b);if(_e===0)return _.distSqr(h);const rt=((_.x-h.x)*(b.x-h.x)+(_.y-h.y)*(b.y-h.y))/_e;return _.distSqr(rt<0?h:rt>1?b:b.sub(h)._mult(rt)._add(h))}function T0(_,h){let b,_e,rt,it=!1;for(let ht=0;ht<_.length;ht++){b=_[ht];for(let xt=0,Pt=b.length-1;xt<b.length;Pt=xt++)_e=b[xt],rt=b[Pt],_e.y>h.y!=rt.y>h.y&&h.x<(rt.x-_e.x)*(h.y-_e.y)/(rt.y-_e.y)+_e.x&&(it=!it)}return it}function lm(_,h){let b=!1;for(let _e=0,rt=_.length-1;_e<_.length;rt=_e++){const it=_[_e],ht=_[rt];it.y>h.y!=ht.y>h.y&&h.x<(ht.x-it.x)*(h.y-it.y)/(ht.y-it.y)+it.x&&(b=!b)}return b}function A0(_,h,b,_e,rt){for(const ht of _)if(h<=ht.x&&b<=ht.y&&_e>=ht.x&&rt>=ht.y)return!0;const it=[new gt(h,b),new gt(h,rt),new gt(_e,rt),new gt(_e,b)];if(_.length>2){for(const ht of it)if(lm(_,ht))return!0}for(let ht=0;ht<_.length-1;ht++)if(jw(_[ht],_[ht+1],it))return!0;return!1}function jw(_,h,b){const _e=b[0],rt=b[2];if(_.x<_e.x&&h.x<_e.x||_.x>rt.x&&h.x>rt.x||_.y<_e.y&&h.y<_e.y||_.y>rt.y&&h.y>rt.y)return!1;const it=or(_,h,b[0]);return it!==or(_,h,b[1])||it!==or(_,h,b[2])||it!==or(_,h,b[3])}function um(_,h,b){const _e=h.paint.get(_).value;return _e.kind==="constant"?_e.value:b.programConfigurations.get(h.id).getMaxValue(_)}function Ry(_){return Math.sqrt(_[0]*_[0]+_[1]*_[1])}function C0(_,h,b,_e,rt){if(!h[0]&&!h[1])return _;const it=gt.convert(h)._mult(rt);b==="viewport"&&it._rotate(-_e);const ht=[];for(let xt=0;xt<_.length;xt++)ht.push(_[xt].sub(it));return ht}function R0(_,h,b,_e){const rt=gt.convert(_)._mult(_e);return h==="viewport"&&rt._rotate(-b),rt}Vn(y_,"CircleBucket",{omit:["layers"]});const Pw=new fr({"circle-sort-key":new Wt(un.layout_circle["circle-sort-key"])});var kw={paint:new fr({"circle-radius":new Wt(un.paint_circle["circle-radius"]),"circle-color":new Wt(un.paint_circle["circle-color"]),"circle-blur":new Wt(un.paint_circle["circle-blur"]),"circle-opacity":new Wt(un.paint_circle["circle-opacity"]),"circle-translate":new Ft(un.paint_circle["circle-translate"]),"circle-translate-anchor":new Ft(un.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ft(un.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ft(un.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Wt(un.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Wt(un.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Wt(un.paint_circle["circle-stroke-opacity"])}),layout:Pw},b_=1e-6,Al=typeof Float32Array!="undefined"?Float32Array:Array;function M0(){var _=new Al(9);return Al!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[5]=0,_[6]=0,_[7]=0),_[0]=1,_[4]=1,_[8]=1,_}function gu(_){return _[0]=1,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=1,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=1,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_}function w_(_,h,b){var _e=h[0],rt=h[1],it=h[2],ht=h[3],xt=h[4],Pt=h[5],Ut=h[6],$t=h[7],Jt=h[8],tr=h[9],ur=h[10],gr=h[11],wr=h[12],Tr=h[13],Lr=h[14],Vr=h[15],Zr=b[0],qr=b[1],Kr=b[2],Jr=b[3];return _[0]=Zr*_e+qr*xt+Kr*Jt+Jr*wr,_[1]=Zr*rt+qr*Pt+Kr*tr+Jr*Tr,_[2]=Zr*it+qr*Ut+Kr*ur+Jr*Lr,_[3]=Zr*ht+qr*$t+Kr*gr+Jr*Vr,_[4]=(Zr=b[4])*_e+(qr=b[5])*xt+(Kr=b[6])*Jt+(Jr=b[7])*wr,_[5]=Zr*rt+qr*Pt+Kr*tr+Jr*Tr,_[6]=Zr*it+qr*Ut+Kr*ur+Jr*Lr,_[7]=Zr*ht+qr*$t+Kr*gr+Jr*Vr,_[8]=(Zr=b[8])*_e+(qr=b[9])*xt+(Kr=b[10])*Jt+(Jr=b[11])*wr,_[9]=Zr*rt+qr*Pt+Kr*tr+Jr*Tr,_[10]=Zr*it+qr*Ut+Kr*ur+Jr*Lr,_[11]=Zr*ht+qr*$t+Kr*gr+Jr*Vr,_[12]=(Zr=b[12])*_e+(qr=b[13])*xt+(Kr=b[14])*Jt+(Jr=b[15])*wr,_[13]=Zr*rt+qr*Pt+Kr*tr+Jr*Tr,_[14]=Zr*it+qr*Ut+Kr*ur+Jr*Lr,_[15]=Zr*ht+qr*$t+Kr*gr+Jr*Vr,_}function Rp(_,h,b){var _e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr=b[0],Tr=b[1],Lr=b[2];return h===_?(_[12]=h[0]*wr+h[4]*Tr+h[8]*Lr+h[12],_[13]=h[1]*wr+h[5]*Tr+h[9]*Lr+h[13],_[14]=h[2]*wr+h[6]*Tr+h[10]*Lr+h[14],_[15]=h[3]*wr+h[7]*Tr+h[11]*Lr+h[15]):(rt=h[1],it=h[2],ht=h[3],xt=h[4],Pt=h[5],Ut=h[6],$t=h[7],Jt=h[8],tr=h[9],ur=h[10],gr=h[11],_[0]=_e=h[0],_[1]=rt,_[2]=it,_[3]=ht,_[4]=xt,_[5]=Pt,_[6]=Ut,_[7]=$t,_[8]=Jt,_[9]=tr,_[10]=ur,_[11]=gr,_[12]=_e*wr+xt*Tr+Jt*Lr+h[12],_[13]=rt*wr+Pt*Tr+tr*Lr+h[13],_[14]=it*wr+Ut*Tr+ur*Lr+h[14],_[15]=ht*wr+$t*Tr+gr*Lr+h[15]),_}function Yu(_,h,b){var _e=b[0],rt=b[1],it=b[2];return _[0]=h[0]*_e,_[1]=h[1]*_e,_[2]=h[2]*_e,_[3]=h[3]*_e,_[4]=h[4]*rt,_[5]=h[5]*rt,_[6]=h[6]*rt,_[7]=h[7]*rt,_[8]=h[8]*it,_[9]=h[9]*it,_[10]=h[10]*it,_[11]=h[11]*it,_[12]=h[12],_[13]=h[13],_[14]=h[14],_[15]=h[15],_}function x_(_,h,b){var _e=Math.sin(b),rt=Math.cos(b),it=h[4],ht=h[5],xt=h[6],Pt=h[7],Ut=h[8],$t=h[9],Jt=h[10],tr=h[11];return h!==_&&(_[0]=h[0],_[1]=h[1],_[2]=h[2],_[3]=h[3],_[12]=h[12],_[13]=h[13],_[14]=h[14],_[15]=h[15]),_[4]=it*rt+Ut*_e,_[5]=ht*rt+$t*_e,_[6]=xt*rt+Jt*_e,_[7]=Pt*rt+tr*_e,_[8]=Ut*rt-it*_e,_[9]=$t*rt-ht*_e,_[10]=Jt*rt-xt*_e,_[11]=tr*rt-Pt*_e,_}function S_(_,h,b){var _e=Math.sin(b),rt=Math.cos(b),it=h[0],ht=h[1],xt=h[2],Pt=h[3],Ut=h[8],$t=h[9],Jt=h[10],tr=h[11];return h!==_&&(_[4]=h[4],_[5]=h[5],_[6]=h[6],_[7]=h[7],_[12]=h[12],_[13]=h[13],_[14]=h[14],_[15]=h[15]),_[0]=it*rt-Ut*_e,_[1]=ht*rt-$t*_e,_[2]=xt*rt-Jt*_e,_[3]=Pt*rt-tr*_e,_[8]=it*_e+Ut*rt,_[9]=ht*_e+$t*rt,_[10]=xt*_e+Jt*rt,_[11]=Pt*_e+tr*rt,_}Math.hypot||(Math.hypot=function(){for(var _=0,h=arguments.length;h--;)_+=arguments[h]*arguments[h];return Math.sqrt(_)});var Dw=w_;function E_(){var _=new Al(3);return Al!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_}function I0(_){var h=new Al(3);return h[0]=_[0],h[1]=_[1],h[2]=_[2],h}function O0(_){return Math.hypot(_[0],_[1],_[2])}function a1(_,h,b){var _e=new Al(3);return _e[0]=_,_e[1]=h,_e[2]=b,_e}function L0(_,h,b){return _[0]=h[0]+b[0],_[1]=h[1]+b[1],_[2]=h[2]+b[2],_}function j0(_,h,b){return _[0]=h[0]-b[0],_[1]=h[1]-b[1],_[2]=h[2]-b[2],_}function P0(_,h,b){return _[0]=h[0]*b[0],_[1]=h[1]*b[1],_[2]=h[2]*b[2],_}function T_(_,h,b){return _[0]=Math.min(h[0],b[0]),_[1]=Math.min(h[1],b[1]),_[2]=Math.min(h[2],b[2]),_}function A_(_,h,b){return _[0]=Math.max(h[0],b[0]),_[1]=Math.max(h[1],b[1]),_[2]=Math.max(h[2],b[2]),_}function l1(_,h,b){return _[0]=h[0]*b,_[1]=h[1]*b,_[2]=h[2]*b,_}function C_(_,h,b,_e){return _[0]=h[0]+b[0]*_e,_[1]=h[1]+b[1]*_e,_[2]=h[2]+b[2]*_e,_}function u1(_,h){var b=h[0],_e=h[1],rt=h[2],it=b*b+_e*_e+rt*rt;return it>0&&(it=1/Math.sqrt(it)),_[0]=h[0]*it,_[1]=h[1]*it,_[2]=h[2]*it,_}function c1(_,h){return _[0]*h[0]+_[1]*h[1]+_[2]*h[2]}function k0(_,h,b){var _e=h[0],rt=h[1],it=h[2],ht=b[0],xt=b[1],Pt=b[2];return _[0]=rt*Pt-it*xt,_[1]=it*ht-_e*Pt,_[2]=_e*xt-rt*ht,_}function Mp(_,h,b){var _e=h[0],rt=h[1],it=h[2],ht=b[3]*_e+b[7]*rt+b[11]*it+b[15];return _[0]=(b[0]*_e+b[4]*rt+b[8]*it+b[12])/(ht=ht||1),_[1]=(b[1]*_e+b[5]*rt+b[9]*it+b[13])/ht,_[2]=(b[2]*_e+b[6]*rt+b[10]*it+b[14])/ht,_}function D0(_,h,b){var _e=b[0],rt=b[1],it=b[2],ht=h[0],xt=h[1],Pt=h[2],Ut=rt*Pt-it*xt,$t=it*ht-_e*Pt,Jt=_e*xt-rt*ht,tr=rt*Jt-it*$t,ur=it*Ut-_e*Jt,gr=_e*$t-rt*Ut,wr=2*b[3];return $t*=wr,Jt*=wr,ur*=2,gr*=2,_[0]=ht+(Ut*=wr)+(tr*=2),_[1]=xt+$t+ur,_[2]=Pt+Jt+gr,_}var h1,cm=j0,Bw=P0,Nw=O0;function hm(_,h,b){var _e=h[0],rt=h[1],it=h[2],ht=h[3];return _[0]=b[0]*_e+b[4]*rt+b[8]*it+b[12]*ht,_[1]=b[1]*_e+b[5]*rt+b[9]*it+b[13]*ht,_[2]=b[2]*_e+b[6]*rt+b[10]*it+b[14]*ht,_[3]=b[3]*_e+b[7]*rt+b[11]*it+b[15]*ht,_}function B0(){var _=new Al(4);return Al!=Float32Array&&(_[0]=0,_[1]=0,_[2]=0),_[3]=1,_}function N0(_){return _[0]=0,_[1]=0,_[2]=0,_[3]=1,_}function F0(_,h,b){b*=.5;var _e=h[0],rt=h[1],it=h[2],ht=h[3],xt=Math.sin(b),Pt=Math.cos(b);return _[0]=_e*Pt+ht*xt,_[1]=rt*Pt+it*xt,_[2]=it*Pt-rt*xt,_[3]=ht*Pt-_e*xt,_}E_(),h1=new Al(4),Al!=Float32Array&&(h1[0]=0,h1[1]=0,h1[2]=0,h1[3]=0),E_(),a1(1,0,0),a1(0,1,0),B0(),B0(),M0();class R_{constructor(h,b){this.points=h,this.planes=b}static fromInvProjectionMatrix(h,b,_e,rt){const it=Math.pow(2,_e),ht=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(Pt=>{const Ut=hm([],Pt,h),$t=1/Ut[3]/b*it;return function(Jt,tr,ur){return Jt[0]=tr[0]*ur[0],Jt[1]=tr[1]*ur[1],Jt[2]=tr[2]*ur[2],Jt[3]=tr[3]*ur[3],Jt}(Ut,Ut,[$t,$t,rt?1/Ut[3]:$t,$t])}),xt=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(Pt=>{const Ut=u1([],k0([],cm([],ht[Pt[0]],ht[Pt[1]]),cm([],ht[Pt[2]],ht[Pt[1]]))),$t=-c1(Ut,ht[Pt[1]]);return Ut.concat($t)});return new R_(ht,xt)}}class Nl{constructor(h,b){this.min=h,this.max=b,this.center=l1([],L0([],this.min,this.max),.5)}quadrant(h){const b=[h%2==0,h<2],_e=I0(this.min),rt=I0(this.max);for(let it=0;it<b.length;it++)_e[it]=b[it]?this.min[it]:this.center[it],rt[it]=b[it]?this.center[it]:this.max[it];return rt[2]=this.max[2],new Nl(_e,rt)}distanceX(h){return Math.max(Math.min(this.max[0],h[0]),this.min[0])-h[0]}distanceY(h){return Math.max(Math.min(this.max[1],h[1]),this.min[1])-h[1]}distanceZ(h){return Math.max(Math.min(this.max[2],h[2]),this.min[2])-h[2]}getCorners(){const h=this.min,b=this.max;return[[h[0],h[1],h[2]],[b[0],h[1],h[2]],[b[0],b[1],h[2]],[h[0],b[1],h[2]],[h[0],h[1],b[2]],[b[0],h[1],b[2]],[b[0],b[1],b[2]],[h[0],b[1],b[2]]]}intersects(h){const b=this.getCorners();let _e=!0;for(let rt=0;rt<h.planes.length;rt++){const it=h.planes[rt];let ht=0;for(let xt=0;xt<b.length;xt++)ht+=c1(it,b[xt])+it[3]>=0;if(ht===0)return 0;ht!==b.length&&(_e=!1)}if(_e)return 2;for(let rt=0;rt<3;rt++){let it=Number.MAX_VALUE,ht=-Number.MAX_VALUE;for(let xt=0;xt<h.points.length;xt++){const Pt=h.points[xt][rt]-this.min[rt];it=Math.min(it,Pt),ht=Math.max(ht,Pt)}if(ht<0||it>this.max[rt]-this.min[rt])return 0}return 1}}function U0(_,h,b,_e,rt,it,ht,xt,Pt){if(it&&_.queryGeometry.isAboveHorizon)return!1;it&&(Pt*=_.pixelToTileUnitsFactor);for(const Ut of h)for(const $t of Ut){const Jt=$t.add(xt),tr=rt&&b.elevation?b.elevation.exaggeration()*rt.getElevationAt(Jt.x,Jt.y,!0):0,ur=it?Jt:Fw(Jt,tr,_e),gr=it?_.tilespaceRays.map(Tr=>zw(Tr,tr)):_.queryGeometry.screenGeometry,wr=hm([],[$t.x,$t.y,tr,1],_e);if(!ht&&it?Pt*=wr[3]/b.cameraToCenterDistance:ht&&!it&&(Pt*=b.cameraToCenterDistance/wr[3]),Iw(gr,ur,Pt))return!0}return!1}function Fw(_,h,b){const _e=hm([],[_.x,_.y,h,1],b);return new gt(_e[0]/_e[3],_e[1]/_e[3])}const z0=a1(0,0,0),Uw=a1(0,0,1);function zw(_,h){const b=E_();return z0[2]=h,_.intersectsPlane(z0,Uw,b),new gt(b[0],b[1])}class V0 extends y_{}function W0(_,{width:h,height:b},_e,rt){if(rt){if(rt instanceof Uint8ClampedArray)rt=new Uint8Array(rt.buffer);else if(rt.length!==h*b*_e)throw new RangeError("mismatched image size")}else rt=new Uint8Array(h*b*_e);return _.width=h,_.height=b,_.data=rt,_}function H0(_,h,b){const{width:_e,height:rt}=h;_e===_.width&&rt===_.height||(M_(_,h,{x:0,y:0},{x:0,y:0},{width:Math.min(_.width,_e),height:Math.min(_.height,rt)},b),_.width=_e,_.height=rt,_.data=h.data)}function M_(_,h,b,_e,rt,it){if(rt.width===0||rt.height===0)return h;if(rt.width>_.width||rt.height>_.height||b.x>_.width-rt.width||b.y>_.height-rt.height)throw new RangeError("out of range source coordinates for image copy");if(rt.width>h.width||rt.height>h.height||_e.x>h.width-rt.width||_e.y>h.height-rt.height)throw new RangeError("out of range destination coordinates for image copy");const ht=_.data,xt=h.data;for(let Pt=0;Pt<rt.height;Pt++){const Ut=((b.y+Pt)*_.width+b.x)*it,$t=((_e.y+Pt)*h.width+_e.x)*it;for(let Jt=0;Jt<rt.width*it;Jt++)xt[$t+Jt]=ht[Ut+Jt]}return h}Vn(V0,"HeatmapBucket",{omit:["layers"]});class Iu{constructor(h,b){W0(this,h,1,b)}resize(h){H0(this,new Iu(h),1)}clone(){return new Iu({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(h,b,_e,rt,it){M_(h,b,_e,rt,it,1)}}class Cl{constructor(h,b){W0(this,h,4,b)}resize(h){H0(this,new Cl(h),4)}replace(h,b){b?this.data.set(h):this.data=h instanceof Uint8ClampedArray?new Uint8Array(h.buffer):h}clone(){return new Cl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(h,b,_e,rt,it){M_(h,b,_e,rt,it,4)}}Vn(Iu,"AlphaImage"),Vn(Cl,"RGBAImage");var Vw={paint:new fr({"heatmap-radius":new Wt(un.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Wt(un.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ft(un.paint_heatmap["heatmap-intensity"]),"heatmap-color":new sr(un.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ft(un.paint_heatmap["heatmap-opacity"])})};function I_(_){const h={},b=_.resolution||256,_e=_.clips?_.clips.length:1,rt=_.image||new Cl({width:b,height:_e}),it=(ht,xt,Pt)=>{h[_.evaluationKey]=Pt;const Ut=_.expression.evaluate(h);rt.data[ht+xt+0]=Math.floor(255*Ut.r/Ut.a),rt.data[ht+xt+1]=Math.floor(255*Ut.g/Ut.a),rt.data[ht+xt+2]=Math.floor(255*Ut.b/Ut.a),rt.data[ht+xt+3]=Math.floor(255*Ut.a)};if(_.clips)for(let ht=0,xt=0;ht<_e;++ht,xt+=4*b)for(let Pt=0,Ut=0;Pt<b;Pt++,Ut+=4){const $t=Pt/(b-1),{start:Jt,end:tr}=_.clips[ht];it(xt,Ut,Jt*(1-$t)+tr*$t)}else for(let ht=0,xt=0;ht<b;ht++,xt+=4)it(0,xt,ht/(b-1));return rt}var Ww={paint:new fr({"hillshade-illumination-direction":new Ft(un.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ft(un.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ft(un.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ft(un.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ft(un.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ft(un.paint_hillshade["hillshade-accent-color"])})};const Hw=Nr([{name:"a_pos",components:2,type:"Int16"}],4),{members:Gw}=Hw;var My=Iy,Zw=Iy;function Iy(_,h,b){b=b||2;var _e,rt,it,ht,xt,Pt,Ut,$t=h&&h.length,Jt=$t?h[0]*b:_.length,tr=G0(_,0,Jt,b,!0),ur=[];if(!tr||tr.next===tr.prev)return ur;if($t&&(tr=function(wr,Tr,Lr,Vr){var Zr,qr,Kr,Jr=[];for(Zr=0,qr=Tr.length;Zr<qr;Zr++)(Kr=G0(wr,Tr[Zr]*Vr,Zr<qr-1?Tr[Zr+1]*Vr:wr.length,Vr,!1))===Kr.next&&(Kr.steiner=!0),Jr.push(ex(Kr));for(Jr.sort(Kw),Zr=0;Zr<Jr.length;Zr++)Lr=Xu(Lr=Jw(Jr[Zr],Lr),Lr.next);return Lr}(_,h,tr,b)),_.length>80*b){_e=it=_[0],rt=ht=_[1];for(var gr=b;gr<Jt;gr+=b)(xt=_[gr])<_e&&(_e=xt),(Pt=_[gr+1])<rt&&(rt=Pt),xt>it&&(it=xt),Pt>ht&&(ht=Pt);Ut=(Ut=Math.max(it-_e,ht-rt))!==0?1/Ut:0}return d1(tr,ur,b,_e,rt,Ut),ur}function G0(_,h,b,_e,rt){var it,ht;if(rt===j_(_,h,b,_e)>0)for(it=h;it<b;it+=_e)ht=q0(it,_[it],_[it+1],ht);else for(it=b-_e;it>=h;it-=_e)ht=q0(it,_[it],_[it+1],ht);return ht&&Oy(ht,ht.next)&&(p1(ht),ht=ht.next),ht}function Xu(_,h){if(!_)return _;h||(h=_);var b,_e=_;do if(b=!1,_e.steiner||!Oy(_e,_e.next)&&cs(_e.prev,_e,_e.next)!==0)_e=_e.next;else{if(p1(_e),(_e=h=_e.prev)===_e.next)break;b=!0}while(b||_e!==h);return h}function d1(_,h,b,_e,rt,it,ht){if(_){!ht&&it&&function($t,Jt,tr,ur){var gr=$t;do gr.z===null&&(gr.z=O_(gr.x,gr.y,Jt,tr,ur)),gr.prevZ=gr.prev,gr.nextZ=gr.next,gr=gr.next;while(gr!==$t);gr.prevZ.nextZ=null,gr.prevZ=null,function(wr){var Tr,Lr,Vr,Zr,qr,Kr,Jr,mn,_n=1;do{for(Lr=wr,wr=null,qr=null,Kr=0;Lr;){for(Kr++,Vr=Lr,Jr=0,Tr=0;Tr<_n&&(Jr++,Vr=Vr.nextZ);Tr++);for(mn=_n;Jr>0||mn>0&&Vr;)Jr!==0&&(mn===0||!Vr||Lr.z<=Vr.z)?(Zr=Lr,Lr=Lr.nextZ,Jr--):(Zr=Vr,Vr=Vr.nextZ,mn--),qr?qr.nextZ=Zr:wr=Zr,Zr.prevZ=qr,qr=Zr;Lr=Vr}qr.nextZ=null,_n*=2}while(Kr>1)}(gr)}(_,_e,rt,it);for(var xt,Pt,Ut=_;_.prev!==_.next;)if(xt=_.prev,Pt=_.next,it?qw(_,_e,rt,it):$w(_))h.push(xt.i/b),h.push(_.i/b),h.push(Pt.i/b),p1(_),_=Pt.next,Ut=Pt.next;else if((_=Pt)===Ut){ht?ht===1?d1(_=Yw(Xu(_),h,b),h,b,_e,rt,it,2):ht===2&&Xw(_,h,b,_e,rt,it):d1(Xu(_),h,b,_e,rt,it,1);break}}}function $w(_){var h=_.prev,b=_,_e=_.next;if(cs(h,b,_e)>=0)return!1;for(var rt=_.next.next;rt!==_.prev;){if(dm(h.x,h.y,b.x,b.y,_e.x,_e.y,rt.x,rt.y)&&cs(rt.prev,rt,rt.next)>=0)return!1;rt=rt.next}return!0}function qw(_,h,b,_e){var rt=_.prev,it=_,ht=_.next;if(cs(rt,it,ht)>=0)return!1;for(var xt=rt.x>it.x?rt.x>ht.x?rt.x:ht.x:it.x>ht.x?it.x:ht.x,Pt=rt.y>it.y?rt.y>ht.y?rt.y:ht.y:it.y>ht.y?it.y:ht.y,Ut=O_(rt.x<it.x?rt.x<ht.x?rt.x:ht.x:it.x<ht.x?it.x:ht.x,rt.y<it.y?rt.y<ht.y?rt.y:ht.y:it.y<ht.y?it.y:ht.y,h,b,_e),$t=O_(xt,Pt,h,b,_e),Jt=_.prevZ,tr=_.nextZ;Jt&&Jt.z>=Ut&&tr&&tr.z<=$t;){if(Jt!==_.prev&&Jt!==_.next&&dm(rt.x,rt.y,it.x,it.y,ht.x,ht.y,Jt.x,Jt.y)&&cs(Jt.prev,Jt,Jt.next)>=0||(Jt=Jt.prevZ,tr!==_.prev&&tr!==_.next&&dm(rt.x,rt.y,it.x,it.y,ht.x,ht.y,tr.x,tr.y)&&cs(tr.prev,tr,tr.next)>=0))return!1;tr=tr.nextZ}for(;Jt&&Jt.z>=Ut;){if(Jt!==_.prev&&Jt!==_.next&&dm(rt.x,rt.y,it.x,it.y,ht.x,ht.y,Jt.x,Jt.y)&&cs(Jt.prev,Jt,Jt.next)>=0)return!1;Jt=Jt.prevZ}for(;tr&&tr.z<=$t;){if(tr!==_.prev&&tr!==_.next&&dm(rt.x,rt.y,it.x,it.y,ht.x,ht.y,tr.x,tr.y)&&cs(tr.prev,tr,tr.next)>=0)return!1;tr=tr.nextZ}return!0}function Yw(_,h,b){var _e=_;do{var rt=_e.prev,it=_e.next.next;!Oy(rt,it)&&Z0(rt,_e,_e.next,it)&&f1(rt,it)&&f1(it,rt)&&(h.push(rt.i/b),h.push(_e.i/b),h.push(it.i/b),p1(_e),p1(_e.next),_e=_=it),_e=_e.next}while(_e!==_);return Xu(_e)}function Xw(_,h,b,_e,rt,it){var ht=_;do{for(var xt=ht.next.next;xt!==ht.prev;){if(ht.i!==xt.i&&tx(ht,xt)){var Pt=$0(ht,xt);return ht=Xu(ht,ht.next),Pt=Xu(Pt,Pt.next),d1(ht,h,b,_e,rt,it),void d1(Pt,h,b,_e,rt,it)}xt=xt.next}ht=ht.next}while(ht!==_)}function Kw(_,h){return _.x-h.x}function Jw(_,h){var b=function(it,ht){var xt,Pt=ht,Ut=it.x,$t=it.y,Jt=-1/0;do{if($t<=Pt.y&&$t>=Pt.next.y&&Pt.next.y!==Pt.y){var tr=Pt.x+($t-Pt.y)*(Pt.next.x-Pt.x)/(Pt.next.y-Pt.y);if(tr<=Ut&&tr>Jt){if(Jt=tr,tr===Ut){if($t===Pt.y)return Pt;if($t===Pt.next.y)return Pt.next}xt=Pt.x<Pt.next.x?Pt:Pt.next}}Pt=Pt.next}while(Pt!==ht);if(!xt)return null;if(Ut===Jt)return xt;var ur,gr=xt,wr=xt.x,Tr=xt.y,Lr=1/0;Pt=xt;do Ut>=Pt.x&&Pt.x>=wr&&Ut!==Pt.x&&dm($t<Tr?Ut:Jt,$t,wr,Tr,$t<Tr?Jt:Ut,$t,Pt.x,Pt.y)&&(ur=Math.abs($t-Pt.y)/(Ut-Pt.x),f1(Pt,it)&&(ur<Lr||ur===Lr&&(Pt.x>xt.x||Pt.x===xt.x&&Qw(xt,Pt)))&&(xt=Pt,Lr=ur)),Pt=Pt.next;while(Pt!==gr);return xt}(_,h);if(!b)return h;var _e=$0(b,_),rt=Xu(b,b.next);return Xu(_e,_e.next),h===b?rt:h}function Qw(_,h){return cs(_.prev,_,h.prev)<0&&cs(h.next,_,_.next)<0}function O_(_,h,b,_e,rt){return(_=1431655765&((_=858993459&((_=252645135&((_=16711935&((_=32767*(_-b)*rt)|_<<8))|_<<4))|_<<2))|_<<1))|(h=1431655765&((h=858993459&((h=252645135&((h=16711935&((h=32767*(h-_e)*rt)|h<<8))|h<<4))|h<<2))|h<<1))<<1}function ex(_){var h=_,b=_;do(h.x<b.x||h.x===b.x&&h.y<b.y)&&(b=h),h=h.next;while(h!==_);return b}function dm(_,h,b,_e,rt,it,ht,xt){return(rt-ht)*(h-xt)-(_-ht)*(it-xt)>=0&&(_-ht)*(_e-xt)-(b-ht)*(h-xt)>=0&&(b-ht)*(it-xt)-(rt-ht)*(_e-xt)>=0}function tx(_,h){return _.next.i!==h.i&&_.prev.i!==h.i&&!function(b,_e){var rt=b;do{if(rt.i!==b.i&&rt.next.i!==b.i&&rt.i!==_e.i&&rt.next.i!==_e.i&&Z0(rt,rt.next,b,_e))return!0;rt=rt.next}while(rt!==b);return!1}(_,h)&&(f1(_,h)&&f1(h,_)&&function(b,_e){var rt=b,it=!1,ht=(b.x+_e.x)/2,xt=(b.y+_e.y)/2;do rt.y>xt!=rt.next.y>xt&&rt.next.y!==rt.y&&ht<(rt.next.x-rt.x)*(xt-rt.y)/(rt.next.y-rt.y)+rt.x&&(it=!it),rt=rt.next;while(rt!==b);return it}(_,h)&&(cs(_.prev,_,h.prev)||cs(_,h.prev,h))||Oy(_,h)&&cs(_.prev,_,_.next)>0&&cs(h.prev,h,h.next)>0)}function cs(_,h,b){return(h.y-_.y)*(b.x-h.x)-(h.x-_.x)*(b.y-h.y)}function Oy(_,h){return _.x===h.x&&_.y===h.y}function Z0(_,h,b,_e){var rt=jy(cs(_,h,b)),it=jy(cs(_,h,_e)),ht=jy(cs(b,_e,_)),xt=jy(cs(b,_e,h));return rt!==it&&ht!==xt||!(rt!==0||!Ly(_,b,h))||!(it!==0||!Ly(_,_e,h))||!(ht!==0||!Ly(b,_,_e))||!(xt!==0||!Ly(b,h,_e))}function Ly(_,h,b){return h.x<=Math.max(_.x,b.x)&&h.x>=Math.min(_.x,b.x)&&h.y<=Math.max(_.y,b.y)&&h.y>=Math.min(_.y,b.y)}function jy(_){return _>0?1:_<0?-1:0}function f1(_,h){return cs(_.prev,_,_.next)<0?cs(_,h,_.next)>=0&&cs(_,_.prev,h)>=0:cs(_,h,_.prev)<0||cs(_,_.next,h)<0}function $0(_,h){var b=new L_(_.i,_.x,_.y),_e=new L_(h.i,h.x,h.y),rt=_.next,it=h.prev;return _.next=h,h.prev=_,b.next=rt,rt.prev=b,_e.next=b,b.prev=_e,it.next=_e,_e.prev=it,_e}function q0(_,h,b,_e){var rt=new L_(_,h,b);return _e?(rt.next=_e.next,rt.prev=_e,_e.next.prev=rt,_e.next=rt):(rt.prev=rt,rt.next=rt),rt}function p1(_){_.next.prev=_.prev,_.prev.next=_.next,_.prevZ&&(_.prevZ.nextZ=_.nextZ),_.nextZ&&(_.nextZ.prevZ=_.prevZ)}function L_(_,h,b){this.i=_,this.x=h,this.y=b,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function j_(_,h,b,_e){for(var rt=0,it=h,ht=b-_e;it<b;it+=_e)rt+=(_[ht]-_[it])*(_[it+1]+_[ht+1]),ht=it;return rt}function rx(_,h,b,_e,rt){Y0(_,h,b||0,_e||_.length-1,rt||nx)}function Y0(_,h,b,_e,rt){for(;_e>b;){if(_e-b>600){var it=_e-b+1,ht=h-b+1,xt=Math.log(it),Pt=.5*Math.exp(2*xt/3),Ut=.5*Math.sqrt(xt*Pt*(it-Pt)/it)*(ht-it/2<0?-1:1);Y0(_,h,Math.max(b,Math.floor(h-ht*Pt/it+Ut)),Math.min(_e,Math.floor(h+(it-ht)*Pt/it+Ut)),rt)}var $t=_[h],Jt=b,tr=_e;for(g1(_,b,h),rt(_[_e],$t)>0&&g1(_,b,_e);Jt<tr;){for(g1(_,Jt,tr),Jt++,tr--;rt(_[Jt],$t)<0;)Jt++;for(;rt(_[tr],$t)>0;)tr--}rt(_[b],$t)===0?g1(_,b,tr):g1(_,++tr,_e),tr<=h&&(b=tr+1),h<=tr&&(_e=tr-1)}}function g1(_,h,b){var _e=_[h];_[h]=_[b],_[b]=_e}function nx(_,h){return _<h?-1:_>h?1:0}function P_(_,h){const b=_.length;if(b<=1)return[_];const _e=[];let rt,it;for(let ht=0;ht<b;ht++){const xt=ar(_[ht]);xt!==0&&(_[ht].area=Math.abs(xt),it===void 0&&(it=xt<0),it===xt<0?(rt&&_e.push(rt),rt=[_[ht]]):rt.push(_[ht]))}if(rt&&_e.push(rt),h>1)for(let ht=0;ht<_e.length;ht++)_e[ht].length<=h||(rx(_e[ht],h,1,_e[ht].length-1,ix),_e[ht]=_e[ht].slice(0,h));return _e}function ix(_,h){return h.area-_.area}function k_(_,h,b){const _e=b.patternDependencies;let rt=!1;for(const it of h){const ht=it.paint.get(`${_}-pattern`);ht.isConstant()||(rt=!0);const xt=ht.constantOr(null);xt&&(rt=!0,_e[xt.to]=!0,_e[xt.from]=!0)}return rt}function D_(_,h,b,_e,rt){const it=rt.patternDependencies;for(const ht of h){const xt=ht.paint.get(`${_}-pattern`).value;if(xt.kind!=="constant"){let Pt=xt.evaluate({zoom:_e-1},b,{},rt.availableImages),Ut=xt.evaluate({zoom:_e},b,{},rt.availableImages),$t=xt.evaluate({zoom:_e+1},b,{},rt.availableImages);Pt=Pt&&Pt.name?Pt.name:Pt,Ut=Ut&&Ut.name?Ut.name:Ut,$t=$t&&$t.name?$t.name:$t,it[Pt]=!0,it[Ut]=!0,it[$t]=!0,b.patterns[ht.id]={min:Pt,mid:Ut,max:$t}}}return b}Iy.deviation=function(_,h,b,_e){var rt=h&&h.length,it=Math.abs(j_(_,0,rt?h[0]*b:_.length,b));if(rt)for(var ht=0,xt=h.length;ht<xt;ht++)it-=Math.abs(j_(_,h[ht]*b,ht<xt-1?h[ht+1]*b:_.length,b));var Pt=0;for(ht=0;ht<_e.length;ht+=3){var Ut=_e[ht]*b,$t=_e[ht+1]*b,Jt=_e[ht+2]*b;Pt+=Math.abs((_[Ut]-_[Jt])*(_[$t+1]-_[Ut+1])-(_[Ut]-_[$t])*(_[Jt+1]-_[Ut+1]))}return it===0&&Pt===0?0:Math.abs((Pt-it)/it)},Iy.flatten=function(_){for(var h=_[0][0].length,b={vertices:[],holes:[],dimensions:h},_e=0,rt=0;rt<_.length;rt++){for(var it=0;it<_[rt].length;it++)for(var ht=0;ht<h;ht++)b.vertices.push(_[rt][it][ht]);rt>0&&b.holes.push(_e+=_[rt-1].length)}return b},My.default=Zw;class Py{constructor(h){this.zoom=h.zoom,this.overscaling=h.overscaling,this.layers=h.layers,this.layerIds=this.layers.map(b=>b.id),this.index=h.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new kr,this.indexArray=new Gn,this.indexArray2=new oo,this.programConfigurations=new Ap(h.layers,h.zoom),this.segments=new is,this.segments2=new is,this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id),this.projection=h.projection}populate(h,b,_e,rt){this.hasPattern=k_("fill",this.layers,b);const it=this.layers[0].layout.get("fill-sort-key"),ht=[];for(const{feature:xt,id:Pt,index:Ut,sourceLayerIndex:$t}of h){const Jt=this.layers[0]._featureFilter.needGeometry,tr=Cp(xt,Jt);if(!this.layers[0]._featureFilter.filter(new Go(this.zoom),tr,_e))continue;const ur=it?it.evaluate(tr,{},_e,b.availableImages):void 0,gr={id:Pt,properties:xt.properties,type:xt.type,sourceLayerIndex:$t,index:Ut,geometry:Jt?tr.geometry:Mu(xt,_e,rt),patterns:{},sortKey:ur};ht.push(gr)}it&&ht.sort((xt,Pt)=>xt.sortKey-Pt.sortKey);for(const xt of ht){const{geometry:Pt,index:Ut,sourceLayerIndex:$t}=xt;if(this.hasPattern){const Jt=D_("fill",this.layers,xt,this.zoom,b);this.patternFeatures.push(Jt)}else this.addFeature(xt,Pt,Ut,_e,{},b.availableImages);b.featureIndex.insert(h[Ut].feature,Pt,Ut,$t,this.index)}}update(h,b,_e,rt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(h,b,this.stateDependentLayers,_e,rt)}addFeatures(h,b,_e,rt,it){for(const ht of this.patternFeatures)this.addFeature(ht,ht.geometry,ht.index,b,_e,rt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(h){this.uploaded||(this.layoutVertexBuffer=h.createVertexBuffer(this.layoutVertexArray,Gw),this.indexBuffer=h.createIndexBuffer(this.indexArray),this.indexBuffer2=h.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(h),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(h,b,_e,rt,it,ht=[]){for(const xt of P_(b,500)){let Pt=0;for(const gr of xt)Pt+=gr.length;const Ut=this.segments.prepareSegment(Pt,this.layoutVertexArray,this.indexArray),$t=Ut.vertexLength,Jt=[],tr=[];for(const gr of xt){if(gr.length===0)continue;gr!==xt[0]&&tr.push(Jt.length/2);const wr=this.segments2.prepareSegment(gr.length,this.layoutVertexArray,this.indexArray2),Tr=wr.vertexLength;this.layoutVertexArray.emplaceBack(gr[0].x,gr[0].y),this.indexArray2.emplaceBack(Tr+gr.length-1,Tr),Jt.push(gr[0].x),Jt.push(gr[0].y);for(let Lr=1;Lr<gr.length;Lr++)this.layoutVertexArray.emplaceBack(gr[Lr].x,gr[Lr].y),this.indexArray2.emplaceBack(Tr+Lr-1,Tr+Lr),Jt.push(gr[Lr].x),Jt.push(gr[Lr].y);wr.vertexLength+=gr.length,wr.primitiveLength+=gr.length}const ur=My(Jt,tr);for(let gr=0;gr<ur.length;gr+=3)this.indexArray.emplaceBack($t+ur[gr],$t+ur[gr+1],$t+ur[gr+2]);Ut.vertexLength+=Pt,Ut.primitiveLength+=ur.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,h,_e,it,ht,rt)}}Vn(Py,"FillBucket",{omit:["layers","patternFeatures"]});const ox=new fr({"fill-sort-key":new Wt(un.layout_fill["fill-sort-key"])});var sx={paint:new fr({"fill-antialias":new Ft(un.paint_fill["fill-antialias"]),"fill-opacity":new Wt(un.paint_fill["fill-opacity"]),"fill-color":new Wt(un.paint_fill["fill-color"]),"fill-outline-color":new Wt(un.paint_fill["fill-outline-color"]),"fill-translate":new Ft(un.paint_fill["fill-translate"]),"fill-translate-anchor":new Ft(un.paint_fill["fill-translate-anchor"]),"fill-pattern":new er(un.paint_fill["fill-pattern"])}),layout:ox};const ax=Nr([{name:"a_pos_normal_ed",components:4,type:"Int16"}]),lx=Nr([{name:"a_centroid_pos",components:2,type:"Uint16"}]),ux=Nr([{name:"a_pos_3",components:3,type:"Int16"},{name:"a_pos_normal_3",components:3,type:"Int16"}]),{members:cx}=ax;var X0=fm;function fm(_,h,b,_e,rt){this.properties={},this.extent=b,this.type=0,this._pbf=_,this._geometry=-1,this._keys=_e,this._values=rt,_.readFields(hx,this,h)}function hx(_,h,b){_==1?h.id=b.readVarint():_==2?function(_e,rt){for(var it=_e.readVarint()+_e.pos;_e.pos<it;){var ht=rt._keys[_e.readVarint()],xt=rt._values[_e.readVarint()];rt.properties[ht]=xt}}(b,h):_==3?h.type=b.readVarint():_==4&&(h._geometry=b.pos)}function dx(_){for(var h,b,_e=0,rt=0,it=_.length,ht=it-1;rt<it;ht=rt++)_e+=((b=_[ht]).x-(h=_[rt]).x)*(h.y+b.y);return _e}fm.types=["Unknown","Point","LineString","Polygon"],fm.prototype.loadGeometry=function(){var _=this._pbf;_.pos=this._geometry;for(var h,b=_.readVarint()+_.pos,_e=1,rt=0,it=0,ht=0,xt=[];_.pos<b;){if(rt<=0){var Pt=_.readVarint();_e=7&Pt,rt=Pt>>3}if(rt--,_e===1||_e===2)it+=_.readSVarint(),ht+=_.readSVarint(),_e===1&&(h&&xt.push(h),h=[]),h.push(new gt(it,ht));else{if(_e!==7)throw new Error("unknown command "+_e);h&&h.push(h[0].clone())}}return h&&xt.push(h),xt},fm.prototype.bbox=function(){var _=this._pbf;_.pos=this._geometry;for(var h=_.readVarint()+_.pos,b=1,_e=0,rt=0,it=0,ht=1/0,xt=-1/0,Pt=1/0,Ut=-1/0;_.pos<h;){if(_e<=0){var $t=_.readVarint();b=7&$t,_e=$t>>3}if(_e--,b===1||b===2)(rt+=_.readSVarint())<ht&&(ht=rt),rt>xt&&(xt=rt),(it+=_.readSVarint())<Pt&&(Pt=it),it>Ut&&(Ut=it);else if(b!==7)throw new Error("unknown command "+b)}return[ht,Pt,xt,Ut]},fm.prototype.toGeoJSON=function(_,h,b){var _e,rt,it=this.extent*Math.pow(2,b),ht=this.extent*_,xt=this.extent*h,Pt=this.loadGeometry(),Ut=fm.types[this.type];function $t(ur){for(var gr=0;gr<ur.length;gr++){var wr=ur[gr];ur[gr]=[360*(wr.x+ht)/it-180,360/Math.PI*Math.atan(Math.exp((180-360*(wr.y+xt)/it)*Math.PI/180))-90]}}switch(this.type){case 1:var Jt=[];for(_e=0;_e<Pt.length;_e++)Jt[_e]=Pt[_e][0];$t(Pt=Jt);break;case 2:for(_e=0;_e<Pt.length;_e++)$t(Pt[_e]);break;case 3:for(Pt=function(ur){var gr=ur.length;if(gr<=1)return[ur];for(var wr,Tr,Lr=[],Vr=0;Vr<gr;Vr++){var Zr=dx(ur[Vr]);Zr!==0&&(Tr===void 0&&(Tr=Zr<0),Tr===Zr<0?(wr&&Lr.push(wr),wr=[ur[Vr]]):wr.push(ur[Vr]))}return wr&&Lr.push(wr),Lr}(Pt),_e=0;_e<Pt.length;_e++)for(rt=0;rt<Pt[_e].length;rt++)$t(Pt[_e][rt])}Pt.length===1?Pt=Pt[0]:Ut="Multi"+Ut;var tr={type:"Feature",geometry:{type:Ut,coordinates:Pt},properties:this.properties};return"id"in this&&(tr.id=this.id),tr};var K0=J0;function J0(_,h){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=_,this._keys=[],this._values=[],this._features=[],_.readFields(fx,this,h),this.length=this._features.length}function fx(_,h,b){_===15?h.version=b.readVarint():_===1?h.name=b.readString():_===5?h.extent=b.readVarint():_===2?h._features.push(b.pos):_===3?h._keys.push(b.readString()):_===4&&h._values.push(function(_e){for(var rt=null,it=_e.readVarint()+_e.pos;_e.pos<it;){var ht=_e.readVarint()>>3;rt=ht===1?_e.readString():ht===2?_e.readFloat():ht===3?_e.readDouble():ht===4?_e.readVarint64():ht===5?_e.readVarint():ht===6?_e.readSVarint():ht===7?_e.readBoolean():null}return rt}(b))}function px(_,h,b){if(_===3){var _e=new K0(b,b.readVarint()+b.pos);_e.length&&(h[_e.name]=_e)}}J0.prototype.feature=function(_){if(_<0||_>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[_];var h=this._pbf.readVarint()+this._pbf.pos;return new X0(this._pbf,h,this.extent,this._keys,this._values)};var Ip={VectorTile:function(_,h){this.layers=_.readFields(px,{},h)},VectorTileFeature:X0,VectorTileLayer:K0};function ky(_,h,b,_e){const rt=[],it=_e===0?(ht,xt,Pt,Ut,$t,Jt)=>{ht.push(new gt(Jt,Pt+(Jt-xt)/(Ut-xt)*($t-Pt)))}:(ht,xt,Pt,Ut,$t,Jt)=>{ht.push(new gt(xt+(Jt-Pt)/($t-Pt)*(Ut-xt),Jt))};for(const ht of _){const xt=[];for(const Pt of ht){if(Pt.length<=2)continue;const Ut=[];for(let tr=0;tr<Pt.length-1;tr++){const ur=Pt[tr].x,gr=Pt[tr].y,wr=Pt[tr+1].x,Tr=Pt[tr+1].y,Lr=_e===0?ur:gr,Vr=_e===0?wr:Tr;Lr<h?Vr>h&&it(Ut,ur,gr,wr,Tr,h):Lr>b?Vr<b&&it(Ut,ur,gr,wr,Tr,b):Ut.push(Pt[tr]),Vr<h&&Lr>=h&&it(Ut,ur,gr,wr,Tr,h),Vr>b&&Lr<=b&&it(Ut,ur,gr,wr,Tr,b)}let $t=Pt[Pt.length-1];const Jt=_e===0?$t.x:$t.y;Jt>=h&&Jt<=b&&Ut.push($t),Ut.length&&($t=Ut[Ut.length-1],Ut[0].x===$t.x&&Ut[0].y===$t.y||Ut.push(Ut[0]),xt.push(Ut))}xt.length&&rt.push(xt)}return rt}const gx=Ip.VectorTileFeature.types,mx=Math.pow(2,13);function m1(_,h,b,_e,rt,it,ht,xt){_.emplaceBack((h<<1)+ht,(b<<1)+it,(Math.floor(_e*mx)<<1)+rt,Math.round(xt))}function y1(_,h,b){_.emplaceBack(h.x,h.y,h.z,b[0]*16384,b[1]*16384,b[2]*16384)}class Q0{constructor(){this.acc=new gt(0,0),this.polyCount=[]}startRing(h){this.currentPolyCount={edges:0,top:0},this.polyCount.push(this.currentPolyCount),this.min||(this.min=new gt(h.x,h.y),this.max=new gt(h.x,h.y))}append(h,b){this.currentPolyCount.edges++,this.acc._add(h);const _e=this.min,rt=this.max;h.x<_e.x?_e.x=h.x:h.x>rt.x&&(rt.x=h.x),h.y<_e.y?_e.y=h.y:h.y>rt.y&&(rt.y=h.y),((h.x===0||h.x===fo)&&h.x===b.x)!=((h.y===0||h.y===fo)&&h.y===b.y)&&this.processBorderOverlap(h,b),b.x<0!=h.x<0&&this.addBorderIntersection(0,to(b.y,h.y,(0-b.x)/(h.x-b.x))),b.x>fo!=h.x>fo&&this.addBorderIntersection(1,to(b.y,h.y,(fo-b.x)/(h.x-b.x))),b.y<0!=h.y<0&&this.addBorderIntersection(2,to(b.x,h.x,(0-b.y)/(h.y-b.y))),b.y>fo!=h.y>fo&&this.addBorderIntersection(3,to(b.x,h.x,(fo-b.y)/(h.y-b.y)))}addBorderIntersection(h,b){this.borders||(this.borders=[[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE],[Number.MAX_VALUE,-Number.MAX_VALUE]]);const _e=this.borders[h];b<_e[0]&&(_e[0]=b),b>_e[1]&&(_e[1]=b)}processBorderOverlap(h,b){if(h.x===b.x){if(h.y===b.y)return;const _e=h.x===0?0:1;this.addBorderIntersection(_e,b.y),this.addBorderIntersection(_e,h.y)}else{const _e=h.y===0?2:3;this.addBorderIntersection(_e,b.x),this.addBorderIntersection(_e,h.x)}}centroid(){const h=this.polyCount.reduce((b,_e)=>b+_e.edges,0);return h!==0?this.acc.div(h)._round():new gt(0,0)}span(){return new gt(this.max.x-this.min.x,this.max.y-this.min.y)}intersectsCount(){return this.borders.reduce((h,b)=>h+ +(b[0]!==Number.MAX_VALUE),0)}}class _1{constructor(h){this.zoom=h.zoom,this.canonical=h.canonical,this.overscaling=h.overscaling,this.layers=h.layers,this.layerIds=this.layers.map(b=>b.id),this.index=h.index,this.hasPattern=!1,this.projection=h.projection,this.layoutVertexArray=new Ur,this.centroidVertexArray=new Tp,this.indexArray=new Gn,this.programConfigurations=new Ap(h.layers,h.zoom),this.segments=new is,this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id),this.enableTerrain=h.enableTerrain}populate(h,b,_e,rt){this.features=[],this.hasPattern=k_("fill-extrusion",this.layers,b),this.featuresOnBorder=[],this.borders=[[],[],[],[]],this.borderDoneWithNeighborZ=[-1,-1,-1,-1],this.tileToMeter=function(it){const ht=Math.exp(Math.PI*(1-it.y/(1<<it.z)*2));return 80150034*ht/(ht*ht+1)/fo/(1<<it.z)}(_e);for(const{feature:it,id:ht,index:xt,sourceLayerIndex:Pt}of h){const Ut=this.layers[0]._featureFilter.needGeometry,$t=Cp(it,Ut);if(!this.layers[0]._featureFilter.filter(new Go(this.zoom),$t,_e))continue;const Jt={id:ht,sourceLayerIndex:Pt,index:xt,geometry:Ut?$t.geometry:Mu(it,_e,rt),properties:it.properties,type:it.type,patterns:{}},tr=this.layoutVertexArray.length;this.hasPattern?this.features.push(D_("fill-extrusion",this.layers,Jt,this.zoom,b)):this.addFeature(Jt,Jt.geometry,xt,_e,{},b.availableImages,rt),b.featureIndex.insert(it,Jt.geometry,xt,Pt,this.index,tr)}this.sortBorders()}addFeatures(h,b,_e,rt,it){for(const ht of this.features){const{geometry:xt}=ht;this.addFeature(ht,xt,ht.index,b,_e,rt,it)}this.sortBorders()}update(h,b,_e,rt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(h,b,this.stateDependentLayers,_e,rt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(h){this.uploaded||(this.layoutVertexBuffer=h.createVertexBuffer(this.layoutVertexArray,cx),this.indexBuffer=h.createIndexBuffer(this.indexArray),this.layoutVertexExtArray&&(this.layoutVertexExtBuffer=h.createVertexBuffer(this.layoutVertexExtArray,ux.members,!0))),this.programConfigurations.upload(h),this.uploaded=!0}uploadCentroid(h){this.centroidVertexArray.length!==0&&(this.centroidVertexBuffer?this.needsCentroidUpdate&&this.centroidVertexBuffer.updateData(this.centroidVertexArray):this.centroidVertexBuffer=h.createVertexBuffer(this.centroidVertexArray,lx.members,!0),this.needsCentroidUpdate=!1)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.centroidVertexBuffer&&this.centroidVertexBuffer.destroy(),this.layoutVertexExtBuffer&&this.layoutVertexExtBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(h,b,_e,rt,it,ht,xt){const Pt=[new gt(0,0),new gt(fo,fo)],Ut=xt.projection,$t=Ut.name==="globe",Jt=this.enableTerrain&&!$t?new Q0:null;$t&&!this.layoutVertexExtArray&&(this.layoutVertexExtArray=new _a);const tr=P_(b,500);for(let wr=tr.length-1;wr>=0;wr--){const Tr=tr[wr];(Tr.length===0||(ur=Tr[0]).every(Lr=>Lr.x<=0)||ur.every(Lr=>Lr.x>=fo)||ur.every(Lr=>Lr.y<=0)||ur.every(Lr=>Lr.y>=fo))&&tr.splice(wr,1)}var ur;let gr;if($t){const Tr=1<<rt.z,Lr=Hl(rt.x/Tr),Vr=Hl((rt.x+1)/Tr),Zr=Ls(rt.y/Tr),qr=Ls((rt.y+1)/Tr);gr=function(Kr,Jr,mn,_n,Tn=0,Rn){const fn=[];if(!Kr.length||!mn||!_n)return fn;const xn=(co,go)=>{for(const Kn of co)fn.push({polygon:Kn,bounds:go})},Mn=Math.ceil(Math.log2(mn)),Bn=Math.ceil(Math.log2(_n)),Ln=Mn-Bn,Dn=[];for(let co=0;co<Math.abs(Ln);co++)Dn.push(Ln>0?0:1);for(let co=0;co<Math.min(Mn,Bn);co++)Dn.push(0),Dn.push(1);let uo=Kr;if(uo=ky(uo,Jr[0].y-Tn,Jr[1].y+Tn,1),uo=ky(uo,Jr[0].x-Tn,Jr[1].x+Tn,0),!uo.length)return fn;const wo=[];for(Dn.length?wo.push({polygons:uo,bounds:Jr,depth:0}):xn(uo,Jr);wo.length;){const co=wo.pop(),go=co.depth,Kn=Dn[go],zn=co.bounds[0],Eo=co.bounds[1],Oo=Kn===0?zn.x:zn.y,gs=Kn===0?Eo.x:Eo.y,Zo=Rn?Rn(Kn,Oo,gs):.5*(Oo+gs),ms=ky(co.polygons,Oo-Tn,Zo+Tn,Kn),Lo=ky(co.polygons,Zo-Tn,gs+Tn,Kn);if(ms.length){const To=[zn,new gt(Kn===0?Zo:Eo.x,Kn===1?Zo:Eo.y)];Dn.length>go+1?wo.push({polygons:ms,bounds:To,depth:go+1}):xn(ms,To)}if(Lo.length){const To=[new gt(Kn===0?Zo:zn.x,Kn===1?Zo:zn.y),Eo];Dn.length>go+1?wo.push({polygons:Lo,bounds:To,depth:go+1}):xn(Lo,To)}}return fn}(tr,Pt,Math.ceil((Vr-Lr)/11.25),Math.ceil((Zr-qr)/11.25),1,(Kr,Jr,mn)=>{if(Kr===0)return .5*(Jr+mn);{const _n=Ls((rt.y+Jr/fo)/Tr);return(sm(.5*(Ls((rt.y+mn/fo)/Tr)+_n))*Tr-rt.y)*fo}})}else{gr=[];for(const wr of tr)gr.push({polygon:wr,bounds:Pt})}for(const wr of gr){const Tr=wr.polygon;let Lr=0,Vr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray);for(let mn=0;mn<Tr.length;mn++){const _n=Tr[mn];if(_n.length===0)continue;Lr+=_n.length;let Tn=0;Jt&&Jt.startRing(_n[0]);for(let Rn=0;Rn<_n.length;Rn++){const fn=_n[Rn];if(Rn>=1){const xn=_n[Rn-1];if(!yx(fn,xn,wr.bounds)){Jt&&Jt.append(fn,xn),Vr.vertexLength+4>is.MAX_VERTEX_ARRAY_LENGTH&&(Vr=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const Mn=fn.sub(xn)._perp(),Bn=Mn.x/(Math.abs(Mn.x)+Math.abs(Mn.y)),Ln=Mn.y>0?1:0,Dn=xn.dist(fn);Tn+Dn>32768&&(Tn=0),m1(this.layoutVertexArray,fn.x,fn.y,Bn,Ln,0,0,Tn),m1(this.layoutVertexArray,fn.x,fn.y,Bn,Ln,0,1,Tn),Tn+=Dn,m1(this.layoutVertexArray,xn.x,xn.y,Bn,Ln,0,0,Tn),m1(this.layoutVertexArray,xn.x,xn.y,Bn,Ln,0,1,Tn);const uo=Vr.vertexLength;if(this.indexArray.emplaceBack(uo,uo+2,uo+1),this.indexArray.emplaceBack(uo+1,uo+2,uo+3),Vr.vertexLength+=4,Vr.primitiveLength+=2,$t){const wo=this.layoutVertexExtArray,co=Ut.projectTilePoint(fn.x,fn.y,rt),go=Ut.projectTilePoint(xn.x,xn.y,rt),Kn=Ut.upVector(rt,fn.x,fn.y),zn=Ut.upVector(rt,xn.x,xn.y);y1(wo,co,Kn),y1(wo,co,Kn),y1(wo,go,zn),y1(wo,go,zn)}}}}}if(Vr.vertexLength+Lr>is.MAX_VERTEX_ARRAY_LENGTH&&(Vr=this.segments.prepareSegment(Lr,this.layoutVertexArray,this.indexArray)),gx[h.type]!=="Polygon")continue;const Zr=[],qr=[],Kr=Vr.vertexLength;for(let mn=0;mn<Tr.length;mn++){const _n=Tr[mn];if(_n.length!==0){_n!==Tr[0]&&qr.push(Zr.length/2);for(let Tn=0;Tn<_n.length;Tn++){const Rn=_n[Tn];m1(this.layoutVertexArray,Rn.x,Rn.y,0,0,1,1,0),Zr.push(Rn.x),Zr.push(Rn.y),Jt&&Jt.currentPolyCount.top++,$t&&y1(this.layoutVertexExtArray,Ut.projectTilePoint(Rn.x,Rn.y,rt),Ut.upVector(rt,Rn.x,Rn.y))}}}const Jr=My(Zr,qr);for(let mn=0;mn<Jr.length;mn+=3)this.indexArray.emplaceBack(Kr+Jr[mn],Kr+Jr[mn+2],Kr+Jr[mn+1]);Vr.primitiveLength+=Jr.length/3,Vr.vertexLength+=Lr}if(Jt&&Jt.polyCount.length>0){if(Jt.borders){Jt.vertexArrayOffset=this.centroidVertexArray.length;const wr=Jt.borders,Tr=this.featuresOnBorder.push(Jt)-1;for(let Lr=0;Lr<4;Lr++)wr[Lr][0]!==Number.MAX_VALUE&&this.borders[Lr].push(Tr)}this.encodeCentroid(Jt.borders?void 0:Jt.centroid(),Jt)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,h,_e,it,ht,rt)}sortBorders(){for(let h=0;h<4;h++)this.borders[h].sort((b,_e)=>this.featuresOnBorder[b].borders[h][0]-this.featuresOnBorder[_e].borders[h][0])}encodeCentroid(h,b,_e=!0){let rt,it;if(h)if(h.y!==0){const xt=b.span()._mult(this.tileToMeter);rt=(Math.max(h.x,1)<<3)+Math.min(7,Math.round(xt.x/10)),it=(Math.max(h.y,1)<<3)+Math.min(7,Math.round(xt.y/10))}else rt=Math.ceil(7*(h.x+450)),it=0;else rt=0,it=+_e;let ht=_e?this.centroidVertexArray.length:b.vertexArrayOffset;for(const xt of b.polyCount){_e&&this.centroidVertexArray.resize(this.centroidVertexArray.length+4*xt.edges+xt.top);for(let Pt=0;Pt<2*xt.edges;Pt++)this.centroidVertexArray.emplace(ht++,0,it),this.centroidVertexArray.emplace(ht++,rt,it);for(let Pt=0;Pt<xt.top;Pt++)this.centroidVertexArray.emplace(ht++,rt,it)}}}function yx(_,h,b){return _.x===h.x&&(_.x<b[0].x||_.x>b[1].x)||_.y===h.y&&(_.y<b[0].y||_.y>b[1].y)}Vn(_1,"FillExtrusionBucket",{omit:["layers","features"]}),Vn(Q0,"PartMetadata");var _x={paint:new fr({"fill-extrusion-opacity":new Ft(un["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Wt(un["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ft(un["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ft(un["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new er(un["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Wt(un["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Wt(un["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ft(un["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})};function v1(_,h){return _.x*h.x+_.y*h.y}function ev(_,h){if(_.length===1){let b=0;const _e=h[b++];let rt;for(;!rt||_e.equals(rt);)if(rt=h[b++],!rt)return 1/0;for(;b<h.length;b++){const it=h[b],ht=_[0],xt=rt.sub(_e),Pt=it.sub(_e),Ut=ht.sub(_e),$t=v1(xt,xt),Jt=v1(xt,Pt),tr=v1(Pt,Pt),ur=v1(Ut,xt),gr=v1(Ut,Pt),wr=$t*tr-Jt*Jt,Tr=(tr*ur-Jt*gr)/wr,Lr=($t*gr-Jt*ur)/wr,Vr=_e.z*(1-Tr-Lr)+rt.z*Tr+it.z*Lr;if(isFinite(Vr))return Vr}return 1/0}{let b=1/0;for(const _e of h)b=Math.min(b,_e.z);return b}}function tv(_){const h=new gt(_[0],_[1]);return h.z=_[2],h}function vx(_,h,b,_e,rt,it,ht,xt){const Pt=ht*rt.getElevationAt(_,h,!0,!0),Ut=it[0]!==0,$t=Ut?it[1]===0?ht*(it[0]/7-450):ht*function(Jt,tr,ur){const gr=Math.floor(tr[0]/8),wr=Math.floor(tr[1]/8),Tr=10*(tr[0]-8*gr),Lr=10*(tr[1]-8*wr),Vr=Jt.getElevationAt(gr,wr,!0,!0),Zr=Jt.getMeterToDEM(ur),qr=Math.floor(.5*(Tr*Zr-1)),Kr=Math.floor(.5*(Lr*Zr-1)),Jr=Jt.tileCoordToPixel(gr,wr),mn=2*qr+1,_n=2*Kr+1,Tn=function(Ln,Dn,uo,wo,co){return[Ln.getElevationAtPixel(Dn,uo,!0),Ln.getElevationAtPixel(Dn+co,uo,!0),Ln.getElevationAtPixel(Dn,uo+co,!0),Ln.getElevationAtPixel(Dn+wo,uo+co,!0)]}(Jt,Jr.x-qr,Jr.y-Kr,mn,_n),Rn=Math.abs(Tn[0]-Tn[1]),fn=Math.abs(Tn[2]-Tn[3]),xn=Math.abs(Tn[0]-Tn[2])+Math.abs(Tn[1]-Tn[3]),Mn=Math.min(.25,.5*Zr*(Rn+fn)/mn),Bn=Math.min(.25,.5*Zr*xn/_n);return Vr+Math.max(Mn*Tr,Bn*Lr)}(rt,it,xt):Pt;return{base:Pt+(b===0)?-1:b,top:Ut?Math.max($t+_e,Pt+b+2):Pt+_e}}const bx=Nr([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"},{name:"a_linesofar",components:1,type:"Float32"}],4),{members:wx}=bx,xx=Nr([{name:"a_packed",components:3,type:"Float32"}]),{members:Sx}=xx,Ex=Ip.VectorTileFeature.types,Tx=Math.cos(Math.PI/180*37.5);class Dy{constructor(h){this.zoom=h.zoom,this.overscaling=h.overscaling,this.layers=h.layers,this.layerIds=this.layers.map(b=>b.id),this.index=h.index,this.projection=h.projection,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(b=>{this.gradients[b.id]={}}),this.layoutVertexArray=new jr,this.layoutVertexArray2=new jn,this.indexArray=new Gn,this.programConfigurations=new Ap(h.layers,h.zoom),this.segments=new is,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(b=>b.isStateDependent()).map(b=>b.id)}populate(h,b,_e,rt){this.hasPattern=k_("line",this.layers,b);const it=this.layers[0].layout.get("line-sort-key"),ht=[];for(const{feature:$t,id:Jt,index:tr,sourceLayerIndex:ur}of h){const gr=this.layers[0]._featureFilter.needGeometry,wr=Cp($t,gr);if(!this.layers[0]._featureFilter.filter(new Go(this.zoom),wr,_e))continue;const Tr=it?it.evaluate(wr,{},_e):void 0,Lr={id:Jt,properties:$t.properties,type:$t.type,sourceLayerIndex:ur,index:tr,geometry:gr?wr.geometry:Mu($t,_e,rt),patterns:{},sortKey:Tr};ht.push(Lr)}it&&ht.sort(($t,Jt)=>$t.sortKey-Jt.sortKey);const{lineAtlas:xt,featureIndex:Pt}=b,Ut=this.addConstantDashes(xt);for(const $t of ht){const{geometry:Jt,index:tr,sourceLayerIndex:ur}=$t;if(Ut&&this.addFeatureDashes($t,xt),this.hasPattern){const gr=D_("line",this.layers,$t,this.zoom,b);this.patternFeatures.push(gr)}else this.addFeature($t,Jt,tr,_e,xt.positions,b.availableImages);Pt.insert(h[tr].feature,Jt,tr,ur,this.index)}}addConstantDashes(h){let b=!1;for(const _e of this.layers){const rt=_e.paint.get("line-dasharray").value,it=_e.layout.get("line-cap").value;if(rt.kind!=="constant"||it.kind!=="constant")b=!0;else{const ht=it.value,xt=rt.value;if(!xt)continue;h.addDash(xt.from,ht),h.addDash(xt.to,ht),xt.other&&h.addDash(xt.other,ht)}}return b}addFeatureDashes(h,b){const _e=this.zoom;for(const rt of this.layers){const it=rt.paint.get("line-dasharray").value,ht=rt.layout.get("line-cap").value;if(it.kind==="constant"&&ht.kind==="constant")continue;let xt,Pt,Ut,$t,Jt,tr;if(it.kind==="constant"){const Tr=it.value;if(!Tr)continue;xt=Tr.other||Tr.to,Pt=Tr.to,Ut=Tr.from}else xt=it.evaluate({zoom:_e-1},h),Pt=it.evaluate({zoom:_e},h),Ut=it.evaluate({zoom:_e+1},h);ht.kind==="constant"?$t=Jt=tr=ht.value:($t=ht.evaluate({zoom:_e-1},h),Jt=ht.evaluate({zoom:_e},h),tr=ht.evaluate({zoom:_e+1},h)),b.addDash(xt,$t),b.addDash(Pt,Jt),b.addDash(Ut,tr);const ur=b.getKey(xt,$t),gr=b.getKey(Pt,Jt),wr=b.getKey(Ut,tr);h.patterns[rt.id]={min:ur,mid:gr,max:wr}}}update(h,b,_e,rt){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(h,b,this.stateDependentLayers,_e,rt)}addFeatures(h,b,_e,rt,it){for(const ht of this.patternFeatures)this.addFeature(ht,ht.geometry,ht.index,b,_e,rt)}isEmpty(){return this.layoutVertexArray.length===0}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(h){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=h.createVertexBuffer(this.layoutVertexArray2,Sx)),this.layoutVertexBuffer=h.createVertexBuffer(this.layoutVertexArray,wx),this.indexBuffer=h.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(h),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(h){if(h.properties&&h.properties.hasOwnProperty("mapbox_clip_start")&&h.properties.hasOwnProperty("mapbox_clip_end"))return{start:+h.properties.mapbox_clip_start,end:+h.properties.mapbox_clip_end}}addFeature(h,b,_e,rt,it,ht){const xt=this.layers[0].layout,Pt=xt.get("line-join").evaluate(h,{}),Ut=xt.get("line-cap").evaluate(h,{}),$t=xt.get("line-miter-limit"),Jt=xt.get("line-round-limit");this.lineClips=this.lineFeatureClips(h);for(const tr of b)this.addLine(tr,h,Pt,Ut,$t,Jt);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,h,_e,it,ht,rt)}addLine(h,b,_e,rt,it,ht){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineSoFar=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(let Lr=0;Lr<h.length-1;Lr++)this.totalDistance+=h[Lr].dist(h[Lr+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const xt=Ex[b.type]==="Polygon";let Pt=h.length;for(;Pt>=2&&h[Pt-1].equals(h[Pt-2]);)Pt--;let Ut=0;for(;Ut<Pt-1&&h[Ut].equals(h[Ut+1]);)Ut++;if(Pt<(xt?3:2))return;_e==="bevel"&&(it=1.05);const $t=this.overscaling<=16?122880/(512*this.overscaling):0,Jt=this.segments.prepareSegment(10*Pt,this.layoutVertexArray,this.indexArray);let tr,ur,gr,wr,Tr;this.e1=this.e2=-1,xt&&(tr=h[Pt-2],Tr=h[Ut].sub(tr)._unit()._perp());for(let Lr=Ut;Lr<Pt;Lr++){if(gr=Lr===Pt-1?xt?h[Ut+1]:void 0:h[Lr+1],gr&&h[Lr].equals(gr))continue;Tr&&(wr=Tr),tr&&(ur=tr),tr=h[Lr],Tr=gr?gr.sub(tr)._unit()._perp():wr,wr=wr||Tr;let Vr=wr.add(Tr);Vr.x===0&&Vr.y===0||Vr._unit();const Zr=wr.x*Tr.x+wr.y*Tr.y,qr=Vr.x*Tr.x+Vr.y*Tr.y,Kr=qr!==0?1/qr:1/0,Jr=2*Math.sqrt(2-2*qr),mn=qr<Tx&&ur&&gr,_n=wr.x*Tr.y-wr.y*Tr.x>0;if(mn&&Lr>Ut){const fn=tr.dist(ur);if(fn>2*$t){const xn=tr.sub(tr.sub(ur)._mult($t/fn)._round());this.updateDistance(ur,xn),this.addCurrentVertex(xn,wr,0,0,Jt),ur=xn}}const Tn=ur&&gr;let Rn=Tn?_e:xt?"butt":rt;if(Tn&&Rn==="round"&&(Kr<ht?Rn="miter":Kr<=2&&(Rn="fakeround")),Rn==="miter"&&Kr>it&&(Rn="bevel"),Rn==="bevel"&&(Kr>2&&(Rn="flipbevel"),Kr<it&&(Rn="miter")),ur&&this.updateDistance(ur,tr),Rn==="miter")Vr._mult(Kr),this.addCurrentVertex(tr,Vr,0,0,Jt);else if(Rn==="flipbevel"){if(Kr>100)Vr=Tr.mult(-1);else{const fn=Kr*wr.add(Tr).mag()/wr.sub(Tr).mag();Vr._perp()._mult(fn*(_n?-1:1))}this.addCurrentVertex(tr,Vr,0,0,Jt),this.addCurrentVertex(tr,Vr.mult(-1),0,0,Jt)}else if(Rn==="bevel"||Rn==="fakeround"){const fn=-Math.sqrt(Kr*Kr-1),xn=_n?fn:0,Mn=_n?0:fn;if(ur&&this.addCurrentVertex(tr,wr,xn,Mn,Jt),Rn==="fakeround"){const Bn=Math.round(180*Jr/Math.PI/20);for(let Ln=1;Ln<Bn;Ln++){let Dn=Ln/Bn;if(Dn!==.5){const wo=Dn-.5;Dn+=Dn*wo*(Dn-1)*((1.0904+Zr*(Zr*(3.55645-1.43519*Zr)-3.2452))*wo*wo+(.848013+Zr*(.215638*Zr-1.06021)))}const uo=Tr.sub(wr)._mult(Dn)._add(wr)._unit()._mult(_n?-1:1);this.addHalfVertex(tr,uo.x,uo.y,!1,_n,0,Jt)}}gr&&this.addCurrentVertex(tr,Tr,-xn,-Mn,Jt)}else if(Rn==="butt")this.addCurrentVertex(tr,Vr,0,0,Jt);else if(Rn==="square"){const fn=ur?1:-1;ur||this.addCurrentVertex(tr,Vr,fn,fn,Jt),this.addCurrentVertex(tr,Vr,0,0,Jt),ur&&this.addCurrentVertex(tr,Vr,fn,fn,Jt)}else Rn==="round"&&(ur&&(this.addCurrentVertex(tr,wr,0,0,Jt),this.addCurrentVertex(tr,wr,1,1,Jt,!0)),gr&&(this.addCurrentVertex(tr,Tr,-1,-1,Jt,!0),this.addCurrentVertex(tr,Tr,0,0,Jt)));if(mn&&Lr<Pt-1){const fn=tr.dist(gr);if(fn>2*$t){const xn=tr.add(gr.sub(tr)._mult($t/fn)._round());this.updateDistance(tr,xn),this.addCurrentVertex(xn,Tr,0,0,Jt),tr=xn}}}}addCurrentVertex(h,b,_e,rt,it,ht=!1){const xt=b.y*rt-b.x,Pt=-b.y-b.x*rt;this.addHalfVertex(h,b.x+b.y*_e,b.y-b.x*_e,ht,!1,_e,it),this.addHalfVertex(h,xt,Pt,ht,!0,-rt,it)}addHalfVertex({x:h,y:b},_e,rt,it,ht,xt,Pt){this.layoutVertexArray.emplaceBack((h<<1)+(it?1:0),(b<<1)+(ht?1:0),Math.round(63*_e)+128,Math.round(63*rt)+128,1+(xt===0?0:xt<0?-1:1),0,this.lineSoFar),this.lineClips&&this.layoutVertexArray2.emplaceBack(this.scaledDistance,this.lineClipsArray.length,this.lineSoFar);const Ut=Pt.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,Ut),Pt.primitiveLength++),ht?this.e2=Ut:this.e1=Ut}updateScaledDistance(){if(this.lineClips){const h=this.totalDistance/(this.lineClips.end-this.lineClips.start);this.scaledDistance=this.distance/this.totalDistance,this.lineSoFar=h*this.lineClips.start+this.distance}else this.lineSoFar=this.distance}updateDistance(h,b){this.distance+=h.dist(b),this.updateScaledDistance()}}Vn(Dy,"LineBucket",{omit:["layers","patternFeatures"]});const Ax=new fr({"line-cap":new Wt(un.layout_line["line-cap"]),"line-join":new Wt(un.layout_line["line-join"]),"line-miter-limit":new Ft(un.layout_line["line-miter-limit"]),"line-round-limit":new Ft(un.layout_line["line-round-limit"]),"line-sort-key":new Wt(un.layout_line["line-sort-key"])});var rv={paint:new fr({"line-opacity":new Wt(un.paint_line["line-opacity"]),"line-color":new Wt(un.paint_line["line-color"]),"line-translate":new Ft(un.paint_line["line-translate"]),"line-translate-anchor":new Ft(un.paint_line["line-translate-anchor"]),"line-width":new Wt(un.paint_line["line-width"]),"line-gap-width":new Wt(un.paint_line["line-gap-width"]),"line-offset":new Wt(un.paint_line["line-offset"]),"line-blur":new Wt(un.paint_line["line-blur"]),"line-dasharray":new er(un.paint_line["line-dasharray"]),"line-pattern":new er(un.paint_line["line-pattern"]),"line-gradient":new sr(un.paint_line["line-gradient"])}),layout:Ax};const nv=new class extends Wt{possiblyEvaluate(_,h){return h=new Go(Math.floor(h.zoom),{now:h.now,fadeDuration:h.fadeDuration,zoomHistory:h.zoomHistory,transition:h.transition}),super.possiblyEvaluate(_,h)}evaluate(_,h,b,_e){return h=bt({},h,{zoom:Math.floor(h.zoom)}),super.evaluate(_,h,b,_e)}}(rv.paint.properties["line-width"].specification);function iv(_,h){return h>0?h+2*_:_}nv.useIntegerZoom=!0;const Cx=Nr([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_tex_size",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"},{name:"a_z_tile_anchor",components:4,type:"Int16"}],4),Rx=Nr([{name:"a_projected_pos",components:3,type:"Float32"}],4);Nr([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const Mx=Nr([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}]),Ix=Nr([{name:"a_size_scale",components:1,type:"Float32"},{name:"a_padding",components:2,type:"Float32"}]);Nr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Int16",name:"tileAnchorX"},{type:"Int16",name:"tileAnchorY"},{type:"Float32",name:"x1"},{type:"Float32",name:"y1"},{type:"Float32",name:"x2"},{type:"Float32",name:"y2"},{type:"Int16",name:"padding"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const ov=Nr([{name:"a_pos",components:3,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),Ox=Nr([{name:"a_pos_2f",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);Nr([{name:"triangle",components:3,type:"Uint16"}]),Nr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"},{type:"Uint8",name:"flipState"}]),Nr([{type:"Int16",name:"projectedAnchorX"},{type:"Int16",name:"projectedAnchorY"},{type:"Int16",name:"projectedAnchorZ"},{type:"Float32",name:"tileAnchorX"},{type:"Float32",name:"tileAnchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),Nr([{type:"Float32",name:"offsetX"}]),Nr([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var js=24;const mu=128;function B_(_,h){const{expression:b}=h;if(b.kind==="constant")return{kind:"constant",layoutSize:b.evaluate(new Go(_+1))};if(b.kind==="source")return{kind:"source"};{const{zoomStops:_e,interpolationType:rt}=b;let it=0;for(;it<_e.length&&_e[it]<=_;)it++;it=Math.max(0,it-1);let ht=it;for(;ht<_e.length&&_e[ht]<_+1;)ht++;ht=Math.min(_e.length-1,ht);const xt=_e[it],Pt=_e[ht];return b.kind==="composite"?{kind:"composite",minZoom:xt,maxZoom:Pt,interpolationType:rt}:{kind:"camera",minZoom:xt,maxZoom:Pt,minSize:b.evaluate(new Go(xt)),maxSize:b.evaluate(new Go(Pt)),interpolationType:rt}}}function By(_,{uSize:h,uSizeT:b},{lowerSize:_e,upperSize:rt}){return _.kind==="source"?_e/mu:_.kind==="composite"?to(_e/mu,rt/mu,b):h}function pm(_,h){let b=0,_e=0;if(_.kind==="constant")_e=_.layoutSize;else if(_.kind!=="source"){const{interpolationType:rt,minZoom:it,maxZoom:ht}=_,xt=rt?Lt(ca.interpolationFactor(rt,h,it,ht),0,1):0;_.kind==="camera"?_e=to(_.minSize,_.maxSize,xt):b=xt}return{uSizeT:b,uSize:_e}}var Lx=Object.freeze({__proto__:null,getSizeData:B_,evaluateSizeForFeature:By,evaluateSizeForZoom:pm,SIZE_PACK_FACTOR:mu});function jx(_,h,b){return _.sections.forEach(_e=>{_e.text=function(rt,it,ht){const xt=it.layout.get("text-transform").evaluate(ht,{});return xt==="uppercase"?rt=rt.toLocaleUpperCase():xt==="lowercase"&&(rt=rt.toLocaleLowerCase()),El.applyArabicShaping&&(rt=El.applyArabicShaping(rt)),rt}(_e.text,h,b)}),_}const b1={"!":"\uFE15","#":"\uFF03",$:"\uFF04","%":"\uFF05","&":"\uFF06","(":"\uFE35",")":"\uFE36","*":"\uFF0A","+":"\uFF0B",",":"\uFE10","-":"\uFE32",".":"\u30FB","/":"\uFF0F",":":"\uFE13",";":"\uFE14","<":"\uFE3F","=":"\uFF1D",">":"\uFE40","?":"\uFE16","@":"\uFF20","[":"\uFE47","\\":"\uFF3C","]":"\uFE48","^":"\uFF3E",_:"\uFE33","`":"\uFF40","{":"\uFE37","|":"\u2015","}":"\uFE38","~":"\uFF5E","\xA2":"\uFFE0","\xA3":"\uFFE1","\xA5":"\uFFE5","\xA6":"\uFFE4","\xAC":"\uFFE2","\xAF":"\uFFE3","\u2013":"\uFE32","\u2014":"\uFE31","\u2018":"\uFE43","\u2019":"\uFE44","\u201C":"\uFE41","\u201D":"\uFE42","\u2026":"\uFE19","\u2027":"\u30FB","\u20A9":"\uFFE6","\u3001":"\uFE11","\u3002":"\uFE12","\u3008":"\uFE3F","\u3009":"\uFE40","\u300A":"\uFE3D","\u300B":"\uFE3E","\u300C":"\uFE41","\u300D":"\uFE42","\u300E":"\uFE43","\u300F":"\uFE44","\u3010":"\uFE3B","\u3011":"\uFE3C","\u3014":"\uFE39","\u3015":"\uFE3A","\u3016":"\uFE17","\u3017":"\uFE18","\uFF01":"\uFE15","\uFF08":"\uFE35","\uFF09":"\uFE36","\uFF0C":"\uFE10","\uFF0D":"\uFE32","\uFF0E":"\u30FB","\uFF1A":"\uFE13","\uFF1B":"\uFE14","\uFF1C":"\uFE3F","\uFF1E":"\uFE40","\uFF1F":"\uFE16","\uFF3B":"\uFE47","\uFF3D":"\uFE48","\uFF3F":"\uFE33","\uFF5B":"\uFE37","\uFF5C":"\u2015","\uFF5D":"\uFE38","\uFF5F":"\uFE35","\uFF60":"\uFE36","\uFF61":"\uFE12","\uFF62":"\uFE41","\uFF63":"\uFE42"};function Px(_){return _==="\uFE36"||_==="\uFE48"||_==="\uFE38"||_==="\uFE44"||_==="\uFE42"||_==="\uFE3E"||_==="\uFE3C"||_==="\uFE3A"||_==="\uFE18"||_==="\uFE40"||_==="\uFE10"||_==="\uFE13"||_==="\uFE14"||_==="\uFF40"||_==="\uFFE3"||_==="\uFE11"||_==="\uFE12"}function kx(_){return _==="\uFE35"||_==="\uFE47"||_==="\uFE37"||_==="\uFE43"||_==="\uFE41"||_==="\uFE3D"||_==="\uFE3B"||_==="\uFE39"||_==="\uFE17"||_==="\uFE3F"}var sv=function(_,h,b,_e,rt){var it,ht,xt=8*rt-_e-1,Pt=(1<<xt)-1,Ut=Pt>>1,$t=-7,Jt=b?rt-1:0,tr=b?-1:1,ur=_[h+Jt];for(Jt+=tr,it=ur&(1<<-$t)-1,ur>>=-$t,$t+=xt;$t>0;it=256*it+_[h+Jt],Jt+=tr,$t-=8);for(ht=it&(1<<-$t)-1,it>>=-$t,$t+=_e;$t>0;ht=256*ht+_[h+Jt],Jt+=tr,$t-=8);if(it===0)it=1-Ut;else{if(it===Pt)return ht?NaN:1/0*(ur?-1:1);ht+=Math.pow(2,_e),it-=Ut}return(ur?-1:1)*ht*Math.pow(2,it-_e)},av=function(_,h,b,_e,rt,it){var ht,xt,Pt,Ut=8*it-rt-1,$t=(1<<Ut)-1,Jt=$t>>1,tr=rt===23?Math.pow(2,-24)-Math.pow(2,-77):0,ur=_e?0:it-1,gr=_e?1:-1,wr=h<0||h===0&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(xt=isNaN(h)?1:0,ht=$t):(ht=Math.floor(Math.log(h)/Math.LN2),h*(Pt=Math.pow(2,-ht))<1&&(ht--,Pt*=2),(h+=ht+Jt>=1?tr/Pt:tr*Math.pow(2,1-Jt))*Pt>=2&&(ht++,Pt/=2),ht+Jt>=$t?(xt=0,ht=$t):ht+Jt>=1?(xt=(h*Pt-1)*Math.pow(2,rt),ht+=Jt):(xt=h*Math.pow(2,Jt-1)*Math.pow(2,rt),ht=0));rt>=8;_[b+ur]=255&xt,ur+=gr,xt/=256,rt-=8);for(ht=ht<<rt|xt,Ut+=rt;Ut>0;_[b+ur]=255&ht,ur+=gr,ht/=256,Ut-=8);_[b+ur-gr]|=128*wr},w1=Wo;function Wo(_){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(_)?_:new Uint8Array(_||0),this.pos=0,this.type=0,this.length=this.buf.length}Wo.Varint=0,Wo.Fixed64=1,Wo.Bytes=2,Wo.Fixed32=5;var N_=4294967296,lv=1/N_,uv=typeof TextDecoder=="undefined"?null:new TextDecoder("utf8");function Ou(_){return _.type===Wo.Bytes?_.readVarint()+_.pos:_.pos+1}function gm(_,h,b){return b?4294967296*h+(_>>>0):4294967296*(h>>>0)+(_>>>0)}function cv(_,h,b){var _e=h<=16383?1:h<=2097151?2:h<=268435455?3:Math.floor(Math.log(h)/(7*Math.LN2));b.realloc(_e);for(var rt=b.pos-1;rt>=_;rt--)b.buf[rt+_e]=b.buf[rt]}function Dx(_,h){for(var b=0;b<_.length;b++)h.writeVarint(_[b])}function Bx(_,h){for(var b=0;b<_.length;b++)h.writeSVarint(_[b])}function Nx(_,h){for(var b=0;b<_.length;b++)h.writeFloat(_[b])}function Fx(_,h){for(var b=0;b<_.length;b++)h.writeDouble(_[b])}function Ux(_,h){for(var b=0;b<_.length;b++)h.writeBoolean(_[b])}function zx(_,h){for(var b=0;b<_.length;b++)h.writeFixed32(_[b])}function Vx(_,h){for(var b=0;b<_.length;b++)h.writeSFixed32(_[b])}function Wx(_,h){for(var b=0;b<_.length;b++)h.writeFixed64(_[b])}function Hx(_,h){for(var b=0;b<_.length;b++)h.writeSFixed64(_[b])}function Ny(_,h){return(_[h]|_[h+1]<<8|_[h+2]<<16)+16777216*_[h+3]}function mm(_,h,b){_[b]=h,_[b+1]=h>>>8,_[b+2]=h>>>16,_[b+3]=h>>>24}function hv(_,h){return(_[h]|_[h+1]<<8|_[h+2]<<16)+(_[h+3]<<24)}function Gx(_,h,b){h.glyphs=[],_===1&&b.readMessage(Zx,h)}function Zx(_,h,b){if(_===3){const{id:_e,bitmap:rt,width:it,height:ht,left:xt,top:Pt,advance:Ut}=b.readMessage($x,{});h.glyphs.push({id:_e,bitmap:new Iu({width:it+6,height:ht+6},rt),metrics:{width:it,height:ht,left:xt,top:Pt,advance:Ut}})}else _===4?h.ascender=b.readSVarint():_===5&&(h.descender=b.readSVarint())}function $x(_,h,b){_===1?h.id=b.readVarint():_===2?h.bitmap=b.readBytes():_===3?h.width=b.readVarint():_===4?h.height=b.readVarint():_===5?h.left=b.readSVarint():_===6?h.top=b.readSVarint():_===7&&(h.advance=b.readVarint())}function F_(_){let h=0,b=0;for(const ht of _)h+=ht.w*ht.h,b=Math.max(b,ht.w);_.sort((ht,xt)=>xt.h-ht.h);const _e=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(h/.95)),b),h:1/0}];let rt=0,it=0;for(const ht of _)for(let xt=_e.length-1;xt>=0;xt--){const Pt=_e[xt];if(!(ht.w>Pt.w||ht.h>Pt.h)){if(ht.x=Pt.x,ht.y=Pt.y,it=Math.max(it,ht.y+ht.h),rt=Math.max(rt,ht.x+ht.w),ht.w===Pt.w&&ht.h===Pt.h){const Ut=_e.pop();xt<_e.length&&(_e[xt]=Ut)}else ht.h===Pt.h?(Pt.x+=ht.w,Pt.w-=ht.w):ht.w===Pt.w?(Pt.y+=ht.h,Pt.h-=ht.h):(_e.push({x:Pt.x+ht.w,y:Pt.y,w:Pt.w-ht.w,h:ht.h}),Pt.y+=ht.h,Pt.h-=ht.h);break}}return{w:rt,h:it,fill:h/(rt*it)||0}}Wo.prototype={destroy:function(){this.buf=null},readFields:function(_,h,b){for(b=b||this.length;this.pos<b;){var _e=this.readVarint(),rt=_e>>3,it=this.pos;this.type=7&_e,_(rt,h,this),this.pos===it&&this.skip(_e)}return h},readMessage:function(_,h){return this.readFields(_,h,this.readVarint()+this.pos)},readFixed32:function(){var _=Ny(this.buf,this.pos);return this.pos+=4,_},readSFixed32:function(){var _=hv(this.buf,this.pos);return this.pos+=4,_},readFixed64:function(){var _=Ny(this.buf,this.pos)+Ny(this.buf,this.pos+4)*N_;return this.pos+=8,_},readSFixed64:function(){var _=Ny(this.buf,this.pos)+hv(this.buf,this.pos+4)*N_;return this.pos+=8,_},readFloat:function(){var _=sv(this.buf,this.pos,!0,23,4);return this.pos+=4,_},readDouble:function(){var _=sv(this.buf,this.pos,!0,52,8);return this.pos+=8,_},readVarint:function(_){var h,b,_e=this.buf;return h=127&(b=_e[this.pos++]),b<128?h:(h|=(127&(b=_e[this.pos++]))<<7,b<128?h:(h|=(127&(b=_e[this.pos++]))<<14,b<128?h:(h|=(127&(b=_e[this.pos++]))<<21,b<128?h:function(rt,it,ht){var xt,Pt,Ut=ht.buf;if(xt=(112&(Pt=Ut[ht.pos++]))>>4,Pt<128||(xt|=(127&(Pt=Ut[ht.pos++]))<<3,Pt<128)||(xt|=(127&(Pt=Ut[ht.pos++]))<<10,Pt<128)||(xt|=(127&(Pt=Ut[ht.pos++]))<<17,Pt<128)||(xt|=(127&(Pt=Ut[ht.pos++]))<<24,Pt<128)||(xt|=(1&(Pt=Ut[ht.pos++]))<<31,Pt<128))return gm(rt,xt,it);throw new Error("Expected varint not more than 10 bytes")}(h|=(15&(b=_e[this.pos]))<<28,_,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var _=this.readVarint();return _%2==1?(_+1)/-2:_/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var _=this.readVarint()+this.pos,h=this.pos;return this.pos=_,_-h>=12&&uv?function(b,_e,rt){return uv.decode(b.subarray(_e,rt))}(this.buf,h,_):function(b,_e,rt){for(var it="",ht=_e;ht<rt;){var xt,Pt,Ut,$t=b[ht],Jt=null,tr=$t>239?4:$t>223?3:$t>191?2:1;if(ht+tr>rt)break;tr===1?$t<128&&(Jt=$t):tr===2?(192&(xt=b[ht+1]))==128&&(Jt=(31&$t)<<6|63&xt)<=127&&(Jt=null):tr===3?(Pt=b[ht+2],(192&(xt=b[ht+1]))==128&&(192&Pt)==128&&((Jt=(15&$t)<<12|(63&xt)<<6|63&Pt)<=2047||Jt>=55296&&Jt<=57343)&&(Jt=null)):tr===4&&(Pt=b[ht+2],Ut=b[ht+3],(192&(xt=b[ht+1]))==128&&(192&Pt)==128&&(192&Ut)==128&&((Jt=(15&$t)<<18|(63&xt)<<12|(63&Pt)<<6|63&Ut)<=65535||Jt>=1114112)&&(Jt=null)),Jt===null?(Jt=65533,tr=1):Jt>65535&&(Jt-=65536,it+=String.fromCharCode(Jt>>>10&1023|55296),Jt=56320|1023&Jt),it+=String.fromCharCode(Jt),ht+=tr}return it}(this.buf,h,_)},readBytes:function(){var _=this.readVarint()+this.pos,h=this.buf.subarray(this.pos,_);return this.pos=_,h},readPackedVarint:function(_,h){if(this.type!==Wo.Bytes)return _.push(this.readVarint(h));var b=Ou(this);for(_=_||[];this.pos<b;)_.push(this.readVarint(h));return _},readPackedSVarint:function(_){if(this.type!==Wo.Bytes)return _.push(this.readSVarint());var h=Ou(this);for(_=_||[];this.pos<h;)_.push(this.readSVarint());return _},readPackedBoolean:function(_){if(this.type!==Wo.Bytes)return _.push(this.readBoolean());var h=Ou(this);for(_=_||[];this.pos<h;)_.push(this.readBoolean());return _},readPackedFloat:function(_){if(this.type!==Wo.Bytes)return _.push(this.readFloat());var h=Ou(this);for(_=_||[];this.pos<h;)_.push(this.readFloat());return _},readPackedDouble:function(_){if(this.type!==Wo.Bytes)return _.push(this.readDouble());var h=Ou(this);for(_=_||[];this.pos<h;)_.push(this.readDouble());return _},readPackedFixed32:function(_){if(this.type!==Wo.Bytes)return _.push(this.readFixed32());var h=Ou(this);for(_=_||[];this.pos<h;)_.push(this.readFixed32());return _},readPackedSFixed32:function(_){if(this.type!==Wo.Bytes)return _.push(this.readSFixed32());var h=Ou(this);for(_=_||[];this.pos<h;)_.push(this.readSFixed32());return _},readPackedFixed64:function(_){if(this.type!==Wo.Bytes)return _.push(this.readFixed64());var h=Ou(this);for(_=_||[];this.pos<h;)_.push(this.readFixed64());return _},readPackedSFixed64:function(_){if(this.type!==Wo.Bytes)return _.push(this.readSFixed64());var h=Ou(this);for(_=_||[];this.pos<h;)_.push(this.readSFixed64());return _},skip:function(_){var h=7&_;if(h===Wo.Varint)for(;this.buf[this.pos++]>127;);else if(h===Wo.Bytes)this.pos=this.readVarint()+this.pos;else if(h===Wo.Fixed32)this.pos+=4;else{if(h!==Wo.Fixed64)throw new Error("Unimplemented type: "+h);this.pos+=8}},writeTag:function(_,h){this.writeVarint(_<<3|h)},realloc:function(_){for(var h=this.length||16;h<this.pos+_;)h*=2;if(h!==this.length){var b=new Uint8Array(h);b.set(this.buf),this.buf=b,this.length=h}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(_){this.realloc(4),mm(this.buf,_,this.pos),this.pos+=4},writeSFixed32:function(_){this.realloc(4),mm(this.buf,_,this.pos),this.pos+=4},writeFixed64:function(_){this.realloc(8),mm(this.buf,-1&_,this.pos),mm(this.buf,Math.floor(_*lv),this.pos+4),this.pos+=8},writeSFixed64:function(_){this.realloc(8),mm(this.buf,-1&_,this.pos),mm(this.buf,Math.floor(_*lv),this.pos+4),this.pos+=8},writeVarint:function(_){(_=+_||0)>268435455||_<0?function(h,b){var _e,rt;if(h>=0?(_e=h%4294967296|0,rt=h/4294967296|0):(rt=~(-h/4294967296),4294967295^(_e=~(-h%4294967296))?_e=_e+1|0:(_e=0,rt=rt+1|0)),h>=18446744073709552e3||h<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");b.realloc(10),function(it,ht,xt){xt.buf[xt.pos++]=127&it|128,it>>>=7,xt.buf[xt.pos++]=127&it|128,it>>>=7,xt.buf[xt.pos++]=127&it|128,it>>>=7,xt.buf[xt.pos++]=127&it|128,xt.buf[xt.pos]=127&(it>>>=7)}(_e,0,b),function(it,ht){var xt=(7&it)<<4;ht.buf[ht.pos++]|=xt|((it>>>=3)?128:0),it&&(ht.buf[ht.pos++]=127&it|((it>>>=7)?128:0),it&&(ht.buf[ht.pos++]=127&it|((it>>>=7)?128:0),it&&(ht.buf[ht.pos++]=127&it|((it>>>=7)?128:0),it&&(ht.buf[ht.pos++]=127&it|((it>>>=7)?128:0),it&&(ht.buf[ht.pos++]=127&it)))))}(rt,b)}(_,this):(this.realloc(4),this.buf[this.pos++]=127&_|(_>127?128:0),_<=127||(this.buf[this.pos++]=127&(_>>>=7)|(_>127?128:0),_<=127||(this.buf[this.pos++]=127&(_>>>=7)|(_>127?128:0),_<=127||(this.buf[this.pos++]=_>>>7&127))))},writeSVarint:function(_){this.writeVarint(_<0?2*-_-1:2*_)},writeBoolean:function(_){this.writeVarint(Boolean(_))},writeString:function(_){_=String(_),this.realloc(4*_.length),this.pos++;var h=this.pos;this.pos=function(_e,rt,it){for(var ht,xt,Pt=0;Pt<rt.length;Pt++){if((ht=rt.charCodeAt(Pt))>55295&&ht<57344){if(!xt){ht>56319||Pt+1===rt.length?(_e[it++]=239,_e[it++]=191,_e[it++]=189):xt=ht;continue}if(ht<56320){_e[it++]=239,_e[it++]=191,_e[it++]=189,xt=ht;continue}ht=xt-55296<<10|ht-56320|65536,xt=null}else xt&&(_e[it++]=239,_e[it++]=191,_e[it++]=189,xt=null);ht<128?_e[it++]=ht:(ht<2048?_e[it++]=ht>>6|192:(ht<65536?_e[it++]=ht>>12|224:(_e[it++]=ht>>18|240,_e[it++]=ht>>12&63|128),_e[it++]=ht>>6&63|128),_e[it++]=63&ht|128)}return it}(this.buf,_,this.pos);var b=this.pos-h;b>=128&&cv(h,b,this),this.pos=h-1,this.writeVarint(b),this.pos+=b},writeFloat:function(_){this.realloc(4),av(this.buf,_,this.pos,!0,23,4),this.pos+=4},writeDouble:function(_){this.realloc(8),av(this.buf,_,this.pos,!0,52,8),this.pos+=8},writeBytes:function(_){var h=_.length;this.writeVarint(h),this.realloc(h);for(var b=0;b<h;b++)this.buf[this.pos++]=_[b]},writeRawMessage:function(_,h){this.pos++;var b=this.pos;_(h,this);var _e=this.pos-b;_e>=128&&cv(b,_e,this),this.pos=b-1,this.writeVarint(_e),this.pos+=_e},writeMessage:function(_,h,b){this.writeTag(_,Wo.Bytes),this.writeRawMessage(h,b)},writePackedVarint:function(_,h){h.length&&this.writeMessage(_,Dx,h)},writePackedSVarint:function(_,h){h.length&&this.writeMessage(_,Bx,h)},writePackedBoolean:function(_,h){h.length&&this.writeMessage(_,Ux,h)},writePackedFloat:function(_,h){h.length&&this.writeMessage(_,Nx,h)},writePackedDouble:function(_,h){h.length&&this.writeMessage(_,Fx,h)},writePackedFixed32:function(_,h){h.length&&this.writeMessage(_,zx,h)},writePackedSFixed32:function(_,h){h.length&&this.writeMessage(_,Vx,h)},writePackedFixed64:function(_,h){h.length&&this.writeMessage(_,Wx,h)},writePackedSFixed64:function(_,h){h.length&&this.writeMessage(_,Hx,h)},writeBytesField:function(_,h){this.writeTag(_,Wo.Bytes),this.writeBytes(h)},writeFixed32Field:function(_,h){this.writeTag(_,Wo.Fixed32),this.writeFixed32(h)},writeSFixed32Field:function(_,h){this.writeTag(_,Wo.Fixed32),this.writeSFixed32(h)},writeFixed64Field:function(_,h){this.writeTag(_,Wo.Fixed64),this.writeFixed64(h)},writeSFixed64Field:function(_,h){this.writeTag(_,Wo.Fixed64),this.writeSFixed64(h)},writeVarintField:function(_,h){this.writeTag(_,Wo.Varint),this.writeVarint(h)},writeSVarintField:function(_,h){this.writeTag(_,Wo.Varint),this.writeSVarint(h)},writeStringField:function(_,h){this.writeTag(_,Wo.Bytes),this.writeString(h)},writeFloatField:function(_,h){this.writeTag(_,Wo.Fixed32),this.writeFloat(h)},writeDoubleField:function(_,h){this.writeTag(_,Wo.Fixed64),this.writeDouble(h)},writeBooleanField:function(_,h){this.writeVarintField(_,Boolean(h))}};class U_{constructor(h,{pixelRatio:b,version:_e,stretchX:rt,stretchY:it,content:ht}){this.paddedRect=h,this.pixelRatio=b,this.stretchX=rt,this.stretchY=it,this.content=ht,this.version=_e}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class dv{constructor(h,b){const _e={},rt={};this.haveRenderCallbacks=[];const it=[];this.addImages(h,_e,it),this.addImages(b,rt,it);const{w:ht,h:xt}=F_(it),Pt=new Cl({width:ht||1,height:xt||1});for(const Ut in h){const $t=h[Ut],Jt=_e[Ut].paddedRect;Cl.copy($t.data,Pt,{x:0,y:0},{x:Jt.x+1,y:Jt.y+1},$t.data)}for(const Ut in b){const $t=b[Ut],Jt=rt[Ut].paddedRect,tr=Jt.x+1,ur=Jt.y+1,gr=$t.data.width,wr=$t.data.height;Cl.copy($t.data,Pt,{x:0,y:0},{x:tr,y:ur},$t.data),Cl.copy($t.data,Pt,{x:0,y:wr-1},{x:tr,y:ur-1},{width:gr,height:1}),Cl.copy($t.data,Pt,{x:0,y:0},{x:tr,y:ur+wr},{width:gr,height:1}),Cl.copy($t.data,Pt,{x:gr-1,y:0},{x:tr-1,y:ur},{width:1,height:wr}),Cl.copy($t.data,Pt,{x:0,y:0},{x:tr+gr,y:ur},{width:1,height:wr})}this.image=Pt,this.iconPositions=_e,this.patternPositions=rt}addImages(h,b,_e){for(const rt in h){const it=h[rt],ht={x:0,y:0,w:it.data.width+2,h:it.data.height+2};_e.push(ht),b[rt]=new U_(ht,it),it.hasRenderCallback&&this.haveRenderCallbacks.push(rt)}}patchUpdatedImages(h,b){this.haveRenderCallbacks=this.haveRenderCallbacks.filter(_e=>h.hasImage(_e)),h.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const _e in h.updatedImages)this.patchUpdatedImage(this.iconPositions[_e],h.getImage(_e),b),this.patchUpdatedImage(this.patternPositions[_e],h.getImage(_e),b)}patchUpdatedImage(h,b,_e){if(!h||!b||h.version===b.version)return;h.version=b.version;const[rt,it]=h.tl;_e.update(b.data,void 0,{x:rt,y:it})}}Vn(U_,"ImagePosition"),Vn(dv,"ImageAtlas");const Fl={horizontal:1,vertical:2,horizontalOnly:3};class x1{constructor(){this.scale=1,this.fontStack="",this.imageName=null}static forText(h,b){const _e=new x1;return _e.scale=h||1,_e.fontStack=b,_e}static forImage(h){const b=new x1;return b.imageName=h,b}}class ym{constructor(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null}static fromFeature(h,b){const _e=new ym;for(let rt=0;rt<h.sections.length;rt++){const it=h.sections[rt];it.image?_e.addImageSection(it):_e.addTextSection(it,b)}return _e}length(){return this.text.length}getSection(h){return this.sections[this.sectionIndex[h]]}getSections(){return this.sections}getSectionIndex(h){return this.sectionIndex[h]}getCharCode(h){return this.text.charCodeAt(h)}verticalizePunctuation(h){this.text=function(b,_e){let rt="";for(let it=0;it<b.length;it++){const ht=b.charCodeAt(it+1)||null,xt=b.charCodeAt(it-1)||null;rt+=!_e&&(ht&&rm(ht)&&!b1[b[it+1]]||xt&&rm(xt)&&!b1[b[it-1]])||!b1[b[it]]?b[it]:b1[b[it]]}return rt}(this.text,h)}trim(){let h=0;for(let _e=0;_e<this.text.length&&Fy[this.text.charCodeAt(_e)];_e++)h++;let b=this.text.length;for(let _e=this.text.length-1;_e>=0&&_e>=h&&Fy[this.text.charCodeAt(_e)];_e--)b--;this.text=this.text.substring(h,b),this.sectionIndex=this.sectionIndex.slice(h,b)}substring(h,b){const _e=new ym;return _e.text=this.text.substring(h,b),_e.sectionIndex=this.sectionIndex.slice(h,b),_e.sections=this.sections,_e}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((h,b)=>Math.max(h,this.sections[b].scale),0)}addTextSection(h,b){this.text+=h.text,this.sections.push(x1.forText(h.scale,h.fontStack||b));const _e=this.sections.length-1;for(let rt=0;rt<h.text.length;++rt)this.sectionIndex.push(_e)}addImageSection(h){const b=h.image?h.image.name:"";if(b.length===0)return void Qt("Can't add FormattedSection with an empty image.");const _e=this.getNextImageSectionCharCode();_e?(this.text+=String.fromCharCode(_e),this.sections.push(x1.forImage(b)),this.sectionIndex.push(this.sections.length-1)):Qt("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}}function z_(_,h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr){const Tr=ym.fromFeature(_,rt);let Lr;Jt===Fl.vertical&&Tr.verticalizePunctuation(tr);const{processBidirectionalText:Vr,processStyledBidirectionalText:Zr}=El;if(Vr&&Tr.sections.length===1){Lr=[];const Jr=Vr(Tr.toString(),V_(Tr,Ut,it,h,_e,ur,gr));for(const mn of Jr){const _n=new ym;_n.text=mn,_n.sections=Tr.sections;for(let Tn=0;Tn<mn.length;Tn++)_n.sectionIndex.push(0);Lr.push(_n)}}else if(Zr){Lr=[];const Jr=Zr(Tr.text,Tr.sectionIndex,V_(Tr,Ut,it,h,_e,ur,gr));for(const mn of Jr){const _n=new ym;_n.text=mn[0],_n.sectionIndex=mn[1],_n.sections=Tr.sections,Lr.push(_n)}}else Lr=function(Jr,mn){const _n=[],Tn=Jr.text;let Rn=0;for(const fn of mn)_n.push(Jr.substring(Rn,fn)),Rn=fn;return Rn<Tn.length&&_n.push(Jr.substring(Rn,Tn.length)),_n}(Tr,V_(Tr,Ut,it,h,_e,ur,gr));const qr=[],Kr={positionedLines:qr,text:Tr.toString(),top:$t[1],bottom:$t[1],left:$t[0],right:$t[0],writingMode:Jt,iconsInText:!1,verticalizable:!1,hasBaseline:!1};return function(Jr,mn,_n,Tn,Rn,fn,xn,Mn,Bn,Ln,Dn,uo){let wo=0,co=0,go=0;const Kn=Mn==="right"?1:Mn==="left"?0:.5;let zn=!1;for(const Lo of Rn){const To=Lo.getSections();for(const No of To){if(No.imageName)continue;const rs=mn[No.fontStack];if(rs&&(zn=rs.ascender!==void 0&&rs.descender!==void 0,!zn))break}if(!zn)break}let Eo=0;for(const Lo of Rn){Lo.trim();const To=Lo.getMaxScale(),No=(To-1)*js,rs={positionedGlyphs:[],lineOffset:0};Jr.positionedLines[Eo]=rs;const os=rs.positionedGlyphs;let ys=0;if(!Lo.length()){co+=fn,++Eo;continue}let xs=0,Il=0;for(let zo=0;zo<Lo.length();zo++){const Zs=Lo.getSection(zo),Ol=Lo.getSectionIndex(zo),Ts=Lo.getCharCode(zo);let Ss=Zs.scale,Xo=null,$o=null,wl=null,$s=js,hs=0;const qs=!(Bn===Fl.horizontal||!Dn&&!tm(Ts)||Dn&&(Fy[Ts]||(Oo=Ts,oy(Oo)||Kp(Oo)||vp(Oo)||Km(Oo)||_g(Oo))));if(Zs.imageName){const Bs=Tn[Zs.imageName];if(!Bs)continue;wl=Zs.imageName,Jr.iconsInText=Jr.iconsInText||!0,$o=Bs.paddedRect;const Es=Bs.displaySize;Ss=Ss*js/uo,Xo={width:Es[0],height:Es[1],left:1,top:-3,advance:qs?Es[1]:Es[0],localGlyph:!1},hs=zn?-Xo.height*Ss:To*js-17-Es[1]*Ss,$s=Xo.advance;const Zl=(qs?Es[0]:Es[1])*Ss-js*To;Zl>0&&Zl>ys&&(ys=Zl)}else{const Bs=_n[Zs.fontStack];if(!Bs)continue;Bs[Ts]&&($o=Bs[Ts]);const Es=mn[Zs.fontStack];if(!Es)continue;const Zl=Es.glyphs[Ts];if(!Zl)continue;if(Xo=Zl.metrics,$s=Ts!==8203?js:0,zn){const _f=Es.ascender!==void 0?Math.abs(Es.ascender):0,L1=Es.descender!==void 0?Math.abs(Es.descender):0,j1=(_f+L1)*Ss;xs<j1&&(xs=j1,Il=(_f-L1)/2*Ss),hs=-_f*Ss}else hs=(To-Ss)*js-17}qs?(Jr.verticalizable=!0,os.push({glyph:Ts,imageName:wl,x:wo,y:co+hs,vertical:qs,scale:Ss,localGlyph:Xo.localGlyph,fontStack:Zs.fontStack,sectionIndex:Ol,metrics:Xo,rect:$o}),wo+=$s*Ss+Ln):(os.push({glyph:Ts,imageName:wl,x:wo,y:co+hs,vertical:qs,scale:Ss,localGlyph:Xo.localGlyph,fontStack:Zs.fontStack,sectionIndex:Ol,metrics:Xo,rect:$o}),wo+=Xo.advance*Ss+Ln)}os.length!==0&&(go=Math.max(wo-Ln,go),zn?yv(os,Kn,ys,Il,fn*To/2):yv(os,Kn,ys,0,fn/2)),wo=0;const vl=fn*To+ys;rs.lineOffset=Math.max(ys,No),co+=vl,++Eo}var Oo;const gs=co,{horizontalAlign:Zo,verticalAlign:ms}=W_(xn);(function(Lo,To,No,rs,os,ys){const xs=(To-No)*os,Il=-ys*rs;for(const vl of Lo)for(const zo of vl.positionedGlyphs)zo.x+=xs,zo.y+=Il})(Jr.positionedLines,Kn,Zo,ms,go,gs),Jr.top+=-ms*gs,Jr.bottom=Jr.top+gs,Jr.left+=-Zo*go,Jr.right=Jr.left+go,Jr.hasBaseline=zn}(Kr,h,b,_e,Lr,ht,xt,Pt,Jt,Ut,tr,wr),!function(Jr){for(const mn of Jr)if(mn.positionedGlyphs.length!==0)return!1;return!0}(qr)&&Kr}const Fy={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},qx={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0};function fv(_,h,b,_e,rt,it){if(h.imageName){const ht=_e[h.imageName];return ht?ht.displaySize[0]*h.scale*js/it+rt:0}{const ht=b[h.fontStack],xt=ht&&ht.glyphs[_];return xt?xt.metrics.advance*h.scale+rt:0}}function pv(_,h,b,_e){const rt=Math.pow(_-h,2);return _e?_<h?rt/2:2*rt:rt+Math.abs(b)*b}function Yx(_,h,b){let _e=0;return _===10&&(_e-=1e4),b&&(_e+=150),_!==40&&_!==65288||(_e+=50),h!==41&&h!==65289||(_e+=50),_e}function gv(_,h,b,_e,rt,it){let ht=null,xt=pv(h,b,rt,it);for(const Pt of _e){const Ut=pv(h-Pt.x,b,rt,it)+Pt.badness;Ut<=xt&&(ht=Pt,xt=Ut)}return{index:_,x:h,priorBreak:ht,badness:xt}}function mv(_){return _?mv(_.priorBreak).concat(_.index):[]}function V_(_,h,b,_e,rt,it,ht){if(it!=="point")return[];if(!_)return[];const xt=[],Pt=function(tr,ur,gr,wr,Tr,Lr){let Vr=0;for(let Zr=0;Zr<tr.length();Zr++){const qr=tr.getSection(Zr);Vr+=fv(tr.getCharCode(Zr),qr,wr,Tr,ur,Lr)}return Vr/Math.max(1,Math.ceil(Vr/gr))}(_,h,b,_e,rt,ht),Ut=_.text.indexOf("\u200B")>=0;let $t=0;for(let tr=0;tr<_.length();tr++){const ur=_.getSection(tr),gr=_.getCharCode(tr);if(Fy[gr]||($t+=fv(gr,ur,_e,rt,h,ht)),tr<_.length()-1){const wr=!((Jt=gr)<11904||!(ly(Jt)||ay(Jt)||Vu(Jt)||wp(Jt)||hy(Jt)||$m(Jt)||uy(Jt)||Jp(Jt)||dy(Jt)||Xm(Jt)||cy(Jt)||Jm(Jt)||bp(Jt)||qm(Jt)||sy(Jt)||Ym(Jt)||Qp(Jt)||my(Jt)||py(Jt)||fy(Jt)));(qx[gr]||wr||ur.imageName)&&xt.push(gv(tr+1,$t,Pt,xt,Yx(gr,_.getCharCode(tr+1),wr&&Ut),!1))}}var Jt;return mv(gv(_.length(),$t,Pt,xt,0,!0))}function W_(_){let h=.5,b=.5;switch(_){case"right":case"top-right":case"bottom-right":h=1;break;case"left":case"top-left":case"bottom-left":h=0}switch(_){case"bottom":case"bottom-right":case"bottom-left":b=1;break;case"top":case"top-right":case"top-left":b=0}return{horizontalAlign:h,verticalAlign:b}}function yv(_,h,b,_e,rt){if(!(h||b||_e||rt))return;const it=_.length-1,ht=_[it],xt=(ht.x+ht.metrics.advance*ht.scale)*h;for(let Pt=0;Pt<=it;Pt++)_[Pt].x-=xt,_[Pt].y+=b+_e+rt}function Xx(_,h,b){const{horizontalAlign:_e,verticalAlign:rt}=W_(b),it=h[0]-_.displaySize[0]*_e,ht=h[1]-_.displaySize[1]*rt;return{image:_,top:ht,bottom:ht+_.displaySize[1],left:it,right:it+_.displaySize[0]}}function _v(_,h,b,_e,rt,it){const ht=_.image;let xt;if(ht.content){const Tr=ht.content,Lr=ht.pixelRatio||1;xt=[Tr[0]/Lr,Tr[1]/Lr,ht.displaySize[0]-Tr[2]/Lr,ht.displaySize[1]-Tr[3]/Lr]}const Pt=h.left*it,Ut=h.right*it;let $t,Jt,tr,ur;b==="width"||b==="both"?(ur=rt[0]+Pt-_e[3],Jt=rt[0]+Ut+_e[1]):(ur=rt[0]+(Pt+Ut-ht.displaySize[0])/2,Jt=ur+ht.displaySize[0]);const gr=h.top*it,wr=h.bottom*it;return b==="height"||b==="both"?($t=rt[1]+gr-_e[0],tr=rt[1]+wr+_e[2]):($t=rt[1]+(gr+wr-ht.displaySize[1])/2,tr=$t+ht.displaySize[1]),{image:ht,top:$t,right:Jt,bottom:tr,left:ur,collisionPadding:xt}}class Lu extends gt{constructor(h,b,_e,rt,it){super(h,b),this.angle=rt,this.z=_e,it!==void 0&&(this.segment=it)}clone(){return new Lu(this.x,this.y,this.z,this.angle,this.segment)}}function vv(_,h,b,_e,rt){if(h.segment===void 0)return!0;let it=h,ht=h.segment+1,xt=0;for(;xt>-b/2;){if(ht--,ht<0)return!1;xt-=_[ht].dist(it),it=_[ht]}xt+=_[ht].dist(_[ht+1]),ht++;const Pt=[];let Ut=0;for(;xt<b/2;){const $t=_[ht],Jt=_[ht+1];if(!Jt)return!1;let tr=_[ht-1].angleTo($t)-$t.angleTo(Jt);for(tr=Math.abs((tr+3*Math.PI)%(2*Math.PI)-Math.PI),Pt.push({distance:xt,angleDelta:tr}),Ut+=tr;xt-Pt[0].distance>_e;)Ut-=Pt.shift().angleDelta;if(Ut>rt)return!1;ht++,xt+=$t.dist(Jt)}return!0}function bv(_){let h=0;for(let b=0;b<_.length-1;b++)h+=_[b].dist(_[b+1]);return h}function wv(_,h,b){return _?.6*h*b:0}function xv(_,h){return Math.max(_?_.right-_.left:0,h?h.right-h.left:0)}function Kx(_,h,b,_e,rt,it){const ht=wv(b,rt,it),xt=xv(b,_e)*it;let Pt=0;const Ut=bv(_)/2;for(let $t=0;$t<_.length-1;$t++){const Jt=_[$t],tr=_[$t+1],ur=Jt.dist(tr);if(Pt+ur>Ut){const gr=(Ut-Pt)/ur,wr=to(Jt.x,tr.x,gr),Tr=to(Jt.y,tr.y,gr),Lr=new Lu(wr,Tr,0,tr.angleTo(Jt),$t);return!ht||vv(_,Lr,xt,ht,h)?Lr:void 0}Pt+=ur}}function Jx(_,h,b,_e,rt,it,ht,xt,Pt){const Ut=wv(_e,it,ht),$t=xv(_e,rt),Jt=$t*ht,tr=_[0].x===0||_[0].x===Pt||_[0].y===0||_[0].y===Pt;return h-Jt<h/4&&(h=Jt+h/4),Sv(_,tr?h/2*xt%h:($t/2+2*it)*ht*xt%h,h,Ut,b,Jt,tr,!1,Pt)}function Sv(_,h,b,_e,rt,it,ht,xt,Pt){const Ut=it/2,$t=bv(_);let Jt=0,tr=h-b,ur=[];for(let gr=0;gr<_.length-1;gr++){const wr=_[gr],Tr=_[gr+1],Lr=wr.dist(Tr),Vr=Tr.angleTo(wr);for(;tr+b<Jt+Lr;){tr+=b;const Zr=(tr-Jt)/Lr,qr=to(wr.x,Tr.x,Zr),Kr=to(wr.y,Tr.y,Zr);if(qr>=0&&qr<Pt&&Kr>=0&&Kr<Pt&&tr-Ut>=0&&tr+Ut<=$t){const Jr=new Lu(qr,Kr,0,Vr,gr);Jr._round(),_e&&!vv(_,Jr,it,_e,rt)||ur.push(Jr)}}Jt+=Lr}return xt||ur.length||ht||(ur=Sv(_,Jt/2,b,_e,rt,it,ht,!0,Pt)),ur}function Ev(_,h,b,_e,rt){const it=[];for(let ht=0;ht<_.length;ht++){const xt=_[ht];let Pt;for(let Ut=0;Ut<xt.length-1;Ut++){let $t=xt[Ut],Jt=xt[Ut+1];$t.x<h&&Jt.x<h||($t.x<h?$t=new gt(h,$t.y+(h-$t.x)/(Jt.x-$t.x)*(Jt.y-$t.y))._round():Jt.x<h&&(Jt=new gt(h,$t.y+(h-$t.x)/(Jt.x-$t.x)*(Jt.y-$t.y))._round()),$t.y<b&&Jt.y<b||($t.y<b?$t=new gt($t.x+(b-$t.y)/(Jt.y-$t.y)*(Jt.x-$t.x),b)._round():Jt.y<b&&(Jt=new gt($t.x+(b-$t.y)/(Jt.y-$t.y)*(Jt.x-$t.x),b)._round()),$t.x>=_e&&Jt.x>=_e||($t.x>=_e?$t=new gt(_e,$t.y+(_e-$t.x)/(Jt.x-$t.x)*(Jt.y-$t.y))._round():Jt.x>=_e&&(Jt=new gt(_e,$t.y+(_e-$t.x)/(Jt.x-$t.x)*(Jt.y-$t.y))._round()),$t.y>=rt&&Jt.y>=rt||($t.y>=rt?$t=new gt($t.x+(rt-$t.y)/(Jt.y-$t.y)*(Jt.x-$t.x),rt)._round():Jt.y>=rt&&(Jt=new gt($t.x+(rt-$t.y)/(Jt.y-$t.y)*(Jt.x-$t.x),rt)._round()),Pt&&$t.equals(Pt[Pt.length-1])||(Pt=[$t],it.push(Pt)),Pt.push(Jt)))))}}return it}Vn(Lu,"Anchor");const S1=1e20;function Tv(_,h,b,_e,rt,it,ht,xt,Pt){for(let Ut=h;Ut<h+_e;Ut++)Av(_,b*it+Ut,it,rt,ht,xt,Pt);for(let Ut=b;Ut<b+rt;Ut++)Av(_,Ut*it+h,1,_e,ht,xt,Pt)}function Av(_,h,b,_e,rt,it,ht){it[0]=0,ht[0]=-S1,ht[1]=S1,rt[0]=_[h];for(let xt=1,Pt=0,Ut=0;xt<_e;xt++){rt[xt]=_[h+xt*b];const $t=xt*xt;do{const Jt=it[Pt];Ut=(rt[xt]-rt[Jt]+$t-Jt*Jt)/(xt-Jt)/2}while(Ut<=ht[Pt]&&--Pt>-1);Pt++,it[Pt]=xt,ht[Pt]=Ut,ht[Pt+1]=S1}for(let xt=0,Pt=0;xt<_e;xt++){for(;ht[Pt+1]<xt;)Pt++;const Ut=it[Pt],$t=xt-Ut;_[h+xt*b]=rt[Ut]+$t*$t}}const H_={none:0,ideographs:1,all:2};class _m{constructor(h,b,_e){this.requestManager=h,this.localGlyphMode=b,this.localFontFamily=_e,this.entries={},this.localGlyphs={200:{},400:{},500:{},900:{}}}setURL(h){this.url=h}getGlyphs(h,b){const _e=[];for(const rt in h)for(const it of h[rt])_e.push({stack:rt,id:it});pt(_e,({stack:rt,id:it},ht)=>{let xt=this.entries[rt];xt||(xt=this.entries[rt]={glyphs:{},requests:{},ranges:{},ascender:void 0,descender:void 0});let Pt=xt.glyphs[it];if(Pt!==void 0)return void ht(null,{stack:rt,id:it,glyph:Pt});if(Pt=this._tinySDF(xt,rt,it),Pt)return xt.glyphs[it]=Pt,void ht(null,{stack:rt,id:it,glyph:Pt});const Ut=Math.floor(it/256);if(256*Ut>65535)return void ht(new Error("glyphs > 65535 not supported"));if(xt.ranges[Ut])return void ht(null,{stack:rt,id:it,glyph:Pt});let $t=xt.requests[Ut];$t||($t=xt.requests[Ut]=[],_m.loadGlyphRange(rt,Ut,this.url,this.requestManager,(Jt,tr)=>{if(tr){xt.ascender=tr.ascender,xt.descender=tr.descender;for(const ur in tr.glyphs)this._doesCharSupportLocalGlyph(+ur)||(xt.glyphs[+ur]=tr.glyphs[+ur]);xt.ranges[Ut]=!0}for(const ur of $t)ur(Jt,tr);delete xt.requests[Ut]})),$t.push((Jt,tr)=>{Jt?ht(Jt):tr&&ht(null,{stack:rt,id:it,glyph:tr.glyphs[it]||null})})},(rt,it)=>{if(rt)b(rt);else if(it){const ht={};for(const{stack:xt,id:Pt,glyph:Ut}of it)ht[xt]===void 0&&(ht[xt]={}),ht[xt].glyphs===void 0&&(ht[xt].glyphs={}),ht[xt].glyphs[Pt]=Ut&&{id:Ut.id,bitmap:Ut.bitmap.clone(),metrics:Ut.metrics},ht[xt].ascender=this.entries[xt].ascender,ht[xt].descender=this.entries[xt].descender;b(null,ht)}})}_doesCharSupportLocalGlyph(h){return this.localGlyphMode!==H_.none&&(this.localGlyphMode===H_.all?!!this.localFontFamily:!!this.localFontFamily&&(Xm(h)||gy(h)||bp(h)||Qp(h)||Jp(h)))}_tinySDF(h,b,_e){const rt=this.localFontFamily;if(!rt||!this._doesCharSupportLocalGlyph(_e))return;let it=h.tinySDF;if(!it){let wr="400";/bold/i.test(b)?wr="900":/medium/i.test(b)?wr="500":/light/i.test(b)&&(wr="200"),it=h.tinySDF=new _m.TinySDF({fontFamily:rt,fontWeight:wr,fontSize:48,buffer:6,radius:16}),it.fontWeight=wr}if(this.localGlyphs[it.fontWeight][_e])return this.localGlyphs[it.fontWeight][_e];const ht=String.fromCharCode(_e),{data:xt,width:Pt,height:Ut,glyphWidth:$t,glyphHeight:Jt,glyphLeft:tr,glyphTop:ur,glyphAdvance:gr}=it.draw(ht);return this.localGlyphs[it.fontWeight][_e]={id:_e,bitmap:new Iu({width:Pt,height:Ut},xt),metrics:{width:$t/2,height:Jt/2,left:tr/2,top:ur/2-27,advance:gr/2,localGlyph:!0}}}}function Cv(_,h,b,_e){const rt=[],it=_.image,ht=it.pixelRatio,xt=it.paddedRect.w-2,Pt=it.paddedRect.h-2,Ut=_.right-_.left,$t=_.bottom-_.top,Jt=it.stretchX||[[0,xt]],tr=it.stretchY||[[0,Pt]],ur=(fn,xn)=>fn+xn[1]-xn[0],gr=Jt.reduce(ur,0),wr=tr.reduce(ur,0),Tr=xt-gr,Lr=Pt-wr;let Vr=0,Zr=gr,qr=0,Kr=wr,Jr=0,mn=Tr,_n=0,Tn=Lr;if(it.content&&_e){const fn=it.content;Vr=Uy(Jt,0,fn[0]),qr=Uy(tr,0,fn[1]),Zr=Uy(Jt,fn[0],fn[2]),Kr=Uy(tr,fn[1],fn[3]),Jr=fn[0]-Vr,_n=fn[1]-qr,mn=fn[2]-fn[0]-Zr,Tn=fn[3]-fn[1]-Kr}const Rn=(fn,xn,Mn,Bn)=>{const Ln=zy(fn.stretch-Vr,Zr,Ut,_.left),Dn=Vy(fn.fixed-Jr,mn,fn.stretch,gr),uo=zy(xn.stretch-qr,Kr,$t,_.top),wo=Vy(xn.fixed-_n,Tn,xn.stretch,wr),co=zy(Mn.stretch-Vr,Zr,Ut,_.left),go=Vy(Mn.fixed-Jr,mn,Mn.stretch,gr),Kn=zy(Bn.stretch-qr,Kr,$t,_.top),zn=Vy(Bn.fixed-_n,Tn,Bn.stretch,wr),Eo=new gt(Ln,uo),Oo=new gt(co,uo),gs=new gt(co,Kn),Zo=new gt(Ln,Kn),ms=new gt(Dn/ht,wo/ht),Lo=new gt(go/ht,zn/ht),To=h*Math.PI/180;if(To){const os=Math.sin(To),ys=Math.cos(To),xs=[ys,-os,os,ys];Eo._matMult(xs),Oo._matMult(xs),Zo._matMult(xs),gs._matMult(xs)}const No=fn.stretch+fn.fixed,rs=xn.stretch+xn.fixed;return{tl:Eo,tr:Oo,bl:Zo,br:gs,tex:{x:it.paddedRect.x+1+No,y:it.paddedRect.y+1+rs,w:Mn.stretch+Mn.fixed-No,h:Bn.stretch+Bn.fixed-rs},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:ms,pixelOffsetBR:Lo,minFontScaleX:mn/ht/Ut,minFontScaleY:Tn/ht/$t,isSDF:b}};if(_e&&(it.stretchX||it.stretchY)){const fn=Rv(Jt,Tr,gr),xn=Rv(tr,Lr,wr);for(let Mn=0;Mn<fn.length-1;Mn++){const Bn=fn[Mn],Ln=fn[Mn+1];for(let Dn=0;Dn<xn.length-1;Dn++)rt.push(Rn(Bn,xn[Dn],Ln,xn[Dn+1]))}}else rt.push(Rn({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:xt+1},{fixed:0,stretch:Pt+1}));return rt}function Uy(_,h,b){let _e=0;for(const rt of _)_e+=Math.max(h,Math.min(b,rt[1]))-Math.max(h,Math.min(b,rt[0]));return _e}function Rv(_,h,b){const _e=[{fixed:-1,stretch:0}];for(const[rt,it]of _){const ht=_e[_e.length-1];_e.push({fixed:rt-ht.stretch,stretch:ht.stretch}),_e.push({fixed:rt-ht.stretch,stretch:ht.stretch+(it-rt)})}return _e.push({fixed:h+1,stretch:b}),_e}function zy(_,h,b,_e){return _/h*b+_e}function Vy(_,h,b,_e){return _-h*b/_e}function Qx(_,h,b,_e){const rt=h+_.positionedLines[_e].lineOffset;return _e===0?b+rt/2:b+(rt+(h+_.positionedLines[_e-1].lineOffset))/2}_m.loadGlyphRange=function(_,h,b,_e,rt){const it=256*h,ht=it+255,xt=_e.transformRequest(_e.normalizeGlyphsURL(b).replace("{fontstack}",_).replace("{range}",`${it}-${ht}`),Ir.Glyphs);Br(xt,(Pt,Ut)=>{if(Pt)rt(Pt);else if(Ut){const $t={},Jt=function(tr){return new w1(tr).readFields(Gx,{})}(Ut);for(const tr of Jt.glyphs)$t[tr.id]=tr;rt(null,{glyphs:$t,ascender:Jt.ascender,descender:Jt.descender})}})},_m.TinySDF=class{constructor({fontSize:_=24,buffer:h=3,radius:b=8,cutoff:_e=.25,fontFamily:rt="sans-serif",fontWeight:it="normal",fontStyle:ht="normal"}){this.buffer=h,this.cutoff=_e,this.radius=b;const xt=this.size=_+4*h,Pt=this._createCanvas(xt),Ut=this.ctx=Pt.getContext("2d",{willReadFrequently:!0});Ut.font=`${ht} ${it} ${_}px ${rt}`,Ut.textBaseline="alphabetic",Ut.textAlign="left",Ut.fillStyle="black",this.gridOuter=new Float64Array(xt*xt),this.gridInner=new Float64Array(xt*xt),this.f=new Float64Array(xt),this.z=new Float64Array(xt+1),this.v=new Uint16Array(xt)}_createCanvas(_){const h=document.createElement("canvas");return h.width=h.height=_,h}draw(_){const{width:h,actualBoundingBoxAscent:b,actualBoundingBoxDescent:_e,actualBoundingBoxLeft:rt,actualBoundingBoxRight:it}=this.ctx.measureText(_),ht=Math.floor(b),xt=Math.min(this.size-this.buffer,Math.ceil(it-rt)),Pt=Math.min(this.size-this.buffer,Math.ceil(b)+Math.ceil(_e)),Ut=xt+2*this.buffer,$t=Pt+2*this.buffer,Jt=Ut*$t,tr=new Uint8ClampedArray(Jt),ur={data:tr,width:Ut,height:$t,glyphWidth:xt,glyphHeight:Pt,glyphTop:ht,glyphLeft:0,glyphAdvance:h};if(xt===0||Pt===0)return ur;const{ctx:gr,buffer:wr,gridInner:Tr,gridOuter:Lr}=this;gr.clearRect(wr,wr,xt,Pt),gr.fillText(_,wr,wr+ht+1);const Vr=gr.getImageData(wr,wr,xt,Pt);Lr.fill(S1,0,Jt),Tr.fill(0,0,Jt);for(let Zr=0;Zr<Pt;Zr++)for(let qr=0;qr<xt;qr++){const Kr=Vr.data[4*(Zr*xt+qr)+3]/255;if(Kr===0)continue;const Jr=(Zr+wr)*Ut+qr+wr;if(Kr===1)Lr[Jr]=0,Tr[Jr]=S1;else{const mn=.5-Kr;Lr[Jr]=mn>0?mn*mn:0,Tr[Jr]=mn<0?mn*mn:0}}Tv(Lr,0,0,Ut,$t,Ut,this.f,this.v,this.z),Tv(Tr,wr,wr,xt,Pt,Ut,this.f,this.v,this.z);for(let Zr=0;Zr<Jt;Zr++){const qr=Math.sqrt(Lr[Zr])-Math.sqrt(Tr[Zr]);tr[Zr]=Math.round(255-255*(qr/this.radius+this.cutoff))}return ur}};class eS{constructor(h=[],b=tS){if(this.data=h,this.length=this.data.length,this.compare=b,this.length>0)for(let _e=(this.length>>1)-1;_e>=0;_e--)this._down(_e)}push(h){this.data.push(h),this.length++,this._up(this.length-1)}pop(){if(this.length===0)return;const h=this.data[0],b=this.data.pop();return this.length--,this.length>0&&(this.data[0]=b,this._down(0)),h}peek(){return this.data[0]}_up(h){const{data:b,compare:_e}=this,rt=b[h];for(;h>0;){const it=h-1>>1,ht=b[it];if(_e(rt,ht)>=0)break;b[h]=ht,h=it}b[h]=rt}_down(h){const{data:b,compare:_e}=this,rt=this.length>>1,it=b[h];for(;h<rt;){let ht=1+(h<<1),xt=b[ht];const Pt=ht+1;if(Pt<this.length&&_e(b[Pt],xt)<0&&(ht=Pt,xt=b[Pt]),_e(xt,it)>=0)break;b[h]=xt,h=ht}b[h]=it}}function tS(_,h){return _<h?-1:_>h?1:0}function rS(_,h=1,b=!1){let _e=1/0,rt=1/0,it=-1/0,ht=-1/0;const xt=_[0];for(let ur=0;ur<xt.length;ur++){const gr=xt[ur];(!ur||gr.x<_e)&&(_e=gr.x),(!ur||gr.y<rt)&&(rt=gr.y),(!ur||gr.x>it)&&(it=gr.x),(!ur||gr.y>ht)&&(ht=gr.y)}const Pt=Math.min(it-_e,ht-rt);let Ut=Pt/2;const $t=new eS([],nS);if(Pt===0)return new gt(_e,rt);for(let ur=_e;ur<it;ur+=Pt)for(let gr=rt;gr<ht;gr+=Pt)$t.push(new vm(ur+Ut,gr+Ut,Ut,_));let Jt=function(ur){let gr=0,wr=0,Tr=0;const Lr=ur[0];for(let Vr=0,Zr=Lr.length,qr=Zr-1;Vr<Zr;qr=Vr++){const Kr=Lr[Vr],Jr=Lr[qr],mn=Kr.x*Jr.y-Jr.x*Kr.y;wr+=(Kr.x+Jr.x)*mn,Tr+=(Kr.y+Jr.y)*mn,gr+=3*mn}return new vm(wr/gr,Tr/gr,0,ur)}(_),tr=$t.length;for(;$t.length;){const ur=$t.pop();(ur.d>Jt.d||!Jt.d)&&(Jt=ur,b&&console.log("found best %d after %d probes",Math.round(1e4*ur.d)/1e4,tr)),ur.max-Jt.d<=h||(Ut=ur.h/2,$t.push(new vm(ur.p.x-Ut,ur.p.y-Ut,Ut,_)),$t.push(new vm(ur.p.x+Ut,ur.p.y-Ut,Ut,_)),$t.push(new vm(ur.p.x-Ut,ur.p.y+Ut,Ut,_)),$t.push(new vm(ur.p.x+Ut,ur.p.y+Ut,Ut,_)),tr+=4)}return b&&(console.log(`num probes: ${tr}`),console.log(`best distance: ${Jt.d}`)),Jt.p}function nS(_,h){return h.max-_.max}function vm(_,h,b,_e){this.p=new gt(_,h),this.h=b,this.d=function(rt,it){let ht=!1,xt=1/0;for(let Pt=0;Pt<it.length;Pt++){const Ut=it[Pt];for(let $t=0,Jt=Ut.length,tr=Jt-1;$t<Jt;tr=$t++){const ur=Ut[$t],gr=Ut[tr];ur.y>rt.y!=gr.y>rt.y&&rt.x<(gr.x-ur.x)*(rt.y-ur.y)/(gr.y-ur.y)+ur.x&&(ht=!ht),xt=Math.min(xt,E0(rt,ur,gr))}}return(ht?1:-1)*Math.sqrt(xt)}(this.p,_e),this.max=this.d+this.h*Math.SQRT2}const G_=Number.POSITIVE_INFINITY,iS=Math.sqrt(2);function Mv(_,h){return h[1]!==G_?function(b,_e,rt){let it=0,ht=0;switch(_e=Math.abs(_e),rt=Math.abs(rt),b){case"top-right":case"top-left":case"top":ht=rt-7;break;case"bottom-right":case"bottom-left":case"bottom":ht=7-rt}switch(b){case"top-right":case"bottom-right":case"right":it=-_e;break;case"top-left":case"bottom-left":case"left":it=_e}return[it,ht]}(_,h[0],h[1]):function(b,_e){let rt=0,it=0;_e<0&&(_e=0);const ht=_e/iS;switch(b){case"top-right":case"top-left":it=ht-7;break;case"bottom-right":case"bottom-left":it=7-ht;break;case"bottom":it=7-_e;break;case"top":it=_e-7}switch(b){case"top-right":case"bottom-right":rt=-ht;break;case"top-left":case"bottom-left":rt=ht;break;case"left":rt=_e;break;case"right":rt=-_e}return[rt,it]}(_,h[0])}function oS(_,h,b,_e,rt,it,ht,xt,Pt,Ut){_.createArrays(),_.tilePixelRatio=fo/(512*_.overscaling),_.compareText={},_.iconsNeedLinear=!1;const $t=_.layers[0].layout,Jt=_.layers[0]._unevaluatedLayout._values,tr={};if(_.textSizeData.kind==="composite"){const{minZoom:wr,maxZoom:Tr}=_.textSizeData;tr.compositeTextSizes=[Jt["text-size"].possiblyEvaluate(new Go(wr),xt),Jt["text-size"].possiblyEvaluate(new Go(Tr),xt)]}if(_.iconSizeData.kind==="composite"){const{minZoom:wr,maxZoom:Tr}=_.iconSizeData;tr.compositeIconSizes=[Jt["icon-size"].possiblyEvaluate(new Go(wr),xt),Jt["icon-size"].possiblyEvaluate(new Go(Tr),xt)]}tr.layoutTextSize=Jt["text-size"].possiblyEvaluate(new Go(Pt+1),xt),tr.layoutIconSize=Jt["icon-size"].possiblyEvaluate(new Go(Pt+1),xt),tr.textMaxSize=Jt["text-size"].possiblyEvaluate(new Go(18),xt);const ur=$t.get("text-rotation-alignment")==="map"&&$t.get("symbol-placement")!=="point",gr=$t.get("text-size");for(const wr of _.features){const Tr=$t.get("text-font").evaluate(wr,{},xt).join(","),Lr=gr.evaluate(wr,{},xt),Vr=tr.layoutTextSize.evaluate(wr,{},xt),Zr=(tr.layoutIconSize.evaluate(wr,{},xt),{horizontal:{},vertical:void 0}),qr=wr.text;let Kr,Jr=[0,0];if(qr){const Tn=qr.toString(),Rn=$t.get("text-letter-spacing").evaluate(wr,{},xt)*js,fn=$t.get("text-line-height").evaluate(wr,{},xt)*js,xn=_y(Tn)?Rn:0,Mn=$t.get("text-anchor").evaluate(wr,{},xt),Bn=$t.get("text-variable-anchor");if(!Bn){const go=$t.get("text-radial-offset").evaluate(wr,{},xt);Jr=go?Mv(Mn,[go*js,G_]):$t.get("text-offset").evaluate(wr,{},xt).map(Kn=>Kn*js)}let Ln=ur?"center":$t.get("text-justify").evaluate(wr,{},xt);const Dn=$t.get("symbol-placement"),uo=Dn==="point",wo=Dn==="point"?$t.get("text-max-width").evaluate(wr,{},xt)*js:0,co=go=>{_.allowVerticalPlacement&&em(Tn)&&(Zr.vertical=z_(qr,h,b,rt,Tr,wo,fn,Mn,go,xn,Jr,Fl.vertical,!0,Dn,Vr,Lr))};if(!ur&&Bn){const go=Ln==="auto"?Bn.map(zn=>Z_(zn)):[Ln];let Kn=!1;for(let zn=0;zn<go.length;zn++){const Eo=go[zn];if(!Zr.horizontal[Eo])if(Kn)Zr.horizontal[Eo]=Zr.horizontal[0];else{const Oo=z_(qr,h,b,rt,Tr,wo,fn,"center",Eo,xn,Jr,Fl.horizontal,!1,Dn,Vr,Lr);Oo&&(Zr.horizontal[Eo]=Oo,Kn=Oo.positionedLines.length===1)}}co("left")}else{if(Ln==="auto"&&(Ln=Z_(Mn)),uo||$t.get("text-writing-mode").indexOf("horizontal")>=0||!em(Tn)){const go=z_(qr,h,b,rt,Tr,wo,fn,Mn,Ln,xn,Jr,Fl.horizontal,!1,Dn,Vr,Lr);go&&(Zr.horizontal[Ln]=go)}co(Dn==="point"?"left":Ln)}}let mn=!1;if(wr.icon&&wr.icon.name){const Tn=_e[wr.icon.name];Tn&&(Kr=Xx(rt[wr.icon.name],$t.get("icon-offset").evaluate(wr,{},xt),$t.get("icon-anchor").evaluate(wr,{},xt)),mn=Tn.sdf,_.sdfIcons===void 0?_.sdfIcons=Tn.sdf:_.sdfIcons!==Tn.sdf&&Qt("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(Tn.pixelRatio!==_.pixelRatio||$t.get("icon-rotate").constantOr(1)!==0)&&(_.iconsNeedLinear=!0))}const _n=Ov(Zr.horizontal)||Zr.vertical;_.iconsInText||(_.iconsInText=!!_n&&_n.iconsInText),(_n||Kr)&&sS(_,wr,Zr,Kr,_e,tr,Vr,0,Jr,mn,ht,xt,Ut)}it&&_.generateCollisionDebugBuffers(Pt,_.collisionBoxArray)}function Z_(_){switch(_){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function sS(_,h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr){let ur=it.textMaxSize.evaluate(h,{},Jt);ur===void 0&&(ur=ht);const gr=_.layers[0].layout,wr=gr.get("icon-offset").evaluate(h,{},Jt),Tr=Ov(b.horizontal)||b.vertical,Lr=ht/24,Vr=_.tilePixelRatio*ur/24,Zr=(fn=_.overscaling,_.zoom>18&&fn>2&&(fn>>=1),Math.max(fo/(512*fn),1)*gr.get("symbol-spacing")),qr=gr.get("text-padding")*_.tilePixelRatio,Kr=gr.get("icon-padding")*_.tilePixelRatio,Jr=wt(gr.get("text-max-angle")),mn=gr.get("text-rotation-alignment")==="map"&&gr.get("symbol-placement")!=="point",_n=gr.get("icon-rotation-alignment")==="map"&&gr.get("symbol-placement")!=="point",Tn=gr.get("symbol-placement"),Rn=Zr/2;var fn;const xn=gr.get("icon-text-fit");let Mn;_e&&xn!=="none"&&(_.allowVerticalPlacement&&b.vertical&&(Mn=_v(_e,b.vertical,xn,gr.get("icon-text-fit-padding"),wr,Lr)),Tr&&(_e=_v(_e,Tr,xn,gr.get("icon-text-fit-padding"),wr,Lr)));const Bn=(Ln,Dn,uo)=>{if(Dn.x<0||Dn.x>=fo||Dn.y<0||Dn.y>=fo)return;const{x:wo,y:co,z:go}=tr.projectTilePoint(Dn.x,Dn.y,uo),Kn=new Lu(wo,co,go,0,void 0);(function(zn,Eo,Oo,gs,Zo,ms,Lo,To,No,rs,os,ys,xs,Il,vl,zo,Zs,Ol,Ts,Ss,Xo,$o,wl,$s,hs){const qs=zn.addToLineVertexArray(Eo,gs);let Bs,Es,Zl,_f,L1,j1,hw,dw=0,fw=0,pw=0,gw=0,u0=-1,c0=-1;const bu={};let mw=fu(""),h0=0,d0=0;if(No._unevaluatedLayout.getValue("text-radial-offset")===void 0?[h0,d0]=No.layout.get("text-offset").evaluate(Xo,{},hs).map(Ll=>Ll*js):(h0=No.layout.get("text-radial-offset").evaluate(Xo,{},hs)*js,d0=G_),zn.allowVerticalPlacement&&Zo.vertical){const Ll=Zo.vertical;if(vl)j1=$_(Ll),To&&(hw=$_(To));else{const Pl=No.layout.get("text-rotate").evaluate(Xo,{},hs)+90;Zl=Wy(rs,Oo,Eo,os,ys,xs,Ll,Il,Pl,zo),To&&(_f=Wy(rs,Oo,Eo,os,ys,xs,To,Ol,Pl))}}if(ms){const Ll=No.layout.get("icon-rotate").evaluate(Xo,{},hs),Pl=No.layout.get("icon-text-fit")!=="none",P1=Cv(ms,Ll,wl,Pl),p0=To?Cv(To,Ll,wl,Pl):void 0;Es=Wy(rs,Oo,Eo,os,ys,xs,ms,Ol,Ll),dw=4*P1.length;const yw=zn.iconSizeData;let jp=null;yw.kind==="source"?(jp=[mu*No.layout.get("icon-size").evaluate(Xo,{},hs)],jp[0]>Ku&&Qt(`${zn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):yw.kind==="composite"&&(jp=[mu*$o.compositeIconSizes[0].evaluate(Xo,{},hs),mu*$o.compositeIconSizes[1].evaluate(Xo,{},hs)],(jp[0]>Ku||jp[1]>Ku)&&Qt(`${zn.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),zn.addSymbols(zn.icon,P1,jp,Ss,Ts,Xo,!1,Oo,Eo,qs.lineStartIndex,qs.lineLength,-1,$s,hs),u0=zn.icon.placedSymbolArray.length-1,p0&&(fw=4*p0.length,zn.addSymbols(zn.icon,p0,jp,Ss,Ts,Xo,Fl.vertical,Oo,Eo,qs.lineStartIndex,qs.lineLength,-1,$s,hs),c0=zn.icon.placedSymbolArray.length-1)}for(const Ll in Zo.horizontal){const Pl=Zo.horizontal[Ll];Bs||(mw=fu(Pl.text),vl?L1=$_(Pl):Bs=Wy(rs,Oo,Eo,os,ys,xs,Pl,Il,No.layout.get("text-rotate").evaluate(Xo,{},hs),zo));const P1=Pl.positionedLines.length===1;if(pw+=Iv(zn,Oo,Eo,Pl,Lo,No,vl,Xo,zo,qs,Zo.vertical?Fl.horizontal:Fl.horizontalOnly,P1?Object.keys(Zo.horizontal):[Ll],bu,u0,$o,$s,hs),P1)break}Zo.vertical&&(gw+=Iv(zn,Oo,Eo,Zo.vertical,Lo,No,vl,Xo,zo,qs,Fl.vertical,["vertical"],bu,c0,$o,$s,hs));let ep=-1;const f0=(Ll,Pl)=>Ll?Math.max(Ll,Pl):Pl;ep=f0(L1,ep),ep=f0(j1,ep),ep=f0(hw,ep);const US=ep>-1?1:0;zn.glyphOffsetArray.length>=Ju.MAX_GLYPHS&&Qt("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Xo.sortKey!==void 0&&zn.addToSortKeyRanges(zn.symbolInstances.length,Xo.sortKey),zn.symbolInstances.emplaceBack(Oo.x,Oo.y,Oo.z,Eo.x,Eo.y,bu.right>=0?bu.right:-1,bu.center>=0?bu.center:-1,bu.left>=0?bu.left:-1,bu.vertical>=0?bu.vertical:-1,u0,c0,mw,Bs!==void 0?Bs:zn.collisionBoxArray.length,Bs!==void 0?Bs+1:zn.collisionBoxArray.length,Zl!==void 0?Zl:zn.collisionBoxArray.length,Zl!==void 0?Zl+1:zn.collisionBoxArray.length,Es!==void 0?Es:zn.collisionBoxArray.length,Es!==void 0?Es+1:zn.collisionBoxArray.length,_f||zn.collisionBoxArray.length,_f?_f+1:zn.collisionBoxArray.length,os,pw,gw,dw,fw,US,0,h0,d0,ep)})(_,Dn,Kn,Ln,b,_e,rt,Mn,_.layers[0],_.collisionBoxArray,h.index,h.sourceLayerIndex,_.index,qr,mn,Pt,0,Kr,_n,wr,h,it,Ut,$t,Jt)};if(Tn==="line")for(const Ln of Ev(h.geometry,0,0,fo,fo)){const Dn=Jx(Ln,Zr,Jr,b.vertical||Tr,_e,24,Vr,_.overscaling,fo);for(const uo of Dn){const wo=Tr;wo&&aS(_,wo.text,Rn,uo)||Bn(Ln,uo,Jt)}}else if(Tn==="line-center"){for(const Ln of h.geometry)if(Ln.length>1){const Dn=Kx(Ln,Jr,b.vertical||Tr,_e,24,Vr);Dn&&Bn(Ln,Dn,Jt)}}else if(h.type==="Polygon")for(const Ln of P_(h.geometry,0)){const Dn=rS(Ln,16);Bn(Ln[0],new Lu(Dn.x,Dn.y,0,0,void 0),Jt)}else if(h.type==="LineString")for(const Ln of h.geometry)Bn(Ln,new Lu(Ln[0].x,Ln[0].y,0,0,void 0),Jt);else if(h.type==="Point")for(const Ln of h.geometry)for(const Dn of Ln)Bn([Dn],new Lu(Dn.x,Dn.y,0,0,void 0),Jt)}const Ku=32640;function Iv(_,h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr,Tr){const Lr=function(qr,Kr,Jr,mn,_n,Tn,Rn,fn){const xn=[];if(Kr.positionedLines.length===0)return xn;const Mn=mn.layout.get("text-rotate").evaluate(Tn,{})*Math.PI/180,Bn=function(co){const go=co[0],Kn=co[1],zn=go*Kn;return zn>0?[go,-Kn]:zn<0?[-go,Kn]:go===0?[Kn,go]:[Kn,-go]}(Jr);let Ln=Math.abs(Kr.top-Kr.bottom);for(const co of Kr.positionedLines)Ln-=co.lineOffset;const Dn=Kr.positionedLines.length,uo=Ln/Dn;let wo=Kr.top-Jr[1];for(let co=0;co<Dn;++co){const go=Kr.positionedLines[co];wo=Qx(Kr,uo,wo,co);for(const Kn of go.positionedGlyphs){if(!Kn.rect)continue;const zn=Kn.rect||{};let Eo=4,Oo=!0,gs=1,Zo=0;if(Kn.imageName){const $o=Rn[Kn.imageName];if(!$o)continue;if($o.sdf){Qt("SDF images are not supported in formatted text and will be ignored.");continue}Oo=!1,gs=$o.pixelRatio,Eo=1/gs}const ms=(_n||fn)&&Kn.vertical,Lo=Kn.metrics.advance*Kn.scale/2,To=Kn.metrics,No=Kn.rect;if(No===null)continue;fn&&Kr.verticalizable&&(Zo=Kn.imageName?Lo-Kn.metrics.width*Kn.scale/2:0);const rs=_n?[Kn.x+Lo,Kn.y]:[0,0];let os=[0,0],ys=[0,0],xs=!1;_n||(ms?(ys=[Kn.x+Lo+Bn[0],Kn.y+Bn[1]-Zo],xs=!0):os=[Kn.x+Lo+Jr[0],Kn.y+Jr[1]-Zo]);const Il=No.w*Kn.scale/(gs*(Kn.localGlyph?2:1)),vl=No.h*Kn.scale/(gs*(Kn.localGlyph?2:1));let zo,Zs,Ol,Ts;if(ms){const $o=Kn.y-wo,wl=new gt(-Lo,Lo-$o),$s=-Math.PI/2,hs=new gt(...ys);zo=new gt(-Lo+os[0],os[1]),zo._rotateAround($s,wl)._add(hs),zo.x+=-$o+Lo,zo.y-=(To.left-Eo)*Kn.scale;const qs=Kn.imageName?To.advance*Kn.scale:js*Kn.scale,Bs=String.fromCharCode(Kn.glyph);Px(Bs)?zo.x+=(1-Eo)*Kn.scale:kx(Bs)?zo.x+=qs-To.height*Kn.scale+(-Eo-1)*Kn.scale:zo.x+=Kn.imageName||To.width+2*Eo===No.w&&To.height+2*Eo===No.h?(qs-vl)/2:(qs-(To.height+2*Eo)*Kn.scale)/2,Zs=new gt(zo.x,zo.y-Il),Ol=new gt(zo.x+vl,zo.y),Ts=new gt(zo.x+vl,zo.y-Il)}else{const $o=(To.left-Eo)*Kn.scale-Lo+os[0],wl=(-To.top-Eo)*Kn.scale+os[1],$s=$o+Il,hs=wl+vl;zo=new gt($o,wl),Zs=new gt($s,wl),Ol=new gt($o,hs),Ts=new gt($s,hs)}if(Mn){let $o;$o=_n?new gt(0,0):xs?new gt(Bn[0],Bn[1]):new gt(Jr[0],Jr[1]),zo._rotateAround(Mn,$o),Zs._rotateAround(Mn,$o),Ol._rotateAround(Mn,$o),Ts._rotateAround(Mn,$o)}const Ss=new gt(0,0),Xo=new gt(0,0);xn.push({tl:zo,tr:Zs,bl:Ol,br:Ts,tex:zn,writingMode:Kr.writingMode,glyphOffset:rs,sectionIndex:Kn.sectionIndex,isSDF:Oo,pixelOffsetTL:Ss,pixelOffsetBR:Xo,minFontScaleX:0,minFontScaleY:0})}}return xn}(0,_e,Pt,it,ht,xt,rt,_.allowVerticalPlacement),Vr=_.textSizeData;let Zr=null;Vr.kind==="source"?(Zr=[mu*it.layout.get("text-size").evaluate(xt,{},Tr)],Zr[0]>Ku&&Qt(`${_.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):Vr.kind==="composite"&&(Zr=[mu*gr.compositeTextSizes[0].evaluate(xt,{},Tr),mu*gr.compositeTextSizes[1].evaluate(xt,{},Tr)],(Zr[0]>Ku||Zr[1]>Ku)&&Qt(`${_.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),_.addSymbols(_.text,Lr,Zr,Pt,ht,xt,$t,h,b,Ut.lineStartIndex,Ut.lineLength,ur,wr,Tr);for(const qr of Jt)tr[qr]=_.text.placedSymbolArray.length-1;return 4*Lr.length}function Ov(_){for(const h in _)return _[h];return null}function Wy(_,h,b,_e,rt,it,ht,xt,Pt,Ut){let $t=ht.top,Jt=ht.bottom,tr=ht.left,ur=ht.right;const gr=ht.collisionPadding;if(gr&&(tr-=gr[0],$t-=gr[1],ur+=gr[2],Jt+=gr[3]),Pt){const wr=new gt(tr,$t),Tr=new gt(ur,$t),Lr=new gt(tr,Jt),Vr=new gt(ur,Jt),Zr=wt(Pt);let qr=new gt(0,0);Ut&&(qr=new gt(Ut[0],Ut[1])),wr._rotateAround(Zr,qr),Tr._rotateAround(Zr,qr),Lr._rotateAround(Zr,qr),Vr._rotateAround(Zr,qr),tr=Math.min(wr.x,Tr.x,Lr.x,Vr.x),ur=Math.max(wr.x,Tr.x,Lr.x,Vr.x),$t=Math.min(wr.y,Tr.y,Lr.y,Vr.y),Jt=Math.max(wr.y,Tr.y,Lr.y,Vr.y)}return _.emplaceBack(h.x,h.y,h.z,b.x,b.y,tr,$t,ur,Jt,xt,_e,rt,it),_.length-1}function $_(_){_.collisionPadding&&(_.top-=_.collisionPadding[1],_.bottom+=_.collisionPadding[3]);const h=_.bottom-_.top;return h>0?Math.max(10,h):null}function aS(_,h,b,_e){const rt=_.compareText;if(h in rt){const it=rt[h];for(let ht=it.length-1;ht>=0;ht--)if(_e.dist(it[ht])<b)return!0}else rt[h]=[];return rt[h].push(_e),!1}const lS=Ip.VectorTileFeature.types,uS=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function Hy(_,h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr,wr){const Tr=$t?Math.min(Ku,Math.round($t[0])):0,Lr=$t?Math.min(Ku,Math.round($t[1])):0;_.emplaceBack(h,b,Math.round(32*ht),Math.round(32*xt),Pt,Ut,(Tr<<1)+(Jt?1:0),Lr,16*tr,16*ur,256*gr,256*wr,_e,rt,it,0)}function q_(_,h,b){_.emplaceBack(h.x,h.y,b),_.emplaceBack(h.x,h.y,b),_.emplaceBack(h.x,h.y,b),_.emplaceBack(h.x,h.y,b)}function cS(_){for(const h of _.sections)if(u_(h.text))return!0;return!1}class Y_{constructor(h){this.layoutVertexArray=new yn,this.indexArray=new Gn,this.programConfigurations=h,this.segments=new is,this.dynamicLayoutVertexArray=new jn,this.opacityVertexArray=new sn,this.placedSymbolArray=new eu}isEmpty(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0}upload(h,b,_e,rt){this.isEmpty()||(_e&&(this.layoutVertexBuffer=h.createVertexBuffer(this.layoutVertexArray,Cx.members),this.indexBuffer=h.createIndexBuffer(this.indexArray,b),this.dynamicLayoutVertexBuffer=h.createVertexBuffer(this.dynamicLayoutVertexArray,Rx.members,!0),this.opacityVertexBuffer=h.createVertexBuffer(this.opacityVertexArray,uS,!0),this.opacityVertexBuffer.itemSize=1),(_e||rt)&&this.programConfigurations.upload(h))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}Vn(Y_,"SymbolBuffers");class X_{constructor(h,b,_e){this.layoutVertexArray=new h,this.layoutAttributes=b,this.indexArray=new _e,this.segments=new is,this.collisionVertexArray=new bn,this.collisionVertexArrayExt=new jn}upload(h){this.layoutVertexBuffer=h.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=h.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=h.createVertexBuffer(this.collisionVertexArray,Mx.members,!0),this.collisionVertexBufferExt=h.createVertexBuffer(this.collisionVertexArrayExt,Ix.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy(),this.collisionVertexBufferExt.destroy())}}Vn(X_,"CollisionBuffers");class Ju{constructor(h){this.collisionBoxArray=h.collisionBoxArray,this.zoom=h.zoom,this.overscaling=h.overscaling,this.layers=h.layers,this.layerIds=this.layers.map(ht=>ht.id),this.index=h.index,this.pixelRatio=h.pixelRatio,this.sourceLayerIndex=h.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.fullyClipped=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=gu([]),this.placementViewportMatrix=gu([]);const b=this.layers[0]._unevaluatedLayout._values;this.textSizeData=B_(this.zoom,b["text-size"]),this.iconSizeData=B_(this.zoom,b["icon-size"]);const _e=this.layers[0].layout,rt=_e.get("symbol-sort-key"),it=_e.get("symbol-z-order");this.canOverlap=_e.get("text-allow-overlap")||_e.get("icon-allow-overlap")||_e.get("text-ignore-placement")||_e.get("icon-ignore-placement"),this.sortFeaturesByKey=it!=="viewport-y"&&rt.constantOr(1)!==void 0,this.sortFeaturesByY=(it==="viewport-y"||it==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,this.writingModes=_e.get("text-writing-mode").map(ht=>Fl[ht]),this.stateDependentLayerIds=this.layers.filter(ht=>ht.isStateDependent()).map(ht=>ht.id),this.sourceID=h.sourceID,this.projection=h.projection}createArrays(){this.text=new Y_(new Ap(this.layers,this.zoom,h=>/^text/.test(h))),this.icon=new Y_(new Ap(this.layers,this.zoom,h=>/^icon/.test(h))),this.glyphOffsetArray=new Io,this.lineVertexArray=new us,this.symbolInstances=new ns}calculateGlyphDependencies(h,b,_e,rt,it){for(let ht=0;ht<h.length;ht++)if(b[h.charCodeAt(ht)]=!0,rt&&it){const xt=b1[h.charAt(ht)];xt&&(b[xt.charCodeAt(0)]=!0)}}populate(h,b,_e,rt){const it=this.layers[0],ht=it.layout,xt=ht.get("text-font"),Pt=ht.get("text-field"),Ut=ht.get("icon-image"),$t=(Pt.value.kind!=="constant"||Pt.value.value instanceof Ko&&!Pt.value.value.isEmpty()||Pt.value.value.toString().length>0)&&(xt.value.kind!=="constant"||xt.value.value.length>0),Jt=Ut.value.kind!=="constant"||!!Ut.value.value||Object.keys(Ut.parameters).length>0,tr=ht.get("symbol-sort-key");if(this.features=[],!$t&&!Jt)return;const ur=b.iconDependencies,gr=b.glyphDependencies,wr=b.availableImages,Tr=new Go(this.zoom);for(const{feature:Lr,id:Vr,index:Zr,sourceLayerIndex:qr}of h){const Kr=it._featureFilter.needGeometry,Jr=Cp(Lr,Kr);if(!it._featureFilter.filter(Tr,Jr,_e))continue;let mn,_n;if(Kr||(Jr.geometry=Mu(Lr,_e,rt)),$t){const Rn=it.getValueAndResolveTokens("text-field",Jr,_e,wr),fn=Ko.factory(Rn);cS(fn)&&(this.hasRTLText=!0),(!this.hasRTLText||im()==="unavailable"||this.hasRTLText&&El.isParsed())&&(mn=jx(fn,it,Jr))}if(Jt){const Rn=it.getValueAndResolveTokens("icon-image",Jr,_e,wr);_n=Rn instanceof Do?Rn:Do.fromString(Rn)}if(!mn&&!_n)continue;const Tn=this.sortFeaturesByKey?tr.evaluate(Jr,{},_e):void 0;if(this.features.push({id:Vr,text:mn,icon:_n,index:Zr,sourceLayerIndex:qr,geometry:Jr.geometry,properties:Lr.properties,type:lS[Lr.type],sortKey:Tn}),_n&&(ur[_n.name]=!0),mn){const Rn=xt.evaluate(Jr,{},_e).join(","),fn=ht.get("text-rotation-alignment")==="map"&&ht.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Fl.vertical)>=0;for(const xn of mn.sections)if(xn.image)ur[xn.image.name]=!0;else{const Mn=em(mn.toString()),Bn=xn.fontStack||Rn,Ln=gr[Bn]=gr[Bn]||{};this.calculateGlyphDependencies(xn.text,Ln,fn,this.allowVerticalPlacement,Mn)}}}ht.get("symbol-placement")==="line"&&(this.features=function(Lr){const Vr={},Zr={},qr=[];let Kr=0;function Jr(Rn){qr.push(Lr[Rn]),Kr++}function mn(Rn,fn,xn){const Mn=Zr[Rn];return delete Zr[Rn],Zr[fn]=Mn,qr[Mn].geometry[0].pop(),qr[Mn].geometry[0]=qr[Mn].geometry[0].concat(xn[0]),Mn}function _n(Rn,fn,xn){const Mn=Vr[fn];return delete Vr[fn],Vr[Rn]=Mn,qr[Mn].geometry[0].shift(),qr[Mn].geometry[0]=xn[0].concat(qr[Mn].geometry[0]),Mn}function Tn(Rn,fn,xn){const Mn=xn?fn[0][fn[0].length-1]:fn[0][0];return`${Rn}:${Mn.x}:${Mn.y}`}for(let Rn=0;Rn<Lr.length;Rn++){const fn=Lr[Rn],xn=fn.geometry,Mn=fn.text?fn.text.toString():null;if(!Mn){Jr(Rn);continue}const Bn=Tn(Mn,xn),Ln=Tn(Mn,xn,!0);if(Bn in Zr&&Ln in Vr&&Zr[Bn]!==Vr[Ln]){const Dn=_n(Bn,Ln,xn),uo=mn(Bn,Ln,qr[Dn].geometry);delete Vr[Bn],delete Zr[Ln],Zr[Tn(Mn,qr[uo].geometry,!0)]=uo,qr[Dn].geometry=null}else Bn in Zr?mn(Bn,Ln,xn):Ln in Vr?_n(Bn,Ln,xn):(Jr(Rn),Vr[Bn]=Kr-1,Zr[Ln]=Kr-1)}return qr.filter(Rn=>Rn.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((Lr,Vr)=>Lr.sortKey-Vr.sortKey)}update(h,b,_e,rt){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(h,b,this.layers,_e,rt),this.icon.programConfigurations.updatePaintArrays(h,b,this.layers,_e,rt))}isEmpty(){return this.symbolInstances.length===0&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(h){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(h),this.iconCollisionBox.upload(h)),this.text.upload(h,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(h,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(h,b){const _e=this.lineVertexArray.length,rt=h.segment;if(rt!==void 0){let it=h.dist(b[rt+1]),ht=h.dist(b[rt]);const xt={};for(let Pt=rt+1;Pt<b.length;Pt++)xt[Pt]={x:b[Pt].x,y:b[Pt].y,tileUnitDistanceFromAnchor:it},Pt<b.length-1&&(it+=b[Pt+1].dist(b[Pt]));for(let Pt=rt||0;Pt>=0;Pt--)xt[Pt]={x:b[Pt].x,y:b[Pt].y,tileUnitDistanceFromAnchor:ht},Pt>0&&(ht+=b[Pt-1].dist(b[Pt]));for(let Pt=0;Pt<b.length;Pt++){const Ut=xt[Pt];this.lineVertexArray.emplaceBack(Ut.x,Ut.y,Ut.tileUnitDistanceFromAnchor)}}return{lineStartIndex:_e,lineLength:this.lineVertexArray.length-_e}}addSymbols(h,b,_e,rt,it,ht,xt,Pt,Ut,$t,Jt,tr,ur,gr){const wr=h.indexArray,Tr=h.layoutVertexArray,Lr=h.segments.prepareSegment(4*b.length,Tr,wr,this.canOverlap?ht.sortKey:void 0),Vr=this.glyphOffsetArray.length,Zr=Lr.vertexLength,qr=this.allowVerticalPlacement&&xt===Fl.vertical?Math.PI/2:0,Kr=ht.text&&ht.text.sections;for(let Jr=0;Jr<b.length;Jr++){const{tl:mn,tr:_n,bl:Tn,br:Rn,tex:fn,pixelOffsetTL:xn,pixelOffsetBR:Mn,minFontScaleX:Bn,minFontScaleY:Ln,glyphOffset:Dn,isSDF:uo,sectionIndex:wo}=b[Jr],co=Lr.vertexLength,go=Dn[1];Hy(Tr,Pt.x,Pt.y,Pt.z,Ut.x,Ut.y,mn.x,go+mn.y,fn.x,fn.y,_e,uo,xn.x,xn.y,Bn,Ln),Hy(Tr,Pt.x,Pt.y,Pt.z,Ut.x,Ut.y,_n.x,go+_n.y,fn.x+fn.w,fn.y,_e,uo,Mn.x,xn.y,Bn,Ln),Hy(Tr,Pt.x,Pt.y,Pt.z,Ut.x,Ut.y,Tn.x,go+Tn.y,fn.x,fn.y+fn.h,_e,uo,xn.x,Mn.y,Bn,Ln),Hy(Tr,Pt.x,Pt.y,Pt.z,Ut.x,Ut.y,Rn.x,go+Rn.y,fn.x+fn.w,fn.y+fn.h,_e,uo,Mn.x,Mn.y,Bn,Ln),q_(h.dynamicLayoutVertexArray,Pt,qr),wr.emplaceBack(co,co+1,co+2),wr.emplaceBack(co+1,co+2,co+3),Lr.vertexLength+=4,Lr.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(Dn[0]),Jr!==b.length-1&&wo===b[Jr+1].sectionIndex||h.programConfigurations.populatePaintArrays(Tr.length,ht,ht.index,{},ur,gr,Kr&&Kr[wo])}h.placedSymbolArray.emplaceBack(Pt.x,Pt.y,Pt.z,Ut.x,Ut.y,Vr,this.glyphOffsetArray.length-Vr,Zr,$t,Jt,Ut.segment,_e?_e[0]:0,_e?_e[1]:0,rt[0],rt[1],xt,0,!1,0,tr,0)}_commitLayoutVertex(h,b,_e,rt,it,ht,xt){h.emplaceBack(b,_e,rt,it,ht,Math.round(xt.x),Math.round(xt.y))}_addCollisionDebugVertices(h,b,_e,rt,it,ht,xt){const Pt=_e.segments.prepareSegment(4,_e.layoutVertexArray,_e.indexArray),Ut=Pt.vertexLength,$t=xt.tileAnchorX,Jt=xt.tileAnchorY;for(let ur=0;ur<4;ur++)_e.collisionVertexArray.emplaceBack(0,0,0,0);_e.collisionVertexArrayExt.emplaceBack(b,-h.padding,-h.padding),_e.collisionVertexArrayExt.emplaceBack(b,h.padding,-h.padding),_e.collisionVertexArrayExt.emplaceBack(b,h.padding,h.padding),_e.collisionVertexArrayExt.emplaceBack(b,-h.padding,h.padding),this._commitLayoutVertex(_e.layoutVertexArray,rt,it,ht,$t,Jt,new gt(h.x1,h.y1)),this._commitLayoutVertex(_e.layoutVertexArray,rt,it,ht,$t,Jt,new gt(h.x2,h.y1)),this._commitLayoutVertex(_e.layoutVertexArray,rt,it,ht,$t,Jt,new gt(h.x2,h.y2)),this._commitLayoutVertex(_e.layoutVertexArray,rt,it,ht,$t,Jt,new gt(h.x1,h.y2)),Pt.vertexLength+=4;const tr=_e.indexArray;tr.emplaceBack(Ut,Ut+1),tr.emplaceBack(Ut+1,Ut+2),tr.emplaceBack(Ut+2,Ut+3),tr.emplaceBack(Ut+3,Ut),Pt.primitiveLength+=4}_addTextDebugCollisionBoxes(h,b,_e,rt,it,ht){for(let xt=rt;xt<it;xt++){const Pt=_e.get(xt),Ut=this.getSymbolInstanceTextSize(h,ht,b,xt);this._addCollisionDebugVertices(Pt,Ut,this.textCollisionBox,Pt.projectedAnchorX,Pt.projectedAnchorY,Pt.projectedAnchorZ,ht)}}_addIconDebugCollisionBoxes(h,b,_e,rt,it,ht){for(let xt=rt;xt<it;xt++){const Pt=_e.get(xt),Ut=this.getSymbolInstanceIconSize(h,b,xt);this._addCollisionDebugVertices(Pt,Ut,this.iconCollisionBox,Pt.projectedAnchorX,Pt.projectedAnchorY,Pt.projectedAnchorZ,ht)}}generateCollisionDebugBuffers(h,b){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new X_(On,ov.members,oo),this.iconCollisionBox=new X_(On,ov.members,oo);const _e=pm(this.iconSizeData,h),rt=pm(this.textSizeData,h);for(let it=0;it<this.symbolInstances.length;it++){const ht=this.symbolInstances.get(it);this._addTextDebugCollisionBoxes(rt,h,b,ht.textBoxStartIndex,ht.textBoxEndIndex,ht),this._addTextDebugCollisionBoxes(rt,h,b,ht.verticalTextBoxStartIndex,ht.verticalTextBoxEndIndex,ht),this._addIconDebugCollisionBoxes(_e,h,b,ht.iconBoxStartIndex,ht.iconBoxEndIndex,ht),this._addIconDebugCollisionBoxes(_e,h,b,ht.verticalIconBoxStartIndex,ht.verticalIconBoxEndIndex,ht)}}getSymbolInstanceTextSize(h,b,_e,rt){const it=this.text.placedSymbolArray.get(b.rightJustifiedTextSymbolIndex>=0?b.rightJustifiedTextSymbolIndex:b.centerJustifiedTextSymbolIndex>=0?b.centerJustifiedTextSymbolIndex:b.leftJustifiedTextSymbolIndex>=0?b.leftJustifiedTextSymbolIndex:b.verticalPlacedTextSymbolIndex>=0?b.verticalPlacedTextSymbolIndex:rt),ht=By(this.textSizeData,h,it)/js;return this.tilePixelRatio*ht}getSymbolInstanceIconSize(h,b,_e){const rt=this.icon.placedSymbolArray.get(_e),it=By(this.iconSizeData,h,rt);return this.tilePixelRatio*it}_commitDebugCollisionVertexUpdate(h,b,_e){h.emplaceBack(b,-_e,-_e),h.emplaceBack(b,_e,-_e),h.emplaceBack(b,_e,_e),h.emplaceBack(b,-_e,_e)}_updateTextDebugCollisionBoxes(h,b,_e,rt,it,ht){for(let xt=rt;xt<it;xt++){const Pt=_e.get(xt),Ut=this.getSymbolInstanceTextSize(h,ht,b,xt);this._commitDebugCollisionVertexUpdate(this.textCollisionBox.collisionVertexArrayExt,Ut,Pt.padding)}}_updateIconDebugCollisionBoxes(h,b,_e,rt,it){for(let ht=rt;ht<it;ht++){const xt=_e.get(ht),Pt=this.getSymbolInstanceIconSize(h,b,ht);this._commitDebugCollisionVertexUpdate(this.iconCollisionBox.collisionVertexArrayExt,Pt,xt.padding)}}updateCollisionDebugBuffers(h,b){if(!this.hasDebugData())return;this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexArrayExt.clear(),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexArrayExt.clear();const _e=pm(this.iconSizeData,h),rt=pm(this.textSizeData,h);for(let it=0;it<this.symbolInstances.length;it++){const ht=this.symbolInstances.get(it);this._updateTextDebugCollisionBoxes(rt,h,b,ht.textBoxStartIndex,ht.textBoxEndIndex,ht),this._updateTextDebugCollisionBoxes(rt,h,b,ht.verticalTextBoxStartIndex,ht.verticalTextBoxEndIndex,ht),this._updateIconDebugCollisionBoxes(_e,h,b,ht.iconBoxStartIndex,ht.iconBoxEndIndex),this._updateIconDebugCollisionBoxes(_e,h,b,ht.verticalIconBoxStartIndex,ht.verticalIconBoxEndIndex)}this.hasTextCollisionBoxData()&&this.textCollisionBox.collisionVertexBufferExt&&this.textCollisionBox.collisionVertexBufferExt.updateData(this.textCollisionBox.collisionVertexArrayExt),this.hasIconCollisionBoxData()&&this.iconCollisionBox.collisionVertexBufferExt&&this.iconCollisionBox.collisionVertexBufferExt.updateData(this.iconCollisionBox.collisionVertexArrayExt)}_deserializeCollisionBoxesForSymbol(h,b,_e,rt,it,ht,xt,Pt,Ut){const $t={};for(let Jt=b;Jt<_e;Jt++){const tr=h.get(Jt);$t.textBox={x1:tr.x1,y1:tr.y1,x2:tr.x2,y2:tr.y2,padding:tr.padding,projectedAnchorX:tr.projectedAnchorX,projectedAnchorY:tr.projectedAnchorY,projectedAnchorZ:tr.projectedAnchorZ,tileAnchorX:tr.tileAnchorX,tileAnchorY:tr.tileAnchorY},$t.textFeatureIndex=tr.featureIndex;break}for(let Jt=rt;Jt<it;Jt++){const tr=h.get(Jt);$t.verticalTextBox={x1:tr.x1,y1:tr.y1,x2:tr.x2,y2:tr.y2,padding:tr.padding,projectedAnchorX:tr.projectedAnchorX,projectedAnchorY:tr.projectedAnchorY,projectedAnchorZ:tr.projectedAnchorZ,tileAnchorX:tr.tileAnchorX,tileAnchorY:tr.tileAnchorY},$t.verticalTextFeatureIndex=tr.featureIndex;break}for(let Jt=ht;Jt<xt;Jt++){const tr=h.get(Jt);$t.iconBox={x1:tr.x1,y1:tr.y1,x2:tr.x2,y2:tr.y2,padding:tr.padding,projectedAnchorX:tr.projectedAnchorX,projectedAnchorY:tr.projectedAnchorY,projectedAnchorZ:tr.projectedAnchorZ,tileAnchorX:tr.tileAnchorX,tileAnchorY:tr.tileAnchorY},$t.iconFeatureIndex=tr.featureIndex;break}for(let Jt=Pt;Jt<Ut;Jt++){const tr=h.get(Jt);$t.verticalIconBox={x1:tr.x1,y1:tr.y1,x2:tr.x2,y2:tr.y2,padding:tr.padding,projectedAnchorX:tr.projectedAnchorX,projectedAnchorY:tr.projectedAnchorY,projectedAnchorZ:tr.projectedAnchorZ,tileAnchorX:tr.tileAnchorX,tileAnchorY:tr.tileAnchorY},$t.verticalIconFeatureIndex=tr.featureIndex;break}return $t}deserializeCollisionBoxes(h){this.collisionArrays=[];for(let b=0;b<this.symbolInstances.length;b++){const _e=this.symbolInstances.get(b);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(h,_e.textBoxStartIndex,_e.textBoxEndIndex,_e.verticalTextBoxStartIndex,_e.verticalTextBoxEndIndex,_e.iconBoxStartIndex,_e.iconBoxEndIndex,_e.verticalIconBoxStartIndex,_e.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(h,b){const _e=h.placedSymbolArray.get(b),rt=_e.vertexStartIndex+4*_e.numGlyphs;for(let it=_e.vertexStartIndex;it<rt;it+=4)h.indexArray.emplaceBack(it,it+1,it+2),h.indexArray.emplaceBack(it+1,it+2,it+3)}getSortedSymbolIndexes(h){if(this.sortedAngle===h&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;const b=Math.sin(h),_e=Math.cos(h),rt=[],it=[],ht=[];for(let xt=0;xt<this.symbolInstances.length;++xt){ht.push(xt);const Pt=this.symbolInstances.get(xt);rt.push(0|Math.round(b*Pt.tileAnchorX+_e*Pt.tileAnchorY)),it.push(Pt.featureIndex)}return ht.sort((xt,Pt)=>rt[xt]-rt[Pt]||it[Pt]-it[xt]),ht}addToSortKeyRanges(h,b){const _e=this.sortKeyRanges[this.sortKeyRanges.length-1];_e&&_e.sortKey===b?_e.symbolInstanceEnd=h+1:this.sortKeyRanges.push({sortKey:b,symbolInstanceStart:h,symbolInstanceEnd:h+1})}sortFeatures(h){if(this.sortFeaturesByY&&this.sortedAngle!==h&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(h),this.sortedAngle=h,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const b of this.symbolInstanceIndexes){const _e=this.symbolInstances.get(b);this.featureSortOrder.push(_e.featureIndex),[_e.rightJustifiedTextSymbolIndex,_e.centerJustifiedTextSymbolIndex,_e.leftJustifiedTextSymbolIndex].forEach((rt,it,ht)=>{rt>=0&&ht.indexOf(rt)===it&&this.addIndicesForPlacedSymbol(this.text,rt)}),_e.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,_e.verticalPlacedTextSymbolIndex),_e.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_e.placedIconSymbolIndex),_e.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_e.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}Vn(Ju,"SymbolBucket",{omit:["layers","collisionBoxArray","features","compareText"]}),Ju.MAX_GLYPHS=65535,Ju.addDynamicAttributes=q_;const hS=new fr({"symbol-placement":new Ft(un.layout_symbol["symbol-placement"]),"symbol-spacing":new Ft(un.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ft(un.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Wt(un.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ft(un.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ft(un.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ft(un.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ft(un.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ft(un.layout_symbol["icon-rotation-alignment"]),"icon-size":new Wt(un.layout_symbol["icon-size"]),"icon-text-fit":new Ft(un.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ft(un.layout_symbol["icon-text-fit-padding"]),"icon-image":new Wt(un.layout_symbol["icon-image"]),"icon-rotate":new Wt(un.layout_symbol["icon-rotate"]),"icon-padding":new Ft(un.layout_symbol["icon-padding"]),"icon-keep-upright":new Ft(un.layout_symbol["icon-keep-upright"]),"icon-offset":new Wt(un.layout_symbol["icon-offset"]),"icon-anchor":new Wt(un.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ft(un.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ft(un.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ft(un.layout_symbol["text-rotation-alignment"]),"text-field":new Wt(un.layout_symbol["text-field"]),"text-font":new Wt(un.layout_symbol["text-font"]),"text-size":new Wt(un.layout_symbol["text-size"]),"text-max-width":new Wt(un.layout_symbol["text-max-width"]),"text-line-height":new Wt(un.layout_symbol["text-line-height"]),"text-letter-spacing":new Wt(un.layout_symbol["text-letter-spacing"]),"text-justify":new Wt(un.layout_symbol["text-justify"]),"text-radial-offset":new Wt(un.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ft(un.layout_symbol["text-variable-anchor"]),"text-anchor":new Wt(un.layout_symbol["text-anchor"]),"text-max-angle":new Ft(un.layout_symbol["text-max-angle"]),"text-writing-mode":new Ft(un.layout_symbol["text-writing-mode"]),"text-rotate":new Wt(un.layout_symbol["text-rotate"]),"text-padding":new Ft(un.layout_symbol["text-padding"]),"text-keep-upright":new Ft(un.layout_symbol["text-keep-upright"]),"text-transform":new Wt(un.layout_symbol["text-transform"]),"text-offset":new Wt(un.layout_symbol["text-offset"]),"text-allow-overlap":new Ft(un.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ft(un.layout_symbol["text-ignore-placement"]),"text-optional":new Ft(un.layout_symbol["text-optional"])});var K_={paint:new fr({"icon-opacity":new Wt(un.paint_symbol["icon-opacity"]),"icon-color":new Wt(un.paint_symbol["icon-color"]),"icon-halo-color":new Wt(un.paint_symbol["icon-halo-color"]),"icon-halo-width":new Wt(un.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Wt(un.paint_symbol["icon-halo-blur"]),"icon-translate":new Ft(un.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ft(un.paint_symbol["icon-translate-anchor"]),"text-opacity":new Wt(un.paint_symbol["text-opacity"]),"text-color":new Wt(un.paint_symbol["text-color"],{runtimeType:as,getOverride:_=>_.textColor,hasOverride:_=>!!_.textColor}),"text-halo-color":new Wt(un.paint_symbol["text-halo-color"]),"text-halo-width":new Wt(un.paint_symbol["text-halo-width"]),"text-halo-blur":new Wt(un.paint_symbol["text-halo-blur"]),"text-translate":new Ft(un.paint_symbol["text-translate"]),"text-translate-anchor":new Ft(un.paint_symbol["text-translate-anchor"])}),layout:hS};class Lv{constructor(h){this.type=h.property.overrides?h.property.overrides.runtimeType:ks,this.defaultValue=h}evaluate(h){if(h.formattedSection){const b=this.defaultValue.property.overrides;if(b&&b.hasOverride(h.formattedSection))return b.getOverride(h.formattedSection)}return h.feature&&h.featureState?this.defaultValue.evaluate(h.feature,h.featureState):this.defaultValue.property.specification.default}eachChild(h){this.defaultValue.isConstant()||h(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}Vn(Lv,"FormatSectionOverride",{omit:["defaultValue"]});class Gy extends ru{constructor(h){super(h,K_)}recalculate(h,b){super.recalculate(h,b),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment"));const _e=this.layout.get("text-writing-mode");if(_e){const rt=[];for(const it of _e)rt.indexOf(it)<0&&rt.push(it);this.layout._values["text-writing-mode"]=rt}else this.layout._values["text-writing-mode"]=this.layout.get("symbol-placement")==="point"?["horizontal"]:["horizontal","vertical"];this._setPaintOverrides()}getValueAndResolveTokens(h,b,_e,rt){const it=this.layout.get(h).evaluate(b,{},_e,rt),ht=this._unevaluatedLayout._values[h];return ht.isDataDriven()||Nu(ht.value)||!it?it:function(xt,Pt){return Pt.replace(/{([^{}]+)}/g,(Ut,$t)=>$t in xt?String(xt[$t]):"")}(b.properties,it)}createBucket(h){return new Ju(h)}queryRadius(){return 0}queryIntersectsFeature(){return!1}_setPaintOverrides(){for(const h of K_.paint.overridableProperties){if(!Gy.hasPaintOverride(this.layout,h))continue;const b=this.paint.get(h),_e=new Lv(b),rt=new Gp(_e,b.property.specification);let it=null;it=b.value.kind==="constant"||b.value.kind==="source"?new Bm("source",rt):new Nm("composite",rt,b.value.zoomStops,b.value._interpolationType),this.paint._values[h]=new Et(b.property,it,b.parameters)}}_handleOverridablePaintPropertyUpdate(h,b,_e){return!(!this.layout||b.isDataDriven()||_e.isDataDriven())&&Gy.hasPaintOverride(this.layout,h)}static hasPaintOverride(h,b){const _e=h.get("text-field"),rt=K_.paint.properties[b];let it=!1;const ht=xt=>{for(const Pt of xt)if(rt.overrides&&rt.overrides.hasOverride(Pt))return void(it=!0)};if(_e.value.kind==="constant"&&_e.value.value instanceof Ko)ht(_e.value.value.sections);else if(_e.value.kind==="source"){const xt=Ut=>{it||(Ut instanceof zs&&Co(Ut.value)===zl?ht(Ut.value.sections):Ut instanceof Pr?ht(Ut.sections):Ut.eachChild(xt))},Pt=_e.value;Pt._styleExpression&&xt(Pt._styleExpression.expression)}return it}getProgramConfiguration(h){return new $u(this,h)}}var dS={paint:new fr({"background-color":new Ft(un.paint_background["background-color"]),"background-pattern":new nr(un.paint_background["background-pattern"]),"background-opacity":new Ft(un.paint_background["background-opacity"])})},fS={paint:new fr({"raster-opacity":new Ft(un.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ft(un.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ft(un.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ft(un.paint_raster["raster-brightness-max"]),"raster-saturation":new Ft(un.paint_raster["raster-saturation"]),"raster-contrast":new Ft(un.paint_raster["raster-contrast"]),"raster-resampling":new Ft(un.paint_raster["raster-resampling"]),"raster-fade-duration":new Ft(un.paint_raster["raster-fade-duration"])})};class pS extends ru{constructor(h){super(h,{}),this.implementation=h}is3D(){return this.implementation.renderingMode==="3d"}hasOffscreenPass(){return this.implementation.prerender!==void 0}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){}onAdd(h){this.implementation.onAdd&&this.implementation.onAdd(h,h.painter.context.gl)}onRemove(h){this.implementation.onRemove&&this.implementation.onRemove(h,h.painter.context.gl)}}var gS={paint:new fr({"sky-type":new Ft(un.paint_sky["sky-type"]),"sky-atmosphere-sun":new Ft(un.paint_sky["sky-atmosphere-sun"]),"sky-atmosphere-sun-intensity":new Ft(un.paint_sky["sky-atmosphere-sun-intensity"]),"sky-gradient-center":new Ft(un.paint_sky["sky-gradient-center"]),"sky-gradient-radius":new Ft(un.paint_sky["sky-gradient-radius"]),"sky-gradient":new sr(un.paint_sky["sky-gradient"]),"sky-atmosphere-halo-color":new Ft(un.paint_sky["sky-atmosphere-halo-color"]),"sky-atmosphere-color":new Ft(un.paint_sky["sky-atmosphere-color"]),"sky-opacity":new Ft(un.paint_sky["sky-opacity"])})};function J_(_,h,b){const _e=[0,0,1],rt=N0([]);return function(it,ht,xt){xt*=.5;var Pt=ht[0],Ut=ht[1],$t=ht[2],Jt=ht[3],tr=Math.sin(xt),ur=Math.cos(xt);it[0]=Pt*ur-$t*tr,it[1]=Ut*ur+Jt*tr,it[2]=$t*ur+Pt*tr,it[3]=Jt*ur-Ut*tr}(rt,rt,b?-wt(_)+Math.PI:wt(_)),F0(rt,rt,-wt(h)),D0(_e,_e,rt),u1(_e,_e)}const mS={circle:class extends ru{constructor(_){super(_,kw)}createBucket(_){return new y_(_)}queryRadius(_){const h=_;return um("circle-radius",this,h)+um("circle-stroke-width",this,h)+Ry(this.paint.get("circle-translate"))}queryIntersectsFeature(_,h,b,_e,rt,it,ht,xt){const Pt=R0(this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),it.angle,_.pixelToTileUnitsFactor),Ut=this.paint.get("circle-radius").evaluate(h,b)+this.paint.get("circle-stroke-width").evaluate(h,b);return U0(_,_e,it,ht,xt,this.paint.get("circle-pitch-alignment")==="map",this.paint.get("circle-pitch-scale")==="map",Pt,Ut)}getProgramIds(){return["circle"]}getProgramConfiguration(_){return new $u(this,_)}},heatmap:class extends ru{createBucket(_){return new V0(_)}constructor(_){super(_,Vw),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(_){_==="heatmap-color"&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=I_({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)}queryRadius(_){return um("heatmap-radius",this,_)}queryIntersectsFeature(_,h,b,_e,rt,it,ht,xt){const Pt=this.paint.get("heatmap-radius").evaluate(h,b);return U0(_,_e,it,ht,xt,!0,!0,new gt(0,0),Pt)}hasOffscreenPass(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"}getProgramIds(){return["heatmap","heatmapTexture"]}getProgramConfiguration(_){return new $u(this,_)}},hillshade:class extends ru{constructor(_){super(_,Ww)}hasOffscreenPass(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"}getProgramIds(){return["hillshade","hillshadePrepare"]}},fill:class extends ru{constructor(_){super(_,sx)}getProgramIds(){const _=this.paint.get("fill-pattern"),h=_&&_.constantOr(1),b=[h?"fillPattern":"fill"];return this.paint.get("fill-antialias")&&b.push(h&&!this.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline"),b}getProgramConfiguration(_){return new $u(this,_)}recalculate(_,h){super.recalculate(_,h);const b=this.paint._values["fill-outline-color"];b.value.kind==="constant"&&b.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(_){return new Py(_)}queryRadius(){return Ry(this.paint.get("fill-translate"))}queryIntersectsFeature(_,h,b,_e,rt,it){return!_.queryGeometry.isAboveHorizon&&S0(C0(_.tilespaceGeometry,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),it.angle,_.pixelToTileUnitsFactor),_e)}isTileClipped(){return!0}},"fill-extrusion":class extends ru{constructor(_){super(_,_x)}createBucket(_){return new _1(_)}queryRadius(){return Ry(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}getProgramIds(){return[this.paint.get("fill-extrusion-pattern").constantOr(1)?"fillExtrusionPattern":"fillExtrusion"]}getProgramConfiguration(_){return new $u(this,_)}queryIntersectsFeature(_,h,b,_e,rt,it,ht,xt,Pt){const Ut=R0(this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),it.angle,_.pixelToTileUnitsFactor),$t=this.paint.get("fill-extrusion-height").evaluate(h,b),Jt=this.paint.get("fill-extrusion-base").evaluate(h,b),tr=[0,0],ur=xt&&it.elevation,gr=it.elevation?it.elevation.exaggeration():1,wr=_.tile.getBucket(this);if(ur&&wr instanceof _1){const Vr=wr.centroidVertexArray,Zr=Pt+1;if(Zr<Vr.length){const qr=Vr.get(Zr);tr[0]=qr.a_centroid_pos0,tr[1]=qr.a_centroid_pos1}}if(tr[0]===0&&tr[1]===1)return!1;const Tr=function(Vr,Zr,qr,Kr,Jr,mn,_n,Tn,Rn){return mn?function(fn,xn,Mn,Bn,Ln,Dn,uo,wo,co){const go=[],Kn=[],zn=[0,0,0,1];for(const Eo of fn){const Oo=[],gs=[];for(const Zo of Eo){const ms=Zo.x+Bn.x,Lo=Zo.y+Bn.y,To=vx(ms,Lo,xn,Mn,Dn,uo,wo,co);zn[0]=ms,zn[1]=Lo,zn[2]=To.base,zn[3]=1,hm(zn,zn,Ln),zn[3]=Math.max(zn[3],1e-5);const No=tv([zn[0]/zn[3],zn[1]/zn[3],zn[2]/zn[3]]);zn[0]=ms,zn[1]=Lo,zn[2]=To.top,zn[3]=1,hm(zn,zn,Ln),zn[3]=Math.max(zn[3],1e-5);const rs=tv([zn[0]/zn[3],zn[1]/zn[3],zn[2]/zn[3]]);Oo.push(No),gs.push(rs)}go.push(Oo),Kn.push(gs)}return[go,Kn]}(Vr,Zr,qr,Kr,Jr,mn,_n,Tn,Rn):function(fn,xn,Mn,Bn,Ln){const Dn=[],uo=[],wo=Ln[8]*xn,co=Ln[9]*xn,go=Ln[10]*xn,Kn=Ln[11]*xn,zn=Ln[8]*Mn,Eo=Ln[9]*Mn,Oo=Ln[10]*Mn,gs=Ln[11]*Mn;for(const Zo of fn){const ms=[],Lo=[];for(const To of Zo){const No=To.x+Bn.x,rs=To.y+Bn.y,os=Ln[0]*No+Ln[4]*rs+Ln[12],ys=Ln[1]*No+Ln[5]*rs+Ln[13],xs=Ln[2]*No+Ln[6]*rs+Ln[14],Il=Ln[3]*No+Ln[7]*rs+Ln[15],vl=os+wo,zo=ys+co,Zs=xs+go,Ol=Math.max(Il+Kn,1e-5),Ts=os+zn,Ss=ys+Eo,Xo=xs+Oo,$o=Math.max(Il+gs,1e-5),wl=new gt(vl/Ol,zo/Ol);wl.z=Zs/Ol,ms.push(wl);const $s=new gt(Ts/$o,Ss/$o);$s.z=Xo/$o,Lo.push($s)}Dn.push(ms),uo.push(Lo)}return[Dn,uo]}(Vr,Zr,qr,Kr,Jr)}(_e,Jt,$t,Ut,ht,ur?xt:null,tr,gr,it.center.lat),Lr=_.queryGeometry;return function(Vr,Zr,qr){let Kr=1/0;S0(qr,Zr)&&(Kr=ev(qr,Zr[0]));for(let Jr=0;Jr<Zr.length;Jr++){const mn=Zr[Jr],_n=Vr[Jr];for(let Tn=0;Tn<mn.length-1;Tn++){const Rn=mn[Tn],fn=[Rn,mn[Tn+1],_n[Tn+1],_n[Tn],Rn];x0(qr,fn)&&(Kr=Math.min(Kr,ev(qr,fn)))}}return Kr!==1/0&&Kr}(Tr[0],Tr[1],Lr.isPointQuery()?Lr.screenBounds:Lr.screenGeometry)}},line:class extends ru{constructor(_){super(_,rv),this.gradientVersion=0}_handleSpecialPaintPropertyUpdate(_){if(_==="line-gradient"){const h=this._transitionablePaint._values["line-gradient"].value.expression;this.stepInterpolant=h._styleExpression&&h._styleExpression.expression instanceof ip,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(_,h){super.recalculate(_,h),this.paint._values["line-floorwidth"]=nv.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,_)}createBucket(_){return new Dy(_)}getProgramIds(){return[this.paint.get("line-pattern").constantOr(1)?"linePattern":"line"]}getProgramConfiguration(_){return new $u(this,_)}queryRadius(_){const h=_,b=iv(um("line-width",this,h),um("line-gap-width",this,h)),_e=um("line-offset",this,h);return b/2+Math.abs(_e)+Ry(this.paint.get("line-translate"))}queryIntersectsFeature(_,h,b,_e,rt,it){if(_.queryGeometry.isAboveHorizon)return!1;const ht=C0(_.tilespaceGeometry,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),it.angle,_.pixelToTileUnitsFactor),xt=_.pixelToTileUnitsFactor/2*iv(this.paint.get("line-width").evaluate(h,b),this.paint.get("line-gap-width").evaluate(h,b)),Pt=this.paint.get("line-offset").evaluate(h,b);return Pt&&(_e=function(Ut,$t){const Jt=[],tr=new gt(0,0);for(let ur=0;ur<Ut.length;ur++){const gr=Ut[ur],wr=[];for(let Tr=0;Tr<gr.length;Tr++){const Lr=gr[Tr-1],Vr=gr[Tr],Zr=gr[Tr+1],qr=Tr===0?tr:Vr.sub(Lr)._unit()._perp(),Kr=Tr===gr.length-1?tr:Zr.sub(Vr)._unit()._perp(),Jr=qr._add(Kr)._unit();Jr._mult(1/(Jr.x*Kr.x+Jr.y*Kr.y)),wr.push(Jr._mult($t)._add(Vr))}Jt.push(wr)}return Jt}(_e,Pt*_.pixelToTileUnitsFactor)),function(Ut,$t,Jt){for(let tr=0;tr<$t.length;tr++){const ur=$t[tr];if(Ut.length>=3){for(let gr=0;gr<ur.length;gr++)if(lm(Ut,ur[gr]))return!0}if(Ow(Ut,ur,Jt))return!0}return!1}(ht,_e,xt)}isTileClipped(){return!0}},symbol:Gy,background:class extends ru{constructor(_){super(_,dS)}getProgramIds(){return[this.paint.get("background-pattern")?"backgroundPattern":"background"]}},raster:class extends ru{constructor(_){super(_,fS)}getProgramIds(){return["raster"]}},sky:class extends ru{constructor(_){super(_,gS),this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(_){_==="sky-gradient"?this._updateColorRamp():_!=="sky-atmosphere-sun"&&_!=="sky-atmosphere-halo-color"&&_!=="sky-atmosphere-color"&&_!=="sky-atmosphere-sun-intensity"||(this._skyboxInvalidated=!0)}_updateColorRamp(){this.colorRamp=I_({expression:this._transitionablePaint._values["sky-gradient"].value.expression,evaluationKey:"skyRadialProgress"}),this.colorRampTexture&&(this.colorRampTexture.destroy(),this.colorRampTexture=null)}needsSkyboxCapture(_){if(this._skyboxInvalidated||!this.skyboxTexture||!this.skyboxGeometry)return!0;if(!this.paint.get("sky-atmosphere-sun")){const h=_.style.light.properties.get("position");return this._lightPosition.azimuthal!==h.azimuthal||this._lightPosition.polar!==h.polar}return!1}getCenter(_,h){if(this.paint.get("sky-type")==="atmosphere"){const _e=this.paint.get("sky-atmosphere-sun"),rt=!_e,it=_.style.light,ht=it.properties.get("position");return rt&&it.properties.get("anchor")==="viewport"&&Qt("The sun direction is attached to a light with viewport anchor, lighting may behave unexpectedly."),rt?J_(ht.azimuthal,90-ht.polar,h):J_(_e[0],90-_e[1],h)}const b=this.paint.get("sky-gradient-center");return J_(b[0],90-b[1],h)}is3D(){return!1}isSky(){return!0}markSkyboxValid(_){this._skyboxInvalidated=!1,this._lightPosition=_.style.light.properties.get("position")}hasOffscreenPass(){return!0}getProgramIds(){const _=this.paint.get("sky-type");return _==="atmosphere"?["skyboxCapture","skybox"]:_==="gradient"?["skyboxGradient"]:null}}};class E1{constructor(h,b,_e,rt){this.context=h,this.format=_e,this.texture=h.gl.createTexture(),this.update(b,rt)}update(h,b,_e){const{width:rt,height:it}=h,{context:ht}=this,{gl:xt}=ht,{HTMLImageElement:Pt,HTMLCanvasElement:Ut,HTMLVideoElement:$t,ImageData:Jt,ImageBitmap:tr}=ft;if(xt.bindTexture(xt.TEXTURE_2D,this.texture),ht.pixelStoreUnpackFlipY.set(!1),ht.pixelStoreUnpack.set(1),ht.pixelStoreUnpackPremultiplyAlpha.set(this.format===xt.RGBA&&(!b||b.premultiply!==!1)),_e||this.size&&this.size[0]===rt&&this.size[1]===it){const{x:ur,y:gr}=_e||{x:0,y:0};h instanceof Pt||h instanceof Ut||h instanceof $t||h instanceof Jt||tr&&h instanceof tr?xt.texSubImage2D(xt.TEXTURE_2D,0,ur,gr,xt.RGBA,xt.UNSIGNED_BYTE,h):xt.texSubImage2D(xt.TEXTURE_2D,0,ur,gr,rt,it,xt.RGBA,xt.UNSIGNED_BYTE,h.data)}else this.size=[rt,it],h instanceof Pt||h instanceof Ut||h instanceof $t||h instanceof Jt||tr&&h instanceof tr?xt.texImage2D(xt.TEXTURE_2D,0,this.format,this.format,xt.UNSIGNED_BYTE,h):xt.texImage2D(xt.TEXTURE_2D,0,this.format,rt,it,0,this.format,xt.UNSIGNED_BYTE,h.data);this.useMipmap=Boolean(b&&b.useMipmap&&this.isSizePowerOfTwo()),this.useMipmap&&xt.generateMipmap(xt.TEXTURE_2D)}bind(h,b){const{context:_e}=this,{gl:rt}=_e;rt.bindTexture(rt.TEXTURE_2D,this.texture),h!==this.filter&&(rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MAG_FILTER,h),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_MIN_FILTER,this.useMipmap?h===rt.NEAREST?rt.NEAREST_MIPMAP_NEAREST:rt.LINEAR_MIPMAP_NEAREST:h),this.filter=h),b!==this.wrap&&(rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_S,b),rt.texParameteri(rt.TEXTURE_2D,rt.TEXTURE_WRAP_T,b),this.wrap=b)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:h}=this.context;h.deleteTexture(this.texture),this.texture=null}}class Q_{constructor(h,b){this.width=h,this.height=b,this.nextRow=0,this.image=new Iu({width:h,height:b}),this.positions={},this.uploaded=!1}getDash(h,b){const _e=this.getKey(h,b);return this.positions[_e]}trim(){const h=this.width,b=this.height=kt(this.nextRow);this.image.resize({width:h,height:b})}getKey(h,b){return h.join(",")+b}getDashRanges(h,b,_e){const rt=[];let it=h.length%2==1?-h[h.length-1]*_e:0,ht=h[0]*_e,xt=!0;rt.push({left:it,right:ht,isDash:xt,zeroLength:h[0]===0});let Pt=h[0];for(let Ut=1;Ut<h.length;Ut++){xt=!xt;const $t=h[Ut];it=Pt*_e,Pt+=$t,ht=Pt*_e,rt.push({left:it,right:ht,isDash:xt,zeroLength:$t===0})}return rt}addRoundDash(h,b,_e){const rt=b/2;for(let it=-_e;it<=_e;it++){const ht=this.width*(this.nextRow+_e+it);let xt=0,Pt=h[xt];for(let Ut=0;Ut<this.width;Ut++){Ut/Pt.right>1&&(Pt=h[++xt]);const $t=Math.abs(Ut-Pt.left),Jt=Math.abs(Ut-Pt.right),tr=Math.min($t,Jt);let ur;const gr=it/_e*(rt+1);if(Pt.isDash){const wr=rt-Math.abs(gr);ur=Math.sqrt(tr*tr+wr*wr)}else ur=rt-Math.sqrt(tr*tr+gr*gr);this.image.data[ht+Ut]=Math.max(0,Math.min(255,ur+128))}}}addRegularDash(h,b){for(let Pt=h.length-1;Pt>=0;--Pt){const Ut=h[Pt],$t=h[Pt+1];Ut.zeroLength?h.splice(Pt,1):$t&&$t.isDash===Ut.isDash&&($t.left=Ut.left,h.splice(Pt,1))}const _e=h[0],rt=h[h.length-1];_e.isDash===rt.isDash&&(_e.left=rt.left-this.width,rt.right=_e.right+this.width);const it=this.width*this.nextRow;let ht=0,xt=h[ht];for(let Pt=0;Pt<this.width;Pt++){Pt/xt.right>1&&(xt=h[++ht]);const Ut=Math.abs(Pt-xt.left),$t=Math.abs(Pt-xt.right),Jt=Math.min(Ut,$t);this.image.data[it+Pt]=Math.max(0,Math.min(255,(xt.isDash?Jt:-Jt)+b+128))}}addDash(h,b){const _e=this.getKey(h,b);if(this.positions[_e])return this.positions[_e];const rt=b==="round",it=rt?7:0,ht=2*it+1;if(this.nextRow+ht>this.height)return Qt("LineAtlas out of space"),null;h.length===0&&h.push(1);let xt=0;for(let $t=0;$t<h.length;$t++)h[$t]<0&&(Qt("Negative value is found in line dasharray, replacing values with 0"),h[$t]=0),xt+=h[$t];if(xt!==0){const $t=this.width/xt,Jt=this.getDashRanges(h,this.width,$t);rt?this.addRoundDash(Jt,$t,it):this.addRegularDash(Jt,b==="square"?.5*$t:0)}const Pt=this.nextRow+it;this.nextRow+=ht;const Ut={tl:[Pt,it],br:[xt,0]};return this.positions[_e]=Ut,Ut}}Vn(Q_,"LineAtlas");class yS{constructor(h){this._callback=h,this._triggered=!1,typeof MessageChannel!="undefined"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._callback()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._callback()},0))}remove(){this._channel=void 0,this._callback=()=>{}}}const _S=ft.performance;function jv(_){const h=_?_.url.toString():void 0;return _S.getEntriesByName(h)}class vS{constructor(){this.tasks={},this.taskQueue=[],Dt(["process"],this),this.invoker=new yS(this.process),this.nextId=0}add(h,b){const _e=this.nextId++,rt=function({type:it,isSymbolTile:ht,zoom:xt}){return xt=xt||0,it==="message"?0:it!=="maybePrepare"||ht?it!=="parseTile"||ht?it==="parseTile"&&ht?300-xt:it==="maybePrepare"&&ht?400-xt:500:200-xt:100-xt}(b);if(rt===0){qt();try{h()}finally{}return{cancel:()=>{}}}return this.tasks[_e]={fn:h,metadata:b,priority:rt,id:_e},this.taskQueue.push(_e),this.invoker.trigger(),{cancel:()=>{delete this.tasks[_e]}}}process(){qt();try{if(this.taskQueue=this.taskQueue.filter(_e=>!!this.tasks[_e]),!this.taskQueue.length)return;const h=this.pick();if(h===null)return;const b=this.tasks[h];if(delete this.tasks[h],this.taskQueue.length&&this.invoker.trigger(),!b)return;b.fn()}finally{}}pick(){let h=null,b=1/0;for(let rt=0;rt<this.taskQueue.length;rt++){const it=this.tasks[this.taskQueue[rt]];it.priority<b&&(b=it.priority,h=rt)}if(h===null)return null;const _e=this.taskQueue[h];return this.taskQueue.splice(h,1),_e}remove(){this.invoker.remove()}}const bS=Nr([{type:"Float32",name:"a_globe_pos",components:3},{type:"Float32",name:"a_merc_pos",components:2},{type:"Float32",name:"a_uv",components:2}]),wS=Nr([{type:"Float32",name:"a_pos",components:3},{type:"Float32",name:"a_uv",components:2}]),{members:Pv}=bS,kv=Nr([{name:"a_pos_3",components:3,type:"Int16"}]);var T1=Nr([{name:"a_pos",type:"Int16",components:2}]);const bm=fo/Math.PI/2,Rl=-bm,Ml=bm,xS=[new Nl([Rl,Rl,Rl],[Ml,Ml,Ml]),new Nl([Rl,Rl,Rl],[0,0,Ml]),new Nl([0,Rl,Rl],[Ml,0,Ml]),new Nl([Rl,0,Rl],[0,Ml,Ml]),new Nl([0,0,Rl],[Ml,Ml,Ml])];class SS{constructor(h,b,_e){this.a=cm([],h,_e),this.b=cm([],b,_e),this.center=_e;const rt=u1([],this.a),it=u1([],this.b);this.angle=Math.acos(c1(rt,it))}}function e0(_,h){if(_.angle===0)return null;let b;return b=_.a[h]===0?1/_.angle*.5*Math.PI:1/_.angle*Math.atan(_.b[h]/_.a[h]/Math.sin(_.angle)-1/Math.tan(_.angle)),b<0||b>1?null:function(_e,rt,it,ht){const xt=Math.sin(it);return _e*(Math.sin((1-ht)*it)/xt)+rt*(Math.sin(ht*it)/xt)}(_.a[h],_.b[h],_.angle,Lt(b,0,1))+_.center[h]}function A1(_){if(_.z<=1)return xS[_.z+2*_.y+_.x];const[h,b]=t0(_),_e=[ju(h[0],h[1]),ju(h[0],b[1]),ju(b[0],h[1]),ju(b[0],b[1])],rt=[Ml,Ml,Ml],it=[Rl,Rl,Rl];for(const ht of _e)rt[0]=Math.min(rt[0],ht[0]),rt[1]=Math.min(rt[1],ht[1]),rt[2]=Math.min(rt[2],ht[2]),it[0]=Math.max(it[0],ht[0]),it[1]=Math.max(it[1],ht[1]),it[2]=Math.max(it[2],ht[2]);return new Nl(rt,it)}function ES(_,h,b){const _e=h/_.worldSize,rt=(xn,Mn)=>{l1(xn,xn,_e),l1(Mn,Mn,_e)},it=Number.MAX_VALUE,ht=[-it,-it,-it],xt=[it,it,it],Pt=Uv(_);if(b.z<=1){const xn=A1(b).getCorners();for(let Mn=0;Mn<xn.length;Mn++)Mp(xn[Mn],xn[Mn],Pt),T_(xt,xt,xn[Mn]),A_(ht,ht,xn[Mn]);return rt(xt,ht),new Nl(xt,ht)}const[Ut,$t]=t0(b),Jt=new qu;Jt.setSouthWest([Ut[1],$t[0]]),Jt.setNorthEast([$t[1],Ut[0]]);const tr=[ju(Jt.getSouth(),Jt.getWest()),ju(Jt.getSouth(),Jt.getEast()),ju(Jt.getNorth(),Jt.getEast()),ju(Jt.getNorth(),Jt.getWest())];for(let xn=0;xn<tr.length;xn++)Mp(tr[xn],tr[xn],Pt),T_(xt,xt,tr[xn]),A_(ht,ht,tr[xn]);if(Jt.contains(_.center))return ht[2]=0,rt(xt,ht),new Nl(xt,ht);const ur=[Pt[12],Pt[13],Pt[14]],gr=_.center.lng,wr=Lt(_.center.lat,-85.051129,pu),Tr=[s1(gr),sm(wr)],Lr=Jt.getCenter().lng,Vr=Lt(Jt.getCenter().lat,-85.051129,pu),Zr=[s1(Lr),sm(Vr)];let qr=new Array(3),Kr=0;const Jr=Tr[0]-Zr[0],mn=Tr[1]-Zr[1];if(Math.abs(Jr)>Math.abs(mn))Kr=Jr>=0?1:3,qr=ur;else{Kr=mn>=0?0:2;const xn=[Pt[4],Pt[5],Pt[6]];let Mn;Mn=mn>=0?-Math.sin(wt(Jt.getSouth()))*bm:-Math.sin(wt(Jt.getNorth()))*bm,qr=C_(qr,ur,xn,Mn)}const _n=tr[Kr],Tn=tr[(Kr+1)%4],Rn=new SS(_n,Tn,qr),fn=[e0(Rn,0)||_n[0],e0(Rn,1)||_n[1],e0(Rn,2)||_n[2]];return xt[2]=Math.min(_n[2],Tn[2]),T_(xt,xt,fn),A_(ht,ht,fn),rt(xt,ht),new Nl(xt,ht)}function t0(_){const h=1<<_.z,b=_.x/h,_e=(_.x+1)/h,rt=(_.y+1)/h;return[[Ls(_.y/h),Hl(b)],[Ls(rt),Hl(_e)]]}function Dv(_,h,b,_e=bm){return b=wt(b),[_*Math.sin(b)*_e,-h*_e,_*Math.cos(b)*_e]}function ju(_,h,b){return Dv(Math.cos(wt(_)),Math.sin(wt(_)),h,b)}function Bv(_,h,b){const _e=Math.pow(2,b.z),rt=(_/fo+b.x)/_e;return ju(Ls((h/fo+b.y)/_e),Hl(rt))}function r0(_){return 16383/Math.max(...cm([],_.max,_.min))}function Nv(_){const h=gu(new Float64Array(16)),b=r0(_);var _e,rt;return Yu(h,h,[b,b,b]),Rp(h,h,((_e=[])[0]=-(rt=_.min)[0],_e[1]=-rt[1],_e[2]=-rt[2],_e)),h}function Fv(_,h,b,_e,rt){const it=function(Pt){const Ut=fo/(2*Math.PI);return Pt/(2*Math.PI)/Ut}(b),ht=[_,h,-b/(2*Math.PI)],xt=gu(new Float64Array(16));return Rp(xt,xt,ht),Yu(xt,xt,[it,it,it]),x_(xt,xt,wt(-rt)),S_(xt,xt,wt(-_e)),xt}function Uv(_){const{x:h,y:b}=_.point,{lng:_e,lat:rt}=_._center;return Fv(h,b,_.worldSize,_e,rt)}const zv=wt(85),TS=Math.cos(zv),AS=Math.sin(zv);function Vv(_,h,b){var _e=2*Math.PI*6378137/256/Math.pow(2,b);return[_*_e-2*Math.PI*6378137/2,h*_e-2*Math.PI*6378137/2]}class Zy{constructor(h,b,_e){this.z=h,this.x=b,this.y=_e,this.key=C1(0,h,h,b,_e)}equals(h){return this.z===h.z&&this.x===h.x&&this.y===h.y}url(h,b){const _e=function(it,ht,xt){var Pt=Vv(256*it,256*(ht=Math.pow(2,xt)-ht-1),xt),Ut=Vv(256*(it+1),256*(ht+1),xt);return Pt[0]+","+Pt[1]+","+Ut[0]+","+Ut[1]}(this.x,this.y,this.z),rt=function(it,ht,xt){let Pt,Ut="";for(let $t=it;$t>0;$t--)Pt=1<<$t-1,Ut+=(ht&Pt?1:0)+(xt&Pt?2:0);return Ut}(this.z,this.x,this.y);return h[(this.x+this.y)%h.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(b==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",rt).replace("{bbox-epsg-3857}",_e)}toString(){return`${this.z}/${this.x}/${this.y}`}}class Wv{constructor(h,b){this.wrap=h,this.canonical=b,this.key=C1(h,b.z,b.z,b.x,b.y)}}class Gs{constructor(h,b,_e,rt,it){this.overscaledZ=h,this.wrap=b,this.canonical=new Zy(_e,+rt,+it),this.key=b===0&&h===_e?this.canonical.key:C1(b,h,_e,rt,it)}equals(h){return this.overscaledZ===h.overscaledZ&&this.wrap===h.wrap&&this.canonical.equals(h.canonical)}scaledTo(h){const b=this.canonical.z-h;return h>this.canonical.z?new Gs(h,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Gs(h,this.wrap,h,this.canonical.x>>b,this.canonical.y>>b)}calculateScaledKey(h,b=!0){if(this.overscaledZ===h&&b)return this.key;if(h>this.canonical.z)return C1(this.wrap*+b,h,this.canonical.z,this.canonical.x,this.canonical.y);{const _e=this.canonical.z-h;return C1(this.wrap*+b,h,h,this.canonical.x>>_e,this.canonical.y>>_e)}}isChildOf(h){if(h.wrap!==this.wrap)return!1;const b=this.canonical.z-h.canonical.z;return h.overscaledZ===0||h.overscaledZ<this.overscaledZ&&h.canonical.x===this.canonical.x>>b&&h.canonical.y===this.canonical.y>>b}children(h){if(this.overscaledZ>=h)return[new Gs(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const b=this.canonical.z+1,_e=2*this.canonical.x,rt=2*this.canonical.y;return[new Gs(b,this.wrap,b,_e,rt),new Gs(b,this.wrap,b,_e+1,rt),new Gs(b,this.wrap,b,_e,rt+1),new Gs(b,this.wrap,b,_e+1,rt+1)]}isLessThan(h){return this.wrap<h.wrap||!(this.wrap>h.wrap)&&(this.overscaledZ<h.overscaledZ||!(this.overscaledZ>h.overscaledZ)&&(this.canonical.x<h.canonical.x||!(this.canonical.x>h.canonical.x)&&this.canonical.y<h.canonical.y))}wrapped(){return new Gs(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(h){return new Gs(this.overscaledZ,h,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new Wv(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}}function C1(_,h,b,_e,rt){const it=1<<Math.min(b,22);let ht=it*(rt%it)+_e%it;return _&&b<22&&(ht+=it*it*((_<0?-2*_-1:2*_)%(1<<2*(22-b)))),16*(32*ht+b)+(h-b)}function Op(_,h){if(!h.isReprojectedInTileSpace)return{scale:1<<_.z,x:_.x,y:_.y,x2:_.x+1,y2:_.y+1,projection:h};const b=Math.pow(2,-_.z),_e=_.x*b,rt=(_.x+1)*b,it=_.y*b,ht=(_.y+1)*b,xt=Hl(_e),Pt=Hl(rt),Ut=Ls(it),$t=Ls(ht),Jt=h.project(xt,Ut),tr=h.project(Pt,Ut),ur=h.project(Pt,$t),gr=h.project(xt,$t);let wr=Math.min(Jt.x,tr.x,ur.x,gr.x),Tr=Math.min(Jt.y,tr.y,ur.y,gr.y),Lr=Math.max(Jt.x,tr.x,ur.x,gr.x),Vr=Math.max(Jt.y,tr.y,ur.y,gr.y);const Zr=b/16;function qr(Jr,mn,_n,Tn,Rn,fn){const xn=(_n+Rn)/2,Mn=(Tn+fn)/2,Bn=h.project(Hl(xn),Ls(Mn)),Ln=Math.max(0,wr-Bn.x,Tr-Bn.y,Bn.x-Lr,Bn.y-Vr);wr=Math.min(wr,Bn.x),Lr=Math.max(Lr,Bn.x),Tr=Math.min(Tr,Bn.y),Vr=Math.max(Vr,Bn.y),Ln>Zr&&(qr(Jr,Bn,_n,Tn,xn,Mn),qr(Bn,mn,xn,Mn,Rn,fn))}qr(Jt,tr,_e,it,rt,it),qr(tr,ur,rt,it,rt,ht),qr(ur,gr,rt,ht,_e,ht),qr(gr,Jt,_e,ht,_e,it),wr-=Zr,Tr-=Zr,Lr+=Zr,Vr+=Zr;const Kr=1/Math.max(Lr-wr,Vr-Tr);return{scale:Kr,x:wr*Kr,y:Tr*Kr,x2:Lr*Kr,y2:Vr*Kr,projection:h}}Vn(Zy,"CanonicalTileID"),Vn(Gs,"OverscaledTileID",{omit:["projMatrix"]});class Hv{constructor(h){this._stringToNumber={},this._numberToString=[];for(let b=0;b<h.length;b++){const _e=h[b];this._stringToNumber[_e]=b,this._numberToString[b]=_e}}encode(h){return this._stringToNumber[h]}decode(h){return this._numberToString[h]}}const CS=["tile","layer","source","sourceLayer","state"];class Gv{constructor(h,b,_e,rt,it){this.type="Feature",this._vectorTileFeature=h,this._z=b,this._x=_e,this._y=rt,this.properties=h.properties,this.id=it}get geometry(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._x,this._y,this._z).geometry),this._geometry}set geometry(h){this._geometry=h}toJSON(){const h={type:"Feature",geometry:this.geometry,properties:this.properties};this.id!==void 0&&(h.id=this.id);for(const b of CS)this[b]!==void 0&&(h[b]=this[b]);return h}}const Gl=32,yu=33,Qu=new Uint16Array(8184);for(let _=0;_<2046;_++){let h=_+2,b=0,_e=0,rt=0,it=0,ht=0,xt=0;for(1&h?rt=it=ht=Gl:b=_e=xt=Gl;(h>>=1)>1;){const Ut=b+rt>>1,$t=_e+it>>1;1&h?(rt=b,it=_e,b=ht,_e=xt):(b=rt,_e=it,rt=ht,it=xt),ht=Ut,xt=$t}const Pt=4*_;Qu[Pt+0]=b,Qu[Pt+1]=_e,Qu[Pt+2]=rt,Qu[Pt+3]=it}const _u=new Uint16Array(2178),_c=new Uint8Array(1089),$y=new Uint16Array(1089);function Zv(_){return _===0?-.03125:_===32?.03125:0}var $v=Nr([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);const qv={type:2,extent:fo,loadGeometry:()=>[[new gt(0,0),new gt(8193,0),new gt(8193,8193),new gt(0,8193),new gt(0,0)]]};class n0{constructor(h,b,_e,rt,it){this.tileID=h,this.uid=jt(),this.uses=0,this.tileSize=b,this.tileZoom=_e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.isRaster=it,this.expiredRequestCount=0,this.state="loading",rt&&rt.transform&&(this.projection=rt.transform.projection)}registerFadeDuration(h){const b=h+this.timeAdded;b<_r.now()||this.fadeEndTime&&b<this.fadeEndTime||(this.fadeEndTime=b)}wasRequested(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"}get tileTransform(){return this._tileTransform||(this._tileTransform=Op(this.tileID.canonical,this.projection)),this._tileTransform}loadVectorData(h,b,_e){if(this.unloadVectorData(),this.state="loaded",h){h.featureIndex&&(this.latestFeatureIndex=h.featureIndex,h.rawTileData?(this.latestRawTileData=h.rawTileData,this.latestFeatureIndex.rawTileData=h.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=h.collisionBoxArray,this.buckets=function(rt,it){const ht={};if(!it)return ht;for(const xt of rt){const Pt=xt.layerIds.map(Ut=>it.getLayer(Ut)).filter(Boolean);if(Pt.length!==0){xt.layers=Pt,xt.stateDependentLayerIds&&(xt.stateDependentLayers=xt.stateDependentLayerIds.map(Ut=>Pt.filter($t=>$t.id===Ut)[0]));for(const Ut of Pt)ht[Ut.id]=xt}}return ht}(h.buckets,b.style),this.hasSymbolBuckets=!1;for(const rt in this.buckets){const it=this.buckets[rt];if(it instanceof Ju){if(this.hasSymbolBuckets=!0,!_e)break;it.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const rt in this.buckets){const it=this.buckets[rt];if(it instanceof Ju&&it.hasRTLText){this.hasRTLText=!0,El.isLoading()||El.isLoaded()||im()!=="deferred"||Wu();break}}this.queryPadding=0;for(const rt in this.buckets){const it=this.buckets[rt];this.queryPadding=Math.max(this.queryPadding,b.style.getLayer(rt).queryRadius(it))}h.imageAtlas&&(this.imageAtlas=h.imageAtlas),h.glyphAtlasImage&&(this.glyphAtlasImage=h.glyphAtlasImage),h.lineAtlas&&(this.lineAtlas=h.lineAtlas)}else this.collisionBoxArray=new Ql}unloadVectorData(){if(this.hasData()){for(const h in this.buckets)this.buckets[h].destroy();this.buckets={},this.imageAtlas&&(this.imageAtlas=null),this.lineAtlas&&(this.lineAtlas=null),this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.lineAtlasTexture&&this.lineAtlasTexture.destroy(),this._tileBoundsBuffer&&(this._tileBoundsBuffer.destroy(),this._tileBoundsIndexBuffer.destroy(),this._tileBoundsSegments.destroy(),this._tileBoundsBuffer=null),this._tileDebugBuffer&&(this._tileDebugBuffer.destroy(),this._tileDebugIndexBuffer.destroy(),this._tileDebugSegments.destroy(),this._tileDebugBuffer=null),this._globeTileDebugBorderBuffer&&(this._globeTileDebugBorderBuffer.destroy(),this._globeTileDebugBorderBuffer=null),this._tileDebugTextBuffer&&(this._tileDebugTextBuffer.destroy(),this._tileDebugTextSegments.destroy(),this._tileDebugTextIndexBuffer.destroy(),this._tileDebugTextBuffer=null),this._globeTileDebugTextBuffer&&(this._globeTileDebugTextBuffer.destroy(),this._globeTileDebugTextBuffer=null),this.latestFeatureIndex=null,this.state="unloaded"}}getBucket(h){return this.buckets[h.id]}upload(h){for(const _e in this.buckets){const rt=this.buckets[_e];rt.uploadPending()&&rt.upload(h)}const b=h.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new E1(h,this.imageAtlas.image,b.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new E1(h,this.glyphAtlasImage,b.ALPHA),this.glyphAtlasImage=null),this.lineAtlas&&!this.lineAtlas.uploaded&&(this.lineAtlasTexture=new E1(h,this.lineAtlas.image,b.ALPHA),this.lineAtlas.uploaded=!0)}prepare(h){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(h,this.imageAtlasTexture)}queryRenderedFeatures(h,b,_e,rt,it,ht,xt,Pt){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({tileResult:rt,pixelPosMatrix:xt,transform:ht,params:it,tileTransform:this.tileTransform},h,b,_e):{}}querySourceFeatures(h,b){const _e=this.latestFeatureIndex;if(!_e||!_e.rawTileData)return;const rt=_e.loadVTLayers(),it=b?b.sourceLayer:"",ht=rt._geojsonTileLayer||rt[it];if(!ht)return;const xt=lu(b&&b.filter),{z:Pt,x:Ut,y:$t}=this.tileID.canonical,Jt={z:Pt,x:Ut,y:$t};for(let tr=0;tr<ht.length;tr++){const ur=ht.feature(tr);if(xt.needGeometry){const Tr=Cp(ur,!0);if(!xt.filter(new Go(this.tileID.overscaledZ),Tr,this.tileID.canonical))continue}else if(!xt.filter(new Go(this.tileID.overscaledZ),ur))continue;const gr=_e.getId(ur,it),wr=new Gv(ur,Pt,Ut,$t,gr);wr.tile=Jt,h.push(wr)}}hasData(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"}patternsLoaded(){return!!this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(h){const b=this.expirationTime;if(h.cacheControl){const _e=Gt(h.cacheControl);_e["max-age"]&&(this.expirationTime=Date.now()+1e3*_e["max-age"])}else h.expires&&(this.expirationTime=new Date(h.expires).getTime());if(this.expirationTime){const _e=Date.now();let rt=!1;if(this.expirationTime>_e)rt=!1;else if(b)if(this.expirationTime<b)rt=!0;else{const it=this.expirationTime-b;it?this.expirationTime=_e+Math.max(it,3e4):rt=!0}else rt=!0;rt?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)}setFeatureState(h,b){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||Object.keys(h).length===0||!b)return;const _e=this.latestFeatureIndex.loadVTLayers(),rt=b.style.listImages();for(const it in this.buckets){if(!b.style.hasLayer(it))continue;const ht=this.buckets[it],xt=ht.layers[0].sourceLayer||"_geojsonTileLayer",Pt=_e[xt],Ut=h[xt];if(!Pt||!Ut||Object.keys(Ut).length===0)continue;if(ht.update(Ut,Pt,rt,this.imageAtlas&&this.imageAtlas.patternPositions||{}),ht instanceof Dy||ht instanceof Py){const Jt=b.style._getSourceCache(ht.layers[0].source);b._terrain&&b._terrain.enabled&&Jt&&ht.programConfigurations.needsUpload&&b._terrain._clearRenderCacheForTile(Jt.id,this.tileID)}const $t=b&&b.style&&b.style.getLayer(it);$t&&(this.queryPadding=Math.max(this.queryPadding,$t.queryRadius(ht)))}}holdingForFade(){return this.symbolFadeHoldUntil!==void 0}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<_r.now()}clearFadeHold(){this.symbolFadeHoldUntil=void 0}setHoldDuration(h){this.symbolFadeHoldUntil=_r.now()+h}setTexture(h,b){const _e=b.context,rt=_e.gl;this.texture=b.getTileTexture(h.width),this.texture?this.texture.update(h,{useMipmap:!0}):(this.texture=new E1(_e,h,rt.RGBA,{useMipmap:!0}),this.texture.bind(rt.LINEAR,rt.CLAMP_TO_EDGE),_e.extTextureFilterAnisotropic&&rt.texParameterf(rt.TEXTURE_2D,_e.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,_e.extTextureFilterAnisotropicMax))}setDependencies(h,b){const _e={};for(const rt of b)_e[rt]=!0;this.dependencies[h]=_e}hasDependency(h,b){for(const _e of h){const rt=this.dependencies[_e];if(rt){for(const it of b)if(rt[it])return!0}}return!1}clearQueryDebugViz(){}_makeDebugTileBoundsBuffers(h,b){if(!b||b.name==="mercator"||this._tileDebugBuffer)return;const _e=Mu(qv,this.tileID.canonical,this.tileTransform)[0],rt=new kr,it=new Ao;for(let ht=0;ht<_e.length;ht++){const{x:xt,y:Pt}=_e[ht];rt.emplaceBack(xt,Pt),it.emplaceBack(ht)}it.emplaceBack(0),this._tileDebugIndexBuffer=h.createIndexBuffer(it),this._tileDebugBuffer=h.createVertexBuffer(rt,T1.members),this._tileDebugSegments=is.simpleSegment(0,0,rt.length,it.length)}_makeTileBoundsBuffers(h,b){if(this._tileBoundsBuffer||!b||b.name==="mercator")return;const _e=Mu(qv,this.tileID.canonical,this.tileTransform)[0];let rt,it;if(this.isRaster){const ht=function(xt,Pt){const Ut=Op(xt,Pt),$t=Math.pow(2,xt.z);for(let Tr=0;Tr<yu;Tr++)for(let Lr=0;Lr<yu;Lr++){const Vr=Hl((xt.x+(Lr+Zv(Lr))/Gl)/$t),Zr=Ls((xt.y+(Tr+Zv(Tr))/Gl)/$t),qr=Pt.project(Vr,Zr),Kr=Tr*yu+Lr;_u[2*Kr+0]=Math.round((qr.x*Ut.scale-Ut.x)*fo),_u[2*Kr+1]=Math.round((qr.y*Ut.scale-Ut.y)*fo)}_c.fill(0),$y.fill(0);for(let Tr=2045;Tr>=0;Tr--){const Lr=4*Tr,Vr=Qu[Lr+0],Zr=Qu[Lr+1],qr=Qu[Lr+2],Kr=Qu[Lr+3],Jr=Vr+qr>>1,mn=Zr+Kr>>1,_n=Jr+mn-Zr,Tn=mn+Vr-Jr,Rn=Zr*yu+Vr,fn=Kr*yu+qr,xn=mn*yu+Jr,Mn=Math.hypot((_u[2*Rn+0]+_u[2*fn+0])/2-_u[2*xn+0],(_u[2*Rn+1]+_u[2*fn+1])/2-_u[2*xn+1])>=16;if(_c[xn]=_c[xn]||(Mn?1:0),Tr<1022){const Bn=(Zr+Tn>>1)*yu+(Vr+_n>>1),Ln=(Kr+Tn>>1)*yu+(qr+_n>>1);_c[xn]=_c[xn]||_c[Bn]||_c[Ln]}}const Jt=new Ur,tr=new Gn;let ur=0;function gr(Tr,Lr){const Vr=Lr*yu+Tr;return $y[Vr]===0&&(Jt.emplaceBack(_u[2*Vr+0],_u[2*Vr+1],Tr*fo/Gl,Lr*fo/Gl),$y[Vr]=++ur),$y[Vr]-1}function wr(Tr,Lr,Vr,Zr,qr,Kr){const Jr=Tr+Vr>>1,mn=Lr+Zr>>1;if(Math.abs(Tr-qr)+Math.abs(Lr-Kr)>1&&_c[mn*yu+Jr])wr(qr,Kr,Tr,Lr,Jr,mn),wr(Vr,Zr,qr,Kr,Jr,mn);else{const _n=gr(Tr,Lr),Tn=gr(Vr,Zr),Rn=gr(qr,Kr);tr.emplaceBack(_n,Tn,Rn)}}return wr(0,0,Gl,Gl,Gl,0),wr(Gl,Gl,0,0,0,Gl),{vertices:Jt,indices:tr}}(this.tileID.canonical,b);rt=ht.vertices,it=ht.indices}else{rt=new Ur,it=new Gn;for(const{x:xt,y:Pt}of _e)rt.emplaceBack(xt,Pt,0,0);const ht=My(rt.int16,void 0,4);for(let xt=0;xt<ht.length;xt+=3)it.emplaceBack(ht[xt],ht[xt+1],ht[xt+2])}this._tileBoundsBuffer=h.createVertexBuffer(rt,$v.members),this._tileBoundsIndexBuffer=h.createIndexBuffer(it),this._tileBoundsSegments=is.simpleSegment(0,0,rt.length,it.length)}_makeGlobeTileDebugBuffers(h,b){if(this._globeTileDebugBorderBuffer||this._globeTileDebugTextBuffer||!b||b.name!=="globe")return;const _e=this.tileID.canonical,rt=Nv(A1(_e));this._makeGlobeTileDebugBorderBuffer(h,_e,rt),this._makeGlobeTileDebugTextBuffer(h,_e,rt)}_makeGlobeTileDebugBorderBuffer(h,b,_e){const rt=new kr,it=new Ao,ht=new Dr,xt=(Ut,$t,Jt,tr,ur)=>{const gr=(Jt-Ut)/(ur-1),wr=(tr-$t)/(ur-1),Tr=rt.length;for(let Lr=0;Lr<ur;Lr++){const Vr=Ut+Lr*gr,Zr=$t+Lr*wr;rt.emplaceBack(Vr,Zr);const qr=Bv(Vr,Zr,b),Kr=Mp(qr,qr,_e);ht.emplaceBack(Kr[0],Kr[1],Kr[2]),it.emplaceBack(Tr+Lr)}},Pt=fo;xt(0,0,Pt,0,16),xt(Pt,0,Pt,Pt,16),xt(Pt,Pt,0,Pt,16),xt(0,Pt,0,0,16),this._tileDebugIndexBuffer=h.createIndexBuffer(it),this._tileDebugBuffer=h.createVertexBuffer(rt,T1.members),this._globeTileDebugBorderBuffer=h.createVertexBuffer(ht,kv.members),this._tileDebugSegments=is.simpleSegment(0,0,rt.length,it.length)}_makeGlobeTileDebugTextBuffer(h,b,_e){const rt=new kr,it=new Gn,ht=new Dr,xt=25;it.reserve(32),rt.reserve(xt),ht.reserve(xt);const Pt=(Ut,$t)=>xt*Ut+$t;for(let Ut=0;Ut<xt;Ut++){const $t=2048*Ut;for(let Jt=0;Jt<xt;Jt++){const tr=2048*Jt;rt.emplaceBack(tr,$t);const ur=Bv(tr,$t,b),gr=Mp(ur,ur,_e);ht.emplaceBack(gr[0],gr[1],gr[2])}}for(let Ut=0;Ut<4;Ut++)for(let $t=0;$t<4;$t++){const Jt=Pt(Ut,$t),tr=Pt(Ut,$t+1),ur=Pt(Ut+1,$t),gr=Pt(Ut+1,$t+1);it.emplaceBack(Jt,tr,ur),it.emplaceBack(ur,tr,gr)}this._tileDebugTextIndexBuffer=h.createIndexBuffer(it),this._tileDebugTextBuffer=h.createVertexBuffer(rt,T1.members),this._globeTileDebugTextBuffer=h.createVertexBuffer(ht,kv.members),this._tileDebugTextSegments=is.simpleSegment(0,0,xt,32)}}class RS{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(h,b,_e){const rt=String(b);if(this.stateChanges[h]=this.stateChanges[h]||{},this.stateChanges[h][rt]=this.stateChanges[h][rt]||{},bt(this.stateChanges[h][rt],_e),this.deletedStates[h]===null){this.deletedStates[h]={};for(const it in this.state[h])it!==rt&&(this.deletedStates[h][it]=null)}else if(this.deletedStates[h]&&this.deletedStates[h][rt]===null){this.deletedStates[h][rt]={};for(const it in this.state[h][rt])_e[it]||(this.deletedStates[h][rt][it]=null)}else for(const it in _e)this.deletedStates[h]&&this.deletedStates[h][rt]&&this.deletedStates[h][rt][it]===null&&delete this.deletedStates[h][rt][it]}removeFeatureState(h,b,_e){if(this.deletedStates[h]===null)return;const rt=String(b);if(this.deletedStates[h]=this.deletedStates[h]||{},_e&&b!==void 0)this.deletedStates[h][rt]!==null&&(this.deletedStates[h][rt]=this.deletedStates[h][rt]||{},this.deletedStates[h][rt][_e]=null);else if(b!==void 0)if(this.stateChanges[h]&&this.stateChanges[h][rt])for(_e in this.deletedStates[h][rt]={},this.stateChanges[h][rt])this.deletedStates[h][rt][_e]=null;else this.deletedStates[h][rt]=null;else this.deletedStates[h]=null}getState(h,b){const _e=String(b),rt=bt({},(this.state[h]||{})[_e],(this.stateChanges[h]||{})[_e]);if(this.deletedStates[h]===null)return{};if(this.deletedStates[h]){const it=this.deletedStates[h][b];if(it===null)return{};for(const ht in it)delete rt[ht]}return rt}initializeTileState(h,b){h.setFeatureState(this.state,b)}coalesceChanges(h,b){const _e={};for(const rt in this.stateChanges){this.state[rt]=this.state[rt]||{};const it={};for(const ht in this.stateChanges[rt])this.state[rt][ht]||(this.state[rt][ht]={}),bt(this.state[rt][ht],this.stateChanges[rt][ht]),it[ht]=this.state[rt][ht];_e[rt]=it}for(const rt in this.deletedStates){this.state[rt]=this.state[rt]||{};const it={};if(this.deletedStates[rt]===null)for(const ht in this.state[rt])it[ht]={},this.state[rt][ht]={};else for(const ht in this.deletedStates[rt]){if(this.deletedStates[rt][ht]===null)this.state[rt][ht]={};else for(const xt of Object.keys(this.deletedStates[rt][ht]))delete this.state[rt][ht][xt];it[ht]=this.state[rt][ht]}_e[rt]=_e[rt]||{},bt(_e[rt],it)}if(this.stateChanges={},this.deletedStates={},Object.keys(_e).length!==0)for(const rt in h)h[rt].setFeatureState(_e,b)}}class Yv{constructor(h){this.size=h,this.minimums=[],this.maximums=[],this.leaves=[]}getElevation(h,b){const _e=this.toIdx(h,b);return{min:this.minimums[_e],max:this.maximums[_e]}}isLeaf(h,b){return this.leaves[this.toIdx(h,b)]}toIdx(h,b){return b*this.size+h}}function Xv(_,h,b,_e){let rt=0,it=Number.MAX_VALUE;for(let ht=0;ht<3;ht++)if(Math.abs(_e[ht])<1e-15){if(b[ht]<_[ht]||b[ht]>h[ht])return null}else{const xt=1/_e[ht];let Pt=(_[ht]-b[ht])*xt,Ut=(h[ht]-b[ht])*xt;if(Pt>Ut){const $t=Pt;Pt=Ut,Ut=$t}if(Pt>rt&&(rt=Pt),Ut<it&&(it=Ut),rt>it)return null}return rt}function Kv(_,h,b,_e,rt,it,ht,xt,Pt,Ut,$t){const Jt=_e-_,tr=rt-h,ur=it-b,gr=ht-_,wr=xt-h,Tr=Pt-b,Lr=$t[1]*Tr-$t[2]*wr,Vr=$t[2]*gr-$t[0]*Tr,Zr=$t[0]*wr-$t[1]*gr,qr=Jt*Lr+tr*Vr+ur*Zr;if(Math.abs(qr)<1e-15)return null;const Kr=1/qr,Jr=Ut[0]-_,mn=Ut[1]-h,_n=Ut[2]-b,Tn=(Jr*Lr+mn*Vr+_n*Zr)*Kr;if(Tn<0||Tn>1)return null;const Rn=mn*ur-_n*tr,fn=_n*Jt-Jr*ur,xn=Jr*tr-mn*Jt,Mn=($t[0]*Rn+$t[1]*fn+$t[2]*xn)*Kr;return Mn<0||Tn+Mn>1?null:(gr*Rn+wr*fn+Tr*xn)*Kr}function Jv(_,h,b){return(_-h)/(b-h)}function Qv(_,h,b,_e,rt,it,ht,xt,Pt){const Ut=1<<b,$t=it-_e,Jt=ht-rt,tr=(_+1)/Ut*$t+_e,ur=(h+0)/Ut*Jt+rt,gr=(h+1)/Ut*Jt+rt;xt[0]=(_+0)/Ut*$t+_e,xt[1]=ur,Pt[0]=tr,Pt[1]=gr}class ab{constructor(h){if(this.maximums=[],this.minimums=[],this.leaves=[],this.childOffsets=[],this.nodeCount=0,this.dem=h,this._siblingOffset=[[0,0],[1,0],[0,1],[1,1]],!this.dem)return;const b=function(it){const ht=Math.ceil(Math.log2(it.dim/8)),xt=[];let Pt=Math.ceil(Math.pow(2,ht));const Ut=1/Pt,$t=(ur,gr,wr,Tr,Lr)=>{const Vr=Tr?1:0,Zr=(ur+1)*wr-Vr,qr=gr*wr,Kr=(gr+1)*wr-Vr;Lr[0]=ur*wr,Lr[1]=qr,Lr[2]=Zr,Lr[3]=Kr};let Jt=new Yv(Pt);const tr=[];for(let ur=0;ur<Pt*Pt;ur++){$t(ur%Pt,Math.floor(ur/Pt),Ut,!1,tr);const gr=_h(tr[0],tr[1],it),wr=_h(tr[2],tr[1],it),Tr=_h(tr[2],tr[3],it),Lr=_h(tr[0],tr[3],it);Jt.minimums.push(Math.min(gr,wr,Tr,Lr)),Jt.maximums.push(Math.max(gr,wr,Tr,Lr)),Jt.leaves.push(1)}for(xt.push(Jt),Pt/=2;Pt>=1;Pt/=2){const ur=xt[xt.length-1];Jt=new Yv(Pt);for(let gr=0;gr<Pt*Pt;gr++){$t(gr%Pt,Math.floor(gr/Pt),2,!0,tr);const wr=ur.getElevation(tr[0],tr[1]),Tr=ur.getElevation(tr[2],tr[1]),Lr=ur.getElevation(tr[2],tr[3]),Vr=ur.getElevation(tr[0],tr[3]),Zr=ur.isLeaf(tr[0],tr[1]),qr=ur.isLeaf(tr[2],tr[1]),Kr=ur.isLeaf(tr[2],tr[3]),Jr=ur.isLeaf(tr[0],tr[3]),mn=Math.min(wr.min,Tr.min,Lr.min,Vr.min),_n=Math.max(wr.max,Tr.max,Lr.max,Vr.max),Tn=Zr&&qr&&Kr&&Jr;Jt.maximums.push(_n),Jt.minimums.push(mn),Jt.leaves.push(_n-mn<=5&&Tn?1:0)}xt.push(Jt)}return xt}(this.dem),_e=b.length-1,rt=b[_e];this._addNode(rt.minimums[0],rt.maximums[0],rt.leaves[0]),this._construct(b,0,0,_e,0)}raycastRoot(h,b,_e,rt,it,ht,xt=1){return Xv([h,b,-100],[_e,rt,this.maximums[0]*xt],it,ht)}raycast(h,b,_e,rt,it,ht,xt=1){if(!this.nodeCount)return null;const Pt=this.raycastRoot(h,b,_e,rt,it,ht,xt);if(Pt==null)return null;const Ut=[],$t=[],Jt=[],tr=[],ur=[{idx:0,t:Pt,nodex:0,nodey:0,depth:0}];for(;ur.length>0;){const{idx:gr,t:wr,nodex:Tr,nodey:Lr,depth:Vr}=ur.pop();if(this.leaves[gr]){Qv(Tr,Lr,Vr,h,b,_e,rt,Jt,tr);const qr=1<<Vr,Kr=(Tr+0)/qr,Jr=(Tr+1)/qr,mn=(Lr+0)/qr,_n=(Lr+1)/qr,Tn=_h(Kr,mn,this.dem)*xt,Rn=_h(Jr,mn,this.dem)*xt,fn=_h(Jr,_n,this.dem)*xt,xn=_h(Kr,_n,this.dem)*xt,Mn=Kv(Jt[0],Jt[1],Tn,tr[0],Jt[1],Rn,tr[0],tr[1],fn,it,ht),Bn=Kv(tr[0],tr[1],fn,Jt[0],tr[1],xn,Jt[0],Jt[1],Tn,it,ht),Ln=Math.min(Mn!==null?Mn:Number.MAX_VALUE,Bn!==null?Bn:Number.MAX_VALUE);if(Ln!==Number.MAX_VALUE)return Ln;{const Dn=C_([],it,ht,wr);if(_b(Tn,Rn,xn,fn,Jv(Dn[0],Jt[0],tr[0]),Jv(Dn[1],Jt[1],tr[1]))>=Dn[2])return wr}continue}let Zr=0;for(let qr=0;qr<this._siblingOffset.length;qr++){Qv((Tr<<1)+this._siblingOffset[qr][0],(Lr<<1)+this._siblingOffset[qr][1],Vr+1,h,b,_e,rt,Jt,tr),Jt[2]=-100,tr[2]=this.maximums[this.childOffsets[gr]+qr]*xt;const Kr=Xv(Jt,tr,it,ht);if(Kr!=null){const Jr=Kr;Ut[qr]=Jr;let mn=!1;for(let _n=0;_n<Zr&&!mn;_n++)Jr>=Ut[$t[_n]]&&($t.splice(_n,0,qr),mn=!0);mn||($t[Zr]=qr),Zr++}}for(let qr=0;qr<Zr;qr++){const Kr=$t[qr];ur.push({idx:this.childOffsets[gr]+Kr,t:Ut[Kr],nodex:(Tr<<1)+this._siblingOffset[Kr][0],nodey:(Lr<<1)+this._siblingOffset[Kr][1],depth:Vr+1})}}return null}_addNode(h,b,_e){return this.minimums.push(h),this.maximums.push(b),this.leaves.push(_e),this.childOffsets.push(0),this.nodeCount++}_construct(h,b,_e,rt,it){if(h[rt].isLeaf(b,_e)===1)return;this.childOffsets[it]||(this.childOffsets[it]=this.nodeCount);const ht=rt-1,xt=h[ht];let Pt=0,Ut=0;for(let $t=0;$t<this._siblingOffset.length;$t++){const Jt=2*b+this._siblingOffset[$t][0],tr=2*_e+this._siblingOffset[$t][1],ur=xt.getElevation(Jt,tr),gr=xt.isLeaf(Jt,tr),wr=this._addNode(ur.min,ur.max,gr);gr&&(Pt|=1<<$t),Ut||(Ut=wr)}for(let $t=0;$t<this._siblingOffset.length;$t++)Pt&1<<$t||this._construct(h,2*b+this._siblingOffset[$t][0],2*_e+this._siblingOffset[$t][1],ht,Ut+$t)}}function _b(_,h,b,_e,rt,it){return to(to(_,b,it),to(h,_e,it),rt)}function _h(_,h,b){const _e=b.dim,rt=Lt(_*_e-.5,0,_e-1),it=Lt(h*_e-.5,0,_e-1),ht=Math.floor(rt),xt=Math.floor(it),Pt=Math.min(ht+1,_e-1),Ut=Math.min(xt+1,_e-1);return _b(b.get(ht,xt),b.get(Pt,xt),b.get(ht,Ut),b.get(Pt,Ut),rt-ht,it-xt)}const ew={mapbox:[6553.6,25.6,.1,1e4],terrarium:[256,1,1/256,32768]};class qy{get tree(){return this._tree||this._buildQuadTree(),this._tree}constructor(h,b,_e,rt=!1,it=!1){if(this.uid=h,b.height!==b.width)throw new RangeError("DEM tiles must be square");if(_e&&_e!=="mapbox"&&_e!=="terrarium")return Qt(`"${_e}" is not a valid encoding type. Valid types include "mapbox" and "terrarium".`);this.stride=b.height;const ht=this.dim=b.height-2,xt=new Uint32Array(b.data.buffer);if(this.pixels=new Uint8Array(b.data.buffer),this.encoding=_e||"mapbox",this.borderReady=rt,!rt){for(let Pt=0;Pt<ht;Pt++)xt[this._idx(-1,Pt)]=xt[this._idx(0,Pt)],xt[this._idx(ht,Pt)]=xt[this._idx(ht-1,Pt)],xt[this._idx(Pt,-1)]=xt[this._idx(Pt,0)],xt[this._idx(Pt,ht)]=xt[this._idx(Pt,ht-1)];xt[this._idx(-1,-1)]=xt[this._idx(0,0)],xt[this._idx(ht,-1)]=xt[this._idx(ht-1,0)],xt[this._idx(-1,ht)]=xt[this._idx(0,ht-1)],xt[this._idx(ht,ht)]=xt[this._idx(ht-1,ht-1)],it&&this._buildQuadTree()}}_buildQuadTree(){this._tree=new ab(this)}get(h,b,_e=!1){_e&&(h=Lt(h,-1,this.dim),b=Lt(b,-1,this.dim));const rt=4*this._idx(h,b);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(this.pixels[rt],this.pixels[rt+1],this.pixels[rt+2])}static getUnpackVector(h){return ew[h]}get unpackVector(){return ew[this.encoding]}_idx(h,b){if(h<-1||h>=this.dim+1||b<-1||b>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(b+1)*this.stride+(h+1)}_unpackMapbox(h,b,_e){return(256*h*256+256*b+_e)/10-1e4}_unpackTerrarium(h,b,_e){return 256*h+b+_e/256-32768}static pack(h,b){const _e=[0,0,0,0],rt=qy.getUnpackVector(b);let it=Math.floor((h+rt[3])/rt[2]);return _e[2]=it%256,it=Math.floor(it/256),_e[1]=it%256,it=Math.floor(it/256),_e[0]=it,_e}getPixels(){return new Cl({width:this.stride,height:this.stride},this.pixels)}backfillBorder(h,b,_e){if(this.dim!==h.dim)throw new Error("dem dimension mismatch");let rt=b*this.dim,it=b*this.dim+this.dim,ht=_e*this.dim,xt=_e*this.dim+this.dim;switch(b){case-1:rt=it-1;break;case 1:it=rt+1}switch(_e){case-1:ht=xt-1;break;case 1:xt=ht+1}const Pt=-b*this.dim,Ut=-_e*this.dim;for(let $t=ht;$t<xt;$t++)for(let Jt=rt;Jt<it;Jt++){const tr=4*this._idx(Jt,$t),ur=4*this._idx(Jt+Pt,$t+Ut);this.pixels[tr+0]=h.pixels[ur+0],this.pixels[tr+1]=h.pixels[ur+1],this.pixels[tr+2]=h.pixels[ur+2],this.pixels[tr+3]=h.pixels[ur+3]}}onDeserialize(){this._tree&&(this._tree.dem=this)}}Vn(qy,"DEMData"),Vn(ab,"DemMinMaxQuadTree",{omit:["dem"]});class MS{constructor(h,b){this.max=h,this.onRemove=b,this.reset()}reset(){for(const h in this.data)for(const b of this.data[h])b.timeout&&clearTimeout(b.timeout),this.onRemove(b.value);return this.data={},this.order=[],this}add(h,b,_e){const rt=h.wrapped().key;this.data[rt]===void 0&&(this.data[rt]=[]);const it={value:b,timeout:void 0};if(_e!==void 0&&(it.timeout=setTimeout(()=>{this.remove(h,it)},_e)),this.data[rt].push(it),this.order.push(rt),this.order.length>this.max){const ht=this._getAndRemoveByKey(this.order[0]);ht&&this.onRemove(ht)}return this}has(h){return h.wrapped().key in this.data}getAndRemove(h){return this.has(h)?this._getAndRemoveByKey(h.wrapped().key):null}_getAndRemoveByKey(h){const b=this.data[h].shift();return b.timeout&&clearTimeout(b.timeout),this.data[h].length===0&&delete this.data[h],this.order.splice(this.order.indexOf(h),1),b.value}getByKey(h){const b=this.data[h];return b?b[0].value:null}get(h){return this.has(h)?this.data[h.wrapped().key][0].value:null}remove(h,b){if(!this.has(h))return this;const _e=h.wrapped().key,rt=b===void 0?0:this.data[_e].indexOf(b),it=this.data[_e][rt];return this.data[_e].splice(rt,1),it.timeout&&clearTimeout(it.timeout),this.data[_e].length===0&&delete this.data[_e],this.onRemove(it.value),this.order.splice(this.order.indexOf(_e),1),this}setMaxSize(h){for(this.max=h;this.order.length>this.max;){const b=this._getAndRemoveByKey(this.order[0]);b&&this.onRemove(b)}return this}filter(h){const b=[];for(const _e in this.data)for(const rt of this.data[_e])h(rt.value)||b.push(rt);for(const _e of b)this.remove(_e.value.tileID,_e)}}class wm{constructor(h,b,_e){this.func=h,this.mask=b,this.range=_e}}wm.ReadOnly=!1,wm.ReadWrite=!0,wm.disabled=new wm(519,wm.ReadOnly,[0,1]);const i0=7680;class o0{constructor(h,b,_e,rt,it,ht){this.test=h,this.ref=b,this.mask=_e,this.fail=rt,this.depthFail=it,this.pass=ht}}o0.disabled=new o0({func:519,mask:0},0,0,i0,i0,i0);class vu{constructor(h,b,_e){this.blendFunction=h,this.blendColor=b,this.mask=_e}}vu.Replace=[1,0],vu.disabled=new vu(vu.Replace,So.transparent,[!1,!1,!1,!1]),vu.unblended=new vu(vu.Replace,So.transparent,[!0,!0,!0,!0]),vu.alphaBlended=new vu([1,771],So.transparent,[!0,!0,!0,!0]);const s0=1029,a0=2305;class nu{constructor(h,b,_e){this.enable=h,this.mode=b,this.frontFace=_e}}nu.disabled=new nu(!1,s0,a0),nu.backCCW=new nu(!0,s0,a0),nu.backCW=new nu(!0,s0,2304),nu.frontCW=new nu(!0,1028,2304),nu.frontCCW=new nu(!0,1028,a0);class Lp extends ro{constructor(h,b,_e){super(),this.id=h,this._onlySymbols=_e,b.on("data",rt=>{rt.dataType==="source"&&rt.sourceDataType==="metadata"&&(this._sourceLoaded=!0),this._sourceLoaded&&!this._paused&&rt.dataType==="source"&&rt.sourceDataType==="content"&&(this.reload(),this.transform&&this.update(this.transform))}),b.on("error",()=>{this._sourceErrored=!0}),this._source=b,this._tiles={},this._cache=new MS(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._minTileCacheSize=b.minTileCacheSize,this._maxTileCacheSize=b.maxTileCacheSize,this._loadedParentTiles={},this._coveredTiles={},this._state=new RS,this._isRaster=this._source.type==="raster"||this._source.type==="raster-dem"||this._source.type==="custom"&&this._source._dataType==="raster"}onAdd(h){this.map=h,this._minTileCacheSize=this._minTileCacheSize===void 0&&h?h._minTileCacheSize:this._minTileCacheSize,this._maxTileCacheSize=this._maxTileCacheSize===void 0&&h?h._maxTileCacheSize:this._maxTileCacheSize}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(const h in this._tiles){const b=this._tiles[h];if(b.state!=="loaded"&&b.state!=="errored")return!1}return!0}getSource(){return this._source}pause(){this._paused=!0}resume(){if(!this._paused)return;const h=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,h&&this.reload(),this.transform&&this.update(this.transform)}_loadTile(h,b){return h.isSymbolTile=this._onlySymbols,this._source.loadTile(h,b)}_unloadTile(h){if(this._source.unloadTile)return this._source.unloadTile(h,()=>{})}_abortTile(h){if(this._source.abortTile)return this._source.abortTile(h,()=>{})}serialize(){return this._source.serialize()}prepare(h){if(this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._source.prepareTile)for(const b in this._tiles){const _e=this._tiles[b];this._source.prepareTile(_e)&&this.map.painter.terrain&&this.map.painter.terrain._clearRenderCacheForTile(this.id,_e.tileID),_e.upload(h),_e.prepare(this.map.style.imageManager)}else for(const b in this._tiles){const _e=this._tiles[b];_e.upload(h),_e.prepare(this.map.style.imageManager)}}getIds(){return dt(this._tiles).map(h=>h.tileID).sort(tw).map(h=>h.key)}getRenderableIds(h){const b=[];for(const _e in this._tiles)this._isIdRenderable(+_e,h)&&b.push(this._tiles[_e]);return h?b.sort((_e,rt)=>{const it=_e.tileID,ht=rt.tileID,xt=new gt(it.canonical.x,it.canonical.y)._rotate(this.transform.angle),Pt=new gt(ht.canonical.x,ht.canonical.y)._rotate(this.transform.angle);return it.overscaledZ-ht.overscaledZ||Pt.y-xt.y||Pt.x-xt.x}).map(_e=>_e.tileID.key):b.map(_e=>_e.tileID).sort(tw).map(_e=>_e.key)}hasRenderableParent(h){const b=this.findLoadedParent(h,0);return!!b&&this._isIdRenderable(b.tileID.key)}_isIdRenderable(h,b){return this._tiles[h]&&this._tiles[h].hasData()&&!this._coveredTiles[h]&&(b||!this._tiles[h].holdingForFade())}reload(){if(this._paused)this._shouldReloadOnResume=!0;else{this._cache.reset();for(const h in this._tiles)this._tiles[h].state!=="errored"&&this._reloadTile(+h,"reloading")}}_reloadTile(h,b){const _e=this._tiles[h];_e&&(_e.state!=="loading"&&(_e.state=b),this._loadTile(_e,this._tileLoaded.bind(this,_e,h,b)))}_tileLoaded(h,b,_e,rt){if(rt)if(h.state="errored",rt.status!==404)this._source.fire(new Wn(rt,{tile:h}));else if(this._source.type==="raster-dem"&&this.usedForTerrain&&this.map.painter.terrain){const it=this.map.painter.terrain;this.update(this.transform,it.getScaledDemTileSize(),!0),it.resetTileLookupCache(this.id)}else this.update(this.transform);else h.timeAdded=_r.now(),_e==="expired"&&(h.refreshedUponExpiration=!0),this._setTileReloadTimer(b,h),this._source.type==="raster-dem"&&h.dem&&this._backfillDEM(h),this._state.initializeTileState(h,this.map?this.map.painter:null),this._source.fire(new Xn("data",{dataType:"source",tile:h,coord:h.tileID,sourceCacheId:this.id}))}_backfillDEM(h){const b=this.getRenderableIds();for(let rt=0;rt<b.length;rt++){const it=b[rt];if(h.neighboringTiles&&h.neighboringTiles[it]){const ht=this.getTileByID(it);_e(h,ht),_e(ht,h)}}function _e(rt,it){if(!rt.dem||rt.dem.borderReady)return;rt.needsHillshadePrepare=!0,rt.needsDEMTextureUpload=!0;let ht=it.tileID.canonical.x-rt.tileID.canonical.x;const xt=it.tileID.canonical.y-rt.tileID.canonical.y,Pt=Math.pow(2,rt.tileID.canonical.z),Ut=it.tileID.key;ht===0&&xt===0||Math.abs(xt)>1||(Math.abs(ht)>1&&(Math.abs(ht+Pt)===1?ht+=Pt:Math.abs(ht-Pt)===1&&(ht-=Pt)),it.dem&&rt.dem&&(rt.dem.backfillBorder(it.dem,ht,xt),rt.neighboringTiles&&rt.neighboringTiles[Ut]&&(rt.neighboringTiles[Ut].backfilled=!0)))}}getTile(h){return this.getTileByID(h.key)}getTileByID(h){return this._tiles[h]}_retainLoadedChildren(h,b,_e,rt){for(const it in this._tiles){let ht=this._tiles[it];if(rt[it]||!ht.hasData()||ht.tileID.overscaledZ<=b||ht.tileID.overscaledZ>_e)continue;let xt=ht.tileID;for(;ht&&ht.tileID.overscaledZ>b+1;){const Ut=ht.tileID.scaledTo(ht.tileID.overscaledZ-1);ht=this._tiles[Ut.key],ht&&ht.hasData()&&(xt=Ut)}let Pt=xt;for(;Pt.overscaledZ>b;)if(Pt=Pt.scaledTo(Pt.overscaledZ-1),h[Pt.key]){rt[xt.key]=xt;break}}}findLoadedParent(h,b){if(h.key in this._loadedParentTiles){const _e=this._loadedParentTiles[h.key];return _e&&_e.tileID.overscaledZ>=b?_e:null}for(let _e=h.overscaledZ-1;_e>=b;_e--){const rt=h.scaledTo(_e),it=this._getLoadedTile(rt);if(it)return it}}_getLoadedTile(h){const b=this._tiles[h.key];return b&&b.hasData()?b:this._cache.getByKey(this._source.reparseOverscaled?h.wrapped().key:h.canonical.key)}updateCacheSize(h,b){b=b||this._source.tileSize;const _e=Math.ceil(h.width/b)+1,rt=Math.ceil(h.height/b)+1,it=Math.floor(_e*rt*5),ht=typeof this._minTileCacheSize=="number"?Math.max(this._minTileCacheSize,it):it,xt=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,ht):ht;this._cache.setMaxSize(xt)}handleWrapJump(h){const b=Math.round((h-(this._prevLng===void 0?h:this._prevLng))/360);if(this._prevLng=h,b){const _e={};for(const rt in this._tiles){const it=this._tiles[rt];it.tileID=it.tileID.unwrapTo(it.tileID.wrap+b),_e[it.tileID.key]=it}this._tiles=_e;for(const rt in this._timers)clearTimeout(this._timers[rt]),delete this._timers[rt];for(const rt in this._tiles)this._setTileReloadTimer(+rt,this._tiles[rt])}}update(h,b,_e){if(this.transform=h,!this._sourceLoaded||this._paused||this.transform.freezeTileCoverage||this.usedForTerrain&&!_e)return;let rt;this.updateCacheSize(h,b),this.transform.projection.name!=="globe"&&this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used||this.usedForTerrain?this._source.tileID?rt=h.getVisibleUnwrappedCoordinates(this._source.tileID).map(xt=>new Gs(xt.canonical.z,xt.wrap,xt.canonical.z,xt.canonical.x,xt.canonical.y)):(rt=h.coveringTiles({tileSize:b||this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!_e,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain}),this._source.hasTile&&(rt=rt.filter(xt=>this._source.hasTile(xt)))):rt=[];const it=this._updateRetainedTiles(rt);if(rw(this._source.type)&&rt.length!==0){const xt={},Pt={},Ut=Object.keys(it);for(const Jt of Ut){const tr=it[Jt],ur=this._tiles[Jt];if(!ur||ur.fadeEndTime&&ur.fadeEndTime<=_r.now())continue;const gr=this.findLoadedParent(tr,Math.max(tr.overscaledZ-Lp.maxOverzooming,this._source.minzoom));gr&&(this._addTile(gr.tileID),xt[gr.tileID.key]=gr.tileID),Pt[Jt]=tr}const $t=rt[rt.length-1].overscaledZ;for(const Jt in this._tiles){const tr=this._tiles[Jt];if(it[Jt]||!tr.hasData())continue;let ur=tr.tileID;for(;ur.overscaledZ>$t;){ur=ur.scaledTo(ur.overscaledZ-1);const gr=this._tiles[ur.key];if(gr&&gr.hasData()&&Pt[ur.key]){it[Jt]=tr.tileID;break}}}for(const Jt in xt)it[Jt]||(this._coveredTiles[Jt]=!0,it[Jt]=xt[Jt])}for(const xt in it)this._tiles[xt].clearFadeHold();const ht=function(xt,Pt){const Ut=[];for(const $t in xt)$t in Pt||Ut.push($t);return Ut}(this._tiles,it);for(const xt of ht){const Pt=this._tiles[xt];Pt.hasSymbolBuckets&&!Pt.holdingForFade()?Pt.setHoldDuration(this.map._fadeDuration):Pt.hasSymbolBuckets&&!Pt.symbolFadeFinished()||this._removeTile(+xt)}this._updateLoadedParentTileCache(),this._onlySymbols&&this._source.afterUpdate&&this._source.afterUpdate()}releaseSymbolFadeTiles(){for(const h in this._tiles)this._tiles[h].holdingForFade()&&this._removeTile(+h)}_updateRetainedTiles(h){const b={};if(h.length===0)return b;const _e={},rt=h.reduce((Ut,$t)=>Math.min(Ut,$t.overscaledZ),1/0),it=h[0].overscaledZ,ht=Math.max(it-Lp.maxOverzooming,this._source.minzoom),xt=Math.max(it+Lp.maxUnderzooming,this._source.minzoom),Pt={};for(const Ut of h){const $t=this._addTile(Ut);b[Ut.key]=Ut,$t.hasData()||rt<this._source.maxzoom&&(Pt[Ut.key]=Ut)}this._retainLoadedChildren(Pt,rt,xt,b);for(const Ut of h){let $t=this._tiles[Ut.key];if($t.hasData())continue;if(Ut.canonical.z>=this._source.maxzoom){const tr=Ut.children(this._source.maxzoom)[0],ur=this.getTile(tr);if(ur&&ur.hasData()){b[tr.key]=tr;continue}}else{const tr=Ut.children(this._source.maxzoom);if(b[tr[0].key]&&b[tr[1].key]&&b[tr[2].key]&&b[tr[3].key])continue}let Jt=$t.wasRequested();for(let tr=Ut.overscaledZ-1;tr>=ht;--tr){const ur=Ut.scaledTo(tr);if(_e[ur.key]||(_e[ur.key]=!0,$t=this.getTile(ur),!$t&&Jt&&($t=this._addTile(ur)),$t&&(b[ur.key]=ur,Jt=$t.wasRequested(),$t.hasData())))break}}return b}_updateLoadedParentTileCache(){this._loadedParentTiles={};for(const h in this._tiles){const b=[];let _e,rt=this._tiles[h].tileID;for(;rt.overscaledZ>0;){if(rt.key in this._loadedParentTiles){_e=this._loadedParentTiles[rt.key];break}b.push(rt.key);const it=rt.scaledTo(rt.overscaledZ-1);if(_e=this._getLoadedTile(it),_e)break;rt=it}for(const it of b)this._loadedParentTiles[it]=_e}}_addTile(h){let b=this._tiles[h.key];if(b)return this._source.prepareTile&&this._source.prepareTile(b),b;b=this._cache.getAndRemove(h),b&&(this._setTileReloadTimer(h.key,b),b.tileID=h,this._state.initializeTileState(b,this.map?this.map.painter:null),this._cacheTimers[h.key]&&(clearTimeout(this._cacheTimers[h.key]),delete this._cacheTimers[h.key],this._setTileReloadTimer(h.key,b)));const _e=Boolean(b);if(!_e){const rt=this.map?this.map.painter:null;b=new n0(h,this._source.tileSize*h.overscaleFactor(),this.transform.tileZoom,rt,this._isRaster),this._source.prepareTile&&this._source.prepareTile(b)||this._loadTile(b,this._tileLoaded.bind(this,b,h.key,b.state))}return b?(b.uses++,this._tiles[h.key]=b,_e||this._source.fire(new Xn("dataloading",{tile:b,coord:b.tileID,dataType:"source"})),b):null}_setTileReloadTimer(h,b){h in this._timers&&(clearTimeout(this._timers[h]),delete this._timers[h]);const _e=b.getExpiryTimeout();_e&&(this._timers[h]=setTimeout(()=>{this._reloadTile(h,"expired"),delete this._timers[h]},_e))}_removeTile(h){const b=this._tiles[h];b&&(b.uses--,delete this._tiles[h],this._timers[h]&&(clearTimeout(this._timers[h]),delete this._timers[h]),b.uses>0||(b.hasData()&&b.state!=="reloading"?this._cache.add(b.tileID,b,b.getExpiryTimeout()):(b.aborted=!0,this._abortTile(b),this._unloadTile(b))))}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const h in this._tiles)this._removeTile(+h);this._source._clear&&this._source._clear(),this._cache.reset(),this.map&&this.usedForTerrain&&this.map.painter.terrain&&this.map.painter.terrain.resetTileLookupCache(this.id)}tilesIn(h,b,_e){const rt=[],it=this.transform;if(!it)return rt;for(const ht in this._tiles){const xt=this._tiles[ht];if(_e&&xt.clearQueryDebugViz(),xt.holdingForFade())continue;const Pt=h.containsTile(xt,it,b);Pt&&rt.push(Pt)}return rt}getVisibleCoordinates(h){const b=this.getRenderableIds(h).map(_e=>this._tiles[_e].tileID);for(const _e of b)_e.projMatrix=this.transform.calculateProjMatrix(_e.toUnwrapped());return b}hasTransition(){if(this._source.hasTransition())return!0;if(rw(this._source.type))for(const h in this._tiles){const b=this._tiles[h];if(b.fadeEndTime!==void 0&&b.fadeEndTime>=_r.now())return!0}return!1}setFeatureState(h,b,_e){this._state.updateState(h=h||"_geojsonTileLayer",b,_e)}removeFeatureState(h,b,_e){this._state.removeFeatureState(h=h||"_geojsonTileLayer",b,_e)}getFeatureState(h,b){return this._state.getState(h=h||"_geojsonTileLayer",b)}setDependencies(h,b,_e){const rt=this._tiles[h];rt&&rt.setDependencies(b,_e)}reloadTilesForDependencies(h,b){for(const _e in this._tiles)this._tiles[_e].hasDependency(h,b)&&this._reloadTile(+_e,"reloading");this._cache.filter(_e=>!_e.hasDependency(h,b))}_preloadTiles(h,b){const _e=new Map,rt=Array.isArray(h)?h:[h],it=this.map.painter.terrain,ht=this.usedForTerrain&&it?it.getScaledDemTileSize():this._source.tileSize;for(const xt of rt){const Pt=xt.coveringTiles({tileSize:ht,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom&&!this.usedForTerrain,reparseOverscaled:this._source.reparseOverscaled,isTerrainDEM:this.usedForTerrain});for(const Ut of Pt)_e.set(Ut.key,Ut);this.usedForTerrain&&xt.updateElevation(!1)}pt(Array.from(_e.values()),(xt,Pt)=>{const Ut=new n0(xt,this._source.tileSize*xt.overscaleFactor(),this.transform.tileZoom,this.map.painter,this._isRaster);this._loadTile(Ut,$t=>{this._source.type==="raster-dem"&&Ut.dem&&this._backfillDEM(Ut),Pt($t,Ut)})},b)}}function tw(_,h){const b=Math.abs(2*_.wrap)-+(_.wrap<0),_e=Math.abs(2*h.wrap)-+(h.wrap<0);return _.overscaledZ-h.overscaledZ||_e-b||h.canonical.y-_.canonical.y||h.canonical.x-_.canonical.x}function rw(_){return _==="raster"||_==="image"||_==="video"}Lp.maxOverzooming=10,Lp.maxUnderzooming=3;class Yy{constructor(h,b,_e){this._demTile=h,this._dem=this._demTile.dem,this._scale=b,this._offset=_e}static create(h,b,_e){const rt=_e||h.findDEMTileFor(b);if(!rt||!rt.dem)return;const it=rt.dem,ht=rt.tileID,xt=1<<b.canonical.z-ht.canonical.z;return new Yy(rt,rt.tileSize/fo/xt,[(b.canonical.x/xt-ht.canonical.x)*it.dim,(b.canonical.y/xt-ht.canonical.y)*it.dim])}tileCoordToPixel(h,b){const _e=b*this._scale+this._offset[1],rt=Math.floor(h*this._scale+this._offset[0]),it=Math.floor(_e);return new gt(rt,it)}getElevationAt(h,b,_e,rt){const it=h*this._scale+this._offset[0],ht=b*this._scale+this._offset[1],xt=Math.floor(it),Pt=Math.floor(ht),Ut=this._dem;return rt=!!rt,_e?to(to(Ut.get(xt,Pt,rt),Ut.get(xt,Pt+1,rt),ht-Pt),to(Ut.get(xt+1,Pt,rt),Ut.get(xt+1,Pt+1,rt),ht-Pt),it-xt):Ut.get(xt,Pt,rt)}getElevationAtPixel(h,b,_e){return this._dem.get(h,b,!!_e)}getMeterToDEM(h){return(1<<this._demTile.tileID.canonical.z)*am(1,h)*this._dem.stride}}class nw{constructor(h,b){this.tileID=h,this.x=h.canonical.x,this.y=h.canonical.y,this.z=h.canonical.z,this.grid=new hu(fo,16,0),this.featureIndexArray=new Qo,this.promoteId=b}insert(h,b,_e,rt,it,ht=0){const xt=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(_e,rt,it,ht);const Pt=this.grid;for(let Ut=0;Ut<b.length;Ut++){const $t=b[Ut],Jt=[1/0,1/0,-1/0,-1/0];for(let tr=0;tr<$t.length;tr++){const ur=$t[tr];Jt[0]=Math.min(Jt[0],ur.x),Jt[1]=Math.min(Jt[1],ur.y),Jt[2]=Math.max(Jt[2],ur.x),Jt[3]=Math.max(Jt[3],ur.y)}Jt[0]<fo&&Jt[1]<fo&&Jt[2]>=0&&Jt[3]>=0&&Pt.insert(xt,Jt[0],Jt[1],Jt[2],Jt[3])}}loadVTLayers(){if(!this.vtLayers){this.vtLayers=new Ip.VectorTile(new w1(this.rawTileData)).layers,this.sourceLayerCoder=new Hv(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]),this.vtFeatures={};for(const h in this.vtLayers)this.vtFeatures[h]=[]}return this.vtLayers}query(h,b,_e,rt){this.loadVTLayers();const it=h.params||{},ht=lu(it.filter),xt=h.tileResult,Pt=h.transform,Ut=xt.bufferedTilespaceBounds,$t=this.grid.query(Ut.min.x,Ut.min.y,Ut.max.x,Ut.max.y,(gr,wr,Tr,Lr)=>A0(xt.bufferedTilespaceGeometry,gr,wr,Tr,Lr));$t.sort(IS);let Jt=null;Pt.elevation&&$t.length>0&&(Jt=Yy.create(Pt.elevation,this.tileID));const tr={};let ur;for(let gr=0;gr<$t.length;gr++){const wr=$t[gr];if(wr===ur)continue;ur=wr;const Tr=this.featureIndexArray.get(wr);let Lr=null;this.loadMatchingFeature(tr,Tr,ht,it.layers,it.availableImages,b,_e,rt,(Vr,Zr,qr,Kr=0)=>(Lr||(Lr=Mu(Vr,this.tileID.canonical,h.tileTransform)),Zr.queryIntersectsFeature(xt,Vr,qr,Lr,this.z,h.transform,h.pixelPosMatrix,Jt,Kr)))}return tr}loadMatchingFeature(h,b,_e,rt,it,ht,xt,Pt,Ut){const{featureIndex:$t,bucketIndex:Jt,sourceLayerIndex:tr,layoutVertexArrayOffset:ur}=b,gr=this.bucketLayerIDs[Jt];if(rt&&!function(Vr,Zr){for(let qr=0;qr<Vr.length;qr++)if(Zr.indexOf(Vr[qr])>=0)return!0;return!1}(rt,gr))return;const wr=this.sourceLayerCoder.decode(tr),Tr=this.vtLayers[wr].feature($t);if(_e.needGeometry){const Vr=Cp(Tr,!0);if(!_e.filter(new Go(this.tileID.overscaledZ),Vr,this.tileID.canonical))return}else if(!_e.filter(new Go(this.tileID.overscaledZ),Tr))return;const Lr=this.getId(Tr,wr);for(let Vr=0;Vr<gr.length;Vr++){const Zr=gr[Vr];if(rt&&rt.indexOf(Zr)<0)continue;const qr=ht[Zr];if(!qr)continue;let Kr={};Lr!==void 0&&Pt&&(Kr=Pt.getState(qr.sourceLayer||"_geojsonTileLayer",Lr));const Jr=bt({},xt[Zr]);Jr.paint=iw(Jr.paint,qr.paint,Tr,Kr,it),Jr.layout=iw(Jr.layout,qr.layout,Tr,Kr,it);const mn=!Ut||Ut(Tr,qr,Kr,ur);if(!mn)continue;const _n=new Gv(Tr,this.z,this.x,this.y,Lr);_n.layer=Jr;let Tn=h[Zr];Tn===void 0&&(Tn=h[Zr]=[]),Tn.push({featureIndex:$t,feature:_n,intersectionZ:mn})}}lookupSymbolFeatures(h,b,_e,rt,it,ht,xt,Pt){const Ut={};this.loadVTLayers();const $t=lu(it);for(const Jt of h)this.loadMatchingFeature(Ut,{bucketIndex:_e,sourceLayerIndex:rt,featureIndex:Jt,layoutVertexArrayOffset:0},$t,ht,xt,Pt,b);return Ut}loadFeature(h){const{featureIndex:b,sourceLayerIndex:_e}=h;this.loadVTLayers();const rt=this.sourceLayerCoder.decode(_e),it=this.vtFeatures[rt];if(it[b])return it[b];const ht=this.vtLayers[rt].feature(b);return it[b]=ht,ht}hasLayer(h){for(const b of this.bucketLayerIDs)for(const _e of b)if(h===_e)return!0;return!1}getId(h,b){let _e=h.id;return this.promoteId&&(_e=h.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[b]],typeof _e=="boolean"&&(_e=Number(_e))),_e}}function iw(_,h,b,_e,rt){return _t(_,(it,ht)=>{const xt=h instanceof Ot?h.get(ht):null;return xt&&xt.evaluate?xt.evaluate(b,_e,rt):xt})}function IS(_,h){return h-_}Vn(nw,"FeatureIndex",{omit:["rawTileData","sourceLayerCoder"]});class ow{constructor(h){const b={},_e=[];for(const xt in h){const Pt=h[xt],Ut=b[xt]={};for(const $t in Pt.glyphs){const Jt=Pt.glyphs[+$t];if(!Jt||Jt.bitmap.width===0||Jt.bitmap.height===0)continue;const tr=Jt.metrics.localGlyph?2:1,ur={x:0,y:0,w:Jt.bitmap.width+2*tr,h:Jt.bitmap.height+2*tr};_e.push(ur),Ut[$t]=ur}}const{w:rt,h:it}=F_(_e),ht=new Iu({width:rt||1,height:it||1});for(const xt in h){const Pt=h[xt];for(const Ut in Pt.glyphs){const $t=Pt.glyphs[+Ut];if(!$t||$t.bitmap.width===0||$t.bitmap.height===0)continue;const Jt=b[xt][Ut],tr=$t.metrics.localGlyph?2:1;Iu.copy($t.bitmap,ht,{x:0,y:0},{x:Jt.x+tr,y:Jt.y+tr},$t.bitmap)}}this.image=ht,this.positions=b}}Vn(ow,"GlyphAtlas");class OS{constructor(h){this.tileID=new Gs(h.tileID.overscaledZ,h.tileID.wrap,h.tileID.canonical.z,h.tileID.canonical.x,h.tileID.canonical.y),this.tileZoom=h.tileZoom,this.uid=h.uid,this.zoom=h.zoom,this.canonical=h.tileID.canonical,this.pixelRatio=h.pixelRatio,this.tileSize=h.tileSize,this.source=h.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=h.showCollisionBoxes,this.collectResourceTiming=!!h.collectResourceTiming,this.returnDependencies=!!h.returnDependencies,this.promoteId=h.promoteId,this.enableTerrain=!!h.enableTerrain,this.isSymbolTile=h.isSymbolTile,this.tileTransform=Op(h.tileID.canonical,h.projection),this.projection=h.projection}parse(h,b,_e,rt,it){this.status="parsing",this.data=h,this.collisionBoxArray=new Ql;const ht=new Hv(Object.keys(h.layers).sort()),xt=new nw(this.tileID,this.promoteId);xt.bucketLayerIDs=[];const Pt={},Ut=new Q_(256,256),$t={featureIndex:xt,iconDependencies:{},patternDependencies:{},glyphDependencies:{},lineAtlas:Ut,availableImages:_e},Jt=b.familiesBySource[this.source];for(const Kr in Jt){const Jr=h.layers[Kr];if(!Jr)continue;let mn=!1,_n=!1;for(const fn of Jt[Kr])fn[0].type==="symbol"?mn=!0:_n=!0;if(this.isSymbolTile===!0&&!mn||this.isSymbolTile===!1&&!_n)continue;Jr.version===1&&Qt(`Vector tile source "${this.source}" layer "${Kr}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const Tn=ht.encode(Kr),Rn=[];for(let fn=0;fn<Jr.length;fn++){const xn=Jr.feature(fn),Mn=xt.getId(xn,Kr);Rn.push({feature:xn,id:Mn,index:fn,sourceLayerIndex:Tn})}for(const fn of Jt[Kr]){const xn=fn[0];this.isSymbolTile!==void 0&&xn.type==="symbol"!==this.isSymbolTile||xn.minzoom&&this.zoom<Math.floor(xn.minzoom)||xn.maxzoom&&this.zoom>=xn.maxzoom||xn.visibility!=="none"&&(l0(fn,this.zoom,_e),(Pt[xn.id]=xn.createBucket({index:xt.bucketLayerIDs.length,layers:fn,zoom:this.zoom,canonical:this.canonical,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:Tn,sourceID:this.source,enableTerrain:this.enableTerrain,projection:this.projection.name,availableImages:_e})).populate(Rn,$t,this.tileID.canonical,this.tileTransform),xt.bucketLayerIDs.push(fn.map(Mn=>Mn.id)))}}let tr,ur,gr,wr;Ut.trim();const Tr={type:"maybePrepare",isSymbolTile:this.isSymbolTile,zoom:this.zoom},Lr=_t($t.glyphDependencies,Kr=>Object.keys(Kr).map(Number));Object.keys(Lr).length?rt.send("getGlyphs",{uid:this.uid,stacks:Lr},(Kr,Jr)=>{tr||(tr=Kr,ur=Jr,qr.call(this))},void 0,!1,Tr):ur={};const Vr=Object.keys($t.iconDependencies);Vr.length?rt.send("getImages",{icons:Vr,source:this.source,tileID:this.tileID,type:"icons"},(Kr,Jr)=>{tr||(tr=Kr,gr=Jr,qr.call(this))},void 0,!1,Tr):gr={};const Zr=Object.keys($t.patternDependencies);function qr(){if(tr)return it(tr);if(ur&&gr&&wr){const Kr=new ow(ur),Jr=new dv(gr,wr);for(const mn in Pt){const _n=Pt[mn];_n instanceof Ju?(l0(_n.layers,this.zoom,_e),oS(_n,ur,Kr.positions,gr,Jr.iconPositions,this.showCollisionBoxes,_e,this.tileID.canonical,this.tileZoom,this.projection)):_n.hasPattern&&(_n instanceof Dy||_n instanceof Py||_n instanceof _1)&&(l0(_n.layers,this.zoom,_e),_n.addFeatures($t,this.tileID.canonical,Jr.patternPositions,_e,this.tileTransform))}this.status="done",it(null,{buckets:dt(Pt).filter(mn=>!mn.isEmpty()),featureIndex:xt,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Kr.image,lineAtlas:Ut,imageAtlas:Jr,glyphMap:this.returnDependencies?ur:null,iconMap:this.returnDependencies?gr:null,glyphPositions:this.returnDependencies?Kr.positions:null})}}Zr.length?rt.send("getImages",{icons:Zr,source:this.source,tileID:this.tileID,type:"patterns"},(Kr,Jr)=>{tr||(tr=Kr,wr=Jr,qr.call(this))},void 0,!1,Tr):wr={},qr.call(this)}}function l0(_,h,b){const _e=new Go(h);for(const rt of _)rt.recalculate(_e,b)}class sw{constructor(h){this.entries={},this.scheduler=h}request(h,b,_e,rt){const it=this.entries[h]=this.entries[h]||{callbacks:[]};if(it.result){const[ht,xt]=it.result;return this.scheduler?this.scheduler.add(()=>{rt(ht,xt)},b):rt(ht,xt),()=>{}}return it.callbacks.push(rt),it.cancel||(it.cancel=_e((ht,xt)=>{it.result=[ht,xt];for(const Pt of it.callbacks)this.scheduler?this.scheduler.add(()=>{Pt(ht,xt)},b):Pt(ht,xt);setTimeout(()=>delete this.entries[h],3e3)})),()=>{it.result||(it.callbacks=it.callbacks.filter(ht=>ht!==rt),it.callbacks.length||(it.cancel(),delete this.entries[h]))}}}function aw(_,h,b){const _e=JSON.stringify(_.request);return _.data&&(this.deduped.entries[_e]={result:[null,_.data]}),this.deduped.request(_e,{type:"parseTile",isSymbolTile:_.isSymbolTile,zoom:_.tileZoom},rt=>{const it=Br(_.request,(ht,xt,Pt,Ut)=>{ht?rt(ht):xt&&rt(null,{vectorTile:b?void 0:new Ip.VectorTile(new w1(xt)),rawData:xt,cacheControl:Pt,expires:Ut})});return()=>{it.cancel(),rt()}},h)}const LS=gu(new Float32Array(16));class _d{constructor(h){this.name=h.name,this.wrap=!1,this.requiresDraping=!1,this.supportsWorldCopies=!1,this.supportsTerrain=!1,this.supportsFog=!1,this.supportsFreeCamera=!1,this.zAxisUnit="meters",this.isReprojectedInTileSpace=!0,this.unsupportedLayers=["custom"],this.center=[0,0],this.range=[3.5,7]}project(h,b){return{x:0,y:0,z:0}}unproject(h,b){return new Bo(0,0)}projectTilePoint(h,b,_e){return{x:h,y:b,z:0}}locationPoint(h,b){return h._coordinatePoint(h.locationCoordinate(b),!1)}pixelsPerMeter(h,b){return am(1,h)*b}farthestPixelDistance(h){return function(b,_e){const rt=b.fovAboveCenter,it=b.elevation?b.elevation.getMinElevationBelowMSL()*_e:0,ht=(b._camera.position[2]*b.worldSize-it)/Math.cos(b._pitch),xt=Math.sin(rt)*ht/Math.sin(Math.max(Math.PI/2-b._pitch-rt,.01)),Pt=Math.sin(b._pitch)*xt+ht;return Math.min(1.01*Pt,ht*(1/b._horizonShift))}(h,h.pixelsPerMeter)}pointCoordinate(h,b,_e,rt){const it=h.horizonLineFromTop(!1),ht=new gt(b,Math.max(it,_e));return h.rayIntersectionCoordinate(h.pointRayIntersection(ht,rt))}createInversionMatrix(h,b){return LS}createTileMatrix(h,b,_e){let rt,it,ht;const xt=_e.canonical,Pt=gu(new Float64Array(16));if(this.isReprojectedInTileSpace){const Ut=Op(xt,this);rt=1,it=Ut.x+_e.wrap*Ut.scale,ht=Ut.y,Yu(Pt,Pt,[rt/Ut.scale,rt/Ut.scale,h.pixelsPerMeter/b])}else rt=b/h.zoomScale(xt.z),it=(xt.x+Math.pow(2,xt.z)*_e.wrap)*rt,ht=xt.y*rt;return Rp(Pt,Pt,[it,ht,0]),Yu(Pt,Pt,[rt/fo,rt/fo,1]),Pt}upVector(h,b,_e){return[0,0,1]}upVectorScale(h,b,_e){return{metersToTile:1,metersToLabelSpace:1}}}class jS extends _d{constructor(h){super(h),this.wrap=!0,this.supportsWorldCopies=!0,this.supportsTerrain=!0,this.supportsFog=!0,this.supportsFreeCamera=!0,this.isReprojectedInTileSpace=!1,this.unsupportedLayers=[],this.range=null}project(h,b){return{x:s1(h),y:sm(b),z:0}}unproject(h,b){const _e=Hl(h),rt=Ls(b);return new Bo(_e,rt)}}class PS extends _d{constructor(h){super(h),this.range=[4,7],this.center=h.center||[-96,37.5];const[b,_e]=this.parallels=h.parallels||[29.5,45.5],rt=Math.sin(wt(b));this.n=(rt+Math.sin(wt(_e)))/2,this.c=1+rt*(2*this.n-rt),this.r0=Math.sqrt(this.c)/this.n}project(h,b){const{n:_e,c:rt,r0:it}=this,ht=wt(h-this.center[0]),xt=wt(b),Pt=Math.sqrt(rt-2*_e*Math.sin(xt))/_e;return{x:Pt*Math.sin(ht*_e),y:Pt*Math.cos(ht*_e)-it,z:0}}unproject(h,b){const{n:_e,c:rt,r0:it}=this,ht=it+b;let xt=Math.atan2(h,Math.abs(ht))*Math.sign(ht);ht*_e<0&&(xt-=Math.PI*Math.sign(h)*Math.sign(ht));const Pt=wt(this.center[0])*_e;xt=Yt(xt,-Math.PI-Pt,Math.PI-Pt);const Ut=Rt(xt/_e)+this.center[0],$t=Math.asin(Lt((rt-(h*h+ht*ht)*_e*_e)/(2*_e),-1,1)),Jt=Lt(Rt($t),-85.051129,pu);return new Bo(Ut,Jt)}}const R1=1.340264,M1=-.081106,I1=893e-6,O1=.003796,Xy=Math.sqrt(3)/2;class kS extends _d{project(h,b){b=b/180*Math.PI,h=h/180*Math.PI;const _e=Math.asin(Xy*Math.sin(b)),rt=_e*_e,it=rt*rt*rt;return{x:.5*(h*Math.cos(_e)/(Xy*(R1+3*M1*rt+it*(7*I1+9*O1*rt)))/Math.PI+.5),y:1-.5*(_e*(R1+M1*rt+it*(I1+O1*rt))/Math.PI+1),z:0}}unproject(h,b){h=(2*h-.5)*Math.PI;let _e=b=(2*(1-b)-1)*Math.PI,rt=_e*_e,it=rt*rt*rt;for(let $t,Jt,tr,ur=0;ur<12&&(Jt=_e*(R1+M1*rt+it*(I1+O1*rt))-b,tr=R1+3*M1*rt+it*(7*I1+9*O1*rt),$t=Jt/tr,_e=Lt(_e-$t,-Math.PI/3,Math.PI/3),rt=_e*_e,it=rt*rt*rt,!(Math.abs($t)<1e-12));++ur);const ht=Xy*h*(R1+3*M1*rt+it*(7*I1+9*O1*rt))/Math.cos(_e),xt=Math.asin(Math.sin(_e)/Xy),Pt=Lt(180*ht/Math.PI,-180,180),Ut=Lt(180*xt/Math.PI,-85.051129,pu);return new Bo(Pt,Ut)}}class DS extends _d{constructor(h){super(h),this.wrap=!0,this.supportsWorldCopies=!0}project(h,b){return{x:.5+h/360,y:.5-b/360,z:0}}unproject(h,b){const _e=360*(h-.5),rt=Lt(360*(.5-b),-85.051129,pu);return new Bo(_e,rt)}}const xm=Math.PI/2;function Ky(_){return Math.tan((xm+_)/2)}class BS extends _d{constructor(h){super(h),this.center=h.center||[0,30];const[b,_e]=this.parallels=h.parallels||[30,30],rt=wt(b),it=wt(_e),ht=Math.cos(rt);this.n=rt===it?Math.sin(rt):Math.log(ht/Math.cos(it))/Math.log(Ky(it)/Ky(rt)),this.f=ht*Math.pow(Ky(rt),this.n)/this.n}project(h,b){b=wt(b),h=wt(h-this.center[0]);const _e=1e-6,{n:rt,f:it}=this;it>0?b<-xm+_e&&(b=-xm+_e):b>xm-_e&&(b=xm-_e);const ht=it/Math.pow(Ky(b),rt),xt=ht*Math.sin(rt*h),Pt=it-ht*Math.cos(rt*h);return{x:.5*(xt/Math.PI+.5),y:1-.5*(Pt/Math.PI+.5),z:0}}unproject(h,b){h=(2*h-.5)*Math.PI,b=(2*(1-b)-.5)*Math.PI;const{n:_e,f:rt}=this,it=rt-b,ht=Math.sign(it),xt=Math.sign(_e)*Math.sqrt(h*h+it*it);let Pt=Math.atan2(h,Math.abs(it))*ht;it*_e<0&&(Pt-=Math.PI*Math.sign(h)*ht);const Ut=Lt(Rt(Pt/_e)+this.center[0],-180,180),$t=Lt(Rt(2*Math.atan(Math.pow(rt/xt,1/_e))-xm),-85.051129,pu);return new Bo(Ut,$t)}}const lw=wt(pu);class NS extends _d{project(h,b){const _e=(b=wt(b))*b,rt=_e*_e;return{x:.5*((h=wt(h))*(.8707-.131979*_e+rt*(rt*(.003971*_e-.001529*rt)-.013791))/Math.PI+.5),y:1-.5*(b*(1.007226+_e*(.015085+rt*(.028874*_e-.044475-.005916*rt)))/Math.PI+1),z:0}}unproject(h,b){h=(2*h-.5)*Math.PI;let _e=b=(2*(1-b)-1)*Math.PI,rt=25,it=0,ht=_e*_e;do{ht=_e*_e;const Ut=ht*ht;it=(_e*(1.007226+ht*(.015085+Ut*(.028874*ht-.044475-.005916*Ut)))-b)/(1.007226+ht*(.045255+Ut*(.259866*ht-.311325-.005916*11*Ut))),_e=Lt(_e-it,-lw,lw)}while(Math.abs(it)>1e-6&&--rt>0);ht=_e*_e;const xt=Lt(Rt(h/(.8707+ht*(ht*(ht*ht*ht*(.003971-.001529*ht)-.013791)-.131979))),-180,180),Pt=Rt(_e);return new Bo(xt,Pt)}}const uw=wt(pu);class FS extends _d{project(h,b){b=wt(b),h=wt(h);const _e=Math.cos(b),rt=2/Math.PI,it=Math.acos(_e*Math.cos(h/2)),ht=Math.sin(it)/it,xt=.5*(h*rt+2*_e*Math.sin(h/2)/ht)||0,Pt=.5*(b+Math.sin(b)/ht)||0;return{x:.5*(xt/Math.PI+.5),y:1-.5*(Pt/Math.PI+1),z:0}}unproject(h,b){let _e=h=(2*h-.5)*Math.PI,rt=b=(2*(1-b)-1)*Math.PI,it=25;const ht=1e-6;let xt=0,Pt=0;do{const Ut=Math.cos(rt),$t=Math.sin(rt),Jt=2*$t*Ut,tr=$t*$t,ur=Ut*Ut,gr=Math.cos(_e/2),wr=Math.sin(_e/2),Tr=2*gr*wr,Lr=wr*wr,Vr=1-ur*gr*gr,Zr=Vr?1/Vr:0,qr=Vr?Math.acos(Ut*gr)*Math.sqrt(1/Vr):0,Kr=.5*(2*qr*Ut*wr+2*_e/Math.PI)-h,Jr=.5*(qr*$t+rt)-b,mn=.5*Zr*(ur*Lr+qr*Ut*gr*tr)+1/Math.PI,_n=Zr*(Tr*Jt/4-qr*$t*wr),Tn=.125*Zr*(Jt*wr-qr*$t*ur*Tr),Rn=.5*Zr*(tr*gr+qr*Lr*Ut)+.5,fn=_n*Tn-Rn*mn;xt=(Jr*_n-Kr*Rn)/fn,Pt=(Kr*Tn-Jr*mn)/fn,_e=Lt(_e-xt,-Math.PI,Math.PI),rt=Lt(rt-Pt,-uw,uw)}while((Math.abs(xt)>ht||Math.abs(Pt)>ht)&&--it>0);return new Bo(Rt(_e),Rt(rt))}}class cw extends _d{constructor(h){super(h),this.center=h.center||[0,0],this.parallels=h.parallels||[0,0],this.cosPhi=Math.max(.01,Math.cos(wt(this.parallels[0]))),this.scale=1/(2*Math.max(Math.PI*this.cosPhi,1/this.cosPhi)),this.wrap=!0,this.supportsWorldCopies=!0}project(h,b){const{scale:_e,cosPhi:rt}=this;return{x:wt(h)*rt*_e+.5,y:-Math.sin(wt(b))/rt*_e+.5,z:0}}unproject(h,b){const{scale:_e,cosPhi:rt}=this,it=-(b-.5)/_e,ht=Lt(Rt((h-.5)/_e)/rt,-180,180),xt=Math.asin(Lt(it*rt,-1,1)),Pt=Lt(Rt(xt),-85.051129,pu);return new Bo(ht,Pt)}}s.ARRAY_TYPE=Al,s.AUTH_ERR_MSG=tn,s.Aabb=Nl,s.Actor=class{constructor(_,h,b){this.target=_,this.parent=h,this.mapId=b,this.callbacks={},this.cancelCallbacks={},Dt(["receive"],this),this.target.addEventListener("message",this.receive,!1),this.globalScope=qt()?_:ft,this.scheduler=new vS}send(_,h,b,_e,rt=!1,it){const ht=Math.round(1e18*Math.random()).toString(36).substring(0,10);b&&(b.metadata=it,this.callbacks[ht]=b);const xt=rr(this.globalScope)?void 0:[];return this.target.postMessage({id:ht,type:_,hasCallback:!!b,targetMapId:_e,mustQueue:rt,sourceMapId:this.mapId,data:_p(h,xt)},xt),{cancel:()=>{b&&delete this.callbacks[ht],this.target.postMessage({id:ht,type:"<cancel>",targetMapId:_e,sourceMapId:this.mapId})}}}receive(_){const h=_.data,b=h.id;if(b&&(!h.targetMapId||this.mapId===h.targetMapId))if(h.type==="<cancel>"){const _e=this.cancelCallbacks[b];delete this.cancelCallbacks[b],_e&&_e.cancel()}else if(h.mustQueue||qt()){const _e=this.callbacks[b];this.cancelCallbacks[b]=this.scheduler.add(()=>this.processTask(b,h),_e&&_e.metadata||{type:"message"})}else this.processTask(b,h)}processTask(_,h){if(h.type==="<response>"){const b=this.callbacks[_];delete this.callbacks[_],b&&(h.error?b(zu(h.error)):b(null,zu(h.data)))}else{const b=rr(this.globalScope)?void 0:[],_e=h.hasCallback?(it,ht)=>{delete this.cancelCallbacks[_],this.target.postMessage({id:_,type:"<response>",sourceMapId:this.mapId,error:it?_p(it):null,data:_p(ht,b)},b)}:it=>{},rt=zu(h.data);if(this.parent[h.type])this.parent[h.type](h.sourceMapId,rt,_e);else if(this.parent.getWorkerSource){const it=h.type.split(".");this.parent.getWorkerSource(h.sourceMapId,it[0],rt.source)[it[1]](rt,_e)}else _e(new Error(`Could not find function ${h.type}`))}}remove(){this.scheduler.remove(),this.target.removeEventListener("message",this.receive,!1)}},s.CanonicalTileID=Zy,s.Color=So,s.ColorMode=vu,s.CullFaceMode=nu,s.DEMData=qy,s.DataConstantProperty=Ft,s.DedupedRequest=sw,s.DepthMode=wm,s.EXTENT=fo,s.Elevation=class{isDataAvailableAtPoint(_){const h=this._source();if(!h||_.y<0||_.y>1)return!1;const b=h.getSource().maxzoom,_e=1<<b,rt=Math.floor(_.x),it=Math.floor((_.x-rt)*_e),ht=Math.floor(_.y*_e),xt=this.findDEMTileFor(new Gs(b,rt,b,it,ht));return!(!xt||!xt.dem)}getAtPointOrZero(_,h=0){return this.getAtPoint(_,h)||0}getAtPoint(_,h,b=!0){h==null&&(h=null);const _e=this._source();if(!_e||_.y<0||_.y>1)return h;const rt=_e.getSource().maxzoom,it=1<<rt,ht=Math.floor(_.x),xt=_.x-ht,Pt=new Gs(rt,ht,rt,Math.floor(xt*it),Math.floor(_.y*it)),Ut=this.findDEMTileFor(Pt);if(!Ut||!Ut.dem)return h;const $t=Ut.dem,Jt=1<<Ut.tileID.canonical.z,tr=(xt*Jt-Ut.tileID.canonical.x)*$t.dim,ur=(_.y*Jt-Ut.tileID.canonical.y)*$t.dim,gr=Math.floor(tr),wr=Math.floor(ur);return(b?this.exaggeration():1)*to(to($t.get(gr,wr),$t.get(gr,wr+1),ur-wr),to($t.get(gr+1,wr),$t.get(gr+1,wr+1),ur-wr),tr-gr)}getAtTileOffset(_,h,b){const _e=1<<_.canonical.z;return this.getAtPointOrZero(new Ty(_.wrap+(_.canonical.x+h/fo)/_e,(_.canonical.y+b/fo)/_e))}getAtTileOffsetFunc(_,h,b,_e){return rt=>{const it=this.getAtTileOffset(_,rt.x,rt.y),ht=_e.upVector(_.canonical,rt.x,rt.y);return l1(ht,ht,it*_e.upVectorScale(_.canonical,h,b).metersToTile),ht}}getForTilePoints(_,h,b,_e){const rt=Yy.create(this,_,_e);return!!rt&&(h.forEach(it=>{it[2]=this.exaggeration()*rt.getElevationAt(it[0],it[1],b)}),!0)}getMinMaxForTile(_){const h=this.findDEMTileFor(_);if(!h||!h.dem)return null;const b=h.dem.tree,_e=h.tileID,rt=1<<_.canonical.z-_e.canonical.z;let it=_.canonical.x/rt-_e.canonical.x,ht=_.canonical.y/rt-_e.canonical.y,xt=0;for(let Pt=0;Pt<_.canonical.z-_e.canonical.z&&!b.leaves[xt];Pt++){it*=2,ht*=2;const Ut=2*Math.floor(ht)+Math.floor(it);xt=b.childOffsets[xt]+Ut,it%=1,ht%=1}return{min:this.exaggeration()*b.minimums[xt],max:this.exaggeration()*b.maximums[xt]}}getMinElevationBelowMSL(){throw new Error("Pure virtual method called.")}raycast(_,h,b){throw new Error("Pure virtual method called.")}pointCoordinate(_){throw new Error("Pure virtual method called.")}_source(){throw new Error("Pure virtual method called.")}exaggeration(){throw new Error("Pure virtual method called.")}findDEMTileFor(_){throw new Error("Pure virtual method called.")}get visibleDemTiles(){throw new Error("Getter must be implemented in subclass.")}},s.ErrorEvent=Wn,s.EvaluationParameters=Go,s.Event=Xn,s.Evented=ro,s.FillExtrusionBucket=_1,s.Frustum=R_,s.GLOBE_RADIUS=bm,s.GlobeSharedBuffers=class{constructor(_){this._createGrid(_),this._createPoles(_),this._createAtmosphere(_)}destroy(){this._poleIndexBuffer.destroy(),this._gridBuffer.destroy(),this._gridIndexBuffer.destroy(),this._poleNorthVertexBuffer.destroy(),this._poleSouthVertexBuffer.destroy();for(const _ of this._poleSegments)_.destroy();this._gridSegments.destroy(),this.atmosphereVertexBuffer.destroy(),this.atmosphereIndexBuffer.destroy(),this.atmosphereSegments.destroy(),this._wireframeIndexBuffer&&(this._wireframeIndexBuffer.destroy(),this._wireframeSegments.destroy())}_createGrid(_){const h=new kr,b=new Gn,_e=65;for(let rt=0;rt<_e;rt++)for(let it=0;it<_e;it++)h.emplaceBack(it,rt);for(let rt=0;rt<64;rt++)for(let it=0;it<64;it++){const ht=rt*_e+it;b.emplaceBack(ht+1,ht,ht+_e),b.emplaceBack(ht+_e,ht+_e+1,ht+1)}this._gridBuffer=_.createVertexBuffer(h,T1.members),this._gridIndexBuffer=_.createIndexBuffer(b,!0),this._gridSegments=is.simpleSegment(0,0,4225,8192)}_createPoles(_){const h=new Gn;for(let rt=0;rt<=64;rt++)h.emplaceBack(0,rt+1,rt+2);this._poleIndexBuffer=_.createIndexBuffer(h,!0);const b=new no,_e=new no;this._poleSegments=[];for(let rt=0,it=0;rt<5;rt++){const ht=1<<rt,xt=512*ht/Math.PI/2,Pt=360/ht;b.emplaceBack(0,-xt,0,0,0,.5,0),_e.emplaceBack(0,-xt,0,0,0,.5,1);for(let Ut=0;Ut<=64;Ut++){const $t=Ut/64,Jt=to(0,Pt,$t),[tr,ur,gr]=Dv(TS,AS,Jt,xt);b.emplaceBack(tr,ur,gr,0,0,$t,0),_e.emplaceBack(tr,ur,gr,0,0,$t,1)}this._poleSegments.push(is.simpleSegment(it,0,66,64)),it+=66}this._poleNorthVertexBuffer=_.createVertexBuffer(b,Pv,!1),this._poleSouthVertexBuffer=_.createVertexBuffer(_e,Pv,!1)}_createAtmosphere(_){const h=new po;h.emplaceBack(-1,1,1,0,0),h.emplaceBack(1,1,1,1,0),h.emplaceBack(1,-1,1,1,1),h.emplaceBack(-1,-1,1,0,1);const b=new Gn;b.emplaceBack(0,1,2),b.emplaceBack(2,3,0),this.atmosphereVertexBuffer=_.createVertexBuffer(h,wS.members),this.atmosphereIndexBuffer=_.createIndexBuffer(b),this.atmosphereSegments=is.simpleSegment(0,0,4,2)}getGridBuffers(){return[this._gridBuffer,this._gridIndexBuffer,this._gridSegments]}getPoleBuffers(_){return[this._poleNorthVertexBuffer,this._poleSouthVertexBuffer,this._poleIndexBuffer,this._poleSegments[_]]}getWirefameBuffers(_){if(!this._wireframeSegments){const h=new oo,b=64,_e=b+1;for(let rt=0;rt<b;rt++)for(let it=0;it<b;it++){const ht=rt*_e+it;h.emplaceBack(ht,ht+1),h.emplaceBack(ht,ht+_e),h.emplaceBack(ht,ht+_e+1)}this._wireframeIndexBuffer=_.createIndexBuffer(h),this._wireframeSegments=is.simpleSegment(0,0,b*b,h.length)}return[this._gridBuffer,this._wireframeIndexBuffer,this._wireframeSegments]}},s.GlyphManager=_m,s.ImagePosition=U_,s.LineAtlas=Q_,s.LngLat=Bo,s.LngLatBounds=qu,s.LocalGlyphMode=H_,s.MAX_MERCATOR_LATITUDE=pu,s.MercatorCoordinate=Ty,s.ONE_EM=js,s.OverscaledTileID=Gs,s.Properties=fr,s.RGBAImage=Cl,s.Ray=class{constructor(_,h){this.pos=_,this.dir=h}intersectsPlane(_,h,b){const _e=c1(h,this.dir);if(Math.abs(_e)<1e-6)return!1;const rt=((_[0]-this.pos[0])*h[0]+(_[1]-this.pos[1])*h[1]+(_[2]-this.pos[2])*h[2])/_e;return b[0]=this.pos[0]+this.dir[0]*rt,b[1]=this.pos[1]+this.dir[1]*rt,b[2]=this.pos[2]+this.dir[2]*rt,!0}closestPointOnSphere(_,h,b){if(function(tr,ur){var gr=tr[0],wr=tr[1],Tr=tr[2],Lr=ur[0],Vr=ur[1],Zr=ur[2];return Math.abs(gr-Lr)<=b_*Math.max(1,Math.abs(gr),Math.abs(Lr))&&Math.abs(wr-Vr)<=b_*Math.max(1,Math.abs(wr),Math.abs(Vr))&&Math.abs(Tr-Zr)<=b_*Math.max(1,Math.abs(Tr),Math.abs(Zr))}(this.pos,_)||h===0)return b[0]=b[1]=b[2]=0,!1;const[_e,rt,it]=this.dir,ht=this.pos[0]-_[0],xt=this.pos[1]-_[1],Pt=this.pos[2]-_[2],Ut=_e*_e+rt*rt+it*it,$t=2*(ht*_e+xt*rt+Pt*it),Jt=$t*$t-4*Ut*(ht*ht+xt*xt+Pt*Pt-h*h);if(Jt<0){const tr=Math.max(-$t/2,0),ur=ht+_e*tr,gr=xt+rt*tr,wr=Pt+it*tr,Tr=Math.hypot(ur,gr,wr);return b[0]=ur*h/Tr,b[1]=gr*h/Tr,b[2]=wr*h/Tr,!1}{const tr=(-$t-Math.sqrt(Jt))/(2*Ut);if(tr<0){const ur=Math.hypot(ht,xt,Pt);return b[0]=ht*h/ur,b[1]=xt*h/ur,b[2]=Pt*h/ur,!1}return b[0]=ht+_e*tr,b[1]=xt+rt*tr,b[2]=Pt+it*tr,!0}}},s.RequestManager=class{constructor(_,h,b){this._transformRequestFn=_,this._customAccessToken=h,this._silenceAuthErrors=!!b,this._createSkuToken()}_createSkuToken(){const _=function(){let h="";for(let b=0;b<10;b++)h+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",rn,h].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=_.token,this._skuTokenExpiresAt=_.tokenExpiresAt}_isSkuTokenExpired(){return Date.now()>this._skuTokenExpiresAt}transformRequest(_,h){return this._transformRequestFn&&this._transformRequestFn(_,h)||{url:_}}normalizeStyleURL(_,h){if(!Hn(_))return _;const b=yo(_);return b.path=`/styles/v1${b.path}`,this._makeAPIURL(b,this._customAccessToken||h)}normalizeGlyphsURL(_,h){if(!Hn(_))return _;const b=yo(_);return b.path=`/fonts/v1${b.path}`,this._makeAPIURL(b,this._customAccessToken||h)}normalizeSourceURL(_,h){if(!Hn(_))return _;const b=yo(_);return b.path=`/v4/${b.authority}.json`,b.params.push("secure"),this._makeAPIURL(b,this._customAccessToken||h)}normalizeSpriteURL(_,h,b,_e){const rt=yo(_);return Hn(_)?(rt.path=`/styles/v1${rt.path}/sprite${h}${b}`,this._makeAPIURL(rt,this._customAccessToken||_e)):(rt.path+=`${h}${b}`,ko(rt))}normalizeTileURL(_,h,b){if(this._isSkuTokenExpired()&&this._createSkuToken(),_&&!Hn(_))return _;const _e=yo(_);_e.path=_e.path.replace(/(\.(png|jpg)\d*)(?=$)/,`${h||b&&_e.authority!=="raster"&&b===512?"@2x":""}${mr.supported?".webp":"$1"}`),_e.authority==="raster"?_e.path=`/${cr.RASTER_URL_PREFIX}${_e.path}`:(_e.path=_e.path.replace(/^.+\/v4\//,"/"),_e.path=`/${cr.TILE_URL_VERSION}${_e.path}`);const rt=this._customAccessToken||function(it){for(const ht of it){const xt=ht.match(/^access_token=(.*)$/);if(xt)return xt[1]}return null}(_e.params)||cr.ACCESS_TOKEN;return cr.REQUIRE_ACCESS_TOKEN&&rt&&this._skuToken&&_e.params.push(`sku=${this._skuToken}`),this._makeAPIURL(_e,rt)}canonicalizeTileURL(_,h){const b=yo(_);if(!b.path.match(/^(\/v4\/|\/raster\/v1\/)/)||!b.path.match(/\.[\w]+$/))return _;let _e="mapbox://";b.path.match(/^\/raster\/v1\//)?_e+=`raster/${b.path.replace(`/${cr.RASTER_URL_PREFIX}/`,"")}`:_e+=`tiles/${b.path.replace(`/${cr.TILE_URL_VERSION}/`,"")}`;let rt=b.params;return h&&(rt=rt.filter(it=>!it.match(/^access_token=/))),rt.length&&(_e+=`?${rt.join("&")}`),_e}canonicalizeTileset(_,h){const b=!!h&&Hn(h),_e=[];for(const rt of _.tiles||[])Qn(rt)?_e.push(this.canonicalizeTileURL(rt,b)):_e.push(rt);return _e}_makeAPIURL(_,h){const b="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",_e=yo(cr.API_URL);if(_.protocol=_e.protocol,_.authority=_e.authority,_.protocol==="http"){const rt=_.params.indexOf("secure");rt>=0&&_.params.splice(rt,1)}if(_e.path!=="/"&&(_.path=`${_e.path}${_.path}`),!cr.REQUIRE_ACCESS_TOKEN)return ko(_);if(h=h||cr.ACCESS_TOKEN,!this._silenceAuthErrors){if(!h)throw new Error(`An API access token is required to use Mapbox GL. ${b}`);if(h[0]==="s")throw new Error(`Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). ${b}`)}return _.params=_.params.filter(rt=>rt.indexOf("access_token")===-1),_.params.push(`access_token=${h||""}`),ko(_)}},s.ResourceType=Ir,s.SegmentVector=is,s.SourceCache=Lp,s.StencilMode=o0,s.StructArrayLayout1ui2=Ao,s.StructArrayLayout2f1f2i16=Yn,s.StructArrayLayout2i4=kr,s.StructArrayLayout2ui4=oo,s.StructArrayLayout3f12=jn,s.StructArrayLayout3ui6=Gn,s.StructArrayLayout4i8=Ur,s.Texture=E1,s.Tile=n0,s.Transitionable=nt,s.Uniform1f=Sy,s.Uniform1i=class extends Cu{constructor(_,h){super(_,h),this.current=0}set(_){this.current!==_&&(this.current=_,this.gl.uniform1i(this.location,_))}},s.Uniform2f=class extends Cu{constructor(_,h){super(_,h),this.current=[0,0]}set(_){_[0]===this.current[0]&&_[1]===this.current[1]||(this.current=_,this.gl.uniform2f(this.location,_[0],_[1]))}},s.Uniform3f=class extends Cu{constructor(_,h){super(_,h),this.current=[0,0,0]}set(_){_[0]===this.current[0]&&_[1]===this.current[1]&&_[2]===this.current[2]||(this.current=_,this.gl.uniform3f(this.location,_[0],_[1],_[2]))}},s.Uniform4f=m0,s.UniformColor=y0,s.UniformMatrix2f=class extends Cu{constructor(_,h){super(_,h),this.current=ww}set(_){for(let h=0;h<4;h++)if(_[h]!==this.current[h]){this.current=_,this.gl.uniformMatrix2fv(this.location,!1,_);break}}},s.UniformMatrix3f=class extends Cu{constructor(_,h){super(_,h),this.current=bw}set(_){for(let h=0;h<9;h++)if(_[h]!==this.current[h]){this.current=_,this.gl.uniformMatrix3fv(this.location,!1,_);break}}},s.UniformMatrix4f=class extends Cu{constructor(_,h){super(_,h),this.current=vw}set(_){if(_[12]!==this.current[12]||_[0]!==this.current[0])return this.current=_,void this.gl.uniformMatrix4fv(this.location,!1,_);for(let h=1;h<16;h++)if(_[h]!==this.current[h]){this.current=_,this.gl.uniformMatrix4fv(this.location,!1,_);break}}},s.UnwrappedTileID=Wv,s.ValidationError=Fn,s.VectorTileWorkerSource=class extends ro{constructor(_,h,b,_e,rt){super(),this.actor=_,this.layerIndex=h,this.availableImages=b,this.loadVectorData=rt||aw,this.loading={},this.loaded={},this.deduped=new sw(_.scheduler),this.isSpriteLoaded=_e,this.scheduler=_.scheduler}loadTile(_,h){const b=_.uid,_e=_&&_.request,rt=_e&&_e.collectResourceTiming,it=this.loading[b]=new OS(_);it.abort=this.loadVectorData(_,(ht,xt)=>{const Pt=!this.loading[b];if(delete this.loading[b],Pt||ht||!xt)return it.status="done",Pt||(this.loaded[b]=it),h(ht);const Ut=xt.rawData,$t={};xt.expires&&($t.expires=xt.expires),xt.cacheControl&&($t.cacheControl=xt.cacheControl),it.vectorTile=xt.vectorTile||new Ip.VectorTile(new w1(Ut));const Jt=()=>{it.parse(it.vectorTile,this.layerIndex,this.availableImages,this.actor,(tr,ur)=>{if(tr||!ur)return h(tr);const gr={};if(rt){const wr=jv(_e);wr.length>0&&(gr.resourceTiming=JSON.parse(JSON.stringify(wr)))}h(null,bt({rawTileData:Ut.slice(0)},ur,$t,gr))})};this.isSpriteLoaded?Jt():this.once("isSpriteLoaded",()=>{this.scheduler?this.scheduler.add(Jt,{type:"parseTile",isSymbolTile:_.isSymbolTile,zoom:_.tileZoom}):Jt()}),this.loaded=this.loaded||{},this.loaded[b]=it})}reloadTile(_,h){const b=this.loaded,_e=_.uid,rt=this;if(b&&b[_e]){const it=b[_e];it.showCollisionBoxes=_.showCollisionBoxes,it.enableTerrain=!!_.enableTerrain,it.projection=_.projection,it.tileTransform=Op(_.tileID.canonical,_.projection);const ht=(xt,Pt)=>{const Ut=it.reloadCallback;Ut&&(delete it.reloadCallback,it.parse(it.vectorTile,rt.layerIndex,this.availableImages,rt.actor,Ut)),h(xt,Pt)};it.status==="parsing"?it.reloadCallback=ht:it.status==="done"&&(it.vectorTile?it.parse(it.vectorTile,this.layerIndex,this.availableImages,this.actor,ht):ht())}}abortTile(_,h){const b=_.uid,_e=this.loading[b];_e&&(_e.abort&&_e.abort(),delete this.loading[b]),h()}removeTile(_,h){const b=this.loaded,_e=_.uid;b&&b[_e]&&delete b[_e],h()}},s.WritingMode=Fl,s.ZoomHistory=Zm,s.add=L0,s.addDynamicAttributes=q_,s.adjoint=function(_,h){var b=h[0],_e=h[1],rt=h[2],it=h[3],ht=h[4],xt=h[5],Pt=h[6],Ut=h[7],$t=h[8];return _[0]=ht*$t-xt*Ut,_[1]=rt*Ut-_e*$t,_[2]=_e*xt-rt*ht,_[3]=xt*Pt-it*$t,_[4]=b*$t-rt*Pt,_[5]=rt*it-b*xt,_[6]=it*Ut-ht*Pt,_[7]=_e*Pt-b*Ut,_[8]=b*ht-_e*it,_},s.asyncAll=pt,s.bezier=Ct,s.bindAll=Dt,s.boundsAttributes=$v,s.bufferConvexPolygon=function(_,h){const b=[];for(let _e=0;_e<_.length;_e++){const rt=Yt(_e-1,-1,_.length-1),it=Yt(_e+1,-1,_.length-1),ht=_[_e],xt=_[it],Pt=_[rt].sub(ht).unit(),Ut=xt.sub(ht).unit(),$t=Ut.angleWithSep(Pt.x,Pt.y),Jt=Pt.add(Ut).unit().mult(-1*h/Math.sin($t/2));b.push(ht.add(Jt))}return b},s.cacheEntryPossiblyAdded=function(_){Ks++,Ks>Fs&&(_.getActor().send("enforceCacheSizeLimit",Ns),Ks=0)},s.calculateGlobeLabelMatrix=function(_,h){const{lng:b,lat:_e}=_._center,rt=Fv(0,0,_.worldSize/_._projectionScaler,b,_e);return w_(rt,rt,function(it){const ht=gu(new Float64Array(16)),xt=1/r0(it);return Rp(ht,ht,it.min),Yu(ht,ht,[xt,xt,xt]),ht}(A1(h)))},s.calculateGlobeMatrix=Uv,s.calculateGlobeMercatorMatrix=function(_){const h=_.worldSize,b=_.point,_e=am(1,_.center.lat)*h,rt=_.pixelsPerMeter,it=h/(_e/_.pixelsPerMeter),ht=gu(new Float64Array(16));return Rp(ht,ht,[b.x,b.y,0]),Yu(ht,ht,[it,it,rt]),Float32Array.from(ht)},s.circumferenceAtLatitude=p_,s.clamp=Lt,s.clearTileCache=function(_){const h=ft.caches.delete(xl);_&&h.catch(_).then(()=>_())},s.clipLine=Ev,s.clone=function(_){var h=new Al(16);return h[0]=_[0],h[1]=_[1],h[2]=_[2],h[3]=_[3],h[4]=_[4],h[5]=_[5],h[6]=_[6],h[7]=_[7],h[8]=_[8],h[9]=_[9],h[10]=_[10],h[11]=_[11],h[12]=_[12],h[13]=_[13],h[14]=_[14],h[15]=_[15],h},s.clone$1=Bt,s.collisionCircleLayout=Ox,s.config=cr,s.conjugate=function(_,h){return _[0]=-h[0],_[1]=-h[1],_[2]=-h[2],_[3]=h[3],_},s.create=function(){var _=new Al(16);return Al!=Float32Array&&(_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=0,_[12]=0,_[13]=0,_[14]=0),_[0]=1,_[5]=1,_[10]=1,_[15]=1,_},s.create$1=M0,s.createExpression=cp,s.createLayout=Nr,s.createStyleLayer=function(_){return _.type==="custom"?new pS(_):new mS[_.type](_)},s.cross=k0,s.degToRad=wt,s.div=function(_,h,b){return _[0]=h[0]/b[0],_[1]=h[1]/b[1],_[2]=h[2]/b[2],_},s.dot=c1,s.earthRadius=f_,s.ease=ct,s.easeCubicInOut=Tt,s.emitValidationErrors=ny,s.endsWith=Nt,s.enforceCacheSizeLimit=function(_){Ys(),bs&&bs.then(h=>{h.keys().then(b=>{for(let _e=0;_e<b.length-_;_e++)h.delete(b[_e])})})},s.evaluateSizeForFeature=By,s.evaluateSizeForZoom=pm,s.evaluateVariableOffset=Mv,s.evented=r1,s.exactEquals=function(_,h){return _[0]===h[0]&&_[1]===h[1]&&_[2]===h[2]&&_[3]===h[3]},s.exactEquals$1=function(_,h){return _[0]===h[0]&&_[1]===h[1]&&_[2]===h[2]},s.exported=_r,s.exported$1=mr,s.extend=bt,s.extend$1=xo,s.filterObject=at,s.fromMat4=function(_,h){return _[0]=h[0],_[1]=h[1],_[2]=h[2],_[3]=h[4],_[4]=h[5],_[5]=h[6],_[6]=h[8],_[7]=h[9],_[8]=h[10],_},s.fromQuat=function(_,h){var b=h[0],_e=h[1],rt=h[2],it=h[3],ht=b+b,xt=_e+_e,Pt=rt+rt,Ut=b*ht,$t=_e*ht,Jt=_e*xt,tr=rt*ht,ur=rt*xt,gr=rt*Pt,wr=it*ht,Tr=it*xt,Lr=it*Pt;return _[0]=1-Jt-gr,_[1]=$t+Lr,_[2]=tr-Tr,_[3]=0,_[4]=$t-Lr,_[5]=1-Ut-gr,_[6]=ur+wr,_[7]=0,_[8]=tr+Tr,_[9]=ur-wr,_[10]=1-Ut-Jt,_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_},s.fromRotation=function(_,h){var b=Math.sin(h),_e=Math.cos(h);return _[0]=_e,_[1]=b,_[2]=0,_[3]=-b,_[4]=_e,_[5]=0,_[6]=0,_[7]=0,_[8]=1,_},s.fromScaling=function(_,h){return _[0]=h[0],_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=h[1],_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=h[2],_[11]=0,_[12]=0,_[13]=0,_[14]=0,_[15]=1,_},s.furthestTileCorner=function(_){const h=Math.round((_+45+360)%360/90)%4;return Mt[h]},s.getAABBPointSquareDist=function(_,h,b){let _e=0;for(let rt=0;rt<2;++rt){const it=b?b[rt]:0;_[rt]>it&&(_e+=(_[rt]-it)*(_[rt]-it)),h[rt]<it&&(_e+=(it-h[rt])*(it-h[rt]))}return _e},s.getAnchorAlignment=W_,s.getAnchorJustification=Z_,s.getBounds=function(_){let h=1/0,b=1/0,_e=-1/0,rt=-1/0;for(const it of _)h=Math.min(h,it.x),b=Math.min(b,it.y),_e=Math.max(_e,it.x),rt=Math.max(rt,it.y);return{min:new gt(h,b),max:new gt(_e,rt)}},s.getColumn=function(_,h){return[_[4*h],_[4*h+1],_[4*h+2],_[4*h+3]]},s.getGridMatrix=function(_,h){const[b,_e]=h,rt=.015625;return[0,(_e[1]-b[1])*rt,1<<_.z,(_e[0]-b[0])*rt,0,_.y,b[0],b[1],rt]},s.getImage=Nn,s.getJSON=function(_,h){return Rr(bt(_,{type:"json"}),h)},s.getMapSessionAPI=Ul,s.getPerformanceMeasurement=jv,s.getProjection=function(_){const h=_.parallels,b=!!h&&Math.abs(h[0]+h[1])<.01;switch(_.name){case"mercator":return new jS(_);case"equirectangular":return new DS(_);case"naturalEarth":return new NS(_);case"equalEarth":return new kS(_);case"winkelTripel":return new FS(_);case"albers":return b?new cw(_):new PS(_);case"lambertConformalConic":return b?new cw(_):new BS(_)}throw new Error(`Invalid projection name: ${_.name}`)},s.getRTLTextPluginStatus=im,s.getReferrer=yr,s.getTilePoint=function(_,{x:h,y:b},_e=0){return new gt(((h-_e)*_.scale-_.x)*fo,(b*_.scale-_.y)*fo)},s.getTileVec3=function(_,h,b=0){return a1(((h.x-b)*_.scale-_.x)*fo,(h.y*_.scale-_.y)*fo,b0(h.z,h.y))},s.getVideo=function(_,h){const b=ft.document.createElement("video");b.muted=!0,b.onloadstart=function(){h(null,b)};for(let _e=0;_e<_.length;_e++){const rt=ft.document.createElement("source");Qr(_[_e])||(b.crossOrigin="Anonymous"),rt.src=_[_e],b.appendChild(rt)}return{cancel:()=>{}}},s.globeECEFOrigin=function(_,h){const b=[0,0,0];return Mp(b,b,Nv(A1(h.canonical))),Mp(b,b,_),b},s.globePixelsToTileUnits=function(_,h){return fo/(512*Math.pow(2,_))*r0(A1(h))},s.globePoleMatrixForTile=function(_,h,b){const _e=gu(new Float64Array(16)),rt=1<<_,it=360*(h/rt-.5),ht=b.point,xt=b.worldSize/(b.tileSize*rt);return Rp(_e,_e,[ht.x,ht.y,-b.worldSize/Math.PI/2]),Yu(_e,_e,[xt,xt,xt]),x_(_e,_e,wt(-b._center.lat)),S_(_e,_e,wt(-b._center.lng+it)),Float32Array.from(_e)},s.globeTileLatLngCorners=t0,s.globeToMercatorTransition=function(_){return Kt(5,6,_)},s.identity=gu,s.identity$1=N0,s.invert=function(_,h){var b=h[0],_e=h[1],rt=h[2],it=h[3],ht=h[4],xt=h[5],Pt=h[6],Ut=h[7],$t=h[8],Jt=h[9],tr=h[10],ur=h[11],gr=h[12],wr=h[13],Tr=h[14],Lr=h[15],Vr=b*xt-_e*ht,Zr=b*Pt-rt*ht,qr=b*Ut-it*ht,Kr=_e*Pt-rt*xt,Jr=_e*Ut-it*xt,mn=rt*Ut-it*Pt,_n=$t*wr-Jt*gr,Tn=$t*Tr-tr*gr,Rn=$t*Lr-ur*gr,fn=Jt*Tr-tr*wr,xn=Jt*Lr-ur*wr,Mn=tr*Lr-ur*Tr,Bn=Vr*Mn-Zr*xn+qr*fn+Kr*Rn-Jr*Tn+mn*_n;return Bn?(_[0]=(xt*Mn-Pt*xn+Ut*fn)*(Bn=1/Bn),_[1]=(rt*xn-_e*Mn-it*fn)*Bn,_[2]=(wr*mn-Tr*Jr+Lr*Kr)*Bn,_[3]=(tr*Jr-Jt*mn-ur*Kr)*Bn,_[4]=(Pt*Rn-ht*Mn-Ut*Tn)*Bn,_[5]=(b*Mn-rt*Rn+it*Tn)*Bn,_[6]=(Tr*qr-gr*mn-Lr*Zr)*Bn,_[7]=($t*mn-tr*qr+ur*Zr)*Bn,_[8]=(ht*xn-xt*Rn+Ut*_n)*Bn,_[9]=(_e*Rn-b*xn-it*_n)*Bn,_[10]=(gr*Jr-wr*qr+Lr*Vr)*Bn,_[11]=(Jt*qr-$t*Jr-ur*Vr)*Bn,_[12]=(xt*Tn-ht*fn-Pt*_n)*Bn,_[13]=(b*fn-_e*Tn+rt*_n)*Bn,_[14]=(wr*Zr-gr*Kr-Tr*Vr)*Bn,_[15]=($t*Kr-Jt*Zr+tr*Vr)*Bn,_):null},s.isMapAuthenticated=function(_){return As.has(_)},s.isMapboxURL=Hn,s.isSafariWithAntialiasingBug=function(_){const h=_.navigator?_.navigator.userAgent:null;return!!rr(_)&&h&&(h.match("Version/15.4")||h.match("Version/15.5")||h.match(/CPU (OS|iPhone OS) (15_4|15_5) like Mac OS X/))},s.latFromMercatorY=Ls,s.len=Nw,s.length=O0,s.length$1=function(_){return Math.hypot(_[0],_[1],_[2],_[3])},s.loadVectorTile=aw,s.makeRequest=Rr,s.mercatorXfromLng=s1,s.mercatorYfromLat=sm,s.mercatorZfromAltitude=am,s.mul=Dw,s.mul$1=Bw,s.multiply=function(_,h,b){var _e=h[0],rt=h[1],it=h[2],ht=h[3],xt=h[4],Pt=h[5],Ut=h[6],$t=h[7],Jt=h[8],tr=b[0],ur=b[1],gr=b[2],wr=b[3],Tr=b[4],Lr=b[5],Vr=b[6],Zr=b[7],qr=b[8];return _[0]=tr*_e+ur*ht+gr*Ut,_[1]=tr*rt+ur*xt+gr*$t,_[2]=tr*it+ur*Pt+gr*Jt,_[3]=wr*_e+Tr*ht+Lr*Ut,_[4]=wr*rt+Tr*xt+Lr*$t,_[5]=wr*it+Tr*Pt+Lr*Jt,_[6]=Vr*_e+Zr*ht+qr*Ut,_[7]=Vr*rt+Zr*xt+qr*$t,_[8]=Vr*it+Zr*Pt+qr*Jt,_},s.multiply$1=w_,s.multiply$2=P0,s.nextPowerOfTwo=kt,s.normalize=u1,s.normalize$1=function(_,h){var b=h[0],_e=h[1],rt=h[2],it=h[3],ht=b*b+_e*_e+rt*rt+it*it;return ht>0&&(ht=1/Math.sqrt(ht)),_[0]=b*ht,_[1]=_e*ht,_[2]=rt*ht,_[3]=it*ht,_},s.number=to,s.ortho=function(_,h,b,_e,rt,it,ht){var xt=1/(h-b),Pt=1/(_e-rt),Ut=1/(it-ht);return _[0]=-2*xt,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=-2*Pt,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[10]=2*Ut,_[11]=0,_[12]=(h+b)*xt,_[13]=(rt+_e)*Pt,_[14]=(ht+it)*Ut,_[15]=1,_},s.pbf=w1,s.perspective=function(_,h,b,_e,rt){var it,ht=1/Math.tan(h/2);return _[0]=ht/b,_[1]=0,_[2]=0,_[3]=0,_[4]=0,_[5]=ht,_[6]=0,_[7]=0,_[8]=0,_[9]=0,_[11]=-1,_[12]=0,_[13]=0,_[15]=0,rt!=null&&rt!==1/0?(_[10]=(rt+_e)*(it=1/(_e-rt)),_[14]=2*rt*_e*it):(_[10]=-1,_[14]=-2*_e),_},s.pick=function(_,h){const b={};for(let _e=0;_e<h.length;_e++){const rt=h[_e];rt in _&&(b[rt]=_[rt])}return b},s.plugin=El,s.pointGeometry=gt,s.polygonIntersectsBox=A0,s.polygonIntersectsPolygon=x0,s.polygonizeBounds=function(_,h,b=0,_e=!0){const rt=new gt(b,b),it=_.sub(rt),ht=h.add(rt),xt=[it,new gt(ht.x,it.y),ht,new gt(it.x,ht.y)];return _e&&xt.push(it),xt},s.posAttributes=T1,s.postMapLoadEvent=ds,s.postTurnstileEvent=Vo,s.potpack=F_,s.prevPowerOfTwo=function(_){return _<=1?1:Math.pow(2,Math.floor(Math.log(_)/Math.LN2))},s.radToDeg=Rt,s.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],s.registerForPluginStateChange=function(_){return _({pluginStatus:Hs,pluginURL:ya}),r1.on("pluginStateChange",_),_},s.removeAuthState=function(_){As.delete(_)},s.renderColorRamp=I_,s.rotateX=x_,s.rotateX$1=F0,s.rotateY=S_,s.rotateZ=function(_,h,b){var _e=Math.sin(b),rt=Math.cos(b),it=h[0],ht=h[1],xt=h[2],Pt=h[3],Ut=h[4],$t=h[5],Jt=h[6],tr=h[7];return h!==_&&(_[8]=h[8],_[9]=h[9],_[10]=h[10],_[11]=h[11],_[12]=h[12],_[13]=h[13],_[14]=h[14],_[15]=h[15]),_[0]=it*rt+Ut*_e,_[1]=ht*rt+$t*_e,_[2]=xt*rt+Jt*_e,_[3]=Pt*rt+tr*_e,_[4]=Ut*rt-it*_e,_[5]=$t*rt-ht*_e,_[6]=Jt*rt-xt*_e,_[7]=tr*rt-Pt*_e,_},s.rotateZ$1=function(_,h,b){b*=.5;var _e=h[0],rt=h[1],it=h[2],ht=h[3],xt=Math.sin(b),Pt=Math.cos(b);return _[0]=_e*Pt+rt*xt,_[1]=rt*Pt-_e*xt,_[2]=it*Pt+ht*xt,_[3]=ht*Pt-it*xt,_},s.scale=Yu,s.scale$1=function(_,h,b){return _[0]=h[0]*b,_[1]=h[1]*b,_[2]=h[2]*b,_[3]=h[3]*b,_},s.scale$2=l1,s.scaleAndAdd=C_,s.setCacheLimits=function(_,h){Ns=_,Fs=h},s.setColumn=function(_,h,b){_[4*h+0]=b[0],_[4*h+1]=b[1],_[4*h+2]=b[2],_[4*h+3]=b[3]},s.setRTLTextPlugin=function(_,h,b=!1){if(Hs===Qm||Hs===xp||Hs===e1)throw new Error("setRTLTextPlugin cannot be called multiple times.");ya=_r.resolveURL(_),Hs=Qm,t1=h,Tu(),b||Wu()},s.smoothstep=Kt,s.spec=un,s.storeAuthState=function(_,h){h?As.add(_):As.delete(_)},s.sub=cm,s.subtract=j0,s.symbolSize=Lx,s.tileAABB=function(_,h,b,_e,rt,it,ht,xt,Pt){if(Pt.name==="globe")return ES(_,h,new Zy(b,_e,rt));const Ut=Op({z:b,x:_e,y:rt},Pt);return new Nl([(it+Ut.x/Ut.scale)*h,h*(Ut.y/Ut.scale),ht],[(it+Ut.x2/Ut.scale)*h,h*(Ut.y2/Ut.scale),xt])},s.tileTransform=Op,s.transformMat3=function(_,h,b){var _e=h[0],rt=h[1],it=h[2];return _[0]=_e*b[0]+rt*b[3]+it*b[6],_[1]=_e*b[1]+rt*b[4]+it*b[7],_[2]=_e*b[2]+rt*b[5]+it*b[8],_},s.transformMat4=Mp,s.transformMat4$1=hm,s.transformQuat=D0,s.translate=Rp,s.transpose=function(_,h){if(_===h){var b=h[1],_e=h[2],rt=h[5];_[1]=h[3],_[2]=h[6],_[3]=b,_[5]=h[7],_[6]=_e,_[7]=rt}else _[0]=h[0],_[1]=h[3],_[2]=h[6],_[3]=h[1],_[4]=h[4],_[5]=h[7],_[6]=h[2],_[7]=h[5],_[8]=h[8];return _},s.triggerPluginCompletionEvent=Sp,s.uniqueId=jt,s.validateCustomStyleLayer=function(_){const h=[],b=_.id;return b===void 0&&h.push({message:`layers.${b}: missing required property "id"`}),_.render===void 0&&h.push({message:`layers.${b}: missing required method "render"`}),_.renderingMode&&_.renderingMode!=="2d"&&_.renderingMode!=="3d"&&h.push({message:`layers.${b}: property "renderingMode" must be either "2d" or "3d"`}),h},s.validateFilter=_=>Jl(cu(_)),s.validateFog=_=>Jl(ry(_)),s.validateLayer=_=>Jl(K1(_)),s.validateLight=_=>Jl(ey(_)),s.validateSource=_=>Jl(Q1(_)),s.validateStyle=yp,s.validateTerrain=_=>Jl(ty(_)),s.values=dt,s.vectorTile=Ip,s.version=$,s.warnOnce=Qt,s.window=ft,s.wrap=Yt}),j(["./shared"],function(s){function $(Ir){if(typeof Ir=="number"||typeof Ir=="boolean"||typeof Ir=="string"||Ir==null)return JSON.stringify(Ir);if(Array.isArray(Ir)){let yr="[";for(const Rr of Ir)yr+=`${$(Rr)},`;return`${yr}]`}let dr="{";for(const yr of Object.keys(Ir).sort())dr+=`${yr}:${$(Ir[yr])},`;return`${dr}}`}function et(Ir){let dr="";for(const yr of s.refProperties)dr+=`/${$(Ir[yr])}`;return dr}class ut{constructor(dr){this.keyCache={},dr&&this.replace(dr)}replace(dr){this._layerConfigs={},this._layers={},this.update(dr,[])}update(dr,yr){for(const Br of dr)this._layerConfigs[Br.id]=Br,(this._layers[Br.id]=s.createStyleLayer(Br)).compileFilter(),this.keyCache[Br.id]&&delete this.keyCache[Br.id];for(const Br of yr)delete this.keyCache[Br],delete this._layerConfigs[Br],delete this._layers[Br];this.familiesBySource={};const Rr=function(Br,Hr){const en={};for(let Gr=0;Gr<Br.length;Gr++){const ln=Hr&&Hr[Br[Gr].id]||et(Br[Gr]);Hr&&(Hr[Br[Gr].id]=ln);let En=en[ln];En||(En=en[ln]=[]),En.push(Br[Gr])}const Qr=[];for(const Gr in en)Qr.push(en[Gr]);return Qr}(s.values(this._layerConfigs),this.keyCache);for(const Br of Rr){const Hr=Br.map(Nn=>this._layers[Nn.id]),en=Hr[0];if(en.visibility==="none")continue;const Qr=en.source||"";let Gr=this.familiesBySource[Qr];Gr||(Gr=this.familiesBySource[Qr]={});const ln=en.sourceLayer||"_geojsonTileLayer";let En=Gr[ln];En||(En=Gr[ln]=[]),En.push(Hr)}}}class gt{loadTile(dr,yr){const{uid:Rr,encoding:Br,rawImageData:Hr,padding:en,buildQuadTree:Qr}=dr,Gr=s.window.ImageBitmap&&Hr instanceof s.window.ImageBitmap?this.getImageData(Hr,en):Hr;yr(null,new s.DEMData(Rr,Gr,Br,en<1,Qr))}getImageData(dr,yr){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(dr.width,dr.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=dr.width,this.offscreenCanvas.height=dr.height,this.offscreenCanvasContext.drawImage(dr,0,0,dr.width,dr.height);const Rr=this.offscreenCanvasContext.getImageData(-yr,-yr,dr.width+2*yr,dr.height+2*yr);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),Rr}}var lt=function Ir(dr,yr){var Rr,Br=dr&&dr.type;if(Br==="FeatureCollection")for(Rr=0;Rr<dr.features.length;Rr++)Ir(dr.features[Rr],yr);else if(Br==="GeometryCollection")for(Rr=0;Rr<dr.geometries.length;Rr++)Ir(dr.geometries[Rr],yr);else if(Br==="Feature")Ir(dr.geometry,yr);else if(Br==="Polygon")ft(dr.coordinates,yr);else if(Br==="MultiPolygon")for(Rr=0;Rr<dr.coordinates.length;Rr++)ft(dr.coordinates[Rr],yr);return dr};function ft(Ir,dr){if(Ir.length!==0){ot(Ir[0],dr);for(var yr=1;yr<Ir.length;yr++)ot(Ir[yr],!dr)}}function ot(Ir,dr){for(var yr=0,Rr=0,Br=0,Hr=Ir.length,en=Hr-1;Br<Hr;en=Br++){var Qr=(Ir[Br][0]-Ir[en][0])*(Ir[en][1]+Ir[Br][1]),Gr=yr+Qr;Rr+=Math.abs(yr)>=Math.abs(Qr)?yr-Gr+Qr:Qr-Gr+yr,yr=Gr}yr+Rr>=0!=!!dr&&Ir.reverse()}const yt=s.vectorTile.VectorTileFeature.prototype.toGeoJSON;class wt{constructor(dr){this._feature=dr,this.extent=s.EXTENT,this.type=dr.type,this.properties=dr.tags,"id"in dr&&!isNaN(dr.id)&&(this.id=parseInt(dr.id,10))}loadGeometry(){if(this._feature.type===1){const dr=[];for(const yr of this._feature.geometry)dr.push([new s.pointGeometry(yr[0],yr[1])]);return dr}{const dr=[];for(const yr of this._feature.geometry){const Rr=[];for(const Br of yr)Rr.push(new s.pointGeometry(Br[0],Br[1]));dr.push(Rr)}return dr}}toGeoJSON(dr,yr,Rr){return yt.call(this,dr,yr,Rr)}}class Rt{constructor(dr){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=s.EXTENT,this.length=dr.length,this._features=dr}feature(dr){return new wt(this._features[dr])}}var Mt=s.vectorTile.VectorTileFeature,Tt=Ct;function Ct(Ir,dr){this.options=dr||{},this.features=Ir,this.length=Ir.length}function ct(Ir,dr){this.id=typeof Ir.id=="number"?Ir.id:void 0,this.type=Ir.type,this.rawGeometry=Ir.type===1?[Ir.geometry]:Ir.geometry,this.properties=Ir.tags,this.extent=dr||4096}Ct.prototype.feature=function(Ir){return new ct(this.features[Ir],this.options.extent)},ct.prototype.loadGeometry=function(){var Ir=this.rawGeometry;this.geometry=[];for(var dr=0;dr<Ir.length;dr++){for(var yr=Ir[dr],Rr=[],Br=0;Br<yr.length;Br++)Rr.push(new s.pointGeometry(yr[Br][0],yr[Br][1]));this.geometry.push(Rr)}return this.geometry},ct.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var Ir=this.geometry,dr=1/0,yr=-1/0,Rr=1/0,Br=-1/0,Hr=0;Hr<Ir.length;Hr++)for(var en=Ir[Hr],Qr=0;Qr<en.length;Qr++){var Gr=en[Qr];dr=Math.min(dr,Gr.x),yr=Math.max(yr,Gr.x),Rr=Math.min(Rr,Gr.y),Br=Math.max(Br,Gr.y)}return[dr,Rr,yr,Br]},ct.prototype.toGeoJSON=Mt.prototype.toGeoJSON;var Lt=Yt,Kt=Tt;function Yt(Ir){var dr=new s.pbf;return function(yr,Rr){for(var Br in yr.layers)Rr.writeMessage(3,pt,yr.layers[Br])}(Ir,dr),dr.finish()}function pt(Ir,dr){var yr;dr.writeVarintField(15,Ir.version||1),dr.writeStringField(1,Ir.name||""),dr.writeVarintField(5,Ir.extent||4096);var Rr={keys:[],values:[],keycache:{},valuecache:{}};for(yr=0;yr<Ir.length;yr++)Rr.feature=Ir.feature(yr),dr.writeMessage(2,dt,Rr);var Br=Rr.keys;for(yr=0;yr<Br.length;yr++)dr.writeStringField(3,Br[yr]);var Hr=Rr.values;for(yr=0;yr<Hr.length;yr++)dr.writeMessage(4,kt,Hr[yr])}function dt(Ir,dr){var yr=Ir.feature;yr.id!==void 0&&dr.writeVarintField(1,yr.id),dr.writeMessage(2,bt,Ir),dr.writeVarintField(3,yr.type),dr.writeMessage(4,zt,yr)}function bt(Ir,dr){var yr=Ir.feature,Rr=Ir.keys,Br=Ir.values,Hr=Ir.keycache,en=Ir.valuecache;for(var Qr in yr.properties){var Gr=yr.properties[Qr],ln=Hr[Qr];if(Gr!==null){ln===void 0&&(Rr.push(Qr),Hr[Qr]=ln=Rr.length-1),dr.writeVarint(ln);var En=typeof Gr;En!=="string"&&En!=="boolean"&&En!=="number"&&(Gr=JSON.stringify(Gr));var Nn=En+":"+Gr,Cn=en[Nn];Cn===void 0&&(Br.push(Gr),en[Nn]=Cn=Br.length-1),dr.writeVarint(Cn)}}}function mt(Ir,dr){return(dr<<3)+(7&Ir)}function jt(Ir){return Ir<<1^Ir>>31}function zt(Ir,dr){for(var yr=Ir.loadGeometry(),Rr=Ir.type,Br=0,Hr=0,en=yr.length,Qr=0;Qr<en;Qr++){var Gr=yr[Qr],ln=1;Rr===1&&(ln=Gr.length),dr.writeVarint(mt(1,ln));for(var En=Rr===3?Gr.length-1:Gr.length,Nn=0;Nn<En;Nn++){Nn===1&&Rr!==1&&dr.writeVarint(mt(2,En-1));var Cn=Gr[Nn].x-Br,Jn=Gr[Nn].y-Hr;dr.writeVarint(jt(Cn)),dr.writeVarint(jt(Jn)),Br+=Cn,Hr+=Jn}Rr===3&&dr.writeVarint(mt(7,1))}}function kt(Ir,dr){var yr=typeof Ir;yr==="string"?dr.writeStringField(1,Ir):yr==="boolean"?dr.writeBooleanField(7,Ir):yr==="number"&&(Ir%1!=0?dr.writeDoubleField(3,Ir):Ir<0?dr.writeSVarintField(6,Ir):dr.writeVarintField(5,Ir))}function St(Ir,dr,yr,Rr,Br,Hr){if(Br-Rr<=yr)return;const en=Rr+Br>>1;Dt(Ir,dr,en,Rr,Br,Hr%2),St(Ir,dr,yr,Rr,en-1,Hr+1),St(Ir,dr,yr,en+1,Br,Hr+1)}function Dt(Ir,dr,yr,Rr,Br,Hr){for(;Br>Rr;){if(Br-Rr>600){const ln=Br-Rr+1,En=yr-Rr+1,Nn=Math.log(ln),Cn=.5*Math.exp(2*Nn/3),Jn=.5*Math.sqrt(Nn*Cn*(ln-Cn)/ln)*(En-ln/2<0?-1:1);Dt(Ir,dr,yr,Math.max(Rr,Math.floor(yr-En*Cn/ln+Jn)),Math.min(Br,Math.floor(yr+(ln-En)*Cn/ln+Jn)),Hr)}const en=dr[2*yr+Hr];let Qr=Rr,Gr=Br;for(Nt(Ir,dr,Rr,yr),dr[2*Br+Hr]>en&&Nt(Ir,dr,Rr,Br);Qr<Gr;){for(Nt(Ir,dr,Qr,Gr),Qr++,Gr--;dr[2*Qr+Hr]<en;)Qr++;for(;dr[2*Gr+Hr]>en;)Gr--}dr[2*Rr+Hr]===en?Nt(Ir,dr,Rr,Gr):(Gr++,Nt(Ir,dr,Gr,Br)),Gr<=yr&&(Rr=Gr+1),yr<=Gr&&(Br=Gr-1)}}function Nt(Ir,dr,yr,Rr){_t(Ir,yr,Rr),_t(dr,2*yr,2*Rr),_t(dr,2*yr+1,2*Rr+1)}function _t(Ir,dr,yr){const Rr=Ir[dr];Ir[dr]=Ir[yr],Ir[yr]=Rr}function at(Ir,dr,yr,Rr){const Br=Ir-yr,Hr=dr-Rr;return Br*Br+Hr*Hr}Lt.fromVectorTileJs=Yt,Lt.fromGeojsonVt=function(Ir,dr){dr=dr||{};var yr={};for(var Rr in Ir)yr[Rr]=new Tt(Ir[Rr].features,dr),yr[Rr].name=Rr,yr[Rr].version=dr.version,yr[Rr].extent=dr.extent;return Yt({layers:yr})},Lt.GeoJSONWrapper=Kt;const Bt=Ir=>Ir[0],Vt=Ir=>Ir[1];class Qt{constructor(dr,yr=Bt,Rr=Vt,Br=64,Hr=Float64Array){this.nodeSize=Br,this.points=dr;const en=dr.length<65536?Uint16Array:Uint32Array,Qr=this.ids=new en(dr.length),Gr=this.coords=new Hr(2*dr.length);for(let ln=0;ln<dr.length;ln++)Qr[ln]=ln,Gr[2*ln]=yr(dr[ln]),Gr[2*ln+1]=Rr(dr[ln]);St(Qr,Gr,Br,0,Qr.length-1,0)}range(dr,yr,Rr,Br){return function(Hr,en,Qr,Gr,ln,En,Nn){const Cn=[0,Hr.length-1,0],Jn=[];let Xn,Wn;for(;Cn.length;){const ro=Cn.pop(),un=Cn.pop(),xo=Cn.pop();if(un-xo<=Nn){for(let so=xo;so<=un;so++)Xn=en[2*so],Wn=en[2*so+1],Xn>=Qr&&Xn<=ln&&Wn>=Gr&&Wn<=En&&Jn.push(Hr[so]);continue}const Un=Math.floor((xo+un)/2);Xn=en[2*Un],Wn=en[2*Un+1],Xn>=Qr&&Xn<=ln&&Wn>=Gr&&Wn<=En&&Jn.push(Hr[Un]);const vo=(ro+1)%2;(ro===0?Qr<=Xn:Gr<=Wn)&&(Cn.push(xo),Cn.push(Un-1),Cn.push(vo)),(ro===0?ln>=Xn:En>=Wn)&&(Cn.push(Un+1),Cn.push(un),Cn.push(vo))}return Jn}(this.ids,this.coords,dr,yr,Rr,Br,this.nodeSize)}within(dr,yr,Rr){return function(Br,Hr,en,Qr,Gr,ln){const En=[0,Br.length-1,0],Nn=[],Cn=Gr*Gr;for(;En.length;){const Jn=En.pop(),Xn=En.pop(),Wn=En.pop();if(Xn-Wn<=ln){for(let vo=Wn;vo<=Xn;vo++)at(Hr[2*vo],Hr[2*vo+1],en,Qr)<=Cn&&Nn.push(Br[vo]);continue}const ro=Math.floor((Wn+Xn)/2),un=Hr[2*ro],xo=Hr[2*ro+1];at(un,xo,en,Qr)<=Cn&&Nn.push(Br[ro]);const Un=(Jn+1)%2;(Jn===0?en-Gr<=un:Qr-Gr<=xo)&&(En.push(Wn),En.push(ro-1),En.push(Un)),(Jn===0?en+Gr>=un:Qr+Gr>=xo)&&(En.push(ro+1),En.push(Xn),En.push(Un))}return Nn}(this.ids,this.coords,dr,yr,Rr,this.nodeSize)}}const or={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:Ir=>Ir},ar=Math.fround||(qt=new Float32Array(1),Ir=>(qt[0]=+Ir,qt[0]));var qt;class Gt{constructor(dr){this.options=_r(Object.create(or),dr),this.trees=new Array(this.options.maxZoom+1)}load(dr){const{log:yr,minZoom:Rr,maxZoom:Br,nodeSize:Hr}=this.options;yr&&console.time("total time");const en=`prepare ${dr.length} points`;yr&&console.time(en),this.points=dr;let Qr=[];for(let Gr=0;Gr<dr.length;Gr++)dr[Gr].geometry&&Qr.push(At(dr[Gr],Gr));this.trees[Br+1]=new Qt(Qr,ir,cr,Hr,Float32Array),yr&&console.timeEnd(en);for(let Gr=Br;Gr>=Rr;Gr--){const ln=+Date.now();Qr=this._cluster(Qr,Gr),this.trees[Gr]=new Qt(Qr,ir,cr,Hr,Float32Array),yr&&console.log("z%d: %d clusters in %dms",Gr,Qr.length,+Date.now()-ln)}return yr&&console.timeEnd("total time"),this}getClusters(dr,yr){let Rr=((dr[0]+180)%360+360)%360-180;const Br=Math.max(-90,Math.min(90,dr[1]));let Hr=dr[2]===180?180:((dr[2]+180)%360+360)%360-180;const en=Math.max(-90,Math.min(90,dr[3]));if(dr[2]-dr[0]>=360)Rr=-180,Hr=180;else if(Rr>Hr){const En=this.getClusters([Rr,Br,180,en],yr),Nn=this.getClusters([-180,Br,Hr,en],yr);return En.concat(Nn)}const Qr=this.trees[this._limitZoom(yr)],Gr=Qr.range(Zt(Rr),rr(en),Zt(Hr),rr(Br)),ln=[];for(const En of Gr){const Nn=Qr.points[En];ln.push(Nn.numPoints?It(Nn):this.points[Nn.index])}return ln}getChildren(dr){const yr=this._getOriginId(dr),Rr=this._getOriginZoom(dr),Br="No cluster with the specified id.",Hr=this.trees[Rr];if(!Hr)throw new Error(Br);const en=Hr.points[yr];if(!en)throw new Error(Br);const Qr=this.options.radius/(this.options.extent*Math.pow(2,Rr-1)),Gr=Hr.within(en.x,en.y,Qr),ln=[];for(const En of Gr){const Nn=Hr.points[En];Nn.parentId===dr&&ln.push(Nn.numPoints?It(Nn):this.points[Nn.index])}if(ln.length===0)throw new Error(Br);return ln}getLeaves(dr,yr,Rr){const Br=[];return this._appendLeaves(Br,dr,yr=yr||10,Rr=Rr||0,0),Br}getTile(dr,yr,Rr){const Br=this.trees[this._limitZoom(dr)],Hr=Math.pow(2,dr),{extent:en,radius:Qr}=this.options,Gr=Qr/en,ln=(Rr-Gr)/Hr,En=(Rr+1+Gr)/Hr,Nn={features:[]};return this._addTileFeatures(Br.range((yr-Gr)/Hr,ln,(yr+1+Gr)/Hr,En),Br.points,yr,Rr,Hr,Nn),yr===0&&this._addTileFeatures(Br.range(1-Gr/Hr,ln,1,En),Br.points,Hr,Rr,Hr,Nn),yr===Hr-1&&this._addTileFeatures(Br.range(0,ln,Gr/Hr,En),Br.points,-1,Rr,Hr,Nn),Nn.features.length?Nn:null}getClusterExpansionZoom(dr){let yr=this._getOriginZoom(dr)-1;for(;yr<=this.options.maxZoom;){const Rr=this.getChildren(dr);if(yr++,Rr.length!==1)break;dr=Rr[0].properties.cluster_id}return yr}_appendLeaves(dr,yr,Rr,Br,Hr){const en=this.getChildren(yr);for(const Qr of en){const Gr=Qr.properties;if(Gr&&Gr.cluster?Hr+Gr.point_count<=Br?Hr+=Gr.point_count:Hr=this._appendLeaves(dr,Gr.cluster_id,Rr,Br,Hr):Hr<Br?Hr++:dr.push(Qr),dr.length===Rr)break}return Hr}_addTileFeatures(dr,yr,Rr,Br,Hr,en){for(const Qr of dr){const Gr=yr[Qr],ln=Gr.numPoints;let En,Nn,Cn;if(ln)En=Ht(Gr),Nn=Gr.x,Cn=Gr.y;else{const Wn=this.points[Gr.index];En=Wn.properties,Nn=Zt(Wn.geometry.coordinates[0]),Cn=rr(Wn.geometry.coordinates[1])}const Jn={type:1,geometry:[[Math.round(this.options.extent*(Nn*Hr-Rr)),Math.round(this.options.extent*(Cn*Hr-Br))]],tags:En};let Xn;ln?Xn=Gr.id:this.options.generateId?Xn=Gr.index:this.points[Gr.index].id&&(Xn=this.points[Gr.index].id),Xn!==void 0&&(Jn.id=Xn),en.features.push(Jn)}}_limitZoom(dr){return Math.max(this.options.minZoom,Math.min(+dr,this.options.maxZoom+1))}_cluster(dr,yr){const Rr=[],{radius:Br,extent:Hr,reduce:en,minPoints:Qr}=this.options,Gr=Br/(Hr*Math.pow(2,yr));for(let ln=0;ln<dr.length;ln++){const En=dr[ln];if(En.zoom<=yr)continue;En.zoom=yr;const Nn=this.trees[yr+1],Cn=Nn.within(En.x,En.y,Gr),Jn=En.numPoints||1;let Xn=Jn;for(const Wn of Cn){const ro=Nn.points[Wn];ro.zoom>yr&&(Xn+=ro.numPoints||1)}if(Xn>Jn&&Xn>=Qr){let Wn=En.x*Jn,ro=En.y*Jn,un=en&&Jn>1?this._map(En,!0):null;const xo=(ln<<5)+(yr+1)+this.points.length;for(const Un of Cn){const vo=Nn.points[Un];if(vo.zoom<=yr)continue;vo.zoom=yr;const so=vo.numPoints||1;Wn+=vo.x*so,ro+=vo.y*so,vo.parentId=xo,en&&(un||(un=this._map(En,!0)),en(un,this._map(vo)))}En.parentId=xo,Rr.push(vt(Wn/Xn,ro/Xn,xo,Xn,un))}else if(Rr.push(En),Xn>1)for(const Wn of Cn){const ro=Nn.points[Wn];ro.zoom<=yr||(ro.zoom=yr,Rr.push(ro))}}return Rr}_getOriginId(dr){return dr-this.points.length>>5}_getOriginZoom(dr){return(dr-this.points.length)%32}_map(dr,yr){if(dr.numPoints)return yr?_r({},dr.properties):dr.properties;const Rr=this.points[dr.index].properties,Br=this.options.map(Rr);return yr&&Br===Rr?_r({},Br):Br}}function vt(Ir,dr,yr,Rr,Br){return{x:ar(Ir),y:ar(dr),zoom:1/0,id:yr,parentId:-1,numPoints:Rr,properties:Br}}function At(Ir,dr){const[yr,Rr]=Ir.geometry.coordinates;return{x:ar(Zt(yr)),y:ar(rr(Rr)),zoom:1/0,index:dr,parentId:-1}}function It(Ir){return{type:"Feature",id:Ir.id,properties:Ht(Ir),geometry:{type:"Point",coordinates:[(dr=Ir.x,360*(dr-.5)),pr(Ir.y)]}};var dr}function Ht(Ir){const dr=Ir.numPoints,yr=dr>=1e4?`${Math.round(dr/1e3)}k`:dr>=1e3?Math.round(dr/100)/10+"k":dr;return _r(_r({},Ir.properties),{cluster:!0,cluster_id:Ir.id,point_count:dr,point_count_abbreviated:yr})}function Zt(Ir){return Ir/360+.5}function rr(Ir){const dr=Math.sin(Ir*Math.PI/180),yr=.5-.25*Math.log((1+dr)/(1-dr))/Math.PI;return yr<0?0:yr>1?1:yr}function pr(Ir){const dr=(180-360*Ir)*Math.PI/180;return 360*Math.atan(Math.exp(dr))/Math.PI-90}function _r(Ir,dr){for(const yr in dr)Ir[yr]=dr[yr];return Ir}function ir(Ir){return Ir.x}function cr(Ir){return Ir.y}function mr(Ir,dr,yr,Rr){for(var Br,Hr=Rr,en=yr-dr>>1,Qr=yr-dr,Gr=Ir[dr],ln=Ir[dr+1],En=Ir[yr],Nn=Ir[yr+1],Cn=dr+3;Cn<yr;Cn+=3){var Jn=Cr(Ir[Cn],Ir[Cn+1],Gr,ln,En,Nn);if(Jn>Hr)Br=Cn,Hr=Jn;else if(Jn===Hr){var Xn=Math.abs(Cn-en);Xn<Qr&&(Br=Cn,Qr=Xn)}}Hr>Rr&&(Br-dr>3&&mr(Ir,dr,Br,Rr),Ir[Br+2]=Hr,yr-Br>3&&mr(Ir,Br,yr,Rr))}function Cr(Ir,dr,yr,Rr,Br,Hr){var en=Br-yr,Qr=Hr-Rr;if(en!==0||Qr!==0){var Gr=((Ir-yr)*en+(dr-Rr)*Qr)/(en*en+Qr*Qr);Gr>1?(yr=Br,Rr=Hr):Gr>0&&(yr+=en*Gr,Rr+=Qr*Gr)}return(en=Ir-yr)*en+(Qr=dr-Rr)*Qr}function Mr(Ir,dr,yr,Rr){var Br={id:Ir===void 0?null:Ir,type:dr,geometry:yr,tags:Rr,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(Hr){var en=Hr.geometry,Qr=Hr.type;if(Qr==="Point"||Qr==="MultiPoint"||Qr==="LineString")Yr(Hr,en);else if(Qr==="Polygon"||Qr==="MultiLineString")for(var Gr=0;Gr<en.length;Gr++)Yr(Hr,en[Gr]);else if(Qr==="MultiPolygon")for(Gr=0;Gr<en.length;Gr++)for(var ln=0;ln<en[Gr].length;ln++)Yr(Hr,en[Gr][ln])}(Br),Br}function Yr(Ir,dr){for(var yr=0;yr<dr.length;yr+=3)Ir.minX=Math.min(Ir.minX,dr[yr]),Ir.minY=Math.min(Ir.minY,dr[yr+1]),Ir.maxX=Math.max(Ir.maxX,dr[yr]),Ir.maxY=Math.max(Ir.maxY,dr[yr+1])}function an(Ir,dr,yr,Rr){if(dr.geometry){var Br=dr.geometry.coordinates,Hr=dr.geometry.type,en=Math.pow(yr.tolerance/((1<<yr.maxZoom)*yr.extent),2),Qr=[],Gr=dr.id;if(yr.promoteId?Gr=dr.properties[yr.promoteId]:yr.generateId&&(Gr=Rr||0),Hr==="Point")dn(Br,Qr);else if(Hr==="MultiPoint")for(var ln=0;ln<Br.length;ln++)dn(Br[ln],Qr);else if(Hr==="LineString")rn(Br,Qr,en,!1);else if(Hr==="MultiLineString"){if(yr.lineMetrics){for(ln=0;ln<Br.length;ln++)rn(Br[ln],Qr=[],en,!1),Ir.push(Mr(Gr,"LineString",Qr,dr.properties));return}tn(Br,Qr,en,!1)}else if(Hr==="Polygon")tn(Br,Qr,en,!0);else{if(Hr!=="MultiPolygon"){if(Hr==="GeometryCollection"){for(ln=0;ln<dr.geometry.geometries.length;ln++)an(Ir,{id:Gr,geometry:dr.geometry.geometries[ln],properties:dr.properties},yr,Rr);return}throw new Error("Input data is not a valid GeoJSON object.")}for(ln=0;ln<Br.length;ln++){var En=[];tn(Br[ln],En,en,!0),Qr.push(En)}}Ir.push(Mr(Gr,Hr,Qr,dr.properties))}}function dn(Ir,dr){dr.push(Hn(Ir[0])),dr.push(Qn(Ir[1])),dr.push(0)}function rn(Ir,dr,yr,Rr){for(var Br,Hr,en=0,Qr=0;Qr<Ir.length;Qr++){var Gr=Hn(Ir[Qr][0]),ln=Qn(Ir[Qr][1]);dr.push(Gr),dr.push(ln),dr.push(0),Qr>0&&(en+=Rr?(Br*ln-Gr*Hr)/2:Math.sqrt(Math.pow(Gr-Br,2)+Math.pow(ln-Hr,2))),Br=Gr,Hr=ln}var En=dr.length-3;dr[2]=1,mr(dr,0,En,yr),dr[En+2]=1,dr.size=Math.abs(en),dr.start=0,dr.end=dr.size}function tn(Ir,dr,yr,Rr){for(var Br=0;Br<Ir.length;Br++){var Hr=[];rn(Ir[Br],Hr,yr,Rr),dr.push(Hr)}}function Hn(Ir){return Ir/360+.5}function Qn(Ir){var dr=Math.sin(Ir*Math.PI/180),yr=.5-.25*Math.log((1+dr)/(1-dr))/Math.PI;return yr<0?0:yr>1?1:yr}function io(Ir,dr,yr,Rr,Br,Hr,en,Qr){if(Rr/=dr,Hr>=(yr/=dr)&&en<Rr)return Ir;if(en<yr||Hr>=Rr)return null;for(var Gr=[],ln=0;ln<Ir.length;ln++){var En=Ir[ln],Nn=En.geometry,Cn=En.type,Jn=Br===0?En.minX:En.minY,Xn=Br===0?En.maxX:En.maxY;if(Jn>=yr&&Xn<Rr)Gr.push(En);else if(!(Xn<yr||Jn>=Rr)){var Wn=[];if(Cn==="Point"||Cn==="MultiPoint")yo(Nn,Wn,yr,Rr,Br);else if(Cn==="LineString")ko(Nn,Wn,yr,Rr,Br,!1,Qr.lineMetrics);else if(Cn==="MultiLineString")qo(Nn,Wn,yr,Rr,Br,!1);else if(Cn==="Polygon")qo(Nn,Wn,yr,Rr,Br,!0);else if(Cn==="MultiPolygon")for(var ro=0;ro<Nn.length;ro++){var un=[];qo(Nn[ro],un,yr,Rr,Br,!0),un.length&&Wn.push(un)}if(Wn.length){if(Qr.lineMetrics&&Cn==="LineString"){for(ro=0;ro<Wn.length;ro++)Gr.push(Mr(En.id,Cn,Wn[ro],En.tags));continue}Cn!=="LineString"&&Cn!=="MultiLineString"||(Wn.length===1?(Cn="LineString",Wn=Wn[0]):Cn="MultiLineString"),Cn!=="Point"&&Cn!=="MultiPoint"||(Cn=Wn.length===3?"Point":"MultiPoint"),Gr.push(Mr(En.id,Cn,Wn,En.tags))}}}return Gr.length?Gr:null}function yo(Ir,dr,yr,Rr,Br){for(var Hr=0;Hr<Ir.length;Hr+=3){var en=Ir[Hr+Br];en>=yr&&en<=Rr&&(dr.push(Ir[Hr]),dr.push(Ir[Hr+1]),dr.push(Ir[Hr+2]))}}function ko(Ir,dr,yr,Rr,Br,Hr,en){for(var Qr,Gr,ln=Ho(Ir),En=Br===0?Vo:ss,Nn=Ir.start,Cn=0;Cn<Ir.length-3;Cn+=3){var Jn=Ir[Cn],Xn=Ir[Cn+1],Wn=Ir[Cn+2],ro=Ir[Cn+3],un=Ir[Cn+4],xo=Br===0?Jn:Xn,Un=Br===0?ro:un,vo=!1;en&&(Qr=Math.sqrt(Math.pow(Jn-ro,2)+Math.pow(Xn-un,2))),xo<yr?Un>yr&&(Gr=En(ln,Jn,Xn,ro,un,yr),en&&(ln.start=Nn+Qr*Gr)):xo>Rr?Un<Rr&&(Gr=En(ln,Jn,Xn,ro,un,Rr),en&&(ln.start=Nn+Qr*Gr)):Fo(ln,Jn,Xn,Wn),Un<yr&&xo>=yr&&(Gr=En(ln,Jn,Xn,ro,un,yr),vo=!0),Un>Rr&&xo<=Rr&&(Gr=En(ln,Jn,Xn,ro,un,Rr),vo=!0),!Hr&&vo&&(en&&(ln.end=Nn+Qr*Gr),dr.push(ln),ln=Ho(Ir)),en&&(Nn+=Qr)}var so=Ir.length-3;Jn=Ir[so],Xn=Ir[so+1],Wn=Ir[so+2],(xo=Br===0?Jn:Xn)>=yr&&xo<=Rr&&Fo(ln,Jn,Xn,Wn),so=ln.length-3,Hr&&so>=3&&(ln[so]!==ln[0]||ln[so+1]!==ln[1])&&Fo(ln,ln[0],ln[1],ln[2]),ln.length&&dr.push(ln)}function Ho(Ir){var dr=[];return dr.size=Ir.size,dr.start=Ir.start,dr.end=Ir.end,dr}function qo(Ir,dr,yr,Rr,Br,Hr){for(var en=0;en<Ir.length;en++)ko(Ir[en],dr,yr,Rr,Br,Hr,!1)}function Fo(Ir,dr,yr,Rr){Ir.push(dr),Ir.push(yr),Ir.push(Rr)}function Vo(Ir,dr,yr,Rr,Br,Hr){var en=(Hr-dr)/(Rr-dr);return Ir.push(Hr),Ir.push(yr+(Br-yr)*en),Ir.push(1),en}function ss(Ir,dr,yr,Rr,Br,Hr){var en=(Hr-yr)/(Br-yr);return Ir.push(dr+(Rr-dr)*en),Ir.push(Hr),Ir.push(1),en}function ds(Ir,dr){for(var yr=[],Rr=0;Rr<Ir.length;Rr++){var Br,Hr=Ir[Rr],en=Hr.type;if(en==="Point"||en==="MultiPoint"||en==="LineString")Br=fs(Hr.geometry,dr);else if(en==="MultiLineString"||en==="Polygon"){Br=[];for(var Qr=0;Qr<Hr.geometry.length;Qr++)Br.push(fs(Hr.geometry[Qr],dr))}else if(en==="MultiPolygon")for(Br=[],Qr=0;Qr<Hr.geometry.length;Qr++){for(var Gr=[],ln=0;ln<Hr.geometry[Qr].length;ln++)Gr.push(fs(Hr.geometry[Qr][ln],dr));Br.push(Gr)}yr.push(Mr(Hr.id,en,Br,Hr.tags))}return yr}function fs(Ir,dr){var yr=[];yr.size=Ir.size,Ir.start!==void 0&&(yr.start=Ir.start,yr.end=Ir.end);for(var Rr=0;Rr<Ir.length;Rr+=3)yr.push(Ir[Rr]+dr,Ir[Rr+1],Ir[Rr+2]);return yr}function Ul(Ir,dr){if(Ir.transformed)return Ir;var yr,Rr,Br,Hr=1<<Ir.z,en=Ir.x,Qr=Ir.y;for(yr=0;yr<Ir.features.length;yr++){var Gr=Ir.features[yr],ln=Gr.geometry,En=Gr.type;if(Gr.geometry=[],En===1)for(Rr=0;Rr<ln.length;Rr+=2)Gr.geometry.push(As(ln[Rr],ln[Rr+1],dr,Hr,en,Qr));else for(Rr=0;Rr<ln.length;Rr++){var Nn=[];for(Br=0;Br<ln[Rr].length;Br+=2)Nn.push(As(ln[Rr][Br],ln[Rr][Br+1],dr,Hr,en,Qr));Gr.geometry.push(Nn)}}return Ir.transformed=!0,Ir}function As(Ir,dr,yr,Rr,Br,Hr){return[Math.round(yr*(Ir*Rr-Br)),Math.round(yr*(dr*Rr-Hr))]}function xl(Ir,dr,yr,Rr,Br){for(var Hr=dr===Br.maxZoom?0:Br.tolerance/((1<<dr)*Br.extent),en={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:yr,y:Rr,z:dr,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},Qr=0;Qr<Ir.length;Qr++){en.numFeatures++,bs(en,Ir[Qr],Hr,Br);var Gr=Ir[Qr].minX,ln=Ir[Qr].minY,En=Ir[Qr].maxX,Nn=Ir[Qr].maxY;Gr<en.minX&&(en.minX=Gr),ln<en.minY&&(en.minY=ln),En>en.maxX&&(en.maxX=En),Nn>en.maxY&&(en.maxY=Nn)}return en}function bs(Ir,dr,yr,Rr){var Br=dr.geometry,Hr=dr.type,en=[];if(Hr==="Point"||Hr==="MultiPoint")for(var Qr=0;Qr<Br.length;Qr+=3)en.push(Br[Qr]),en.push(Br[Qr+1]),Ir.numPoints++,Ir.numSimplified++;else if(Hr==="LineString")Ps(en,Br,Ir,yr,!1,!1);else if(Hr==="MultiLineString"||Hr==="Polygon")for(Qr=0;Qr<Br.length;Qr++)Ps(en,Br[Qr],Ir,yr,Hr==="Polygon",Qr===0);else if(Hr==="MultiPolygon")for(var Gr=0;Gr<Br.length;Gr++){var ln=Br[Gr];for(Qr=0;Qr<ln.length;Qr++)Ps(en,ln[Qr],Ir,yr,!0,Qr===0)}if(en.length){var En=dr.tags||null;if(Hr==="LineString"&&Rr.lineMetrics){for(var Nn in En={},dr.tags)En[Nn]=dr.tags[Nn];En.mapbox_clip_start=Br.start/Br.size,En.mapbox_clip_end=Br.end/Br.size}var Cn={geometry:en,type:Hr==="Polygon"||Hr==="MultiPolygon"?3:Hr==="LineString"||Hr==="MultiLineString"?2:1,tags:En};dr.id!==null&&(Cn.id=dr.id),Ir.features.push(Cn)}}function Ps(Ir,dr,yr,Rr,Br,Hr){var en=Rr*Rr;if(Rr>0&&dr.size<(Br?en:Rr))yr.numPoints+=dr.length/3;else{for(var Qr=[],Gr=0;Gr<dr.length;Gr+=3)(Rr===0||dr[Gr+2]>en)&&(yr.numSimplified++,Qr.push(dr[Gr]),Qr.push(dr[Gr+1])),yr.numPoints++;Br&&function(ln,En){for(var Nn=0,Cn=0,Jn=ln.length,Xn=Jn-2;Cn<Jn;Xn=Cn,Cn+=2)Nn+=(ln[Cn]-ln[Xn])*(ln[Cn+1]+ln[Xn+1]);if(Nn>0===En)for(Cn=0,Jn=ln.length;Cn<Jn/2;Cn+=2){var Wn=ln[Cn],ro=ln[Cn+1];ln[Cn]=ln[Jn-2-Cn],ln[Cn+1]=ln[Jn-1-Cn],ln[Jn-2-Cn]=Wn,ln[Jn-1-Cn]=ro}}(Qr,Hr),Ir.push(Qr)}}function Ns(Ir,dr){var yr=(dr=this.options=function(Br,Hr){for(var en in Hr)Br[en]=Hr[en];return Br}(Object.create(this.options),dr)).debug;if(yr&&console.time("preprocess data"),dr.maxZoom<0||dr.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(dr.promoteId&&dr.generateId)throw new Error("promoteId and generateId cannot be used together.");var Rr=function(Br,Hr){var en=[];if(Br.type==="FeatureCollection")for(var Qr=0;Qr<Br.features.length;Qr++)an(en,Br.features[Qr],Hr,Qr);else an(en,Br.type==="Feature"?Br:{geometry:Br},Hr);return en}(Ir,dr);this.tiles={},this.tileCoords=[],yr&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",dr.indexMaxZoom,dr.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(Rr=function(Br,Hr){var en=Hr.buffer/Hr.extent,Qr=Br,Gr=io(Br,1,-1-en,en,0,-1,2,Hr),ln=io(Br,1,1-en,2+en,0,-1,2,Hr);return(Gr||ln)&&(Qr=io(Br,1,-en,1+en,0,-1,2,Hr)||[],Gr&&(Qr=ds(Gr,1).concat(Qr)),ln&&(Qr=Qr.concat(ds(ln,-1)))),Qr}(Rr,dr)).length&&this.splitTile(Rr,0,0,0),yr&&(Rr.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Fs(Ir,dr,yr){return 32*((1<<Ir)*yr+dr)+Ir}function Ys(Ir,dr){const yr=Ir.tileID.canonical;if(!this._geoJSONIndex)return dr(null,null);const Rr=this._geoJSONIndex.getTile(yr.z,yr.x,yr.y);if(!Rr)return dr(null,null);const Br=new Rt(Rr.features);let Hr=Lt(Br);Hr.byteOffset===0&&Hr.byteLength===Hr.buffer.byteLength||(Hr=new Uint8Array(Hr)),dr(null,{vectorTile:Br,rawData:Hr.buffer})}Ns.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ns.prototype.splitTile=function(Ir,dr,yr,Rr,Br,Hr,en){for(var Qr=[Ir,dr,yr,Rr],Gr=this.options,ln=Gr.debug;Qr.length;){Rr=Qr.pop(),yr=Qr.pop(),dr=Qr.pop(),Ir=Qr.pop();var En=1<<dr,Nn=Fs(dr,yr,Rr),Cn=this.tiles[Nn];if(!Cn&&(ln>1&&console.time("creation"),Cn=this.tiles[Nn]=xl(Ir,dr,yr,Rr,Gr),this.tileCoords.push({z:dr,x:yr,y:Rr}),ln)){ln>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",dr,yr,Rr,Cn.numFeatures,Cn.numPoints,Cn.numSimplified),console.timeEnd("creation"));var Jn="z"+dr;this.stats[Jn]=(this.stats[Jn]||0)+1,this.total++}if(Cn.source=Ir,Br){if(dr===Gr.maxZoom||dr===Br)continue;var Xn=1<<Br-dr;if(yr!==Math.floor(Hr/Xn)||Rr!==Math.floor(en/Xn))continue}else if(dr===Gr.indexMaxZoom||Cn.numPoints<=Gr.indexMaxPoints)continue;if(Cn.source=null,Ir.length!==0){ln>1&&console.time("clipping");var Wn,ro,un,xo,Un,vo,so=.5*Gr.buffer/Gr.extent,Us=.5-so,ks=.5+so,Pn=1+so;Wn=ro=un=xo=null,Un=io(Ir,En,yr-so,yr+ks,0,Cn.minX,Cn.maxX,Gr),vo=io(Ir,En,yr+Us,yr+Pn,0,Cn.minX,Cn.maxX,Gr),Ir=null,Un&&(Wn=io(Un,En,Rr-so,Rr+ks,1,Cn.minY,Cn.maxY,Gr),ro=io(Un,En,Rr+Us,Rr+Pn,1,Cn.minY,Cn.maxY,Gr),Un=null),vo&&(un=io(vo,En,Rr-so,Rr+ks,1,Cn.minY,Cn.maxY,Gr),xo=io(vo,En,Rr+Us,Rr+Pn,1,Cn.minY,Cn.maxY,Gr),vo=null),ln>1&&console.timeEnd("clipping"),Qr.push(Wn||[],dr+1,2*yr,2*Rr),Qr.push(ro||[],dr+1,2*yr,2*Rr+1),Qr.push(un||[],dr+1,2*yr+1,2*Rr),Qr.push(xo||[],dr+1,2*yr+1,2*Rr+1)}}},Ns.prototype.getTile=function(Ir,dr,yr){var Rr=this.options,Br=Rr.extent,Hr=Rr.debug;if(Ir<0||Ir>24)return null;var en=1<<Ir,Qr=Fs(Ir,dr=(dr%en+en)%en,yr);if(this.tiles[Qr])return Ul(this.tiles[Qr],Br);Hr>1&&console.log("drilling down to z%d-%d-%d",Ir,dr,yr);for(var Gr,ln=Ir,En=dr,Nn=yr;!Gr&&ln>0;)ln--,En=Math.floor(En/2),Nn=Math.floor(Nn/2),Gr=this.tiles[Fs(ln,En,Nn)];return Gr&&Gr.source?(Hr>1&&console.log("found parent tile z%d-%d-%d",ln,En,Nn),Hr>1&&console.time("drilling down"),this.splitTile(Gr.source,ln,En,Nn,Ir,dr,yr),Hr>1&&console.timeEnd("drilling down"),this.tiles[Qr]?Ul(this.tiles[Qr],Br):null):null};class Xs extends s.VectorTileWorkerSource{constructor(dr,yr,Rr,Br,Hr){super(dr,yr,Rr,Br,Ys),Hr&&(this.loadGeoJSON=Hr)}loadData(dr,yr){const Rr=dr&&dr.request,Br=Rr&&Rr.collectResourceTiming;this.loadGeoJSON(dr,(Hr,en)=>{if(Hr||!en)return yr(Hr);if(typeof en!="object")return yr(new Error(`Input data given to '${dr.source}' is not a valid GeoJSON object.`));{lt(en,!0);try{if(dr.filter){const Gr=s.createExpression(dr.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(Gr.result==="error")throw new Error(Gr.value.map(En=>`${En.key}: ${En.message}`).join(", "));const ln=en.features.filter(En=>Gr.value.evaluate({zoom:0},En));en={type:"FeatureCollection",features:ln}}this._geoJSONIndex=dr.cluster?new Gt(function({superclusterOptions:Gr,clusterProperties:ln}){if(!ln||!Gr)return Gr;const En={},Nn={},Cn={accumulated:null,zoom:0},Jn={properties:null},Xn=Object.keys(ln);for(const Wn of Xn){const[ro,un]=ln[Wn],xo=s.createExpression(un),Un=s.createExpression(typeof ro=="string"?[ro,["accumulated"],["get",Wn]]:ro);En[Wn]=xo.value,Nn[Wn]=Un.value}return Gr.map=Wn=>{Jn.properties=Wn;const ro={};for(const un of Xn)ro[un]=En[un].evaluate(Cn,Jn);return ro},Gr.reduce=(Wn,ro)=>{Jn.properties=ro;for(const un of Xn)Cn.accumulated=Wn[un],Wn[un]=Nn[un].evaluate(Cn,Jn)},Gr}(dr)).load(en.features):function(Gr,ln){return new Ns(Gr,ln)}(en,dr.geojsonVtOptions)}catch(Gr){return yr(Gr)}this.loaded={};const Qr={};if(Br){const Gr=s.getPerformanceMeasurement(Rr);Gr&&(Qr.resourceTiming={},Qr.resourceTiming[dr.source]=JSON.parse(JSON.stringify(Gr)))}yr(null,Qr)}})}reloadTile(dr,yr){const Rr=this.loaded;return Rr&&Rr[dr.uid]?super.reloadTile(dr,yr):this.loadTile(dr,yr)}loadGeoJSON(dr,yr){if(dr.request)s.getJSON(dr.request,yr);else{if(typeof dr.data!="string")return yr(new Error(`Input data given to '${dr.source}' is not a valid GeoJSON object.`));try{return yr(null,JSON.parse(dr.data))}catch{return yr(new Error(`Input data given to '${dr.source}' is not a valid GeoJSON object.`))}}}getClusterExpansionZoom(dr,yr){try{yr(null,this._geoJSONIndex.getClusterExpansionZoom(dr.clusterId))}catch(Rr){yr(Rr)}}getClusterChildren(dr,yr){try{yr(null,this._geoJSONIndex.getChildren(dr.clusterId))}catch(Rr){yr(Rr)}}getClusterLeaves(dr,yr){try{yr(null,this._geoJSONIndex.getLeaves(dr.clusterId,dr.limit,dr.offset))}catch(Rr){yr(Rr)}}}class Ks{constructor(dr){this.self=dr,this.actor=new s.Actor(dr,this),this.layerIndexes={},this.availableImages={},this.isSpriteLoaded={},this.projections={},this.defaultProjection=s.getProjection({name:"mercator"}),this.workerSourceTypes={vector:s.VectorTileWorkerSource,geojson:Xs},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=(yr,Rr)=>{if(this.workerSourceTypes[yr])throw new Error(`Worker source with name "${yr}" already registered.`);this.workerSourceTypes[yr]=Rr},this.self.registerRTLTextPlugin=yr=>{if(s.plugin.isParsed())throw new Error("RTL text plugin already registered.");s.plugin.applyArabicShaping=yr.applyArabicShaping,s.plugin.processBidirectionalText=yr.processBidirectionalText,s.plugin.processStyledBidirectionalText=yr.processStyledBidirectionalText}}clearCaches(dr,yr,Rr){delete this.layerIndexes[dr],delete this.availableImages[dr],delete this.workerSources[dr],delete this.demWorkerSources[dr],Rr()}checkIfReady(dr,yr,Rr){Rr()}setReferrer(dr,yr){this.referrer=yr}spriteLoaded(dr,yr){this.isSpriteLoaded[dr]=yr;for(const Rr in this.workerSources[dr]){const Br=this.workerSources[dr][Rr];for(const Hr in Br)Br[Hr]instanceof s.VectorTileWorkerSource&&(Br[Hr].isSpriteLoaded=yr,Br[Hr].fire(new s.Event("isSpriteLoaded")))}}setImages(dr,yr,Rr){this.availableImages[dr]=yr;for(const Br in this.workerSources[dr]){const Hr=this.workerSources[dr][Br];for(const en in Hr)Hr[en].availableImages=yr}Rr()}enableTerrain(dr,yr,Rr){this.terrain=yr,Rr()}setProjection(dr,yr){this.projections[dr]=s.getProjection(yr)}setLayers(dr,yr,Rr){this.getLayerIndex(dr).replace(yr),Rr()}updateLayers(dr,yr,Rr){this.getLayerIndex(dr).update(yr.layers,yr.removedIds),Rr()}loadTile(dr,yr,Rr){const Br=this.enableTerrain?s.extend({enableTerrain:this.terrain},yr):yr;Br.projection=this.projections[dr]||this.defaultProjection,this.getWorkerSource(dr,yr.type,yr.source).loadTile(Br,Rr)}loadDEMTile(dr,yr,Rr){const Br=this.enableTerrain?s.extend({buildQuadTree:this.terrain},yr):yr;this.getDEMWorkerSource(dr,yr.source).loadTile(Br,Rr)}reloadTile(dr,yr,Rr){const Br=this.enableTerrain?s.extend({enableTerrain:this.terrain},yr):yr;Br.projection=this.projections[dr]||this.defaultProjection,this.getWorkerSource(dr,yr.type,yr.source).reloadTile(Br,Rr)}abortTile(dr,yr,Rr){this.getWorkerSource(dr,yr.type,yr.source).abortTile(yr,Rr)}removeTile(dr,yr,Rr){this.getWorkerSource(dr,yr.type,yr.source).removeTile(yr,Rr)}removeSource(dr,yr,Rr){if(!this.workerSources[dr]||!this.workerSources[dr][yr.type]||!this.workerSources[dr][yr.type][yr.source])return;const Br=this.workerSources[dr][yr.type][yr.source];delete this.workerSources[dr][yr.type][yr.source],Br.removeSource!==void 0?Br.removeSource(yr,Rr):Rr()}loadWorkerSource(dr,yr,Rr){try{this.self.importScripts(yr.url),Rr()}catch(Br){Rr(Br.toString())}}syncRTLPluginState(dr,yr,Rr){try{s.plugin.setState(yr);const Br=s.plugin.getPluginURL();if(s.plugin.isLoaded()&&!s.plugin.isParsed()&&Br!=null){this.self.importScripts(Br);const Hr=s.plugin.isParsed();Rr(Hr?void 0:new Error(`RTL Text Plugin failed to import scripts from ${Br}`),Hr)}}catch(Br){Rr(Br.toString())}}getAvailableImages(dr){let yr=this.availableImages[dr];return yr||(yr=[]),yr}getLayerIndex(dr){let yr=this.layerIndexes[dr];return yr||(yr=this.layerIndexes[dr]=new ut),yr}getWorkerSource(dr,yr,Rr){return this.workerSources[dr]||(this.workerSources[dr]={}),this.workerSources[dr][yr]||(this.workerSources[dr][yr]={}),this.workerSources[dr][yr][Rr]||(this.workerSources[dr][yr][Rr]=new this.workerSourceTypes[yr]({send:(Br,Hr,en,Qr,Gr,ln)=>{this.actor.send(Br,Hr,en,dr,Gr,ln)},scheduler:this.actor.scheduler},this.getLayerIndex(dr),this.getAvailableImages(dr),this.isSpriteLoaded[dr])),this.workerSources[dr][yr][Rr]}getDEMWorkerSource(dr,yr){return this.demWorkerSources[dr]||(this.demWorkerSources[dr]={}),this.demWorkerSources[dr][yr]||(this.demWorkerSources[dr][yr]=new gt),this.demWorkerSources[dr][yr]}enforceCacheSizeLimit(dr,yr){s.enforceCacheSizeLimit(yr)}getWorkerPerformanceMetrics(dr,yr,Rr){Rr(void 0,void 0)}}return typeof WorkerGlobalScope!="undefined"&&typeof self!="undefined"&&self instanceof WorkerGlobalScope&&(self.worker=new Ks(self)),Ks}),j(["./shared"],function(s){var $=et;function et(nt){return!function(g){return typeof window=="undefined"||typeof document=="undefined"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var st,Et,Ot=new Blob([""],{type:"text/javascript"}),Ft=URL.createObjectURL(Ot);try{Et=new Worker(Ft),st=!0}catch{st=!1}return Et&&Et.terminate(),URL.revokeObjectURL(Ft),st}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var st=document.createElement("canvas");st.width=st.height=1;var Et=st.getContext("2d");if(!Et)return!1;var Ot=Et.getImageData(0,0,1,1);return Ot&&Ot.width===st.width}()?(ut[tt=g&&g.failIfMajorPerformanceCaveat]===void 0&&(ut[tt]=function(st){var Et,Ot=function(Ft){var Wt=document.createElement("canvas"),er=Object.create(et.webGLContextAttributes);return er.failIfMajorPerformanceCaveat=Ft,Wt.getContext("webgl",er)||Wt.getContext("experimental-webgl",er)}(st);if(!Ot)return!1;try{Et=Ot.createShader(Ot.VERTEX_SHADER)}catch{return!1}return!(!Et||Ot.isContextLost())&&(Ot.shaderSource(Et,"void main() {}"),Ot.compileShader(Et),Ot.getShaderParameter(Et,Ot.COMPILE_STATUS)===!0)}(tt)),ut[tt]?document.documentMode?"insufficient ECMAScript 6 support":void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var tt}(nt)}var ut={};function gt(nt,g){if(Array.isArray(nt)){if(!Array.isArray(g)||nt.length!==g.length)return!1;for(let tt=0;tt<nt.length;tt++)if(!gt(nt[tt],g[tt]))return!1;return!0}if(typeof nt=="object"&&nt!==null&&g!==null){if(typeof g!="object"||Object.keys(nt).length!==Object.keys(g).length)return!1;for(const tt in nt)if(!gt(nt[tt],g[tt]))return!1;return!0}return nt===g}function lt(nt,g,tt){const st=s.window.document.createElement(nt);return g!==void 0&&(st.className=g),tt&&tt.appendChild(st),st}function ft(nt,g,tt){const st=s.window.document.createElementNS("http://www.w3.org/2000/svg",nt);for(const Et of Object.keys(g))st.setAttributeNS(null,Et,g[Et]);return tt&&tt.appendChild(st),st}et.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0};const ot=s.window.document&&s.window.document.documentElement.style,yt=ot&&ot.userSelect!==void 0?"userSelect":"WebkitUserSelect";let wt;function Rt(){ot&&yt&&(wt=ot[yt],ot[yt]="none")}function Mt(){ot&&yt&&(ot[yt]=wt)}function Tt(nt){nt.preventDefault(),nt.stopPropagation(),s.window.removeEventListener("click",Tt,!0)}function Ct(){s.window.addEventListener("click",Tt,!0),s.window.setTimeout(()=>{s.window.removeEventListener("click",Tt,!0)},0)}function ct(nt,g){const tt=nt.getBoundingClientRect();return Yt(nt,tt,g)}function Lt(nt,g){const tt=nt.getBoundingClientRect(),st=[];for(let Et=0;Et<g.length;Et++)st.push(Yt(nt,tt,g[Et]));return st}function Kt(nt){return s.window.InstallTrigger!==void 0&&nt.button===2&&nt.ctrlKey&&s.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:nt.button}function Yt(nt,g,tt){const st=nt.offsetWidth===g.width?1:nt.offsetWidth/g.width;return new s.pointGeometry((tt.clientX-g.left)*st,(tt.clientY-g.top)*st)}function pt(nt,g){var tt=g[0],st=g[1],Et=g[2],Ot=g[3],Ft=tt*Ot-Et*st;return Ft?(nt[0]=Ot*(Ft=1/Ft),nt[1]=-st*Ft,nt[2]=-Et*Ft,nt[3]=tt*Ft,nt):null}function dt(nt){const{userImage:g}=nt;return!!(g&&g.render&&g.render())&&(nt.data.replace(new Uint8Array(g.data.buffer)),!0)}class bt extends s.Evented{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new s.RGBAImage({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(g){if(this.loaded!==g&&(this.loaded=g,g)){for(const{ids:tt,callback:st}of this.requestors)this._notify(tt,st);this.requestors=[]}}hasImage(g){return!!this.getImage(g)}getImage(g){return this.images[g]}addImage(g,tt){this._validate(g,tt)&&(this.images[g]=tt)}_validate(g,tt){let st=!0;return this._validateStretch(tt.stretchX,tt.data&&tt.data.width)||(this.fire(new s.ErrorEvent(new Error(`Image "${g}" has invalid "stretchX" value`))),st=!1),this._validateStretch(tt.stretchY,tt.data&&tt.data.height)||(this.fire(new s.ErrorEvent(new Error(`Image "${g}" has invalid "stretchY" value`))),st=!1),this._validateContent(tt.content,tt)||(this.fire(new s.ErrorEvent(new Error(`Image "${g}" has invalid "content" value`))),st=!1),st}_validateStretch(g,tt){if(!g)return!0;let st=0;for(const Et of g){if(Et[0]<st||Et[1]<Et[0]||tt<Et[1])return!1;st=Et[1]}return!0}_validateContent(g,tt){return!(g&&(g.length!==4||g[0]<0||tt.data.width<g[0]||g[1]<0||tt.data.height<g[1]||g[2]<0||tt.data.width<g[2]||g[3]<0||tt.data.height<g[3]||g[2]<g[0]||g[3]<g[1]))}updateImage(g,tt){tt.version=this.images[g].version+1,this.images[g]=tt,this.updatedImages[g]=!0}removeImage(g){const tt=this.images[g];delete this.images[g],delete this.patterns[g],tt.userImage&&tt.userImage.onRemove&&tt.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(g,tt){let st=!0;if(!this.isLoaded())for(const Et of g)this.images[Et]||(st=!1);this.isLoaded()||st?this._notify(g,tt):this.requestors.push({ids:g,callback:tt})}_notify(g,tt){const st={};for(const Et of g){this.images[Et]||this.fire(new s.Event("styleimagemissing",{id:Et}));const Ot=this.images[Et];Ot?st[Et]={data:Ot.data.clone(),pixelRatio:Ot.pixelRatio,sdf:Ot.sdf,version:Ot.version,stretchX:Ot.stretchX,stretchY:Ot.stretchY,content:Ot.content,hasRenderCallback:Boolean(Ot.userImage&&Ot.userImage.render)}:s.warnOnce(`Image "${Et}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}tt(null,st)}getPixelSize(){const{width:g,height:tt}=this.atlasImage;return{width:g,height:tt}}getPattern(g){const tt=this.patterns[g],st=this.getImage(g);if(!st)return null;if(tt&&tt.position.version===st.version)return tt.position;if(tt)tt.position.version=st.version;else{const Et={w:st.data.width+2,h:st.data.height+2,x:0,y:0},Ot=new s.ImagePosition(Et,st);this.patterns[g]={bin:Et,position:Ot}}return this._updatePatternAtlas(),this.patterns[g].position}bind(g){const tt=g.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new s.Texture(g,this.atlasImage,tt.RGBA),this.atlasTexture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)}_updatePatternAtlas(){const g=[];for(const Ot in this.patterns)g.push(this.patterns[Ot].bin);const{w:tt,h:st}=s.potpack(g),Et=this.atlasImage;Et.resize({width:tt||1,height:st||1});for(const Ot in this.patterns){const{bin:Ft}=this.patterns[Ot],Wt=Ft.x+1,er=Ft.y+1,nr=this.images[Ot].data,sr=nr.width,fr=nr.height;s.RGBAImage.copy(nr,Et,{x:0,y:0},{x:Wt,y:er},{width:sr,height:fr}),s.RGBAImage.copy(nr,Et,{x:0,y:fr-1},{x:Wt,y:er-1},{width:sr,height:1}),s.RGBAImage.copy(nr,Et,{x:0,y:0},{x:Wt,y:er+fr},{width:sr,height:1}),s.RGBAImage.copy(nr,Et,{x:sr-1,y:0},{x:Wt-1,y:er},{width:1,height:fr}),s.RGBAImage.copy(nr,Et,{x:0,y:0},{x:Wt+sr,y:er},{width:1,height:fr})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(g){for(const tt of g){if(this.callbackDispatchedThisFrame[tt])continue;this.callbackDispatchedThisFrame[tt]=!0;const st=this.images[tt];dt(st)&&this.updateImage(tt,st)}}}const mt=new s.Properties({anchor:new s.DataConstantProperty(s.spec.light.anchor),position:new class{constructor(){this.specification=s.spec.light.position}possiblyEvaluate(nt,g){return function([tt,st,Et]){const Ot=s.degToRad(st+90),Ft=s.degToRad(Et);return{x:tt*Math.cos(Ot)*Math.sin(Ft),y:tt*Math.sin(Ot)*Math.sin(Ft),z:tt*Math.cos(Ft),azimuthal:st,polar:Et}}(nt.expression.evaluate(g))}interpolate(nt,g,tt){return{x:s.number(nt.x,g.x,tt),y:s.number(nt.y,g.y,tt),z:s.number(nt.z,g.z,tt),azimuthal:s.number(nt.azimuthal,g.azimuthal,tt),polar:s.number(nt.polar,g.polar,tt)}}},color:new s.DataConstantProperty(s.spec.light.color),intensity:new s.DataConstantProperty(s.spec.light.intensity)}),jt="-transition";class zt extends s.Evented{constructor(g){super(),this._transitionable=new s.Transitionable(mt),this.setLight(g),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(g,tt={}){if(!this._validate(s.validateLight,g,tt))for(const st in g){const Et=g[st];s.endsWith(st,jt)?this._transitionable.setTransition(st.slice(0,-jt.length),Et):this._transitionable.setValue(st,Et)}}updateTransitions(g){this._transitioning=this._transitionable.transitioned(g,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(g){this.properties=this._transitioning.possiblyEvaluate(g)}_validate(g,tt,st){return(!st||st.validate!==!1)&&s.emitValidationErrors(this,g.call(s.validateStyle,s.extend({value:tt,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}const kt=new s.Properties({source:new s.DataConstantProperty(s.spec.terrain.source),exaggeration:new s.DataConstantProperty(s.spec.terrain.exaggeration)}),St="-transition";class Dt extends s.Evented{constructor(g,tt){super(),this._transitionable=new s.Transitionable(kt),this.set(g),this._transitioning=this._transitionable.untransitioned(),this.drapeRenderMode=tt}get(){return this._transitionable.serialize()}set(g){for(const tt in g){const st=g[tt];s.endsWith(tt,St)?this._transitionable.setTransition(tt.slice(0,-St.length),st):this._transitionable.setValue(tt,st)}}updateTransitions(g){this._transitioning=this._transitionable.transitioned(g,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(g){this.properties=this._transitioning.possiblyEvaluate(g)}}function Nt(nt,g,tt,st){const Et=s.smoothstep(45,65,tt),[Ot,Ft]=_t(nt,st),Wt=s.length(g);let er=1-Math.min(1,Math.exp((Wt-Ot)/(Ft-Ot)*-6));return er*=er*er,er=Math.min(1,1.00747*er),er*Et*nt.alpha}function _t(nt,g){const tt=.5/Math.tan(.5*g);return[nt.range[0]+tt,nt.range[1]+tt]}const at=new s.Properties({range:new s.DataConstantProperty(s.spec.fog.range),color:new s.DataConstantProperty(s.spec.fog.color),"horizon-blend":new s.DataConstantProperty(s.spec.fog["horizon-blend"])}),Bt="-transition";class Vt extends s.Evented{constructor(g,tt){super(),this._transitionable=new s.Transitionable(at),this.set(g),this._transitioning=this._transitionable.untransitioned(),this._transform=tt}get state(){return{range:this.properties.get("range"),horizonBlend:this.properties.get("horizon-blend"),alpha:this.properties.get("color").a}}get(){return this._transitionable.serialize()}set(g,tt={}){if(!this._validate(s.validateFog,g,tt))for(const st in g){const Et=g[st];s.endsWith(st,Bt)?this._transitionable.setTransition(st.slice(0,-Bt.length),Et):this._transitionable.setValue(st,Et)}}getOpacity(g){if(!this._transform.projection.supportsFog)return 0;const tt=this.properties&&this.properties.get("color")||1;return s.smoothstep(45,65,g)*tt.a}getOpacityAtLatLng(g,tt){return this._transform.projection.supportsFog?function(st,Et,Ot){const Ft=s.MercatorCoordinate.fromLngLat(Et),Wt=Ot.elevation?Ot.elevation.getAtPointOrZero(Ft):0,er=[Ft.x,Ft.y,Wt];return s.transformMat4(er,er,Ot.mercatorFogMatrix),Nt(st,er,Ot.pitch,Ot._fov)}(this.state,g,tt):0}getFovAdjustedRange(g){return this._transform.projection.supportsFog?_t(this.state,g):[0,1]}updateTransitions(g){this._transitioning=this._transitionable.transitioned(g,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(g){this.properties=this._transitioning.possiblyEvaluate(g)}_validate(g,tt,st){return(!st||st.validate!==!1)&&s.emitValidationErrors(this,g.call(s.validateStyle,s.extend({value:tt,style:{glyphs:!0,sprite:!0},styleSpec:s.spec})))}}class Qt{constructor(g,tt){this.workerPool=g,this.actors=[],this.currentActor=0,this.id=s.uniqueId();const st=this.workerPool.acquire(this.id);for(let Et=0;Et<st.length;Et++){const Ot=new Qt.Actor(st[Et],tt,this.id);Ot.name=`Worker ${Et}`,this.actors.push(Ot)}this.ready=!1,this.broadcast("checkIfReady",null,()=>{this.ready=!0})}broadcast(g,tt,st){s.asyncAll(this.actors,(Et,Ot)=>{Et.send(g,tt,Ot)},st=st||function(){})}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(){this.actors.forEach(g=>{g.remove()}),this.actors=[],this.workerPool.release(this.id)}}function or(nt,g,tt){return g*(s.EXTENT/(nt.tileSize*Math.pow(2,tt-nt.tileID.overscaledZ)))}Qt.Actor=s.Actor;class ar{constructor(g,tt,st,Et){this.screenBounds=g,this.cameraPoint=tt,this._screenRaycastCache={},this._cameraRaycastCache={},this.isAboveHorizon=st,this.screenGeometry=this.bufferedScreenGeometry(0),this.screenGeometryMercator=this.screenGeometry.map(Ot=>Et.pointCoordinate3D(Ot)),this.cameraGeometry=this.bufferedCameraGeometry(0)}static createFromScreenPoints(g,tt){let st,Et;if(g instanceof s.pointGeometry||typeof g[0]=="number"){const Ot=s.pointGeometry.convert(g);st=[s.pointGeometry.convert(g)],Et=tt.isPointAboveHorizon(Ot)}else{const Ot=s.pointGeometry.convert(g[0]),Ft=s.pointGeometry.convert(g[1]);st=[Ot,Ft],Et=s.polygonizeBounds(Ot,Ft).every(Wt=>tt.isPointAboveHorizon(Wt))}return new ar(st,tt.getCameraPoint(),Et,tt)}isPointQuery(){return this.screenBounds.length===1}bufferedScreenGeometry(g){return s.polygonizeBounds(this.screenBounds[0],this.screenBounds.length===1?this.screenBounds[0]:this.screenBounds[1],g)}bufferedCameraGeometry(g){const tt=this.screenBounds[0],st=this.screenBounds.length===1?this.screenBounds[0].add(new s.pointGeometry(1,1)):this.screenBounds[1],Et=s.polygonizeBounds(tt,st,0,!1);return this.cameraPoint.y>st.y&&(this.cameraPoint.x>tt.x&&this.cameraPoint.x<st.x?Et.splice(3,0,this.cameraPoint):this.cameraPoint.x>=st.x?Et[2]=this.cameraPoint:this.cameraPoint.x<=tt.x&&(Et[3]=this.cameraPoint)),s.bufferConvexPolygon(Et,g)}containsTile(g,tt,st){const Et=g.queryPadding+1,Ot=g.tileID.wrap,Ft=st?this._bufferedCameraMercator(Et,tt).map(Er=>s.getTilePoint(g.tileTransform,Er,Ot)):this._bufferedScreenMercator(Et,tt).map(Er=>s.getTilePoint(g.tileTransform,Er,Ot)),Wt=this.screenGeometryMercator.map(Er=>s.getTileVec3(g.tileTransform,Er,Ot)),er=Wt.map(Er=>new s.pointGeometry(Er[0],Er[1])),nr=tt.getFreeCameraOptions().position||new s.MercatorCoordinate(0,0,0),sr=s.getTileVec3(g.tileTransform,nr,Ot),fr=Wt.map(Er=>{const br=s.sub(Er,Er,sr);return s.normalize(br,br),new s.Ray(sr,br)}),xr=or(g,1,tt.zoom);if(s.polygonIntersectsBox(Ft,0,0,s.EXTENT,s.EXTENT))return{queryGeometry:this,tilespaceGeometry:er,tilespaceRays:fr,bufferedTilespaceGeometry:Ft,bufferedTilespaceBounds:(Ar=s.getBounds(Ft),Ar.min.x=s.clamp(Ar.min.x,0,s.EXTENT),Ar.min.y=s.clamp(Ar.min.y,0,s.EXTENT),Ar.max.x=s.clamp(Ar.max.x,0,s.EXTENT),Ar.max.y=s.clamp(Ar.max.y,0,s.EXTENT),Ar),tile:g,tileID:g.tileID,pixelToTileUnitsFactor:xr};var Ar}_bufferedScreenMercator(g,tt){const st=qt(g);if(this._screenRaycastCache[st])return this._screenRaycastCache[st];{const Et=this.bufferedScreenGeometry(g).map(Ot=>tt.pointCoordinate3D(Ot));return this._screenRaycastCache[st]=Et,Et}}_bufferedCameraMercator(g,tt){const st=qt(g);if(this._cameraRaycastCache[st])return this._cameraRaycastCache[st];{const Et=this.bufferedCameraGeometry(g).map(Ot=>tt.pointCoordinate3D(Ot));return this._cameraRaycastCache[st]=Et,Et}}}function qt(nt){return 100*nt|0}function Gt(nt,g,tt){const st=function(Et,Ot){if(Et)return tt(Et);if(Ot){const Ft=s.pick(s.extend(Ot,nt),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);Ot.vector_layers&&(Ft.vectorLayers=Ot.vector_layers,Ft.vectorLayerIds=Ft.vectorLayers.map(Wt=>Wt.id)),Ft.tiles=g.canonicalizeTileset(Ft,nt.url),tt(null,Ft)}};return nt.url?s.getJSON(g.transformRequest(g.normalizeSourceURL(nt.url),s.ResourceType.Source),st):s.exported.frame(()=>st(null,nt))}class vt{constructor(g,tt,st){this.bounds=s.LngLatBounds.convert(this.validateBounds(g)),this.minzoom=tt||0,this.maxzoom=st||24}validateBounds(g){return Array.isArray(g)&&g.length===4?[Math.max(-180,g[0]),Math.max(-90,g[1]),Math.min(180,g[2]),Math.min(90,g[3])]:[-180,-90,180,90]}contains(g){const tt=Math.pow(2,g.z),st=Math.floor(s.mercatorXfromLng(this.bounds.getWest())*tt),Et=Math.floor(s.mercatorYfromLat(this.bounds.getNorth())*tt),Ot=Math.ceil(s.mercatorXfromLng(this.bounds.getEast())*tt),Ft=Math.ceil(s.mercatorYfromLat(this.bounds.getSouth())*tt);return g.x>=st&&g.x<Ot&&g.y>=Et&&g.y<Ft}}class At{constructor(g,tt,st){this.context=g;const Et=g.gl;this.buffer=Et.createBuffer(),this.dynamicDraw=Boolean(st),this.context.unbindVAO(),g.bindElementBuffer.set(this.buffer),Et.bufferData(Et.ELEMENT_ARRAY_BUFFER,tt.arrayBuffer,this.dynamicDraw?Et.DYNAMIC_DRAW:Et.STATIC_DRAW),this.dynamicDraw||tt.destroy()}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(g){const tt=this.context.gl;this.context.unbindVAO(),this.bind(),tt.bufferSubData(tt.ELEMENT_ARRAY_BUFFER,0,g.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const It={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Ht{constructor(g,tt,st,Et){this.length=tt.length,this.attributes=st,this.itemSize=tt.bytesPerElement,this.dynamicDraw=Et,this.context=g;const Ot=g.gl;this.buffer=Ot.createBuffer(),g.bindVertexBuffer.set(this.buffer),Ot.bufferData(Ot.ARRAY_BUFFER,tt.arrayBuffer,this.dynamicDraw?Ot.DYNAMIC_DRAW:Ot.STATIC_DRAW),this.dynamicDraw||tt.destroy()}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(g){const tt=this.context.gl;this.bind(),tt.bufferSubData(tt.ARRAY_BUFFER,0,g.arrayBuffer)}enableAttributes(g,tt){for(let st=0;st<this.attributes.length;st++){const Et=tt.attributes[this.attributes[st].name];Et!==void 0&&g.enableVertexAttribArray(Et)}}setVertexAttribPointers(g,tt,st){for(let Et=0;Et<this.attributes.length;Et++){const Ot=this.attributes[Et],Ft=tt.attributes[Ot.name];Ft!==void 0&&g.vertexAttribPointer(Ft,Ot.components,g[It[Ot.type]],!1,this.itemSize,Ot.offset+this.itemSize*(st||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Zt{constructor(g){this.gl=g.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(g){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class rr extends Zt{getDefault(){return s.Color.transparent}set(g){const tt=this.current;(g.r!==tt.r||g.g!==tt.g||g.b!==tt.b||g.a!==tt.a||this.dirty)&&(this.gl.clearColor(g.r,g.g,g.b,g.a),this.current=g,this.dirty=!1)}}class pr extends Zt{getDefault(){return 1}set(g){(g!==this.current||this.dirty)&&(this.gl.clearDepth(g),this.current=g,this.dirty=!1)}}class _r extends Zt{getDefault(){return 0}set(g){(g!==this.current||this.dirty)&&(this.gl.clearStencil(g),this.current=g,this.dirty=!1)}}class ir extends Zt{getDefault(){return[!0,!0,!0,!0]}set(g){const tt=this.current;(g[0]!==tt[0]||g[1]!==tt[1]||g[2]!==tt[2]||g[3]!==tt[3]||this.dirty)&&(this.gl.colorMask(g[0],g[1],g[2],g[3]),this.current=g,this.dirty=!1)}}class cr extends Zt{getDefault(){return!0}set(g){(g!==this.current||this.dirty)&&(this.gl.depthMask(g),this.current=g,this.dirty=!1)}}class mr extends Zt{getDefault(){return 255}set(g){(g!==this.current||this.dirty)&&(this.gl.stencilMask(g),this.current=g,this.dirty=!1)}}class Cr extends Zt{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(g){const tt=this.current;(g.func!==tt.func||g.ref!==tt.ref||g.mask!==tt.mask||this.dirty)&&(this.gl.stencilFunc(g.func,g.ref,g.mask),this.current=g,this.dirty=!1)}}class Mr extends Zt{getDefault(){const g=this.gl;return[g.KEEP,g.KEEP,g.KEEP]}set(g){const tt=this.current;(g[0]!==tt[0]||g[1]!==tt[1]||g[2]!==tt[2]||this.dirty)&&(this.gl.stencilOp(g[0],g[1],g[2]),this.current=g,this.dirty=!1)}}class Yr extends Zt{getDefault(){return!1}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;g?tt.enable(tt.STENCIL_TEST):tt.disable(tt.STENCIL_TEST),this.current=g,this.dirty=!1}}class an extends Zt{getDefault(){return[0,1]}set(g){const tt=this.current;(g[0]!==tt[0]||g[1]!==tt[1]||this.dirty)&&(this.gl.depthRange(g[0],g[1]),this.current=g,this.dirty=!1)}}class dn extends Zt{getDefault(){return!1}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;g?tt.enable(tt.DEPTH_TEST):tt.disable(tt.DEPTH_TEST),this.current=g,this.dirty=!1}}class rn extends Zt{getDefault(){return this.gl.LESS}set(g){(g!==this.current||this.dirty)&&(this.gl.depthFunc(g),this.current=g,this.dirty=!1)}}class tn extends Zt{getDefault(){return!1}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;g?tt.enable(tt.BLEND):tt.disable(tt.BLEND),this.current=g,this.dirty=!1}}class Hn extends Zt{getDefault(){const g=this.gl;return[g.ONE,g.ZERO]}set(g){const tt=this.current;(g[0]!==tt[0]||g[1]!==tt[1]||this.dirty)&&(this.gl.blendFunc(g[0],g[1]),this.current=g,this.dirty=!1)}}class Qn extends Zt{getDefault(){return s.Color.transparent}set(g){const tt=this.current;(g.r!==tt.r||g.g!==tt.g||g.b!==tt.b||g.a!==tt.a||this.dirty)&&(this.gl.blendColor(g.r,g.g,g.b,g.a),this.current=g,this.dirty=!1)}}class io extends Zt{getDefault(){return this.gl.FUNC_ADD}set(g){(g!==this.current||this.dirty)&&(this.gl.blendEquation(g),this.current=g,this.dirty=!1)}}class yo extends Zt{getDefault(){return!1}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;g?tt.enable(tt.CULL_FACE):tt.disable(tt.CULL_FACE),this.current=g,this.dirty=!1}}class ko extends Zt{getDefault(){return this.gl.BACK}set(g){(g!==this.current||this.dirty)&&(this.gl.cullFace(g),this.current=g,this.dirty=!1)}}class Ho extends Zt{getDefault(){return this.gl.CCW}set(g){(g!==this.current||this.dirty)&&(this.gl.frontFace(g),this.current=g,this.dirty=!1)}}class qo extends Zt{getDefault(){return null}set(g){(g!==this.current||this.dirty)&&(this.gl.useProgram(g),this.current=g,this.dirty=!1)}}class Fo extends Zt{getDefault(){return this.gl.TEXTURE0}set(g){(g!==this.current||this.dirty)&&(this.gl.activeTexture(g),this.current=g,this.dirty=!1)}}class Vo extends Zt{getDefault(){const g=this.gl;return[0,0,g.drawingBufferWidth,g.drawingBufferHeight]}set(g){const tt=this.current;(g[0]!==tt[0]||g[1]!==tt[1]||g[2]!==tt[2]||g[3]!==tt[3]||this.dirty)&&(this.gl.viewport(g[0],g[1],g[2],g[3]),this.current=g,this.dirty=!1)}}class ss extends Zt{getDefault(){return null}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;tt.bindFramebuffer(tt.FRAMEBUFFER,g),this.current=g,this.dirty=!1}}class ds extends Zt{getDefault(){return null}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;tt.bindRenderbuffer(tt.RENDERBUFFER,g),this.current=g,this.dirty=!1}}class fs extends Zt{getDefault(){return null}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;tt.bindTexture(tt.TEXTURE_2D,g),this.current=g,this.dirty=!1}}class Ul extends Zt{getDefault(){return null}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;tt.bindBuffer(tt.ARRAY_BUFFER,g),this.current=g,this.dirty=!1}}class As extends Zt{getDefault(){return null}set(g){const tt=this.gl;tt.bindBuffer(tt.ELEMENT_ARRAY_BUFFER,g),this.current=g,this.dirty=!1}}class xl extends Zt{constructor(g){super(g),this.vao=g.extVertexArrayObject}getDefault(){return null}set(g){this.vao&&(g!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(g),this.current=g,this.dirty=!1)}}class bs extends Zt{getDefault(){return 4}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;tt.pixelStorei(tt.UNPACK_ALIGNMENT,g),this.current=g,this.dirty=!1}}class Ps extends Zt{getDefault(){return!1}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;tt.pixelStorei(tt.UNPACK_PREMULTIPLY_ALPHA_WEBGL,g),this.current=g,this.dirty=!1}}class Ns extends Zt{getDefault(){return!1}set(g){if(g===this.current&&!this.dirty)return;const tt=this.gl;tt.pixelStorei(tt.UNPACK_FLIP_Y_WEBGL,g),this.current=g,this.dirty=!1}}class Fs extends Zt{constructor(g,tt){super(g),this.context=g,this.parent=tt}getDefault(){return null}}class Ys extends Fs{setDirty(){this.dirty=!0}set(g){if(g===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const tt=this.gl;tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,g,0),this.current=g,this.dirty=!1}}class Xs extends Fs{attachment(){return this.gl.DEPTH_ATTACHMENT}set(g){if(g===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const tt=this.gl;tt.framebufferRenderbuffer(tt.FRAMEBUFFER,this.attachment(),tt.RENDERBUFFER,g),this.current=g,this.dirty=!1}}class Ks extends Xs{attachment(){return this.gl.DEPTH_STENCIL_ATTACHMENT}}class Ir{constructor(g,tt,st,Et){this.context=g,this.width=tt,this.height=st;const Ot=this.framebuffer=g.gl.createFramebuffer();this.colorAttachment=new Ys(g,Ot),Et&&(this.depthAttachment=new Xs(g,Ot))}destroy(){const g=this.context.gl,tt=this.colorAttachment.get();if(tt&&g.deleteTexture(tt),this.depthAttachment){const st=this.depthAttachment.get();st&&g.deleteRenderbuffer(st)}g.deleteFramebuffer(this.framebuffer)}}class dr{constructor(g){this.gl=g,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new rr(this),this.clearDepth=new pr(this),this.clearStencil=new _r(this),this.colorMask=new ir(this),this.depthMask=new cr(this),this.stencilMask=new mr(this),this.stencilFunc=new Cr(this),this.stencilOp=new Mr(this),this.stencilTest=new Yr(this),this.depthRange=new an(this),this.depthTest=new dn(this),this.depthFunc=new rn(this),this.blend=new tn(this),this.blendFunc=new Hn(this),this.blendColor=new Qn(this),this.blendEquation=new io(this),this.cullFace=new yo(this),this.cullFaceSide=new ko(this),this.frontFace=new Ho(this),this.program=new qo(this),this.activeTexture=new Fo(this),this.viewport=new Vo(this),this.bindFramebuffer=new ss(this),this.bindRenderbuffer=new ds(this),this.bindTexture=new fs(this),this.bindVertexBuffer=new Ul(this),this.bindElementBuffer=new As(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new xl(this),this.pixelStoreUnpack=new bs(this),this.pixelStoreUnpackPremultiplyAlpha=new Ps(this),this.pixelStoreUnpackFlipY=new Ns(this),this.extTextureFilterAnisotropic=g.getExtension("EXT_texture_filter_anisotropic")||g.getExtension("MOZ_EXT_texture_filter_anisotropic")||g.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=g.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureFilterAnisotropicForceOff=!1,this.extTextureHalfFloat=g.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(g.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=g.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=g.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=g.getParameter(g.MAX_TEXTURE_SIZE)}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(g,tt){return new At(this,g,tt)}createVertexBuffer(g,tt,st){return new Ht(this,g,tt,st)}createRenderbuffer(g,tt,st){const Et=this.gl,Ot=Et.createRenderbuffer();return this.bindRenderbuffer.set(Ot),Et.renderbufferStorage(Et.RENDERBUFFER,g,tt,st),this.bindRenderbuffer.set(null),Ot}createFramebuffer(g,tt,st){return new Ir(this,g,tt,st)}clear({color:g,depth:tt,stencil:st}){const Et=this.gl;let Ot=0;g&&(Ot|=Et.COLOR_BUFFER_BIT,this.clearColor.set(g),this.colorMask.set([!0,!0,!0,!0])),tt!==void 0&&(Ot|=Et.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(tt),this.depthMask.set(!0)),st!==void 0&&(Ot|=Et.STENCIL_BUFFER_BIT,this.clearStencil.set(st),this.stencilMask.set(255)),Et.clear(Ot)}setCullFace(g){g.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(g.mode),this.frontFace.set(g.frontFace))}setDepthMode(g){g.func!==this.gl.ALWAYS||g.mask?(this.depthTest.set(!0),this.depthFunc.set(g.func),this.depthMask.set(g.mask),this.depthRange.set(g.range)):this.depthTest.set(!1)}setStencilMode(g){g.test.func!==this.gl.ALWAYS||g.mask?(this.stencilTest.set(!0),this.stencilMask.set(g.mask),this.stencilOp.set([g.fail,g.depthFail,g.pass]),this.stencilFunc.set({func:g.test.func,ref:g.ref,mask:g.test.mask})):this.stencilTest.set(!1)}setColorMode(g){gt(g.blendFunction,s.ColorMode.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(g.blendFunction),this.blendColor.set(g.blendColor)),this.colorMask.set(g.mask)}unbindVAO(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)}}class yr extends s.Evented{constructor(g,tt,st,Et){super(),this.id=g,this.dispatcher=st,this.setEventedParent(Et),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=s.extend({type:"raster"},tt),s.extend(this,s.pick(tt,["url","scheme","tileSize"]))}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Gt(this._options,this.map._requestManager,(g,tt)=>{this._tileJSONRequest=null,this._loaded=!0,g?this.fire(new s.ErrorEvent(g)):tt&&(s.extend(this,tt),tt.bounds&&(this.tileBounds=new vt(tt.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(tt.tiles),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}onAdd(g){this.map=g,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}hasTile(g){return!this.tileBounds||this.tileBounds.contains(g.canonical)}loadTile(g,tt){const st=s.exported.devicePixelRatio>=2,Et=this.map._requestManager.normalizeTileURL(g.tileID.canonical.url(this.tiles,this.scheme),st,this.tileSize);g.request=s.getImage(this.map._requestManager.transformRequest(Et,s.ResourceType.Tile),(Ot,Ft,Wt,er)=>(delete g.request,g.aborted?(g.state="unloaded",tt(null)):Ot?(g.state="errored",tt(Ot)):Ft?(this.map._refreshExpiredTiles&&g.setExpiryData({cacheControl:Wt,expires:er}),g.setTexture(Ft,this.map.painter),g.state="loaded",s.cacheEntryPossiblyAdded(this.dispatcher),void tt(null)):tt(null)))}static loadTileData(g,tt,st){g.setTexture(tt,st)}static unloadTileData(g,tt){g.texture&&tt.saveTileTexture(g.texture)}abortTile(g,tt){g.request&&(g.request.cancel(),delete g.request),tt()}unloadTile(g,tt){g.texture&&this.map.painter.saveTileTexture(g.texture),tt()}hasTransition(){return!1}}let Rr;function Br(nt,g,tt,st,Et,Ot,Ft,Wt){const er=[nt,tt,Et,g,st,Ot,1,1,1],nr=[Ft,Wt,1],sr=s.adjoint([],er),[fr,xr,Ar]=s.transformMat3(nr,nr,s.transpose(sr,sr));return s.multiply(er,[fr,0,0,0,xr,0,0,0,Ar],er)}class Hr extends s.Evented{constructor(g,tt,st,Et){super(),this.id=g,this.dispatcher=st,this.coordinates=tt.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(Et),this.options=tt}load(g){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this.url=this.options.url,s.getImage(this.map._requestManager.transformRequest(this.url,s.ResourceType.Image),(tt,st)=>{if(this._loaded=!0,tt)this.fire(new s.ErrorEvent(tt));else if(st){const{HTMLImageElement:Et}=s.window;this.image=st instanceof Et?s.exported.getImageData(st):st,this.width=this.image.width,this.height=this.image.height,g&&(this.coordinates=g),this._finishLoading()}})}loaded(){return this._loaded}updateImage(g){return this.image&&g.url?(this.options.url=g.url,this.load(g.coordinates),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(g){this.map=g,this.load()}onRemove(){this.texture&&this.texture.destroy()}setCoordinates(g){this.coordinates=g,this._boundsArray=void 0;const tt=g.map(s.MercatorCoordinate.fromLngLat);return this.tileID=function(st){let Et=1/0,Ot=1/0,Ft=-1/0,Wt=-1/0;for(const fr of st)Et=Math.min(Et,fr.x),Ot=Math.min(Ot,fr.y),Ft=Math.max(Ft,fr.x),Wt=Math.max(Wt,fr.y);const er=Math.max(Ft-Et,Wt-Ot),nr=Math.max(0,Math.floor(-Math.log(er)/Math.LN2)),sr=Math.pow(2,nr);return new s.CanonicalTileID(nr,Math.floor((Et+Ft)/2*sr),Math.floor((Ot+Wt)/2*sr))}(tt),this.minzoom=this.maxzoom=this.tileID.z,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})),this}_clear(){this._boundsArray=void 0}_prepareData(g){for(const er in this.tiles){const nr=this.tiles[er];nr.state!=="loaded"&&(nr.state="loaded",nr.texture=this.texture)}if(this._boundsArray)return;const tt=s.tileTransform(this.tileID,this.map.transform.projection),[st,Et,Ot,Ft]=this.coordinates.map(er=>{const nr=tt.projection.project(er[0],er[1]);return s.getTilePoint(tt,nr)._round()});this.perspectiveTransform=function(er,nr,sr,fr,xr,Ar,Er,br,Nr,Or){const kr=Br(0,0,er,0,0,nr,er,nr),Dr=Br(sr,fr,xr,Ar,Er,br,Nr,Or);return s.multiply(Dr,s.adjoint(kr,kr),Dr),[Dr[6]/Dr[8]*er/s.EXTENT,Dr[7]/Dr[8]*nr/s.EXTENT]}(this.width,this.height,st.x,st.y,Et.x,Et.y,Ft.x,Ft.y,Ot.x,Ot.y);const Wt=this._boundsArray=new s.StructArrayLayout4i8;Wt.emplaceBack(st.x,st.y,0,0),Wt.emplaceBack(Et.x,Et.y,s.EXTENT,0),Wt.emplaceBack(Ft.x,Ft.y,0,s.EXTENT),Wt.emplaceBack(Ot.x,Ot.y,s.EXTENT,s.EXTENT),this.boundsBuffer&&this.boundsBuffer.destroy(),this.boundsBuffer=g.createVertexBuffer(Wt,s.boundsAttributes.members),this.boundsSegments=s.SegmentVector.simpleSegment(0,0,4,2)}prepare(){if(Object.keys(this.tiles).length===0||!this.image)return;const g=this.map.painter.context,tt=g.gl;this.texture?this.texture.update(this.image):(this.texture=new s.Texture(g,this.image,tt.RGBA),this.texture.bind(tt.LINEAR,tt.CLAMP_TO_EDGE)),this._prepareData(g)}loadTile(g,tt){this.tileID&&this.tileID.equals(g.tileID.canonical)?(this.tiles[String(g.tileID.wrap)]=g,g.buckets={},tt(null)):(g.state="errored",tt(null))}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}}const en={vector:class extends s.Evented{constructor(nt,g,tt,st){if(super(),this.id=nt,this.dispatcher=tt,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,s.extend(this,s.pick(g,["url","scheme","tileSize","promoteId"])),this._options=s.extend({type:"vector"},g),this._collectResourceTiming=g.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(st),this._tileWorkers={},this._deduped=new s.DedupedRequest}load(){this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=Gt(this._options,this.map._requestManager,(nt,g)=>{this._tileJSONRequest=null,this._loaded=!0,nt?this.fire(new s.ErrorEvent(nt)):g&&(s.extend(this,g),g.bounds&&(this.tileBounds=new vt(g.bounds,this.minzoom,this.maxzoom)),s.postTurnstileEvent(g.tiles,this.map._requestManager._customAccessToken),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"})))})}loaded(){return this._loaded}hasTile(nt){return!this.tileBounds||this.tileBounds.contains(nt.canonical)}onAdd(nt){this.map=nt,this.load()}setSourceProperty(nt){this._tileJSONRequest&&this._tileJSONRequest.cancel(),nt();const g=this.map.style._getSourceCaches(this.id);for(const tt of g)tt.clearTiles();this.load()}setTiles(nt){return this.setSourceProperty(()=>{this._options.tiles=nt}),this}setUrl(nt){return this.setSourceProperty(()=>{this.url=nt,this._options.url=nt}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)}serialize(){return s.extend({},this._options)}loadTile(nt,g){const tt=this.map._requestManager.normalizeTileURL(nt.tileID.canonical.url(this.tiles,this.scheme)),st={request:this.map._requestManager.transformRequest(tt,s.ResourceType.Tile),data:void 0,uid:nt.uid,tileID:nt.tileID,tileZoom:nt.tileZoom,zoom:nt.tileID.overscaledZ,tileSize:this.tileSize*nt.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,isSymbolTile:nt.isSymbolTile};if(st.request.collectResourceTiming=this._collectResourceTiming,nt.actor&&nt.state!=="expired")nt.state==="loading"?nt.reloadCallback=g:nt.request=nt.actor.send("reloadTile",st,Et.bind(this));else if(nt.actor=this._tileWorkers[tt]=this._tileWorkers[tt]||this.dispatcher.getActor(),this.dispatcher.ready)nt.request=nt.actor.send("loadTile",st,Et.bind(this),void 0,!0);else{const Ot=s.loadVectorTile.call({deduped:this._deduped},st,(Ft,Wt)=>{Ft||!Wt?Et.call(this,Ft):(st.data={cacheControl:Wt.cacheControl,expires:Wt.expires,rawData:Wt.rawData.slice(0)},nt.actor&&nt.actor.send("loadTile",st,Et.bind(this),void 0,!0))},!0);nt.request={cancel:Ot}}function Et(Ot,Ft){return delete nt.request,nt.aborted?g(null):Ot&&Ot.status!==404?g(Ot):(Ft&&Ft.resourceTiming&&(nt.resourceTiming=Ft.resourceTiming),this.map._refreshExpiredTiles&&Ft&&nt.setExpiryData(Ft),nt.loadVectorData(Ft,this.map.painter),s.cacheEntryPossiblyAdded(this.dispatcher),g(null),void(nt.reloadCallback&&(this.loadTile(nt,nt.reloadCallback),nt.reloadCallback=null)))}}abortTile(nt){nt.request&&(nt.request.cancel(),delete nt.request),nt.actor&&nt.actor.send("abortTile",{uid:nt.uid,type:this.type,source:this.id})}unloadTile(nt){nt.unloadVectorData(),nt.actor&&nt.actor.send("removeTile",{uid:nt.uid,type:this.type,source:this.id})}hasTransition(){return!1}afterUpdate(){this._tileWorkers={}}},raster:yr,"raster-dem":class extends yr{constructor(nt,g,tt,st){super(nt,g,tt,st),this.type="raster-dem",this.maxzoom=22,this._options=s.extend({type:"raster-dem"},g),this.encoding=g.encoding||"mapbox"}loadTile(nt,g){const tt=this.map._requestManager.normalizeTileURL(nt.tileID.canonical.url(this.tiles,this.scheme),!1,this.tileSize);function st(Et,Ot){Et&&(nt.state="errored",g(Et)),Ot&&(nt.dem=Ot,nt.dem.onDeserialize(),nt.needsHillshadePrepare=!0,nt.needsDEMTextureUpload=!0,nt.state="loaded",g(null))}nt.request=s.getImage(this.map._requestManager.transformRequest(tt,s.ResourceType.Tile),function(Et,Ot,Ft,Wt){if(delete nt.request,nt.aborted)nt.state="unloaded",g(null);else if(Et)nt.state="errored",g(Et);else if(Ot){this.map._refreshExpiredTiles&&nt.setExpiryData({cacheControl:Ft,expires:Wt});const er=s.window.ImageBitmap&&Ot instanceof s.window.ImageBitmap&&(Rr==null&&(Rr=s.window.OffscreenCanvas&&new s.window.OffscreenCanvas(1,1).getContext("2d")&&typeof s.window.createImageBitmap=="function"),Rr),nr=1-(Ot.width-s.prevPowerOfTwo(Ot.width))/2;nr<1||nt.neighboringTiles||(nt.neighboringTiles=this._getNeighboringTiles(nt.tileID));const sr=er?Ot:s.exported.getImageData(Ot,nr),fr={uid:nt.uid,coord:nt.tileID,source:this.id,rawImageData:sr,encoding:this.encoding,padding:nr};nt.actor&&nt.state!=="expired"||(nt.actor=this.dispatcher.getActor(),nt.actor.send("loadDEMTile",fr,st.bind(this),void 0,!0))}}.bind(this))}_getNeighboringTiles(nt){const g=nt.canonical,tt=Math.pow(2,g.z),st=(g.x-1+tt)%tt,Et=g.x===0?nt.wrap-1:nt.wrap,Ot=(g.x+1+tt)%tt,Ft=g.x+1===tt?nt.wrap+1:nt.wrap,Wt={};return Wt[new s.OverscaledTileID(nt.overscaledZ,Et,g.z,st,g.y).key]={backfilled:!1},Wt[new s.OverscaledTileID(nt.overscaledZ,Ft,g.z,Ot,g.y).key]={backfilled:!1},g.y>0&&(Wt[new s.OverscaledTileID(nt.overscaledZ,Et,g.z,st,g.y-1).key]={backfilled:!1},Wt[new s.OverscaledTileID(nt.overscaledZ,nt.wrap,g.z,g.x,g.y-1).key]={backfilled:!1},Wt[new s.OverscaledTileID(nt.overscaledZ,Ft,g.z,Ot,g.y-1).key]={backfilled:!1}),g.y+1<tt&&(Wt[new s.OverscaledTileID(nt.overscaledZ,Et,g.z,st,g.y+1).key]={backfilled:!1},Wt[new s.OverscaledTileID(nt.overscaledZ,nt.wrap,g.z,g.x,g.y+1).key]={backfilled:!1},Wt[new s.OverscaledTileID(nt.overscaledZ,Ft,g.z,Ot,g.y+1).key]={backfilled:!1}),Wt}unloadTile(nt){nt.demTexture&&this.map.painter.saveTileTexture(nt.demTexture),nt.fbo&&(nt.fbo.destroy(),delete nt.fbo),nt.dem&&delete nt.dem,delete nt.neighboringTiles,nt.state="unloaded"}},geojson:class extends s.Evented{constructor(nt,g,tt,st){super(),this.id=nt,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._loaded=!1,this.actor=tt.getActor(),this.setEventedParent(st),this._data=g.data,this._options=s.extend({},g),this._collectResourceTiming=g.collectResourceTiming,g.maxzoom!==void 0&&(this.maxzoom=g.maxzoom),g.type&&(this.type=g.type),g.attribution&&(this.attribution=g.attribution),this.promoteId=g.promoteId;const Et=s.EXTENT/this.tileSize;this.workerOptions=s.extend({source:this.id,cluster:g.cluster||!1,geojsonVtOptions:{buffer:(g.buffer!==void 0?g.buffer:128)*Et,tolerance:(g.tolerance!==void 0?g.tolerance:.375)*Et,extent:s.EXTENT,maxZoom:this.maxzoom,lineMetrics:g.lineMetrics||!1,generateId:g.generateId||!1},superclusterOptions:{maxZoom:g.clusterMaxZoom!==void 0?g.clusterMaxZoom:this.maxzoom-1,minPoints:Math.max(2,g.clusterMinPoints||2),extent:s.EXTENT,radius:(g.clusterRadius!==void 0?g.clusterRadius:50)*Et,log:!1,generateId:g.generateId||!1},clusterProperties:g.clusterProperties,filter:g.filter},g.workerOptions)}onAdd(nt){this.map=nt,this.setData(this._data)}setData(nt){return this._data=nt,this._updateWorkerData(),this}getClusterExpansionZoom(nt,g){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:nt,source:this.id},g),this}getClusterChildren(nt,g){return this.actor.send("geojson.getClusterChildren",{clusterId:nt,source:this.id},g),this}getClusterLeaves(nt,g,tt,st){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:nt,limit:g,offset:tt},st),this}_updateWorkerData(){if(this._pendingLoad)return void(this._coalesce=!0);this.fire(new s.Event("dataloading",{dataType:"source"})),this._loaded=!1;const nt=s.extend({},this.workerOptions),g=this._data;typeof g=="string"?(nt.request=this.map._requestManager.transformRequest(s.exported.resolveURL(g),s.ResourceType.Source),nt.request.collectResourceTiming=this._collectResourceTiming):nt.data=JSON.stringify(g),this._pendingLoad=this.actor.send(`${this.type}.loadData`,nt,(tt,st)=>{if(this._loaded=!0,this._pendingLoad=null,tt)this.fire(new s.ErrorEvent(tt));else{const Et={dataType:"source",sourceDataType:this._metadataFired?"content":"metadata"};this._collectResourceTiming&&st&&st.resourceTiming&&st.resourceTiming[this.id]&&(Et.resourceTiming=st.resourceTiming[this.id]),this.fire(new s.Event("data",Et)),this._metadataFired=!0}this._coalesce&&(this._updateWorkerData(),this._coalesce=!1)})}loaded(){return this._loaded}loadTile(nt,g){const tt=nt.actor?"reloadTile":"loadTile";nt.actor=this.actor,nt.request=this.actor.send(tt,{type:this.type,uid:nt.uid,tileID:nt.tileID,tileZoom:nt.tileZoom,zoom:nt.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:s.exported.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},(st,Et)=>(delete nt.request,nt.unloadVectorData(),nt.aborted?g(null):st?g(st):(nt.loadVectorData(Et,this.map.painter,tt==="reloadTile"),g(null))),void 0,tt==="loadTile")}abortTile(nt){nt.request&&(nt.request.cancel(),delete nt.request),nt.aborted=!0}unloadTile(nt){nt.unloadVectorData(),this.actor.send("removeTile",{uid:nt.uid,type:this.type,source:this.id})}onRemove(){this._pendingLoad&&this._pendingLoad.cancel()}serialize(){return s.extend({},this._options,{type:this.type,data:this._data})}hasTransition(){return!1}},video:class extends Hr{constructor(nt,g,tt,st){super(nt,g,tt,st),this.roundZoom=!0,this.type="video",this.options=g}load(){this._loaded=!1;const nt=this.options;this.urls=[];for(const g of nt.urls)this.urls.push(this.map._requestManager.transformRequest(g,s.ResourceType.Source).url);s.getVideo(this.urls,(g,tt)=>{this._loaded=!0,g?this.fire(new s.ErrorEvent(g)):tt&&(this.video=tt,this.video.loop=!0,this.video.setAttribute("playsinline",""),this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading())})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(nt){if(this.video){const g=this.video.seekable;nt<g.start(0)||nt>g.end(0)?this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${this.id}`,null,`Playback for this video can be set only between the ${g.start(0)} and ${g.end(0)}-second mark.`))):this.video.currentTime=nt}}getVideo(){return this.video}onAdd(nt){this.map||(this.map=nt,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(Object.keys(this.tiles).length===0||this.video.readyState<2)return;const nt=this.map.painter.context,g=nt.gl;this.texture?this.video.paused||(this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE),g.texSubImage2D(g.TEXTURE_2D,0,0,0,g.RGBA,g.UNSIGNED_BYTE,this.video)):(this.texture=new s.Texture(nt,this.video,g.RGBA),this.texture.bind(g.LINEAR,g.CLAMP_TO_EDGE),this.width=this.video.videoWidth,this.height=this.video.videoHeight),this._prepareData(nt)}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}},image:Hr,canvas:class extends Hr{constructor(nt,g,tt,st){super(nt,g,tt,st),g.coordinates?Array.isArray(g.coordinates)&&g.coordinates.length===4&&!g.coordinates.some(Et=>!Array.isArray(Et)||Et.length!==2||Et.some(Ot=>typeof Ot!="number"))||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${nt}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${nt}`,null,'missing required property "coordinates"'))),g.animate&&typeof g.animate!="boolean"&&this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${nt}`,null,'optional "animate" property must be a boolean value'))),g.canvas?typeof g.canvas=="string"||g.canvas instanceof s.window.HTMLCanvasElement||this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${nt}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new s.ErrorEvent(new s.ValidationError(`sources.${nt}`,null,'missing required property "canvas"'))),this.options=g,this.animate=g.animate===void 0||g.animate}load(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof s.window.HTMLCanvasElement?this.options.canvas:s.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new s.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())}getCanvas(){return this.canvas}onAdd(nt){this.map=nt,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let nt=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,nt=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,nt=!0),this._hasInvalidDimensions()||Object.keys(this.tiles).length===0)return;const g=this.map.painter.context;this.texture?(nt||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new s.Texture(g,this.canvas,g.gl.RGBA,{premultiply:!0}),this._prepareData(g)}serialize(){return{type:"canvas",coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const nt of[this.canvas.width,this.canvas.height])if(isNaN(nt)||nt<=0)return!0;return!1}},custom:class extends s.Evented{constructor(nt,g,tt,st){super(),this.id=nt,this.type="custom",this._dataType="raster",this._dispatcher=tt,this._implementation=g,this.setEventedParent(st),this.scheme="xyz",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this._loaded=!1,this.roundZoom=!0,this._implementation||this.fire(new s.ErrorEvent(new Error(`Missing implementation for ${this.id} custom source`))),this._implementation.loadTile||this.fire(new s.ErrorEvent(new Error(`Missing loadTile implementation for ${this.id} custom source`))),this._implementation.bounds&&(this.tileBounds=new vt(this._implementation.bounds,this.minzoom,this.maxzoom)),g.update=this._update.bind(this),g.coveringTiles=this._coveringTiles.bind(this),s.extend(this,s.pick(g,["dataType","scheme","minzoom","maxzoom","tileSize","attribution","minTileCacheSize","maxTileCacheSize"]))}serialize(){return s.pick(this,["type","scheme","minzoom","maxzoom","tileSize","attribution"])}load(){this._loaded=!0,this.fire(new s.Event("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}loaded(){return this._loaded}onAdd(nt){this._map=nt,this._loaded=!1,this.fire(new s.Event("dataloading",{dataType:"source"})),this._implementation.onAdd&&this._implementation.onAdd(nt),this.load()}onRemove(nt){this._implementation.onRemove&&this._implementation.onRemove(nt)}hasTile(nt){if(this._implementation.hasTile){const{x:g,y:tt,z:st}=nt.canonical;return this._implementation.hasTile({x:g,y:tt,z:st})}return!this.tileBounds||this.tileBounds.contains(nt.canonical)}loadTile(nt,g){const{x:tt,y:st,z:Et}=nt.tileID.canonical,Ot=new s.window.AbortController,Ft=this._implementation.loadTile({x:tt,y:st,z:Et},{signal:Ot.signal});if(!Ft)return this.loadTileData(nt,{width:this.tileSize,height:this.tileSize,data:null}),nt.state="loaded",g(null);Ft.cancel=()=>Ot.abort(),nt.request=Ft.then(function(Wt){return delete nt.request,nt.aborted?(nt.state="unloaded",g(null)):Wt?function(er){return er instanceof s.window.ImageData||er instanceof s.window.ImageBitmap||er instanceof s.window.HTMLCanvasElement}(Wt)?(this.loadTileData(nt,Wt),nt.state="loaded",void g(null)):(nt.state="errored",g(new Error(`Can't infer data type for ${this.id}, only raster data supported at the moment`))):(this.loadTileData(nt,{width:this.tileSize,height:this.tileSize,data:null}),nt.state="loaded",g(null))}.bind(this)).catch(Wt=>{Wt.code!==20&&(nt.state="errored",g(Wt))})}loadTileData(nt,g){yr.loadTileData(nt,g,this._map.painter)}unloadTileData(nt){yr.unloadTileData(nt,this._map.painter)}prepareTile(nt){if(!this._implementation.prepareTile)return null;const{x:g,y:tt,z:st}=nt.tileID.canonical,Et=this._implementation.prepareTile({x:g,y:tt,z:st});return Et?(this.loadTileData(nt,Et),nt.state="loaded",Et):null}unloadTile(nt,g){if(this.unloadTileData(nt),this._implementation.unloadTile){const{x:tt,y:st,z:Et}=nt.tileID.canonical;this._implementation.unloadTile({x:tt,y:st,z:Et})}g()}abortTile(nt,g){nt.request&&nt.request.cancel&&(nt.request.cancel(),delete nt.request),g()}hasTransition(){return!1}_coveringTiles(){return this._map.transform.coveringTiles({tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,roundZoom:this.roundZoom}).map(nt=>({x:nt.canonical.x,y:nt.canonical.y,z:nt.canonical.z}))}_update(){this.fire(new s.Event("data",{dataType:"source",sourceDataType:"content"}))}}},Qr=function(nt,g,tt,st){const Et=new en[g.type](nt,g,tt,st);if(Et.id!==nt)throw new Error(`Expected Source id to be ${nt} instead of ${Et.id}`);return s.bindAll(["load","abort","unload","serialize","prepare"],Et),Et};function Gr(nt,g){const tt=s.identity([]);return s.scale(tt,tt,[.5*nt.width,.5*-nt.height,1]),s.translate(tt,tt,[1,-1,0]),s.multiply$1(tt,tt,nt.calculateProjMatrix(g.toUnwrapped())),Float32Array.from(tt)}function ln(nt,g,tt,st,Et,Ot,Ft,Wt=!1){const er=nt.tilesIn(st,Ft,Wt);er.sort(Nn);const nr=[];for(const fr of er)nr.push({wrappedTileID:fr.tile.tileID.wrapped().key,queryResults:fr.tile.queryRenderedFeatures(g,tt,nt._state,fr,Et,Ot,Gr(nt.transform,fr.tile.tileID),Wt)});const sr=function(fr){const xr={},Ar={};for(const Er of fr){const br=Er.queryResults,Nr=Er.wrappedTileID,Or=Ar[Nr]=Ar[Nr]||{};for(const kr in br){const Dr=br[kr],Ur=Or[kr]=Or[kr]||{},jr=xr[kr]=xr[kr]||[];for(const Wr of Dr)Ur[Wr.featureIndex]||(Ur[Wr.featureIndex]=!0,jr.push(Wr))}}return xr}(nr);for(const fr in sr)sr[fr].forEach(xr=>{const Ar=xr.feature,Er=Ar.layer;Er&&Er.type!=="background"&&Er.type!=="sky"&&(Ar.source=Er.source,Er["source-layer"]&&(Ar.sourceLayer=Er["source-layer"]),Ar.state=Ar.id!==void 0?nt.getFeatureState(Er["source-layer"],Ar.id):{})});return sr}function En(nt,g){const tt=nt.getRenderableIds().map(Ot=>nt.getTileByID(Ot)),st=[],Et={};for(let Ot=0;Ot<tt.length;Ot++){const Ft=tt[Ot],Wt=Ft.tileID.canonical.key;Et[Wt]||(Et[Wt]=!0,Ft.querySourceFeatures(st,g))}return st}function Nn(nt,g){const tt=nt.tileID,st=g.tileID;return tt.overscaledZ-st.overscaledZ||tt.canonical.y-st.canonical.y||tt.wrap-st.wrap||tt.canonical.x-st.canonical.x}function Cn(){return Hu.workerClass!=null?new Hu.workerClass:new s.window.Worker(Hu.workerUrl)}const Jn="mapboxgl_preloaded_worker_pool";class Xn{constructor(){this.active={}}acquire(g){if(!this.workers)for(this.workers=[];this.workers.length<Xn.workerCount;)this.workers.push(new Cn);return this.active[g]=!0,this.workers.slice()}release(g){delete this.active[g],this.numActive()===0&&(this.workers.forEach(tt=>{tt.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[Jn]}numActive(){return Object.keys(this.active).length}}let Wn;function ro(){return Wn||(Wn=new Xn),Wn}function un(nt,g){const tt={};for(const st in nt)st!=="ref"&&(tt[st]=nt[st]);return s.refProperties.forEach(st=>{st in g&&(tt[st]=g[st])}),tt}function xo(nt){nt=nt.slice();const g=Object.create(null);for(let tt=0;tt<nt.length;tt++)g[nt[tt].id]=nt[tt];for(let tt=0;tt<nt.length;tt++)"ref"in nt[tt]&&(nt[tt]=un(nt[tt],g[nt[tt].ref]));return nt}Xn.workerCount=2;const Un={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight",setTerrain:"setTerrain",setFog:"setFog",setProjection:"setProjection"};function vo(nt,g,tt){tt.push({command:Un.addSource,args:[nt,g[nt]]})}function so(nt,g,tt){g.push({command:Un.removeSource,args:[nt]}),tt[nt]=!0}function Us(nt,g,tt,st){so(nt,tt,st),vo(nt,g,tt)}function ks(nt,g,tt){let st;for(st in nt[tt])if(nt[tt].hasOwnProperty(st)&&st!=="data"&&!gt(nt[tt][st],g[tt][st]))return!1;for(st in g[tt])if(g[tt].hasOwnProperty(st)&&st!=="data"&&!gt(nt[tt][st],g[tt][st]))return!1;return!0}function Pn(nt,g,tt,st,Et,Ot){let Ft;for(Ft in g=g||{},nt=nt||{})nt.hasOwnProperty(Ft)&&(gt(nt[Ft],g[Ft])||tt.push({command:Ot,args:[st,Ft,g[Ft],Et]}));for(Ft in g)g.hasOwnProperty(Ft)&&!nt.hasOwnProperty(Ft)&&(gt(nt[Ft],g[Ft])||tt.push({command:Ot,args:[st,Ft,g[Ft],Et]}))}function _o(nt){return nt.id}function lo(nt,g){return nt[g.id]=g,nt}class as{constructor(g,tt){this.reset(g,tt)}reset(g,tt){this.points=g||[],this._distances=[0];for(let st=1;st<this.points.length;st++)this._distances[st]=this._distances[st-1]+this.points[st].dist(this.points[st-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(tt||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(g){if(this.points.length===1)return this.points[0];g=s.clamp(g,0,1);let tt=1,st=this._distances[tt];const Et=g*this.paddedLength+this.padding;for(;st<Et&&tt<this._distances.length;)st=this._distances[++tt];const Ot=tt-1,Ft=this._distances[Ot],Wt=st-Ft,er=Wt>0?(Et-Ft)/Wt:0;return this.points[Ot].mult(1-er).add(this.points[tt].mult(er))}}class Js{constructor(g,tt,st){const Et=this.boxCells=[],Ot=this.circleCells=[];this.xCellCount=Math.ceil(g/st),this.yCellCount=Math.ceil(tt/st);for(let Ft=0;Ft<this.xCellCount*this.yCellCount;Ft++)Et.push([]),Ot.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=g,this.height=tt,this.xScale=this.xCellCount/g,this.yScale=this.yCellCount/tt,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(g,tt,st,Et,Ot){this._forEachCell(tt,st,Et,Ot,this._insertBoxCell,this.boxUid++),this.boxKeys.push(g),this.bboxes.push(tt),this.bboxes.push(st),this.bboxes.push(Et),this.bboxes.push(Ot)}insertCircle(g,tt,st,Et){this._forEachCell(tt-Et,st-Et,tt+Et,st+Et,this._insertCircleCell,this.circleUid++),this.circleKeys.push(g),this.circles.push(tt),this.circles.push(st),this.circles.push(Et)}_insertBoxCell(g,tt,st,Et,Ot,Ft){this.boxCells[Ot].push(Ft)}_insertCircleCell(g,tt,st,Et,Ot,Ft){this.circleCells[Ot].push(Ft)}_query(g,tt,st,Et,Ot,Ft){if(st<0||g>this.width||Et<0||tt>this.height)return!Ot&&[];const Wt=[];if(g<=0&&tt<=0&&this.width<=st&&this.height<=Et){if(Ot)return!0;for(let er=0;er<this.boxKeys.length;er++)Wt.push({key:this.boxKeys[er],x1:this.bboxes[4*er],y1:this.bboxes[4*er+1],x2:this.bboxes[4*er+2],y2:this.bboxes[4*er+3]});for(let er=0;er<this.circleKeys.length;er++){const nr=this.circles[3*er],sr=this.circles[3*er+1],fr=this.circles[3*er+2];Wt.push({key:this.circleKeys[er],x1:nr-fr,y1:sr-fr,x2:nr+fr,y2:sr+fr})}return Ft?Wt.filter(Ft):Wt}return this._forEachCell(g,tt,st,Et,this._queryCell,Wt,{hitTest:Ot,seenUids:{box:{},circle:{}}},Ft),Ot?Wt.length>0:Wt}_queryCircle(g,tt,st,Et,Ot){const Ft=g-st,Wt=g+st,er=tt-st,nr=tt+st;if(Wt<0||Ft>this.width||nr<0||er>this.height)return!Et&&[];const sr=[];return this._forEachCell(Ft,er,Wt,nr,this._queryCellCircle,sr,{hitTest:Et,circle:{x:g,y:tt,radius:st},seenUids:{box:{},circle:{}}},Ot),Et?sr.length>0:sr}query(g,tt,st,Et,Ot){return this._query(g,tt,st,Et,!1,Ot)}hitTest(g,tt,st,Et,Ot){return this._query(g,tt,st,Et,!0,Ot)}hitTestCircle(g,tt,st,Et){return this._queryCircle(g,tt,st,!0,Et)}_queryCell(g,tt,st,Et,Ot,Ft,Wt,er){const nr=Wt.seenUids,sr=this.boxCells[Ot];if(sr!==null){const xr=this.bboxes;for(const Ar of sr)if(!nr.box[Ar]){nr.box[Ar]=!0;const Er=4*Ar;if(g<=xr[Er+2]&&tt<=xr[Er+3]&&st>=xr[Er+0]&&Et>=xr[Er+1]&&(!er||er(this.boxKeys[Ar]))){if(Wt.hitTest)return Ft.push(!0),!0;Ft.push({key:this.boxKeys[Ar],x1:xr[Er],y1:xr[Er+1],x2:xr[Er+2],y2:xr[Er+3]})}}}const fr=this.circleCells[Ot];if(fr!==null){const xr=this.circles;for(const Ar of fr)if(!nr.circle[Ar]){nr.circle[Ar]=!0;const Er=3*Ar;if(this._circleAndRectCollide(xr[Er],xr[Er+1],xr[Er+2],g,tt,st,Et)&&(!er||er(this.circleKeys[Ar]))){if(Wt.hitTest)return Ft.push(!0),!0;{const br=xr[Er],Nr=xr[Er+1],Or=xr[Er+2];Ft.push({key:this.circleKeys[Ar],x1:br-Or,y1:Nr-Or,x2:br+Or,y2:Nr+Or})}}}}}_queryCellCircle(g,tt,st,Et,Ot,Ft,Wt,er){const nr=Wt.circle,sr=Wt.seenUids,fr=this.boxCells[Ot];if(fr!==null){const Ar=this.bboxes;for(const Er of fr)if(!sr.box[Er]){sr.box[Er]=!0;const br=4*Er;if(this._circleAndRectCollide(nr.x,nr.y,nr.radius,Ar[br+0],Ar[br+1],Ar[br+2],Ar[br+3])&&(!er||er(this.boxKeys[Er])))return Ft.push(!0),!0}}const xr=this.circleCells[Ot];if(xr!==null){const Ar=this.circles;for(const Er of xr)if(!sr.circle[Er]){sr.circle[Er]=!0;const br=3*Er;if(this._circlesCollide(Ar[br],Ar[br+1],Ar[br+2],nr.x,nr.y,nr.radius)&&(!er||er(this.circleKeys[Er])))return Ft.push(!0),!0}}}_forEachCell(g,tt,st,Et,Ot,Ft,Wt,er){const nr=this._convertToXCellCoord(g),sr=this._convertToYCellCoord(tt),fr=this._convertToXCellCoord(st),xr=this._convertToYCellCoord(Et);for(let Ar=nr;Ar<=fr;Ar++)for(let Er=sr;Er<=xr;Er++)if(Ot.call(this,g,tt,st,Et,this.xCellCount*Er+Ar,Ft,Wt,er))return}_convertToXCellCoord(g){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(g*this.xScale)))}_convertToYCellCoord(g){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(g*this.yScale)))}_circlesCollide(g,tt,st,Et,Ot,Ft){const Wt=Et-g,er=Ot-tt,nr=st+Ft;return nr*nr>Wt*Wt+er*er}_circleAndRectCollide(g,tt,st,Et,Ot,Ft,Wt){const er=(Ft-Et)/2,nr=Math.abs(g-(Et+er));if(nr>er+st)return!1;const sr=(Wt-Ot)/2,fr=Math.abs(tt-(Ot+sr));if(fr>sr+st)return!1;if(nr<=er||fr<=sr)return!0;const xr=nr-er,Ar=fr-sr;return xr*xr+Ar*Ar<=st*st}}const mo=Math.tan(85*Math.PI/180);function Cs(nt,g,tt,st,Et,Ot){const Ft=s.create();if(tt){if(Et.projection.name==="globe")s.multiply$1(Ft,Ft,s.calculateGlobeLabelMatrix(Et,g));else{const Wt=pt([],Ot);Ft[0]=Wt[0],Ft[1]=Wt[1],Ft[4]=Wt[2],Ft[5]=Wt[3]}st||s.rotateZ(Ft,Ft,Et.angle)}else s.multiply$1(Ft,Et.labelPlaneMatrix,nt);return Ft}function zl(nt,g,tt,st,Et,Ot){if(tt){if(Et.projection.name==="globe"){const Ft=Cs(nt,g,tt,st,Et,Ot);return s.invert(Ft,Ft),s.multiply$1(Ft,nt,Ft),Ft}{const Ft=s.clone(nt),Wt=s.identity([]);return Wt[0]=Ot[0],Wt[1]=Ot[1],Wt[4]=Ot[2],Wt[5]=Ot[3],s.multiply$1(Ft,Ft,Wt),st||s.rotateZ(Ft,Ft,-Et.angle),Ft}}return Et.glCoordMatrix}function Yo(nt,g,tt=0){const st=[nt.x,nt.y,tt,1];tt?s.transformMat4$1(st,st,g):Do(st,st,g);const Et=st[3];return{point:new s.pointGeometry(st[0]/Et,st[1]/Et),signedDistanceFromCamera:Et}}function ws(nt,g){const tt=[nt[0],nt[1],nt[2],1];s.transformMat4$1(tt,tt,g);const st=tt[3];return{point:new s.pointGeometry(tt[0]/st,tt[1]/st),signedDistanceFromCamera:st}}function Uo(nt,g){return Math.min(.5+nt/g*.5,1.5)}function Pu(nt,g){const tt=nt[0]/nt[3],st=nt[1]/nt[3];return tt>=-g[0]&&tt<=g[0]&&st>=-g[1]&&st<=g[1]}function Dl(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr){const sr=tt.transform,fr=st?nt.textSizeData:nt.iconSizeData,xr=s.evaluateSizeForZoom(fr,tt.transform.zoom),Ar=[256/tt.width*2+1,256/tt.height*2+1],Er=st?nt.text.dynamicLayoutVertexArray:nt.icon.dynamicLayoutVertexArray;Er.clear();const br=nt.lineVertexArray,Nr=st?nt.text.placedSymbolArray:nt.icon.placedSymbolArray,Or=tt.transform.width/tt.transform.height;let kr=!1;for(let Dr=0;Dr<Nr.length;Dr++){const Ur=Nr.get(Dr);if(Ur.writingMode!==s.WritingMode.vertical||kr||Dr!==0&&Nr.get(Dr-1).writingMode===s.WritingMode.horizontal||(kr=!0),(Ur.hidden||Ur.writingMode===s.WritingMode.vertical)&&!kr){Ko(Ur.numGlyphs,Er);continue}kr=!1;const jr=new s.pointGeometry(Ur.tileAnchorX,Ur.tileAnchorY),Wr=er?er(jr):[0,0,0],on=sr.projection.projectTilePoint(jr.x,jr.y,nr.canonical),pn=[on.x+Wr[0],on.y+Wr[1],on.z+Wr[2]],vn=[...pn,1];if(s.transformMat4$1(vn,vn,g),!Pu(vn,Ar)){Ko(Ur.numGlyphs,Er);continue}const yn=Uo(tt.transform.cameraToCenterDistance,vn[3]),jn=s.evaluateSizeForFeature(fr,xr,Ur),sn=Ft?jn/yn:jn*yn,kn=Yo(new s.pointGeometry(pn[0],pn[1]),Et,pn[2]);if(kn.signedDistanceFromCamera<=0){Ko(Ur.numGlyphs,Er);continue}let On={};const Yn=Ft?null:er,bn=Yl(Ur,sn,!1,Wt,g,Et,Ot,nt.glyphOffsetArray,br,Er,kn.point,jr,On,Or,Yn,sr.projection,nr);kr=bn.useVertical,Yn&&bn.needsFlipping&&(On={}),(bn.notEnoughRoom||kr||bn.needsFlipping&&Yl(Ur,sn,!0,Wt,g,Et,Ot,nt.glyphOffsetArray,br,Er,kn.point,jr,On,Or,Yn,sr.projection,nr).notEnoughRoom)&&Ko(Ur.numGlyphs,Er)}st?nt.text.dynamicLayoutVertexBuffer.updateData(Er):nt.icon.dynamicLayoutVertexBuffer.updateData(Er)}function $l(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar,Er){const br=Wt.glyphStartIndex+Wt.numGlyphs,Nr=Wt.lineStartIndex,Or=Wt.lineStartIndex+Wt.lineLength,kr=g.getoffsetX(Wt.glyphStartIndex),Dr=g.getoffsetX(br-1),Ur=Ds(nt*kr,tt,st,Et,Ot,Ft,Wt.segment,Nr,Or,er,nr,sr,fr,xr,!0,Ar,Er);if(!Ur)return null;const jr=Ds(nt*Dr,tt,st,Et,Ot,Ft,Wt.segment,Nr,Or,er,nr,sr,fr,xr,!0,Ar,Er);return jr?{first:Ur,last:jr}:null}function Rs(nt,g,tt,st){return nt.writingMode===s.WritingMode.horizontal&&Math.abs(tt.y-g.y)>Math.abs(tt.x-g.x)*st?{useVertical:!0}:nt.writingMode===s.WritingMode.vertical?g.y<tt.y?{needsFlipping:!0}:null:nt.flipState!==0&&function(Et,Ot,Ft){const Wt=(Ot.x-Et.x)*Ft;return Wt===0||Math.abs((Ot.y-Et.y)/Wt)>mo}(g,tt,st)?nt.flipState===1?{needsFlipping:!0}:null:g.x>tt.x?{needsFlipping:!0}:null}function Yl(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar,Er,br,Nr){const Or=g/24,kr=nt.lineOffsetX*Or,Dr=nt.lineOffsetY*Or;let Ur;if(nt.numGlyphs>1){const jr=nt.glyphStartIndex+nt.numGlyphs,Wr=nt.lineStartIndex,on=nt.lineStartIndex+nt.lineLength,pn=$l(Or,Wt,kr,Dr,tt,sr,fr,nt,er,Ot,xr,Er,!1,br,Nr);if(!pn)return{notEnoughRoom:!0};const vn=Yo(pn.first.point,Ft).point,yn=Yo(pn.last.point,Ft).point;if(st&&!tt){const jn=Rs(nt,vn,yn,Ar);if(nt.flipState=jn&&jn.needsFlipping?1:2,jn)return jn}Ur=[pn.first];for(let jn=nt.glyphStartIndex+1;jn<jr-1;jn++)Ur.push(Ds(Or*Wt.getoffsetX(jn),kr,Dr,tt,sr,fr,nt.segment,Wr,on,er,Ot,xr,Er,!1,!1,br,Nr));Ur.push(pn.last)}else{if(st&&!tt){const Wr=Yo(fr,Et).point,on=nt.lineStartIndex+nt.segment+1,pn=new s.pointGeometry(er.getx(on),er.gety(on)),vn=Yo(pn,Et),yn=Rs(nt,Wr,vn.signedDistanceFromCamera>0?vn.point:So(fr,pn,Wr,1,Et,void 0,br,Nr.canonical),Ar);if(nt.flipState=yn&&yn.needsFlipping?1:2,yn)return yn}const jr=Ds(Or*Wt.getoffsetX(nt.glyphStartIndex),kr,Dr,tt,sr,fr,nt.segment,nt.lineStartIndex,nt.lineStartIndex+nt.lineLength,er,Ot,xr,Er,!1,!1,br,Nr);if(!jr)return{notEnoughRoom:!0};Ur=[jr]}for(const jr of Ur)s.addDynamicAttributes(nr,jr.point,jr.angle);return{}}function Ms(nt,g,tt,st,Et){const Ot=st.projectTilePoint(nt.x,nt.y,g);if(!Et)return Yo(Ot,tt,Ot.z);const Ft=Et(nt);return Yo(new s.pointGeometry(Ot.x+Ft[0],Ot.y+Ft[1]),tt,Ot.z+Ft[2])}function So(nt,g,tt,st,Et,Ot,Ft,Wt){const er=Ms(nt.add(nt.sub(g)._unit()),Wt,Et,Ft,Ot).point,nr=tt.sub(er);return tt.add(nr._mult(st/nr.mag()))}function Ds(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar,Er,br,Nr){const Or=st?nt-g:nt+g;let kr=Or>0?1:-1,Dr=0;st&&(kr*=-1,Dr=Math.PI),kr<0&&(Dr+=Math.PI);let Ur=kr>0?Wt+Ft:Wt+Ft+1,jr=Et,Wr=Et,on=0,pn=0;const vn=Math.abs(Or),yn=[],jn=[];let sn=Ot;const kn=()=>{const $n=Ur-kr;return on===0?Ot:new s.pointGeometry(nr.getx($n),nr.gety($n))},On=()=>So(kn(),sn,Wr,vn-on+1,sr,xr,br,Nr.canonical);for(;on+pn<=vn;){if(Ur+=kr,Ur<Wt||Ur>=er)return null;if(Wr=jr,yn.push(jr),Ar&&jn.push(sn||kn()),jr=fr[Ur],jr===void 0){sn=new s.pointGeometry(nr.getx(Ur),nr.gety(Ur));const $n=Ms(sn,Nr.canonical,sr,br,xr);jr=$n.signedDistanceFromCamera>0?fr[Ur]=$n.point:On()}else sn=null;on+=pn,pn=Wr.dist(jr)}Er&&xr&&(sn=sn||new s.pointGeometry(nr.getx(Ur),nr.gety(Ur)),fr[Ur]=jr=fr[Ur]===void 0?jr:On(),pn=Wr.dist(jr));const Yn=(vn-on)/pn,bn=jr.sub(Wr),Gn=bn.mult(Yn)._add(Wr);tt&&Gn._add(bn._unit()._perp()._mult(tt*kr));const eo=Dr+Math.atan2(jr.y-Wr.y,jr.x-Wr.x);return yn.push(Gn),Ar&&(sn=sn||new s.pointGeometry(nr.getx(Ur),nr.gety(Ur)),jn.push(function($n,qn,no){const po=1-no;return new s.pointGeometry($n.x*po+qn.x*no,$n.y*po+qn.y*no)}(jn.length>0?jn[jn.length-1]:sn,sn,Yn))),{point:Gn,angle:eo,path:yn,tilePath:jn}}const Vl=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function Ko(nt,g){for(let tt=0;tt<nt;tt++){const st=g.length;g.resize(st+4),g.float32.set(Vl,3*st)}}function Do(nt,g,tt){const st=g[0],Et=g[1];return nt[0]=tt[0]*st+tt[4]*Et+tt[12],nt[1]=tt[1]*st+tt[5]*Et+tt[13],nt[3]=tt[3]*st+tt[7]*Et+tt[15],nt}const ps=100;class ls{constructor(g,tt,st=new Js(g.width+200,g.height+200,25),Et=new Js(g.width+200,g.height+200,25)){this.transform=g,this.grid=st,this.ignoredGrid=Et,this.pitchfactor=Math.cos(g._pitch)*g.cameraToCenterDistance,this.screenRightBoundary=g.width+ps,this.screenBottomBoundary=g.height+ps,this.gridRightBoundary=g.width+200,this.gridBottomBoundary=g.height+200,this.fogState=tt}placeCollisionBox(g,tt,st,Et,Ot,Ft,Wt){let er=tt.projectedAnchorX,nr=tt.projectedAnchorY,sr=tt.projectedAnchorZ;const fr=tt.elevation,xr=tt.tileID;if(fr&&xr){const Ur=this.transform.projection.upVector(xr.canonical,tt.tileAnchorX,tt.tileAnchorY),jr=this.transform.projection.upVectorScale(xr.canonical,this.transform.center.lat,this.transform.worldSize).metersToTile;er+=Ur[0]*fr*jr,nr+=Ur[1]*fr*jr,sr+=Ur[2]*fr*jr}const Ar=this.projectAndGetPerspectiveRatio(Ft,[er,nr,sr],tt.tileID,this.transform.projection.name==="globe"||!!fr||this.transform.pitch>0),Er=Ot*Ar.perspectiveRatio,br=(tt.x1*g+st.x-tt.padding)*Er+Ar.point.x,Nr=(tt.y1*g+st.y-tt.padding)*Er+Ar.point.y,Or=(tt.x2*g+st.x+tt.padding)*Er+Ar.point.x,kr=(tt.y2*g+st.y+tt.padding)*Er+Ar.point.y,Dr=Ar.perspectiveRatio<=.55||Ar.occluded;return!this.isInsideGrid(br,Nr,Or,kr)||!Et&&this.grid.hitTest(br,Nr,Or,kr,Wt)||Dr?{box:[],offscreen:!1,occluded:Ar.occluded}:{box:[br,Nr,Or,kr],offscreen:this.isOffscreen(br,Nr,Or,kr),occluded:!1}}placeCollisionCircles(g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar,Er){const br=[],Nr=this.transform.elevation,Or=Nr?Nr.getAtTileOffsetFunc(Er,this.transform.center.lat,this.transform.worldSize,this.transform.projection):On=>[0,0,0],kr=new s.pointGeometry(tt.tileAnchorX,tt.tileAnchorY),Dr=this.transform.projection.projectTilePoint(tt.tileAnchorX,tt.tileAnchorY,Er.canonical),Ur=Or(kr),jr=[Dr.x+Ur[0],Dr.y+Ur[1],Dr.z+Ur[2]],Wr=this.projectAndGetPerspectiveRatio(Ft,[jr[0],jr[1],jr[2]],Er,this.transform.projection.name==="globe"||!!Nr||this.transform.pitch>0),{perspectiveRatio:on}=Wr,pn=(sr?Ot/on:Ot*on)/s.ONE_EM,vn=Yo(new s.pointGeometry(jr[0],jr[1]),Wt,jr[2]).point,yn=Wr.signedDistanceFromCamera>0?$l(pn,Et,tt.lineOffsetX*pn,tt.lineOffsetY*pn,!1,vn,kr,tt,st,Wt,{},Nr&&!sr?Or:null,sr&&!!Nr,this.transform.projection,Er):null;let jn=!1,sn=!1,kn=!0;if(yn&&!Wr.occluded){const On=.5*xr*on+Ar,Yn=new s.pointGeometry(-100,-100),bn=new s.pointGeometry(this.screenRightBoundary,this.screenBottomBoundary),Gn=new as,eo=yn.first,$n=yn.last;let qn=[];for(let _i=eo.path.length-1;_i>=1;_i--)qn.push(eo.path[_i]);for(let _i=1;_i<$n.path.length;_i++)qn.push($n.path[_i]);const no=2.5*On;if(er){const _i=qn.map(Nr?(oo,Ao)=>{const Jo=Or(Ao<eo.path.length-1?eo.tilePath[eo.path.length-1-Ao]:$n.tilePath[Ao-eo.path.length+2]);return Yo(oo,er,Jo[2])}:oo=>Yo(oo,er));qn=_i.some(oo=>oo.signedDistanceFromCamera<=0)?[]:_i.map(oo=>oo.point)}let po=[];if(qn.length>0){const _i=qn[0].clone(),oo=qn[0].clone();for(let Ao=1;Ao<qn.length;Ao++)_i.x=Math.min(_i.x,qn[Ao].x),_i.y=Math.min(_i.y,qn[Ao].y),oo.x=Math.max(oo.x,qn[Ao].x),oo.y=Math.max(oo.y,qn[Ao].y);po=_i.x>=Yn.x&&oo.x<=bn.x&&_i.y>=Yn.y&&oo.y<=bn.y?[qn]:oo.x<Yn.x||_i.x>bn.x||oo.y<Yn.y||_i.y>bn.y?[]:s.clipLine([qn],Yn.x,Yn.y,bn.x,bn.y)}for(const _i of po){Gn.reset(_i,.25*On);let oo=0;oo=Gn.length<=.5*On?1:Math.ceil(Gn.paddedLength/no)+1;for(let Ao=0;Ao<oo;Ao++){const Jo=Ao/Math.max(oo-1,1),Is=Gn.lerp(Jo),Os=Is.x+ps,_a=Is.y+ps;br.push(Os,_a,On,0);const Bl=Os-On,Ql=_a-On,du=Os+On,eu=_a+On;if(kn=kn&&this.isOffscreen(Bl,Ql,du,eu),sn=sn||this.isInsideGrid(Bl,Ql,du,eu),!g&&this.grid.hitTestCircle(Os,_a,On,fr)&&(jn=!0,!nr))return{circles:[],offscreen:!1,collisionDetected:jn,occluded:!1}}}}return{circles:!nr&&jn||!sn?[]:br,offscreen:kn,collisionDetected:jn,occluded:Wr.occluded}}queryRenderedSymbols(g){if(g.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};const tt=[];let st=1/0,Et=1/0,Ot=-1/0,Ft=-1/0;for(const sr of g){const fr=new s.pointGeometry(sr.x+ps,sr.y+ps);st=Math.min(st,fr.x),Et=Math.min(Et,fr.y),Ot=Math.max(Ot,fr.x),Ft=Math.max(Ft,fr.y),tt.push(fr)}const Wt=this.grid.query(st,Et,Ot,Ft).concat(this.ignoredGrid.query(st,Et,Ot,Ft)),er={},nr={};for(const sr of Wt){const fr=sr.key;if(er[fr.bucketInstanceId]===void 0&&(er[fr.bucketInstanceId]={}),er[fr.bucketInstanceId][fr.featureIndex])continue;const xr=[new s.pointGeometry(sr.x1,sr.y1),new s.pointGeometry(sr.x2,sr.y1),new s.pointGeometry(sr.x2,sr.y2),new s.pointGeometry(sr.x1,sr.y2)];s.polygonIntersectsPolygon(tt,xr)&&(er[fr.bucketInstanceId][fr.featureIndex]=!0,nr[fr.bucketInstanceId]===void 0&&(nr[fr.bucketInstanceId]=[]),nr[fr.bucketInstanceId].push(fr.featureIndex))}return nr}insertCollisionBox(g,tt,st,Et,Ot){(tt?this.ignoredGrid:this.grid).insert({bucketInstanceId:st,featureIndex:Et,collisionGroupID:Ot},g[0],g[1],g[2],g[3])}insertCollisionCircles(g,tt,st,Et,Ot){const Ft=tt?this.ignoredGrid:this.grid,Wt={bucketInstanceId:st,featureIndex:Et,collisionGroupID:Ot};for(let er=0;er<g.length;er+=4)Ft.insertCircle(Wt,g[er],g[er+1],g[er+2])}projectAndGetPerspectiveRatio(g,tt,st,Et){const Ot=[tt[0],tt[1],tt[2],1];let Ft=!1;return tt[2]||this.transform.pitch>0?(s.transformMat4$1(Ot,Ot,g),this.fogState&&st&&(Ft=function(Wt,er,nr,sr,fr,xr){const Ar=xr.calculateFogTileMatrix(fr),Er=[er,nr,sr];return s.transformMat4(Er,Er,Ar),Nt(Wt,Er,xr.pitch,xr._fov)}(this.fogState,tt[0],tt[1],tt[2],st.toUnwrapped(),this.transform)>.9)):Do(Ot,Ot,g),{point:new s.pointGeometry((Ot[0]/Ot[3]+1)/2*this.transform.width+ps,(-Ot[1]/Ot[3]+1)/2*this.transform.height+ps),perspectiveRatio:Math.min(.5+this.transform.cameraToCenterDistance/Ot[3]*.5,1.5),signedDistanceFromCamera:Ot[3],occluded:Et&&Ot[2]>Ot[3]||Ft}}isOffscreen(g,tt,st,Et){return st<ps||g>=this.screenRightBoundary||Et<ps||tt>this.screenBottomBoundary}isInsideGrid(g,tt,st,Et){return st>=0&&g<this.gridRightBoundary&&Et>=0&&tt<this.gridBottomBoundary}getViewportMatrix(){const g=s.identity([]);return s.translate(g,g,[-100,-100,0]),g}}class Co{constructor(g,tt,st,Et){this.opacity=g?Math.max(0,Math.min(1,g.opacity+(g.placed?tt:-tt))):Et&&st?1:0,this.placed=st}isHidden(){return this.opacity===0&&!this.placed}}class _s{constructor(g,tt,st,Et,Ot,Ft=!1){this.text=new Co(g?g.text:null,tt,st,Ot),this.icon=new Co(g?g.icon:null,tt,Et,Ot),this.clipped=Ft}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class zs{constructor(g,tt,st,Et=!1){this.text=g,this.icon=tt,this.skipFade=st,this.clipped=Et}}class es{constructor(){this.invProjMatrix=s.create(),this.viewportMatrix=s.create(),this.circles=[]}}class lr{constructor(g,tt,st,Et,Ot){this.bucketInstanceId=g,this.featureIndex=tt,this.sourceLayerIndex=st,this.bucketIndex=Et,this.tileID=Ot}}class vr{constructor(g){this.crossSourceCollisions=g,this.maxGroupID=0,this.collisionGroups={}}get(g){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[g]){const tt=++this.maxGroupID;this.collisionGroups[g]={ID:tt,predicate:st=>st.collisionGroupID===tt}}return this.collisionGroups[g]}}function Pr(nt,g,tt,st,Et){const{horizontalAlign:Ot,verticalAlign:Ft}=s.getAnchorAlignment(nt),Wt=-(Ot-.5)*g,er=-(Ft-.5)*tt,nr=s.evaluateVariableOffset(nt,st);return new s.pointGeometry(Wt+nr[0]*Et,er+nr[1]*Et)}function $r(nt,g,tt,st,Et){const Ot=new s.pointGeometry(nt,g);return tt&&Ot._rotate(st?Et:-Et),Ot}class cn{constructor(g,tt,st,Et,Ot){this.transform=g.clone(),this.collisionIndex=new ls(this.transform,Ot),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=tt,this.retainedQueryData={},this.collisionGroups=new vr(st),this.collisionCircleArrays={},this.prevPlacement=Et,Et&&(Et.prevPlacement=void 0),this.placedOrientations={}}getBucketParts(g,tt,st,Et){const Ot=st.getBucket(tt),Ft=st.latestFeatureIndex;if(!Ot||!Ft||tt.id!==Ot.layerIds[0])return;const Wt=Ot.layers[0].layout,er=st.collisionBoxArray,nr=Math.pow(2,this.transform.zoom-st.tileID.overscaledZ),sr=st.tileSize/s.EXTENT,fr=st.tileID.toUnwrapped(),xr=this.transform.calculateProjMatrix(fr),Ar=Wt.get("text-pitch-alignment")==="map",Er=Wt.get("text-rotation-alignment")==="map";tt.compileFilter();const br=tt.dynamicFilter(),Nr=tt.dynamicFilterNeedsFeature(),Or=this.transform.calculatePixelsToTileUnitsMatrix(st),kr=Cs(xr,st.tileID.canonical,Ar,Er,this.transform,Or);let Dr=null;if(Ar){const Wr=zl(xr,st.tileID.canonical,Ar,Er,this.transform,Or);Dr=s.multiply$1([],this.transform.labelPlaneMatrix,Wr)}let Ur=null;br&&st.latestFeatureIndex&&(Ur={unwrappedTileID:fr,dynamicFilter:br,dynamicFilterNeedsFeature:Nr,featureIndex:st.latestFeatureIndex}),this.retainedQueryData[Ot.bucketInstanceId]=new lr(Ot.bucketInstanceId,Ft,Ot.sourceLayerIndex,Ot.index,st.tileID);const jr={bucket:Ot,layout:Wt,posMatrix:xr,textLabelPlaneMatrix:kr,labelToScreenMatrix:Dr,clippingData:Ur,scale:nr,textPixelRatio:sr,holdingForFade:st.holdingForFade(),collisionBoxArray:er,partiallyEvaluatedTextSize:s.evaluateSizeForZoom(Ot.textSizeData,this.transform.zoom),partiallyEvaluatedIconSize:s.evaluateSizeForZoom(Ot.iconSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(Ot.sourceID)};if(Et)for(const Wr of Ot.sortKeyRanges){const{sortKey:on,symbolInstanceStart:pn,symbolInstanceEnd:vn}=Wr;g.push({sortKey:on,symbolInstanceStart:pn,symbolInstanceEnd:vn,parameters:jr})}else g.push({symbolInstanceStart:0,symbolInstanceEnd:Ot.symbolInstances.length,parameters:jr})}attemptAnchorPlacement(g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar,Er,br,Nr,Or,kr){const Dr=[xr.textOffset0,xr.textOffset1],Ur=Pr(g,st,Et,Dr,Ot),jr=this.collisionIndex.placeCollisionBox(Ot,tt,$r(Ur.x,Ur.y,Ft,Wt,this.transform.angle),fr,er,nr,sr.predicate);if((!Nr||this.collisionIndex.placeCollisionBox(Er.getSymbolInstanceIconSize(kr,this.transform.zoom,Ar),Nr,$r(Ur.x,Ur.y,Ft,Wt,this.transform.angle),fr,er,nr,sr.predicate).box.length!==0)&&jr.box.length>0){let Wr;return this.prevPlacement&&this.prevPlacement.variableOffsets[xr.crossTileID]&&this.prevPlacement.placements[xr.crossTileID]&&this.prevPlacement.placements[xr.crossTileID].text&&(Wr=this.prevPlacement.variableOffsets[xr.crossTileID].anchor),this.variableOffsets[xr.crossTileID]={textOffset:Dr,width:st,height:Et,anchor:g,textScale:Ot,prevAnchor:Wr},this.markUsedJustification(Er,g,xr,br),Er.allowVerticalPlacement&&(this.markUsedOrientation(Er,br,xr),this.placedOrientations[xr.crossTileID]=br),{shift:Ur,placedGlyphBoxes:jr}}}placeLayerBucketPart(g,tt,st,Et){const{bucket:Ot,layout:Ft,posMatrix:Wt,textLabelPlaneMatrix:er,labelToScreenMatrix:nr,clippingData:sr,textPixelRatio:fr,holdingForFade:xr,collisionBoxArray:Ar,partiallyEvaluatedTextSize:Er,partiallyEvaluatedIconSize:br,collisionGroup:Nr}=g.parameters,Or=Ft.get("text-optional"),kr=Ft.get("icon-optional"),Dr=Ft.get("text-allow-overlap"),Ur=Ft.get("icon-allow-overlap"),jr=Ft.get("text-rotation-alignment")==="map",Wr=Ft.get("text-pitch-alignment")==="map",on=Ft.get("icon-text-fit")!=="none",pn=Ft.get("symbol-z-order")==="viewport-y";let vn=Dr&&(Ur||!Ot.hasIconData()||kr),yn=Ur&&(Dr||!Ot.hasTextData()||Or);!Ot.collisionArrays&&Ar&&Ot.deserializeCollisionBoxes(Ar),st&&Et&&Ot.updateCollisionDebugBuffers(this.transform.zoom,Ar);const jn=(sn,kn,On)=>{if(sr){const ts={zoom:this.transform.zoom,pitch:this.transform.pitch};let ns=null;if(sr.dynamicFilterNeedsFeature){const Io=this.retainedQueryData[Ot.bucketInstanceId];ns=sr.featureIndex.loadFeature({featureIndex:sn.featureIndex,bucketIndex:Io.bucketIndex,sourceLayerIndex:Io.sourceLayerIndex,layoutVertexArrayOffset:0})}if(!(0,sr.dynamicFilter)(ts,ns,this.retainedQueryData[Ot.bucketInstanceId].tileID.canonical,new s.pointGeometry(sn.tileAnchorX,sn.tileAnchorY),this.transform.calculateDistanceTileData(sr.unwrappedTileID)))return this.placements[sn.crossTileID]=new zs(!1,!1,!1,!0),void(tt[sn.crossTileID]=!0)}if(tt[sn.crossTileID])return;if(xr)return void(this.placements[sn.crossTileID]=new zs(!1,!1,!1));let Yn=!1,bn=!1,Gn=!0,eo=!1,$n=!1,qn=null,no={box:null,offscreen:null,occluded:null},po={box:null,offscreen:null,occluded:null},_i=null,oo=null,Ao=null,Jo=0,Is=0,Os=0;On.textFeatureIndex?Jo=On.textFeatureIndex:sn.useRuntimeCollisionCircles&&(Jo=sn.featureIndex),On.verticalTextFeatureIndex&&(Is=On.verticalTextFeatureIndex);const _a=ts=>{ts.tileID=this.retainedQueryData[Ot.bucketInstanceId].tileID,(this.transform.elevation||ts.elevation)&&(ts.elevation=this.transform.elevation?this.transform.elevation.getAtTileOffset(this.retainedQueryData[Ot.bucketInstanceId].tileID,ts.tileAnchorX,ts.tileAnchorY):0)},Bl=On.textBox;if(Bl){_a(Bl);const ts=Io=>{let us=s.WritingMode.horizontal;if(Ot.allowVerticalPlacement&&!Io&&this.prevPlacement){const yl=this.prevPlacement.placedOrientations[sn.crossTileID];yl&&(this.placedOrientations[sn.crossTileID]=yl,us=yl,this.markUsedOrientation(Ot,us,sn))}return us},ns=(Io,us)=>{if(Ot.allowVerticalPlacement&&sn.numVerticalGlyphVertices>0&&On.verticalTextBox){for(const yl of Ot.writingModes)if(yl===s.WritingMode.vertical?(no=us(),po=no):no=Io(),no&&no.box&&no.box.length)break}else no=Io()};if(Ft.get("text-variable-anchor")){let Io=Ft.get("text-variable-anchor");if(this.prevPlacement&&this.prevPlacement.variableOffsets[sn.crossTileID]){const Qo=this.prevPlacement.variableOffsets[sn.crossTileID];Io.indexOf(Qo.anchor)>0&&(Io=Io.filter(Tl=>Tl!==Qo.anchor),Io.unshift(Qo.anchor))}const us=(Qo,Tl,Tp)=>{const _l=Ot.getSymbolInstanceTextSize(Er,sn,this.transform.zoom,kn),Au=(Qo.x2-Qo.x1)*_l+2*Qo.padding,by=(Qo.y2-Qo.y1)*_l+2*Qo.padding,n1=on&&!Ur?Tl:null;n1&&_a(n1);let Gu={box:[],offscreen:!1,occluded:!1};const c_=Dr?2*Io.length:Io.length;for(let fu=0;fu<c_;++fu){const i1=this.attemptAnchorPlacement(Io[fu%Io.length],Qo,Au,by,_l,jr,Wr,fr,Wt,Nr,fu>=Io.length,sn,kn,Ot,Tp,n1,Er,br);if(i1&&(Gu=i1.placedGlyphBoxes,Gu&&Gu.box&&Gu.box.length)){Yn=!0,qn=i1.shift;break}}return Gu};ns(()=>us(Bl,On.iconBox,s.WritingMode.horizontal),()=>{const Qo=On.verticalTextBox;return Qo&&_a(Qo),Ot.allowVerticalPlacement&&!(no&&no.box&&no.box.length)&&sn.numVerticalGlyphVertices>0&&Qo?us(Qo,On.verticalIconBox,s.WritingMode.vertical):{box:null,offscreen:null,occluded:null}}),no&&(Yn=no.box,Gn=no.offscreen,eo=no.occluded);const yl=ts(no&&no.box);if(!Yn&&this.prevPlacement){const Qo=this.prevPlacement.variableOffsets[sn.crossTileID];Qo&&(this.variableOffsets[sn.crossTileID]=Qo,this.markUsedJustification(Ot,Qo.anchor,sn,yl))}}else{const Io=(us,yl)=>{const Qo=Ot.getSymbolInstanceTextSize(Er,sn,this.transform.zoom,kn),Tl=this.collisionIndex.placeCollisionBox(Qo,us,new s.pointGeometry(0,0),Dr,fr,Wt,Nr.predicate);return Tl&&Tl.box&&Tl.box.length&&(this.markUsedOrientation(Ot,yl,sn),this.placedOrientations[sn.crossTileID]=yl),Tl};ns(()=>Io(Bl,s.WritingMode.horizontal),()=>{const us=On.verticalTextBox;return Ot.allowVerticalPlacement&&sn.numVerticalGlyphVertices>0&&us?(_a(us),Io(us,s.WritingMode.vertical)):{box:null,offscreen:null,occluded:null}}),ts(no&&no.box&&no.box.length)}}if(_i=no,Yn=_i&&_i.box&&_i.box.length>0,Gn=_i&&_i.offscreen,eo=_i&&_i.occluded,sn.useRuntimeCollisionCircles){const ts=Ot.text.placedSymbolArray.get(sn.centerJustifiedTextSymbolIndex>=0?sn.centerJustifiedTextSymbolIndex:sn.verticalPlacedTextSymbolIndex),ns=s.evaluateSizeForFeature(Ot.textSizeData,Er,ts),Io=Ft.get("text-padding");oo=this.collisionIndex.placeCollisionCircles(Dr,ts,Ot.lineVertexArray,Ot.glyphOffsetArray,ns,Wt,er,nr,st,Wr,Nr.predicate,sn.collisionCircleDiameter*ns/s.ONE_EM,Io,this.retainedQueryData[Ot.bucketInstanceId].tileID),Yn=Dr||oo.circles.length>0&&!oo.collisionDetected,Gn=Gn&&oo.offscreen,eo=oo.occluded}if(On.iconFeatureIndex&&(Os=On.iconFeatureIndex),On.iconBox){const ts=ns=>{_a(ns);const Io=on&&qn?$r(qn.x,qn.y,jr,Wr,this.transform.angle):new s.pointGeometry(0,0),us=Ot.getSymbolInstanceIconSize(br,this.transform.zoom,kn);return this.collisionIndex.placeCollisionBox(us,ns,Io,Ur,fr,Wt,Nr.predicate)};po&&po.box&&po.box.length&&On.verticalIconBox?(Ao=ts(On.verticalIconBox),bn=Ao.box.length>0):(Ao=ts(On.iconBox),bn=Ao.box.length>0),Gn=Gn&&Ao.offscreen,$n=Ao.occluded}const Ql=Or||sn.numHorizontalGlyphVertices===0&&sn.numVerticalGlyphVertices===0,du=kr||sn.numIconVertices===0;if(Ql||du?du?Ql||(bn=bn&&Yn):Yn=bn&&Yn:bn=Yn=bn&&Yn,Yn&&_i&&_i.box&&this.collisionIndex.insertCollisionBox(_i.box,Ft.get("text-ignore-placement"),Ot.bucketInstanceId,po&&po.box&&Is?Is:Jo,Nr.ID),bn&&Ao&&this.collisionIndex.insertCollisionBox(Ao.box,Ft.get("icon-ignore-placement"),Ot.bucketInstanceId,Os,Nr.ID),oo&&(Yn&&this.collisionIndex.insertCollisionCircles(oo.circles,Ft.get("text-ignore-placement"),Ot.bucketInstanceId,Jo,Nr.ID),st)){const ts=Ot.bucketInstanceId;let ns=this.collisionCircleArrays[ts];ns===void 0&&(ns=this.collisionCircleArrays[ts]=new es);for(let Io=0;Io<oo.circles.length;Io+=4)ns.circles.push(oo.circles[Io+0]),ns.circles.push(oo.circles[Io+1]),ns.circles.push(oo.circles[Io+2]),ns.circles.push(oo.collisionDetected?1:0)}const eu=this.transform.projection.name!=="globe";vn=vn&&(eu||!eo),yn=yn&&(eu||!$n),this.placements[sn.crossTileID]=new zs(Yn||vn,bn||yn,Gn||Ot.justReloaded),tt[sn.crossTileID]=!0};if(pn){const sn=Ot.getSortedSymbolIndexes(this.transform.angle);for(let kn=sn.length-1;kn>=0;--kn){const On=sn[kn];jn(Ot.symbolInstances.get(On),On,Ot.collisionArrays[On])}}else for(let sn=g.symbolInstanceStart;sn<g.symbolInstanceEnd;sn++)jn(Ot.symbolInstances.get(sn),sn,Ot.collisionArrays[sn]);if(st&&Ot.bucketInstanceId in this.collisionCircleArrays){const sn=this.collisionCircleArrays[Ot.bucketInstanceId];s.invert(sn.invProjMatrix,Wt),sn.viewportMatrix=this.collisionIndex.getViewportMatrix()}Ot.justReloaded=!1}markUsedJustification(g,tt,st,Et){let Ot;Ot=Et===s.WritingMode.vertical?st.verticalPlacedTextSymbolIndex:{left:st.leftJustifiedTextSymbolIndex,center:st.centerJustifiedTextSymbolIndex,right:st.rightJustifiedTextSymbolIndex}[s.getAnchorJustification(tt)];const Ft=[st.leftJustifiedTextSymbolIndex,st.centerJustifiedTextSymbolIndex,st.rightJustifiedTextSymbolIndex,st.verticalPlacedTextSymbolIndex];for(const Wt of Ft)Wt>=0&&(g.text.placedSymbolArray.get(Wt).crossTileID=Ot>=0&&Wt!==Ot?0:st.crossTileID)}markUsedOrientation(g,tt,st){const Et=tt===s.WritingMode.horizontal||tt===s.WritingMode.horizontalOnly?tt:0,Ot=tt===s.WritingMode.vertical?tt:0,Ft=[st.leftJustifiedTextSymbolIndex,st.centerJustifiedTextSymbolIndex,st.rightJustifiedTextSymbolIndex];for(const Wt of Ft)g.text.placedSymbolArray.get(Wt).placedOrientation=Et;st.verticalPlacedTextSymbolIndex&&(g.text.placedSymbolArray.get(st.verticalPlacedTextSymbolIndex).placedOrientation=Ot)}commit(g){this.commitTime=g,this.zoomAtLastRecencyCheck=this.transform.zoom;const tt=this.prevPlacement;let st=!1;this.prevZoomAdjustment=tt?tt.zoomAdjustment(this.transform.zoom):0;const Et=tt?tt.symbolFadeChange(g):1,Ot=tt?tt.opacities:{},Ft=tt?tt.variableOffsets:{},Wt=tt?tt.placedOrientations:{};for(const er in this.placements){const nr=this.placements[er],sr=Ot[er];sr?(this.opacities[er]=new _s(sr,Et,nr.text,nr.icon,null,nr.clipped),st=st||nr.text!==sr.text.placed||nr.icon!==sr.icon.placed):(this.opacities[er]=new _s(null,Et,nr.text,nr.icon,nr.skipFade,nr.clipped),st=st||nr.text||nr.icon)}for(const er in Ot){const nr=Ot[er];if(!this.opacities[er]){const sr=new _s(nr,Et,!1,!1);sr.isHidden()||(this.opacities[er]=sr,st=st||nr.text.placed||nr.icon.placed)}}for(const er in Ft)this.variableOffsets[er]||!this.opacities[er]||this.opacities[er].isHidden()||(this.variableOffsets[er]=Ft[er]);for(const er in Wt)this.placedOrientations[er]||!this.opacities[er]||this.opacities[er].isHidden()||(this.placedOrientations[er]=Wt[er]);st?this.lastPlacementChangeTime=g:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=tt?tt.lastPlacementChangeTime:g)}updateLayerOpacities(g,tt){const st={};for(const Et of tt){const Ot=Et.getBucket(g);Ot&&Et.latestFeatureIndex&&g.id===Ot.layerIds[0]&&this.updateBucketOpacities(Ot,st,Et.collisionBoxArray)}}updateBucketOpacities(g,tt,st){g.hasTextData()&&g.text.opacityVertexArray.clear(),g.hasIconData()&&g.icon.opacityVertexArray.clear(),g.hasIconCollisionBoxData()&&g.iconCollisionBox.collisionVertexArray.clear(),g.hasTextCollisionBoxData()&&g.textCollisionBox.collisionVertexArray.clear();const Et=g.layers[0].layout,Ot=!!g.layers[0].dynamicFilter(),Ft=new _s(null,0,!1,!1,!0),Wt=Et.get("text-allow-overlap"),er=Et.get("icon-allow-overlap"),nr=Et.get("text-variable-anchor"),sr=Et.get("text-rotation-alignment")==="map",fr=Et.get("text-pitch-alignment")==="map",xr=Et.get("icon-text-fit")!=="none",Ar=new _s(null,0,Wt&&(er||!g.hasIconData()||Et.get("icon-optional")),er&&(Wt||!g.hasTextData()||Et.get("text-optional")),!0);!g.collisionArrays&&st&&(g.hasIconCollisionBoxData()||g.hasTextCollisionBoxData())&&g.deserializeCollisionBoxes(st);const Er=(Nr,Or,kr)=>{for(let Dr=0;Dr<Or/4;Dr++)Nr.opacityVertexArray.emplaceBack(kr)};let br=0;for(let Nr=0;Nr<g.symbolInstances.length;Nr++){const Or=g.symbolInstances.get(Nr),{numHorizontalGlyphVertices:kr,numVerticalGlyphVertices:Dr,crossTileID:Ur}=Or;let jr=this.opacities[Ur];tt[Ur]?jr=Ft:jr||(jr=Ar,this.opacities[Ur]=jr),tt[Ur]=!0;const Wr=kr>0||Dr>0,on=Or.numIconVertices>0,pn=this.placedOrientations[Or.crossTileID],vn=pn===s.WritingMode.vertical,yn=pn===s.WritingMode.horizontal||pn===s.WritingMode.horizontalOnly;if(!Wr&&!on||jr.isHidden()||br++,Wr){const jn=hn(jr.text);Er(g.text,kr,vn?Fr:jn),Er(g.text,Dr,yn?Fr:jn);const sn=jr.text.isHidden();[Or.rightJustifiedTextSymbolIndex,Or.centerJustifiedTextSymbolIndex,Or.leftJustifiedTextSymbolIndex].forEach(Yn=>{Yn>=0&&(g.text.placedSymbolArray.get(Yn).hidden=sn||vn?1:0)}),Or.verticalPlacedTextSymbolIndex>=0&&(g.text.placedSymbolArray.get(Or.verticalPlacedTextSymbolIndex).hidden=sn||yn?1:0);const kn=this.variableOffsets[Or.crossTileID];kn&&this.markUsedJustification(g,kn.anchor,Or,pn);const On=this.placedOrientations[Or.crossTileID];On&&(this.markUsedJustification(g,"left",Or,On),this.markUsedOrientation(g,On,Or))}if(on){const jn=hn(jr.icon);Or.placedIconSymbolIndex>=0&&(Er(g.icon,Or.numIconVertices,vn?Fr:jn),g.icon.placedSymbolArray.get(Or.placedIconSymbolIndex).hidden=jr.icon.isHidden()),Or.verticalPlacedIconSymbolIndex>=0&&(Er(g.icon,Or.numVerticalIconVertices,yn?Fr:jn),g.icon.placedSymbolArray.get(Or.verticalPlacedIconSymbolIndex).hidden=jr.icon.isHidden())}if(g.hasIconCollisionBoxData()||g.hasTextCollisionBoxData()){const jn=g.collisionArrays[Nr];if(jn){let sn=new s.pointGeometry(0,0),kn=!0;if(jn.textBox||jn.verticalTextBox){if(nr){const Yn=this.variableOffsets[Ur];Yn?(sn=Pr(Yn.anchor,Yn.width,Yn.height,Yn.textOffset,Yn.textScale),sr&&sn._rotate(fr?this.transform.angle:-this.transform.angle)):kn=!1}Ot&&(kn=!jr.clipped),jn.textBox&&An(g.textCollisionBox.collisionVertexArray,jr.text.placed,!kn||vn,sn.x,sn.y),jn.verticalTextBox&&An(g.textCollisionBox.collisionVertexArray,jr.text.placed,!kn||yn,sn.x,sn.y)}const On=kn&&Boolean(!yn&&jn.verticalIconBox);jn.iconBox&&An(g.iconCollisionBox.collisionVertexArray,jr.icon.placed,On,xr?sn.x:0,xr?sn.y:0),jn.verticalIconBox&&An(g.iconCollisionBox.collisionVertexArray,jr.icon.placed,!On,xr?sn.x:0,xr?sn.y:0)}}}if(g.fullyClipped=br===0,g.sortFeatures(this.transform.angle),this.retainedQueryData[g.bucketInstanceId]&&(this.retainedQueryData[g.bucketInstanceId].featureSortOrder=g.featureSortOrder),g.hasTextData()&&g.text.opacityVertexBuffer&&g.text.opacityVertexBuffer.updateData(g.text.opacityVertexArray),g.hasIconData()&&g.icon.opacityVertexBuffer&&g.icon.opacityVertexBuffer.updateData(g.icon.opacityVertexArray),g.hasIconCollisionBoxData()&&g.iconCollisionBox.collisionVertexBuffer&&g.iconCollisionBox.collisionVertexBuffer.updateData(g.iconCollisionBox.collisionVertexArray),g.hasTextCollisionBoxData()&&g.textCollisionBox.collisionVertexBuffer&&g.textCollisionBox.collisionVertexBuffer.updateData(g.textCollisionBox.collisionVertexArray),g.bucketInstanceId in this.collisionCircleArrays){const Nr=this.collisionCircleArrays[g.bucketInstanceId];g.placementInvProjMatrix=Nr.invProjMatrix,g.placementViewportMatrix=Nr.viewportMatrix,g.collisionCircleArray=Nr.circles,delete this.collisionCircleArrays[g.bucketInstanceId]}}symbolFadeChange(g){return this.fadeDuration===0?1:(g-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(g){return Math.max(0,(this.transform.zoom-g)/1.5)}hasTransitions(g){return this.stale||g-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(g,tt){const st=this.zoomAtLastRecencyCheck===tt?1-this.zoomAdjustment(tt):1;return this.zoomAtLastRecencyCheck=tt,this.commitTime+this.fadeDuration*st>g}setStale(){this.stale=!0}}function An(nt,g,tt,st,Et){nt.emplaceBack(g?1:0,tt?1:0,st||0,Et||0),nt.emplaceBack(g?1:0,tt?1:0,st||0,Et||0),nt.emplaceBack(g?1:0,tt?1:0,st||0,Et||0),nt.emplaceBack(g?1:0,tt?1:0,st||0,Et||0)}const wn=Math.pow(2,25),gn=Math.pow(2,24),Xt=Math.pow(2,17),hr=Math.pow(2,16),Sr=Math.pow(2,9),zr=Math.pow(2,8),Xr=Math.pow(2,1);function hn(nt){if(nt.opacity===0&&!nt.placed)return 0;if(nt.opacity===1&&nt.placed)return 4294967295;const g=nt.placed?1:0,tt=Math.floor(127*nt.opacity);return tt*wn+g*gn+tt*Xt+g*hr+tt*Sr+g*zr+tt*Xr+g}const Fr=0;class nn{constructor(g){this._sortAcrossTiles=g.layout.get("symbol-z-order")!=="viewport-y"&&g.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(g,tt,st,Et,Ot){const Ft=this._bucketParts;for(;this._currentTileIndex<g.length;)if(tt.getBucketParts(Ft,Et,g[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,Ot())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,Ft.sort((Wt,er)=>Wt.sortKey-er.sortKey));this._currentPartIndex<Ft.length;){const Wt=Ft[this._currentPartIndex];if(tt.placeLayerBucketPart(Wt,this._seenCrossTileIDs,st,Wt.symbolInstanceStart===0),this._currentPartIndex++,Ot())return!0}return!1}}class Sn{constructor(g,tt,st,Et,Ot,Ft,Wt,er){this.placement=new cn(g,Ot,Ft,Wt,er),this._currentPlacementIndex=tt.length-1,this._forceFullPlacement=st,this._showCollisionBoxes=Et,this._done=!1}isDone(){return this._done}continuePlacement(g,tt,st){const Et=s.exported.now(),Ot=()=>{const Ft=s.exported.now()-Et;return!this._forceFullPlacement&&Ft>2};for(;this._currentPlacementIndex>=0;){const Ft=tt[g[this._currentPlacementIndex]],Wt=this.placement.collisionIndex.transform.zoom;if(Ft.type==="symbol"&&(!Ft.minzoom||Ft.minzoom<=Wt)&&(!Ft.maxzoom||Ft.maxzoom>Wt)){if(this._inProgressLayer||(this._inProgressLayer=new nn(Ft)),this._inProgressLayer.continuePlacement(st[Ft.source],this.placement,this._showCollisionBoxes,Ft,Ot))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(g){return this.placement.commit(g),this.placement}}const In=512/s.EXTENT/2;class Zn{constructor(g,tt,st){this.tileID=g,this.indexedSymbolInstances={},this.bucketInstanceId=st;for(let Et=0;Et<tt.length;Et++){const Ot=tt.get(Et),Ft=Ot.key;this.indexedSymbolInstances[Ft]||(this.indexedSymbolInstances[Ft]=[]),this.indexedSymbolInstances[Ft].push({crossTileID:Ot.crossTileID,coord:this.getScaledCoordinates(Ot,g)})}}getScaledCoordinates(g,tt){const st=In/Math.pow(2,tt.canonical.z-this.tileID.canonical.z);return{x:Math.floor((tt.canonical.x*s.EXTENT+g.tileAnchorX)*st),y:Math.floor((tt.canonical.y*s.EXTENT+g.tileAnchorY)*st)}}findMatches(g,tt,st){const Et=this.tileID.canonical.z<tt.canonical.z?1:Math.pow(2,this.tileID.canonical.z-tt.canonical.z);for(let Ot=0;Ot<g.length;Ot++){const Ft=g.get(Ot);if(Ft.crossTileID)continue;const Wt=this.indexedSymbolInstances[Ft.key];if(!Wt)continue;const er=this.getScaledCoordinates(Ft,tt);for(const nr of Wt)if(Math.abs(nr.coord.x-er.x)<=Et&&Math.abs(nr.coord.y-er.y)<=Et&&!st[nr.crossTileID]){st[nr.crossTileID]=!0,Ft.crossTileID=nr.crossTileID;break}}}}class Ro{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class ao{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(g){const tt=Math.round((g-this.lng)/360);if(tt!==0)for(const st in this.indexes){const Et=this.indexes[st],Ot={};for(const Ft in Et){const Wt=Et[Ft];Wt.tileID=Wt.tileID.unwrapTo(Wt.tileID.wrap+tt),Ot[Wt.tileID.key]=Wt}this.indexes[st]=Ot}this.lng=g}addBucket(g,tt,st){if(this.indexes[g.overscaledZ]&&this.indexes[g.overscaledZ][g.key]){if(this.indexes[g.overscaledZ][g.key].bucketInstanceId===tt.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(g.overscaledZ,this.indexes[g.overscaledZ][g.key])}for(let Ot=0;Ot<tt.symbolInstances.length;Ot++)tt.symbolInstances.get(Ot).crossTileID=0;this.usedCrossTileIDs[g.overscaledZ]||(this.usedCrossTileIDs[g.overscaledZ]={});const Et=this.usedCrossTileIDs[g.overscaledZ];for(const Ot in this.indexes){const Ft=this.indexes[Ot];if(Number(Ot)>g.overscaledZ)for(const Wt in Ft){const er=Ft[Wt];er.tileID.isChildOf(g)&&er.findMatches(tt.symbolInstances,g,Et)}else{const Wt=Ft[g.scaledTo(Number(Ot)).key];Wt&&Wt.findMatches(tt.symbolInstances,g,Et)}}for(let Ot=0;Ot<tt.symbolInstances.length;Ot++){const Ft=tt.symbolInstances.get(Ot);Ft.crossTileID||(Ft.crossTileID=st.generate(),Et[Ft.crossTileID]=!0)}return this.indexes[g.overscaledZ]===void 0&&(this.indexes[g.overscaledZ]={}),this.indexes[g.overscaledZ][g.key]=new Zn(g,tt.symbolInstances,tt.bucketInstanceId),!0}removeBucketCrossTileIDs(g,tt){for(const st in tt.indexedSymbolInstances)for(const Et of tt.indexedSymbolInstances[st])delete this.usedCrossTileIDs[g][Et.crossTileID]}removeStaleBuckets(g){let tt=!1;for(const st in this.indexes){const Et=this.indexes[st];for(const Ot in Et)g[Et[Ot].bucketInstanceId]||(this.removeBucketCrossTileIDs(st,Et[Ot]),delete Et[Ot],tt=!0)}return tt}}class bo{constructor(){this.layerIndexes={},this.crossTileIDs=new Ro,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(g,tt,st,Et){let Ot=this.layerIndexes[g.id];Ot===void 0&&(Ot=this.layerIndexes[g.id]=new ao);let Ft=!1;const Wt={};Et.name!=="globe"&&Ot.handleWrapJump(st);for(const er of tt){const nr=er.getBucket(g);nr&&g.id===nr.layerIds[0]&&(nr.bucketInstanceId||(nr.bucketInstanceId=++this.maxBucketInstanceId),Ot.addBucket(er.tileID,nr,this.crossTileIDs)&&(Ft=!0),Wt[nr.bucketInstanceId]=!0)}return Ot.removeStaleBuckets(Wt)&&(Ft=!0),Ft}pruneUnusedLayers(g){const tt={};g.forEach(st=>{tt[st]=!0});for(const st in this.layerIndexes)tt[st]||delete this.layerIndexes[st]}}const Mo=(nt,g)=>s.emitValidationErrors(nt,g&&g.filter(tt=>tt.identifier!=="source.canvas")),jo=s.pick(Un,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData","setTerrain","setFog","setProjection"]),ho=s.pick(Un,["setCenter","setZoom","setBearing","setPitch"]),Qs={version:8,layers:[],sources:{}},Vs={fill:!0,line:!0,background:!0,hillshade:!0,raster:!0};class Ws extends s.Evented{constructor(g,tt={}){super(),this.map=g,this.dispatcher=new Qt(ro(),this),this.imageManager=new bt,this.imageManager.setEventedParent(this),this.glyphManager=new s.GlyphManager(g._requestManager,tt.localFontFamily?s.LocalGlyphMode.all:tt.localIdeographFontFamily?s.LocalGlyphMode.ideographs:s.LocalGlyphMode.none,tt.localFontFamily||tt.localIdeographFontFamily),this.lineAtlas=new s.LineAtlas(256,512),this.crossTileSymbolIndex=new bo,this._layers={},this._num3DLayers=0,this._numSymbolLayers=0,this._numCircleLayers=0,this._serializedLayers={},this._sourceCaches={},this._otherSourceCaches={},this._symbolSourceCaches={},this.zoomHistory=new s.ZoomHistory,this._loaded=!1,this._availableImages=[],this._order=[],this._drapedFirstOrder=[],this._markersNeedUpdate=!1,this._resetUpdates(),this.dispatcher.broadcast("setReferrer",s.getReferrer());const st=this;this._rtlTextPluginCallback=Ws.registerForPluginStateChange(Et=>{st.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:Et.pluginStatus,pluginURL:Et.pluginURL},(Ot,Ft)=>{if(s.triggerPluginCompletionEvent(Ot),Ft&&Ft.every(Wt=>Wt))for(const Wt in st._sourceCaches){const er=st._sourceCaches[Wt],nr=er.getSource().type;nr!=="vector"&&nr!=="geojson"||er.reload()}})}),this.on("data",Et=>{if(Et.dataType!=="source"||Et.sourceDataType!=="metadata")return;const Ot=this.getSource(Et.sourceId);if(Ot&&Ot.vectorLayerIds)for(const Ft in this._layers){const Wt=this._layers[Ft];Wt.source===Ot.id&&this._validateLayer(Wt)}})}loadURL(g,tt={}){this.fire(new s.Event("dataloading",{dataType:"style"}));const st=typeof tt.validate=="boolean"?tt.validate:!s.isMapboxURL(g);g=this.map._requestManager.normalizeStyleURL(g,tt.accessToken);const Et=this.map._requestManager.transformRequest(g,s.ResourceType.Style);this._request=s.getJSON(Et,(Ot,Ft)=>{this._request=null,Ot?this.fire(new s.ErrorEvent(Ot)):Ft&&this._load(Ft,st)})}loadJSON(g,tt={}){this.fire(new s.Event("dataloading",{dataType:"style"})),this._request=s.exported.frame(()=>{this._request=null,this._load(g,tt.validate!==!1)})}loadEmpty(){this.fire(new s.Event("dataloading",{dataType:"style"})),this._load(Qs,!1)}_updateLayerCount(g,tt){const st=tt?1:-1;g.is3D()&&(this._num3DLayers+=st),g.type==="circle"&&(this._numCircleLayers+=st),g.type==="symbol"&&(this._numSymbolLayers+=st)}_load(g,tt){if(tt&&Mo(this,s.validateStyle(g)))return;this._loaded=!0,this.stylesheet=g,this._updateMapProjection();for(const Et in g.sources)this.addSource(Et,g.sources[Et],{validate:!1});this._changed=!1,g.sprite?this._loadSprite(g.sprite):(this.imageManager.setLoaded(!0),this.dispatcher.broadcast("spriteLoaded",!0)),this.glyphManager.setURL(g.glyphs);const st=xo(this.stylesheet.layers);this._order=st.map(Et=>Et.id),this._layers={},this._serializedLayers={};for(let Et of st)Et=s.createStyleLayer(Et),Et.setEventedParent(this,{layer:{id:Et.id}}),this._layers[Et.id]=Et,this._serializedLayers[Et.id]=Et.serialize(),this._updateLayerCount(Et,!0);this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new zt(this.stylesheet.light),this.stylesheet.terrain&&!this.terrainSetForDrapingOnly()&&this._createTerrain(this.stylesheet.terrain,1),this.stylesheet.fog&&this._createFog(this.stylesheet.fog),this._updateDrapeFirstLayers(),this.fire(new s.Event("data",{dataType:"style"})),this.fire(new s.Event("style.load"))}terrainSetForDrapingOnly(){return!!this.terrain&&this.terrain.drapeRenderMode===0}setProjection(g){g?this.stylesheet.projection=g:delete this.stylesheet.projection,this.map._explicitProjection||this.map._updateProjection()}_updateMapProjection(){this.map._explicitProjection?this.applyProjectionUpdate():this.map._updateProjection()}applyProjectionUpdate(){this._loaded&&(this.dispatcher.broadcast("setProjection",this.map.transform.projectionOptions),this.map.transform.projection.requiresDraping?this.getTerrain()||this.stylesheet.terrain||this.setTerrainForDraping():this.terrainSetForDrapingOnly()&&this.setTerrain(null))}_loadSprite(g){this._spriteRequest=function(tt,st,Et){let Ot,Ft,Wt;const er=s.exported.devicePixelRatio>1?"@2x":"";let nr=s.getJSON(st.transformRequest(st.normalizeSpriteURL(tt,er,".json"),s.ResourceType.SpriteJSON),(xr,Ar)=>{nr=null,Wt||(Wt=xr,Ot=Ar,fr())}),sr=s.getImage(st.transformRequest(st.normalizeSpriteURL(tt,er,".png"),s.ResourceType.SpriteImage),(xr,Ar)=>{sr=null,Wt||(Wt=xr,Ft=Ar,fr())});function fr(){if(Wt)Et(Wt);else if(Ot&&Ft){const xr=s.exported.getImageData(Ft),Ar={};for(const Er in Ot){const{width:br,height:Nr,x:Or,y:kr,sdf:Dr,pixelRatio:Ur,stretchX:jr,stretchY:Wr,content:on}=Ot[Er],pn=new s.RGBAImage({width:br,height:Nr});s.RGBAImage.copy(xr,pn,{x:Or,y:kr},{x:0,y:0},{width:br,height:Nr}),Ar[Er]={data:pn,pixelRatio:Ur,sdf:Dr,stretchX:jr,stretchY:Wr,content:on}}Et(null,Ar)}}return{cancel(){nr&&(nr.cancel(),nr=null),sr&&(sr.cancel(),sr=null)}}}(g,this.map._requestManager,(tt,st)=>{if(this._spriteRequest=null,tt)this.fire(new s.ErrorEvent(tt));else if(st)for(const Et in st)this.imageManager.addImage(Et,st[Et]);this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),this.dispatcher.broadcast("setImages",this._availableImages),this.dispatcher.broadcast("spriteLoaded",!0),this.fire(new s.Event("data",{dataType:"style"}))})}_validateLayer(g){const tt=this.getSource(g.source);if(!tt)return;const st=g.sourceLayer;st&&(tt.type==="geojson"||tt.vectorLayerIds&&tt.vectorLayerIds.indexOf(st)===-1)&&this.fire(new s.ErrorEvent(new Error(`Source layer "${st}" does not exist on source "${tt.id}" as specified by style layer "${g.id}"`)))}loaded(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(const g in this._sourceCaches)if(!this._sourceCaches[g].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeLayers(g){const tt=[];for(const st of g){const Et=this._layers[st];Et.type!=="custom"&&tt.push(Et.serialize())}return tt}hasTransitions(){if(this.light&&this.light.hasTransition()||this.fog&&this.fog.hasTransition())return!0;for(const g in this._sourceCaches)if(this._sourceCaches[g].hasTransition())return!0;for(const g in this._layers)if(this._layers[g].hasTransition())return!0;return!1}get order(){return this.map._optimizeForTerrain&&this.terrain?this._drapedFirstOrder:this._order}isLayerDraped(g){return!!this.terrain&&Vs[g.type]}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading")}update(g){if(!this._loaded)return;const tt=this._changed;if(this._changed){const Et=Object.keys(this._updatedLayers),Ot=Object.keys(this._removedLayers);(Et.length||Ot.length)&&this._updateWorkerLayers(Et,Ot);for(const Ft in this._updatedSources){const Wt=this._updatedSources[Ft];Wt==="reload"?this._reloadSource(Ft):Wt==="clear"&&this._clearSource(Ft)}this._updateTilesForChangedImages();for(const Ft in this._updatedPaintProps)this._layers[Ft].updateTransitions(g);this.light.updateTransitions(g),this.fog&&this.fog.updateTransitions(g),this._resetUpdates()}const st={};for(const Et in this._sourceCaches){const Ot=this._sourceCaches[Et];st[Et]=Ot.used,Ot.used=!1}for(const Et of this._order){const Ot=this._layers[Et];if(Ot.recalculate(g,this._availableImages),!Ot.isHidden(g.zoom)){const Wt=this._getLayerSourceCache(Ot);Wt&&(Wt.used=!0)}const Ft=this.map.painter;if(Ft){const Wt=Ot.getProgramIds();if(!Wt)continue;const er=Ot.getProgramConfiguration(g.zoom);for(const nr of Wt)Ft.useProgram(nr,er)}}for(const Et in st){const Ot=this._sourceCaches[Et];st[Et]!==Ot.used&&Ot.getSource().fire(new s.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Ot.getSource().id}))}this.light.recalculate(g),this.terrain&&this.terrain.recalculate(g),this.fog&&this.fog.recalculate(g),this.z=g.zoom,this._markersNeedUpdate&&(this._updateMarkersOpacity(),this._markersNeedUpdate=!1),tt&&this.fire(new s.Event("data",{dataType:"style"}))}_updateTilesForChangedImages(){const g=Object.keys(this._changedImages);if(g.length){for(const tt in this._sourceCaches)this._sourceCaches[tt].reloadTilesForDependencies(["icons","patterns"],g);this._changedImages={}}}_updateWorkerLayers(g,tt){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(g),removedIds:tt})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}}setState(g){if(this._checkLoaded(),Mo(this,s.validateStyle(g)))return!1;(g=s.clone$1(g)).layers=xo(g.layers);const tt=function(Et,Ot){if(!Et)return[{command:Un.setStyle,args:[Ot]}];let Ft=[];try{if(!gt(Et.version,Ot.version))return[{command:Un.setStyle,args:[Ot]}];gt(Et.center,Ot.center)||Ft.push({command:Un.setCenter,args:[Ot.center]}),gt(Et.zoom,Ot.zoom)||Ft.push({command:Un.setZoom,args:[Ot.zoom]}),gt(Et.bearing,Ot.bearing)||Ft.push({command:Un.setBearing,args:[Ot.bearing]}),gt(Et.pitch,Ot.pitch)||Ft.push({command:Un.setPitch,args:[Ot.pitch]}),gt(Et.sprite,Ot.sprite)||Ft.push({command:Un.setSprite,args:[Ot.sprite]}),gt(Et.glyphs,Ot.glyphs)||Ft.push({command:Un.setGlyphs,args:[Ot.glyphs]}),gt(Et.transition,Ot.transition)||Ft.push({command:Un.setTransition,args:[Ot.transition]}),gt(Et.light,Ot.light)||Ft.push({command:Un.setLight,args:[Ot.light]}),gt(Et.fog,Ot.fog)||Ft.push({command:Un.setFog,args:[Ot.fog]}),gt(Et.projection,Ot.projection)||Ft.push({command:Un.setProjection,args:[Ot.projection]});const Wt={},er=[];(function(fr,xr,Ar,Er){let br;for(br in xr=xr||{},fr=fr||{})fr.hasOwnProperty(br)&&(xr.hasOwnProperty(br)||so(br,Ar,Er));for(br in xr)xr.hasOwnProperty(br)&&(fr.hasOwnProperty(br)?gt(fr[br],xr[br])||(fr[br].type==="geojson"&&xr[br].type==="geojson"&&ks(fr,xr,br)?Ar.push({command:Un.setGeoJSONSourceData,args:[br,xr[br].data]}):Us(br,xr,Ar,Er)):vo(br,xr,Ar))})(Et.sources,Ot.sources,er,Wt);const nr=[];Et.layers&&Et.layers.forEach(fr=>{fr.source&&Wt[fr.source]?Ft.push({command:Un.removeLayer,args:[fr.id]}):nr.push(fr)});let sr=Et.terrain;sr&&Wt[sr.source]&&(Ft.push({command:Un.setTerrain,args:[void 0]}),sr=void 0),Ft=Ft.concat(er),gt(sr,Ot.terrain)||Ft.push({command:Un.setTerrain,args:[Ot.terrain]}),function(fr,xr,Ar){xr=xr||[];const Er=(fr=fr||[]).map(_o),br=xr.map(_o),Nr=fr.reduce(lo,{}),Or=xr.reduce(lo,{}),kr=Er.slice(),Dr=Object.create(null);let Ur,jr,Wr,on,pn,vn,yn;for(Ur=0,jr=0;Ur<Er.length;Ur++)Wr=Er[Ur],Or.hasOwnProperty(Wr)?jr++:(Ar.push({command:Un.removeLayer,args:[Wr]}),kr.splice(kr.indexOf(Wr,jr),1));for(Ur=0,jr=0;Ur<br.length;Ur++)Wr=br[br.length-1-Ur],kr[kr.length-1-Ur]!==Wr&&(Nr.hasOwnProperty(Wr)?(Ar.push({command:Un.removeLayer,args:[Wr]}),kr.splice(kr.lastIndexOf(Wr,kr.length-jr),1)):jr++,vn=kr[kr.length-Ur],Ar.push({command:Un.addLayer,args:[Or[Wr],vn]}),kr.splice(kr.length-Ur,0,Wr),Dr[Wr]=!0);for(Ur=0;Ur<br.length;Ur++)if(Wr=br[Ur],on=Nr[Wr],pn=Or[Wr],!Dr[Wr]&&!gt(on,pn))if(gt(on.source,pn.source)&&gt(on["source-layer"],pn["source-layer"])&&gt(on.type,pn.type)){for(yn in Pn(on.layout,pn.layout,Ar,Wr,null,Un.setLayoutProperty),Pn(on.paint,pn.paint,Ar,Wr,null,Un.setPaintProperty),gt(on.filter,pn.filter)||Ar.push({command:Un.setFilter,args:[Wr,pn.filter]}),gt(on.minzoom,pn.minzoom)&&gt(on.maxzoom,pn.maxzoom)||Ar.push({command:Un.setLayerZoomRange,args:[Wr,pn.minzoom,pn.maxzoom]}),on)on.hasOwnProperty(yn)&&yn!=="layout"&&yn!=="paint"&&yn!=="filter"&&yn!=="metadata"&&yn!=="minzoom"&&yn!=="maxzoom"&&(yn.indexOf("paint.")===0?Pn(on[yn],pn[yn],Ar,Wr,yn.slice(6),Un.setPaintProperty):gt(on[yn],pn[yn])||Ar.push({command:Un.setLayerProperty,args:[Wr,yn,pn[yn]]}));for(yn in pn)pn.hasOwnProperty(yn)&&!on.hasOwnProperty(yn)&&yn!=="layout"&&yn!=="paint"&&yn!=="filter"&&yn!=="metadata"&&yn!=="minzoom"&&yn!=="maxzoom"&&(yn.indexOf("paint.")===0?Pn(on[yn],pn[yn],Ar,Wr,yn.slice(6),Un.setPaintProperty):gt(on[yn],pn[yn])||Ar.push({command:Un.setLayerProperty,args:[Wr,yn,pn[yn]]}))}else Ar.push({command:Un.removeLayer,args:[Wr]}),vn=kr[kr.lastIndexOf(Wr)+1],Ar.push({command:Un.addLayer,args:[pn,vn]})}(nr,Ot.layers,Ft)}catch(Wt){console.warn("Unable to compute style diff:",Wt),Ft=[{command:Un.setStyle,args:[Ot]}]}return Ft}(this.serialize(),g).filter(Et=>!(Et.command in ho));if(tt.length===0)return!1;const st=tt.filter(Et=>!(Et.command in jo));if(st.length>0)throw new Error(`Unimplemented: ${st.map(Et=>Et.command).join(", ")}.`);return tt.forEach(Et=>{Et.command!=="setTransition"&&this[Et.command].apply(this,Et.args)}),this.stylesheet=g,this._updateMapProjection(),!0}addImage(g,tt){return this.getImage(g)?this.fire(new s.ErrorEvent(new Error("An image with this name already exists."))):(this.imageManager.addImage(g,tt),this._afterImageUpdated(g),this)}updateImage(g,tt){this.imageManager.updateImage(g,tt)}getImage(g){return this.imageManager.getImage(g)}removeImage(g){return this.getImage(g)?(this.imageManager.removeImage(g),this._afterImageUpdated(g),this):this.fire(new s.ErrorEvent(new Error("No image with this name exists.")))}_afterImageUpdated(g){this._availableImages=this.imageManager.listImages(),this._changedImages[g]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new s.Event("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this._availableImages.slice()}addSource(g,tt,st={}){if(this._checkLoaded(),this.getSource(g)!==void 0)throw new Error("There is already a source with this ID");if(!tt.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(tt).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(tt.type)>=0&&this._validate(s.validateSource,`sources.${g}`,tt,null,st))return;this.map&&this.map._collectResourceTiming&&(tt.collectResourceTiming=!0);const Et=Qr(g,tt,this.dispatcher,this);Et.setEventedParent(this,()=>({isSourceLoaded:this._isSourceCacheLoaded(g),source:Et.serialize(),sourceId:g}));const Ot=Ft=>{const Wt=(Ft?"symbol:":"other:")+g,er=this._sourceCaches[Wt]=new s.SourceCache(Wt,Et,Ft);(Ft?this._symbolSourceCaches:this._otherSourceCaches)[g]=er,er.style=this,er.onAdd(this.map)};Ot(!1),tt.type!=="vector"&&tt.type!=="geojson"||Ot(!0),Et.onAdd&&Et.onAdd(this.map),this._changed=!0}removeSource(g){this._checkLoaded();const tt=this.getSource(g);if(!tt)throw new Error("There is no source with this ID");for(const Et in this._layers)if(this._layers[Et].source===g)return this.fire(new s.ErrorEvent(new Error(`Source "${g}" cannot be removed while layer "${Et}" is using it.`)));if(this.terrain&&this.terrain.get().source===g)return this.fire(new s.ErrorEvent(new Error(`Source "${g}" cannot be removed while terrain is using it.`)));const st=this._getSourceCaches(g);for(const Et of st)delete this._sourceCaches[Et.id],delete this._updatedSources[Et.id],Et.fire(new s.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:Et.getSource().id})),Et.setEventedParent(null),Et.clearTiles();return delete this._otherSourceCaches[g],delete this._symbolSourceCaches[g],tt.setEventedParent(null),tt.onRemove&&tt.onRemove(this.map),this._changed=!0,this}setGeoJSONSourceData(g,tt){this._checkLoaded(),this.getSource(g).setData(tt),this._changed=!0}getSource(g){const tt=this._getSourceCache(g);return tt&&tt.getSource()}addLayer(g,tt,st={}){this._checkLoaded();const Et=g.id;if(this.getLayer(Et))return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${Et}" already exists on this map`)));let Ot;if(g.type==="custom"){if(Mo(this,s.validateCustomStyleLayer(g)))return;Ot=s.createStyleLayer(g)}else{if(typeof g.source=="object"&&(this.addSource(Et,g.source),g=s.clone$1(g),g=s.extend(g,{source:Et})),this._validate(s.validateLayer,`layers.${Et}`,g,{arrayIndex:-1},st))return;Ot=s.createStyleLayer(g),this._validateLayer(Ot),Ot.setEventedParent(this,{layer:{id:Et}}),this._serializedLayers[Ot.id]=Ot.serialize(),this._updateLayerCount(Ot,!0)}const Ft=tt?this._order.indexOf(tt):this._order.length;if(tt&&Ft===-1)return void this.fire(new s.ErrorEvent(new Error(`Layer with id "${tt}" does not exist on this map.`)));this._order.splice(Ft,0,Et),this._layerOrderChanged=!0,this._layers[Et]=Ot;const Wt=this._getLayerSourceCache(Ot);if(this._removedLayers[Et]&&Ot.source&&Wt&&Ot.type!=="custom"){const er=this._removedLayers[Et];delete this._removedLayers[Et],er.type!==Ot.type?this._updatedSources[Ot.source]="clear":(this._updatedSources[Ot.source]="reload",Wt.pause())}this._updateLayer(Ot),Ot.onAdd&&Ot.onAdd(this.map),this._updateDrapeFirstLayers()}moveLayer(g,tt){if(this._checkLoaded(),this._changed=!0,!this._layers[g])return void this.fire(new s.ErrorEvent(new Error(`The layer '${g}' does not exist in the map's style and cannot be moved.`)));if(g===tt)return;const st=this._order.indexOf(g);this._order.splice(st,1);const Et=tt?this._order.indexOf(tt):this._order.length;tt&&Et===-1?this.fire(new s.ErrorEvent(new Error(`Layer with id "${tt}" does not exist on this map.`))):(this._order.splice(Et,0,g),this._layerOrderChanged=!0,this._updateDrapeFirstLayers())}removeLayer(g){this._checkLoaded();const tt=this._layers[g];if(!tt)return void this.fire(new s.ErrorEvent(new Error(`The layer '${g}' does not exist in the map's style and cannot be removed.`)));tt.setEventedParent(null),this._updateLayerCount(tt,!1);const st=this._order.indexOf(g);this._order.splice(st,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[g]=tt,delete this._layers[g],delete this._serializedLayers[g],delete this._updatedLayers[g],delete this._updatedPaintProps[g],tt.onRemove&&tt.onRemove(this.map),this._updateDrapeFirstLayers()}getLayer(g){return this._layers[g]}hasLayer(g){return g in this._layers}hasLayerType(g){for(const tt in this._layers)if(this._layers[tt].type===g)return!0;return!1}setLayerZoomRange(g,tt,st){this._checkLoaded();const Et=this.getLayer(g);Et?Et.minzoom===tt&&Et.maxzoom===st||(tt!=null&&(Et.minzoom=tt),st!=null&&(Et.maxzoom=st),this._updateLayer(Et)):this.fire(new s.ErrorEvent(new Error(`The layer '${g}' does not exist in the map's style and cannot have zoom extent.`)))}setFilter(g,tt,st={}){this._checkLoaded();const Et=this.getLayer(g);if(Et){if(!gt(Et.filter,tt))return tt==null?(Et.filter=void 0,void this._updateLayer(Et)):void(this._validate(s.validateFilter,`layers.${Et.id}.filter`,tt,{layerType:Et.type},st)||(Et.filter=s.clone$1(tt),this._updateLayer(Et)))}else this.fire(new s.ErrorEvent(new Error(`The layer '${g}' does not exist in the map's style and cannot be filtered.`)))}getFilter(g){const tt=this.getLayer(g);return tt&&s.clone$1(tt.filter)}setLayoutProperty(g,tt,st,Et={}){this._checkLoaded();const Ot=this.getLayer(g);Ot?gt(Ot.getLayoutProperty(tt),st)||(Ot.setLayoutProperty(tt,st,Et),this._updateLayer(Ot)):this.fire(new s.ErrorEvent(new Error(`The layer '${g}' does not exist in the map's style and cannot be styled.`)))}getLayoutProperty(g,tt){const st=this.getLayer(g);if(st)return st.getLayoutProperty(tt);this.fire(new s.ErrorEvent(new Error(`The layer '${g}' does not exist in the map's style.`)))}setPaintProperty(g,tt,st,Et={}){this._checkLoaded();const Ot=this.getLayer(g);Ot?gt(Ot.getPaintProperty(tt),st)||(Ot.setPaintProperty(tt,st,Et)&&this._updateLayer(Ot),this._changed=!0,this._updatedPaintProps[g]=!0):this.fire(new s.ErrorEvent(new Error(`The layer '${g}' does not exist in the map's style and cannot be styled.`)))}getPaintProperty(g,tt){const st=this.getLayer(g);return st&&st.getPaintProperty(tt)}setFeatureState(g,tt){this._checkLoaded();const st=g.source,Et=g.sourceLayer,Ot=this.getSource(st);if(!Ot)return void this.fire(new s.ErrorEvent(new Error(`The source '${st}' does not exist in the map's style.`)));const Ft=Ot.type;if(Ft==="geojson"&&Et)return void this.fire(new s.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter.")));if(Ft==="vector"&&!Et)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));g.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided.")));const Wt=this._getSourceCaches(st);for(const er of Wt)er.setFeatureState(Et,g.id,tt)}removeFeatureState(g,tt){this._checkLoaded();const st=g.source,Et=this.getSource(st);if(!Et)return void this.fire(new s.ErrorEvent(new Error(`The source '${st}' does not exist in the map's style.`)));const Ot=Et.type,Ft=Ot==="vector"?g.sourceLayer:void 0;if(Ot==="vector"&&!Ft)return void this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")));if(tt&&typeof g.id!="string"&&typeof g.id!="number")return void this.fire(new s.ErrorEvent(new Error("A feature id is required to remove its specific state property.")));const Wt=this._getSourceCaches(st);for(const er of Wt)er.removeFeatureState(Ft,g.id,tt)}getFeatureState(g){this._checkLoaded();const tt=g.source,st=g.sourceLayer,Et=this.getSource(tt);if(Et){if(Et.type!=="vector"||st)return g.id===void 0&&this.fire(new s.ErrorEvent(new Error("The feature id parameter must be provided."))),this._getSourceCaches(tt)[0].getFeatureState(st,g.id);this.fire(new s.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new s.ErrorEvent(new Error(`The source '${tt}' does not exist in the map's style.`)))}getTransition(){return s.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){const g={};for(const tt in this._sourceCaches){const st=this._sourceCaches[tt].getSource();g[st.id]||(g[st.id]=st.serialize())}return s.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,terrain:this.stylesheet.terrain,fog:this.stylesheet.fog,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,projection:this.stylesheet.projection,sources:g,layers:this._serializeLayers(this._order)},tt=>tt!==void 0)}_updateLayer(g){this._updatedLayers[g.id]=!0;const tt=this._getLayerSourceCache(g);g.source&&!this._updatedSources[g.source]&&tt&&tt.getSource().type!=="raster"&&(this._updatedSources[g.source]="reload",tt.pause()),this._changed=!0,g.invalidateCompiledFilter()}_flattenAndSortRenderedFeatures(g){const tt=Ft=>this._layers[Ft].type==="fill-extrusion",st={},Et=[];for(let Ft=this._order.length-1;Ft>=0;Ft--){const Wt=this._order[Ft];if(tt(Wt)){st[Wt]=Ft;for(const er of g){const nr=er[Wt];if(nr)for(const sr of nr)Et.push(sr)}}}Et.sort((Ft,Wt)=>Wt.intersectionZ-Ft.intersectionZ);const Ot=[];for(let Ft=this._order.length-1;Ft>=0;Ft--){const Wt=this._order[Ft];if(tt(Wt))for(let er=Et.length-1;er>=0;er--){const nr=Et[er].feature;if(st[nr.layer.id]<Ft)break;Ot.push(nr),Et.pop()}else for(const er of g){const nr=er[Wt];if(nr)for(const sr of nr)Ot.push(sr.feature)}}return Ot}queryRenderedFeatures(g,tt,st){tt&&tt.filter&&this._validate(s.validateFilter,"queryRenderedFeatures.filter",tt.filter,null,tt);const Et={};if(tt&&tt.layers){if(!Array.isArray(tt.layers))return this.fire(new s.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(const er of tt.layers){const nr=this._layers[er];if(!nr)return this.fire(new s.ErrorEvent(new Error(`The layer '${er}' does not exist in the map's style and cannot be queried for features.`))),[];Et[nr.source]=!0}}const Ot=[];tt.availableImages=this._availableImages;const Ft=tt&&tt.layers?tt.layers.some(er=>{const nr=this.getLayer(er);return nr&&nr.is3D()}):this.has3DLayers(),Wt=ar.createFromScreenPoints(g,st);for(const er in this._sourceCaches){const nr=this._sourceCaches[er].getSource().id;tt.layers&&!Et[nr]||Ot.push(ln(this._sourceCaches[er],this._layers,this._serializedLayers,Wt,tt,st,Ft,!!this.map._showQueryGeometry))}return this.placement&&Ot.push(function(er,nr,sr,fr,xr,Ar,Er){const br={},Nr=Ar.queryRenderedSymbols(fr),Or=[];for(const kr of Object.keys(Nr).map(Number))Or.push(Er[kr]);Or.sort(Nn);for(const kr of Or){const Dr=kr.featureIndex.lookupSymbolFeatures(Nr[kr.bucketInstanceId],nr,kr.bucketIndex,kr.sourceLayerIndex,xr.filter,xr.layers,xr.availableImages,er);for(const Ur in Dr){const jr=br[Ur]=br[Ur]||[],Wr=Dr[Ur];Wr.sort((on,pn)=>{const vn=kr.featureSortOrder;if(vn){const yn=vn.indexOf(on.featureIndex);return vn.indexOf(pn.featureIndex)-yn}return pn.featureIndex-on.featureIndex});for(const on of Wr)jr.push(on)}}for(const kr in br)br[kr].forEach(Dr=>{const Ur=Dr.feature,jr=sr(er[kr]).getFeatureState(Ur.layer["source-layer"],Ur.id);Ur.source=Ur.layer.source,Ur.layer["source-layer"]&&(Ur.sourceLayer=Ur.layer["source-layer"]),Ur.state=jr});return br}(this._layers,this._serializedLayers,this._getLayerSourceCache.bind(this),Wt.screenGeometry,tt,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Ot)}querySourceFeatures(g,tt){tt&&tt.filter&&this._validate(s.validateFilter,"querySourceFeatures.filter",tt.filter,null,tt);const st=this._getSourceCaches(g);let Et=[];for(const Ot of st)Et=Et.concat(En(Ot,tt));return Et}addSourceType(g,tt,st){return Ws.getSourceType(g)?st(new Error(`A source type called "${g}" already exists.`)):(Ws.setSourceType(g,tt),tt.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:g,url:tt.workerSourceURL},st):st(null,null))}getLight(){return this.light.getLight()}setLight(g,tt={}){this._checkLoaded();const st=this.light.getLight();let Et=!1;for(const Ft in g)if(!gt(g[Ft],st[Ft])){Et=!0;break}if(!Et)return;const Ot={now:s.exported.now(),transition:s.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(g,tt),this.light.updateTransitions(Ot)}getTerrain(){return this.terrain&&this.terrain.drapeRenderMode===1?this.terrain.get():null}setTerrainForDraping(){this.setTerrain({source:"",exaggeration:0},0)}setTerrain(g,tt=1){if(this._checkLoaded(),!g)return delete this.terrain,delete this.stylesheet.terrain,this.dispatcher.broadcast("enableTerrain",!1),this._force3DLayerUpdate(),void(this._markersNeedUpdate=!0);if(tt===1){if(typeof g.source=="object"){const st="terrain-dem-src";this.addSource(st,g.source),g=s.clone$1(g),g=s.extend(g,{source:st})}if(this._validate(s.validateTerrain,"terrain",g))return}if(!this.terrain||this.terrain&&tt!==this.terrain.drapeRenderMode)this._createTerrain(g,tt);else{const st=this.terrain,Et=st.get();for(const Ot in g)if(!gt(g[Ot],Et[Ot])){st.set(g),this.stylesheet.terrain=g;const Ft={now:s.exported.now(),transition:s.extend({duration:0},this.stylesheet.transition)};st.updateTransitions(Ft);break}}this._updateDrapeFirstLayers(),this._markersNeedUpdate=!0}_createFog(g){const tt=this.fog=new Vt(g,this.map.transform);this.stylesheet.fog=g;const st={now:s.exported.now(),transition:s.extend({duration:0},this.stylesheet.transition)};tt.updateTransitions(st)}_updateMarkersOpacity(){this.map._markers.length!==0&&this.map._requestDomTask(()=>{for(const g of this.map._markers)g._evaluateOpacity()})}getFog(){return this.fog?this.fog.get():null}setFog(g){if(this._checkLoaded(),!g)return delete this.fog,delete this.stylesheet.fog,void(this._markersNeedUpdate=!0);if(this.fog){const tt=this.fog,st=tt.get();for(const Et in g)if(!gt(g[Et],st[Et])){tt.set(g),this.stylesheet.fog=g;const Ot={now:s.exported.now(),transition:s.extend({duration:0},this.stylesheet.transition)};tt.updateTransitions(Ot);break}}else this._createFog(g);this._markersNeedUpdate=!0}_updateDrapeFirstLayers(){if(!this.map._optimizeForTerrain||!this.terrain)return;const g=this._order.filter(st=>this.isLayerDraped(this._layers[st])),tt=this._order.filter(st=>!this.isLayerDraped(this._layers[st]));this._drapedFirstOrder=[],this._drapedFirstOrder.push(...g),this._drapedFirstOrder.push(...tt)}_createTerrain(g,tt){const st=this.terrain=new Dt(g,tt);this.stylesheet.terrain=g,this.dispatcher.broadcast("enableTerrain",!this.terrainSetForDrapingOnly()),this._force3DLayerUpdate();const Et={now:s.exported.now(),transition:s.extend({duration:0},this.stylesheet.transition)};st.updateTransitions(Et)}_force3DLayerUpdate(){for(const g in this._layers){const tt=this._layers[g];tt.type==="fill-extrusion"&&this._updateLayer(tt)}}_forceSymbolLayerUpdate(){for(const g in this._layers){const tt=this._layers[g];tt.type==="symbol"&&this._updateLayer(tt)}}_validate(g,tt,st,Et,Ot={}){return(!Ot||Ot.validate!==!1)&&Mo(this,g.call(s.validateStyle,s.extend({key:tt,style:this.serialize(),value:st,styleSpec:s.spec},Et)))}_remove(){this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),s.evented.off("pluginStateChange",this._rtlTextPluginCallback);for(const g in this._layers)this._layers[g].setEventedParent(null);for(const g in this._sourceCaches)this._sourceCaches[g].clearTiles(),this._sourceCaches[g].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()}_clearSource(g){const tt=this._getSourceCaches(g);for(const st of tt)st.clearTiles()}_reloadSource(g){const tt=this._getSourceCaches(g);for(const st of tt)st.resume(),st.reload()}_updateSources(g){for(const tt in this._sourceCaches)this._sourceCaches[tt].update(g)}_generateCollisionBoxes(){for(const g in this._sourceCaches){const tt=this._sourceCaches[g];tt.resume(),tt.reload()}}_updatePlacement(g,tt,st,Et,Ot=!1){let Ft=!1,Wt=!1;const er={};for(const nr of this._order){const sr=this._layers[nr];if(sr.type!=="symbol")continue;if(!er[sr.source]){const xr=this._getLayerSourceCache(sr);if(!xr)continue;er[sr.source]=xr.getRenderableIds(!0).map(Ar=>xr.getTileByID(Ar)).sort((Ar,Er)=>Er.tileID.overscaledZ-Ar.tileID.overscaledZ||(Ar.tileID.isLessThan(Er.tileID)?-1:1))}const fr=this.crossTileSymbolIndex.addLayer(sr,er[sr.source],g.center.lng,g.projection);Ft=Ft||fr}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),Ot=Ot||this._layerOrderChanged||st===0,this._layerOrderChanged&&this.fire(new s.Event("neworder")),(Ot||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(s.exported.now(),g.zoom))&&(this.pauseablePlacement=new Sn(g,this._order,Ot,tt,st,Et,this.placement,this.fog&&g.projection.supportsFog?this.fog.state:null),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,er),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(s.exported.now()),Wt=!0),Ft&&this.pauseablePlacement.placement.setStale()),Wt||Ft)for(const nr of this._order){const sr=this._layers[nr];sr.type==="symbol"&&this.placement.updateLayerOpacities(sr,er[sr.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(s.exported.now())}_releaseSymbolFadeTiles(){for(const g in this._sourceCaches)this._sourceCaches[g].releaseSymbolFadeTiles()}getImages(g,tt,st){this.imageManager.getImages(tt.icons,st),this._updateTilesForChangedImages();const Et=Ot=>{Ot&&Ot.setDependencies(tt.tileID.key,tt.type,tt.icons)};Et(this._otherSourceCaches[tt.source]),Et(this._symbolSourceCaches[tt.source])}getGlyphs(g,tt,st){this.glyphManager.getGlyphs(tt.stacks,st)}getResource(g,tt,st){return s.makeRequest(tt,st)}_getSourceCache(g){return this._otherSourceCaches[g]}_getLayerSourceCache(g){return g.type==="symbol"?this._symbolSourceCaches[g.source]:this._otherSourceCaches[g.source]}_getSourceCaches(g){const tt=[];return this._otherSourceCaches[g]&&tt.push(this._otherSourceCaches[g]),this._symbolSourceCaches[g]&&tt.push(this._symbolSourceCaches[g]),tt}_isSourceCacheLoaded(g){const tt=this._getSourceCaches(g);return tt.length===0?(this.fire(new s.ErrorEvent(new Error(`There is no source with ID '${g}'`))),!1):tt.every(st=>st.loaded())}has3DLayers(){return this._num3DLayers>0}hasSymbolLayers(){return this._numSymbolLayers>0}hasCircleLayers(){return this._numCircleLayers>0}_clearWorkerCaches(){this.dispatcher.broadcast("clearCaches")}destroy(){this._clearWorkerCaches(),this.terrainSetForDrapingOnly()&&(delete this.terrain,delete this.stylesheet.terrain)}}Ws.getSourceType=function(nt){return en[nt]},Ws.setSourceType=function(nt,g){en[nt]=g},Ws.registerForPluginStateChange=s.registerForPluginStateChange;var tp=`
#define EPSILON 0.0000001
#define PI 3.141592653589793
#define EXTENT 8192.0
#define HALF_PI PI/2.0
#define QUARTER_PI PI/4.0
#define RAD_TO_DEG 180.0/PI
#define DEG_TO_RAD PI/180.0
#define GLOBE_RADIUS EXTENT/PI/2.0
#ifdef FOG
uniform mediump vec4 u_fog_color;uniform mediump vec2 u_fog_range;uniform mediump float u_fog_horizon_blend;varying vec3 v_fog_pos;float fog_range(float depth) {return (depth-u_fog_range[0])/(u_fog_range[1]-u_fog_range[0]);}float fog_horizon_blending(vec3 camera_dir) {float t=max(0.0,camera_dir.z/u_fog_horizon_blend);return u_fog_color.a*exp(-3.0*t*t);}float fog_opacity(float t) {const float decay=6.0;float falloff=1.0-min(1.0,exp(-decay*t));falloff*=falloff*falloff;return u_fog_color.a*min(1.0,1.00747*falloff);}
#endif`,rp="attribute highp vec3 a_pos_3f;uniform lowp mat4 u_matrix;varying highp vec3 v_uv;void main() {const mat3 half_neg_pi_around_x=mat3(1.0,0.0, 0.0,0.0,0.0,-1.0,0.0,1.0, 0.0);v_uv=half_neg_pi_around_x*a_pos_3f;vec4 pos=u_matrix*vec4(a_pos_3f,1.0);gl_Position=pos.xyww;}";let wu={},iu={};wu=to("",`
#define ELEVATION_SCALE 7.0
#define ELEVATION_OFFSET 450.0
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_tl_up;uniform vec3 u_tile_tr_up;uniform vec3 u_tile_br_up;uniform vec3 u_tile_bl_up;uniform float u_tile_up_scale;vec3 elevationVector(vec2 pos) {vec2 uv=pos/EXTENT;vec3 up=normalize(mix(
mix(u_tile_tl_up,u_tile_tr_up,uv.xxx),mix(u_tile_bl_up,u_tile_br_up,uv.xxx),uv.yyy));return up*u_tile_up_scale;}
#else
vec3 elevationVector(vec2 pos) { return vec3(0,0,1); }
#endif
#ifdef TERRAIN
#ifdef TERRAIN_DEM_FLOAT_FORMAT
uniform highp sampler2D u_dem;uniform highp sampler2D u_dem_prev;
#else
uniform sampler2D u_dem;uniform sampler2D u_dem_prev;
#endif
uniform vec4 u_dem_unpack;uniform vec2 u_dem_tl;uniform vec2 u_dem_tl_prev;uniform float u_dem_scale;uniform float u_dem_scale_prev;uniform float u_dem_size;uniform float u_dem_lerp;uniform float u_exaggeration;uniform float u_meter_to_dem;uniform mat4 u_label_plane_matrix_inv;uniform sampler2D u_depth;uniform vec2 u_depth_size_inv;vec4 tileUvToDemSample(vec2 uv,float dem_size,float dem_scale,vec2 dem_tl) {vec2 pos=dem_size*(uv*dem_scale+dem_tl)+1.0;vec2 f=fract(pos);return vec4((pos-f+0.5)/(dem_size+2.0),f);}float decodeElevation(vec4 v) {return dot(vec4(v.xyz*255.0,-1.0),u_dem_unpack);}float currentElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale+u_dem_tl)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale,u_dem_tl);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem,pos));
#ifdef TERRAIN_DEM_NEAREST_FILTER
return u_exaggeration*tl;
#endif
float tr=decodeElevation(texture2D(u_dem,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}float prevElevation(vec2 apos) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
vec2 pos=(u_dem_size*(apos/8192.0*u_dem_scale_prev+u_dem_tl_prev)+1.5)/(u_dem_size+2.0);return u_exaggeration*texture2D(u_dem_prev,pos).a;
#else
float dd=1.0/(u_dem_size+2.0);vec4 r=tileUvToDemSample(apos/8192.0,u_dem_size,u_dem_scale_prev,u_dem_tl_prev);vec2 pos=r.xy;vec2 f=r.zw;float tl=decodeElevation(texture2D(u_dem_prev,pos));float tr=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,0.0)));float bl=decodeElevation(texture2D(u_dem_prev,pos+vec2(0.0,dd)));float br=decodeElevation(texture2D(u_dem_prev,pos+vec2(dd,dd)));return u_exaggeration*mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);
#endif
}
#ifdef TERRAIN_VERTEX_MORPHING
float elevation(vec2 apos) {float nextElevation=currentElevation(apos);float prevElevation=prevElevation(apos);return mix(prevElevation,nextElevation,u_dem_lerp);}
#else
float elevation(vec2 apos) {return currentElevation(apos);}
#endif
float unpack_depth(vec4 rgba_depth)
{const vec4 bit_shift=vec4(1.0/(256.0*256.0*256.0),1.0/(256.0*256.0),1.0/256.0,1.0);return dot(rgba_depth,bit_shift)*2.0-1.0;}bool isOccluded(vec4 frag) {vec3 coord=frag.xyz/frag.w;float depth=unpack_depth(texture2D(u_depth,(coord.xy+1.0)*0.5));return coord.z > depth+0.0005;}float occlusionFade(vec4 frag) {vec3 coord=frag.xyz/frag.w;vec3 df=vec3(5.0*u_depth_size_inv,0.0);vec2 uv=0.5*coord.xy+0.5;vec4 depth=vec4(
unpack_depth(texture2D(u_depth,uv-df.xz)),unpack_depth(texture2D(u_depth,uv+df.xz)),unpack_depth(texture2D(u_depth,uv-df.zy)),unpack_depth(texture2D(u_depth,uv+df.zy))
);return dot(vec4(0.25),vec4(1.0)-clamp(300.0*(vec4(coord.z-0.001)-depth),0.0,1.0));}vec4 fourSample(vec2 pos,vec2 off) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
float tl=texture2D(u_dem,pos).a;float tr=texture2D(u_dem,pos+vec2(off.x,0.0)).a;float bl=texture2D(u_dem,pos+vec2(0.0,off.y)).a;float br=texture2D(u_dem,pos+off).a;
#else
vec4 demtl=vec4(texture2D(u_dem,pos).xyz*255.0,-1.0);float tl=dot(demtl,u_dem_unpack);vec4 demtr=vec4(texture2D(u_dem,pos+vec2(off.x,0.0)).xyz*255.0,-1.0);float tr=dot(demtr,u_dem_unpack);vec4 dembl=vec4(texture2D(u_dem,pos+vec2(0.0,off.y)).xyz*255.0,-1.0);float bl=dot(dembl,u_dem_unpack);vec4 dembr=vec4(texture2D(u_dem,pos+off).xyz*255.0,-1.0);float br=dot(dembr,u_dem_unpack);
#endif
return vec4(tl,tr,bl,br);}float flatElevation(vec2 pack) {vec2 apos=floor(pack/8.0);vec2 span=10.0*(pack-apos*8.0);vec2 uvTex=(apos-vec2(1.0,1.0))/8190.0;float size=u_dem_size+2.0;float dd=1.0/size;vec2 pos=u_dem_size*(uvTex*u_dem_scale+u_dem_tl)+1.0;vec2 f=fract(pos);pos=(pos-f+0.5)*dd;vec4 h=fourSample(pos,vec2(dd));float z=mix(mix(h.x,h.y,f.x),mix(h.z,h.w,f.x),f.y);vec2 w=floor(0.5*(span*u_meter_to_dem-1.0));vec2 d=dd*w;vec4 bounds=vec4(d,vec2(1.0)-d);h=fourSample(pos-d,2.0*d+vec2(dd));vec4 diff=abs(h.xzxy-h.ywzw);vec2 slope=min(vec2(0.25),u_meter_to_dem*0.5*(diff.xz+diff.yw)/(2.0*w+vec2(1.0)));vec2 fix=slope*span;float base=z+max(fix.x,fix.y);return u_exaggeration*base;}float elevationFromUint16(float word) {return u_exaggeration*(word/ELEVATION_SCALE-ELEVATION_OFFSET);}
#else
float elevation(vec2 pos) { return 0.0; }bool isOccluded(vec4 frag) { return false; }float occlusionFade(vec4 frag) { return 1.0; }
#endif`,!0),iu=to(`#ifdef FOG
uniform float u_fog_temporal_offset;float fog_opacity(vec3 pos) {float depth=length(pos);return fog_opacity(fog_range(depth));}vec3 fog_apply(vec3 color,vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));opacity*=fog_horizon_blending(pos/depth);return mix(color,u_fog_color.rgb,opacity);}vec4 fog_apply_from_vert(vec4 color,float fog_opac) {float alpha=EPSILON+color.a;color.rgb=mix(color.rgb/alpha,u_fog_color.rgb,fog_opac)*alpha;return color;}vec3 fog_apply_sky_gradient(vec3 camera_ray,vec3 sky_color) {float horizon_blend=fog_horizon_blending(normalize(camera_ray));return mix(sky_color,u_fog_color.rgb,horizon_blend);}vec4 fog_apply_premultiplied(vec4 color,vec3 pos) {float alpha=EPSILON+color.a;color.rgb=fog_apply(color.rgb/alpha,pos)*alpha;return color;}vec3 fog_dither(vec3 color) {vec2 dither_seed=gl_FragCoord.xy+u_fog_temporal_offset;return dither(color,dither_seed);}vec4 fog_dither(vec4 color) {return vec4(fog_dither(color.rgb),color.a);}
#endif`,`#ifdef FOG
uniform mat4 u_fog_matrix;vec3 fog_position(vec3 pos) {return (u_fog_matrix*vec4(pos,1.0)).xyz;}vec3 fog_position(vec2 pos) {return fog_position(vec3(pos,0.0));}float fog(vec3 pos) {float depth=length(pos);float opacity=fog_opacity(fog_range(depth));return opacity*fog_horizon_blending(pos/depth);}
#endif`,!0);const Pp=to(`
highp vec3 hash(highp vec2 p) {highp vec3 p3=fract(p.xyx*vec3(443.8975,397.2973,491.1871));p3+=dot(p3,p3.yxz+19.19);return fract((p3.xxy+p3.yzz)*p3.zyx);}vec3 dither(vec3 color,highp vec2 seed) {vec3 rnd=hash(seed)+hash(seed+0.59374)-0.5;return color+rnd/255.0;}
#ifdef TERRAIN
highp vec4 pack_depth(highp float ndc_z) {highp float depth=ndc_z*0.5+0.5;const highp vec4 bit_shift=vec4(256.0*256.0*256.0,256.0*256.0,256.0,1.0);const highp vec4 bit_mask =vec4(0.0,1.0/256.0,1.0/256.0,1.0/256.0);highp vec4 res=fract(depth*bit_shift);res-=res.xxyz*bit_mask;return res;}
#endif`,`
float wrap(float n,float min,float max) {float d=max-min;float w=mod(mod(n-min,d)+d,d)+min;return (w==min) ? max : w;}
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_tile_position(mat4 matrix,vec2 tile_anchor,vec3 tile_id,vec2 mercator_center) {
#ifndef PROJECTED_POS_ON_VIEWPORT
float tiles=tile_id.z;vec2 mercator=(tile_anchor/EXTENT+tile_id.xy)/tiles;mercator-=mercator_center;mercator.x=wrap(mercator.x,-0.5,0.5);vec4 mercator_tile=vec4(mercator.xy*EXTENT,EXTENT/(2.0*PI),1.0);mercator_tile=matrix*mercator_tile;return mercator_tile.xyz;
#else
return vec3(0.0);
#endif
}vec3 mix_globe_mercator(vec3 globe,vec3 mercator,float t) {return mix(globe,mercator,t);}mat3 globe_mercator_surface_vectors(vec3 pos_normal,vec3 up_dir,float zoom_transition) {vec3 normal=zoom_transition==0.0 ? pos_normal : normalize(mix(pos_normal,up_dir,zoom_transition));vec3 xAxis=normalize(vec3(normal.z,0.0,-normal.x));vec3 yAxis=normalize(cross(normal,xAxis));return mat3(xAxis,yAxis,normal);}
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(
unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}const vec4 AWAY=vec4(-1000.0,-1000.0,-1000.0,1);//Normalized device coordinate that is not rendered.`),np=tp;var ip={background:to(`uniform vec4 u_color;uniform float u_opacity;void main() {vec4 out_color=u_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),backgroundPattern:to(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_mix);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),circle:to(`varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(
antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width)
);vec4 out_color=mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef FOG
out_color=fog_apply_premultiplied(out_color,v_fog_pos);
#endif
gl_FragColor=out_color*(v_visibility*opacity_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`#define NUM_VISIBILITY_RINGS 2
#define INV_SQRT2 0.70710678
#define ELEVATION_BIAS 0.0001
#define NUM_SAMPLES_PER_RING 16
uniform mat4 u_matrix;uniform mat2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec3 v_data;varying float v_visibility;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
vec2 calc_offset(vec2 extrusion,float radius,float stroke_width, float view_scale) {return extrusion*(radius+stroke_width)*u_extrude_scale*view_scale;}float cantilevered_elevation(vec2 pos,float radius,float stroke_width,float view_scale) {vec2 c1=pos+calc_offset(vec2(-1,-1),radius,stroke_width,view_scale);vec2 c2=pos+calc_offset(vec2(1,-1),radius,stroke_width,view_scale);vec2 c3=pos+calc_offset(vec2(1,1),radius,stroke_width,view_scale);vec2 c4=pos+calc_offset(vec2(-1,1),radius,stroke_width,view_scale);float h1=elevation(c1)+ELEVATION_BIAS;float h2=elevation(c2)+ELEVATION_BIAS;float h3=elevation(c3)+ELEVATION_BIAS;float h4=elevation(c4)+ELEVATION_BIAS;return max(h4,max(h3,max(h1,h2)));}float circle_elevation(vec2 pos) {
#if defined(TERRAIN)
return elevation(pos)+ELEVATION_BIAS;
#else
return 0.0;
#endif
}vec4 project_vertex(vec2 extrusion,vec4 world_center,vec4 projected_center,float radius,float stroke_width, float view_scale,mat3 surface_vectors) {vec2 sample_offset=calc_offset(extrusion,radius,stroke_width,view_scale);
#ifdef PITCH_WITH_MAP
#ifdef PROJECTION_GLOBE_VIEW
return u_matrix*( world_center+vec4(sample_offset.x*surface_vectors[0]+sample_offset.y*surface_vectors[1],0) );
#else
return u_matrix*( world_center+vec4(sample_offset,0,0) );
#endif
#else
return projected_center+vec4(sample_offset,0,0);
#endif
}float get_sample_step() {
#ifdef PITCH_WITH_MAP
return 2.0*PI/float(NUM_SAMPLES_PER_RING);
#else
return PI/float(NUM_SAMPLES_PER_RING);
#endif
}void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);
#ifdef PROJECTION_GLOBE_VIEW
vec2 scaled_extrude=extrude*a_scale;vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=scaled_extrude.x*surface_vectors[0]+scaled_extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(circle_center)*circle_elevation(circle_center);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*circle_elevation(circle_center);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,circle_center,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);vec4 world_center=vec4(pos,1);
#else 
mat3 surface_vectors=mat3(1.0);float height=circle_elevation(circle_center);vec4 world_center=vec4(circle_center,height,1);
#endif
vec4 projected_center=u_matrix*world_center;float view_scale=0.0;
#ifdef PITCH_WITH_MAP
#ifdef SCALE_WITH_MAP
view_scale=1.0;
#else
view_scale=projected_center.w/u_camera_to_center_distance;
#endif
#else
#ifdef SCALE_WITH_MAP
view_scale=u_camera_to_center_distance;
#else
view_scale=projected_center.w;
#endif
#endif
#if defined(SCALE_WITH_MAP) && defined(PROJECTION_GLOBE_VIEW)
view_scale*=a_scale;
#endif
gl_Position=project_vertex(extrude,world_center,projected_center,radius,stroke_width,view_scale,surface_vectors);float visibility=0.0;
#ifdef TERRAIN
float step=get_sample_step();
#ifdef PITCH_WITH_MAP
float cantilevered_height=cantilevered_elevation(circle_center,radius,stroke_width,view_scale);vec4 occlusion_world_center=vec4(circle_center,cantilevered_height,1);vec4 occlusion_projected_center=u_matrix*occlusion_world_center;
#else
vec4 occlusion_world_center=world_center;vec4 occlusion_projected_center=projected_center;
#endif
for(int ring=0; ring < NUM_VISIBILITY_RINGS; ring++) {float scale=(float(ring)+1.0)/float(NUM_VISIBILITY_RINGS);for(int i=0; i < NUM_SAMPLES_PER_RING; i++) {vec2 extrusion=vec2(cos(step*float(i)),-sin(step*float(i)))*scale;vec4 frag_pos=project_vertex(extrusion,occlusion_world_center,occlusion_projected_center,radius,stroke_width,view_scale,surface_vectors);visibility+=float(!isOccluded(frag_pos));}}visibility/=float(NUM_VISIBILITY_RINGS)*float(NUM_SAMPLES_PER_RING);
#else
visibility=1.0;
#endif
#ifdef PROJECTION_GLOBE_VIEW
visibility=1.0;
#endif
v_visibility=visibility;lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);
#ifdef FOG
v_fog_pos=fog_position(world_center.xyz);
#endif
}`),clippingMask:to("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),heatmap:to(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef FOG
gl_FragColor.r*=pow(1.0-fog_opacity(v_fog_pos),2.0);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;attribute float a_scale;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;
#endif
varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 tilePos=floor(a_pos*0.5);
#ifdef PROJECTION_GLOBE_VIEW
extrude*=a_scale;vec3 pos_normal_3=a_pos_normal_3/16384.0;mat3 surface_vectors=globe_mercator_surface_vectors(pos_normal_3,u_up_dir,u_zoom_transition);vec3 surface_extrusion=extrude.x*surface_vectors[0]+extrude.y*surface_vectors[1];vec3 globe_elevation=elevationVector(tilePos)*elevation(tilePos);vec3 globe_pos=a_pos_3+surface_extrusion+globe_elevation;vec3 mercator_elevation=u_up_dir*u_tile_up_scale*elevation(tilePos);vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,tilePos,u_tile_id,u_merc_center)+surface_extrusion+mercator_elevation;vec3 pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#else
vec3 pos=vec3(tilePos+extrude,elevation(tilePos));
#endif
gl_Position=u_matrix*vec4(pos,1);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),heatmapTexture:to(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=vec4(a_pos,0,1);v_pos=a_pos*0.5+0.5;}"),collisionBox:to("varying float v_placed;varying float v_notUsed;void main() {vec4 red =vec4(1.0,0.0,0.0,1.0);vec4 blue=vec4(0.0,0.0,1.0,0.5);gl_FragColor =mix(red,blue,step(0.5,v_placed))*0.5;gl_FragColor*=mix(1.0,0.1,step(0.5,v_notUsed));}",`attribute vec3 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;attribute float a_size_scale;attribute vec2 a_padding;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_pos+elevationVector(a_anchor_pos)*elevation(a_anchor_pos),1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,1.5);gl_Position=projectedPoint;gl_Position.xy+=(a_extrude*a_size_scale+a_shift+a_padding)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}`),collisionCircle:to("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}",`attribute vec2 a_pos_2f;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos_2f;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(
mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(
0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}`),debug:to("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}",`attribute vec2 a_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;
#endif
varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {float h=elevation(a_pos);v_uv=a_pos/8192.0;
#ifdef PROJECTION_GLOBE_VIEW
gl_Position=u_matrix*vec4(a_pos_3+elevationVector(a_pos)*h,1);
#else
gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,h,1);
#endif
}`),fill:to(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
vec4 out_color=color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutline:to(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=outline_color;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillOutlinePattern:to(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillPattern:to(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),fillExtrusion:to(`varying vec4 v_color;void main() {vec4 color=v_color;
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 pos=vec3(pos_nx.xy,h);
#else
vec3 pos=vec3(pos_nx.xy,t > 0.0 ? height : base);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(pos.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,pos.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*pos.z;pos=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(pos,1),AWAY,hidden);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.rgb+=clamp(color.rgb*directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_color*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),fillExtrusionPattern:to(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 out_color=mix(color1,color2,u_fade);out_color=out_color*v_lighting;
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
gl_FragColor=out_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec4 a_pos_normal_ed;attribute vec2 a_centroid_pos;
#ifdef PROJECTION_GLOBE_VIEW
attribute vec3 a_pos_3;attribute vec3 a_pos_normal_3;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_tile_id;uniform float u_zoom_transition;uniform vec3 u_up_dir;uniform float u_height_lift;
#endif
varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 pos_nx=floor(a_pos_normal_ed.xyz*0.5);mediump vec3 top_up_ny=a_pos_normal_ed.xyz-2.0*pos_nx;float x_normal=pos_nx.z/8192.0;vec3 normal=top_up_ny.y==1.0 ? vec3(0.0,0.0,1.0) : normalize(vec3(x_normal,(2.0*top_up_ny.z-1.0)*(1.0-abs(x_normal)),0.0));float edgedistance=a_pos_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=top_up_ny.x;float z=t > 0.0 ? height : base;vec2 centroid_pos=vec2(0.0);
#if defined(HAS_CENTROID) || defined(TERRAIN)
centroid_pos=a_centroid_pos;
#endif
#ifdef TERRAIN
bool flat_roof=centroid_pos.x !=0.0 && t > 0.0;float ele=elevation(pos_nx.xy);float c_ele=flat_roof ? centroid_pos.y==0.0 ? elevationFromUint16(centroid_pos.x) : flatElevation(centroid_pos) : ele;float h=flat_roof ? max(c_ele+height,ele+base+2.0) : ele+(t > 0.0 ? height : base==0.0 ?-5.0 : base);vec3 p=vec3(pos_nx.xy,h);
#else
vec3 p=vec3(pos_nx.xy,z);
#endif
#ifdef PROJECTION_GLOBE_VIEW
float lift=float((t+base) > 0.0)*u_height_lift;vec3 globe_normal=normalize(mix(a_pos_normal_3/16384.0,u_up_dir,u_zoom_transition));vec3 globe_pos=a_pos_3+globe_normal*(u_tile_up_scale*(p.z+lift));vec3 merc_pos=mercator_tile_position(u_inv_rot_matrix,p.xy,u_tile_id,u_merc_center)+u_up_dir*u_tile_up_scale*p.z;p=mix_globe_mercator(globe_pos,merc_pos,u_zoom_transition);
#endif
float hidden=float(centroid_pos.x==0.0 && centroid_pos.y==1.0);gl_Position=mix(u_matrix*vec4(p,1),AWAY,hidden);vec2 pos=normal.z==1.0
? pos_nx.xy
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=(
(1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;
#ifdef FOG
v_fog_pos=fog_position(p);
#endif
}`),hillshadePrepare:to(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord) {
#ifdef TERRAIN_DEM_FLOAT_FORMAT
return texture2D(u_image,coord).a/4.0;
#else
vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;
#endif
}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y));float b=getElevation(v_pos+vec2(0,-epsilon.y));float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y));float d=getElevation(v_pos+vec2(-epsilon.x,0));float e=getElevation(v_pos);float f=getElevation(v_pos+vec2(epsilon.x,0));float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y));float h=getElevation(v_pos+vec2(0,epsilon.y));float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y));float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2(
(c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c)
)/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(
deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:to(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef FOG
gl_FragColor=fog_dither(fog_apply_premultiplied(gl_FragColor,v_fog_pos));
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),line:to(`uniform lowp float u_device_pixel_ratio;uniform float u_alpha_discard_threshold;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#ifdef RENDER_LINE_DASH
uniform sampler2D u_dash_image;uniform float u_mix;uniform vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform sampler2D u_gradient_image;varying highp vec2 v_uv;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);
#ifdef RENDER_LINE_DASH
float sdfdist_a=texture2D(u_dash_image,v_tex_a).a;float sdfdist_b=texture2D(u_dash_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfwidth=min(dash_from.z*u_scale.y,dash_to.z*u_scale.z);float sdfgamma=1.0/(2.0*u_device_pixel_ratio)/sdfwidth;alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);
#endif
#ifdef RENDER_LINE_GRADIENT
vec4 out_color=texture2D(u_gradient_image,v_uv);
#else
vec4 out_color=color;
#endif
#ifdef FOG
out_color=fog_dither(fog_apply_premultiplied(out_color,v_fog_pos));
#endif
#ifdef RENDER_LINE_ALPHA_DISCARD
if (alpha < u_alpha_discard_threshold) {discard;}
#endif
gl_FragColor=out_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define EXTRUDE_SCALE 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;
#ifdef RENDER_LINE_GRADIENT
attribute vec3 a_packed;
#else
attribute float a_linesofar;
#endif
uniform mat4 u_matrix;uniform mat2 u_pixels_to_tile_units;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;
#ifdef RENDER_LINE_DASH
uniform vec2 u_texsize;uniform mediump vec3 u_scale;varying vec2 v_tex_a;varying vec2 v_tex_b;
#endif
#ifdef RENDER_LINE_GRADIENT
uniform float u_image_height;varying highp vec2 v_uv;
#endif
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 dash_from
#pragma mapbox: define lowp vec4 dash_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize lowp vec4 dash_from
#pragma mapbox: initialize lowp vec4 dash_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*EXTRUDE_SCALE;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*EXTRUDE_SCALE*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
#ifdef RENDER_LINE_GRADIENT
float a_uv_x=a_packed[0];float a_split_index=a_packed[1];float a_linesofar=a_packed[2];highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);
#endif
#ifdef RENDER_LINE_DASH
float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;float scaleA=dash_from.z==0.0 ? 0.0 : tileZoomRatio/(dash_from.z*fromScale);float scaleB=dash_to.z==0.0 ? 0.0 : tileZoomRatio/(dash_to.z*toScale);float heightA=dash_from.y;float heightB=dash_to.y;v_tex_a=vec2(a_linesofar*scaleA/floorwidth,(-normal.y*heightA+dash_from.x+0.5)/u_texsize.y);v_tex_b=vec2(a_linesofar*scaleB/floorwidth,(-normal.y*heightB+dash_to.x+0.5)/u_texsize.y);
#endif
v_width2=vec2(outset,inset);
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),linePattern:to(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);
#ifdef FOG
color=fog_dither(fog_apply_premultiplied(color,v_fog_pos));
#endif
gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_linesofar;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mat2 u_pixels_to_tile_units;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist*u_pixels_to_tile_units,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2*u_pixels_to_tile_units,0.0,1.0)+projected_extrude;
#ifndef RENDER_TO_TEXTURE
float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;
#else
v_gamma_scale=1.0;
#endif
v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;
#ifdef FOG
v_fog_pos=fog_position(pos);
#endif
}`),raster:to(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(
dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);vec3 out_color=mix(u_high_vec,u_low_vec,rgb);
#ifdef FOG
out_color=fog_dither(fog_apply(out_color,v_fog_pos));
#endif
gl_FragColor=vec4(out_color*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform vec2 u_perspective_transform;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {float w=1.0+dot(a_texture_pos,u_perspective_transform);gl_Position=u_matrix*vec4(a_pos*w,0,w);v_pos0=a_texture_pos/8192.0;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;
#ifdef FOG
v_fog_pos=fog_position(a_pos);
#endif
}`),symbolIcon:to(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_min_font_scale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchor_z=a_z_tile_anchor.x;vec2 tile_anchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchor_z)+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
vec3 world_pos=vec3(a_pos,anchor_z)+h;float globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjected_point=u_matrix*vec4(a_pos+vec2(1,0),anchor_z,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetProjected_point.xy/offsetProjected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchor_z),mercator_pos,u_zoom_transition);
#else
vec3 proj_pos=vec3(a_projected_pos.xy,anchor_z);
#endif
#ifdef PROJECTED_POS_ON_VIEWPORT
vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);
#else
vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*max(a_min_font_scale,font_scale)+a_pxoffset/16.0);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change))*projection_transition_fade;}`),symbolSDF:to(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_pixeloffset;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchor_z=a_z_tile_anchor.x;vec2 tile_anchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchor_z)+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
vec3 world_pos=vec3(a_pos,anchor_z)+h;float globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetprojected_point=u_matrix*vec4(a_pos+vec2(1,0),anchor_z,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offsetprojected_point.xy/offsetprojected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchor_z),mercator_pos,u_zoom_transition);
#else
vec3 proj_pos=vec3(a_projected_pos.xy,anchor_z);
#endif
#ifdef PROJECTED_POS_ON_VIEWPORT
vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);
#else
vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade);}`),symbolTextAndIcon:to(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec4 a_pos_offset;attribute vec4 a_tex_size;attribute vec4 a_z_tile_anchor;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;
#ifdef PROJECTION_GLOBE_VIEW
uniform vec3 u_tile_id;uniform mat4 u_inv_rot_matrix;uniform vec2 u_merc_center;uniform vec3 u_camera_forward;uniform float u_zoom_transition;uniform vec3 u_ecef_origin;uniform mat4 u_tile_matrix;
#endif
varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_tex_size.xy;vec2 a_size=a_tex_size.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}float anchor_z=a_z_tile_anchor.x;vec2 tile_anchor=a_z_tile_anchor.yz;vec3 h=elevationVector(tile_anchor)*elevation(tile_anchor);
#ifdef PROJECTION_GLOBE_VIEW
vec3 mercator_pos=mercator_tile_position(u_inv_rot_matrix,tile_anchor,u_tile_id,u_merc_center);vec3 world_pos=mix_globe_mercator(vec3(a_pos,anchor_z)+h,mercator_pos,u_zoom_transition);vec4 ecef_point=u_tile_matrix*vec4(world_pos,1.0);vec3 origin_to_point=ecef_point.xyz-u_ecef_origin;float globe_occlusion_fade=dot(origin_to_point,u_camera_forward) >=0.0 ? 0.0 : 1.0;
#else
vec3 world_pos=vec3(a_pos,anchor_z)+h;float globe_occlusion_fade=1.0;
#endif
vec4 projected_point=u_matrix*vec4(world_pos,1);highp float camera_to_anchor_distance=projected_point.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(
0.5+0.5*distance_ratio,0.0,1.5);size*=perspective_ratio;float font_scale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offset_projected_point=u_matrix*vec4(a_pos+vec2(1,0),anchor_z,1);vec2 a=projected_point.xy/projected_point.w;vec2 b=offset_projected_point.xy/offset_projected_point.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}
#ifdef PROJECTION_GLOBE_VIEW
vec3 proj_pos=mix_globe_mercator(vec3(a_projected_pos.xy,anchor_z),mercator_pos,u_zoom_transition);
#else
vec3 proj_pos=vec3(a_projected_pos.xy,anchor_z);
#endif
#ifdef PROJECTED_POS_ON_VIEWPORT
vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xy,0.0,1.0);
#else
vec4 projected_pos=u_label_plane_matrix*vec4(proj_pos.xyz+h,1.0);
#endif
highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);float z=0.0;vec2 offset=rotation_matrix*(a_offset/32.0*font_scale);
#ifdef PITCH_WITH_MAP_TERRAIN
vec4 tile_pos=u_label_plane_matrix_inv*vec4(a_projected_pos.xy+offset,0.0,1.0);z=elevation(tile_pos.xy);
#endif
float occlusion_fade=occlusionFade(projected_point)*globe_occlusion_fade;gl_Position=mix(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+offset,z,1.0),AWAY,float(projected_point.w <=0.0 || occlusion_fade==0.0));float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(occlusion_fade,fade_opacity[0]+fade_change));float projection_transition_fade=1.0;
#if defined(PROJECTED_POS_ON_VIEWPORT) && defined(PROJECTION_GLOBE_VIEW)
projection_transition_fade=1.0-step(EPSILON,u_zoom_transition);
#endif
v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity*projection_transition_fade,is_sdf);}`),terrainRaster:to(`uniform sampler2D u_image0;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
void main() {vec4 color=texture2D(u_image0,v_pos0);
#ifdef FOG
color=fog_dither(fog_apply_from_vert(color,v_fog_opacity));
#endif
gl_FragColor=color;
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_skirt_height;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;
#ifdef FOG
varying float v_fog_opacity;
#endif
const float skirtOffset=24575.0;const float wireframeOffset=0.00015;void main() {v_pos0=a_texture_pos/8192.0;float skirt=float(a_pos.x >=skirtOffset);float elevation=elevation(a_texture_pos)-skirt*u_skirt_height;
#ifdef TERRAIN_WIREFRAME
elevation+=u_skirt_height*u_skirt_height*wireframeOffset;
#endif
vec2 decodedPos=a_pos-vec2(skirt*skirtOffset,0.0);gl_Position=u_matrix*vec4(decodedPos,elevation,1.0);
#ifdef FOG
v_fog_opacity=fog(fog_position(vec3(decodedPos,elevation)));
#endif
}`),terrainDepth:to(`#ifdef GL_ES
precision highp float;
#endif
varying float v_depth;void main() {gl_FragColor=pack_depth(v_depth);}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying float v_depth;void main() {float elevation=elevation(a_texture_pos);gl_Position=u_matrix*vec4(a_pos,elevation,1.0);v_depth=gl_Position.z/gl_Position.w;}"),skybox:to(`
varying lowp vec3 v_uv;uniform lowp samplerCube u_cubemap;uniform lowp float u_opacity;uniform highp float u_temporal_offset;uniform highp vec3 u_sun_direction;float sun_disk(highp vec3 ray_direction,highp vec3 sun_direction) {highp float cos_angle=dot(normalize(ray_direction),sun_direction);const highp float cos_sun_angular_diameter=0.99996192306;const highp float smoothstep_delta=1e-5;return smoothstep(
cos_sun_angular_diameter-smoothstep_delta,cos_sun_angular_diameter+smoothstep_delta,cos_angle);}float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec3 uv=v_uv;const float y_bias=0.015;uv.y+=y_bias;uv.y=pow(abs(uv.y),1.0/5.0);uv.y=map(uv.y,0.0,1.0,-1.0,1.0);vec3 sky_color=textureCube(u_cubemap,uv).rgb;
#ifdef FOG
sky_color=fog_apply_sky_gradient(v_uv.xzy,sky_color);
#endif
sky_color.rgb=dither(sky_color.rgb,gl_FragCoord.xy+u_temporal_offset);sky_color+=0.1*sun_disk(v_uv,u_sun_direction);gl_FragColor=vec4(sky_color*u_opacity,u_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rp),skyboxGradient:to(`varying highp vec3 v_uv;uniform lowp sampler2D u_color_ramp;uniform highp vec3 u_center_direction;uniform lowp float u_radius;uniform lowp float u_opacity;uniform highp float u_temporal_offset;void main() {float progress=acos(dot(normalize(v_uv),u_center_direction))/u_radius;vec4 color=texture2D(u_color_ramp,vec2(progress,0.5));
#ifdef FOG
color.rgb=fog_apply_sky_gradient(v_uv.xzy,color.rgb/color.a)*color.a;
#endif
color*=u_opacity;color.rgb=dither(color.rgb,gl_FragCoord.xy+u_temporal_offset);gl_FragColor=color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,rp),skyboxCapture:to(`
varying highp vec3 v_position;uniform highp float u_sun_intensity;uniform highp float u_luminance;uniform lowp vec3 u_sun_direction;uniform highp vec4 u_color_tint_r;uniform highp vec4 u_color_tint_m;
#ifdef GL_ES
precision highp float;
#endif
#define BETA_R                  vec3(5.5e-6,13.0e-6,22.4e-6)
#define BETA_M                  vec3(21e-6,21e-6,21e-6)
#define MIE_G                   0.76
#define DENSITY_HEIGHT_SCALE_R  8000.0
#define DENSITY_HEIGHT_SCALE_M  1200.0
#define PLANET_RADIUS           6360e3
#define ATMOSPHERE_RADIUS       6420e3
#define SAMPLE_STEPS            10
#define DENSITY_STEPS           4
float ray_sphere_exit(vec3 orig,vec3 dir,float radius) {float a=dot(dir,dir);float b=2.0*dot(dir,orig);float c=dot(orig,orig)-radius*radius;float d=sqrt(b*b-4.0*a*c);return (-b+d)/(2.0*a);}vec3 extinction(vec2 density) {return exp(-vec3(BETA_R*u_color_tint_r.a*density.x+BETA_M*u_color_tint_m.a*density.y));}vec2 local_density(vec3 point) {float height=max(length(point)-PLANET_RADIUS,0.0);float exp_r=exp(-height/DENSITY_HEIGHT_SCALE_R);float exp_m=exp(-height/DENSITY_HEIGHT_SCALE_M);return vec2(exp_r,exp_m);}float phase_ray(float cos_angle) {return (3.0/(16.0*PI))*(1.0+cos_angle*cos_angle);}float phase_mie(float cos_angle) {return (3.0/(8.0*PI))*((1.0-MIE_G*MIE_G)*(1.0+cos_angle*cos_angle))/((2.0+MIE_G*MIE_G)*pow(1.0+MIE_G*MIE_G-2.0*MIE_G*cos_angle,1.5));}vec2 density_to_atmosphere(vec3 point,vec3 light_dir) {float ray_len=ray_sphere_exit(point,light_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(DENSITY_STEPS);vec2 density_point_to_atmosphere=vec2(0.0);for (int i=0; i < DENSITY_STEPS;++i) {vec3 point_on_ray=point+light_dir*((float(i)+0.5)*step_len);density_point_to_atmosphere+=local_density(point_on_ray)*step_len;;}return density_point_to_atmosphere;}vec3 atmosphere(vec3 ray_dir,vec3 sun_direction,float sun_intensity) {vec2 density_orig_to_point=vec2(0.0);vec3 scatter_r=vec3(0.0);vec3 scatter_m=vec3(0.0);vec3 origin=vec3(0.0,PLANET_RADIUS,0.0);float ray_len=ray_sphere_exit(origin,ray_dir,ATMOSPHERE_RADIUS);float step_len=ray_len/float(SAMPLE_STEPS);for (int i=0; i < SAMPLE_STEPS;++i) {vec3 point_on_ray=origin+ray_dir*((float(i)+0.5)*step_len);vec2 density=local_density(point_on_ray)*step_len;density_orig_to_point+=density;vec2 density_point_to_atmosphere=density_to_atmosphere(point_on_ray,sun_direction);vec2 density_orig_to_atmosphere=density_orig_to_point+density_point_to_atmosphere;vec3 extinction=extinction(density_orig_to_atmosphere);scatter_r+=density.x*extinction;scatter_m+=density.y*extinction;}float cos_angle=dot(ray_dir,sun_direction);float phase_r=phase_ray(cos_angle);float phase_m=phase_mie(cos_angle);vec3 beta_r=BETA_R*u_color_tint_r.rgb*u_color_tint_r.a;vec3 beta_m=BETA_M*u_color_tint_m.rgb*u_color_tint_m.a;return (scatter_r*phase_r*beta_r+scatter_m*phase_m*beta_m)*sun_intensity;}const float A=0.15;const float B=0.50;const float C=0.10;const float D=0.20;const float E=0.02;const float F=0.30;vec3 uncharted2_tonemap(vec3 x) {return ((x*(A*x+C*B)+D*E)/(x*(A*x+B)+D*F))-E/F;}void main() {vec3 ray_direction=v_position;ray_direction.y=pow(ray_direction.y,5.0);const float y_bias=0.015;ray_direction.y+=y_bias;vec3 color=atmosphere(normalize(ray_direction),u_sun_direction,u_sun_intensity);float white_scale=1.0748724675633854;color=uncharted2_tonemap((log2(2.0/pow(u_luminance,4.0)))*color)*white_scale;gl_FragColor=vec4(color,1.0);}`,"attribute highp vec3 a_pos_3f;uniform mat3 u_matrix_3f;varying highp vec3 v_position;float map(float value,float start,float end,float new_start,float new_end) {return ((value-start)*(new_end-new_start))/(end-start)+new_start;}void main() {vec4 pos=vec4(u_matrix_3f*a_pos_3f,1.0);v_position=pos.xyz;v_position.y*=-1.0;v_position.y=map(v_position.y,-1.0,1.0,0.0,1.0);gl_Position=vec4(a_pos_3f.xy,0.0,1.0);}"),globeRaster:to(`uniform sampler2D u_image0;varying vec2 v_pos0;void main() {gl_FragColor=texture2D(u_image0,v_pos0);
#ifdef TERRAIN_WIREFRAME
gl_FragColor=vec4(1.0,0.0,0.0,0.8);
#endif
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_proj_matrix;uniform mat4 u_globe_matrix;uniform mat4 u_merc_matrix;uniform float u_zoom_transition;uniform vec2 u_merc_center;uniform mat3 u_grid_matrix;
#ifdef GLOBE_POLES
attribute vec3 a_globe_pos;attribute vec2 a_merc_pos;attribute vec2 a_uv;
#else
attribute vec2 a_pos;
#endif
varying vec2 v_pos0;const float wireframeOffset=1e3;float mercatorXfromLng(float lng) {return (180.0+lng)/360.0;}float mercatorYfromLat(float lat) {return (180.0-(RAD_TO_DEG*log(tan(QUARTER_PI+lat/2.0*DEG_TO_RAD))))/360.0;}vec3 latLngToECEF(vec2 latLng) {latLng=DEG_TO_RAD*latLng;float cosLat=cos(latLng[0]);float sinLat=sin(latLng[0]);float cosLng=cos(latLng[1]);float sinLng=sin(latLng[1]);float sx=cosLat*sinLng*GLOBE_RADIUS;float sy=-sinLat*GLOBE_RADIUS;float sz=cosLat*cosLng*GLOBE_RADIUS;return vec3(sx,sy,sz);}void main() {
#ifdef GLOBE_POLES
vec3 globe_pos=a_globe_pos;vec2 merc_pos=a_merc_pos;vec2 uv=a_uv;
#else
float tiles=u_grid_matrix[0][2];float idy=u_grid_matrix[1][2];float S=u_grid_matrix[2][2];vec3 latLng=u_grid_matrix*vec3(a_pos,1.0);float mercatorY=mercatorYfromLat(latLng[0]);float uvY=mercatorY*tiles-idy;float mercatorX=mercatorXfromLng(latLng[1]);float uvX=a_pos[0]*S;vec3 globe_pos=latLngToECEF(latLng.xy);vec2 merc_pos=vec2(mercatorX,mercatorY);vec2 uv=vec2(uvX,uvY);
#endif
v_pos0=uv;uv=uv*EXTENT;vec4 up_vector=vec4(elevationVector(uv),1.0);float height=elevation(uv);
#ifdef TERRAIN_WIREFRAME
height+=wireframeOffset;
#endif
vec4 globe=u_globe_matrix*vec4(globe_pos+up_vector.xyz*height,1.0);vec4 mercator=vec4(0.0);if (u_zoom_transition > 0.0) {mercator=vec4(merc_pos,height,1.0);mercator.xy-=u_merc_center;mercator.x=wrap(mercator.x,-0.5,0.5);mercator=u_merc_matrix*mercator;}vec3 position=mix(globe.xyz,mercator.xyz,u_zoom_transition);gl_Position=u_proj_matrix*vec4(position,1.0);}`),globeAtmosphere:to(`uniform float u_opacity;uniform highp float u_fadeout_range;uniform vec3 u_start_color;uniform vec3 u_end_color;uniform highp vec3 u_globe_pos;uniform highp float u_globe_radius;varying highp vec3 v_ray_dir;void main() {highp vec3 dir=normalize(v_ray_dir);highp vec3 closest_point=abs(dot(u_globe_pos,dir))*dir;float norm_dist_from_center=length(closest_point-u_globe_pos)/u_globe_radius;if (norm_dist_from_center < 1.0)
discard;float t=clamp(1.0-sqrt(norm_dist_from_center-1.0)/u_fadeout_range,0.0,1.0);vec3 color=mix(u_start_color,u_end_color,1.0-t);gl_FragColor=vec4(color*t*u_opacity,u_opacity);}`,"attribute vec3 a_pos;attribute vec2 a_uv;uniform vec3 u_frustum_tl;uniform vec3 u_frustum_tr;uniform vec3 u_frustum_br;uniform vec3 u_frustum_bl;varying highp vec3 v_ray_dir;void main() {v_ray_dir=mix(mix(u_frustum_tl,u_frustum_tr,a_uv.x),mix(u_frustum_bl,u_frustum_br,a_uv.x),a_uv.y);gl_Position=vec4(a_pos,1.0);}")};function to(nt,g,tt){const st=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,Et=/uniform (highp |mediump |lowp )?([\w]+) ([\w]+)([\s]*)([\w]*)/g,Ot=g.match(/attribute (highp |mediump |lowp )?([\w]+) ([\w]+)/g),Ft=nt.match(Et),Wt=g.match(Et),er=tp.match(Et);let nr=Wt?Wt.concat(Ft):Ft;tt||(wu.staticUniforms&&(nr=wu.staticUniforms.concat(nr)),iu.staticUniforms&&(nr=iu.staticUniforms.concat(nr))),nr&&(nr=nr.concat(er));const sr={};return{fragmentSource:nt=nt.replace(st,(fr,xr,Ar,Er,br)=>(sr[br]=!0,xr==="define"?`
#ifndef HAS_UNIFORM_u_${br}
varying ${Ar} ${Er} ${br};
#else
uniform ${Ar} ${Er} u_${br};
#endif
`:`
#ifdef HAS_UNIFORM_u_${br}
    ${Ar} ${Er} ${br} = u_${br};
#endif
`)),vertexSource:g=g.replace(st,(fr,xr,Ar,Er,br)=>{const Nr=Er==="float"?"vec2":"vec4",Or=br.match(/color/)?"color":Nr;return sr[br]?xr==="define"?`
#ifndef HAS_UNIFORM_u_${br}
uniform lowp float u_${br}_t;
attribute ${Ar} ${Nr} a_${br};
varying ${Ar} ${Er} ${br};
#else
uniform ${Ar} ${Er} u_${br};
#endif
`:Or==="vec4"?`
#ifndef HAS_UNIFORM_u_${br}
    ${br} = a_${br};
#else
    ${Ar} ${Er} ${br} = u_${br};
#endif
`:`
#ifndef HAS_UNIFORM_u_${br}
    ${br} = unpack_mix_${Or}(a_${br}, u_${br}_t);
#else
    ${Ar} ${Er} ${br} = u_${br};
#endif
`:xr==="define"?`
#ifndef HAS_UNIFORM_u_${br}
uniform lowp float u_${br}_t;
attribute ${Ar} ${Nr} a_${br};
#else
uniform ${Ar} ${Er} u_${br};
#endif
`:Or==="vec4"?`
#ifndef HAS_UNIFORM_u_${br}
    ${Ar} ${Er} ${br} = a_${br};
#else
    ${Ar} ${Er} ${br} = u_${br};
#endif
`:`
#ifndef HAS_UNIFORM_u_${br}
    ${Ar} ${Er} ${br} = unpack_mix_${Or}(a_${br}, u_${br}_t);
#else
    ${Ar} ${Er} ${br} = u_${br};
#endif
`}),staticAttributes:Ot,staticUniforms:nr}}class kp{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(g,tt,st,Et,Ot,Ft,Wt,er){this.context=g;let nr=this.boundPaintVertexBuffers.length!==Et.length;for(let sr=0;!nr&&sr<Et.length;sr++)this.boundPaintVertexBuffers[sr]!==Et[sr]&&(nr=!0);g.extVertexArrayObject&&this.vao&&this.boundProgram===tt&&this.boundLayoutVertexBuffer===st&&!nr&&this.boundIndexBuffer===Ot&&this.boundVertexOffset===Ft&&this.boundDynamicVertexBuffer===Wt&&this.boundDynamicVertexBuffer2===er?(g.bindVertexArrayOES.set(this.vao),Wt&&Wt.bind(),Ot&&Ot.dynamicDraw&&Ot.bind(),er&&er.bind()):this.freshBind(tt,st,Et,Ot,Ft,Wt,er)}freshBind(g,tt,st,Et,Ot,Ft,Wt){let er;const nr=g.numAttributes,sr=this.context,fr=sr.gl;if(sr.extVertexArrayObject)this.vao&&this.destroy(),this.vao=sr.extVertexArrayObject.createVertexArrayOES(),sr.bindVertexArrayOES.set(this.vao),er=0,this.boundProgram=g,this.boundLayoutVertexBuffer=tt,this.boundPaintVertexBuffers=st,this.boundIndexBuffer=Et,this.boundVertexOffset=Ot,this.boundDynamicVertexBuffer=Ft,this.boundDynamicVertexBuffer2=Wt;else{er=sr.currentNumAttributes||0;for(let xr=nr;xr<er;xr++)fr.disableVertexAttribArray(xr)}tt.enableAttributes(fr,g);for(const xr of st)xr.enableAttributes(fr,g);Ft&&Ft.enableAttributes(fr,g),Wt&&Wt.enableAttributes(fr,g),tt.bind(),tt.setVertexAttribPointers(fr,g,Ot);for(const xr of st)xr.bind(),xr.setVertexAttribPointers(fr,g,Ot);Ft&&(Ft.bind(),Ft.setVertexAttribPointers(fr,g,Ot)),Et&&Et.bind(),Wt&&(Wt.bind(),Wt.setVertexAttribPointers(fr,g,Ot)),sr.currentNumAttributes=nr}destroy(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)}}function k1(nt,g){const tt=Math.pow(2,g.canonical.z),st=g.canonical.y;return[new s.MercatorCoordinate(0,st/tt).toLngLat().lat,new s.MercatorCoordinate(0,(st+1)/tt).toLngLat().lat]}function D1(nt,g,tt,st,Et,Ot,Ft){const Wt=nt.context,er=Wt.gl,nr=tt.fbo;if(!nr)return;nt.prepareDrawTile();const sr=nt.useProgram("hillshade");Wt.activeTexture.set(er.TEXTURE0),er.bindTexture(er.TEXTURE_2D,nr.colorAttachment.get());const fr=((br,Nr,Or,kr)=>{const Dr=Or.paint.get("hillshade-shadow-color"),Ur=Or.paint.get("hillshade-highlight-color"),jr=Or.paint.get("hillshade-accent-color");let Wr=Or.paint.get("hillshade-illumination-direction")*(Math.PI/180);Or.paint.get("hillshade-illumination-anchor")==="viewport"&&(Wr-=br.transform.angle);const on=!br.options.moving;return{u_matrix:kr||br.transform.calculateProjMatrix(Nr.tileID.toUnwrapped(),on),u_image:0,u_latrange:k1(0,Nr.tileID),u_light:[Or.paint.get("hillshade-exaggeration"),Wr],u_shadow:Dr,u_highlight:Ur,u_accent:jr}})(nt,tt,st,nt.terrain?g.projMatrix:null);nt.prepareDrawProgram(Wt,sr,g.toUnwrapped());const{tileBoundsBuffer:xr,tileBoundsIndexBuffer:Ar,tileBoundsSegments:Er}=nt.getTileBoundsBuffers(tt);sr.draw(Wt,er.TRIANGLES,Et,Ot,Ft,s.CullFaceMode.disabled,fr,st.id,xr,Ar,Er)}function Sm(nt,g,tt){if(!g.needsDEMTextureUpload)return;const st=nt.context,Et=st.gl;st.pixelStoreUnpackPremultiplyAlpha.set(!1),g.demTexture=g.demTexture||nt.getTileTexture(tt.stride);const Ot=tt.getPixels();g.demTexture?g.demTexture.update(Ot,{premultiply:!1}):g.demTexture=new s.Texture(st,Ot,Et.RGBA,{premultiply:!1}),g.needsDEMTextureUpload=!1}function Em(nt,g,tt,st,Et,Ot){const Ft=nt.context,Wt=Ft.gl;if(!g.dem)return;const er=g.dem;if(Ft.activeTexture.set(Wt.TEXTURE1),Sm(nt,g,er),!g.demTexture)return;g.demTexture.bind(Wt.NEAREST,Wt.CLAMP_TO_EDGE);const nr=er.dim;Ft.activeTexture.set(Wt.TEXTURE0);let sr=g.fbo;if(!sr){const Er=new s.Texture(Ft,{width:nr,height:nr,data:null},Wt.RGBA);Er.bind(Wt.LINEAR,Wt.CLAMP_TO_EDGE),sr=g.fbo=Ft.createFramebuffer(nr,nr,!0),sr.colorAttachment.set(Er.texture)}Ft.bindFramebuffer.set(sr.framebuffer),Ft.viewport.set([0,0,nr,nr]);const{tileBoundsBuffer:fr,tileBoundsIndexBuffer:xr,tileBoundsSegments:Ar}=nt.getMercatorTileBoundsBuffers();nt.useProgram("hillshadePrepare").draw(Ft,Wt.TRIANGLES,st,Et,Ot,s.CullFaceMode.disabled,((Er,br)=>{const Nr=br.stride,Or=s.create();return s.ortho(Or,0,s.EXTENT,-s.EXTENT,0,0,1),s.translate(Or,Or,[0,-s.EXTENT,0]),{u_matrix:Or,u_image:1,u_dimension:[Nr,Nr],u_zoom:Er.overscaledZ,u_unpack:br.unpackVector}})(g.tileID,er),tt.id,fr,xr,Ar),g.needsHillshadePrepare=!1}const Tm=(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_image0:new s.Uniform1i(nt,g.u_image0),u_skirt_height:new s.Uniform1f(nt,g.u_skirt_height)}),B1=(nt,g)=>({u_matrix:nt,u_image0:0,u_skirt_height:g}),N1=(nt,g,tt,st,Et,Ot)=>({u_proj_matrix:Float32Array.from(nt),u_globe_matrix:g,u_merc_matrix:tt,u_zoom_transition:st,u_merc_center:Et,u_image0:0,u_grid_matrix:Ot?Float32Array.from(Ot):new Float32Array(9)});function Dp(nt,g){return nt!=null&&g!=null&&!(!nt.hasData()||!g.hasData())&&nt.demTexture!=null&&g.demTexture!=null&&nt.tileID.key!==g.tileID.key}const ou=new class{constructor(){this.operations={}}newMorphing(nt,g,tt,st,Et){if(nt in this.operations){const Ot=this.operations[nt];Ot.to.tileID.key!==tt.tileID.key&&(Ot.queued=tt)}else this.operations[nt]={startTime:st,phase:0,duration:Et,from:g,to:tt,queued:null}}getMorphValuesForProxy(nt){if(!(nt in this.operations))return null;const g=this.operations[nt];return{from:g.from,to:g.to,phase:g.phase}}update(nt){for(const g in this.operations){const tt=this.operations[g];for(tt.phase=(nt-tt.startTime)/tt.duration;tt.phase>=1||!this._validOp(tt);)if(!this._nextOp(tt,nt)){delete this.operations[g];break}}}_nextOp(nt,g){return!!nt.queued&&(nt.from=nt.to,nt.to=nt.queued,nt.queued=null,nt.phase=0,nt.startTime=g,!0)}_validOp(nt){return nt.from.hasData()&&nt.to.hasData()}},ku={0:null,1:"TERRAIN_VERTEX_MORPHING",2:"TERRAIN_WIREFRAME"};function Am(nt,g){const tt=1<<nt.z;return!g&&(nt.x===0||nt.x===tt-1)||nt.y===0||nt.y===tt-1}const Bp=nt=>({u_matrix:nt});function Cm(nt,g,tt,st,Et){if(Et>0){const Ot=s.exported.now(),Ft=(Ot-nt.timeAdded)/Et,Wt=g?(Ot-g.timeAdded)/Et:-1,er=tt.getSource(),nr=st.coveringZoomLevel({tileSize:er.tileSize,roundZoom:er.roundZoom}),sr=!g||Math.abs(g.tileID.overscaledZ-nr)>Math.abs(nt.tileID.overscaledZ-nr),fr=sr&&nt.refreshedUponExpiration?1:s.clamp(sr?Ft:1-Wt,0,1);return nt.refreshedUponExpiration&&Ft>=1&&(nt.refreshedUponExpiration=!1),g?{opacity:1,mix:1-fr}:{opacity:fr,mix:0}}return{opacity:1,mix:0}}const Jy=2*s.mercatorZfromAltitude(1,0)*s.GLOBE_RADIUS*Math.PI;class op extends s.SourceCache{constructor(g){const tt={type:"raster-dem",maxzoom:g.transform.maxZoom},st=new Qt(ro(),null),Et=Qr("mock-dem",tt,st,g.style);super("mock-dem",Et,!1),Et.setEventedParent(this),this._sourceLoaded=!0}_loadTile(g,tt){g.state="loaded",tt(null)}}class sp extends s.SourceCache{constructor(g){const tt=Qr("proxy",{type:"geojson",maxzoom:g.transform.maxZoom},new Qt(ro(),null),g.style);super("proxy",tt,!1),tt.setEventedParent(this),this.map=this.getSource().map=g,this.used=this._sourceLoaded=!0,this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}update(g,tt,st){if(g.freezeTileCoverage)return;this.transform=g;const Et=g.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}).reduce((Ot,Ft)=>{if(Ot[Ft.key]="",!this._tiles[Ft.key]){const Wt=new s.Tile(Ft,this._source.tileSize*Ft.overscaleFactor(),g.tileZoom);Wt.state="loaded",this._tiles[Ft.key]=Wt}return Ot},{});for(const Ot in this._tiles)Ot in Et||(this.freeFBO(Ot),this._tiles[Ot].unloadVectorData(),delete this._tiles[Ot])}freeFBO(g){const tt=this.proxyCachedFBO[g];if(tt!==void 0){const st=Object.values(tt);this.renderCachePool.push(...st),delete this.proxyCachedFBO[g]}}deallocRenderCache(){this.renderCache.forEach(g=>g.fb.destroy()),this.renderCache=[],this.renderCachePool=[],this.proxyCachedFBO={}}}class Rm extends s.OverscaledTileID{constructor(g,tt,st){super(g.overscaledZ,g.wrap,g.canonical.z,g.canonical.x,g.canonical.y),this.proxyTileKey=tt,this.projMatrix=st}}class ca extends s.Elevation{constructor(g,tt){super(),this.painter=g,this.terrainTileForTile={},this.prevTerrainTileForTile={};const[st,Et,Ot]=function(er){const nr=new s.StructArrayLayout4i8,sr=new s.StructArrayLayout3ui6,fr=131;nr.reserve(17161),sr.reserve(33800);const xr=s.EXTENT/128,Ar=s.EXTENT+xr/2,Er=Ar+xr;for(let Nr=-xr;Nr<Er;Nr+=xr)for(let Or=-xr;Or<Er;Or+=xr){const kr=Or<0||Or>Ar||Nr<0||Nr>Ar?24575:0,Dr=s.clamp(Math.round(Or),0,s.EXTENT),Ur=s.clamp(Math.round(Nr),0,s.EXTENT);nr.emplaceBack(Dr+kr,Ur,Dr,Ur)}const br=(Nr,Or)=>{const kr=Or*fr+Nr;sr.emplaceBack(kr+1,kr,kr+fr),sr.emplaceBack(kr+fr,kr+fr+1,kr+1)};for(let Nr=1;Nr<129;Nr++)for(let Or=1;Or<129;Or++)br(Or,Nr);return[0,129].forEach(Nr=>{for(let Or=0;Or<130;Or++)br(Or,Nr),br(Nr,Or)}),[nr,sr,32768]}(),Ft=g.context;this.gridBuffer=Ft.createVertexBuffer(st,s.boundsAttributes.members),this.gridIndexBuffer=Ft.createIndexBuffer(Et),this.gridSegments=s.SegmentVector.simpleSegment(0,0,st.length,Et.length),this.gridNoSkirtSegments=s.SegmentVector.simpleSegment(0,0,st.length,Ot),this.proxyCoords=[],this.proxiedCoords={},this._visibleDemTiles=[],this._drapedRenderBatches=[],this._sourceTilesOverlap={},this.proxySourceCache=new sp(tt.map),this.orthoMatrix=s.create(),s.ortho(this.orthoMatrix,0,s.EXTENT,0,s.EXTENT,0,1);const Wt=Ft.gl;this._overlapStencilMode=new s.StencilMode({func:Wt.GEQUAL,mask:255},0,255,Wt.KEEP,Wt.KEEP,Wt.REPLACE),this._previousZoom=g.transform.zoom,this.pool=[],this._findCoveringTileCache={},this._tilesDirty={},this.style=tt,this._useVertexMorphing=!0,this._exaggeration=1,this._mockSourceCache=new op(tt.map)}set style(g){g.on("data",this._onStyleDataEvent.bind(this)),g.on("neworder",this._checkRenderCacheEfficiency.bind(this)),this._style=g,this._checkRenderCacheEfficiency()}update(g,tt,st){if(g&&g.terrain){this._style!==g&&(this.style=g),this.enabled=!0;const Et=g.terrain.properties;this.sourceCache=g.terrain.drapeRenderMode===0?this._mockSourceCache:g._getSourceCache(Et.get("source")),this._exaggeration=Et.get("exaggeration");const Ot=()=>{this.sourceCache.used&&s.warnOnce(`Raster DEM source '${this.sourceCache.id}' is used both for terrain and as layer source.
This leads to lower resolution of hillshade. For full hillshade resolution but higher memory consumption, define another raster DEM source.`);const Ft=this.getScaledDemTileSize();this.sourceCache.update(tt,Ft,!0),this.resetTileLookupCache(this.sourceCache.id)};this.sourceCache.usedForTerrain||(this.resetTileLookupCache(this.sourceCache.id),this.sourceCache.usedForTerrain=!0,Ot(),this._initializing=!0),Ot(),tt.updateElevation(!st),this.resetTileLookupCache(this.proxySourceCache.id),this.proxySourceCache.update(tt),this._emptyDEMTextureDirty=!0}else this._disable()}resetTileLookupCache(g){this._findCoveringTileCache[g]={}}getScaledDemTileSize(){return this.sourceCache.getSource().tileSize/128*this.proxySourceCache.getSource().tileSize}_checkRenderCacheEfficiency(){const g=this.renderCacheEfficiency(this._style);this._style.map._optimizeForTerrain||g.efficiency!==100&&s.warnOnce(`Terrain render cache efficiency is not optimal (${g.efficiency}%) and performance
                may be affected negatively, consider placing all background, fill and line layers before layer
                with id '${g.firstUndrapedLayer}' or create a map using optimizeForTerrain: true option.`)}_onStyleDataEvent(g){g.coord&&g.dataType==="source"?this._clearRenderCacheForTile(g.sourceCacheId,g.coord):g.dataType==="style"&&(this._invalidateRenderCache=!0)}_disable(){if(this.enabled&&(this.enabled=!1,this._sharedDepthStencil=void 0,this.proxySourceCache.deallocRenderCache(),this._style))for(const g in this._style._sourceCaches)this._style._sourceCaches[g].usedForTerrain=!1}destroy(){this._disable(),this._emptyDEMTexture&&this._emptyDEMTexture.destroy(),this._emptyDepthBufferTexture&&this._emptyDepthBufferTexture.destroy(),this.pool.forEach(g=>g.fb.destroy()),this.pool=[],this._depthFBO&&(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0)}_source(){return this.enabled?this.sourceCache:null}exaggeration(){return this._exaggeration}get visibleDemTiles(){return this._visibleDemTiles}get drapeBufferSize(){const g=2*this.proxySourceCache.getSource().tileSize;return[g,g]}set useVertexMorphing(g){this._useVertexMorphing=g}updateTileBinding(g){if(!this.enabled)return;this.prevTerrainTileForTile=this.terrainTileForTile;const tt=this.proxySourceCache,st=this.painter.transform;this._initializing&&(this._initializing=st._centerAltitude===0&&this.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(st.center),-1)===-1,this._emptyDEMTextureDirty=!this._initializing);const Et=this.proxyCoords=tt.getIds().map(er=>{const nr=tt.getTileByID(er).tileID;return nr.projMatrix=st.calculateProjMatrix(nr.toUnwrapped()),nr});(function(er,nr){const sr=nr.transform.pointCoordinate(nr.transform.getCameraPoint()),fr=new s.pointGeometry(sr.x,sr.y);er.sort((xr,Ar)=>{if(Ar.overscaledZ-xr.overscaledZ)return Ar.overscaledZ-xr.overscaledZ;const Er=new s.pointGeometry(xr.canonical.x+(1<<xr.canonical.z)*xr.wrap,xr.canonical.y),br=new s.pointGeometry(Ar.canonical.x+(1<<Ar.canonical.z)*Ar.wrap,Ar.canonical.y),Nr=fr.mult(1<<xr.canonical.z);return Nr.x-=.5,Nr.y-=.5,Nr.distSqr(Er)-Nr.distSqr(br)})})(Et,this.painter),this._previousZoom=st.zoom;const Ot=this.proxyToSource||{};this.proxyToSource={},Et.forEach(er=>{this.proxyToSource[er.key]={}}),this.terrainTileForTile={};const Ft=this._style._sourceCaches;for(const er in Ft){const nr=Ft[er];if(!nr.used||(nr!==this.sourceCache&&this.resetTileLookupCache(nr.id),this._setupProxiedCoordsForOrtho(nr,g[er],Ot),nr.usedForTerrain))continue;const sr=g[er];nr.getSource().reparseOverscaled&&this._assignTerrainTiles(sr)}this.proxiedCoords[tt.id]=Et.map(er=>new Rm(er,er.key,this.orthoMatrix)),this._assignTerrainTiles(Et),this._prepareDEMTextures(),this._setupDrapedRenderBatches(),this._initFBOPool(),this._setupRenderCache(Ot),this.renderingToTexture=!1,this._updateTimestamp=s.exported.now();const Wt={};this._visibleDemTiles=[];for(const er of this.proxyCoords){const nr=this.terrainTileForTile[er.key];if(!nr)continue;const sr=nr.tileID.key;sr in Wt||(this._visibleDemTiles.push(nr),Wt[sr]=sr)}}_assignTerrainTiles(g){this._initializing||g.forEach(tt=>{if(this.terrainTileForTile[tt.key])return;const st=this._findTileCoveringTileID(tt,this.sourceCache);st&&(this.terrainTileForTile[tt.key]=st)})}_prepareDEMTextures(){const g=this.painter.context,tt=g.gl;for(const st in this.terrainTileForTile){const Et=this.terrainTileForTile[st],Ot=Et.dem;!Ot||Et.demTexture&&!Et.needsDEMTextureUpload||(g.activeTexture.set(tt.TEXTURE1),Sm(this.painter,Et,Ot))}}_prepareDemTileUniforms(g,tt,st,Et){if(!tt||tt.demTexture==null)return!1;const Ot=g.tileID.canonical,Ft=Math.pow(2,tt.tileID.canonical.z-Ot.z),Wt=Et||"";return st[`u_dem_tl${Wt}`]=[Ot.x*Ft%1,Ot.y*Ft%1],st[`u_dem_scale${Wt}`]=Ft,!0}get emptyDEMTexture(){return!this._emptyDEMTextureDirty&&this._emptyDEMTexture?this._emptyDEMTexture:this._updateEmptyDEMTexture()}get emptyDepthBufferTexture(){const g=this.painter.context,tt=g.gl;if(!this._emptyDepthBufferTexture){const st=new s.RGBAImage({width:1,height:1},Uint8Array.of(255,255,255,255));this._emptyDepthBufferTexture=new s.Texture(g,st,tt.RGBA,{premultiply:!1})}return this._emptyDepthBufferTexture}_getLoadedAreaMinimum(){let g=0;const tt=this._visibleDemTiles.reduce((st,Et)=>{if(!Et.dem)return st;const Ot=Et.dem.tree.minimums[0];return Ot>0&&g++,st+Ot},0);return g?tt/g:0}_updateEmptyDEMTexture(){const g=this.painter.context,tt=g.gl;g.activeTexture.set(tt.TEXTURE2);const st=this._getLoadedAreaMinimum(),Et=new s.RGBAImage({width:1,height:1},new Uint8Array(s.DEMData.pack(st,this.sourceCache.getSource().encoding)));this._emptyDEMTextureDirty=!1;let Ot=this._emptyDEMTexture;return Ot?Ot.update(Et,{premultiply:!1}):Ot=this._emptyDEMTexture=new s.Texture(g,Et,tt.RGBA,{premultiply:!1}),Ot}setupElevationDraw(g,tt,st){const Et=this.painter.context,Ot=Et.gl,Ft=(Wt=this.sourceCache.getSource().encoding,{u_dem:2,u_dem_prev:4,u_dem_unpack:s.DEMData.getUnpackVector(Wt),u_dem_tl:[0,0],u_dem_tl_prev:[0,0],u_dem_scale:0,u_dem_scale_prev:0,u_dem_size:0,u_dem_lerp:1,u_depth:3,u_depth_size_inv:[0,0],u_exaggeration:0,u_tile_tl_up:[0,0,1],u_tile_tr_up:[0,0,1],u_tile_br_up:[0,0,1],u_tile_bl_up:[0,0,1],u_tile_up_scale:1});var Wt;Ft.u_dem_size=this.sourceCache.getSource().tileSize,Ft.u_exaggeration=this.exaggeration();const er=this.painter.transform,nr=er.projection,sr=g.tileID.canonical;Ft.u_tile_tl_up=nr.upVector(sr,0,0),Ft.u_tile_tr_up=nr.upVector(sr,s.EXTENT,0),Ft.u_tile_br_up=nr.upVector(sr,s.EXTENT,s.EXTENT),Ft.u_tile_bl_up=nr.upVector(sr,0,s.EXTENT),Ft.u_tile_up_scale=st&&st.useDenormalizedUpVectorScale?Jy:nr.upVectorScale(sr,er.center.lat,er.worldSize).metersToTile;let fr=null,xr=null,Ar=1;if(st&&st.morphing&&this._useVertexMorphing){const Er=st.morphing.srcDemTile,br=st.morphing.dstDemTile;Ar=st.morphing.phase,Er&&br&&(this._prepareDemTileUniforms(g,Er,Ft,"_prev")&&(xr=Er),this._prepareDemTileUniforms(g,br,Ft)&&(fr=br))}if(xr&&fr?(Et.activeTexture.set(Ot.TEXTURE2),fr.demTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE,Ot.NEAREST),Et.activeTexture.set(Ot.TEXTURE4),xr.demTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE,Ot.NEAREST),Ft.u_dem_lerp=Ar):(fr=this.terrainTileForTile[g.tileID.key],Et.activeTexture.set(Ot.TEXTURE2),(this._prepareDemTileUniforms(g,fr,Ft)?fr.demTexture:this.emptyDEMTexture).bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE)),Et.activeTexture.set(Ot.TEXTURE3),st&&st.useDepthForOcclusion?(this._depthTexture&&this._depthTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE),this._depthFBO&&(Ft.u_depth_size_inv=[1/this._depthFBO.width,1/this._depthFBO.height])):(this.emptyDepthBufferTexture.bind(Ot.NEAREST,Ot.CLAMP_TO_EDGE),Ft.u_depth_size_inv=[1,1]),st&&st.useMeterToDem&&fr){const Er=(1<<fr.tileID.canonical.z)*s.mercatorZfromAltitude(1,this.painter.transform.center.lat)*this.sourceCache.getSource().tileSize;Ft.u_meter_to_dem=Er}st&&st.labelPlaneMatrixInv&&(Ft.u_label_plane_matrix_inv=st.labelPlaneMatrixInv),tt.setTerrainUniformValues(Et,Ft)}renderToBackBuffer(g){const tt=this.painter,st=this.painter.context;g.length!==0&&(st.bindFramebuffer.set(null),st.viewport.set([0,0,tt.width,tt.height]),this.renderingToTexture=!1,function(Et,Ot,Ft,Wt,er){if(Et.transform.projection.name==="globe")(function(nr,sr,fr,xr,Ar){const Er=nr.context,br=Er.gl;let Nr,Or;const kr=nr.options.showTerrainWireframe?2:0,Dr=(yn,jn)=>{if(Or===yn)return;const sn=[ku[yn],"PROJECTION_GLOBE_VIEW"];jn&&sn.push(ku[kr]),Nr=nr.useProgram("globeRaster",null,sn),Or=yn},Ur=nr.colorModeForRenderPass(),jr=new s.DepthMode(br.LEQUAL,s.DepthMode.ReadWrite,nr.depthRangeFor3D);ou.update(Ar);const Wr=nr.transform,on=s.calculateGlobeMercatorMatrix(Wr),pn=[s.mercatorXfromLng(Wr.center.lng),s.mercatorYfromLat(Wr.center.lat)],vn=nr.globeSharedBuffers;if((kr?[!1,!0]:[!1]).forEach(yn=>{Or=-1;const jn=yn?br.LINES:br.TRIANGLES;for(const sn of xr){const kn=fr.getTile(sn),On=s.StencilMode.disabled,Yn=sr.prevTerrainTileForTile[sn.key],bn=sr.terrainTileForTile[sn.key];Dp(Yn,bn)&&ou.newMorphing(sn.key,Yn,bn,Ar,250),Er.activeTexture.set(br.TEXTURE0),kn.texture.bind(br.LINEAR,br.CLAMP_TO_EDGE);const Gn=ou.getMorphValuesForProxy(sn.key),eo=Gn?1:0,$n={useDenormalizedUpVectorScale:!0};Gn&&s.extend$1($n,{morphing:{srcDemTile:Gn.from,dstDemTile:Gn.to,phase:s.easeCubicInOut(Gn.phase)}});const qn=Float32Array.from(Wr.globeMatrix),no=s.globeTileLatLngCorners(sn.canonical),po=s.getGridMatrix(sn.canonical,no),_i=N1(Wr.projMatrix,qn,on,s.globeToMercatorTransition(Wr.zoom),pn,po);if(Dr(eo,yn),sr.setupElevationDraw(kn,Nr,$n),nr.prepareDrawProgram(Er,Nr,sn.toUnwrapped()),vn){const[oo,Ao,Jo]=yn?vn.getWirefameBuffers(nr.context):vn.getGridBuffers();Nr.draw(Er,jn,jr,On,Ur,s.CullFaceMode.backCCW,_i,"globe_raster",oo,Ao,Jo)}}}),vn){Nr=nr.useProgram("globeRaster",null,["GLOBE_POLES","PROJECTION_GLOBE_VIEW"]);for(const yn of xr){const{x:jn,y:sn,z:kn}=yn.canonical,On=sn===0,Yn=sn===(1<<kn)-1,[bn,Gn,eo,$n]=vn.getPoleBuffers(kn);if($n&&(On||Yn)){const qn=fr.getTile(yn);Er.activeTexture.set(br.TEXTURE0),qn.texture.bind(br.LINEAR,br.CLAMP_TO_EDGE);let no=s.globePoleMatrixForTile(kn,jn,Wr);const po=(_i,oo)=>_i.draw(Er,br.TRIANGLES,jr,s.StencilMode.disabled,Ur,s.CullFaceMode.disabled,N1(Wr.projMatrix,no,no,0,pn),"globe_pole_raster",oo,eo,$n);sr.setupElevationDraw(qn,Nr,{}),nr.prepareDrawProgram(Er,Nr,yn.toUnwrapped()),On&&po(Nr,bn),Yn&&(no=s.scale(s.create(),no,[1,-1,1]),po(Nr,Gn))}}}})(Et,Ot,Ft,Wt,er);else{const nr=Et.context,sr=nr.gl;let fr,xr;const Ar=Et.options.showTerrainWireframe?2:0,Er=(Dr,Ur)=>{if(xr===Dr)return;const jr=[ku[Dr]];Ur&&jr.push(ku[Ar]),fr=Et.useProgram("terrainRaster",null,jr),xr=Dr},br=Et.colorModeForRenderPass(),Nr=new s.DepthMode(sr.LEQUAL,s.DepthMode.ReadWrite,Et.depthRangeFor3D);ou.update(er);const Or=Et.transform,kr=6*Math.pow(1.5,22-Or.zoom)*Ot.exaggeration();(Ar?[!1,!0]:[!1]).forEach(Dr=>{xr=-1;const Ur=Dr?sr.LINES:sr.TRIANGLES,[jr,Wr]=Dr?Ot.getWirefameBuffer():[Ot.gridIndexBuffer,Ot.gridSegments];for(const on of Wt){const pn=Ft.getTile(on),vn=s.StencilMode.disabled,yn=Ot.prevTerrainTileForTile[on.key],jn=Ot.terrainTileForTile[on.key];Dp(yn,jn)&&ou.newMorphing(on.key,yn,jn,er,250),nr.activeTexture.set(sr.TEXTURE0),pn.texture.bind(sr.LINEAR,sr.CLAMP_TO_EDGE,sr.LINEAR_MIPMAP_NEAREST);const sn=ou.getMorphValuesForProxy(on.key),kn=sn?1:0;let On;sn&&(On={morphing:{srcDemTile:sn.from,dstDemTile:sn.to,phase:s.easeCubicInOut(sn.phase)}});const Yn=B1(on.projMatrix,Am(on.canonical,Or.renderWorldCopies)?kr/10:kr);Er(kn,Dr),Ot.setupElevationDraw(pn,fr,On),Et.prepareDrawProgram(nr,fr,on.toUnwrapped()),fr.draw(nr,Ur,Nr,vn,br,s.CullFaceMode.backCCW,Yn,"terrain_raster",Ot.gridBuffer,jr,Wr)}})}}(tt,this,this.proxySourceCache,g,this._updateTimestamp),this.renderingToTexture=!0,g.splice(0,g.length))}renderBatch(g){if(this._drapedRenderBatches.length===0)return g+1;this.renderingToTexture=!0;const tt=this.painter,st=this.painter.context,Et=this.proxySourceCache,Ot=this.proxiedCoords[Et.id],Ft=this._drapedRenderBatches.shift(),Wt=[],er=tt.style.order;let nr=0;for(const sr of Ot){const fr=Et.getTileByID(sr.proxyTileKey),xr=Et.proxyCachedFBO[sr.key]?Et.proxyCachedFBO[sr.key][g]:void 0,Ar=xr!==void 0?Et.renderCache[xr]:this.pool[nr++],Er=xr!==void 0;if(fr.texture=Ar.tex,Er&&!Ar.dirty){Wt.push(fr.tileID);continue}let br;st.bindFramebuffer.set(Ar.fb.framebuffer),this.renderedToTile=!1,Ar.dirty&&(st.clear({color:s.Color.transparent,stencil:0}),Ar.dirty=!1);for(let Nr=Ft.start;Nr<=Ft.end;++Nr){const Or=tt.style._layers[er[Nr]];if(Or.isHidden(tt.transform.zoom))continue;const kr=tt.style._getLayerSourceCache(Or),Dr=kr?this.proxyToSource[sr.key][kr.id]:[sr];if(!Dr)continue;const Ur=Dr;st.viewport.set([0,0,Ar.fb.width,Ar.fb.height]),br!==(kr?kr.id:null)&&(this._setupStencil(Ar,Dr,Or,kr),br=kr?kr.id:null),tt.renderLayer(tt,kr,Or,Ur)}this.renderedToTile?(Ar.dirty=!0,Wt.push(fr.tileID)):Er||--nr,nr===5&&(nr=0,this.renderToBackBuffer(Wt))}return this.renderToBackBuffer(Wt),this.renderingToTexture=!1,st.bindFramebuffer.set(null),st.viewport.set([0,0,tt.width,tt.height]),Ft.end+1}postRender(){}renderCacheEfficiency(g){const tt=g.order.length;if(tt===0)return{efficiency:100};let st,Et=0,Ot=0,Ft=!1;for(let Wt=0;Wt<tt;++Wt){const er=g._layers[g.order[Wt]];this._style.isLayerDraped(er)?(Ft&&++Et,++Ot):Ft||(Ft=!0,st=er.id)}return Ot===0?{efficiency:100}:{efficiency:100*(1-Et/Ot),firstUndrapedLayer:st}}getMinElevationBelowMSL(){let g=0;return this._visibleDemTiles.filter(tt=>tt.dem).forEach(tt=>{g=Math.min(g,tt.dem.tree.minimums[0])}),g===0?g:(g-30)*this._exaggeration}raycast(g,tt,st){if(!this._visibleDemTiles)return null;const Et=this._visibleDemTiles.filter(Ot=>Ot.dem).map(Ot=>{const Ft=Ot.tileID,Wt=Math.pow(2,Ft.overscaledZ),{x:er,y:nr}=Ft.canonical,sr=er/Wt,fr=(er+1)/Wt,xr=nr/Wt,Ar=(nr+1)/Wt;return{minx:sr,miny:xr,maxx:fr,maxy:Ar,t:Ot.dem.tree.raycastRoot(sr,xr,fr,Ar,g,tt,st),tile:Ot}});Et.sort((Ot,Ft)=>(Ot.t!==null?Ot.t:Number.MAX_VALUE)-(Ft.t!==null?Ft.t:Number.MAX_VALUE));for(const Ot of Et){if(Ot.t==null)return null;const Ft=Ot.tile.dem.tree.raycast(Ot.minx,Ot.miny,Ot.maxx,Ot.maxy,g,tt,st);if(Ft!=null)return Ft}return null}_createFBO(){const g=this.painter.context,tt=g.gl,st=this.drapeBufferSize;g.activeTexture.set(tt.TEXTURE0);const Et=new s.Texture(g,{width:st[0],height:st[1],data:null},tt.RGBA);Et.bind(tt.LINEAR,tt.CLAMP_TO_EDGE);const Ot=g.createFramebuffer(st[0],st[1],!1);return Ot.colorAttachment.set(Et.texture),Ot.depthAttachment=new Ks(g,Ot.framebuffer),this._sharedDepthStencil===void 0?(this._sharedDepthStencil=g.createRenderbuffer(g.gl.DEPTH_STENCIL,st[0],st[1]),this._stencilRef=0,Ot.depthAttachment.set(this._sharedDepthStencil),g.clear({stencil:0})):Ot.depthAttachment.set(this._sharedDepthStencil),g.extTextureFilterAnisotropic&&!g.extTextureFilterAnisotropicForceOff&&tt.texParameterf(tt.TEXTURE_2D,g.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,g.extTextureFilterAnisotropicMax),{fb:Ot,tex:Et,dirty:!1}}_initFBOPool(){for(;this.pool.length<Math.min(5,this.proxyCoords.length);)this.pool.push(this._createFBO())}_shouldDisableRenderCache(){if(this._style.light&&this._style.light.hasTransition())return!0;for(const g in this._style._sourceCaches)if(this._style._sourceCaches[g].hasTransition())return!0;return this._style.order.some(g=>{const tt=this._style._layers[g],st=tt.isHidden(this.painter.transform.zoom),Et=tt.getCrossfadeParameters(),Ot=!!Et&&Et.t!==1,Ft=tt.hasTransition();return tt.type!=="custom"&&!st&&(Ot||Ft)})}_clearRasterFadeFromRenderCache(){let g=!1;for(const tt in this._style._sourceCaches)if(this._style._sourceCaches[tt]._source instanceof yr){g=!0;break}if(g)for(let tt=0;tt<this._style.order.length;++tt){const st=this._style._layers[this._style.order[tt]],Et=st.isHidden(this.painter.transform.zoom),Ot=this._style._getLayerSourceCache(st);if(st.type!=="raster"||Et||!Ot)continue;const Ft=st.paint.get("raster-fade-duration");for(const Wt of this.proxyCoords){const er=this.proxyToSource[Wt.key][Ot.id];if(er)for(const nr of er){const sr=Cm(Ot.getTile(nr),Ot.findLoadedParent(nr,0),Ot,this.painter.transform,Ft);(sr.opacity!==1||sr.mix!==0)&&this._clearRenderCacheForTile(Ot.id,nr)}}}}_setupDrapedRenderBatches(){const g=this._style.order,tt=g.length;if(tt===0)return;const st=[];let Et,Ot=0,Ft=this._style._layers[g[Ot]];for(;!this._style.isLayerDraped(Ft)&&Ft.isHidden(this.painter.transform.zoom)&&++Ot<tt;)Ft=this._style._layers[g[Ot]];for(;Ot<tt;++Ot){const Wt=this._style._layers[g[Ot]];Wt.isHidden(this.painter.transform.zoom)||(this._style.isLayerDraped(Wt)?Et===void 0&&(Et=Ot):Et!==void 0&&(st.push({start:Et,end:Ot-1}),Et=void 0))}Et!==void 0&&st.push({start:Et,end:Ot-1}),this._drapedRenderBatches=st}_setupRenderCache(g){const tt=this.proxySourceCache;if(this._shouldDisableRenderCache()||this._invalidateRenderCache){if(this._invalidateRenderCache=!1,tt.renderCache.length>tt.renderCachePool.length){const Ft=Object.values(tt.proxyCachedFBO);tt.proxyCachedFBO={};for(let Wt=0;Wt<Ft.length;++Wt){const er=Object.values(Ft[Wt]);tt.renderCachePool.push(...er)}}return}this._clearRasterFadeFromRenderCache();const st=this.proxyCoords,Et=this._tilesDirty;for(let Ft=st.length-1;Ft>=0;Ft--){const Wt=st[Ft];if(tt.getTileByID(Wt.key),tt.proxyCachedFBO[Wt.key]!==void 0){const er=g[Wt.key],nr=this.proxyToSource[Wt.key];let sr=0;for(const fr in nr){const xr=nr[fr],Ar=er[fr];if(!Ar||Ar.length!==xr.length||xr.some((Er,br)=>Er!==Ar[br]||Et[fr]&&Et[fr].hasOwnProperty(Er.key))){sr=-1;break}++sr}for(const fr in tt.proxyCachedFBO[Wt.key])tt.renderCache[tt.proxyCachedFBO[Wt.key][fr]].dirty=sr<0||sr!==Object.values(er).length}}const Ot=[...this._drapedRenderBatches];Ot.sort((Ft,Wt)=>Wt.end-Wt.start-(Ft.end-Ft.start));for(const Ft of Ot)for(const Wt of st){if(tt.proxyCachedFBO[Wt.key])continue;let er=tt.renderCachePool.pop();er===void 0&&tt.renderCache.length<50&&(er=tt.renderCache.length,tt.renderCache.push(this._createFBO())),er!==void 0&&(tt.proxyCachedFBO[Wt.key]={},tt.proxyCachedFBO[Wt.key][Ft.start]=er,tt.renderCache[er].dirty=!0)}this._tilesDirty={}}_setupStencil(g,tt,st,Et){if(!Et||!this._sourceTilesOverlap[Et.id])return void(this._overlapStencilType&&(this._overlapStencilType=!1));const Ot=this.painter.context,Ft=Ot.gl;if(tt.length<=1)return void(this._overlapStencilType=!1);let Wt;if(st.isTileClipped())Wt=tt.length,this._overlapStencilMode.test={func:Ft.EQUAL,mask:255},this._overlapStencilType="Clip";else{if(!(tt[0].overscaledZ>tt[tt.length-1].overscaledZ))return void(this._overlapStencilType=!1);Wt=1,this._overlapStencilMode.test={func:Ft.GREATER,mask:255},this._overlapStencilType="Mask"}this._stencilRef+Wt>255&&(Ot.clear({stencil:0}),this._stencilRef=0),this._stencilRef+=Wt,this._overlapStencilMode.ref=this._stencilRef,st.isTileClipped()&&this._renderTileClippingMasks(tt,this._overlapStencilMode.ref)}clipOrMaskOverlapStencilType(){return this._overlapStencilType==="Clip"||this._overlapStencilType==="Mask"}stencilModeForRTTOverlap(g){return this.renderingToTexture&&this._overlapStencilType?(this._overlapStencilType==="Clip"&&(this._overlapStencilMode.ref=this.painter._tileClippingMaskIDs.get(g.key)||0),this._overlapStencilMode):s.StencilMode.disabled}_renderTileClippingMasks(g,tt){const st=this.painter,Et=this.painter.context,Ot=Et.gl;st._tileClippingMaskIDs.clear(),Et.setColorMode(s.ColorMode.disabled),Et.setDepthMode(s.DepthMode.disabled);const Ft=st.useProgram("clippingMask");for(const Wt of g){const er=--tt;st._tileClippingMaskIDs.set(Wt.key,er),Ft.draw(Et,Ot.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:Ot.ALWAYS,mask:0},er,255,Ot.KEEP,Ot.KEEP,Ot.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,Bp(Wt.projMatrix),"$clipping",st.tileExtentBuffer,st.quadTriangleIndexBuffer,st.tileExtentSegments)}}pointCoordinate(g){const tt=this.painter.transform;if(g.x<0||g.x>tt.width||g.y<0||g.y>tt.height)return null;const st=[g.x,g.y,1,1];s.transformMat4$1(st,st,tt.pixelMatrixInverse),s.scale$1(st,st,1/st[3]),st[0]/=tt.worldSize,st[1]/=tt.worldSize;const Et=tt._camera.position,Ot=s.mercatorZfromAltitude(1,tt.center.lat),Ft=[Et[0],Et[1],Et[2]/Ot,0],Wt=s.subtract([],st.slice(0,3),Ft);s.normalize(Wt,Wt);const er=this.raycast(Ft,Wt,this._exaggeration);return er!==null&&er?(s.scaleAndAdd(Ft,Ft,Wt,er),Ft[3]=Ft[2],Ft[2]*=Ot,Ft):null}drawDepth(){const g=this.painter,tt=g.context,st=this.proxySourceCache,Et=Math.ceil(g.width),Ot=Math.ceil(g.height);if(!this._depthFBO||this._depthFBO.width===Et&&this._depthFBO.height===Ot||(this._depthFBO.destroy(),this._depthFBO=void 0,this._depthTexture=void 0),!this._depthFBO){const Ft=tt.gl,Wt=tt.createFramebuffer(Et,Ot,!0);tt.activeTexture.set(Ft.TEXTURE0);const er=new s.Texture(tt,{width:Et,height:Ot,data:null},Ft.RGBA);er.bind(Ft.NEAREST,Ft.CLAMP_TO_EDGE),Wt.colorAttachment.set(er.texture);const nr=tt.createRenderbuffer(tt.gl.DEPTH_COMPONENT16,Et,Ot);Wt.depthAttachment.set(nr),this._depthFBO=Wt,this._depthTexture=er}tt.bindFramebuffer.set(this._depthFBO.framebuffer),tt.viewport.set([0,0,Et,Ot]),function(Ft,Wt,er,nr){if(Ft.transform.projection.name==="globe")return;const sr=Ft.context,fr=sr.gl;sr.clear({depth:1});const xr=Ft.useProgram("terrainDepth"),Ar=new s.DepthMode(fr.LESS,s.DepthMode.ReadWrite,Ft.depthRangeFor3D);for(const Er of nr){const br=er.getTile(Er),Nr=B1(Er.projMatrix,0);Wt.setupElevationDraw(br,xr),xr.draw(sr,fr.TRIANGLES,Ar,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.backCCW,Nr,"terrain_depth",Wt.gridBuffer,Wt.gridIndexBuffer,Wt.gridNoSkirtSegments)}}(g,this,st,this.proxyCoords)}_setupProxiedCoordsForOrtho(g,tt,st){if(g.getSource()instanceof Hr)return this._setupProxiedCoordsForImageSource(g,tt,st);this._findCoveringTileCache[g.id]=this._findCoveringTileCache[g.id]||{};const Et=this.proxiedCoords[g.id]=[],Ot=this.proxyCoords;for(let Wt=0;Wt<Ot.length;Wt++){const er=Ot[Wt],nr=this._findTileCoveringTileID(er,g);if(nr){const sr=this._createProxiedId(er,nr,st[er.key]&&st[er.key][g.id]);Et.push(sr),this.proxyToSource[er.key][g.id]=[sr]}}let Ft=!1;for(let Wt=0;Wt<tt.length;Wt++){const er=g.getTile(tt[Wt]);if(!er||!er.hasData())continue;const nr=this._findTileCoveringTileID(er.tileID,this.proxySourceCache);if(nr&&nr.tileID.canonical.z!==er.tileID.canonical.z){const sr=this.proxyToSource[nr.tileID.key][g.id],fr=this._createProxiedId(nr.tileID,er,st[nr.tileID.key]&&st[nr.tileID.key][g.id]);sr?sr.splice(sr.length-1,0,fr):this.proxyToSource[nr.tileID.key][g.id]=[fr],Et.push(fr),Ft=!0}}this._sourceTilesOverlap[g.id]=Ft}_setupProxiedCoordsForImageSource(g,tt,st){if(!g.getSource().loaded())return;const Et=this.proxiedCoords[g.id]=[],Ot=this.proxyCoords,Ft=g.getSource(),Wt=new s.pointGeometry(Ft.tileID.x,Ft.tileID.y)._div(1<<Ft.tileID.z),er=Ft.coordinates.map(s.MercatorCoordinate.fromLngLat).reduce((sr,fr)=>(sr.min.x=Math.min(sr.min.x,fr.x-Wt.x),sr.min.y=Math.min(sr.min.y,fr.y-Wt.y),sr.max.x=Math.max(sr.max.x,fr.x-Wt.x),sr.max.y=Math.max(sr.max.y,fr.y-Wt.y),sr),{min:new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE),max:new s.pointGeometry(-Number.MAX_VALUE,-Number.MAX_VALUE)}),nr=(sr,fr)=>{const xr=sr.wrap+sr.canonical.x/(1<<sr.canonical.z),Ar=sr.canonical.y/(1<<sr.canonical.z),Er=s.EXTENT/(1<<sr.canonical.z),br=fr.wrap+fr.canonical.x/(1<<fr.canonical.z),Nr=fr.canonical.y/(1<<fr.canonical.z);return xr+Er<br+er.min.x||xr>br+er.max.x||Ar+Er<Nr+er.min.y||Ar>Nr+er.max.y};for(let sr=0;sr<Ot.length;sr++){const fr=Ot[sr];for(let xr=0;xr<tt.length;xr++){const Ar=g.getTile(tt[xr]);if(!Ar||!Ar.hasData()||nr(fr,Ar.tileID))continue;const Er=this._createProxiedId(fr,Ar,st[fr.key]&&st[fr.key][g.id]),br=this.proxyToSource[fr.key][g.id];br?br.push(Er):this.proxyToSource[fr.key][g.id]=[Er],Et.push(Er)}}}_createProxiedId(g,tt,st){let Et=this.orthoMatrix;if(st){const Ot=st.find(Ft=>Ft.key===tt.tileID.key);if(Ot)return Ot}if(tt.tileID.key!==g.key){const Ot=g.canonical.z-tt.tileID.canonical.z;let Ft,Wt,er;Et=s.create();const nr=tt.tileID.wrap-g.wrap<<g.overscaledZ;Ot>0?(Ft=s.EXTENT>>Ot,Wt=Ft*((tt.tileID.canonical.x<<Ot)-g.canonical.x+nr),er=Ft*((tt.tileID.canonical.y<<Ot)-g.canonical.y)):(Ft=s.EXTENT<<-Ot,Wt=s.EXTENT*(tt.tileID.canonical.x-(g.canonical.x+nr<<-Ot)),er=s.EXTENT*(tt.tileID.canonical.y-(g.canonical.y<<-Ot))),s.ortho(Et,0,Ft,0,Ft,0,1),s.translate(Et,Et,[Wt,er,0])}return new Rm(tt.tileID,g.key,Et)}_findTileCoveringTileID(g,tt){let st=tt.getTile(g);if(st&&st.hasData())return st;const Et=this._findCoveringTileCache[tt.id],Ot=Et[g.key];if(st=Ot?tt.getTileByID(Ot):null,st&&st.hasData()||Ot===null)return st;let Ft=st?st.tileID:g,Wt=Ft.overscaledZ;const er=tt.getSource().minzoom,nr=[];if(!Ot){const fr=tt.getSource().maxzoom;if(g.canonical.z>=fr){const xr=g.canonical.z-fr;tt.getSource().reparseOverscaled?(Wt=Math.max(g.canonical.z+2,tt.transform.tileZoom),Ft=new s.OverscaledTileID(Wt,g.wrap,fr,g.canonical.x>>xr,g.canonical.y>>xr)):xr!==0&&(Wt=fr,Ft=new s.OverscaledTileID(Wt,g.wrap,fr,g.canonical.x>>xr,g.canonical.y>>xr))}Ft.key!==g.key&&(nr.push(Ft.key),st=tt.getTile(Ft))}const sr=fr=>{nr.forEach(xr=>{Et[xr]=fr}),nr.length=0};for(Wt-=1;Wt>=er&&(!st||!st.hasData());Wt--){st&&sr(st.tileID.key);const fr=Ft.calculateScaledKey(Wt);if(st=tt.getTileByID(fr),st&&st.hasData())break;const xr=Et[fr];if(xr===null)break;xr===void 0?nr.push(fr):st=tt.getTileByID(xr)}return sr(st?st.tileID.key:null),st&&st.hasData()?st:null}findDEMTileFor(g){return this.enabled?this._findTileCoveringTileID(g,this.sourceCache):null}prepareDrawTile(){this.renderedToTile=!0}_clearRenderCacheForTile(g,tt){let st=this._tilesDirty[g];st||(st=this._tilesDirty[g]={}),st[tt.key]=!0}getWirefameBuffer(){if(!this.wireframeSegments){const g=function(tt){let st=0;const Et=new s.StructArrayLayout2ui4,Ot=131;for(let Ft=1;Ft<129;Ft++){for(let Wt=1;Wt<129;Wt++)st=Ft*Ot+Wt,Et.emplaceBack(st,st+1),Et.emplaceBack(st,st+Ot),Et.emplaceBack(st+1,st+Ot),Ft===128&&Et.emplaceBack(st+Ot,st+Ot+1);Et.emplaceBack(st+1,st+1+Ot)}return Et}();this.wireframeIndexBuffer=this.painter.context.createIndexBuffer(g),this.wireframeSegments=s.SegmentVector.simpleSegment(0,0,this.gridBuffer.length,g.length)}return[this.wireframeIndexBuffer,this.wireframeSegments]}}function Np(nt){const g=[];for(let tt=0;tt<nt.length;tt++){if(nt[tt]===null)continue;const st=nt[tt].split(" ");g.push(st.pop())}return g}class ap{static cacheKey(g,tt,st){let Et=`${g}${st?st.cacheKey:""}`;for(const Ot of tt)Et+=`/${Ot}`;return Et}constructor(g,tt,st,Et,Ot,Ft){const Wt=g.gl;this.program=Wt.createProgram();const er=Np(st.staticAttributes),nr=Et?Et.getBinderAttributes():[],sr=er.concat(nr),fr=st.staticUniforms?Np(st.staticUniforms):[],xr=Et?Et.getBinderUniforms():[],Ar=fr.concat(xr),Er=[];for(const jr of Ar)Er.indexOf(jr)<0&&Er.push(jr);let br=Et?Et.defines():[];br=br.concat(Ft.map(jr=>`#define ${jr}`));const Nr=br.concat(`
#ifdef GL_ES
precision mediump float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,np,Pp.fragmentSource,iu.fragmentSource,st.fragmentSource).join(`
`),Or=br.concat(`
#ifdef GL_ES
precision highp float;
#else

#if !defined(lowp)
#define lowp
#endif

#if !defined(mediump)
#define mediump
#endif

#if !defined(highp)
#define highp
#endif

#endif`,np,Pp.vertexSource,iu.vertexSource,wu.vertexSource,st.vertexSource).join(`
`),kr=Wt.createShader(Wt.FRAGMENT_SHADER);if(Wt.isContextLost())return void(this.failedToCreate=!0);Wt.shaderSource(kr,Nr),Wt.compileShader(kr),Wt.attachShader(this.program,kr);const Dr=Wt.createShader(Wt.VERTEX_SHADER);if(Wt.isContextLost())return void(this.failedToCreate=!0);Wt.shaderSource(Dr,Or),Wt.compileShader(Dr),Wt.attachShader(this.program,Dr),this.attributes={};const Ur={};this.numAttributes=sr.length;for(let jr=0;jr<this.numAttributes;jr++)sr[jr]&&(Wt.bindAttribLocation(this.program,jr,sr[jr]),this.attributes[sr[jr]]=jr);Wt.linkProgram(this.program),Wt.deleteShader(Dr),Wt.deleteShader(kr);for(let jr=0;jr<Er.length;jr++){const Wr=Er[jr];if(Wr&&!Ur[Wr]){const on=Wt.getUniformLocation(this.program,Wr);on&&(Ur[Wr]=on)}}this.fixedUniforms=Ot(g,Ur),this.binderUniforms=Et?Et.getUniforms(g,Ur):[],Ft.indexOf("TERRAIN")!==-1&&(this.terrainUniforms=((jr,Wr)=>({u_dem:new s.Uniform1i(jr,Wr.u_dem),u_dem_prev:new s.Uniform1i(jr,Wr.u_dem_prev),u_dem_unpack:new s.Uniform4f(jr,Wr.u_dem_unpack),u_dem_tl:new s.Uniform2f(jr,Wr.u_dem_tl),u_dem_scale:new s.Uniform1f(jr,Wr.u_dem_scale),u_dem_tl_prev:new s.Uniform2f(jr,Wr.u_dem_tl_prev),u_dem_scale_prev:new s.Uniform1f(jr,Wr.u_dem_scale_prev),u_dem_size:new s.Uniform1f(jr,Wr.u_dem_size),u_dem_lerp:new s.Uniform1f(jr,Wr.u_dem_lerp),u_exaggeration:new s.Uniform1f(jr,Wr.u_exaggeration),u_depth:new s.Uniform1i(jr,Wr.u_depth),u_depth_size_inv:new s.Uniform2f(jr,Wr.u_depth_size_inv),u_meter_to_dem:new s.Uniform1f(jr,Wr.u_meter_to_dem),u_label_plane_matrix_inv:new s.UniformMatrix4f(jr,Wr.u_label_plane_matrix_inv),u_tile_tl_up:new s.Uniform3f(jr,Wr.u_tile_tl_up),u_tile_tr_up:new s.Uniform3f(jr,Wr.u_tile_tr_up),u_tile_br_up:new s.Uniform3f(jr,Wr.u_tile_br_up),u_tile_bl_up:new s.Uniform3f(jr,Wr.u_tile_bl_up),u_tile_up_scale:new s.Uniform1f(jr,Wr.u_tile_up_scale)}))(g,Ur)),Ft.indexOf("FOG")!==-1&&(this.fogUniforms=((jr,Wr)=>({u_fog_matrix:new s.UniformMatrix4f(jr,Wr.u_fog_matrix),u_fog_range:new s.Uniform2f(jr,Wr.u_fog_range),u_fog_color:new s.Uniform4f(jr,Wr.u_fog_color),u_fog_horizon_blend:new s.Uniform1f(jr,Wr.u_fog_horizon_blend),u_fog_temporal_offset:new s.Uniform1f(jr,Wr.u_fog_temporal_offset)}))(g,Ur))}setTerrainUniformValues(g,tt){if(!this.terrainUniforms)return;const st=this.terrainUniforms;if(!this.failedToCreate){g.program.set(this.program);for(const Et in tt)st[Et].set(tt[Et])}}setFogUniformValues(g,tt){if(!this.fogUniforms)return;const st=this.fogUniforms;if(!this.failedToCreate){g.program.set(this.program);for(const Et in tt)st[Et].location&&st[Et].set(tt[Et])}}draw(g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar,Er,br,Nr){const Or=g.gl;if(this.failedToCreate)return;g.program.set(this.program),g.setDepthMode(st),g.setStencilMode(Et),g.setColorMode(Ot),g.setCullFace(Ft);for(const Dr of Object.keys(this.fixedUniforms))this.fixedUniforms[Dr].set(Wt[Dr]);Er&&Er.setUniforms(g,this.binderUniforms,xr,{zoom:Ar});const kr={[Or.LINES]:2,[Or.TRIANGLES]:3,[Or.LINE_STRIP]:1}[tt];for(const Dr of fr.get()){const Ur=Dr.vaos||(Dr.vaos={});(Ur[er]||(Ur[er]=new kp)).bind(g,this,nr,Er?Er.getPaintVertexBuffers():[],sr,Dr.vertexOffset,br,Nr),Or.drawElements(tt,Dr.primitiveLength*kr,Or.UNSIGNED_SHORT,Dr.primitiveOffset*kr*2)}}}function lp(nt,g,tt){const st=1/or(tt,1,g.transform.tileZoom),Et=Math.pow(2,tt.tileID.overscaledZ),Ot=tt.tileSize*Math.pow(2,g.transform.tileZoom)/Et,Ft=Ot*(tt.tileID.canonical.x+tt.tileID.wrap*Et),Wt=Ot*tt.tileID.canonical.y;return{u_image:0,u_texsize:tt.imageAtlasTexture.size,u_scale:[st,nt.fromScale,nt.toScale],u_fade:nt.t,u_pixel_coord_upper:[Ft>>16,Wt>>16],u_pixel_coord_lower:[65535&Ft,65535&Wt]}}const Mm=s.create(),Fp=(nt,g,tt,st,Et,Ot,Ft,Wt,er)=>{const nr=g.style.light,sr=nr.properties.get("position"),fr=[sr.x,sr.y,sr.z],xr=s.create$1();nr.properties.get("anchor")==="viewport"&&(s.fromRotation(xr,-g.transform.angle),s.transformMat3(fr,fr,xr));const Ar=nr.properties.get("color"),Er=g.transform,br={u_matrix:nt,u_lightpos:fr,u_lightintensity:nr.properties.get("intensity"),u_lightcolor:[Ar.r,Ar.g,Ar.b],u_vertical_gradient:+tt,u_opacity:st,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:Mm,u_merc_center:[0,0],u_up_dir:[0,0,0],u_height_lift:0};return Er.projection.name==="globe"&&(br.u_tile_id=[Et.canonical.x,Et.canonical.y,1<<Et.canonical.z],br.u_zoom_transition=Ft,br.u_inv_rot_matrix=er,br.u_merc_center=Wt,br.u_up_dir=Er.projection.upVector(new s.CanonicalTileID(0,0,0),Wt[0]*s.EXTENT,Wt[1]*s.EXTENT),br.u_height_lift=Ot),br},Up=(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr)=>{const fr=Fp(nt,g,tt,st,Et,Wt,er,nr,sr),xr={u_height_factor:-Math.pow(2,Et.overscaledZ)/Ft.tileSize/8};return s.extend(fr,lp(Ot,g,Ft),xr)},zp=nt=>({u_matrix:nt}),Vp=(nt,g,tt,st)=>s.extend(zp(nt),lp(tt,g,st)),Wp=(nt,g)=>({u_matrix:nt,u_world:g}),F1=(nt,g,tt,st,Et)=>s.extend(Vp(nt,g,tt,st),{u_world:Et}),U1=s.create(),Du=(nt,g,tt,st,Et,Ot)=>{const Ft=nt.transform,Wt=Ft.projection.name==="globe";let er;if(Ot.paint.get("circle-pitch-alignment")==="map")if(Wt){const sr=s.globePixelsToTileUnits(Ft.zoom,g.canonical);er=Float32Array.from([sr,0,0,sr])}else er=Ft.calculatePixelsToTileUnitsMatrix(tt);else er=new Float32Array([Ft.pixelsToGLUnits[0],0,0,Ft.pixelsToGLUnits[1]]);const nr={u_camera_to_center_distance:Ft.cameraToCenterDistance,u_matrix:nt.translatePosMatrix(g.projMatrix,tt,Ot.paint.get("circle-translate"),Ot.paint.get("circle-translate-anchor")),u_device_pixel_ratio:s.exported.devicePixelRatio,u_extrude_scale:er,u_inv_rot_matrix:U1,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};return Wt&&(nr.u_inv_rot_matrix=st,nr.u_merc_center=Et,nr.u_tile_id=[g.canonical.x,g.canonical.y,1<<g.canonical.z],nr.u_zoom_transition=s.globeToMercatorTransition(Ft.zoom),nr.u_up_dir=Ft.projection.upVector(g.canonical,Et[0],Et[1])),nr},Qy=nt=>{const g=[];return nt.paint.get("circle-pitch-alignment")==="map"&&g.push("PITCH_WITH_MAP"),nt.paint.get("circle-pitch-scale")==="map"&&g.push("SCALE_WITH_MAP"),g},e_=(nt,g,tt)=>{const st=s.EXTENT/tt.tileSize;return{u_matrix:nt,u_camera_to_center_distance:g.cameraToCenterDistance,u_extrude_scale:[g.pixelsToGLUnits[0]/st,g.pixelsToGLUnits[1]/st]}},z1=(nt,g,tt=1)=>({u_matrix:nt,u_color:g,u_overlay:0,u_overlay_scale:tt}),t_=s.create(),r_=(nt,g,tt,st,Et,Ot,Ft)=>{const Wt=nt.transform,er=Wt.projection.name==="globe",nr=er?s.globePixelsToTileUnits(Wt.zoom,g.canonical):or(tt,1,Ot),sr={u_matrix:g.projMatrix,u_extrude_scale:nr,u_intensity:Ft,u_inv_rot_matrix:t_,u_merc_center:[0,0],u_tile_id:[0,0,0],u_zoom_transition:0,u_up_dir:[0,0,0]};return er&&(sr.u_inv_rot_matrix=st,sr.u_merc_center=Et,sr.u_tile_id=[g.canonical.x,g.canonical.y,1<<g.canonical.z],sr.u_zoom_transition=s.globeToMercatorTransition(Wt.zoom),sr.u_up_dir=Wt.projection.upVector(g.canonical,Et[0],Et[1])),sr},n_=(nt,g,tt,st,Et,Ot,Ft)=>{const Wt=nt.transform,er=Wt.calculatePixelsToTileUnitsMatrix(g),nr={u_matrix:xu(nt,g,tt,Et),u_pixels_to_tile_units:er,u_device_pixel_ratio:Ft,u_units_to_pixels:[1/Wt.pixelsToGLUnits[0],1/Wt.pixelsToGLUnits[1]],u_dash_image:0,u_gradient_image:1,u_image_height:Ot,u_texsize:[0,0],u_scale:[0,0,0],u_mix:0,u_alpha_discard_threshold:0};if(Om(tt)){const sr=Hp(g,nt.transform);nr.u_texsize=g.lineAtlasTexture.size,nr.u_scale=[sr,st.fromScale,st.toScale],nr.u_mix=st.t}return nr},Im=(nt,g,tt,st,Et,Ot)=>{const Ft=nt.transform,Wt=Hp(g,Ft);return{u_matrix:xu(nt,g,tt,Et),u_texsize:g.imageAtlasTexture.size,u_pixels_to_tile_units:Ft.calculatePixelsToTileUnitsMatrix(g),u_device_pixel_ratio:Ot,u_image:0,u_scale:[Wt,st.fromScale,st.toScale],u_fade:st.t,u_units_to_pixels:[1/Ft.pixelsToGLUnits[0],1/Ft.pixelsToGLUnits[1]],u_alpha_discard_threshold:0}};function Hp(nt,g){return 1/or(nt,1,g.tileZoom)}function xu(nt,g,tt,st){return nt.translatePosMatrix(st||g.tileID.projMatrix,g,tt.paint.get("line-translate"),tt.paint.get("line-translate-anchor"))}function Om(nt){const g=nt.paint.get("line-dasharray").value;return g.value||g.kind!=="constant"}const V1=(nt,g,tt,st,Et,Ot)=>{return{u_matrix:nt,u_tl_parent:g,u_scale_parent:tt,u_fade_t:st.mix,u_opacity:st.opacity*Et.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:Et.paint.get("raster-brightness-min"),u_brightness_high:Et.paint.get("raster-brightness-max"),u_saturation_factor:(Wt=Et.paint.get("raster-saturation"),Wt>0?1-1/(1.001-Wt):-Wt),u_contrast_factor:(Ft=Et.paint.get("raster-contrast"),Ft>0?1/(1-Ft):1+Ft),u_spin_weights:Lm(Et.paint.get("raster-hue-rotate")),u_perspective_transform:Ot};var Ft,Wt};function Lm(nt){nt*=Math.PI/180;const g=Math.sin(nt),tt=Math.cos(nt);return[(2*tt+1)/3,(-Math.sqrt(3)*g-tt+1)/3,(Math.sqrt(3)*g-tt+1)/3]}const su=s.create(),jm=(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar)=>{const Er=Et.transform,br={u_is_size_zoom_constant:+(nt==="constant"||nt==="source"),u_is_size_feature_constant:+(nt==="constant"||nt==="camera"),u_size_t:g?g.uSizeT:0,u_size:g?g.uSize:0,u_camera_to_center_distance:Er.cameraToCenterDistance,u_rotate_symbol:+tt,u_aspect_ratio:Er.width/Er.height,u_fade_change:Et.options.fadeDuration?Et.symbolFadeChange:1,u_matrix:Ot,u_label_plane_matrix:Ft,u_coord_matrix:Wt,u_is_text:+er,u_pitch_with_map:+st,u_texsize:nr,u_texture:0,u_tile_id:[0,0,0],u_zoom_transition:0,u_inv_rot_matrix:su,u_merc_center:[0,0],u_camera_forward:[0,0,0],u_ecef_origin:[0,0,0],u_tile_matrix:su};return Er.projection.name==="globe"&&(br.u_tile_id=[sr.canonical.x,sr.canonical.y,1<<sr.canonical.z],br.u_zoom_transition=fr,br.u_inv_rot_matrix=Ar,br.u_merc_center=xr,br.u_camera_forward=Er._camera.forward(),br.u_ecef_origin=s.globeECEFOrigin(Er.globeMatrix,sr.toUnwrapped()),br.u_tile_matrix=Float32Array.from(Er.globeMatrix)),br},Su=(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar,Er)=>{const{cameraToCenterDistance:br,_pitch:Nr}=Et.transform;return s.extend(jm(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,fr,xr,Ar,Er),{u_gamma_scale:st?br*Math.cos(Et.terrain?0:Nr):1,u_device_pixel_ratio:s.exported.devicePixelRatio,u_is_halo:+sr})},Bu=(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr,xr,Ar)=>s.extend(Su(nt,g,tt,st,Et,Ot,Ft,Wt,!0,er,!0,sr,fr,xr,Ar),{u_texsize_icon:nr,u_texture_icon:1}),W1=(nt,g,tt)=>({u_matrix:nt,u_opacity:g,u_color:tt}),Pm=(nt,g,tt,st,Et,Ot)=>s.extend(function(Ft,Wt,er,nr){const sr=er.imageManager.getPattern(Ft.from.toString()),fr=er.imageManager.getPattern(Ft.to.toString()),{width:xr,height:Ar}=er.imageManager.getPixelSize(),Er=Math.pow(2,nr.tileID.overscaledZ),br=nr.tileSize*Math.pow(2,er.transform.tileZoom)/Er,Nr=br*(nr.tileID.canonical.x+nr.tileID.wrap*Er),Or=br*nr.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:sr.tl,u_pattern_br_a:sr.br,u_pattern_tl_b:fr.tl,u_pattern_br_b:fr.br,u_texsize:[xr,Ar],u_mix:Wt.t,u_pattern_size_a:sr.displaySize,u_pattern_size_b:fr.displaySize,u_scale_a:Wt.fromScale,u_scale_b:Wt.toScale,u_tile_units_to_pixels:1/or(nr,1,er.transform.tileZoom),u_pixel_coord_upper:[Nr>>16,Or>>16],u_pixel_coord_lower:[65535&Nr,65535&Or]}}(st,Ot,tt,Et),{u_matrix:nt,u_opacity:g}),Po={fillExtrusion:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_lightpos:new s.Uniform3f(nt,g.u_lightpos),u_lightintensity:new s.Uniform1f(nt,g.u_lightintensity),u_lightcolor:new s.Uniform3f(nt,g.u_lightcolor),u_vertical_gradient:new s.Uniform1f(nt,g.u_vertical_gradient),u_opacity:new s.Uniform1f(nt,g.u_opacity),u_tile_id:new s.Uniform3f(nt,g.u_tile_id),u_zoom_transition:new s.Uniform1f(nt,g.u_zoom_transition),u_inv_rot_matrix:new s.UniformMatrix4f(nt,g.u_inv_rot_matrix),u_merc_center:new s.Uniform2f(nt,g.u_merc_center),u_up_dir:new s.Uniform3f(nt,g.u_up_dir),u_height_lift:new s.Uniform1f(nt,g.u_height_lift)}),fillExtrusionPattern:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_lightpos:new s.Uniform3f(nt,g.u_lightpos),u_lightintensity:new s.Uniform1f(nt,g.u_lightintensity),u_lightcolor:new s.Uniform3f(nt,g.u_lightcolor),u_vertical_gradient:new s.Uniform1f(nt,g.u_vertical_gradient),u_height_factor:new s.Uniform1f(nt,g.u_height_factor),u_tile_id:new s.Uniform3f(nt,g.u_tile_id),u_zoom_transition:new s.Uniform1f(nt,g.u_zoom_transition),u_inv_rot_matrix:new s.UniformMatrix4f(nt,g.u_inv_rot_matrix),u_merc_center:new s.Uniform2f(nt,g.u_merc_center),u_up_dir:new s.Uniform3f(nt,g.u_up_dir),u_height_lift:new s.Uniform1f(nt,g.u_height_lift),u_image:new s.Uniform1i(nt,g.u_image),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_pixel_coord_upper:new s.Uniform2f(nt,g.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(nt,g.u_pixel_coord_lower),u_scale:new s.Uniform3f(nt,g.u_scale),u_fade:new s.Uniform1f(nt,g.u_fade),u_opacity:new s.Uniform1f(nt,g.u_opacity)}),fill:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix)}),fillPattern:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_image:new s.Uniform1i(nt,g.u_image),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_pixel_coord_upper:new s.Uniform2f(nt,g.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(nt,g.u_pixel_coord_lower),u_scale:new s.Uniform3f(nt,g.u_scale),u_fade:new s.Uniform1f(nt,g.u_fade)}),fillOutline:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_world:new s.Uniform2f(nt,g.u_world)}),fillOutlinePattern:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_world:new s.Uniform2f(nt,g.u_world),u_image:new s.Uniform1i(nt,g.u_image),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_pixel_coord_upper:new s.Uniform2f(nt,g.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(nt,g.u_pixel_coord_lower),u_scale:new s.Uniform3f(nt,g.u_scale),u_fade:new s.Uniform1f(nt,g.u_fade)}),circle:(nt,g)=>({u_camera_to_center_distance:new s.Uniform1f(nt,g.u_camera_to_center_distance),u_extrude_scale:new s.UniformMatrix2f(nt,g.u_extrude_scale),u_device_pixel_ratio:new s.Uniform1f(nt,g.u_device_pixel_ratio),u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_inv_rot_matrix:new s.UniformMatrix4f(nt,g.u_inv_rot_matrix),u_merc_center:new s.Uniform2f(nt,g.u_merc_center),u_tile_id:new s.Uniform3f(nt,g.u_tile_id),u_zoom_transition:new s.Uniform1f(nt,g.u_zoom_transition),u_up_dir:new s.Uniform3f(nt,g.u_up_dir)}),collisionBox:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_camera_to_center_distance:new s.Uniform1f(nt,g.u_camera_to_center_distance),u_extrude_scale:new s.Uniform2f(nt,g.u_extrude_scale)}),collisionCircle:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_inv_matrix:new s.UniformMatrix4f(nt,g.u_inv_matrix),u_camera_to_center_distance:new s.Uniform1f(nt,g.u_camera_to_center_distance),u_viewport_size:new s.Uniform2f(nt,g.u_viewport_size)}),debug:(nt,g)=>({u_color:new s.UniformColor(nt,g.u_color),u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_overlay:new s.Uniform1i(nt,g.u_overlay),u_overlay_scale:new s.Uniform1f(nt,g.u_overlay_scale)}),clippingMask:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix)}),heatmap:(nt,g)=>({u_extrude_scale:new s.Uniform1f(nt,g.u_extrude_scale),u_intensity:new s.Uniform1f(nt,g.u_intensity),u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_inv_rot_matrix:new s.UniformMatrix4f(nt,g.u_inv_rot_matrix),u_merc_center:new s.Uniform2f(nt,g.u_merc_center),u_tile_id:new s.Uniform3f(nt,g.u_tile_id),u_zoom_transition:new s.Uniform1f(nt,g.u_zoom_transition),u_up_dir:new s.Uniform3f(nt,g.u_up_dir)}),heatmapTexture:(nt,g)=>({u_image:new s.Uniform1i(nt,g.u_image),u_color_ramp:new s.Uniform1i(nt,g.u_color_ramp),u_opacity:new s.Uniform1f(nt,g.u_opacity)}),hillshade:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_image:new s.Uniform1i(nt,g.u_image),u_latrange:new s.Uniform2f(nt,g.u_latrange),u_light:new s.Uniform2f(nt,g.u_light),u_shadow:new s.UniformColor(nt,g.u_shadow),u_highlight:new s.UniformColor(nt,g.u_highlight),u_accent:new s.UniformColor(nt,g.u_accent)}),hillshadePrepare:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_image:new s.Uniform1i(nt,g.u_image),u_dimension:new s.Uniform2f(nt,g.u_dimension),u_zoom:new s.Uniform1f(nt,g.u_zoom),u_unpack:new s.Uniform4f(nt,g.u_unpack)}),line:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_pixels_to_tile_units:new s.UniformMatrix2f(nt,g.u_pixels_to_tile_units),u_device_pixel_ratio:new s.Uniform1f(nt,g.u_device_pixel_ratio),u_units_to_pixels:new s.Uniform2f(nt,g.u_units_to_pixels),u_dash_image:new s.Uniform1i(nt,g.u_dash_image),u_gradient_image:new s.Uniform1i(nt,g.u_gradient_image),u_image_height:new s.Uniform1f(nt,g.u_image_height),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_scale:new s.Uniform3f(nt,g.u_scale),u_mix:new s.Uniform1f(nt,g.u_mix),u_alpha_discard_threshold:new s.Uniform1f(nt,g.u_alpha_discard_threshold)}),linePattern:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_pixels_to_tile_units:new s.UniformMatrix2f(nt,g.u_pixels_to_tile_units),u_device_pixel_ratio:new s.Uniform1f(nt,g.u_device_pixel_ratio),u_image:new s.Uniform1i(nt,g.u_image),u_units_to_pixels:new s.Uniform2f(nt,g.u_units_to_pixels),u_scale:new s.Uniform3f(nt,g.u_scale),u_fade:new s.Uniform1f(nt,g.u_fade),u_alpha_discard_threshold:new s.Uniform1f(nt,g.u_alpha_discard_threshold)}),raster:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_tl_parent:new s.Uniform2f(nt,g.u_tl_parent),u_scale_parent:new s.Uniform1f(nt,g.u_scale_parent),u_fade_t:new s.Uniform1f(nt,g.u_fade_t),u_opacity:new s.Uniform1f(nt,g.u_opacity),u_image0:new s.Uniform1i(nt,g.u_image0),u_image1:new s.Uniform1i(nt,g.u_image1),u_brightness_low:new s.Uniform1f(nt,g.u_brightness_low),u_brightness_high:new s.Uniform1f(nt,g.u_brightness_high),u_saturation_factor:new s.Uniform1f(nt,g.u_saturation_factor),u_contrast_factor:new s.Uniform1f(nt,g.u_contrast_factor),u_spin_weights:new s.Uniform3f(nt,g.u_spin_weights),u_perspective_transform:new s.Uniform2f(nt,g.u_perspective_transform)}),symbolIcon:(nt,g)=>({u_is_size_zoom_constant:new s.Uniform1i(nt,g.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(nt,g.u_is_size_feature_constant),u_size_t:new s.Uniform1f(nt,g.u_size_t),u_size:new s.Uniform1f(nt,g.u_size),u_camera_to_center_distance:new s.Uniform1f(nt,g.u_camera_to_center_distance),u_rotate_symbol:new s.Uniform1i(nt,g.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(nt,g.u_aspect_ratio),u_fade_change:new s.Uniform1f(nt,g.u_fade_change),u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(nt,g.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(nt,g.u_coord_matrix),u_is_text:new s.Uniform1i(nt,g.u_is_text),u_pitch_with_map:new s.Uniform1i(nt,g.u_pitch_with_map),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_tile_id:new s.Uniform3f(nt,g.u_tile_id),u_zoom_transition:new s.Uniform1f(nt,g.u_zoom_transition),u_inv_rot_matrix:new s.UniformMatrix4f(nt,g.u_inv_rot_matrix),u_merc_center:new s.Uniform2f(nt,g.u_merc_center),u_camera_forward:new s.Uniform3f(nt,g.u_camera_forward),u_tile_matrix:new s.UniformMatrix4f(nt,g.u_tile_matrix),u_ecef_origin:new s.Uniform3f(nt,g.u_ecef_origin),u_texture:new s.Uniform1i(nt,g.u_texture)}),symbolSDF:(nt,g)=>({u_is_size_zoom_constant:new s.Uniform1i(nt,g.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(nt,g.u_is_size_feature_constant),u_size_t:new s.Uniform1f(nt,g.u_size_t),u_size:new s.Uniform1f(nt,g.u_size),u_camera_to_center_distance:new s.Uniform1f(nt,g.u_camera_to_center_distance),u_rotate_symbol:new s.Uniform1i(nt,g.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(nt,g.u_aspect_ratio),u_fade_change:new s.Uniform1f(nt,g.u_fade_change),u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(nt,g.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(nt,g.u_coord_matrix),u_is_text:new s.Uniform1i(nt,g.u_is_text),u_pitch_with_map:new s.Uniform1i(nt,g.u_pitch_with_map),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_texture:new s.Uniform1i(nt,g.u_texture),u_gamma_scale:new s.Uniform1f(nt,g.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(nt,g.u_device_pixel_ratio),u_tile_id:new s.Uniform3f(nt,g.u_tile_id),u_zoom_transition:new s.Uniform1f(nt,g.u_zoom_transition),u_inv_rot_matrix:new s.UniformMatrix4f(nt,g.u_inv_rot_matrix),u_merc_center:new s.Uniform2f(nt,g.u_merc_center),u_camera_forward:new s.Uniform3f(nt,g.u_camera_forward),u_tile_matrix:new s.UniformMatrix4f(nt,g.u_tile_matrix),u_ecef_origin:new s.Uniform3f(nt,g.u_ecef_origin),u_is_halo:new s.Uniform1i(nt,g.u_is_halo)}),symbolTextAndIcon:(nt,g)=>({u_is_size_zoom_constant:new s.Uniform1i(nt,g.u_is_size_zoom_constant),u_is_size_feature_constant:new s.Uniform1i(nt,g.u_is_size_feature_constant),u_size_t:new s.Uniform1f(nt,g.u_size_t),u_size:new s.Uniform1f(nt,g.u_size),u_camera_to_center_distance:new s.Uniform1f(nt,g.u_camera_to_center_distance),u_rotate_symbol:new s.Uniform1i(nt,g.u_rotate_symbol),u_aspect_ratio:new s.Uniform1f(nt,g.u_aspect_ratio),u_fade_change:new s.Uniform1f(nt,g.u_fade_change),u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_label_plane_matrix:new s.UniformMatrix4f(nt,g.u_label_plane_matrix),u_coord_matrix:new s.UniformMatrix4f(nt,g.u_coord_matrix),u_is_text:new s.Uniform1i(nt,g.u_is_text),u_pitch_with_map:new s.Uniform1i(nt,g.u_pitch_with_map),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_texsize_icon:new s.Uniform2f(nt,g.u_texsize_icon),u_texture:new s.Uniform1i(nt,g.u_texture),u_texture_icon:new s.Uniform1i(nt,g.u_texture_icon),u_gamma_scale:new s.Uniform1f(nt,g.u_gamma_scale),u_device_pixel_ratio:new s.Uniform1f(nt,g.u_device_pixel_ratio),u_is_halo:new s.Uniform1i(nt,g.u_is_halo)}),background:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_opacity:new s.Uniform1f(nt,g.u_opacity),u_color:new s.UniformColor(nt,g.u_color)}),backgroundPattern:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_opacity:new s.Uniform1f(nt,g.u_opacity),u_image:new s.Uniform1i(nt,g.u_image),u_pattern_tl_a:new s.Uniform2f(nt,g.u_pattern_tl_a),u_pattern_br_a:new s.Uniform2f(nt,g.u_pattern_br_a),u_pattern_tl_b:new s.Uniform2f(nt,g.u_pattern_tl_b),u_pattern_br_b:new s.Uniform2f(nt,g.u_pattern_br_b),u_texsize:new s.Uniform2f(nt,g.u_texsize),u_mix:new s.Uniform1f(nt,g.u_mix),u_pattern_size_a:new s.Uniform2f(nt,g.u_pattern_size_a),u_pattern_size_b:new s.Uniform2f(nt,g.u_pattern_size_b),u_scale_a:new s.Uniform1f(nt,g.u_scale_a),u_scale_b:new s.Uniform1f(nt,g.u_scale_b),u_pixel_coord_upper:new s.Uniform2f(nt,g.u_pixel_coord_upper),u_pixel_coord_lower:new s.Uniform2f(nt,g.u_pixel_coord_lower),u_tile_units_to_pixels:new s.Uniform1f(nt,g.u_tile_units_to_pixels)}),terrainRaster:Tm,terrainDepth:Tm,skybox:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_sun_direction:new s.Uniform3f(nt,g.u_sun_direction),u_cubemap:new s.Uniform1i(nt,g.u_cubemap),u_opacity:new s.Uniform1f(nt,g.u_opacity),u_temporal_offset:new s.Uniform1f(nt,g.u_temporal_offset)}),skyboxGradient:(nt,g)=>({u_matrix:new s.UniformMatrix4f(nt,g.u_matrix),u_color_ramp:new s.Uniform1i(nt,g.u_color_ramp),u_center_direction:new s.Uniform3f(nt,g.u_center_direction),u_radius:new s.Uniform1f(nt,g.u_radius),u_opacity:new s.Uniform1f(nt,g.u_opacity),u_temporal_offset:new s.Uniform1f(nt,g.u_temporal_offset)}),skyboxCapture:(nt,g)=>({u_matrix_3f:new s.UniformMatrix3f(nt,g.u_matrix_3f),u_sun_direction:new s.Uniform3f(nt,g.u_sun_direction),u_sun_intensity:new s.Uniform1f(nt,g.u_sun_intensity),u_color_tint_r:new s.Uniform4f(nt,g.u_color_tint_r),u_color_tint_m:new s.Uniform4f(nt,g.u_color_tint_m),u_luminance:new s.Uniform1f(nt,g.u_luminance)}),globeRaster:(nt,g)=>({u_proj_matrix:new s.UniformMatrix4f(nt,g.u_proj_matrix),u_globe_matrix:new s.UniformMatrix4f(nt,g.u_globe_matrix),u_merc_matrix:new s.UniformMatrix4f(nt,g.u_merc_matrix),u_zoom_transition:new s.Uniform1f(nt,g.u_zoom_transition),u_merc_center:new s.Uniform2f(nt,g.u_merc_center),u_image0:new s.Uniform1i(nt,g.u_image0),u_grid_matrix:new s.UniformMatrix3f(nt,g.u_grid_matrix)}),globeAtmosphere:(nt,g)=>({u_frustum_tl:new s.Uniform3f(nt,g.u_frustum_tl),u_frustum_tr:new s.Uniform3f(nt,g.u_frustum_tr),u_frustum_br:new s.Uniform3f(nt,g.u_frustum_br),u_frustum_bl:new s.Uniform3f(nt,g.u_frustum_bl),u_globe_pos:new s.Uniform3f(nt,g.u_globe_pos),u_globe_radius:new s.Uniform1f(nt,g.u_globe_radius),u_opacity:new s.Uniform1f(nt,g.u_opacity),u_fadeout_range:new s.Uniform1f(nt,g.u_fadeout_range),u_start_color:new s.Uniform3f(nt,g.u_start_color),u_end_color:new s.Uniform3f(nt,g.u_end_color)})};let Eu;function H1(nt,g,tt,st,Et,Ot,Ft){const Wt=nt.context,er=Wt.gl,nr=nt.useProgram("collisionBox"),sr=[];let fr=0,xr=0;for(let Dr=0;Dr<st.length;Dr++){const Ur=st[Dr],jr=g.getTile(Ur),Wr=jr.getBucket(tt);if(!Wr)continue;let on=Ur.projMatrix;Et[0]===0&&Et[1]===0||(on=nt.translatePosMatrix(Ur.projMatrix,jr,Et,Ot));const pn=Ft?Wr.textCollisionBox:Wr.iconCollisionBox,vn=Wr.collisionCircleArray;if(vn.length>0){const yn=s.create(),jn=on;s.mul(yn,Wr.placementInvProjMatrix,nt.transform.glCoordMatrix),s.mul(yn,yn,Wr.placementViewportMatrix),sr.push({circleArray:vn,circleOffset:xr,transform:jn,invTransform:yn}),fr+=vn.length/4,xr=fr}pn&&(nt.terrain&&nt.terrain.setupElevationDraw(jr,nr),nr.draw(Wt,er.LINES,s.DepthMode.disabled,s.StencilMode.disabled,nt.colorModeForRenderPass(),s.CullFaceMode.disabled,e_(on,nt.transform,jr),tt.id,pn.layoutVertexBuffer,pn.indexBuffer,pn.segments,null,nt.transform.zoom,null,pn.collisionVertexBuffer,pn.collisionVertexBufferExt))}if(!Ft||!sr.length)return;const Ar=nt.useProgram("collisionCircle"),Er=new s.StructArrayLayout2f1f2i16;Er.resize(4*fr),Er._trim();let br=0;for(const Dr of sr)for(let Ur=0;Ur<Dr.circleArray.length/4;Ur++){const jr=4*Ur,Wr=Dr.circleArray[jr+0],on=Dr.circleArray[jr+1],pn=Dr.circleArray[jr+2],vn=Dr.circleArray[jr+3];Er.emplace(br++,Wr,on,pn,vn,0),Er.emplace(br++,Wr,on,pn,vn,1),Er.emplace(br++,Wr,on,pn,vn,2),Er.emplace(br++,Wr,on,pn,vn,3)}(!Eu||Eu.length<2*fr)&&(Eu=function(Dr){const Ur=2*Dr,jr=new s.StructArrayLayout3ui6;jr.resize(Ur),jr._trim();for(let Wr=0;Wr<Ur;Wr++){const on=6*Wr;jr.uint16[on+0]=4*Wr+0,jr.uint16[on+1]=4*Wr+1,jr.uint16[on+2]=4*Wr+2,jr.uint16[on+3]=4*Wr+2,jr.uint16[on+4]=4*Wr+3,jr.uint16[on+5]=4*Wr+0}return jr}(fr));const Nr=Wt.createIndexBuffer(Eu,!0),Or=Wt.createVertexBuffer(Er,s.collisionCircleLayout.members,!0);for(const Dr of sr){const Ur={u_matrix:Dr.transform,u_inv_matrix:Dr.invTransform,u_camera_to_center_distance:(kr=nt.transform).cameraToCenterDistance,u_viewport_size:[kr.width,kr.height]};Ar.draw(Wt,er.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,nt.colorModeForRenderPass(),s.CullFaceMode.disabled,Ur,tt.id,Or,Nr,s.SegmentVector.simpleSegment(0,2*Dr.circleOffset,Dr.circleArray.length,Dr.circleArray.length/2),null,nt.transform.zoom,null,null,null)}var kr;Or.destroy(),Nr.destroy()}const km=s.create();function up(nt,g,tt,st,Et,Ot){const{horizontalAlign:Ft,verticalAlign:Wt}=s.getAnchorAlignment(nt),er=-(Ft-.5)*g,nr=-(Wt-.5)*tt,sr=s.evaluateVariableOffset(nt,st);return new s.pointGeometry((er/Et+sr[0])*Ot,(nr/Et+sr[1])*Ot)}function i_(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr){const xr=nt.text.placedSymbolArray,Ar=nt.text.dynamicLayoutVertexArray,Er=nt.icon.dynamicLayoutVertexArray,br={},Nr=Wt.projMatrix,Or=Ot.elevation,kr=fr.upVectorScale(Wt.canonical,Ot.center.lat,Ot.worldSize);Ar.clear();for(let Dr=0;Dr<xr.length;Dr++){const Ur=xr.get(Dr),jr=nt.allowVerticalPlacement&&!Ur.placedOrientation,Wr=Ur.hidden||!Ur.crossTileID||jr?null:st[Ur.crossTileID];if(Wr){const on=new s.pointGeometry(Ur.tileAnchorX,Ur.tileAnchorY),pn=fr.upVector(Wt.canonical,on.x,on.y),vn=Or?Or.getAtTileOffset(Wt,on.x,on.y):0,yn=ws([Ur.projectedAnchorX+vn*pn[0]*kr.metersToTile,Ur.projectedAnchorY+vn*pn[1]*kr.metersToTile,Ur.projectedAnchorZ+vn*pn[2]*kr.metersToTile],tt?Nr:Ft),jn=Uo(Ot.cameraToCenterDistance,yn.signedDistanceFromCamera);let sn=Et.evaluateSizeForFeature(nt.textSizeData,nr,Ur)*jn/s.ONE_EM;tt&&(sn*=nt.tilePixelRatio/er);const{width:kn,height:On,anchor:Yn,textOffset:bn,textScale:Gn}=Wr,eo=up(Yn,kn,On,bn,Gn,sn),$n=tt?Yo(on.add(eo),Ft,vn*kr.metersToLabelSpace).point:yn.point.add(g?eo.rotate(-Ot.angle):eo),qn=nt.allowVerticalPlacement&&Ur.placedOrientation===s.WritingMode.vertical?Math.PI/2:0;for(let no=0;no<Ur.numGlyphs;no++)s.addDynamicAttributes(Ar,$n,qn);sr&&Ur.associatedIconIndex>=0&&(br[Ur.associatedIconIndex]={shiftedAnchor:$n,angle:qn})}else Ko(Ur.numGlyphs,Ar)}if(sr){Er.clear();const Dr=nt.icon.placedSymbolArray;for(let Ur=0;Ur<Dr.length;Ur++){const jr=Dr.get(Ur);if(jr.hidden)Ko(jr.numGlyphs,Er);else{const Wr=br[Ur];if(Wr)for(let on=0;on<jr.numGlyphs;on++)s.addDynamicAttributes(Er,Wr.shiftedAnchor,Wr.angle);else Ko(jr.numGlyphs,Er)}}nt.icon.dynamicLayoutVertexBuffer.updateData(Er)}nt.text.dynamicLayoutVertexBuffer.updateData(Ar)}function o_(nt,g,tt){return tt.iconsInText&&g?"symbolTextAndIcon":nt?"symbolSDF":"symbolIcon"}function Dm(nt,g,tt,st,Et,Ot,Ft,Wt,er,nr,sr,fr){const xr=nt.context,Ar=xr.gl,Er=nt.transform,br=Wt==="map",Nr=er==="map",Or=br&&tt.layout.get("symbol-placement")!=="point",kr=br&&!Nr&&!Or,Dr=tt.layout.get("symbol-sort-key").constantOr(1)!==void 0;let Ur=!1;const jr=nt.depthModeForSublayer(0,s.DepthMode.ReadOnly),Wr=[s.mercatorXfromLng(Er.center.lng),s.mercatorYfromLat(Er.center.lat)],on=tt.layout.get("text-variable-anchor"),pn=Er.projection.name==="globe",vn=pn?s.globeToMercatorTransition(Er.zoom):0,yn=[],jn=[];nt.terrain&&Nr&&jn.push("PITCH_WITH_MAP_TERRAIN"),pn&&jn.push("PROJECTION_GLOBE_VIEW");for(const sn of st){const kn=g.getTile(sn),On=kn.getBucket(tt);if(!On||On.projection!==Er.projection.name)continue;const Yn=Et?On.text:On.icon;if(!Yn||On.fullyClipped||!Yn.segments.get().length)continue;const bn=Yn.programConfigurations.get(tt.id),Gn=Et||On.sdfIcons,eo=Et?On.textSizeData:On.iconSizeData,$n=Nr||Er.pitch!==0,qn=s.evaluateSizeForZoom(eo,Er.zoom);let no,po,_i,oo,Ao=[0,0],Jo=null;if(Et){if(po=kn.glyphAtlasTexture,_i=Ar.LINEAR,no=kn.glyphAtlasTexture.size,On.iconsInText){Ao=kn.imageAtlasTexture.size,Jo=kn.imageAtlasTexture;const _l=eo.kind==="composite"||eo.kind==="camera";oo=$n||nt.options.rotating||nt.options.zooming||_l?Ar.LINEAR:Ar.NEAREST}}else{const _l=tt.layout.get("icon-size").constantOr(0)!==1||On.iconsNeedLinear;po=kn.imageAtlasTexture,_i=Gn||nt.options.rotating||nt.options.zooming||_l||$n?Ar.LINEAR:Ar.NEAREST,no=kn.imageAtlasTexture.size}const Is=nt.transform.calculatePixelsToTileUnitsMatrix(kn),Os=Cs(sn.projMatrix,kn.tileID.canonical,Nr,br,nt.transform,Is),_a=nt.terrain&&Nr&&Or?s.invert(s.create(),Os):km,Bl=zl(sn.projMatrix,kn.tileID.canonical,Nr,br,nt.transform,Is),Ql=on&&On.hasTextData(),du=tt.layout.get("icon-text-fit")!=="none"&&Ql&&On.hasIconData();if(Or){const _l=Er.elevation,Au=_l?_l.getAtTileOffsetFunc(sn,Er.center.lat,Er.worldSize,Er.projection):by=>[0,0,0];Dl(On,sn.projMatrix,nt,Et,Os,Bl,Nr,nr,Au,sn)}const eu=Or||Et&&on||du,ts=nt.translatePosMatrix(sn.projMatrix,kn,Ot,Ft),ns=eu?km:Os,Io=nt.translatePosMatrix(Bl,kn,Ot,Ft,!0),us=Er.projection.createInversionMatrix(Er,sn.canonical),yl=eu?jn.concat(["PROJECTED_POS_ON_VIEWPORT"]):jn,Qo=Gn&&tt.paint.get(Et?"text-halo-width":"icon-halo-width").constantOr(1)!==0;let Tl;Tl=Gn?On.iconsInText?Bu(eo.kind,qn,kr,Nr,nt,ts,ns,Io,no,Ao,sn,vn,Wr,us):Su(eo.kind,qn,kr,Nr,nt,ts,ns,Io,Et,no,!0,sn,vn,Wr,us):jm(eo.kind,qn,kr,Nr,nt,ts,ns,Io,Et,no,sn,vn,Wr,us);const Tp={program:nt.useProgram(o_(Gn,Et,On),bn,yl),buffers:Yn,uniformValues:Tl,atlasTexture:po,atlasTextureIcon:Jo,atlasInterpolation:_i,atlasInterpolationIcon:oo,isSDF:Gn,hasHalo:Qo,tile:kn,labelPlaneMatrixInv:_a};if(Dr&&On.canOverlap){Ur=!0;const _l=Yn.segments.get();for(const Au of _l)yn.push({segments:new s.SegmentVector([Au]),sortKey:Au.sortKey,state:Tp})}else yn.push({segments:Yn.segments,sortKey:0,state:Tp})}Ur&&yn.sort((sn,kn)=>sn.sortKey-kn.sortKey);for(const sn of yn){const kn=sn.state;if(nt.terrain&&nt.terrain.setupElevationDraw(kn.tile,kn.program,{useDepthForOcclusion:!pn,labelPlaneMatrixInv:kn.labelPlaneMatrixInv}),xr.activeTexture.set(Ar.TEXTURE0),kn.atlasTexture.bind(kn.atlasInterpolation,Ar.CLAMP_TO_EDGE),kn.atlasTextureIcon&&(xr.activeTexture.set(Ar.TEXTURE1),kn.atlasTextureIcon&&kn.atlasTextureIcon.bind(kn.atlasInterpolationIcon,Ar.CLAMP_TO_EDGE)),kn.isSDF){const On=kn.uniformValues;kn.hasHalo&&(On.u_is_halo=1,G1(kn.buffers,sn.segments,tt,nt,kn.program,jr,sr,fr,On)),On.u_is_halo=0}G1(kn.buffers,sn.segments,tt,nt,kn.program,jr,sr,fr,kn.uniformValues)}}function G1(nt,g,tt,st,Et,Ot,Ft,Wt,er){const nr=st.context;Et.draw(nr,nr.gl.TRIANGLES,Ot,Ft,Wt,s.CullFaceMode.disabled,er,tt.id,nt.layoutVertexBuffer,nt.indexBuffer,g,tt.paint,st.transform.zoom,nt.programConfigurations.get(tt.id),nt.dynamicLayoutVertexBuffer,nt.opacityVertexBuffer)}function Gp(nt,g,tt,st,Et,Ot,Ft){const Wt=nt.context.gl,er=tt.paint.get("fill-pattern"),nr=er&&er.constantOr(1),sr=tt.getCrossfadeParameters();let fr,xr,Ar,Er,br;Ft?(xr=nr&&!tt.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",fr=Wt.LINES):(xr=nr?"fillPattern":"fill",fr=Wt.TRIANGLES);for(const Nr of st){const Or=g.getTile(Nr);if(nr&&!Or.patternsLoaded())continue;const kr=Or.getBucket(tt);if(!kr)continue;nt.prepareDrawTile();const Dr=kr.programConfigurations.get(tt.id),Ur=nt.useProgram(xr,Dr);nr&&(nt.context.activeTexture.set(Wt.TEXTURE0),Or.imageAtlasTexture.bind(Wt.LINEAR,Wt.CLAMP_TO_EDGE),Dr.updatePaintBuffers(sr));const jr=er.constantOr(null);if(jr&&Or.imageAtlas){const on=Or.imageAtlas,pn=on.patternPositions[jr.to.toString()],vn=on.patternPositions[jr.from.toString()];pn&&vn&&Dr.setConstantPatternPositions(pn,vn)}const Wr=nt.translatePosMatrix(Nr.projMatrix,Or,tt.paint.get("fill-translate"),tt.paint.get("fill-translate-anchor"));if(Ft){Er=kr.indexBuffer2,br=kr.segments2;const on=nt.terrain&&nt.terrain.renderingToTexture?nt.terrain.drapeBufferSize:[Wt.drawingBufferWidth,Wt.drawingBufferHeight];Ar=xr==="fillOutlinePattern"&&nr?F1(Wr,nt,sr,Or,on):Wp(Wr,on)}else Er=kr.indexBuffer,br=kr.segments,Ar=nr?Vp(Wr,nt,sr,Or):zp(Wr);nt.prepareDrawProgram(nt.context,Ur,Nr.toUnwrapped()),Ur.draw(nt.context,fr,Et,nt.stencilModeForClipping(Nr),Ot,s.CullFaceMode.disabled,Ar,tt.id,kr.layoutVertexBuffer,Er,br,tt.paint,nt.transform.zoom,Dr)}}function Nu(nt,g,tt,st,Et,Ot,Ft){const Wt=nt.context,er=Wt.gl,nr=nt.transform,sr=tt.paint.get("fill-extrusion-pattern"),fr=sr.constantOr(1),xr=tt.getCrossfadeParameters(),Ar=tt.paint.get("fill-extrusion-opacity"),Er=function(Dr){if(Dr.projection.name!=="globe")return 0;const Ur=Math.PI/32,jr=Math.tan(Ur),Wr=s.earthRadius;return Wr*Math.sqrt(1+2*jr*jr)-Wr}(nr),br=nr.projection.name==="globe",Nr=br?s.globeToMercatorTransition(nr.zoom):0,Or=[s.mercatorXfromLng(nr.center.lng),s.mercatorYfromLat(nr.center.lat)],kr=[];br&&kr.push("PROJECTION_GLOBE_VIEW");for(const Dr of st){const Ur=g.getTile(Dr),jr=Ur.getBucket(tt);if(!jr||jr.projection!==nr.projection.name)continue;const Wr=jr.programConfigurations.get(tt.id),on=nt.useProgram(fr?"fillExtrusionPattern":"fillExtrusion",Wr,kr);if(nt.terrain){const kn=nt.terrain;if(nt.style.terrainSetForDrapingOnly())kn.setupElevationDraw(Ur,on,{useMeterToDem:!0});else{if(!jr.enableTerrain)continue;if(kn.setupElevationDraw(Ur,on,{useMeterToDem:!0}),cp(Wt,g,Dr,jr,tt,kn),!jr.centroidVertexBuffer){const On=on.attributes.a_centroid_pos;On!==void 0&&er.vertexAttrib2f(On,0,0)}}}fr&&(nt.context.activeTexture.set(er.TEXTURE0),Ur.imageAtlasTexture.bind(er.LINEAR,er.CLAMP_TO_EDGE),Wr.updatePaintBuffers(xr));const pn=sr.constantOr(null);if(pn&&Ur.imageAtlas){const kn=Ur.imageAtlas,On=kn.patternPositions[pn.to.toString()],Yn=kn.patternPositions[pn.from.toString()];On&&Yn&&Wr.setConstantPatternPositions(On,Yn)}const vn=nt.translatePosMatrix(Dr.projMatrix,Ur,tt.paint.get("fill-extrusion-translate"),tt.paint.get("fill-extrusion-translate-anchor")),yn=nr.projection.createInversionMatrix(nr,Dr.canonical),jn=tt.paint.get("fill-extrusion-vertical-gradient"),sn=fr?Up(vn,nt,jn,Ar,Dr,xr,Ur,Er,Nr,Or,yn):Fp(vn,nt,jn,Ar,Dr,Er,Nr,Or,yn);nt.prepareDrawProgram(Wt,on,Dr.toUnwrapped()),on.draw(Wt,Wt.gl.TRIANGLES,Et,Ot,Ft,s.CullFaceMode.backCCW,sn,tt.id,jr.layoutVertexBuffer,jr.indexBuffer,jr.segments,tt.paint,nt.transform.zoom,Wr,nt.terrain?jr.centroidVertexBuffer:null,br?jr.layoutVertexExtBuffer:null)}}function cp(nt,g,tt,st,Et,Ot){const Ft=[Or=>{let kr=Or.canonical.x-1,Dr=Or.wrap;return kr<0&&(kr=(1<<Or.canonical.z)-1,Dr--),new s.OverscaledTileID(Or.overscaledZ,Dr,Or.canonical.z,kr,Or.canonical.y)},Or=>{let kr=Or.canonical.x+1,Dr=Or.wrap;return kr===1<<Or.canonical.z&&(kr=0,Dr++),new s.OverscaledTileID(Or.overscaledZ,Dr,Or.canonical.z,kr,Or.canonical.y)},Or=>new s.OverscaledTileID(Or.overscaledZ,Or.wrap,Or.canonical.z,Or.canonical.x,(Or.canonical.y===0?1<<Or.canonical.z:Or.canonical.y)-1),Or=>new s.OverscaledTileID(Or.overscaledZ,Or.wrap,Or.canonical.z,Or.canonical.x,Or.canonical.y===(1<<Or.canonical.z)-1?0:Or.canonical.y+1)],Wt=Or=>{const kr=g.getSource().minzoom,Dr=jr=>{const Wr=g.getTileByID(jr);if(Wr&&Wr.hasData())return Wr.getBucket(Et)},Ur=[0,-1,1];for(const jr of Ur){if(Or.overscaledZ+jr<kr)continue;const Wr=Dr(Or.calculateScaledKey(Or.overscaledZ+jr));if(Wr)return Wr}},er=[0,0,0],nr=(Or,kr)=>(er[0]=Math.min(Or.min.y,kr.min.y),er[1]=Math.max(Or.max.y,kr.max.y),er[2]=s.EXTENT-kr.min.x>Or.max.x?kr.min.x-s.EXTENT:Or.max.x,er),sr=(Or,kr)=>(er[0]=Math.min(Or.min.x,kr.min.x),er[1]=Math.max(Or.max.x,kr.max.x),er[2]=s.EXTENT-kr.min.y>Or.max.y?kr.min.y-s.EXTENT:Or.max.y,er),fr=[(Or,kr)=>nr(Or,kr),(Or,kr)=>nr(kr,Or),(Or,kr)=>sr(Or,kr),(Or,kr)=>sr(kr,Or)],xr=new s.pointGeometry(0,0);let Ar,Er,br;const Nr=(Or,kr,Dr,Ur,jr)=>{const Wr=[[Ur?Dr:Or,Ur?Or:Dr,0],[Ur?Dr:kr,Ur?kr:Dr,0]],on=jr<0?s.EXTENT+jr:jr,pn=[Ur?on:(Or+kr)/2,Ur?(Or+kr)/2:on,0];return Dr===0&&jr<0||Dr!==0&&jr>0?Ot.getForTilePoints(br,[pn],!0,Er):Wr.push(pn),Ot.getForTilePoints(tt,Wr,!0,Ar),Math.max(Wr[0][2],Wr[1][2],pn[2])/Ot.exaggeration()};for(let Or=0;Or<4;Or++){const kr=(Or<2?1:5)-Or,Dr=st.borders[Or];if(Dr.length===0)continue;const Ur=br=Ft[Or](tt),jr=Wt(Ur);if(!(jr&&jr instanceof s.FillExtrusionBucket&&jr.enableTerrain)||st.borderDoneWithNeighborZ[Or]===jr.canonical.z&&jr.borderDoneWithNeighborZ[kr]===st.canonical.z||(Er=Ot.findDEMTileFor(Ur),!Er||!Er.dem))continue;if(!Ar){const vn=Ot.findDEMTileFor(tt);if(!vn||!vn.dem)return;Ar=vn}const Wr=jr.borders[kr];let on=0;const pn=jr.borderDoneWithNeighborZ[kr]!==st.canonical.z;if(st.canonical.z===jr.canonical.z){for(let vn=0;vn<Dr.length;vn++){const yn=st.featuresOnBorder[Dr[vn]],jn=yn.borders[Or];let sn;for(;on<Wr.length&&(sn=jr.featuresOnBorder[Wr[on]],!(sn.borders[kr][1]>jn[0]+3));)pn&&jr.encodeCentroid(void 0,sn,!1),on++;if(sn&&on<Wr.length){const kn=on;let On=0;for(;!(sn.borders[kr][0]>jn[1]-3)&&(On++,++on!==Wr.length);)sn=jr.featuresOnBorder[Wr[on]];if(sn=jr.featuresOnBorder[Wr[kn]],yn.intersectsCount()>1||sn.intersectsCount()>1||On!==1){On!==1&&(on=kn),st.encodeCentroid(void 0,yn,!1),pn&&jr.encodeCentroid(void 0,sn,!1);continue}const Yn=fr[Or](yn,sn),bn=Or%2?s.EXTENT-1:0;xr.x=Nr(Yn[0],Math.min(s.EXTENT-1,Yn[1]),bn,Or<2,Yn[2]),xr.y=0,st.encodeCentroid(xr,yn,!1),pn&&jr.encodeCentroid(xr,sn,!1)}else st.encodeCentroid(void 0,yn,!1)}st.borderDoneWithNeighborZ[Or]=jr.canonical.z,st.needsCentroidUpdate=!0,pn&&(jr.borderDoneWithNeighborZ[kr]=st.canonical.z,jr.needsCentroidUpdate=!0)}else{for(const vn of Dr)st.encodeCentroid(void 0,st.featuresOnBorder[vn],!1);if(pn){for(const vn of Wr)jr.encodeCentroid(void 0,jr.featuresOnBorder[vn],!1);jr.borderDoneWithNeighborZ[kr]=st.canonical.z,jr.needsCentroidUpdate=!0}st.borderDoneWithNeighborZ[Or]=jr.canonical.z,st.needsCentroidUpdate=!0}}(st.needsCentroidUpdate||!st.centroidVertexBuffer&&st.centroidVertexArray.length!==0)&&st.uploadCentroid(nt)}const Bm=new s.Color(1,0,0,1),Nm=new s.Color(0,1,0,1),Z1=new s.Color(0,0,1,1),Zp=new s.Color(1,0,1,1),$p=new s.Color(0,1,1,1);function Fn(nt,g,tt,st){hp(nt,0,g+tt/2,nt.transform.width,tt,st)}function Sl(nt,g,tt,st){hp(nt,g-tt/2,0,tt,nt.transform.height,st)}function hp(nt,g,tt,st,Et,Ot){const Ft=nt.context,Wt=Ft.gl;Wt.enable(Wt.SCISSOR_TEST),Wt.scissor(g*s.exported.devicePixelRatio,tt*s.exported.devicePixelRatio,st*s.exported.devicePixelRatio,Et*s.exported.devicePixelRatio),Ft.clear({color:Ot}),Wt.disable(Wt.SCISSOR_TEST)}function $1(nt,g,tt){const st=nt.context,Et=st.gl,Ot=nt.transform.projection.name==="globe",Ft=tt.projMatrix,Wt=nt.useProgram("debug",null,Ot?["PROJECTION_GLOBE_VIEW"]:null),er=g.getTileByID(tt.key);nt.terrain&&nt.terrain.setupElevationDraw(er,Wt);const nr=s.DepthMode.disabled,sr=s.StencilMode.disabled,fr=nt.colorModeForRenderPass(),xr="$debug";st.activeTexture.set(Et.TEXTURE0),nt.emptyTexture.bind(Et.LINEAR,Et.CLAMP_TO_EDGE),Ot?er._makeGlobeTileDebugBuffers(nt.context,nt.transform.projection):er._makeDebugTileBoundsBuffers(nt.context,nt.transform.projection);const Ar=er._tileDebugBuffer||nt.debugBuffer,Er=er._tileDebugIndexBuffer||nt.debugIndexBuffer,br=er._tileDebugSegments||nt.debugSegments;Wt.draw(st,Et.LINE_STRIP,nr,sr,fr,s.CullFaceMode.disabled,z1(Ft,s.Color.red),xr,Ar,Er,br,null,null,null,er._globeTileDebugBorderBuffer);const Nr=er.latestRawTileData,Or=Math.floor((Nr&&Nr.byteLength||0)/1024),kr=g.getTile(tt).tileSize,Dr=512/Math.min(kr,512)*(tt.overscaledZ/nt.transform.zoom)*.5;let Ur=tt.canonical.toString();tt.overscaledZ!==tt.canonical.z&&(Ur+=` => ${tt.overscaledZ}`),function(pn,vn){pn.initDebugOverlayCanvas();const yn=pn.debugOverlayCanvas,jn=pn.context.gl,sn=pn.debugOverlayCanvas.getContext("2d");sn.clearRect(0,0,yn.width,yn.height),sn.shadowColor="white",sn.shadowBlur=2,sn.lineWidth=1.5,sn.strokeStyle="white",sn.textBaseline="top",sn.font="bold 36px Open Sans, sans-serif",sn.fillText(vn,5,5),sn.strokeText(vn,5,5),pn.debugOverlayTexture.update(yn),pn.debugOverlayTexture.bind(jn.LINEAR,jn.CLAMP_TO_EDGE)}(nt,`${Ur} ${Or}kb`);const jr=er._tileDebugTextBuffer||nt.debugBuffer,Wr=er._tileDebugTextIndexBuffer||nt.quadTriangleIndexBuffer,on=er._tileDebugTextSegments||nt.debugSegments;Wt.draw(st,Et.TRIANGLES,nr,sr,s.ColorMode.alphaBlended,s.CullFaceMode.disabled,z1(Ft,s.Color.transparent,Dr),xr,jr,Wr,on,null,null,null,er._globeTileDebugTextBuffer)}const q1=s.createLayout([{name:"a_pos_3f",components:3,type:"Float32"}]),{members:Fu}=q1;function Xl(nt,g,tt,st){nt.emplaceBack(g,tt,st)}class dp{constructor(g){this.vertexArray=new s.StructArrayLayout3f12,this.indices=new s.StructArrayLayout3ui6,Xl(this.vertexArray,-1,-1,1),Xl(this.vertexArray,1,-1,1),Xl(this.vertexArray,-1,1,1),Xl(this.vertexArray,1,1,1),Xl(this.vertexArray,-1,-1,-1),Xl(this.vertexArray,1,-1,-1),Xl(this.vertexArray,-1,1,-1),Xl(this.vertexArray,1,1,-1),this.indices.emplaceBack(5,1,3),this.indices.emplaceBack(3,7,5),this.indices.emplaceBack(6,2,0),this.indices.emplaceBack(0,4,6),this.indices.emplaceBack(2,6,7),this.indices.emplaceBack(7,3,2),this.indices.emplaceBack(5,4,0),this.indices.emplaceBack(0,1,5),this.indices.emplaceBack(0,2,3),this.indices.emplaceBack(3,1,0),this.indices.emplaceBack(7,6,4),this.indices.emplaceBack(4,5,7),this.vertexBuffer=g.createVertexBuffer(this.vertexArray,Fu),this.indexBuffer=g.createIndexBuffer(this.indices),this.segment=s.SegmentVector.simpleSegment(0,0,36,12)}}function au(nt,g,tt,st,Et,Ot){const Ft=nt.gl,Wt=g.paint.get("sky-atmosphere-color"),er=g.paint.get("sky-atmosphere-halo-color"),nr=g.paint.get("sky-atmosphere-sun-intensity"),sr=((fr,xr,Ar,Er,br)=>({u_matrix_3f:fr,u_sun_direction:xr,u_sun_intensity:Ar,u_color_tint_r:[Er.r,Er.g,Er.b,Er.a],u_color_tint_m:[br.r,br.g,br.b,br.a],u_luminance:5e-5}))(s.fromMat4(s.create$1(),st),Et,nr,Wt,er);Ft.framebufferTexture2D(Ft.FRAMEBUFFER,Ft.COLOR_ATTACHMENT0,Ft.TEXTURE_CUBE_MAP_POSITIVE_X+Ot,g.skyboxTexture,0),tt.draw(nt,Ft.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,s.ColorMode.unblended,s.CullFaceMode.frontCW,sr,"skyboxCapture",g.skyboxGeometry.vertexBuffer,g.skyboxGeometry.indexBuffer,g.skyboxGeometry.segment)}function lu(nt,g){return s.transformMat4(nt,nt,g)}const Fm={symbol:function(nt,g,tt,st,Et){if(nt.renderPass!=="translucent")return;const Ot=s.StencilMode.disabled,Ft=nt.colorModeForRenderPass();tt.layout.get("text-variable-anchor")&&function(Wt,er,nr,sr,fr,xr,Ar){const Er=er.transform,br=fr==="map",Nr=xr==="map";for(const Or of Wt){const kr=sr.getTile(Or),Dr=kr.getBucket(nr);if(!Dr||Dr.projection!==Er.projection.name||!Dr.text||!Dr.text.segments.get().length)continue;const Ur=s.evaluateSizeForZoom(Dr.textSizeData,Er.zoom),jr=er.transform.calculatePixelsToTileUnitsMatrix(kr),Wr=Cs(Or.projMatrix,kr.tileID.canonical,Nr,br,er.transform,jr),on=nr.layout.get("icon-text-fit")!=="none"&&Dr.hasIconData();if(Ur){const pn=Math.pow(2,Er.zoom-kr.tileID.overscaledZ);i_(Dr,br,Nr,Ar,s.symbolSize,Er,Wr,Or,pn,Ur,on,Er.projection)}}}(st,nt,tt,g,tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),Et),tt.paint.get("icon-opacity").constantOr(1)!==0&&Dm(nt,g,tt,st,!1,tt.paint.get("icon-translate"),tt.paint.get("icon-translate-anchor"),tt.layout.get("icon-rotation-alignment"),tt.layout.get("icon-pitch-alignment"),tt.layout.get("icon-keep-upright"),Ot,Ft),tt.paint.get("text-opacity").constantOr(1)!==0&&Dm(nt,g,tt,st,!0,tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),tt.layout.get("text-rotation-alignment"),tt.layout.get("text-pitch-alignment"),tt.layout.get("text-keep-upright"),Ot,Ft),g.map.showCollisionBoxes&&(H1(nt,g,tt,st,tt.paint.get("text-translate"),tt.paint.get("text-translate-anchor"),!0),H1(nt,g,tt,st,tt.paint.get("icon-translate"),tt.paint.get("icon-translate-anchor"),!1))},circle:function(nt,g,tt,st){if(nt.renderPass!=="translucent")return;const Et=tt.paint.get("circle-opacity"),Ot=tt.paint.get("circle-stroke-width"),Ft=tt.paint.get("circle-stroke-opacity"),Wt=tt.layout.get("circle-sort-key").constantOr(1)!==void 0;if(Et.constantOr(1)===0&&(Ot.constantOr(1)===0||Ft.constantOr(1)===0))return;const er=nt.context,nr=er.gl,sr=nt.transform,fr=nt.depthModeForSublayer(0,s.DepthMode.ReadOnly),xr=s.StencilMode.disabled,Ar=nt.colorModeForRenderPass(),Er=sr.projection.name==="globe",br=[s.mercatorXfromLng(sr.center.lng),s.mercatorYfromLat(sr.center.lat)],Nr=[];for(let kr=0;kr<st.length;kr++){const Dr=st[kr],Ur=g.getTile(Dr),jr=Ur.getBucket(tt);if(!jr)continue;const Wr=jr.programConfigurations.get(tt.id),on=Qy(tt);Er&&on.push("PROJECTION_GLOBE_VIEW");const pn=nt.useProgram("circle",Wr,on),vn=jr.layoutVertexBuffer,yn=jr.globeExtVertexBuffer,jn=jr.indexBuffer,sn=sr.projection.createInversionMatrix(sr,Dr.canonical),kn={programConfiguration:Wr,program:pn,layoutVertexBuffer:vn,globeExtVertexBuffer:yn,indexBuffer:jn,uniformValues:Du(nt,Dr,Ur,sn,br,tt),tile:Ur};if(Wt){const On=jr.segments.get();for(const Yn of On)Nr.push({segments:new s.SegmentVector([Yn]),sortKey:Yn.sortKey,state:kn})}else Nr.push({segments:jr.segments,sortKey:0,state:kn})}Wt&&Nr.sort((kr,Dr)=>kr.sortKey-Dr.sortKey);const Or={useDepthForOcclusion:!Er};for(const kr of Nr){const{programConfiguration:Dr,program:Ur,layoutVertexBuffer:jr,globeExtVertexBuffer:Wr,indexBuffer:on,uniformValues:pn,tile:vn}=kr.state,yn=kr.segments;nt.terrain&&nt.terrain.setupElevationDraw(vn,Ur,Or),nt.prepareDrawProgram(er,Ur,vn.tileID.toUnwrapped()),Ur.draw(er,nr.TRIANGLES,fr,xr,Ar,s.CullFaceMode.disabled,pn,tt.id,jr,on,yn,tt.paint,sr.zoom,Dr,Er?Wr:null)}},heatmap:function(nt,g,tt,st){if(tt.paint.get("heatmap-opacity")!==0)if(nt.renderPass==="offscreen"){const Et=nt.context,Ot=Et.gl,Ft=s.StencilMode.disabled,Wt=new s.ColorMode([Ot.ONE,Ot.ONE],s.Color.transparent,[!0,!0,!0,!0]);(function(xr,Ar,Er){const br=xr.gl;xr.activeTexture.set(br.TEXTURE1),xr.viewport.set([0,0,Ar.width/4,Ar.height/4]);let Nr=Er.heatmapFbo;if(Nr)br.bindTexture(br.TEXTURE_2D,Nr.colorAttachment.get()),xr.bindFramebuffer.set(Nr.framebuffer);else{const Or=br.createTexture();br.bindTexture(br.TEXTURE_2D,Or),br.texParameteri(br.TEXTURE_2D,br.TEXTURE_WRAP_S,br.CLAMP_TO_EDGE),br.texParameteri(br.TEXTURE_2D,br.TEXTURE_WRAP_T,br.CLAMP_TO_EDGE),br.texParameteri(br.TEXTURE_2D,br.TEXTURE_MIN_FILTER,br.LINEAR),br.texParameteri(br.TEXTURE_2D,br.TEXTURE_MAG_FILTER,br.LINEAR),Nr=Er.heatmapFbo=xr.createFramebuffer(Ar.width/4,Ar.height/4,!1),function(kr,Dr,Ur,jr){const Wr=kr.gl;Wr.texImage2D(Wr.TEXTURE_2D,0,Wr.RGBA,Dr.width/4,Dr.height/4,0,Wr.RGBA,kr.extRenderToTextureHalfFloat?kr.extTextureHalfFloat.HALF_FLOAT_OES:Wr.UNSIGNED_BYTE,null),jr.colorAttachment.set(Ur)}(xr,Ar,Or,Nr)}})(Et,nt,tt),Et.clear({color:s.Color.transparent});const er=nt.transform,nr=er.projection.name==="globe",sr=nr?["PROJECTION_GLOBE_VIEW"]:null,fr=[s.mercatorXfromLng(er.center.lng),s.mercatorYfromLat(er.center.lat)];for(let xr=0;xr<st.length;xr++){const Ar=st[xr];if(g.hasRenderableParent(Ar))continue;const Er=g.getTile(Ar),br=Er.getBucket(tt);if(!br)continue;const Nr=br.programConfigurations.get(tt.id),Or=nt.useProgram("heatmap",Nr,sr),{zoom:kr}=nt.transform;nt.terrain&&nt.terrain.setupElevationDraw(Er,Or),nt.prepareDrawProgram(Et,Or,Ar.toUnwrapped());const Dr=er.projection.createInversionMatrix(er,Ar.canonical);Or.draw(Et,Ot.TRIANGLES,s.DepthMode.disabled,Ft,Wt,s.CullFaceMode.disabled,r_(nt,Ar,Er,Dr,fr,kr,tt.paint.get("heatmap-intensity")),tt.id,br.layoutVertexBuffer,br.indexBuffer,br.segments,tt.paint,nt.transform.zoom,Nr,nr?br.globeExtVertexBuffer:null)}Et.viewport.set([0,0,nt.width,nt.height])}else nt.renderPass==="translucent"&&(nt.context.setColorMode(nt.colorModeForRenderPass()),function(Et,Ot){const Ft=Et.context,Wt=Ft.gl,er=Ot.heatmapFbo;if(!er)return;Ft.activeTexture.set(Wt.TEXTURE0),Wt.bindTexture(Wt.TEXTURE_2D,er.colorAttachment.get()),Ft.activeTexture.set(Wt.TEXTURE1);let nr=Ot.colorRampTexture;nr||(nr=Ot.colorRampTexture=new s.Texture(Ft,Ot.colorRamp,Wt.RGBA)),nr.bind(Wt.LINEAR,Wt.CLAMP_TO_EDGE),Et.useProgram("heatmapTexture").draw(Ft,Wt.TRIANGLES,s.DepthMode.disabled,s.StencilMode.disabled,Et.colorModeForRenderPass(),s.CullFaceMode.disabled,((sr,fr,xr,Ar)=>({u_image:0,u_color_ramp:1,u_opacity:fr.paint.get("heatmap-opacity")}))(0,Ot),Ot.id,Et.viewportBuffer,Et.quadTriangleIndexBuffer,Et.viewportSegments,Ot.paint,Et.transform.zoom)}(nt,tt))},line:function(nt,g,tt,st){if(nt.renderPass!=="translucent")return;const Et=tt.paint.get("line-opacity"),Ot=tt.paint.get("line-width");if(Et.constantOr(1)===0||Ot.constantOr(1)===0)return;const Ft=nt.depthModeForSublayer(0,s.DepthMode.ReadOnly),Wt=nt.colorModeForRenderPass(),er=nt.terrain&&nt.terrain.renderingToTexture?1:s.exported.devicePixelRatio,nr=tt.paint.get("line-dasharray"),sr=nr.constantOr(1),fr=tt.layout.get("line-cap"),xr=tt.paint.get("line-pattern"),Ar=xr.constantOr(1),Er=tt.paint.get("line-gradient"),br=tt.getCrossfadeParameters(),Nr=Ar?"linePattern":"line",Or=nt.context,kr=Or.gl,Dr=(jr=>{const Wr=[];Om(jr)&&Wr.push("RENDER_LINE_DASH"),jr.paint.get("line-gradient")&&Wr.push("RENDER_LINE_GRADIENT");const on=jr.paint.get("line-pattern").constantOr(1),pn=jr.paint.get("line-opacity").constantOr(1)!==1;return!on&&pn&&Wr.push("RENDER_LINE_ALPHA_DISCARD"),Wr})(tt);let Ur=Dr.includes("RENDER_LINE_ALPHA_DISCARD");nt.terrain&&nt.terrain.clipOrMaskOverlapStencilType()&&(Ur=!1);for(const jr of st){const Wr=g.getTile(jr);if(Ar&&!Wr.patternsLoaded())continue;const on=Wr.getBucket(tt);if(!on)continue;nt.prepareDrawTile();const pn=on.programConfigurations.get(tt.id),vn=nt.useProgram(Nr,pn,Dr),yn=xr.constantOr(null);if(yn&&Wr.imageAtlas){const bn=Wr.imageAtlas,Gn=bn.patternPositions[yn.to.toString()],eo=bn.patternPositions[yn.from.toString()];Gn&&eo&&pn.setConstantPatternPositions(Gn,eo)}const jn=nr.constantOr(null),sn=fr.constantOr(null);if(!Ar&&jn&&sn&&Wr.lineAtlas){const bn=Wr.lineAtlas,Gn=bn.getDash(jn.to,sn),eo=bn.getDash(jn.from,sn);Gn&&eo&&pn.setConstantPatternPositions(Gn,eo)}const kn=nt.terrain?jr.projMatrix:null,On=Ar?Im(nt,Wr,tt,br,kn,er):n_(nt,Wr,tt,br,kn,on.lineClipsArray.length,er);if(Er){const bn=on.gradients[tt.id];let Gn=bn.texture;if(tt.gradientVersion!==bn.version){let eo=256;if(tt.stepInterpolant){const $n=g.getSource().maxzoom,qn=jr.canonical.z===$n?Math.ceil(1<<nt.transform.maxZoom-jr.canonical.z):1;eo=s.clamp(s.nextPowerOfTwo(on.maxLineLength/s.EXTENT*1024*qn),256,Or.maxTextureSize)}bn.gradient=s.renderColorRamp({expression:tt.gradientExpression(),evaluationKey:"lineProgress",resolution:eo,image:bn.gradient||void 0,clips:on.lineClipsArray}),bn.texture?bn.texture.update(bn.gradient):bn.texture=new s.Texture(Or,bn.gradient,kr.RGBA),bn.version=tt.gradientVersion,Gn=bn.texture}Or.activeTexture.set(kr.TEXTURE1),Gn.bind(tt.stepInterpolant?kr.NEAREST:kr.LINEAR,kr.CLAMP_TO_EDGE)}sr&&(Or.activeTexture.set(kr.TEXTURE0),Wr.lineAtlasTexture.bind(kr.LINEAR,kr.REPEAT),pn.updatePaintBuffers(br)),Ar&&(Or.activeTexture.set(kr.TEXTURE0),Wr.imageAtlasTexture.bind(kr.LINEAR,kr.CLAMP_TO_EDGE),pn.updatePaintBuffers(br)),nt.prepareDrawProgram(Or,vn,jr.toUnwrapped());const Yn=bn=>{vn.draw(Or,kr.TRIANGLES,Ft,bn,Wt,s.CullFaceMode.disabled,On,tt.id,on.layoutVertexBuffer,on.indexBuffer,on.segments,tt.paint,nt.transform.zoom,pn,on.layoutVertexBuffer2)};if(Ur){const bn=nt.stencilModeForClipping(jr).ref;bn===0&&nt.terrain&&Or.clear({stencil:0});const Gn={func:kr.EQUAL,mask:255};On.u_alpha_discard_threshold=.8,Yn(new s.StencilMode(Gn,bn,255,kr.KEEP,kr.KEEP,kr.INVERT)),On.u_alpha_discard_threshold=0,Yn(new s.StencilMode(Gn,bn,255,kr.KEEP,kr.KEEP,kr.KEEP))}else Yn(nt.stencilModeForClipping(jr))}Ur&&(nt.resetStencilClippingMasks(),nt.terrain&&Or.clear({stencil:0}))},fill:function(nt,g,tt,st){const Et=tt.paint.get("fill-color"),Ot=tt.paint.get("fill-opacity");if(Ot.constantOr(1)===0)return;const Ft=nt.colorModeForRenderPass(),Wt=tt.paint.get("fill-pattern"),er=nt.opaquePassEnabledForLayer()&&!Wt.constantOr(1)&&Et.constantOr(s.Color.transparent).a===1&&Ot.constantOr(0)===1?"opaque":"translucent";if(nt.renderPass===er){const nr=nt.depthModeForSublayer(1,nt.renderPass==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly);Gp(nt,g,tt,st,nr,Ft,!1)}if(nt.renderPass==="translucent"&&tt.paint.get("fill-antialias")){const nr=nt.depthModeForSublayer(tt.getPaintProperty("fill-outline-color")?2:0,s.DepthMode.ReadOnly);Gp(nt,g,tt,st,nr,Ft,!0)}},"fill-extrusion":function(nt,g,tt,st){const Et=tt.paint.get("fill-extrusion-opacity");if(Et!==0&&nt.renderPass==="translucent"){const Ot=new s.DepthMode(nt.context.gl.LEQUAL,s.DepthMode.ReadWrite,nt.depthRangeFor3D);if(Et!==1||tt.paint.get("fill-extrusion-pattern").constantOr(1))Nu(nt,g,tt,st,Ot,s.StencilMode.disabled,s.ColorMode.disabled),Nu(nt,g,tt,st,Ot,nt.stencilModeFor3D(),nt.colorModeForRenderPass()),nt.resetStencilClippingMasks();else{const Ft=nt.colorModeForRenderPass();Nu(nt,g,tt,st,Ot,s.StencilMode.disabled,Ft)}}},hillshade:function(nt,g,tt,st){if(nt.renderPass!=="offscreen"&&nt.renderPass!=="translucent")return;const Et=nt.context,Ot=nt.depthModeForSublayer(0,s.DepthMode.ReadOnly),Ft=nt.colorModeForRenderPass(),Wt=nt.terrain&&nt.terrain.renderingToTexture,[er,nr]=nt.renderPass!=="translucent"||Wt?[{},st]:nt.stencilConfigForOverlap(st);for(const sr of nr){const fr=g.getTile(sr);if(fr.needsHillshadePrepare&&nt.renderPass==="offscreen")Em(nt,fr,tt,Ot,s.StencilMode.disabled,Ft);else if(nt.renderPass==="translucent"){const xr=Wt&&nt.terrain?nt.terrain.stencilModeForRTTOverlap(sr):er[sr.overscaledZ];D1(nt,sr,fr,tt,Ot,xr,Ft)}}Et.viewport.set([0,0,nt.width,nt.height]),nt.resetStencilClippingMasks()},raster:function(nt,g,tt,st,Et,Ot){if(nt.renderPass!=="translucent"||tt.paint.get("raster-opacity")===0||!st.length)return;const Ft=nt.context,Wt=Ft.gl,er=g.getSource(),nr=nt.useProgram("raster"),sr=nt.colorModeForRenderPass(),fr=nt.terrain&&nt.terrain.renderingToTexture,[xr,Ar]=er instanceof Hr||fr?[{},st]:nt.stencilConfigForOverlap(st),Er=Ar[Ar.length-1].overscaledZ,br=!nt.options.moving;for(const Nr of Ar){const Or=fr?s.DepthMode.disabled:nt.depthModeForSublayer(Nr.overscaledZ-Er,tt.paint.get("raster-opacity")===1?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly,Wt.LESS),kr=Nr.toUnwrapped(),Dr=g.getTile(Nr);if(fr&&(!Dr||!Dr.hasData()))continue;const Ur=fr?Nr.projMatrix:nt.transform.calculateProjMatrix(kr,br),jr=nt.terrain&&fr?nt.terrain.stencilModeForRTTOverlap(Nr):xr[Nr.overscaledZ],Wr=Ot?0:tt.paint.get("raster-fade-duration");Dr.registerFadeDuration(Wr);const on=g.findLoadedParent(Nr,0),pn=Cm(Dr,on,g,nt.transform,Wr);let vn,yn;nt.terrain&&nt.terrain.prepareDrawTile();const jn=tt.paint.get("raster-resampling")==="nearest"?Wt.NEAREST:Wt.LINEAR;Ft.activeTexture.set(Wt.TEXTURE0),Dr.texture.bind(jn,Wt.CLAMP_TO_EDGE),Ft.activeTexture.set(Wt.TEXTURE1),on?(on.texture.bind(jn,Wt.CLAMP_TO_EDGE),vn=Math.pow(2,on.tileID.overscaledZ-Dr.tileID.overscaledZ),yn=[Dr.tileID.canonical.x*vn%1,Dr.tileID.canonical.y*vn%1]):Dr.texture.bind(jn,Wt.CLAMP_TO_EDGE);const sn=V1(Ur,yn||[0,0],vn||1,pn,tt,er instanceof Hr?er.perspectiveTransform:[0,0]);if(nt.prepareDrawProgram(Ft,nr,kr),er instanceof Hr)er.boundsBuffer&&er.boundsSegments&&nr.draw(Ft,Wt.TRIANGLES,Or,s.StencilMode.disabled,sr,s.CullFaceMode.disabled,sn,tt.id,er.boundsBuffer,nt.quadTriangleIndexBuffer,er.boundsSegments);else{const{tileBoundsBuffer:kn,tileBoundsIndexBuffer:On,tileBoundsSegments:Yn}=nt.getTileBoundsBuffers(Dr);nr.draw(Ft,Wt.TRIANGLES,Or,jr,sr,s.CullFaceMode.disabled,sn,tt.id,kn,On,Yn)}}nt.resetStencilClippingMasks()},background:function(nt,g,tt,st){const Et=tt.paint.get("background-color"),Ot=tt.paint.get("background-opacity");if(Ot===0)return;const Ft=nt.context,Wt=Ft.gl,er=nt.transform,nr=er.tileSize,sr=tt.paint.get("background-pattern");if(nt.isPatternMissing(sr))return;const fr=!sr&&Et.a===1&&Ot===1&&nt.opaquePassEnabledForLayer()?"opaque":"translucent";if(nt.renderPass!==fr)return;const xr=s.StencilMode.disabled,Ar=nt.depthModeForSublayer(0,fr==="opaque"?s.DepthMode.ReadWrite:s.DepthMode.ReadOnly),Er=nt.colorModeForRenderPass(),br=nt.useProgram(sr?"backgroundPattern":"background");let Nr,Or=st;Or||(Nr=nt.getBackgroundTiles(),Or=Object.values(Nr).map(Dr=>Dr.tileID)),sr&&(Ft.activeTexture.set(Wt.TEXTURE0),nt.imageManager.bind(nt.context));const kr=tt.getCrossfadeParameters();for(const Dr of Or){const Ur=Dr.toUnwrapped(),jr=st?Dr.projMatrix:nt.transform.calculateProjMatrix(Ur);nt.prepareDrawTile();const Wr=g?g.getTile(Dr):Nr?Nr[Dr.key]:new s.Tile(Dr,nr,er.zoom,nt),on=sr?Pm(jr,Ot,nt,sr,{tileID:Dr,tileSize:nr},kr):W1(jr,Ot,Et);nt.prepareDrawProgram(Ft,br,Ur);const{tileBoundsBuffer:pn,tileBoundsIndexBuffer:vn,tileBoundsSegments:yn}=nt.getTileBoundsBuffers(Wr);br.draw(Ft,Wt.TRIANGLES,Ar,xr,Er,s.CullFaceMode.disabled,on,tt.id,pn,vn,yn)}},sky:function(nt,g,tt){const st=nt.transform,Et=st.projection.name==="mercator"||st.projection.name==="globe"?1:s.smoothstep(7,8,st.zoom),Ot=tt.paint.get("sky-opacity")*Et;if(Ot===0)return;const Ft=nt.context,Wt=tt.paint.get("sky-type"),er=new s.DepthMode(Ft.gl.LEQUAL,s.DepthMode.ReadOnly,[0,1]),nr=nt.frameCounter/1e3%1;Wt==="atmosphere"?nt.renderPass==="offscreen"?tt.needsSkyboxCapture(nt)&&(function(sr,fr,xr,Ar){const Er=sr.context,br=Er.gl;let Nr=fr.skyboxFbo;if(!Nr){Nr=fr.skyboxFbo=Er.createFramebuffer(32,32,!1),fr.skyboxGeometry=new dp(Er),fr.skyboxTexture=Er.gl.createTexture(),br.bindTexture(br.TEXTURE_CUBE_MAP,fr.skyboxTexture),br.texParameteri(br.TEXTURE_CUBE_MAP,br.TEXTURE_WRAP_S,br.CLAMP_TO_EDGE),br.texParameteri(br.TEXTURE_CUBE_MAP,br.TEXTURE_WRAP_T,br.CLAMP_TO_EDGE),br.texParameteri(br.TEXTURE_CUBE_MAP,br.TEXTURE_MIN_FILTER,br.LINEAR),br.texParameteri(br.TEXTURE_CUBE_MAP,br.TEXTURE_MAG_FILTER,br.LINEAR);for(let Ur=0;Ur<6;++Ur)br.texImage2D(br.TEXTURE_CUBE_MAP_POSITIVE_X+Ur,0,br.RGBA,32,32,0,br.RGBA,br.UNSIGNED_BYTE,null)}Er.bindFramebuffer.set(Nr.framebuffer),Er.viewport.set([0,0,32,32]);const Or=fr.getCenter(sr,!0),kr=sr.useProgram("skyboxCapture"),Dr=new Float64Array(16);s.identity(Dr),s.rotateY(Dr,Dr,.5*-Math.PI),au(Er,fr,kr,Dr,Or,0),s.identity(Dr),s.rotateY(Dr,Dr,.5*Math.PI),au(Er,fr,kr,Dr,Or,1),s.identity(Dr),s.rotateX(Dr,Dr,.5*-Math.PI),au(Er,fr,kr,Dr,Or,2),s.identity(Dr),s.rotateX(Dr,Dr,.5*Math.PI),au(Er,fr,kr,Dr,Or,3),s.identity(Dr),au(Er,fr,kr,Dr,Or,4),s.identity(Dr),s.rotateY(Dr,Dr,Math.PI),au(Er,fr,kr,Dr,Or,5),Er.viewport.set([0,0,sr.width,sr.height])}(nt,tt),tt.markSkyboxValid(nt)):nt.renderPass==="sky"&&function(sr,fr,xr,Ar,Er){const br=sr.context,Nr=br.gl,Or=sr.transform,kr=sr.useProgram("skybox");br.activeTexture.set(Nr.TEXTURE0),Nr.bindTexture(Nr.TEXTURE_CUBE_MAP,fr.skyboxTexture);const Dr=((Ur,jr,Wr,on,pn)=>({u_matrix:Ur,u_sun_direction:jr,u_cubemap:0,u_opacity:on,u_temporal_offset:pn}))(Or.skyboxMatrix,fr.getCenter(sr,!1),0,Ar,Er);sr.prepareDrawProgram(br,kr),kr.draw(br,Nr.TRIANGLES,xr,s.StencilMode.disabled,sr.colorModeForRenderPass(),s.CullFaceMode.backCW,Dr,"skybox",fr.skyboxGeometry.vertexBuffer,fr.skyboxGeometry.indexBuffer,fr.skyboxGeometry.segment)}(nt,tt,er,Ot,nr):Wt==="gradient"&&nt.renderPass==="sky"&&function(sr,fr,xr,Ar,Er){const br=sr.context,Nr=br.gl,Or=sr.transform,kr=sr.useProgram("skyboxGradient");fr.skyboxGeometry||(fr.skyboxGeometry=new dp(br)),br.activeTexture.set(Nr.TEXTURE0);let Dr=fr.colorRampTexture;Dr||(Dr=fr.colorRampTexture=new s.Texture(br,fr.colorRamp,Nr.RGBA)),Dr.bind(Nr.LINEAR,Nr.CLAMP_TO_EDGE);const Ur=((jr,Wr,on,pn,vn)=>({u_matrix:jr,u_color_ramp:0,u_center_direction:Wr,u_radius:s.degToRad(on),u_opacity:pn,u_temporal_offset:vn}))(Or.skyboxMatrix,fr.getCenter(sr,!1),fr.paint.get("sky-gradient-radius"),Ar,Er);sr.prepareDrawProgram(br,kr),kr.draw(br,Nr.TRIANGLES,xr,s.StencilMode.disabled,sr.colorModeForRenderPass(),s.CullFaceMode.backCW,Ur,"skyboxGradient",fr.skyboxGeometry.vertexBuffer,fr.skyboxGeometry.indexBuffer,fr.skyboxGeometry.segment)}(nt,tt,er,Ot,nr)},debug:function(nt,g,tt){for(let st=0;st<tt.length;st++)$1(nt,g,tt[st])},custom:function(nt,g,tt){const st=nt.context,Et=tt.implementation;if(nt.transform.projection.unsupportedLayers&&nt.transform.projection.unsupportedLayers.includes("custom"))s.warnOnce("Custom layers are not yet supported with non-mercator projections. Use mercator to enable custom layers.");else if(nt.renderPass==="offscreen"){const Ot=Et.prerender;Ot&&(nt.setCustomLayerDefaults(),st.setColorMode(nt.colorModeForRenderPass()),Ot.call(Et,st.gl,nt.transform.customLayerMatrix()),st.setDirty(),nt.setBaseState())}else if(nt.renderPass==="translucent"){nt.setCustomLayerDefaults(),st.setColorMode(nt.colorModeForRenderPass()),st.setStencilMode(s.StencilMode.disabled);const Ot=Et.renderingMode==="3d"?new s.DepthMode(nt.context.gl.LEQUAL,s.DepthMode.ReadWrite,nt.depthRangeFor3D):nt.depthModeForSublayer(0,s.DepthMode.ReadOnly);st.setDepthMode(Ot),Et.render(st.gl,nt.transform.customLayerMatrix()),st.setDirty(),nt.setBaseState(),st.bindFramebuffer.set(null)}}};class Y1{constructor(g,tt){this.context=new dr(g),this.transform=tt,this._tileTextures={},this.frameCopies=[],this.loadTimeStamps=[],this.setup(),this.numSublayers=s.SourceCache.maxUnderzooming+s.SourceCache.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new bo,this.gpuTimers={},this.frameCounter=0,this._backgroundTiles={},this._tileClippingMaskIDs=new Map,this._skippedStencilTileIDs=new Set}updateTerrain(g,tt){const st=!!g&&!!g.terrain&&this.transform.projection.supportsTerrain;if(!(st||this._terrain&&this._terrain.enabled))return;this._terrain||(this._terrain=new ca(this,g));const Et=this._terrain;this.transform.elevation=st?Et:null,Et.update(g,this.transform,tt)}_updateFog(g){const tt=g.fog;if(!tt||tt.getOpacity(this.transform.pitch)<1||tt.properties.get("horizon-blend")<.03)return void(this.transform.fogCullDistSq=null);const[st,Et]=tt.getFovAdjustedRange(this.transform._fov);if(st>Et)return void(this.transform.fogCullDistSq=null);const Ot=st+.78*(Et-st);this.transform.fogCullDistSq=Ot*Ot}get terrain(){return this.transform._terrainEnabled()&&this._terrain&&this._terrain.enabled?this._terrain:null}resize(g,tt){if(this.width=g*s.exported.devicePixelRatio,this.height=tt*s.exported.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const st of this.style.order)this.style._layers[st].resize()}setup(){const g=this.context,tt=new s.StructArrayLayout2i4;tt.emplaceBack(0,0),tt.emplaceBack(s.EXTENT,0),tt.emplaceBack(0,s.EXTENT),tt.emplaceBack(s.EXTENT,s.EXTENT),this.tileExtentBuffer=g.createVertexBuffer(tt,s.posAttributes.members),this.tileExtentSegments=s.SegmentVector.simpleSegment(0,0,4,2);const st=new s.StructArrayLayout2i4;st.emplaceBack(0,0),st.emplaceBack(s.EXTENT,0),st.emplaceBack(0,s.EXTENT),st.emplaceBack(s.EXTENT,s.EXTENT),this.debugBuffer=g.createVertexBuffer(st,s.posAttributes.members),this.debugSegments=s.SegmentVector.simpleSegment(0,0,4,5);const Et=new s.StructArrayLayout2i4;Et.emplaceBack(-1,-1),Et.emplaceBack(1,-1),Et.emplaceBack(-1,1),Et.emplaceBack(1,1),this.viewportBuffer=g.createVertexBuffer(Et,s.posAttributes.members),this.viewportSegments=s.SegmentVector.simpleSegment(0,0,4,2);const Ot=new s.StructArrayLayout4i8;Ot.emplaceBack(0,0,0,0),Ot.emplaceBack(s.EXTENT,0,s.EXTENT,0),Ot.emplaceBack(0,s.EXTENT,0,s.EXTENT),Ot.emplaceBack(s.EXTENT,s.EXTENT,s.EXTENT,s.EXTENT),this.mercatorBoundsBuffer=g.createVertexBuffer(Ot,s.boundsAttributes.members),this.mercatorBoundsSegments=s.SegmentVector.simpleSegment(0,0,4,2);const Ft=new s.StructArrayLayout3ui6;Ft.emplaceBack(0,1,2),Ft.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=g.createIndexBuffer(Ft);const Wt=new s.StructArrayLayout1ui2;for(const nr of[0,1,3,2,0])Wt.emplaceBack(nr);this.debugIndexBuffer=g.createIndexBuffer(Wt),this.emptyTexture=new s.Texture(g,new s.RGBAImage({width:1,height:1},Uint8Array.of(0,0,0,0)),g.gl.RGBA),this.identityMat=s.create();const er=this.context.gl;this.stencilClearMode=new s.StencilMode({func:er.ALWAYS,mask:0},0,255,er.ZERO,er.ZERO,er.ZERO),this.loadTimeStamps.push(s.window.performance.now())}getMercatorTileBoundsBuffers(){return{tileBoundsBuffer:this.mercatorBoundsBuffer,tileBoundsIndexBuffer:this.quadTriangleIndexBuffer,tileBoundsSegments:this.mercatorBoundsSegments}}getTileBoundsBuffers(g){return g._makeTileBoundsBuffers(this.context,this.transform.projection),g._tileBoundsBuffer?{tileBoundsBuffer:g._tileBoundsBuffer,tileBoundsIndexBuffer:g._tileBoundsIndexBuffer,tileBoundsSegments:g._tileBoundsSegments}:this.getMercatorTileBoundsBuffers()}clearStencil(){const g=this.context,tt=g.gl;this.nextStencilID=1,this.currentStencilSource=void 0,this._tileClippingMaskIDs.clear(),this._skippedStencilTileIDs.clear(),this.useProgram("clippingMask").draw(g,tt.TRIANGLES,s.DepthMode.disabled,this.stencilClearMode,s.ColorMode.disabled,s.CullFaceMode.disabled,Bp(this.identityMat),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}resetStencilClippingMasks(){this.terrain||(this.currentStencilSource=void 0,this._tileClippingMaskIDs.clear(),this._skippedStencilTileIDs.clear())}_renderTileClippingMasks(g,tt,st){if(!tt||this.currentStencilSource===tt.id||!g.isTileClipped()||!st||st.length===0)return;const Et=[];let Ot=!1;if(this._tileClippingMaskIDs&&!this.terrain){for(const sr of st)if(this._tileClippingMaskIDs.has(sr.key)||(Ot=!0),this._skippedStencilTileIDs.has(sr.key)){if(!tt.getTile(sr).getBucket(g))continue;this._skippedStencilTileIDs.delete(sr.key),Et.push(sr)}if(!Ot&&Et.length===0)return}const Ft=this.context,Wt=Ft.gl;Ft.setColorMode(s.ColorMode.disabled),Ft.setDepthMode(s.DepthMode.disabled);const er=this.useProgram("clippingMask"),nr=sr=>{const fr=tt.getTile(sr),{tileBoundsBuffer:xr,tileBoundsIndexBuffer:Ar,tileBoundsSegments:Er}=this.getTileBoundsBuffers(fr);er.draw(Ft,Wt.TRIANGLES,s.DepthMode.disabled,new s.StencilMode({func:Wt.GREATER,mask:255},this._tileClippingMaskIDs.get(sr.key)||0,255,Wt.KEEP,Wt.KEEP,Wt.REPLACE),s.ColorMode.disabled,s.CullFaceMode.disabled,Bp(sr.projMatrix),"$clipping",xr,Ar,Er)};if(!Ot&&Et.length>0)for(const sr of Et)nr(sr);else{(this._tileClippingMaskIDs.size===0||this.nextStencilID+st.length>256)&&this.clearStencil(),this._tileClippingMaskIDs.clear(),this._skippedStencilTileIDs.clear();for(const sr of st)this._tileClippingMaskIDs.set(sr.key,this.nextStencilID++),tt.getTile(sr).getBucket(g)?nr(sr):this._skippedStencilTileIDs.add(sr.key)}this._skippedStencilTileIDs.size===0&&(this.currentStencilSource=tt.id)}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const g=this.nextStencilID++,tt=this.context.gl;return new s.StencilMode({func:tt.NOTEQUAL,mask:255},g,255,tt.KEEP,tt.KEEP,tt.REPLACE)}stencilModeForClipping(g){if(this.terrain)return this.terrain.stencilModeForRTTOverlap(g);const tt=this.context.gl;return new s.StencilMode({func:tt.EQUAL,mask:255},this._tileClippingMaskIDs.get(g.key)||0,0,tt.KEEP,tt.KEEP,tt.REPLACE)}stencilConfigForOverlap(g){const tt=this.context.gl,st=g.sort((Ft,Wt)=>Wt.overscaledZ-Ft.overscaledZ),Et=st[st.length-1].overscaledZ,Ot=st[0].overscaledZ-Et+1;if(Ot>1){this.currentStencilSource=void 0,this.nextStencilID+Ot>256&&this.clearStencil();const Ft={};for(let Wt=0;Wt<Ot;Wt++)Ft[Wt+Et]=new s.StencilMode({func:tt.GEQUAL,mask:255},Wt+this.nextStencilID,255,tt.KEEP,tt.KEEP,tt.REPLACE);return this.nextStencilID+=Ot,[Ft,st]}return[{[Et]:s.StencilMode.disabled},st]}colorModeForRenderPass(){const g=this.context.gl;return this._showOverdrawInspector?new s.ColorMode([g.CONSTANT_COLOR,g.ONE],new s.Color(.125,.125,.125,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?s.ColorMode.unblended:s.ColorMode.alphaBlended}depthModeForSublayer(g,tt,st){if(!this.opaquePassEnabledForLayer())return s.DepthMode.disabled;const Et=1-((1+this.currentLayer)*this.numSublayers+g)*this.depthEpsilon;return new s.DepthMode(st||this.context.gl.LEQUAL,tt,[Et,Et])}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(g,tt){this.style=g,this.options=tt,this.lineAtlas=g.lineAtlas,this.imageManager=g.imageManager,this.glyphManager=g.glyphManager,this.symbolFadeChange=g.placement.symbolFadeChange(s.exported.now()),this.imageManager.beginFrame();const st=this.style.order,Et=this.style._sourceCaches;for(const nr in Et){const sr=Et[nr];sr.used&&sr.prepare(this.context)}const Ot={},Ft={},Wt={};for(const nr in Et){const sr=Et[nr];Ot[nr]=sr.getVisibleCoordinates(),Ft[nr]=Ot[nr].slice().reverse(),Wt[nr]=sr.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let nr=0;nr<st.length;nr++)if(this.style._layers[st[nr]].is3D()){this.opaquePassCutoff=nr;break}if(this.terrain&&(this.terrain.updateTileBinding(Wt),this.opaquePassCutoff=0),this.transform.projection.name!=="globe"||this.globeSharedBuffers||(this.globeSharedBuffers=new s.GlobeSharedBuffers(this.context)),!s.isMapAuthenticated(this.context.gl))return;this.renderPass="offscreen";for(const nr of st){const sr=this.style._layers[nr],fr=g._getLayerSourceCache(sr);if(!sr.hasOffscreenPass()||sr.isHidden(this.transform.zoom))continue;const xr=fr?Ft[fr.id]:void 0;(sr.type==="custom"||sr.isSky()||xr&&xr.length)&&this.renderLayer(this,fr,sr,xr)}this.depthRangeFor3D=[0,1-(g.order.length+2)*this.numSublayers*this.depthEpsilon],this.terrain&&(this.style.hasSymbolLayers()||this.style.hasCircleLayers())&&this.terrain.drawDepth(),this.context.bindFramebuffer.set(null),this.context.viewport.set([0,0,this.width,this.height]);let er=s.Color.transparent;if(this.style.fog&&this.style.fog.getOpacity(this.transform.pitch)&&(er=this.style.fog.properties.get("color")),this.context.clear({color:tt.showOverdrawInspector?s.Color.black:er,depth:1}),this.clearStencil(),this._showOverdrawInspector=tt.showOverdrawInspector,this.renderPass="opaque",!this.terrain)for(this.currentLayer=st.length-1;this.currentLayer>=0;this.currentLayer--){const nr=this.style._layers[st[this.currentLayer]],sr=g._getLayerSourceCache(nr);if(nr.isSky())continue;const fr=sr?Ft[sr.id]:void 0;this._renderTileClippingMasks(nr,sr,fr),this.renderLayer(this,sr,nr,fr)}if(this.renderPass="sky",(s.globeToMercatorTransition(this.transform.zoom)>0||this.transform.projection.name!=="globe")&&this.transform.isHorizonVisible())for(this.currentLayer=0;this.currentLayer<st.length;this.currentLayer++){const nr=this.style._layers[st[this.currentLayer]],sr=g._getLayerSourceCache(nr);nr.isSky()&&this.renderLayer(this,sr,nr,sr?Ft[sr.id]:void 0)}for(this.transform.projection.name==="globe"&&function(nr){const sr=nr.context,fr=sr.gl,xr=nr.transform,Ar=new s.DepthMode(fr.LEQUAL,s.DepthMode.ReadOnly,[0,1]),Er=nr.useProgram("globeAtmosphere"),br=xr.centerOffset,Nr=xr._camera.getCameraToClipPerspective(xr._fov,xr.width/xr.height,xr._nearZ,xr._farZ);Nr[8]=2*-br.x/xr.width,Nr[9]=2*br.y/xr.height;const Or=s.invert([],Nr),kr=s.mul([],Or,xr.projMatrix),Dr={u_frustum_tl:lu([-1,1,1],Or),u_frustum_tr:lu([1,1,1],Or),u_frustum_br:lu([1,-1,1],Or),u_frustum_bl:lu([-1,-1,1],Or),u_globe_pos:lu([xr.globeMatrix[12],xr.globeMatrix[13],xr.globeMatrix[14]],kr),u_globe_radius:xr.worldSize/2/Math.PI-1,u_opacity:1-s.globeToMercatorTransition(xr.zoom),u_fadeout_range:2,u_start_color:[1,1,1],u_end_color:[.0118,.7451,.9882]};nr.prepareDrawProgram(sr,Er);const Ur=nr.globeSharedBuffers;Ur&&Er.draw(sr,fr.TRIANGLES,Ar,s.StencilMode.disabled,s.ColorMode.alphaBlended,s.CullFaceMode.backCW,Dr,"skybox",Ur.atmosphereVertexBuffer,Ur.atmosphereIndexBuffer,Ur.atmosphereSegments)}(this),this.renderPass="translucent",this.currentLayer=0;this.currentLayer<st.length;){const nr=this.style._layers[st[this.currentLayer]],sr=g._getLayerSourceCache(nr);if(nr.isSky()){++this.currentLayer;continue}if(this.terrain&&this.style.isLayerDraped(nr)){if(nr.isHidden(this.transform.zoom)){++this.currentLayer;continue}this.currentLayer=this.terrain.renderBatch(this.currentLayer);continue}const fr=sr?(nr.type==="symbol"?Wt:Ft)[sr.id]:void 0;this._renderTileClippingMasks(nr,sr,sr?Ot[sr.id]:void 0),this.renderLayer(this,sr,nr,fr),++this.currentLayer}if(this.terrain&&this.terrain.postRender(),this.options.showTileBoundaries||this.options.showQueryGeometry){let nr=null;s.values(this.style._layers).forEach(sr=>{const fr=g._getLayerSourceCache(sr);fr&&!sr.isHidden(this.transform.zoom)&&(!nr||nr.getSource().maxzoom<fr.getSource().maxzoom)&&(nr=fr)}),nr&&this.options.showTileBoundaries&&Fm.debug(this,nr,nr.getVisibleCoordinates())}this.options.showPadding&&function(nr){const sr=nr.transform.padding;Fn(nr,nr.transform.height-(sr.top||0),3,Bm),Fn(nr,sr.bottom||0,3,Nm),Sl(nr,sr.left||0,3,Z1),Sl(nr,nr.transform.width-(sr.right||0),3,Zp);const fr=nr.transform.centerPoint;(function(xr,Ar,Er,br){hp(xr,Ar-1,Er-10,2,20,br),hp(xr,Ar-10,Er-1,20,2,br)})(nr,fr.x,nr.transform.height-fr.y,$p)}(this),this.context.setDefault(),this.frameCounter=(this.frameCounter+1)%Number.MAX_SAFE_INTEGER,this.tileLoaded&&this.options.speedIndexTiming&&(this.loadTimeStamps.push(s.window.performance.now()),this.saveCanvasCopy())}renderLayer(g,tt,st,Et){st.isHidden(this.transform.zoom)||(st.type==="background"||st.type==="sky"||st.type==="custom"||Et&&Et.length)&&(this.id=st.id,this.gpuTimingStart(st),g.transform.projection.unsupportedLayers&&g.transform.projection.unsupportedLayers.includes(st.type)||Fm[st.type](g,tt,st,Et,this.style.placement.variableOffsets,this.options.isInitialLoad),this.gpuTimingEnd())}gpuTimingStart(g){if(!this.options.gpuTiming)return;const tt=this.context.extTimerQuery;let st=this.gpuTimers[g.id];st||(st=this.gpuTimers[g.id]={calls:0,cpuTime:0,query:tt.createQueryEXT()}),st.calls++,tt.beginQueryEXT(tt.TIME_ELAPSED_EXT,st.query)}gpuTimingEnd(){if(!this.options.gpuTiming)return;const g=this.context.extTimerQuery;g.endQueryEXT(g.TIME_ELAPSED_EXT)}collectGpuTimers(){const g=this.gpuTimers;return this.gpuTimers={},g}queryGpuTimers(g){const tt={};for(const st in g){const Et=g[st],Ot=this.context.extTimerQuery,Ft=Ot.getQueryObjectEXT(Et.query,Ot.QUERY_RESULT_EXT)/1e6;Ot.deleteQueryEXT(Et.query),tt[st]=Ft}return tt}translatePosMatrix(g,tt,st,Et,Ot){if(!st[0]&&!st[1])return g;const Ft=Ot?Et==="map"?this.transform.angle:0:Et==="viewport"?-this.transform.angle:0;if(Ft){const nr=Math.sin(Ft),sr=Math.cos(Ft);st=[st[0]*sr-st[1]*nr,st[0]*nr+st[1]*sr]}const Wt=[Ot?st[0]:or(tt,st[0],this.transform.zoom),Ot?st[1]:or(tt,st[1],this.transform.zoom),0],er=new Float32Array(16);return s.translate(er,g,Wt),er}saveTileTexture(g){const tt=this._tileTextures[g.size[0]];tt?tt.push(g):this._tileTextures[g.size[0]]=[g]}getTileTexture(g){const tt=this._tileTextures[g];return tt&&tt.length>0?tt.pop():null}isPatternMissing(g){if(!g)return!1;if(!g.from||!g.to)return!0;const tt=this.imageManager.getPattern(g.from.toString()),st=this.imageManager.getPattern(g.to.toString());return!tt||!st}currentGlobalDefines(){const g=this.terrain&&this.terrain.renderingToTexture,tt=this.style&&this.style.fog,st=[];return this.terrain&&!this.terrain.renderingToTexture&&st.push("TERRAIN"),tt&&!g&&tt.getOpacity(this.transform.pitch)!==0&&st.push("FOG"),g&&st.push("RENDER_TO_TEXTURE"),this._showOverdrawInspector&&st.push("OVERDRAW_INSPECTOR"),st}useProgram(g,tt,st){this.cache=this.cache||{};const Et=st||[],Ot=this.currentGlobalDefines().concat(Et),Ft=ap.cacheKey(g,Ot,tt);return this.cache[Ft]||(this.cache[Ft]=new ap(this.context,g,ip[g],tt,Po[g],Ot)),this.cache[Ft]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.frontFace.setDefault(),this.context.cullFaceSide.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const g=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(g.FUNC_ADD)}initDebugOverlayCanvas(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=s.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new s.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){this._terrain&&this._terrain.destroy(),this.globeSharedBuffers&&this.globeSharedBuffers.destroy(),this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()}prepareDrawTile(){this.terrain&&this.terrain.prepareDrawTile()}prepareDrawProgram(g,tt,st){if(this.terrain&&this.terrain.renderingToTexture)return;const Et=this.style.fog;if(Et){const Ot=Et.getOpacity(this.transform.pitch);Ot!==0&&tt.setFogUniformValues(g,((Ft,Wt,er,nr)=>{const sr=Wt.properties.get("color"),fr=Ft.frameCounter/1e3%1,xr=[sr.r/sr.a,sr.g/sr.a,sr.b/sr.a,nr];return{u_fog_matrix:er?Ft.transform.calculateFogTileMatrix(er):Ft.identityMat,u_fog_range:Wt.getFovAdjustedRange(Ft.transform._fov),u_fog_color:xr,u_fog_horizon_blend:Wt.properties.get("horizon-blend"),u_fog_temporal_offset:fr}})(this,Et,st,Ot))}}setTileLoadedFlag(g){this.tileLoaded=g}saveCanvasCopy(){this.frameCopies.push(this.canvasCopy()),this.tileLoaded=!1}canvasCopy(){const g=this.context.gl,tt=g.createTexture();return g.bindTexture(g.TEXTURE_2D,tt),g.copyTexImage2D(g.TEXTURE_2D,0,g.RGBA,0,0,g.drawingBufferWidth,g.drawingBufferHeight,0),tt}getCanvasCopiesAndTimestamps(){return{canvasCopies:this.frameCopies,timeStamps:this.loadTimeStamps}}averageElevationNeedsEasing(){if(!this.transform._elevation)return!1;const g=this.style&&this.style.fog;return!!g&&g.getOpacity(this.transform.pitch)!==0}getBackgroundTiles(){const g=this._backgroundTiles,tt=this._backgroundTiles={},st=this.transform.coveringTiles({tileSize:512});for(const Et of st)tt[Et.key]=g[Et.key]||new s.Tile(Et,512,this.transform.tileZoom,this);return tt}clearBackgroundTiles(){this._backgroundTiles={}}}class uu{constructor(g=0,tt=0,st=0,Et=0){if(isNaN(g)||g<0||isNaN(tt)||tt<0||isNaN(st)||st<0||isNaN(Et)||Et<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=g,this.bottom=tt,this.left=st,this.right=Et}interpolate(g,tt,st){return tt.top!=null&&g.top!=null&&(this.top=s.number(g.top,tt.top,st)),tt.bottom!=null&&g.bottom!=null&&(this.bottom=s.number(g.bottom,tt.bottom,st)),tt.left!=null&&g.left!=null&&(this.left=s.number(g.left,tt.left,st)),tt.right!=null&&g.right!=null&&(this.right=s.number(g.right,tt.right,st)),this}getCenter(g,tt){const st=s.clamp((this.left+g-this.right)/2,0,g),Et=s.clamp((this.top+tt-this.bottom)/2,0,tt);return new s.pointGeometry(st,Et)}equals(g){return this.top===g.top&&this.bottom===g.bottom&&this.left===g.left&&this.right===g.right}clone(){return new uu(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function X1(nt,g){const tt=s.getColumn(nt,3);s.fromQuat(nt,g),s.setColumn(nt,3,tt)}function Um(nt,g){const tt=s.identity$1([]);return s.rotateZ$1(tt,tt,-g),s.rotateX$1(tt,tt,-nt),tt}function qp(nt,g){const tt=[nt[0],nt[1],0],st=[g[0],g[1],0];if(s.length(tt)>=1e-15){const Ft=s.normalize([],tt);s.scale$2(st,Ft,s.dot(st,Ft)),g[0]=st[0],g[1]=st[1]}const Et=s.cross([],g,nt);if(s.len(Et)<1e-15)return null;const Ot=Math.atan2(-Et[1],Et[0]);return Um(Math.atan2(Math.sqrt(nt[0]*nt[0]+nt[1]*nt[1]),-nt[2]),Ot)}class fp{constructor(g,tt){this.position=g,this.orientation=tt}get position(){return this._position}set position(g){if(g){const tt=g instanceof s.MercatorCoordinate?g:new s.MercatorCoordinate(g[0],g[1],g[2]);this._renderWorldCopies&&(tt.x=s.wrap(tt.x,0,1)),this._position=tt}else this._position=null}lookAtPoint(g,tt){if(this.orientation=null,!this.position)return;const st=this._elevation?this._elevation.getAtPointOrZero(s.MercatorCoordinate.fromLngLat(g)):0,Et=this.position,Ot=s.MercatorCoordinate.fromLngLat(g,st),Ft=[Ot.x-Et.x,Ot.y-Et.y,Ot.z-Et.z];tt||(tt=[0,0,1]),tt[2]=Math.abs(tt[2]),this.orientation=qp(Ft,tt)}setPitchBearing(g,tt){this.orientation=Um(s.degToRad(g),s.degToRad(-tt))}}class pp{constructor(g,tt){this._transform=s.identity([]),this.orientation=tt,this.position=g}get mercatorPosition(){const g=this.position;return new s.MercatorCoordinate(g[0],g[1],g[2])}get position(){const g=s.getColumn(this._transform,3);return[g[0],g[1],g[2]]}set position(g){var tt;g&&s.setColumn(this._transform,3,[(tt=g)[0],tt[1],tt[2],1])}get orientation(){return this._orientation}set orientation(g){this._orientation=g||s.identity$1([]),g&&X1(this._transform,this._orientation)}getPitchBearing(){const g=this.forward(),tt=this.right();return{bearing:Math.atan2(-tt[1],tt[0]),pitch:Math.atan2(Math.sqrt(g[0]*g[0]+g[1]*g[1]),-g[2])}}setPitchBearing(g,tt){this._orientation=Um(g,tt),X1(this._transform,this._orientation)}forward(){const g=s.getColumn(this._transform,2);return[-g[0],-g[1],-g[2]]}up(){const g=s.getColumn(this._transform,1);return[-g[0],-g[1],-g[2]]}right(){const g=s.getColumn(this._transform,0);return[g[0],g[1],g[2]]}getCameraToWorld(g,tt){const st=new Float64Array(16);return s.invert(st,this.getWorldToCamera(g,tt)),st}getWorldToCameraPosition(g,tt,st){const Et=this.position;s.scale$2(Et,Et,-g);const Ot=new Float64Array(16);return s.fromScaling(Ot,[st,st,st]),s.translate(Ot,Ot,Et),Ot[10]*=tt,Ot}getWorldToCamera(g,tt){const st=new Float64Array(16),Et=new Float64Array(4),Ot=this.position;return s.conjugate(Et,this._orientation),s.scale$2(Ot,Ot,-g),s.fromQuat(st,Et),s.translate(st,st,Ot),st[1]*=-1,st[5]*=-1,st[9]*=-1,st[13]*=-1,st[8]*=tt,st[9]*=tt,st[10]*=tt,st[11]*=tt,st}getCameraToClipPerspective(g,tt,st,Et){const Ot=new Float64Array(16);return s.perspective(Ot,g,tt,st,Et),Ot}getDistanceToElevation(g){const tt=g===0?0:s.mercatorZfromAltitude(g,this.position[1]),st=this.forward();return(tt-this.position[2])/st[2]}clone(){return new pp([...this.position],[...this.orientation])}}function zm(nt,g){const tt=gp(nt),st=function(Ot,Ft,Wt,er,nr){const sr=new s.LngLat(Wt.lng-180*cu,Wt.lat),fr=new s.LngLat(Wt.lng+180*cu,Wt.lat),xr=Ot.project(sr.lng,sr.lat),Ar=Ot.project(fr.lng,fr.lat),Er=-Math.atan2(Ar.y-xr.y,Ar.x-xr.x),br=s.MercatorCoordinate.fromLngLat(Wt);br.y=s.clamp(br.y,-.999975,.999975);const Nr=br.toLngLat(),Or=Ot.project(Nr.lng,Nr.lat),kr=s.MercatorCoordinate.fromLngLat(Nr);kr.x+=cu;const Dr=kr.toLngLat(),Ur=Ot.project(Dr.lng,Dr.lat),jr=Hm(Ur.x-Or.x,Ur.y-Or.y,Er),Wr=s.MercatorCoordinate.fromLngLat(Nr);Wr.y+=cu;const on=Wr.toLngLat(),pn=Ot.project(on.lng,on.lat),vn=Hm(pn.x-Or.x,pn.y-Or.y,Er),yn=Math.abs(jr.x)/Math.abs(vn.y),jn=s.identity([]);s.rotateZ(jn,jn,-Er*(1-(nr?0:er)));const sn=s.identity([]);return s.scale(sn,sn,[1,1-(1-yn)*er,1]),sn[4]=-vn.x/vn.y*er,s.rotateZ(sn,sn,Er),s.multiply$1(sn,jn,sn),sn}(nt.projection,0,nt.center,tt,g),Et=Vm(nt);return s.scale(st,st,[Et,Et,1]),st}function Vm(nt){const g=nt.projection,tt=gp(nt),st=Wm(g,nt.center),Et=Wm(g,s.LngLat.convert(g.center));return Math.pow(2,st*tt+(1-tt)*Et)}function gp(nt){const g=nt.projection.range;if(!g)return 0;const tt=Math.max(nt.width,nt.height),st=Math.log(tt/1024)/Math.LN2;return s.smoothstep(g[0]+st,g[1]+st,nt.zoom)}const cu=1/4e4;function Wm(nt,g){const tt=s.clamp(g.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),st=new s.LngLat(g.lng-180*cu,tt),Et=new s.LngLat(g.lng+180*cu,tt),Ot=nt.project(st.lng,tt),Ft=nt.project(Et.lng,tt),Wt=s.MercatorCoordinate.fromLngLat(st),er=s.MercatorCoordinate.fromLngLat(Et),nr=Ft.x-Ot.x,sr=Ft.y-Ot.y,fr=er.x-Wt.x,xr=er.y-Wt.y,Ar=Math.sqrt((fr*fr+xr*xr)/(nr*nr+sr*sr));return Math.log(Ar)/Math.LN2}function Hm(nt,g,tt){const st=Math.cos(tt),Et=Math.sin(tt);return{x:nt*st-g*Et,y:nt*Et+g*st}}class Yp{constructor(g,tt,st,Et,Ot,Ft,Wt){this.tileSize=512,this._renderWorldCopies=Ot===void 0||Ot,this._minZoom=g||0,this._maxZoom=tt||22,this._minPitch=st==null?0:st,this._maxPitch=Et==null?60:Et,this.setProjection(Ft),this.setMaxBounds(Wt),this.width=0,this.height=0,this._center=new s.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._nearZ=0,this._farZ=0,this._unmodified=!0,this._edgeInsets=new uu,this._projMatrixCache={},this._alignedProjMatrixCache={},this._fogTileMatrixCache={},this._distanceTileDataCache={},this._camera=new pp,this._centerAltitude=0,this._centerAltitudeValidForExaggeration=0,this._averageElevation=0,this.cameraElevationReference="ground",this._projectionScaler=1,this._horizonShift=.1}clone(){const g=new Yp(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies,this.getProjection());return g._elevation=this._elevation,g._centerAltitude=this._centerAltitude,g._centerAltitudeValidForExaggeration=this._centerAltitudeValidForExaggeration,g.tileSize=this.tileSize,g.width=this.width,g.height=this.height,g.cameraElevationReference=this.cameraElevationReference,g._center=this._center,g._setZoom(this.zoom),g._seaLevelZoom=this._seaLevelZoom,g.angle=this.angle,g._fov=this._fov,g._pitch=this._pitch,g._nearZ=this._nearZ,g._farZ=this._farZ,g._averageElevation=this._averageElevation,g._unmodified=this._unmodified,g._edgeInsets=this._edgeInsets.clone(),g._camera=this._camera.clone(),g._calcMatrices(),g.freezeTileCoverage=this.freezeTileCoverage,g}get elevation(){return this._elevation}set elevation(g){this._elevation!==g&&(this._elevation=g,this._updateCameraOnTerrain(),this._calcMatrices())}updateElevation(g){const tt=this._elevation&&this._elevation.exaggeration()!==this._centerAltitudeValidForExaggeration;(this._seaLevelZoom==null||tt)&&this._updateCameraOnTerrain(),(g||tt)&&this._constrainCameraAltitude(),this._calcMatrices()}getProjection(){return s.pick(this.projection,["name","center","parallels"])}setProjection(g){g==null&&(g={name:"mercator"}),this.projectionOptions=g;const tt=this.projection?this.getProjection():void 0;this.projection=s.getProjection(g);const st=this.getProjection();return gt(tt,st)?null:(this._calcMatrices(),st)}get minZoom(){return this._minZoom}set minZoom(g){this._minZoom!==g&&(this._minZoom=g,this.zoom=Math.max(this.zoom,g))}get maxZoom(){return this._maxZoom}set maxZoom(g){this._maxZoom!==g&&(this._maxZoom=g,this.zoom=Math.min(this.zoom,g))}get minPitch(){return this._minPitch}set minPitch(g){this._minPitch!==g&&(this._minPitch=g,this.pitch=Math.max(this.pitch,g))}get maxPitch(){return this._maxPitch}set maxPitch(g){this._maxPitch!==g&&(this._maxPitch=g,this.pitch=Math.min(this.pitch,g))}get renderWorldCopies(){return this._renderWorldCopies&&this.projection.supportsWorldCopies===!0}set renderWorldCopies(g){g===void 0?g=!0:g===null&&(g=!1),this._renderWorldCopies=g}get worldSize(){return this.tileSize*this.scale}get cameraWorldSize(){const g=Math.max(this._camera.getDistanceToElevation(this._averageElevation),Number.EPSILON);return this._worldSizeFromZoom(this._zoomFromMercatorZ(g))}get pixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.worldSize)}get cameraPixelsPerMeter(){return this.projection.pixelsPerMeter(this.center.lat,this.cameraWorldSize)}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new s.pointGeometry(this.width,this.height)}get bearing(){return s.wrap(this.rotation,-180,180)}set bearing(g){this.rotation=g}get rotation(){return-this.angle/Math.PI*180}set rotation(g){const tt=-g*Math.PI/180;var st;this.angle!==tt&&(this._unmodified=!1,this.angle=tt,this._calcMatrices(),this.rotationMatrix=(st=new s.ARRAY_TYPE(4),s.ARRAY_TYPE!=Float32Array&&(st[1]=0,st[2]=0),st[0]=1,st[3]=1,st),function(Et,Ot,Ft){var Wt=Ot[0],er=Ot[1],nr=Ot[2],sr=Ot[3],fr=Math.sin(Ft),xr=Math.cos(Ft);Et[0]=Wt*xr+nr*fr,Et[1]=er*xr+sr*fr,Et[2]=Wt*-fr+nr*xr,Et[3]=er*-fr+sr*xr}(this.rotationMatrix,this.rotationMatrix,this.angle))}get pitch(){return this._pitch/Math.PI*180}set pitch(g){const tt=s.clamp(g,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==tt&&(this._unmodified=!1,this._pitch=tt,this._calcMatrices())}get fov(){return this._fov/Math.PI*180}set fov(g){g=Math.max(.01,Math.min(60,g)),this._fov!==g&&(this._unmodified=!1,this._fov=g/180*Math.PI,this._calcMatrices())}get averageElevation(){return this._averageElevation}set averageElevation(g){this._averageElevation=g,this._calcFogMatrices(),this._distanceTileDataCache={}}get zoom(){return this._zoom}set zoom(g){const tt=Math.min(Math.max(g,this.minZoom),this.maxZoom);this._zoom!==tt&&(this._unmodified=!1,this._setZoom(tt),this._updateSeaLevelZoom(),this._constrain(),this._calcMatrices())}_setZoom(g){this._zoom=g,this.scale=this.zoomScale(g),this.tileZoom=Math.floor(g),this.zoomFraction=g-this.tileZoom}_updateCameraOnTerrain(){if(!this._elevation||!this._elevation.isDataAvailableAtPoint(this.locationCoordinate(this.center)))return this._centerAltitude=0,this._seaLevelZoom=null,void(this._centerAltitudeValidForExaggeration=0);const g=this._elevation;this._centerAltitude=g.getAtPointOrZero(this.locationCoordinate(this.center)),this._centerAltitudeValidForExaggeration=g.exaggeration(),this._updateSeaLevelZoom()}_updateSeaLevelZoom(){this._centerAltitudeValidForExaggeration!==0&&(this._seaLevelZoom=this._zoomFromMercatorZ((this.pixelsPerMeter*this._centerAltitude+this.cameraToCenterDistance)/this.worldSize))}sampleAverageElevation(){if(!this._elevation)return 0;const g=this._elevation,tt=[[.5,.2],[.3,.5],[.5,.5],[.7,.5],[.5,.8]],st=this.horizonLineFromTop();let Et=0,Ot=0;for(let Ft=0;Ft<tt.length;Ft++){const Wt=new s.pointGeometry(tt[Ft][0]*this.width,st+tt[Ft][1]*(this.height-st)),er=g.pointCoordinate(Wt);if(!er)continue;const nr=1/Math.hypot(er[0]-this._camera.position[0],er[1]-this._camera.position[1]);Et+=er[3]*nr,Ot+=nr}return Ot===0?NaN:Et/Ot}get center(){return this._center}set center(g){g.lat===this._center.lat&&g.lng===this._center.lng||(this._unmodified=!1,this._center=g,this._terrainEnabled()&&(this.cameraElevationReference==="ground"?this._updateCameraOnTerrain():this._updateZoomFromElevation()),this._constrain(),this._calcMatrices())}_updateZoomFromElevation(){if(this._seaLevelZoom==null||!this._elevation)return;const g=this._seaLevelZoom,tt=this._elevation.getAtPointOrZero(this.locationCoordinate(this.center)),st=this.pixelsPerMeter/this.worldSize*tt,Et=this._mercatorZfromZoom(g),Ot=this._mercatorZfromZoom(this._maxZoom),Ft=Math.max(Et-st,Ot);this._setZoom(this._zoomFromMercatorZ(Ft))}get padding(){return this._edgeInsets.toJSON()}set padding(g){this._edgeInsets.equals(g)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,g,1),this._calcMatrices())}computeZoomRelativeTo(g){const tt=this.rayIntersectionCoordinate(this.pointRayIntersection(this.centerPoint,g.toAltitude()));let st;st=g.z<this._camera.position[2]?[tt.x,tt.y,tt.z]:[g.x,g.y,g.z];const Et=s.length(s.sub([],this._camera.position,st));return s.clamp(this._zoomFromMercatorZ(Et),this._minZoom,this._maxZoom)}setFreeCameraOptions(g){if(!this.height||!g.position&&!g.orientation)return;this._updateCameraState();let tt=!1;if(g.orientation&&!s.exactEquals(g.orientation,this._camera.orientation)&&(tt=this._setCameraOrientation(g.orientation)),g.position){const st=[g.position.x,g.position.y,g.position.z];s.exactEquals$1(st,this._camera.position)||(this._setCameraPosition(st),tt=!0)}tt&&(this._updateStateFromCamera(),this.recenterOnTerrain())}getFreeCameraOptions(){this._updateCameraState();const g=this._camera.position,tt=new fp;return tt.position=new s.MercatorCoordinate(g[0],g[1],g[2]),tt.orientation=this._camera.orientation,tt._elevation=this.elevation,tt._renderWorldCopies=this.renderWorldCopies,tt}_setCameraOrientation(g){if(!s.length$1(g))return!1;s.normalize$1(g,g);const tt=s.transformQuat([],[0,0,-1],g),st=s.transformQuat([],[0,-1,0],g);if(st[2]<0)return!1;const Et=qp(tt,st);return!!Et&&(this._camera.orientation=Et,!0)}_setCameraPosition(g){const tt=this.zoomScale(this.minZoom)*this.tileSize,st=this.zoomScale(this.maxZoom)*this.tileSize,Et=this.cameraToCenterDistance;g[2]=s.clamp(g[2],Et/st,Et/tt),this._camera.position=g}get centerPoint(){return this._edgeInsets.getCenter(this.width,this.height)}get fovAboveCenter(){return this._fov*(.5+this.centerOffset.y/this.height)}isPaddingEqual(g){return this._edgeInsets.equals(g)}interpolatePadding(g,tt,st){this._unmodified=!1,this._edgeInsets.interpolate(g,tt,st),this._constrain(),this._calcMatrices()}coveringZoomLevel(g){const tt=(g.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/g.tileSize));return Math.max(0,tt)}getVisibleUnwrappedCoordinates(g){const tt=[new s.UnwrappedTileID(0,g)];if(this.renderWorldCopies){const st=this.pointCoordinate(new s.pointGeometry(0,0)),Et=this.pointCoordinate(new s.pointGeometry(this.width,0)),Ot=this.pointCoordinate(new s.pointGeometry(this.width,this.height)),Ft=this.pointCoordinate(new s.pointGeometry(0,this.height)),Wt=Math.floor(Math.min(st.x,Et.x,Ot.x,Ft.x)),er=Math.floor(Math.max(st.x,Et.x,Ot.x,Ft.x)),nr=1;for(let sr=Wt-nr;sr<=er+nr;sr++)sr!==0&&tt.push(new s.UnwrappedTileID(sr,g))}return tt}coveringTiles(g){let tt=this.coveringZoomLevel(g);const st=tt,Et=this.elevation&&!g.isTerrainDEM,Ot=this.projection.name==="mercator";if(g.minzoom!==void 0&&tt<g.minzoom)return[];g.maxzoom!==void 0&&tt>g.maxzoom&&(tt=g.maxzoom);const Ft=this.locationCoordinate(this.center),Wt=this.center.lat,er=1<<tt,nr=[er*Ft.x,er*Ft.y,0],sr=this.projection.name==="globe",fr=!sr,xr=s.Frustum.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,tt,fr),Ar=sr?this._camera.mercatorPosition:this.pointCoordinate(this.getCameraPoint()),Er=er*s.mercatorZfromAltitude(1,this.center.lat),br=this._camera.position[2]/s.mercatorZfromAltitude(1,this.center.lat),Nr=[er*Ar.x,er*Ar.y,br*(fr?1:Er)],Or=this.cameraToCenterDistance/g.tileSize*(g.roundZoom?1:.502),kr=this.pitch<=60&&this._edgeInsets.top<=this._edgeInsets.bottom&&!this._elevation&&!this.projection.isReprojectedInTileSpace?tt:0,Dr=g.isTerrainDEM&&this._elevation?1e4*this._elevation.exaggeration():this._centerAltitude,Ur=g.isTerrainDEM?-Dr:this._elevation?this._elevation.getMinElevationBelowMSL():0,jr=this.projection.isReprojectedInTileSpace?Vm(this):1,Wr=bn=>{const eo=new s.MercatorCoordinate(bn.x+25e-6,bn.y,bn.z),$n=new s.MercatorCoordinate(bn.x,bn.y+25e-6,bn.z),qn=bn.toLngLat(),no=eo.toLngLat(),po=$n.toLngLat(),_i=this.locationCoordinate(qn),oo=this.locationCoordinate(no),Ao=this.locationCoordinate(po),Jo=Math.hypot(oo.x-_i.x,oo.y-_i.y),Is=Math.hypot(Ao.x-_i.x,Ao.y-_i.y);return Math.sqrt(Jo*Is)*jr/25e-6},on=bn=>{const Gn=Dr,eo=Ur;return{aabb:s.tileAABB(this,er,0,0,0,bn,eo,Gn,this.projection),zoom:0,x:0,y:0,minZ:eo,maxZ:Gn,wrap:bn,fullyVisible:!1}},pn=[];let vn=[];const yn=tt,jn=g.reparseOverscaled?st:tt,sn=bn=>bn*bn,kn=sn((br-this._centerAltitude)*Er),On=bn=>{if(!this._elevation||!bn.tileID||!Ot)return;const Gn=this._elevation.getMinMaxForTile(bn.tileID),eo=bn.aabb;Gn?(eo.min[2]=Gn.min,eo.max[2]=Gn.max,eo.center[2]=(eo.min[2]+eo.max[2])/2):(bn.shouldSplit=Yn(bn),bn.shouldSplit||(eo.min[2]=eo.max[2]=eo.center[2]=this._centerAltitude))},Yn=bn=>{if(bn.zoom<kr)return!0;if(bn.zoom===yn)return!1;if(bn.shouldSplit!=null)return bn.shouldSplit;const Gn=bn.aabb.distanceX(Nr),eo=bn.aabb.distanceY(Nr);let $n=kn,qn=1;if(sr){$n=sn(bn.aabb.distanceZ(Nr));const po=Math.pow(2,bn.zoom),_i=s.latFromMercatorY((bn.y+1)/po),oo=s.latFromMercatorY(bn.y/po),Ao=Math.min(Math.max(Wt,_i),oo),Jo=s.circumferenceAtLatitude(Ao)/s.circumferenceAtLatitude(Wt);qn=Math.min(Jo,1)}else if(Et&&($n=sn(bn.aabb.distanceZ(Nr)*Er)),this.projection.isReprojectedInTileSpace&&st<=5){const po=Math.pow(2,bn.zoom),_i=Wr(new s.MercatorCoordinate((bn.x+.5)/po,(bn.y+.5)/po));qn=_i>.85?1:_i}const no=Gn*Gn+eo*eo+$n;return no<sn((1<<yn-bn.zoom)*Or*qn*((po,_i)=>{if(_i*sn(.707)<po)return 1;const oo=Math.sqrt(_i/po);return oo/(1.4144271570014144+(Math.pow(1.1,oo-1.4144271570014144+1)-1)/(1.1-1)-1)})(Math.max($n,kn),no))};if(this.renderWorldCopies)for(let bn=1;bn<=3;bn++)pn.push(on(-bn)),pn.push(on(bn));for(pn.push(on(0));pn.length>0;){const bn=pn.pop(),Gn=bn.x,eo=bn.y;let $n=bn.fullyVisible;if(!$n){const qn=bn.aabb.intersects(xr);if(qn===0)continue;$n=qn===2}if(bn.zoom!==yn&&Yn(bn))for(let qn=0;qn<4;qn++){const no=(Gn<<1)+qn%2,po=(eo<<1)+(qn>>1),_i={aabb:Ot?bn.aabb.quadrant(qn):s.tileAABB(this,er,bn.zoom+1,no,po,bn.wrap,bn.minZ,bn.maxZ,this.projection),zoom:bn.zoom+1,x:no,y:po,wrap:bn.wrap,fullyVisible:$n,tileID:void 0,shouldSplit:void 0,minZ:bn.minZ,maxZ:bn.maxZ};Et&&!sr&&(_i.tileID=new s.OverscaledTileID(bn.zoom+1===yn?jn:bn.zoom+1,bn.wrap,bn.zoom+1,no,po),On(_i)),pn.push(_i)}else{const qn=bn.zoom===yn?jn:bn.zoom;if(g.minzoom&&g.minzoom>qn)continue;const no=nr[0]-(.5+Gn+(bn.wrap<<bn.zoom))*(1<<tt-bn.zoom),po=nr[1]-.5-eo,_i=bn.tileID?bn.tileID:new s.OverscaledTileID(qn,bn.wrap,bn.zoom,Gn,eo);vn.push({tileID:_i,distanceSq:no*no+po*po})}}if(this.fogCullDistSq){const bn=this.fogCullDistSq,Gn=this.horizonLineFromTop();vn=vn.filter(eo=>{const $n=[0,0,0,1],qn=[s.EXTENT,s.EXTENT,0,1],no=this.calculateFogTileMatrix(eo.tileID.toUnwrapped());s.transformMat4$1($n,$n,no),s.transformMat4$1(qn,qn,no);const po=s.getAABBPointSquareDist($n,qn);if(po===0)return!0;let _i=!1;const oo=this._elevation;if(oo&&po>bn&&Gn!==0){const Ao=this.calculateProjMatrix(eo.tileID.toUnwrapped());let Jo;g.isTerrainDEM||(Jo=oo.getMinMaxForTile(eo.tileID)),Jo||(Jo={min:Ur,max:Dr});const Is=s.furthestTileCorner(this.rotation),Os=[Is[0]*s.EXTENT,Is[1]*s.EXTENT,Jo.max];s.transformMat4(Os,Os,Ao),_i=(1-Os[1])*this.height*.5<Gn}return po<bn||_i})}return vn.sort((bn,Gn)=>bn.distanceSq-Gn.distanceSq).map(bn=>bn.tileID)}resize(g,tt){this.width=g,this.height=tt,this.pixelsToGLUnits=[2/g,-2/tt],this._constrain(),this._calcMatrices()}get unmodified(){return this._unmodified}zoomScale(g){return Math.pow(2,g)}scaleZoom(g){return Math.log(g)/Math.LN2}project(g){const tt=s.clamp(g.lat,-s.MAX_MERCATOR_LATITUDE,s.MAX_MERCATOR_LATITUDE),st=this.projection.project(g.lng,tt);return new s.pointGeometry(st.x*this.worldSize,st.y*this.worldSize)}unproject(g){return this.projection.unproject(g.x/this.worldSize,g.y/this.worldSize)}get point(){return this.project(this.center)}setLocationAtPoint(g,tt){let st,Et;const Ot=this.centerPoint;if(this.projection.name==="globe"){const Wt=this.worldSize;st=(tt.x-Ot.x)/Wt,Et=(tt.y-Ot.y)/Wt}else{const Wt=this.pointCoordinate(tt),er=this.pointCoordinate(Ot);st=Wt.x-er.x,Et=Wt.y-er.y}const Ft=this.locationCoordinate(g);this.setLocation(new s.MercatorCoordinate(Ft.x-st,Ft.y-Et))}setLocation(g){this.center=this.coordinateLocation(g),this.projection.wrap&&(this.center=this.center.wrap())}locationPoint(g){return this.projection.locationPoint(this,g)}locationPoint3D(g){return this._coordinatePoint(this.locationCoordinate(g),!0)}pointLocation(g){return this.coordinateLocation(this.pointCoordinate(g))}pointLocation3D(g){return this.coordinateLocation(this.pointCoordinate3D(g))}locationCoordinate(g,tt){const st=tt?s.mercatorZfromAltitude(tt,g.lat):void 0,Et=this.projection.project(g.lng,g.lat);return new s.MercatorCoordinate(Et.x,Et.y,st)}coordinateLocation(g){return this.projection.unproject(g.x,g.y)}pointRayIntersection(g,tt){const st=tt!=null?tt:this._centerAltitude,Et=[g.x,g.y,0,1],Ot=[g.x,g.y,1,1];s.transformMat4$1(Et,Et,this.pixelMatrixInverse),s.transformMat4$1(Ot,Ot,this.pixelMatrixInverse);const Ft=Ot[3];s.scale$1(Et,Et,1/Et[3]),s.scale$1(Ot,Ot,1/Ft);const Wt=Et[2],er=Ot[2];return{p0:Et,p1:Ot,t:Wt===er?0:(st-Wt)/(er-Wt)}}screenPointToMercatorRay(g){const tt=[g.x,g.y,0,1],st=[g.x,g.y,1,1];return s.transformMat4$1(tt,tt,this.pixelMatrixInverse),s.transformMat4$1(st,st,this.pixelMatrixInverse),s.scale$1(tt,tt,1/tt[3]),s.scale$1(st,st,1/st[3]),tt[2]=s.mercatorZfromAltitude(tt[2],this._center.lat)*this.worldSize,st[2]=s.mercatorZfromAltitude(st[2],this._center.lat)*this.worldSize,s.scale$1(tt,tt,1/this.worldSize),s.scale$1(st,st,1/this.worldSize),new s.Ray([tt[0],tt[1],tt[2]],s.normalize([],s.sub([],st,tt)))}rayIntersectionCoordinate(g){const{p0:tt,p1:st,t:Et}=g,Ot=s.mercatorZfromAltitude(tt[2],this._center.lat),Ft=s.mercatorZfromAltitude(st[2],this._center.lat);return new s.MercatorCoordinate(s.number(tt[0],st[0],Et)/this.worldSize,s.number(tt[1],st[1],Et)/this.worldSize,s.number(Ot,Ft,Et))}pointCoordinate(g,tt=this._centerAltitude){return this.projection.pointCoordinate(this,g.x,g.y,tt)}pointCoordinate3D(g){if(!this.elevation)return this.pointCoordinate(g);const tt=this.elevation;let st=this.elevation.pointCoordinate(g);if(st)return new s.MercatorCoordinate(st[0],st[1],st[2]);let Et=0,Ot=this.horizonLineFromTop();if(g.y>Ot)return this.pointCoordinate(g);const Ft=.02*Ot,Wt=g.clone();for(let er=0;er<10&&Ot-Et>Ft;er++){Wt.y=s.number(Et,Ot,.66);const nr=tt.pointCoordinate(Wt);nr?(Ot=Wt.y,st=nr):Et=Wt.y}return st?new s.MercatorCoordinate(st[0],st[1],st[2]):this.pointCoordinate(g)}isPointAboveHorizon(g){if(this.elevation)return!this.elevation.pointCoordinate(g);{const tt=this.horizonLineFromTop();return g.y<tt}}_coordinatePoint(g,tt){const st=tt&&this.elevation?this.elevation.getAtPointOrZero(g,this._centerAltitude):this._centerAltitude,Et=[g.x*this.worldSize,g.y*this.worldSize,st+g.toAltitude(),1];return s.transformMat4$1(Et,Et,this.pixelMatrix),Et[3]>0?new s.pointGeometry(Et[0]/Et[3],Et[1]/Et[3]):new s.pointGeometry(Number.MAX_VALUE,Number.MAX_VALUE)}_getBounds(g,tt){const st=new s.pointGeometry(this._edgeInsets.left,this._edgeInsets.top),Et=new s.pointGeometry(this.width-this._edgeInsets.right,this._edgeInsets.top),Ot=new s.pointGeometry(this.width-this._edgeInsets.right,this.height-this._edgeInsets.bottom),Ft=new s.pointGeometry(this._edgeInsets.left,this.height-this._edgeInsets.bottom);let Wt=this.pointCoordinate(st,g),er=this.pointCoordinate(Et,g);const nr=this.pointCoordinate(Ot,tt),sr=this.pointCoordinate(Ft,tt),fr=(xr,Ar)=>(Ar.y-xr.y)/(Ar.x-xr.x);return Wt.y>1&&er.y>=0?Wt=new s.MercatorCoordinate((1-sr.y)/fr(sr,Wt)+sr.x,1):Wt.y<0&&er.y<=1&&(Wt=new s.MercatorCoordinate(-sr.y/fr(sr,Wt)+sr.x,0)),er.y>1&&Wt.y>=0?er=new s.MercatorCoordinate((1-nr.y)/fr(nr,er)+nr.x,1):er.y<0&&Wt.y<=1&&(er=new s.MercatorCoordinate(-nr.y/fr(nr,er)+nr.x,0)),new s.LngLatBounds().extend(this.coordinateLocation(Wt)).extend(this.coordinateLocation(er)).extend(this.coordinateLocation(sr)).extend(this.coordinateLocation(nr))}_getBounds3D(){const g=this.elevation;if(!g.visibleDemTiles.length)return this._getBounds(0,0);const tt=g.visibleDemTiles.reduce((st,Et)=>{if(Et.dem){const Ot=Et.dem.tree;st.min=Math.min(st.min,Ot.minimums[0]),st.max=Math.max(st.max,Ot.maximums[0])}return st},{min:Number.MAX_VALUE,max:0});return this._getBounds(tt.min*g.exaggeration(),tt.max*g.exaggeration())}getBounds(){return this._terrainEnabled()?this._getBounds3D():this._getBounds(0,0)}horizonLineFromTop(g=!0){const tt=this.height/2/Math.tan(this._fov/2)/Math.tan(Math.max(this._pitch,.1))+this.centerOffset.y,st=this.height/2-tt*(1-this._horizonShift);return g?Math.max(0,st):st}getMaxBounds(){return this.maxBounds}setMaxBounds(g){this.maxBounds=g,this.minLat=-s.MAX_MERCATOR_LATITUDE,this.maxLat=s.MAX_MERCATOR_LATITUDE,this.minLng=-180,this.maxLng=180,g&&(this.minLat=g.getSouth(),this.maxLat=g.getNorth(),this.minLng=g.getWest(),this.maxLng=g.getEast(),this.maxLng<this.minLng&&(this.maxLng+=360)),this.worldMinX=s.mercatorXfromLng(this.minLng)*this.tileSize,this.worldMaxX=s.mercatorXfromLng(this.maxLng)*this.tileSize,this.worldMinY=s.mercatorYfromLat(this.maxLat)*this.tileSize,this.worldMaxY=s.mercatorYfromLat(this.minLat)*this.tileSize,this._constrain()}calculatePosMatrix(g,tt){return this.projection.createTileMatrix(this,tt,g)}calculateDistanceTileData(g){const tt=g.key,st=this._distanceTileDataCache;if(st[tt])return st[tt];const Et=g.canonical,Ot=1/this.height,Ft=this.cameraWorldSize/this.zoomScale(Et.z),Wt=(Et.x+Math.pow(2,Et.z)*g.wrap)*Ft,er=Et.y*Ft,nr=this.point,sr=this.angle,fr=Math.sin(-sr),xr=-Math.cos(-sr);return st[tt]={bearing:[fr,xr],center:[(nr.x-Wt)*Ot,(nr.y-er)*Ot],scale:Ft/s.EXTENT*Ot},st[tt]}calculateFogTileMatrix(g){const tt=g.key,st=this._fogTileMatrixCache;if(st[tt])return st[tt];const Et=this.calculatePosMatrix(g,this.cameraWorldSize);return s.multiply$1(Et,this.worldToFogMatrix,Et),st[tt]=new Float32Array(Et),st[tt]}calculateProjMatrix(g,tt=!1){const st=g.key,Et=tt?this._alignedProjMatrixCache:this._projMatrixCache;if(Et[st])return Et[st];const Ot=this.calculatePosMatrix(g,this.worldSize);return s.multiply$1(Ot,this.projection.isReprojectedInTileSpace?this.mercatorMatrix:tt?this.alignedProjMatrix:this.projMatrix,Ot),Et[st]=new Float32Array(Ot),Et[st]}calculatePixelsToTileUnitsMatrix(g){const tt=g.tileID.key,st=this._pixelsToTileUnitsCache;if(st[tt])return st[tt];const Et=function(Ot,Ft){const{scale:Wt}=Ot.tileTransform,er=Wt*s.EXTENT/(Ot.tileSize*Math.pow(2,Ft.zoom-Ot.tileID.overscaledZ+Ot.tileID.canonical.z));return nr=new Float32Array(4),xr=(sr=Ft.inverseAdjustmentMatrix)[1],Ar=sr[2],Er=sr[3],Nr=(fr=[er,er])[1],nr[0]=sr[0]*(br=fr[0]),nr[1]=xr*br,nr[2]=Ar*Nr,nr[3]=Er*Nr,nr;var nr,sr,fr,xr,Ar,Er,br,Nr}(g,this);return st[tt]=Et,st[tt]}customLayerMatrix(){return this.mercatorMatrix.slice()}recenterOnTerrain(){if(!this._elevation)return;const g=this._elevation;this._updateCameraState();const tt=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,st=this._computeCameraPosition(tt),Et=this._camera.forward(),Ot=s.mercatorZfromAltitude(1,this._center.lat);st[2]/=Ot,Et[2]/=Ot,s.normalize(Et,Et);const Ft=g.raycast(st,Et,g.exaggeration());if(Ft){const Wt=s.scaleAndAdd([],st,Et,Ft),er=new s.MercatorCoordinate(Wt[0],Wt[1],s.mercatorZfromAltitude(Wt[2],s.latFromMercatorY(Wt[1]))),nr=(er.z+s.length([er.x-st[0],er.y-st[1],er.z-st[2]*Ot]))*this._projectionScaler;this._seaLevelZoom=this._zoomFromMercatorZ(nr),this._centerAltitude=er.toAltitude(),this._center=this.coordinateLocation(er),this._updateZoomFromElevation(),this._constrain(),this._calcMatrices()}}_constrainCameraAltitude(){if(!this._elevation)return;const g=this._elevation;this._updateCameraState();const tt=s.mercatorZfromAltitude(1,this._center.lat)*this.worldSize,st=this._computeCameraPosition(tt),Et=g.getAtPointOrZero(new s.MercatorCoordinate(...st)),Ot=this._minimumHeightOverTerrain()*Math.cos(s.degToRad(this._maxPitch)),Ft=this._camera.position[2]-this.pixelsPerMeter/this.worldSize*Et;if(Ft<Ot){const Wt=this.locationCoordinate(this._center,this._centerAltitude),er=[Wt.x-st[0],Wt.y-st[1],Wt.z-st[2]],nr=s.length(er);er[2]-=(Ot-Ft)/this._projectionScaler;const sr=s.length(er);if(sr===0)return;s.scale$2(er,er,nr/sr*this._projectionScaler),this._camera.position=[Wt.x-er[0],Wt.y-er[1],Wt.z*this._projectionScaler-er[2]],this._camera.orientation=qp(er,this._camera.up()),this._updateStateFromCamera()}}_constrain(){if(!this.center||!this.width||!this.height||this._constraining)return;if(this._constraining=!0,this.projection.isReprojectedInTileSpace){const fr=this.center;return fr.lat=s.clamp(fr.lat,this.minLat,this.maxLat),!this.maxBounds&&this.renderWorldCopies||(fr.lng=s.clamp(fr.lng,this.minLng,this.maxLng)),this.center=fr,void(this._constraining=!1)}const g=this._unmodified,{x:tt,y:st}=this.point;let Et=0,Ot=tt,Ft=st;const Wt=this.width/2,er=this.height/2,nr=this.worldMinY*this.scale,sr=this.worldMaxY*this.scale;if(st-er<nr&&(Ft=nr+er),st+er>sr&&(Ft=sr-er),sr-nr<this.height&&(Et=Math.max(Et,this.height/(sr-nr)),Ft=(sr+nr)/2),this.maxBounds||!this._renderWorldCopies||!this.projection.wrap){const fr=this.worldMinX*this.scale,xr=this.worldMaxX*this.scale,Ar=this.worldSize/2-(fr+xr)/2;Ot=(tt+Ar+this.worldSize)%this.worldSize-Ar,Ot-Wt<fr&&(Ot=fr+Wt),Ot+Wt>xr&&(Ot=xr-Wt),xr-fr<this.width&&(Et=Math.max(Et,this.width/(xr-fr)),Ot=(xr+fr)/2)}Ot===tt&&Ft===st||(this.center=this.unproject(new s.pointGeometry(Ot,Ft))),Et&&(this.zoom+=this.scaleZoom(Et)),this._constrainCameraAltitude(),this._unmodified=g,this._constraining=!1}_minZoomForBounds(){let g=Math.max(0,this.scaleZoom(this.height/(this.worldMaxY-this.worldMinY)));return this.maxBounds&&(g=Math.max(g,this.scaleZoom(this.width/(this.worldMaxX-this.worldMinX)))),g}_maxCameraBoundsDistance(){return this._mercatorZfromZoom(this._minZoomForBounds())}_calcMatrices(){if(!this.height)return;const g=this._fov/2,tt=this.centerOffset,st=this.pixelsPerMeter;this._projectionScaler=st/(s.mercatorZfromAltitude(1,this.center.lat)*this.worldSize),this.cameraToCenterDistance=.5/Math.tan(g)*this.height*this._projectionScaler,this._updateCameraState(),this._farZ=this.projection.farthestPixelDistance(this),this._nearZ=this.height/50;const Et=this._camera.getWorldToCamera(this.worldSize,this.projection.zAxisUnit==="meters"?st:1),Ot=this._camera.getCameraToClipPerspective(this._fov,this.width/this.height,this._nearZ,this._farZ);Ot[8]=2*-tt.x/this.width,Ot[9]=2*tt.y/this.height;let Ft=s.mul([],Ot,Et);if(this.projection.isReprojectedInTileSpace){const Ur=this.locationCoordinate(this.center),jr=s.identity([]);s.translate(jr,jr,[Ur.x*this.worldSize,Ur.y*this.worldSize,0]),s.multiply$1(jr,jr,zm(this)),s.translate(jr,jr,[-Ur.x*this.worldSize,-Ur.y*this.worldSize,0]),s.multiply$1(Ft,Ft,jr),this.inverseAdjustmentMatrix=function(Wr){const on=zm(Wr,!0);return pt([],[on[0],on[1],on[4],on[5]])}(this)}else this.inverseAdjustmentMatrix=[1,0,0,1];this.mercatorMatrix=s.scale([],Ft,[this.worldSize,this.worldSize,this.worldSize/st,1]),this.projMatrix=Ft,this.invProjMatrix=s.invert(new Float64Array(16),this.projMatrix);const Wt=new Float32Array(16);s.identity(Wt),s.scale(Wt,Wt,[1,-1,1]),s.rotateX(Wt,Wt,this._pitch),s.rotateZ(Wt,Wt,this.angle);const er=s.perspective(new Float32Array(16),this._fov,this.width/this.height,this._nearZ,this._farZ),nr=(Math.PI/2-this._pitch)*(this.height/this._fov)*this._horizonShift;er[8]=2*-tt.x/this.width,er[9]=2*(tt.y+nr)/this.height,this.skyboxMatrix=s.multiply$1(Wt,er,Wt);const sr=this.point,fr=sr.x,xr=sr.y,Ar=this.width%2/2,Er=this.height%2/2,br=Math.cos(this.angle),Nr=Math.sin(this.angle),Or=fr-Math.round(fr)+br*Ar+Nr*Er,kr=xr-Math.round(xr)+br*Er+Nr*Ar,Dr=new Float64Array(Ft);if(s.translate(Dr,Dr,[Or>.5?Or-1:Or,kr>.5?kr-1:kr,0]),this.alignedProjMatrix=Dr,Ft=s.create(),s.scale(Ft,Ft,[this.width/2,-this.height/2,1]),s.translate(Ft,Ft,[1,-1,0]),this.labelPlaneMatrix=Ft,Ft=s.create(),s.scale(Ft,Ft,[1,-1,1]),s.translate(Ft,Ft,[-1,-1,0]),s.scale(Ft,Ft,[2/this.width,2/this.height,1]),this.glCoordMatrix=Ft,this.pixelMatrix=s.multiply$1(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),this._calcFogMatrices(),this._distanceTileDataCache={},Ft=s.invert(new Float64Array(16),this.pixelMatrix),!Ft)throw new Error("failed to invert matrix");this.pixelMatrixInverse=Ft,this.globeMatrix=this.projection.name==="globe"?s.calculateGlobeMatrix(this):Ft,this._projMatrixCache={},this._alignedProjMatrixCache={},this._pixelsToTileUnitsCache={}}_calcFogMatrices(){this._fogTileMatrixCache={};const g=this.cameraWorldSize,tt=this.cameraPixelsPerMeter,st=this._camera.position,Et=1/this.height,Ot=[g,g,tt];s.scale$2(Ot,Ot,Et),s.scale$2(st,st,-1),s.multiply$2(st,st,Ot);const Ft=s.create();s.translate(Ft,Ft,st),s.scale(Ft,Ft,Ot),this.mercatorFogMatrix=Ft,this.worldToFogMatrix=this._camera.getWorldToCameraPosition(g,tt,Et)}_computeCameraPosition(g){const tt=(g=g||this.pixelsPerMeter)/this.pixelsPerMeter,st=this._camera.forward(),Et=this.point,Ot=this._mercatorZfromZoom(this._seaLevelZoom?this._seaLevelZoom:this._zoom)*tt-g/this.worldSize*this._centerAltitude;return[Et.x/this.worldSize-st[0]*Ot,Et.y/this.worldSize-st[1]*Ot,g/this.worldSize*this._centerAltitude-st[2]*Ot]}_updateCameraState(){this.height&&(this._camera.setPitchBearing(this._pitch,this.angle),this._camera.position=this._computeCameraPosition())}_translateCameraConstrained(g){const tt=this._maxCameraBoundsDistance()*Math.cos(this._pitch),st=g[2];let Et=1;st>0&&(Et=Math.min((tt-this._camera.position[2])/st,1)),this._camera.position=s.scaleAndAdd([],this._camera.position,g,Et),this._updateStateFromCamera(),this.projection.wrap&&(this.center=this.center.wrap())}_updateStateFromCamera(){const g=this._camera.position,tt=this._camera.forward(),{pitch:st,bearing:Et}=this._camera.getPitchBearing(),Ot=s.mercatorZfromAltitude(this._centerAltitude,this.center.lat)*this._projectionScaler,Ft=this._mercatorZfromZoom(this._maxZoom)*Math.cos(s.degToRad(this._maxPitch)),Wt=Math.max((g[2]-Ot)/Math.cos(st),Ft),er=this._zoomFromMercatorZ(Wt);s.scaleAndAdd(g,g,tt,Wt),this._pitch=s.clamp(st,s.degToRad(this.minPitch),s.degToRad(this.maxPitch)),this.angle=s.wrap(Et,-Math.PI,Math.PI),this._setZoom(s.clamp(er,this._minZoom,this._maxZoom)),this._updateSeaLevelZoom(),this._center=this.coordinateLocation(new s.MercatorCoordinate(g[0],g[1],g[2])),this._unmodified=!1,this._constrain(),this._calcMatrices()}_worldSizeFromZoom(g){return Math.pow(2,g)*this.tileSize}_mercatorZfromZoom(g){return this.cameraToCenterDistance/this._worldSizeFromZoom(g)}_minimumHeightOverTerrain(){const g=Math.min((this._seaLevelZoom!=null?this._seaLevelZoom:this._zoom)+2,this._maxZoom);return this._mercatorZfromZoom(g)}_zoomFromMercatorZ(g){return this.scaleZoom(this.cameraToCenterDistance/(g*this.tileSize))}_terrainEnabled(){return!(!this._elevation||!this.projection.supportsTerrain&&(s.warnOnce("Terrain is not yet supported with alternate projections. Use mercator to enable terrain."),1))}anyCornerOffEdge(g,tt){const st=Math.min(g.x,tt.x),Et=Math.max(g.x,tt.x),Ot=Math.min(g.y,tt.y),Ft=Math.max(g.y,tt.y);if(Ot<this.horizonLineFromTop(!1))return!0;if(this.projection.name!=="mercator")return!1;const Wt=[new s.pointGeometry(st,Ot),new s.pointGeometry(Et,Ft),new s.pointGeometry(st,Ft),new s.pointGeometry(Et,Ot)],er=this.renderWorldCopies?-3:0,nr=this.renderWorldCopies?4:1;for(const sr of Wt){const fr=this.pointRayIntersection(sr);if(fr.t<0)return!0;const xr=this.rayIntersectionCoordinate(fr);if(xr.x<er||xr.y<0||xr.x>nr||xr.y>1)return!0}return!1}isHorizonVisible(){return this.pitch+s.radToDeg(this.fovAboveCenter)>88||this.anyCornerOffEdge(new s.pointGeometry(0,0),new s.pointGeometry(this.width,this.height))}zoomDeltaToMovement(g,tt){const st=s.length(s.sub([],this._camera.position,g)),Et=this._zoomFromMercatorZ(st)+tt;return st-this._mercatorZfromZoom(Et)}getCameraPoint(){const g=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new s.pointGeometry(0,g))}}function Gm(nt,g){let tt=!1,st=null;const Et=()=>{st=null,tt&&(nt(),st=setTimeout(Et,g),tt=!1)};return()=>(tt=!0,st||Et(),st)}class K1{constructor(g){this._hashName=g&&encodeURIComponent(g),s.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=Gm(this._updateHashUnthrottled.bind(this),300)}addTo(g){return this._map=g,s.window.addEventListener("hashchange",this._onHashChange,!1),g.on("moveend",this._updateHash),this}remove(){return this._map?(this._map.off("moveend",this._updateHash),s.window.removeEventListener("hashchange",this._onHashChange,!1),clearTimeout(this._updateHash()),this._map=void 0,this):this}getHashString(g){const tt=this._map;if(!tt)return"";const st=tt.getCenter(),Et=Math.round(100*tt.getZoom())/100,Ot=Math.ceil((Et*Math.LN2+Math.log(512/360/.5))/Math.LN10),Ft=Math.pow(10,Ot),Wt=Math.round(st.lng*Ft)/Ft,er=Math.round(st.lat*Ft)/Ft,nr=tt.getBearing(),sr=tt.getPitch();let fr="";if(fr+=g?`/${Wt}/${er}/${Et}`:`${Et}/${er}/${Wt}`,(nr||sr)&&(fr+="/"+Math.round(10*nr)/10),sr&&(fr+=`/${Math.round(sr)}`),this._hashName){const xr=this._hashName;let Ar=!1;const Er=s.window.location.hash.slice(1).split("&").map(br=>{const Nr=br.split("=")[0];return Nr===xr?(Ar=!0,`${Nr}=${fr}`):br}).filter(br=>br);return Ar||Er.push(`${xr}=${fr}`),`#${Er.join("&")}`}return`#${fr}`}_getCurrentHash(){const g=s.window.location.hash.replace("#","");if(this._hashName){let tt;return g.split("&").map(st=>st.split("=")).forEach(st=>{st[0]===this._hashName&&(tt=st)}),(tt&&tt[1]||"").split("/")}return g.split("/")}_onHashChange(){const g=this._map;if(!g)return!1;const tt=this._getCurrentHash();if(tt.length>=3&&!tt.some(st=>isNaN(st))){const st=g.dragRotate.isEnabled()&&g.touchZoomRotate.isEnabled()?+(tt[3]||0):g.getBearing();return g.jumpTo({center:[+tt[2],+tt[1]],zoom:+tt[0],bearing:st,pitch:+(tt[4]||0)}),!0}return!1}_updateHashUnthrottled(){const g=s.window.location.href.replace(/(#.+)?$/,this.getHashString());s.window.history.replaceState(s.window.history.state,null,g)}}const Kl={linearity:.3,easing:s.bezier(0,0,.3,1)},J1=s.extend({deceleration:2500,maxSpeed:1400},Kl),Q1=s.extend({deceleration:20,maxSpeed:1400},Kl),ey=s.extend({deceleration:1e3,maxSpeed:360},Kl),ty=s.extend({deceleration:1e3,maxSpeed:90},Kl);class ry{constructor(g){this._map=g,this.clear()}clear(){this._inertiaBuffer=[]}record(g){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:s.exported.now(),settings:g})}_drainInertiaBuffer(){const g=this._inertiaBuffer,tt=s.exported.now();for(;g.length>0&&tt-g[0].time>160;)g.shift()}_onMoveEnd(g){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const tt={zoom:0,bearing:0,pitch:0,pan:new s.pointGeometry(0,0),pinchAround:void 0,around:void 0};for(const{settings:Ot}of this._inertiaBuffer)tt.zoom+=Ot.zoomDelta||0,tt.bearing+=Ot.bearingDelta||0,tt.pitch+=Ot.pitchDelta||0,Ot.panDelta&&tt.pan._add(Ot.panDelta),Ot.around&&(tt.around=Ot.around),Ot.pinchAround&&(tt.pinchAround=Ot.pinchAround);const st=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,Et={};if(tt.pan.mag()){const Ot=vs(tt.pan.mag(),st,s.extend({},J1,g||{}));Et.offset=tt.pan.mult(Ot.amount/tt.pan.mag()),Et.center=this._map.transform.center,mp(Et,Ot)}if(tt.zoom){const Ot=vs(tt.zoom,st,Q1);Et.zoom=this._map.transform.zoom+Ot.amount,mp(Et,Ot)}if(tt.bearing){const Ot=vs(tt.bearing,st,ey);Et.bearing=this._map.transform.bearing+s.clamp(Ot.amount,-179,179),mp(Et,Ot)}if(tt.pitch){const Ot=vs(tt.pitch,st,ty);Et.pitch=this._map.transform.pitch+Ot.amount,mp(Et,Ot)}if(Et.zoom||Et.bearing){const Ot=tt.pinchAround===void 0?tt.around:tt.pinchAround;Et.around=Ot?this._map.unproject(Ot):this._map.getCenter()}return this.clear(),Et.noMoveStart=!0,Et}}function mp(nt,g){(!nt.duration||nt.duration<g.duration)&&(nt.duration=g.duration,nt.easing=g.easing)}function vs(nt,g,tt){const{maxSpeed:st,linearity:Et,deceleration:Ot}=tt,Ft=s.clamp(nt*Et/(g/1e3),-st,st),Wt=Math.abs(Ft)/(Ot*Et);return{easing:tt.easing,duration:1e3*Wt,amount:Ft*(Wt/2)}}class ga extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(g,tt,st,Et={}){const Ot=ct(tt.getCanvasContainer(),st),Ft=tt.unproject(Ot);super(g,s.extend({point:Ot,lngLat:Ft,originalEvent:st},Et)),this._defaultPrevented=!1,this.target=tt}}class yp extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(g,tt,st){const Et=g==="touchend"?st.changedTouches:st.touches,Ot=Lt(tt.getCanvasContainer(),Et),Ft=Ot.map(er=>tt.unproject(er)),Wt=Ot.reduce((er,nr,sr,fr)=>er.add(nr.div(fr.length)),new s.pointGeometry(0,0));super(g,{points:Ot,point:Wt,lngLats:Ft,lngLat:tt.unproject(Wt),originalEvent:st}),this._defaultPrevented=!1}}class s_ extends s.Event{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(g,tt,st){super(g,{originalEvent:st}),this._defaultPrevented=!1}}class a_{constructor(g,tt){this._map=g,this._clickTolerance=tt.clickTolerance}reset(){this._mousedownPos=void 0}wheel(g){return this._firePreventable(new s_(g.type,this._map,g))}mousedown(g,tt){return this._mousedownPos=tt,this._firePreventable(new ga(g.type,this._map,g))}mouseup(g){this._map.fire(new ga(g.type,this._map,g))}preclick(g){const tt=s.extend({},g);tt.type="preclick",this._map.fire(new ga(tt.type,this._map,tt))}click(g,tt){this._mousedownPos&&this._mousedownPos.dist(tt)>=this._clickTolerance||(this.preclick(g),this._map.fire(new ga(g.type,this._map,g)))}dblclick(g){return this._firePreventable(new ga(g.type,this._map,g))}mouseover(g){this._map.fire(new ga(g.type,this._map,g))}mouseout(g){this._map.fire(new ga(g.type,this._map,g))}touchstart(g){return this._firePreventable(new yp(g.type,this._map,g))}touchmove(g){this._map.fire(new yp(g.type,this._map,g))}touchend(g){this._map.fire(new yp(g.type,this._map,g))}touchcancel(g){this._map.fire(new yp(g.type,this._map,g))}_firePreventable(g){if(this._map.fire(g),g.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class Jl{constructor(g){this._map=g}reset(){this._delayContextMenu=!1,this._contextMenuEvent=void 0}mousemove(g){this._map.fire(new ga(g.type,this._map,g))}mousedown(){this._delayContextMenu=!0}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new ga("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(g){this._delayContextMenu?this._contextMenuEvent=g:this._map.fire(new ga(g.type,this._map,g)),this._map.listens("contextmenu")&&g.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class ny{constructor(g,tt){this._map=g,this._el=g.getCanvasContainer(),this._container=g.getContainer(),this._clickTolerance=tt.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(g,tt){this.isEnabled()&&g.shiftKey&&g.button===0&&(Rt(),this._startPos=this._lastPos=tt,this._active=!0)}mousemoveWindow(g,tt){if(!this._active)return;const st=tt;if(this._lastPos.equals(st)||!this._box&&st.dist(this._startPos)<this._clickTolerance)return;const Et=this._startPos;this._lastPos=st,this._box||(this._box=lt("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",g));const Ot=Math.min(Et.x,st.x),Ft=Math.max(Et.x,st.x),Wt=Math.min(Et.y,st.y),er=Math.max(Et.y,st.y);this._map._requestDomTask(()=>{this._box&&(this._box.style.transform=`translate(${Ot}px,${Wt}px)`,this._box.style.width=Ft-Ot+"px",this._box.style.height=er-Wt+"px")})}mouseupWindow(g,tt){if(!this._active||g.button!==0)return;const st=this._startPos,Et=tt;if(this.reset(),Ct(),st.x!==Et.x||st.y!==Et.y)return this._map.fire(new s.Event("boxzoomend",{originalEvent:g})),{cameraAnimation:Ot=>Ot.fitScreenCoordinates(st,Et,this._map.getBearing(),{linear:!1})};this._fireEvent("boxzoomcancel",g)}keydown(g){this._active&&g.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",g))}blur(){this.reset()}reset(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.remove(),this._box=null),Mt(),delete this._startPos,delete this._lastPos}_fireEvent(g,tt){return this._map.fire(new s.Event(g,{originalEvent:tt}))}}function hu(nt,g){const tt={};for(let st=0;st<nt.length;st++)tt[nt[st].identifier]=g[st];return tt}class Wl{constructor(g){this.reset(),this.numTouches=g.numTouches}reset(){this.centroid=void 0,this.startTime=0,this.touches={},this.aborted=!1}touchstart(g,tt,st){(this.centroid||st.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===0&&(this.startTime=g.timeStamp),st.length===this.numTouches&&(this.centroid=function(Et){const Ot=new s.pointGeometry(0,0);for(const Ft of Et)Ot._add(Ft);return Ot.div(Et.length)}(tt),this.touches=hu(st,tt)))}touchmove(g,tt,st){if(this.aborted||!this.centroid)return;const Et=hu(st,tt);for(const Ot in this.touches){const Ft=this.touches[Ot],Wt=Et[Ot];(!Wt||Wt.dist(Ft)>30)&&(this.aborted=!0)}}touchend(g,tt,st){if((!this.centroid||g.timeStamp-this.startTime>500)&&(this.aborted=!0),st.length===0){const Et=!this.aborted&&this.centroid;if(this.reset(),Et)return Et}}}class Uu{constructor(g){this.singleTap=new Wl(g),this.numTaps=g.numTaps,this.reset()}reset(){this.lastTime=1/0,this.lastTap=void 0,this.count=0,this.singleTap.reset()}touchstart(g,tt,st){this.singleTap.touchstart(g,tt,st)}touchmove(g,tt,st){this.singleTap.touchmove(g,tt,st)}touchend(g,tt,st){const Et=this.singleTap.touchend(g,tt,st);if(Et){const Ot=g.timeStamp-this.lastTime<500,Ft=!this.lastTap||this.lastTap.dist(Et)<30;if(Ot&&Ft||this.reset(),this.count++,this.lastTime=g.timeStamp,this.lastTap=Et,this.count===this.numTaps)return this.reset(),Et}}}class Vn{constructor(){this._zoomIn=new Uu({numTouches:1,numTaps:2}),this._zoomOut=new Uu({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(g,tt,st){this._zoomIn.touchstart(g,tt,st),this._zoomOut.touchstart(g,tt,st)}touchmove(g,tt,st){this._zoomIn.touchmove(g,tt,st),this._zoomOut.touchmove(g,tt,st)}touchend(g,tt,st){const Et=this._zoomIn.touchend(g,tt,st),Ot=this._zoomOut.touchend(g,tt,st);return Et?(this._active=!0,g.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:Ft=>Ft.easeTo({duration:300,zoom:Ft.getZoom()+1,around:Ft.unproject(Et)},{originalEvent:g})}):Ot?(this._active=!0,g.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:Ft=>Ft.easeTo({duration:300,zoom:Ft.getZoom()-1,around:Ft.unproject(Ot)},{originalEvent:g})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}const iy={0:1,2:2};class Xp{constructor(g){this.reset(),this._clickTolerance=g.clickTolerance||1}blur(){this.reset()}reset(){this._active=!1,this._moved=!1,this._lastPoint=void 0,this._eventButton=void 0}_correctButton(g,tt){return!1}_move(g,tt){return{}}mousedown(g,tt){if(this._lastPoint)return;const st=Kt(g);this._correctButton(g,st)&&(this._lastPoint=tt,this._eventButton=st)}mousemoveWindow(g,tt){const st=this._lastPoint;if(st){if(g.preventDefault(),this._eventButton!=null&&function(Et,Ot){const Ft=iy[Ot];return Et.buttons===void 0||(Et.buttons&Ft)!==Ft}(g,this._eventButton))this.reset();else if(this._moved||!(tt.dist(st)<this._clickTolerance))return this._moved=!0,this._lastPoint=tt,this._move(st,tt)}}mouseupWindow(g){this._lastPoint&&Kt(g)===this._eventButton&&(this._moved&&Ct(),this.reset())}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class _p extends Xp{mousedown(g,tt){super.mousedown(g,tt),this._lastPoint&&(this._active=!0)}_correctButton(g,tt){return tt===0&&!g.ctrlKey}_move(g,tt){return{around:tt,panDelta:tt.sub(g)}}}class zu extends Xp{_correctButton(g,tt){return tt===0&&g.ctrlKey||tt===2}_move(g,tt){const st=.8*(tt.x-g.x);if(st)return this._active=!0,{bearingDelta:st}}contextmenu(g){g.preventDefault()}}class Zm extends Xp{_correctButton(g,tt){return tt===0&&g.ctrlKey||tt===2}_move(g,tt){const st=-.5*(tt.y-g.y);if(st)return this._active=!0,{pitchDelta:st}}contextmenu(g){g.preventDefault()}}class oy{constructor(g,tt){this._map=g,this._el=g.getCanvasContainer(),this._minTouches=1,this._clickTolerance=tt.clickTolerance||1,this.reset(),s.bindAll(["_addTouchPanBlocker","_showTouchPanBlockerAlert"],this)}reset(){this._active=!1,this._touches={},this._sum=new s.pointGeometry(0,0)}touchstart(g,tt,st){return this._calculateTransform(g,tt,st)}touchmove(g,tt,st){if(this._active&&!(st.length<this._minTouches)){if(this._map._cooperativeGestures&&!this._map.isMoving()){if(st.length===1)return void this._showTouchPanBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}return g.preventDefault(),this._calculateTransform(g,tt,st)}}touchend(g,tt,st){this._calculateTransform(g,tt,st),this._active&&st.length<this._minTouches&&this.reset()}touchcancel(){this.reset()}_calculateTransform(g,tt,st){st.length>0&&(this._active=!0);const Et=hu(st,tt),Ot=new s.pointGeometry(0,0),Ft=new s.pointGeometry(0,0);let Wt=0;for(const nr in Et){const sr=Et[nr],fr=this._touches[nr];fr&&(Ot._add(sr),Ft._add(sr.sub(fr)),Wt++,Et[nr]=sr)}if(this._touches=Et,Wt<this._minTouches||!Ft.mag())return;const er=Ft.div(Wt);return this._sum._add(er),this._sum.mag()<this._clickTolerance?void 0:{around:Ot.div(Wt),panDelta:er}}enable(){this._enabled=!0,this._map._cooperativeGestures&&(this._addTouchPanBlocker(),this._el.classList.add("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page"))}disable(){this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove(),this._el.classList.remove("mapboxgl-touch-pan-blocker-override","mapboxgl-scrollable-page")),this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}_addTouchPanBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=lt("div","mapboxgl-touch-pan-blocker",this._map._container),this._alertContainer.textContent=this._map._getUIString("TouchPanBlocker.Message"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_showTouchPanBlockerAlert(){this._alertContainer.style.visibility==="hidden"&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-touch-pan-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-touch-pan-blocker-show")},500)}}class Kp{constructor(){this.reset()}reset(){this._active=!1,this._firstTwoTouches=void 0}_start(g){}_move(g,tt,st){return{}}touchstart(g,tt,st){this._firstTwoTouches||st.length<2||(this._firstTwoTouches=[st[0].identifier,st[1].identifier],this._start([tt[0],tt[1]]))}touchmove(g,tt,st){const Et=this._firstTwoTouches;if(!Et)return;g.preventDefault();const[Ot,Ft]=Et,Wt=vp(st,tt,Ot),er=vp(st,tt,Ft);if(!Wt||!er)return;const nr=this._aroundCenter?null:Wt.add(er).div(2);return this._move([Wt,er],nr,g)}touchend(g,tt,st){if(!this._firstTwoTouches)return;const[Et,Ot]=this._firstTwoTouches,Ft=vp(st,tt,Et),Wt=vp(st,tt,Ot);Ft&&Wt||(this._active&&Ct(),this.reset())}touchcancel(){this.reset()}enable(g){this._enabled=!0,this._aroundCenter=!!g&&g.around==="center"}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}function vp(nt,g,tt){for(let st=0;st<nt.length;st++)if(nt[st].identifier===tt)return g[st]}function $m(nt,g){return Math.log(nt/g)/Math.LN2}class sy extends Kp{reset(){super.reset(),this._distance=0,this._startDistance=0}_start(g){this._startDistance=this._distance=g[0].dist(g[1])}_move(g,tt){const st=this._distance;if(this._distance=g[0].dist(g[1]),this._active||!(Math.abs($m(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:$m(this._distance,st),pinchAround:tt}}}function qm(nt,g){return 180*nt.angleWith(g)/Math.PI}class Jp extends Kp{reset(){super.reset(),this._minDiameter=0,this._startVector=void 0,this._vector=void 0}_start(g){this._startVector=this._vector=g[0].sub(g[1]),this._minDiameter=g[0].dist(g[1])}_move(g,tt){const st=this._vector;if(this._vector=g[0].sub(g[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:qm(this._vector,st),pinchAround:tt}}_isBelowThreshold(g){this._minDiameter=Math.min(this._minDiameter,g.mag());const tt=25/(Math.PI*this._minDiameter)*360,st=qm(g,this._startVector);return Math.abs(st)<tt}}function bp(nt){return Math.abs(nt.y)>Math.abs(nt.x)}class Qp extends Kp{constructor(g){super(),this._map=g}reset(){super.reset(),this._valid=void 0,this._firstMove=void 0,this._lastPoints=void 0}_start(g){this._lastPoints=g,bp(g[0].sub(g[1]))&&(this._valid=!1)}_move(g,tt,st){const Et=this._lastPoints;if(!Et)return;const Ot=g[0].sub(Et[0]),Ft=g[1].sub(Et[1]);return this._map._cooperativeGestures&&st.touches.length<3||(this._valid=this.gestureBeginsVertically(Ot,Ft,st.timeStamp),!this._valid)?void 0:(this._lastPoints=g,this._active=!0,{pitchDelta:(Ot.y+Ft.y)/2*-.5})}gestureBeginsVertically(g,tt,st){if(this._valid!==void 0)return this._valid;const Et=g.mag()>=2,Ot=tt.mag()>=2;if(!Et&&!Ot)return;if(!Et||!Ot)return this._firstMove==null&&(this._firstMove=st),st-this._firstMove<100&&void 0;const Ft=g.y>0==tt.y>0;return bp(g)&&bp(tt)&&Ft}}const ay={panStep:100,bearingStep:15,pitchStep:10};class ly{constructor(){const g=ay;this._panStep=g.panStep,this._bearingStep=g.bearingStep,this._pitchStep=g.pitchStep,this._rotationDisabled=!1}blur(){this.reset()}reset(){this._active=!1}keydown(g){if(g.altKey||g.ctrlKey||g.metaKey)return;let tt=0,st=0,Et=0,Ot=0,Ft=0;switch(g.keyCode){case 61:case 107:case 171:case 187:tt=1;break;case 189:case 109:case 173:tt=-1;break;case 37:g.shiftKey?st=-1:(g.preventDefault(),Ot=-1);break;case 39:g.shiftKey?st=1:(g.preventDefault(),Ot=1);break;case 38:g.shiftKey?Et=1:(g.preventDefault(),Ft=-1);break;case 40:g.shiftKey?Et=-1:(g.preventDefault(),Ft=1);break;default:return}return this._rotationDisabled&&(st=0,Et=0),{cameraAnimation:Wt=>{const er=Wt.getZoom();Wt.easeTo({duration:300,easeId:"keyboardHandler",easing:uy,zoom:tt?Math.round(er)+tt*(g.shiftKey?2:1):er,bearing:Wt.getBearing()+st*this._bearingStep,pitch:Wt.getPitch()+Et*this._pitchStep,offset:[-Ot*this._panStep,-Ft*this._panStep],center:Wt.getCenter()},{originalEvent:g})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function uy(nt){return nt*(2-nt)}const Ym=4.000244140625;class cy{constructor(g,tt){this._map=g,this._el=g.getCanvasContainer(),this._handler=tt,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=.0022222222222222222,s.bindAll(["_onTimeout","_addScrollZoomBlocker","_showBlockerAlert","_isFullscreen"],this)}setZoomRate(g){this._defaultZoomRate=g}setWheelZoomRate(g){this._wheelZoomRate=g}isEnabled(){return!!this._enabled}isActive(){return!!this._active||this._finishTimeout!==void 0}isZooming(){return!!this._zooming}enable(g){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!g&&g.around==="center",this._map._cooperativeGestures&&this._addScrollZoomBlocker())}disable(){this.isEnabled()&&(this._enabled=!1,this._map._cooperativeGestures&&(clearTimeout(this._alertTimer),this._alertContainer.remove()))}wheel(g){if(!this.isEnabled())return;if(this._map._cooperativeGestures){if(!(g.ctrlKey||g.metaKey||this.isZooming()||this._isFullscreen()))return void this._showBlockerAlert();this._alertContainer.style.visibility!=="hidden"&&(this._alertContainer.style.visibility="hidden",clearTimeout(this._alertTimer))}let tt=g.deltaMode===s.window.WheelEvent.DOM_DELTA_LINE?40*g.deltaY:g.deltaY;const st=s.exported.now(),Et=st-(this._lastWheelEventTime||0);this._lastWheelEventTime=st,tt!==0&&tt%Ym==0?this._type="wheel":tt!==0&&Math.abs(tt)<4?this._type="trackpad":Et>400?(this._type=null,this._lastValue=tt,this._timeout=setTimeout(this._onTimeout,40,g)):this._type||(this._type=Math.abs(Et*tt)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,tt+=this._lastValue)),g.shiftKey&&tt&&(tt/=4),this._type&&(this._lastWheelEvent=g,this._delta-=tt,this._active||this._start(g)),g.preventDefault()}_onTimeout(g){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(g)}_start(g){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const tt=ct(this._el,g);this._aroundPoint=this._aroundCenter?this._map.transform.centerPoint:tt,this._aroundCoord=this._map.transform.pointCoordinate3D(this._aroundPoint),this._targetZoom=void 0,this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}renderFrame(){if(!this._frameId||(this._frameId=null,!this.isActive()))return;const g=this._map.transform,tt=()=>g._terrainEnabled()&&this._aroundCoord?g.computeZoomRelativeTo(this._aroundCoord):g.zoom;if(this._delta!==0){const er=this._type==="wheel"&&Math.abs(this._delta)>Ym?this._wheelZoomRate:this._defaultZoomRate;let nr=2/(1+Math.exp(-Math.abs(this._delta*er)));this._delta<0&&nr!==0&&(nr=1/nr);const sr=tt(),fr=Math.pow(2,sr),xr=typeof this._targetZoom=="number"?g.zoomScale(this._targetZoom):fr;this._targetZoom=Math.min(g.maxZoom,Math.max(g.minZoom,g.scaleZoom(xr*nr))),this._type==="wheel"&&(this._startZoom=tt(),this._easing=this._smoothOutEasing(200)),this._delta=0}const st=typeof this._targetZoom=="number"?this._targetZoom:tt(),Et=this._startZoom,Ot=this._easing;let Ft,Wt=!1;if(this._type==="wheel"&&Et&&Ot){const er=Math.min((s.exported.now()-this._lastWheelEventTime)/200,1),nr=Ot(er);Ft=s.number(Et,st,nr),er<1?this._frameId||(this._frameId=!0):Wt=!0}else Ft=st,Wt=!0;return this._active=!0,Wt&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._handler._triggerRenderFrame(),delete this._targetZoom,delete this._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!Wt,zoomDelta:Ft-tt(),around:this._aroundPoint,aroundCoord:this._aroundCoord,originalEvent:this._lastWheelEvent}}_smoothOutEasing(g){let tt=s.ease;if(this._prevEase){const st=this._prevEase,Et=(s.exported.now()-st.start)/st.duration,Ot=st.easing(Et+.01)-st.easing(Et),Ft=.27/Math.sqrt(Ot*Ot+1e-4)*.01,Wt=Math.sqrt(.0729-Ft*Ft);tt=s.bezier(Ft,Wt,.25,1)}return this._prevEase={start:s.exported.now(),duration:g,easing:tt},tt}blur(){this.reset()}reset(){this._active=!1}_addScrollZoomBlocker(){this._map&&!this._alertContainer&&(this._alertContainer=lt("div","mapboxgl-scroll-zoom-blocker",this._map._container),this._alertContainer.textContent=/(Mac|iPad)/i.test(s.window.navigator.userAgent)?this._map._getUIString("ScrollZoomBlocker.CmdMessage"):this._map._getUIString("ScrollZoomBlocker.CtrlMessage"),this._alertContainer.style.fontSize=`${Math.max(10,Math.min(24,Math.floor(.05*this._el.clientWidth)))}px`)}_isFullscreen(){return!!s.window.document.fullscreenElement||!!s.window.document.webkitFullscreenElement}_showBlockerAlert(){this._alertContainer.style.visibility==="hidden"&&(this._alertContainer.style.visibility="visible"),this._alertContainer.classList.add("mapboxgl-scroll-zoom-blocker-show"),clearTimeout(this._alertTimer),this._alertTimer=setTimeout(()=>{this._alertContainer.classList.remove("mapboxgl-scroll-zoom-blocker-show")},200)}}class hy{constructor(g,tt){this._clickZoom=g,this._tapZoom=tt}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class dy{constructor(){this.reset()}reset(){this._active=!1}blur(){this.reset()}dblclick(g,tt){return g.preventDefault(),{cameraAnimation:st=>{st.easeTo({duration:300,zoom:st.getZoom()+(g.shiftKey?-1:1),around:st.unproject(tt)},{originalEvent:g})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Xm{constructor(){this._tap=new Uu({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,this._swipePoint=void 0,this._swipeTouch=0,this._tapTime=0,this._tap.reset()}touchstart(g,tt,st){this._swipePoint||(this._tapTime&&g.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?st.length>0&&(this._swipePoint=tt[0],this._swipeTouch=st[0].identifier):this._tap.touchstart(g,tt,st))}touchmove(g,tt,st){if(this._tapTime){if(this._swipePoint){if(st[0].identifier!==this._swipeTouch)return;const Et=tt[0],Ot=Et.y-this._swipePoint.y;return this._swipePoint=Et,g.preventDefault(),this._active=!0,{zoomDelta:Ot/128}}}else this._tap.touchmove(g,tt,st)}touchend(g,tt,st){this._tapTime?this._swipePoint&&st.length===0&&this.reset():this._tap.touchend(g,tt,st)&&(this._tapTime=g.timeStamp)}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class fy{constructor(g,tt,st){this._el=g,this._mousePan=tt,this._touchPan=st}enable(g){this._inertiaOptions=g||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class py{constructor(g,tt,st){this._pitchWithRotate=g.pitchWithRotate,this._mouseRotate=tt,this._mousePitch=st}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()}}class gy{constructor(g,tt,st,Et){this._el=g,this._touchZoom=tt,this._touchRotate=st,this._tapDragZoom=Et,this._rotationDisabled=!1,this._enabled=!0}enable(g){this._touchZoom.enable(g),this._rotationDisabled||this._touchRotate.enable(g),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}const wp=nt=>nt.zoom||nt.drag||nt.pitch||nt.rotate;class Km extends s.Event{}class my{constructor(){this.constants=[1,1,.01],this.radius=0}setup(g,tt){const st=s.sub([],tt,g);this.radius=s.length(st[2]<0?s.div([],st,this.constants):[st[0],st[1],0])}projectRay(g){s.div(g,g,this.constants),s.normalize(g,g),s.mul$1(g,g,this.constants);const tt=s.scale$2([],g,this.radius);if(tt[2]>0){const st=s.scale$2([],[0,0,1],s.dot(tt,[0,0,1])),Et=s.scale$2([],s.normalize([],[tt[0],tt[1],0]),this.radius),Ot=s.add([],tt,s.scale$2([],s.sub([],s.add([],Et,st),tt),2));tt[0]=Ot[0],tt[1]=Ot[1]}return tt}}function Vu(nt){return nt.panDelta&&nt.panDelta.mag()||nt.zoomDelta||nt.bearingDelta||nt.pitchDelta}class yy{constructor(g,tt){this._map=g,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ry(g),this._bearingSnap=tt.bearingSnap,this._previousActiveHandlers={},this._trackingEllipsoid=new my,this._dragOrigin=null,this._eventsInProgress={},this._addDefaultHandlers(tt),s.bindAll(["handleEvent","handleWindowEvent"],this);const st=this._el;this._listeners=[[st,"touchstart",{passive:!0}],[st,"touchmove",{passive:!1}],[st,"touchend",void 0],[st,"touchcancel",void 0],[st,"mousedown",void 0],[st,"mousemove",void 0],[st,"mouseup",void 0],[s.window.document,"mousemove",{capture:!0}],[s.window.document,"mouseup",void 0],[st,"mouseover",void 0],[st,"mouseout",void 0],[st,"dblclick",void 0],[st,"click",void 0],[st,"keydown",{capture:!1}],[st,"keyup",void 0],[st,"wheel",{passive:!1}],[st,"contextmenu",void 0],[s.window,"blur",void 0]];for(const[Et,Ot,Ft]of this._listeners)Et.addEventListener(Ot,Et===s.window.document?this.handleWindowEvent:this.handleEvent,Ft)}destroy(){for(const[g,tt,st]of this._listeners)g.removeEventListener(tt,g===s.window.document?this.handleWindowEvent:this.handleEvent,st)}_addDefaultHandlers(g){const tt=this._map,st=tt.getCanvasContainer();this._add("mapEvent",new a_(tt,g));const Et=tt.boxZoom=new ny(tt,g);this._add("boxZoom",Et);const Ot=new Vn,Ft=new dy;tt.doubleClickZoom=new hy(Ft,Ot),this._add("tapZoom",Ot),this._add("clickZoom",Ft);const Wt=new Xm;this._add("tapDragZoom",Wt);const er=tt.touchPitch=new Qp(tt);this._add("touchPitch",er);const nr=new zu(g),sr=new Zm(g);tt.dragRotate=new py(g,nr,sr),this._add("mouseRotate",nr,["mousePitch"]),this._add("mousePitch",sr,["mouseRotate"]);const fr=new _p(g),xr=new oy(tt,g);tt.dragPan=new fy(st,fr,xr),this._add("mousePan",fr),this._add("touchPan",xr,["touchZoom","touchRotate"]);const Ar=new Jp,Er=new sy;tt.touchZoomRotate=new gy(st,Er,Ar,Wt),this._add("touchRotate",Ar,["touchPan","touchZoom"]),this._add("touchZoom",Er,["touchPan","touchRotate"]),this._add("blockableMapEvent",new Jl(tt));const br=tt.scrollZoom=new cy(tt,this);this._add("scrollZoom",br,["mousePan"]);const Nr=tt.keyboard=new ly;this._add("keyboard",Nr);for(const Or of["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"])g.interactive&&g[Or]&&tt[Or].enable(g[Or])}_add(g,tt,st){this._handlers.push({handlerName:g,handler:tt,allowed:st}),this._handlersById[g]=tt}stop(g){if(!this._updatingCamera){for(const{handler:tt}of this._handlers)tt.reset();this._inertia.clear(),this._fireEvents({},{},g),this._changes=[]}}isActive(){for(const{handler:g}of this._handlers)if(g.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return!!wp(this._eventsInProgress)||this.isZooming()}_blockedByActive(g,tt,st){for(const Et in g)if(Et!==st&&(!tt||tt.indexOf(Et)<0))return!0;return!1}handleWindowEvent(g){this.handleEvent(g,`${g.type}Window`)}_getMapTouches(g){const tt=[];for(const st of g)this._el.contains(st.target)&&tt.push(st);return tt}handleEvent(g,tt){this._updatingCamera=!0;const st=g.type==="renderFrame",Et=st?void 0:g,Ot={needsRenderFrame:!1},Ft={},Wt={},er=g.touches?this._getMapTouches(g.touches):void 0,nr=er?Lt(this._el,er):st?void 0:ct(this._el,g);for(const{handlerName:xr,handler:Ar,allowed:Er}of this._handlers){if(!Ar.isEnabled())continue;let br;this._blockedByActive(Wt,Er,xr)?Ar.reset():Ar[tt||g.type]&&(br=Ar[tt||g.type](g,nr,er),this.mergeHandlerResult(Ot,Ft,br,xr,Et),br&&br.needsRenderFrame&&this._triggerRenderFrame()),(br||Ar.isActive())&&(Wt[xr]=Ar)}const sr={};for(const xr in this._previousActiveHandlers)Wt[xr]||(sr[xr]=Et);this._previousActiveHandlers=Wt,(Object.keys(sr).length||Vu(Ot))&&(this._changes.push([Ot,Ft,sr]),this._triggerRenderFrame()),(Object.keys(Wt).length||Vu(Ot))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:fr}=Ot;fr&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],fr(this._map))}mergeHandlerResult(g,tt,st,Et,Ot){if(!st)return;s.extend(g,st);const Ft={handlerName:Et,originalEvent:st.originalEvent||Ot};st.zoomDelta!==void 0&&(tt.zoom=Ft),st.panDelta!==void 0&&(tt.drag=Ft),st.pitchDelta!==void 0&&(tt.pitch=Ft),st.bearingDelta!==void 0&&(tt.rotate=Ft)}_applyChanges(){const g={},tt={},st={};for(const[Et,Ot,Ft]of this._changes)Et.panDelta&&(g.panDelta=(g.panDelta||new s.pointGeometry(0,0))._add(Et.panDelta)),Et.zoomDelta&&(g.zoomDelta=(g.zoomDelta||0)+Et.zoomDelta),Et.bearingDelta&&(g.bearingDelta=(g.bearingDelta||0)+Et.bearingDelta),Et.pitchDelta&&(g.pitchDelta=(g.pitchDelta||0)+Et.pitchDelta),Et.around!==void 0&&(g.around=Et.around),Et.aroundCoord!==void 0&&(g.aroundCoord=Et.aroundCoord),Et.pinchAround!==void 0&&(g.pinchAround=Et.pinchAround),Et.noInertia&&(g.noInertia=Et.noInertia),s.extend(tt,Ot),s.extend(st,Ft);this._updateMapTransform(g,tt,st),this._changes=[]}_updateMapTransform(g,tt,st){const Et=this._map,Ot=Et.transform,Ft=kr=>[kr.x,kr.y,kr.z];if((kr=>{const Dr=this._eventsInProgress.drag;return Dr&&!this._handlersById[Dr.handlerName].isActive()})()&&!Vu(g)){const kr=Ot.zoom;Ot.cameraElevationReference="sea",Ot.recenterOnTerrain(),Ot.cameraElevationReference="ground",kr!==Ot.zoom&&this._map._update(!0)}if(!Vu(g))return void this._fireEvents(tt,st,!0);let{panDelta:Wt,zoomDelta:er,bearingDelta:nr,pitchDelta:sr,around:fr,aroundCoord:xr,pinchAround:Ar}=g;Ar!==void 0&&(fr=Ar),(kr=>tt.drag&&!this._eventsInProgress.drag)()&&fr&&(this._dragOrigin=Ft(Ot.pointCoordinate3D(fr)),this._trackingEllipsoid.setup(Ot._camera.position,this._dragOrigin)),Ot.cameraElevationReference="sea",Et._stop(!0),fr=fr||Et.transform.centerPoint,nr&&(Ot.bearing+=nr),sr&&(Ot.pitch+=sr),Ot._updateCameraState();const Er=[0,0,0];if(Wt){const kr=Ot.pointCoordinate(fr);if(Ot.projection.name==="globe"){const Dr=s.latFromMercatorY(kr.y),Ur=Ot.center.lat,jr=Math.min(s.mercatorZfromAltitude(1,Dr)/s.mercatorZfromAltitude(1,Ur),2);Wt=Wt.rotate(-Ot.angle),Er[0]=-Wt.x/Ot.worldSize*jr,Er[1]=-Wt.y/Ot.worldSize*jr}else{const Dr=Ot.pointCoordinate(fr.sub(Wt));kr&&Dr&&(Er[0]=Dr.x-kr.x,Er[1]=Dr.y-kr.y)}}const br=Ot.zoom,Nr=[0,0,0];if(er){const kr=Ft(xr||Ot.pointCoordinate3D(fr)),Dr={dir:s.normalize([],s.sub([],kr,Ot._camera.position))};if(Dr.dir[2]<0){const Ur=Ot.zoomDeltaToMovement(kr,er);s.scale$2(Nr,Dr.dir,Ur)}}const Or=s.add(Er,Er,Nr);Ot._translateCameraConstrained(Or),er&&Math.abs(Ot.zoom-br)>1e-4&&Ot.recenterOnTerrain(),Ot.cameraElevationReference="ground",this._map._update(),g.noInertia||this._inertia.record(g),this._fireEvents(tt,st,!0)}_fireEvents(g,tt,st){const Et=wp(this._eventsInProgress),Ot=wp(g),Ft={};for(const sr in g){const{originalEvent:fr}=g[sr];this._eventsInProgress[sr]||(Ft[`${sr}start`]=fr),this._eventsInProgress[sr]=g[sr]}!Et&&Ot&&this._fireEvent("movestart",Ot.originalEvent);for(const sr in Ft)this._fireEvent(sr,Ft[sr]);Ot&&this._fireEvent("move",Ot.originalEvent);for(const sr in g){const{originalEvent:fr}=g[sr];this._fireEvent(sr,fr)}const Wt={};let er;for(const sr in this._eventsInProgress){const{handlerName:fr,originalEvent:xr}=this._eventsInProgress[sr];this._handlersById[fr].isActive()||(delete this._eventsInProgress[sr],er=tt[fr]||xr,Wt[`${sr}end`]=er)}for(const sr in Wt)this._fireEvent(sr,Wt[sr]);const nr=wp(this._eventsInProgress);if(st&&(Et||Ot)&&!nr){this._updatingCamera=!0;const sr=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),fr=xr=>xr!==0&&-this._bearingSnap<xr&&xr<this._bearingSnap;sr?(fr(sr.bearing||this._map.getBearing())&&(sr.bearing=0),this._map.easeTo(sr,{originalEvent:er})):(this._map.fire(new s.Event("moveend",{originalEvent:er})),fr(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}}_fireEvent(g,tt){this._map.fire(new s.Event(g,tt?{originalEvent:tt}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(g=>{this._frameId=void 0,this.handleEvent(new Km("renderFrame",{timeStamp:g})),this._applyChanges()})}_triggerRenderFrame(){this._frameId===void 0&&(this._frameId=this._requestFrame())}}const _g="map.setFreeCameraOptions(...) and map.getFreeCameraOptions() are not yet supported for non-mercator projections.";class Jm extends s.Evented{constructor(g,tt){super(),this._moving=!1,this._zooming=!1,this.transform=g,this._bearingSnap=tt.bearingSnap,s.bindAll(["_renderFrameCallback"],this)}getCenter(){return new s.LngLat(this.transform.center.lng,this.transform.center.lat)}setCenter(g,tt){return this.jumpTo({center:g},tt)}panBy(g,tt,st){return g=s.pointGeometry.convert(g).mult(-1),this.panTo(this.transform.center,s.extend({offset:g},tt),st)}panTo(g,tt,st){return this.easeTo(s.extend({center:g},tt),st)}getZoom(){return this.transform.zoom}setZoom(g,tt){return this.jumpTo({zoom:g},tt),this}zoomTo(g,tt,st){return this.easeTo(s.extend({zoom:g},tt),st)}zoomIn(g,tt){return this.zoomTo(this.getZoom()+1,g,tt),this}zoomOut(g,tt){return this.zoomTo(this.getZoom()-1,g,tt),this}getBearing(){return this.transform.bearing}setBearing(g,tt){return this.jumpTo({bearing:g},tt),this}getPadding(){return this.transform.padding}setPadding(g,tt){return this.jumpTo({padding:g},tt),this}rotateTo(g,tt,st){return this.easeTo(s.extend({bearing:g},tt),st)}resetNorth(g,tt){return this.rotateTo(0,s.extend({duration:1e3},g),tt),this}resetNorthPitch(g,tt){return this.easeTo(s.extend({bearing:0,pitch:0,duration:1e3},g),tt),this}snapToNorth(g,tt){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(g,tt):this}getPitch(){return this.transform.pitch}setPitch(g,tt){return this.jumpTo({pitch:g},tt),this}cameraForBounds(g,tt){g=s.LngLatBounds.convert(g);const st=tt&&tt.bearing||0;return this._cameraForBoxAndBearing(g.getNorthWest(),g.getSouthEast(),st,tt)}_extendCameraOptions(g){const tt={top:0,bottom:0,right:0,left:0};if(typeof(g=s.extend({padding:tt,offset:[0,0],maxZoom:this.transform.maxZoom},g)).padding=="number"){const st=g.padding;g.padding={top:st,bottom:st,right:st,left:st}}return g.padding=s.extend(tt,g.padding),g}_cameraForBoxAndBearing(g,tt,st,Et){const Ot=this._extendCameraOptions(Et),Ft=this.transform,Wt=Ft.padding,er=Ft.project(s.LngLat.convert(g)),nr=Ft.project(s.LngLat.convert(tt)),sr=new s.pointGeometry(er.x,nr.y),fr=new s.pointGeometry(nr.x,er.y),xr=-s.degToRad(st),Ar=er.rotate(xr),Er=nr.rotate(xr),br=sr.rotate(xr),Nr=fr.rotate(xr),Or=new s.pointGeometry(Math.max(Ar.x,Er.x,br.x,Nr.x),Math.max(Ar.y,Er.y,br.y,Nr.y)),kr=new s.pointGeometry(Math.min(Ar.x,Er.x,br.x,Nr.x),Math.min(Ar.y,Er.y,br.y,Nr.y)),Dr=Or.sub(kr),Ur=(Ft.width-((Wt.left||0)+(Wt.right||0)+Ot.padding.left+Ot.padding.right))/Dr.x,jr=(Ft.height-((Wt.top||0)+(Wt.bottom||0)+Ot.padding.top+Ot.padding.bottom))/Dr.y;if(jr<0||Ur<0)return void s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");const Wr=Math.min(Ft.scaleZoom(Ft.scale*Math.min(Ur,jr)),Ot.maxZoom),on=typeof Ot.offset.x=="number"&&typeof Ot.offset.y=="number"?new s.pointGeometry(Ot.offset.x,Ot.offset.y):s.pointGeometry.convert(Ot.offset),pn=new s.pointGeometry((Ot.padding.left-Ot.padding.right)/2,(Ot.padding.top-Ot.padding.bottom)/2).rotate(st*Math.PI/180),vn=on.add(pn).mult(Ft.scale/Ft.zoomScale(Wr));return{center:Ft.unproject(er.add(nr).div(2).sub(vn)),zoom:Wr,bearing:st}}_cameraForBox(g,tt,st,Et,Ot){const Ft=this._extendCameraOptions(Ot);st=st||0,Et=Et||0,g=s.LngLat.convert(g),tt=s.LngLat.convert(tt);const Wt=this.transform.clone();Wt.padding=Ft.padding;const er=this.getFreeCameraOptions(),nr=new s.LngLat(.5*(g.lng+tt.lng),.5*(g.lat+tt.lat)),sr=.5*(st+Et);if(Wt._camera.position[2]<s.mercatorZfromAltitude(sr,nr.lat))return void s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.");er.lookAtPoint(nr),Wt.setFreeCameraOptions(er);const fr=s.MercatorCoordinate.fromLngLat(g),xr=s.MercatorCoordinate.fromLngLat(tt),Ar=Wt.pointRayIntersection(Wt.centerPoint,sr),Er=[(br=Wt.rayIntersectionCoordinate(Ar)).x,br.y,br.z];var br;const Nr=Wt.screenPointToMercatorRay(Wt.centerPoint),Or=Wt.projection.name!=="globe";let kr,Dr=0;do{const Ur=Math.floor(Wt.zoom),jr=1<<Ur,Wr=Math.min(jr*fr.x,jr*xr.x),on=Math.min(jr*fr.y,jr*xr.y),pn=Math.max(jr*fr.x,jr*xr.x),vn=Math.max(jr*fr.y,jr*xr.y),yn=new s.Aabb([Wr,on,st],[pn,vn,Et]),jn=s.Frustum.fromInvProjectionMatrix(Wt.invProjMatrix,Wt.worldSize,Ur,Or);if(yn.intersects(jn)!==2){kr&&(Wt._camera.position=s.scaleAndAdd([],Wt._camera.position,Nr.dir,-kr),Wt._updateStateFromCamera());break}const sn=s.sub([],Wt._camera.position,Er);kr=.5*s.length(sn),Wt._camera.position=s.scaleAndAdd([],Wt._camera.position,Nr.dir,kr);try{Wt._updateStateFromCamera()}catch{return void s.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}}while(++Dr<10);return{center:Wt.center,zoom:Wt.zoom,bearing:Wt.bearing,pitch:Wt.pitch}}fitBounds(g,tt,st){return this._fitInternal(this.cameraForBounds(g,tt),tt,st)}_raycastElevationBox(g,tt){const st=this.transform.elevation;if(!st)return;const Et=new s.pointGeometry(g.x,tt.y),Ot=new s.pointGeometry(tt.x,g.y),Ft=st.pointCoordinate(g);if(!Ft)return;const Wt=st.pointCoordinate(tt);if(!Wt)return;const er=st.pointCoordinate(Et);if(!er)return;const nr=st.pointCoordinate(Ot);if(!nr)return;const sr=new s.MercatorCoordinate(Ft[0],Ft[1]).toLngLat(),fr=new s.MercatorCoordinate(Wt[0],Wt[1]).toLngLat(),xr=new s.MercatorCoordinate(er[0],er[1]).toLngLat(),Ar=new s.MercatorCoordinate(nr[0],nr[1]).toLngLat(),Er=Math.min(sr.lng,Math.min(fr.lng,Math.min(xr.lng,Ar.lng))),br=Math.min(sr.lat,Math.min(fr.lat,Math.min(xr.lat,Ar.lat))),Nr=Math.max(sr.lng,Math.max(fr.lng,Math.max(xr.lng,Ar.lng))),Or=Math.max(sr.lat,Math.max(fr.lat,Math.max(xr.lat,Ar.lat))),kr=Math.min(Ft[3],Math.min(Wt[3],Math.min(er[3],nr[3]))),Dr=Math.max(Ft[3],Math.max(Wt[3],Math.max(er[3],nr[3])));return{minLngLat:new s.LngLat(Er,br),maxLngLat:new s.LngLat(Nr,Or),minAltitude:kr,maxAltitude:Dr}}fitScreenCoordinates(g,tt,st,Et,Ot){let Ft,Wt,er,nr;const sr=s.pointGeometry.convert(g),fr=s.pointGeometry.convert(tt),xr=this._raycastElevationBox(sr,fr);if(xr)Ft=xr.minLngLat,Wt=xr.maxLngLat,er=xr.minAltitude,nr=xr.maxAltitude;else{if(this.transform.anyCornerOffEdge(sr,fr))return this;Ft=this.transform.pointLocation(sr),Wt=this.transform.pointLocation(fr)}return this._fitInternal(this.transform.pitch===0?this._cameraForBoxAndBearing(this.transform.pointLocation(s.pointGeometry.convert(g)),this.transform.pointLocation(s.pointGeometry.convert(tt)),st,Et):this._cameraForBox(Ft,Wt,er,nr,Et),Et,Ot)}_fitInternal(g,tt,st){return g?(delete(tt=s.extend(g,tt)).padding,tt.linear?this.easeTo(tt,st):this.flyTo(tt,st)):this}jumpTo(g,tt){this.stop();const st=g.preloadOnly?this.transform.clone():this.transform;let Et=!1,Ot=!1,Ft=!1;return"zoom"in g&&st.zoom!==+g.zoom&&(Et=!0,st.zoom=+g.zoom),g.center!==void 0&&(st.center=s.LngLat.convert(g.center)),"bearing"in g&&st.bearing!==+g.bearing&&(Ot=!0,st.bearing=+g.bearing),"pitch"in g&&st.pitch!==+g.pitch&&(Ft=!0,st.pitch=+g.pitch),g.padding==null||st.isPaddingEqual(g.padding)||(st.padding=g.padding),g.preloadOnly?(this._preloadTiles(st),this):(this.fire(new s.Event("movestart",tt)).fire(new s.Event("move",tt)),Et&&this.fire(new s.Event("zoomstart",tt)).fire(new s.Event("zoom",tt)).fire(new s.Event("zoomend",tt)),Ot&&this.fire(new s.Event("rotatestart",tt)).fire(new s.Event("rotate",tt)).fire(new s.Event("rotateend",tt)),Ft&&this.fire(new s.Event("pitchstart",tt)).fire(new s.Event("pitch",tt)).fire(new s.Event("pitchend",tt)),this.fire(new s.Event("moveend",tt)))}getFreeCameraOptions(){return this.transform.projection.supportsFreeCamera||s.warnOnce(_g),this.transform.getFreeCameraOptions()}setFreeCameraOptions(g,tt){const st=this.transform;if(!st.projection.supportsFreeCamera)return s.warnOnce(_g),this;this.stop();const Et=st.zoom,Ot=st.pitch,Ft=st.bearing;st.setFreeCameraOptions(g);const Wt=Et!==st.zoom,er=Ot!==st.pitch,nr=Ft!==st.bearing;return this.fire(new s.Event("movestart",tt)).fire(new s.Event("move",tt)),Wt&&this.fire(new s.Event("zoomstart",tt)).fire(new s.Event("zoom",tt)).fire(new s.Event("zoomend",tt)),nr&&this.fire(new s.Event("rotatestart",tt)).fire(new s.Event("rotate",tt)).fire(new s.Event("rotateend",tt)),er&&this.fire(new s.Event("pitchstart",tt)).fire(new s.Event("pitch",tt)).fire(new s.Event("pitchend",tt)),this.fire(new s.Event("moveend",tt)),this}easeTo(g,tt){this._stop(!1,g.easeId),((g=s.extend({offset:[0,0],duration:500,easing:s.ease},g)).animate===!1||!g.essential&&s.exported.prefersReducedMotion)&&(g.duration=0);const st=this.transform,Et=this.getZoom(),Ot=this.getBearing(),Ft=this.getPitch(),Wt=this.getPadding(),er="zoom"in g?+g.zoom:Et,nr="bearing"in g?this._normalizeBearing(g.bearing,Ot):Ot,sr="pitch"in g?+g.pitch:Ft,fr="padding"in g?g.padding:st.padding,xr=s.pointGeometry.convert(g.offset);let Ar,Er,br;if(st.projection.name==="globe"){const vn=s.MercatorCoordinate.fromLngLat(st.center),yn=xr.rotate(-st.angle);vn.x+=yn.x/st.worldSize,vn.y+=yn.y/st.worldSize;const jn=vn.toLngLat(),sn=s.LngLat.convert(g.center||jn);this._normalizeCenter(sn),Ar=st.centerPoint.add(yn),Er=new s.pointGeometry(vn.x,vn.y).mult(st.worldSize),br=new s.pointGeometry(s.mercatorXfromLng(sn.lng),s.mercatorYfromLat(sn.lat)).mult(st.worldSize).sub(Er)}else{Ar=st.centerPoint.add(xr);const vn=st.pointLocation(Ar),yn=s.LngLat.convert(g.center||vn);this._normalizeCenter(yn),Er=st.project(vn),br=st.project(yn).sub(Er)}const Nr=st.zoomScale(er-Et);let Or,kr;g.around&&(Or=s.LngLat.convert(g.around),kr=st.locationPoint(Or));const Dr=this._zooming||er!==Et,Ur=this._rotating||Ot!==nr,jr=this._pitching||sr!==Ft,Wr=!st.isPaddingEqual(fr),on=vn=>yn=>{if(Dr&&(vn.zoom=s.number(Et,er,yn)),Ur&&(vn.bearing=s.number(Ot,nr,yn)),jr&&(vn.pitch=s.number(Ft,sr,yn)),Wr&&(vn.interpolatePadding(Wt,fr,yn),Ar=vn.centerPoint.add(xr)),Or)vn.setLocationAtPoint(Or,kr);else{const jn=vn.zoomScale(vn.zoom-Et),sn=er>Et?Math.min(2,Nr):Math.max(.5,Nr),kn=Math.pow(sn,1-yn),On=vn.unproject(Er.add(br.mult(yn*kn)).mult(jn));vn.setLocationAtPoint(vn.renderWorldCopies?On.wrap():On,Ar)}return g.preloadOnly||this._fireMoveEvents(tt),vn};if(g.preloadOnly){const vn=this._emulate(on,g.duration,st);return this._preloadTiles(vn),this}const pn={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=Dr,this._rotating=Ur,this._pitching=jr,this._padding=Wr,this._easeId=g.easeId,this._prepareEase(tt,g.noMoveStart,pn),this._ease(on(st),vn=>{st.recenterOnTerrain(),this._afterEase(tt,vn)},g),this}_prepareEase(g,tt,st={}){this._moving=!0,this.transform.cameraElevationReference="sea",tt||st.moving||this.fire(new s.Event("movestart",g)),this._zooming&&!st.zooming&&this.fire(new s.Event("zoomstart",g)),this._rotating&&!st.rotating&&this.fire(new s.Event("rotatestart",g)),this._pitching&&!st.pitching&&this.fire(new s.Event("pitchstart",g))}_fireMoveEvents(g){this.fire(new s.Event("move",g)),this._zooming&&this.fire(new s.Event("zoom",g)),this._rotating&&this.fire(new s.Event("rotate",g)),this._pitching&&this.fire(new s.Event("pitch",g))}_afterEase(g,tt){if(this._easeId&&tt&&this._easeId===tt)return;this._easeId=void 0,this.transform.cameraElevationReference="ground";const st=this._zooming,Et=this._rotating,Ot=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,st&&this.fire(new s.Event("zoomend",g)),Et&&this.fire(new s.Event("rotateend",g)),Ot&&this.fire(new s.Event("pitchend",g)),this.fire(new s.Event("moveend",g))}flyTo(g,tt){if(!g.essential&&s.exported.prefersReducedMotion){const $n=s.pick(g,["center","zoom","bearing","pitch","around"]);return this.jumpTo($n,tt)}this.stop(),g=s.extend({offset:[0,0],speed:1.2,curve:1.42,easing:s.ease},g);const st=this.transform,Et=this.getZoom(),Ot=this.getBearing(),Ft=this.getPitch(),Wt=this.getPadding(),er="zoom"in g?s.clamp(+g.zoom,st.minZoom,st.maxZoom):Et,nr="bearing"in g?this._normalizeBearing(g.bearing,Ot):Ot,sr="pitch"in g?+g.pitch:Ft,fr="padding"in g?g.padding:st.padding,xr=st.zoomScale(er-Et),Ar=s.pointGeometry.convert(g.offset);let Er=st.centerPoint.add(Ar);const br=st.pointLocation(Er),Nr=s.LngLat.convert(g.center||br);this._normalizeCenter(Nr);const Or=st.project(br),kr=st.project(Nr).sub(Or);let Dr=g.curve;const Ur=Math.max(st.width,st.height),jr=Ur/xr,Wr=kr.mag();if("minZoom"in g){const $n=s.clamp(Math.min(g.minZoom,Et,er),st.minZoom,st.maxZoom),qn=Ur/st.zoomScale($n-Et);Dr=Math.sqrt(qn/Wr*2)}const on=Dr*Dr;function pn($n){const qn=(jr*jr-Ur*Ur+($n?-1:1)*on*on*Wr*Wr)/(2*($n?jr:Ur)*on*Wr);return Math.log(Math.sqrt(qn*qn+1)-qn)}function vn($n){return(Math.exp($n)-Math.exp(-$n))/2}function yn($n){return(Math.exp($n)+Math.exp(-$n))/2}const jn=pn(0);let sn=function($n){return yn(jn)/yn(jn+Dr*$n)},kn=function($n){return Ur*((yn(jn)*(vn(qn=jn+Dr*$n)/yn(qn))-vn(jn))/on)/Wr;var qn},On=(pn(1)-jn)/Dr;if(Math.abs(Wr)<1e-6||!isFinite(On)){if(Math.abs(Ur-jr)<1e-6)return this.easeTo(g,tt);const $n=jr<Ur?-1:1;On=Math.abs(Math.log(jr/Ur))/Dr,kn=function(){return 0},sn=function(qn){return Math.exp($n*Dr*qn)}}g.duration="duration"in g?+g.duration:1e3*On/("screenSpeed"in g?+g.screenSpeed/Dr:+g.speed),g.maxDuration&&g.duration>g.maxDuration&&(g.duration=0);const Yn=Ot!==nr,bn=sr!==Ft,Gn=!st.isPaddingEqual(fr),eo=$n=>qn=>{const no=qn*On,po=1/sn(no);$n.zoom=qn===1?er:Et+$n.scaleZoom(po),Yn&&($n.bearing=s.number(Ot,nr,qn)),bn&&($n.pitch=s.number(Ft,sr,qn)),Gn&&($n.interpolatePadding(Wt,fr,qn),Er=$n.centerPoint.add(Ar));const _i=qn===1?Nr:$n.unproject(Or.add(kr.mult(kn(no))).mult(po));return $n.setLocationAtPoint($n.renderWorldCopies?_i.wrap():_i,Er),$n._updateCameraOnTerrain(),g.preloadOnly||this._fireMoveEvents(tt),$n};if(g.preloadOnly){const $n=this._emulate(eo,g.duration,st);return this._preloadTiles($n),this}return this._zooming=!0,this._rotating=Yn,this._pitching=bn,this._padding=Gn,this._prepareEase(tt,!1),this._ease(eo(st),()=>this._afterEase(tt),g),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(g,tt){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),this._easeFrameId=void 0,this._onEaseFrame=void 0),this._onEaseEnd){const st=this._onEaseEnd;this._onEaseEnd=void 0,st.call(this,tt)}if(!g){const st=this.handlers;st&&st.stop(!1)}return this}_ease(g,tt,st){st.animate===!1||st.duration===0?(g(1),tt()):(this._easeStart=s.exported.now(),this._easeOptions=st,this._onEaseFrame=g,this._onEaseEnd=tt,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_renderFrameCallback(){const g=Math.min((s.exported.now()-this._easeStart)/this._easeOptions.duration,1),tt=this._onEaseFrame;tt&&tt(this._easeOptions.easing(g)),g<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()}_normalizeBearing(g,tt){g=s.wrap(g,-180,180);const st=Math.abs(g-tt);return Math.abs(g-360-tt)<st&&(g-=360),Math.abs(g+360-tt)<st&&(g+=360),g}_normalizeCenter(g){const tt=this.transform;if(!tt.renderWorldCopies||tt.maxBounds)return;const st=g.lng-tt.center.lng;g.lng+=st>180?-360:st<-180?360:0}_emulate(g,tt,st){const Et=Math.ceil(15*tt/1e3),Ot=[],Ft=g(st.clone());for(let Wt=0;Wt<=Et;Wt++){const er=Ft(Wt/Et);Ot.push(er.clone())}return Ot}}class em{constructor(g={}){this.options=g,s.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)}getDefaultPosition(){return"bottom-right"}onAdd(g){const tt=this.options&&this.options.compact;return this._map=g,this._container=lt("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=lt("button","mapboxgl-ctrl-attrib-button",this._container),lt("span","mapboxgl-ctrl-icon",this._compactButton).setAttribute("aria-hidden","true"),this._compactButton.type="button",this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=lt("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),tt&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),tt===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container}onRemove(){this._container.remove(),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0}_setElementTitle(g,tt){const st=this._map._getUIString(`AttributionControl.${tt}`);g.setAttribute("aria-label",st),g.removeAttribute("title"),g.firstElementChild&&g.firstElementChild.setAttribute("title",st)}_toggleAttribution(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-expanded","true"))}_updateEditLink(){let g=this._editLink;g||(g=this._editLink=this._container.querySelector(".mapbox-improve-map"));const tt=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||s.config.ACCESS_TOKEN}];if(g){const st=tt.reduce((Et,Ot,Ft)=>(Ot.value&&(Et+=`${Ot.key}=${Ot.value}${Ft<tt.length-1?"&":""}`),Et),"?");g.href=`${s.config.FEEDBACK_URL}/${st}${this._map._hash?this._map._hash.getHashString(!0):""}`,g.rel="noopener nofollow",this._setElementTitle(g,"MapFeedback")}}_updateData(g){!g||g.sourceDataType!=="metadata"&&g.sourceDataType!=="visibility"&&g.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())}_updateAttributions(){if(!this._map.style)return;let g=[];if(this._map.style.stylesheet){const Et=this._map.style.stylesheet;this.styleOwner=Et.owner,this.styleId=Et.id}const tt=this._map.style._sourceCaches;for(const Et in tt){const Ot=tt[Et];if(Ot.used){const Ft=Ot.getSource();Ft.attribution&&g.indexOf(Ft.attribution)<0&&g.push(Ft.attribution)}}g.sort((Et,Ot)=>Et.length-Ot.length),g=g.filter((Et,Ot)=>{for(let Ft=Ot+1;Ft<g.length;Ft++)if(g[Ft].indexOf(Et)>=0)return!1;return!0}),this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?g=[...this.options.customAttribution,...g]:g.unshift(this.options.customAttribution));const st=g.join(" | ");st!==this._attribHTML&&(this._attribHTML=st,g.length?(this._innerContainer.innerHTML=st,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}_updateCompact(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")}}class _y{constructor(){s.bindAll(["_updateLogo","_updateCompact"],this)}onAdd(g){this._map=g,this._container=lt("div","mapboxgl-ctrl");const tt=lt("a","mapboxgl-ctrl-logo");return tt.target="_blank",tt.rel="noopener nofollow",tt.href="https://www.mapbox.com/",tt.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),tt.setAttribute("rel","noopener nofollow"),this._container.appendChild(tt),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){this._container.remove(),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)}getDefaultPosition(){return"bottom-left"}_updateLogo(g){g&&g.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")}_logoRequired(){if(!this._map.style)return!0;const g=this._map.style._sourceCaches;if(Object.entries(g).length===0)return!0;for(const tt in g){const st=g[tt].getSource();if(st.hasOwnProperty("mapbox_logo")&&!st.mapbox_logo)return!1}return!0}_updateCompact(){const g=this._container.children;if(g.length){const tt=g[0];this._map.getCanvasContainer().offsetWidth<250?tt.classList.add("mapboxgl-compact"):tt.classList.remove("mapboxgl-compact")}}}class vy{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(g){const tt=++this._id;return this._queue.push({callback:g,id:tt,cancelled:!1}),tt}remove(g){const tt=this._currentlyRunning,st=tt?this._queue.concat(tt):this._queue;for(const Et of st)if(Et.id===g)return void(Et.cancelled=!0)}run(g=0){const tt=this._currentlyRunning=this._queue;this._queue=[];for(const st of tt)if(!st.cancelled&&(st.callback(g),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}function tm(nt,g,tt){if(nt=new s.LngLat(nt.lng,nt.lat),g){const st=new s.LngLat(nt.lng-360,nt.lat),Et=new s.LngLat(nt.lng+360,nt.lat),Ot=360*Math.ceil(Math.abs(nt.lng-tt.center.lng)/360),Ft=tt.locationPoint(nt).distSqr(g),Wt=g.x<0||g.y<0||g.x>tt.width||g.y>tt.height;tt.locationPoint(st).distSqr(g)<Ft&&(Wt||Math.abs(st.lng-tt.center.lng)<Ot)?nt=st:tt.locationPoint(Et).distSqr(g)<Ft&&(Wt||Math.abs(Et.lng-tt.center.lng)<Ot)&&(nt=Et)}for(;Math.abs(nt.lng-tt.center.lng)>180;){const st=tt.locationPoint(nt);if(st.x>=0&&st.y>=0&&st.x<=tt.width&&st.y<=tt.height)break;nt.lng>tt.center.lng?nt.lng-=360:nt.lng+=360}return nt}const rm={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};class nm extends s.Evented{constructor(g,tt){if(super(),(g instanceof s.window.HTMLElement||tt)&&(g=s.extend({element:g},tt)),s.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress","_clearFadeTimer"],this),this._anchor=g&&g.anchor||"center",this._color=g&&g.color||"#3FB1CE",this._scale=g&&g.scale||1,this._draggable=g&&g.draggable||!1,this._clickTolerance=g&&g.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=g&&g.rotation||0,this._rotationAlignment=g&&g.rotationAlignment||"auto",this._pitchAlignment=g&&g.pitchAlignment&&g.pitchAlignment!=="auto"?g.pitchAlignment:this._rotationAlignment,this._updateMoving=()=>this._update(!0),g&&g.element)this._element=g.element,this._offset=s.pointGeometry.convert(g&&g.offset||[0,0]);else{this._defaultMarker=!0,this._element=lt("div");const Et=41,Ot=27,Ft=ft("svg",{display:"block",height:Et*this._scale+"px",width:Ot*this._scale+"px",viewBox:`0 0 ${Ot} ${Et}`},this._element),Wt=ft("radialGradient",{id:"shadowGradient"},ft("defs",{},Ft));ft("stop",{offset:"10%","stop-opacity":.4},Wt),ft("stop",{offset:"100%","stop-opacity":.05},Wt),ft("ellipse",{cx:13.5,cy:34.8,rx:10.5,ry:5.25,fill:"url(#shadowGradient)"},Ft),ft("path",{fill:this._color,d:"M27,13.5C27,19.07 20.25,27 14.75,34.5C14.02,35.5 12.98,35.5 12.25,34.5C6.75,27 0,19.22 0,13.5C0,6.04 6.04,0 13.5,0C20.96,0 27,6.04 27,13.5Z"},Ft),ft("path",{opacity:.25,d:"M13.5,0C6.04,0 0,6.04 0,13.5C0,19.22 6.75,27 12.25,34.5C13,35.52 14.02,35.5 14.75,34.5C20.25,27 27,19.07 27,13.5C27,6.04 20.96,0 13.5,0ZM13.5,1C20.42,1 26,6.58 26,13.5C26,15.9 24.5,19.18 22.22,22.74C19.95,26.3 16.71,30.14 13.94,33.91C13.74,34.18 13.61,34.32 13.5,34.44C13.39,34.32 13.26,34.18 13.06,33.91C10.28,30.13 7.41,26.31 5.02,22.77C2.62,19.23 1,15.95 1,13.5C1,6.58 6.58,1 13.5,1Z"},Ft),ft("circle",{fill:"white",cx:13.5,cy:13.5,r:5.5},Ft),this._offset=s.pointGeometry.convert(g&&g.offset||[0,-14])}this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label","Map marker"),this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",Et=>{Et.preventDefault()}),this._element.addEventListener("mousedown",Et=>{Et.preventDefault()});const st=this._element.classList;for(const Et in rm)st.remove(`mapboxgl-marker-anchor-${Et}`);st.add(`mapboxgl-marker-anchor-${this._anchor}`),this._popup=null}addTo(g){return g===this._map||(this.remove(),this._map=g,g.getCanvasContainer().appendChild(this._element),g.on("move",this._updateMoving),g.on("moveend",this._update),g.on("remove",this._clearFadeTimer),g._addMarker(this),this.setDraggable(this._draggable),this._update(),g.on("click",this._onMapClick)),this}remove(){const g=this._map;return g&&(g.off("click",this._onMapClick),g.off("move",this._updateMoving),g.off("moveend",this._update),g.off("mousedown",this._addDragHandler),g.off("touchstart",this._addDragHandler),g.off("mouseup",this._onUp),g.off("touchend",this._onUp),g.off("mousemove",this._onMove),g.off("touchmove",this._onMove),g.off("remove",this._clearFadeTimer),g._removeMarker(this),this._map=void 0),this._clearFadeTimer(),this._element.remove(),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(g){return this._lngLat=s.LngLat.convert(g),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(!0),this}getElement(){return this._element}setPopup(g){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeAttribute("role"),this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),g){if(!("offset"in g.options)){const Et=Math.sqrt(Math.pow(13.5,2)/2);g.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[Et,-1*(38.1-13.5+Et)],"bottom-right":[-Et,-1*(38.1-13.5+Et)],left:[13.5,-1*(38.1-13.5)],right:[-13.5,-1*(38.1-13.5)]}:this._offset}this._popup=g,this._lngLat&&this._popup.setLngLat(this._lngLat),this._element.setAttribute("role","button"),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress),this._element.setAttribute("aria-expanded","false")}return this}_onKeyPress(g){const tt=g.code,st=g.charCode||g.keyCode;tt!=="Space"&&tt!=="Enter"&&st!==32&&st!==13||this.togglePopup()}_onMapClick(g){const tt=g.originalEvent.target,st=this._element;this._popup&&(tt===st||st.contains(tt))&&this.togglePopup()}getPopup(){return this._popup}togglePopup(){const g=this._popup;return g?(g.isOpen()?(g.remove(),this._element.setAttribute("aria-expanded","false")):this._map&&(g.addTo(this._map),this._element.setAttribute("aria-expanded","true")),this):this}_evaluateOpacity(){const g=this._map;if(!g)return;const tt=this._pos;if(!tt||tt.x<0||tt.x>g.transform.width||tt.y<0||tt.y>g.transform.height)return void this._clearFadeTimer();const st=g.unproject(tt);let Et=!1;if(g.transform._terrainEnabled()&&g.getTerrain()){const Ft=g.getFreeCameraOptions();if(Ft.position){const Wt=Ft.position.toLngLat();Et=Wt.distanceTo(st)<.9*Wt.distanceTo(this._lngLat)}}const Ot=(1-g._queryFogOpacity(st))*(Et?.2:1);this._element.style.opacity=`${Ot}`,this._popup&&this._popup._setOpacity(`${Ot}`),this._fadeTimer=null}_clearFadeTimer(){this._fadeTimer&&(clearTimeout(this._fadeTimer),this._fadeTimer=null)}_updateDOM(){const g=this._pos;if(!g)return;const tt=this._offset.mult(this._scale),st=this._calculatePitch(),Et=this._calculateRotation();this._element.style.transform=`
            translate(${g.x}px, ${g.y}px) ${rm[this._anchor]}
            rotateX(${st}deg) rotateZ(${Et}deg)
            translate(${tt.x}px, ${tt.y}px)
        `}_calculatePitch(){return this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?0:this._map&&this._pitchAlignment==="map"?this._map.getPitch():0}_calculateRotation(){return this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?this._rotation:this._map&&this._rotationAlignment==="map"?this._rotation-this._map.getBearing():0}_update(g){s.window.cancelAnimationFrame(this._updateFrameId);const tt=this._map;tt&&(tt.transform.renderWorldCopies&&(this._lngLat=tm(this._lngLat,this._pos,tt.transform)),this._pos=tt.project(this._lngLat),g===!0?this._updateFrameId=s.window.requestAnimationFrame(()=>{this._element&&this._pos&&this._anchor&&(this._pos=this._pos.round(),this._updateDOM())}):this._pos=this._pos.round(),tt._requestDomTask(()=>{this._map&&(this._element&&this._pos&&this._anchor&&this._updateDOM(),!tt.getTerrain()&&!tt.getFog()||this._fadeTimer||(this._fadeTimer=setTimeout(this._evaluateOpacity.bind(this),60)))}))}getOffset(){return this._offset}setOffset(g){return this._offset=s.pointGeometry.convert(g),this._update(),this}_onMove(g){const tt=this._map;if(tt){if(!this._isDragging){const st=this._clickTolerance||tt._clickTolerance;this._isDragging=g.point.dist(this._pointerdownPos)>=st}this._isDragging&&(this._pos=g.point.sub(this._positionDelta),this._lngLat=tt.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new s.Event("dragstart"))),this.fire(new s.Event("drag")))}}_onUp(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1;const g=this._map;g&&(g.off("mousemove",this._onMove),g.off("touchmove",this._onMove)),this._state==="active"&&this.fire(new s.Event("dragend")),this._state="inactive"}_addDragHandler(g){const tt=this._map;tt&&this._element.contains(g.originalEvent.target)&&(g.preventDefault(),this._positionDelta=g.point.sub(this._pos),this._pointerdownPos=g.point,this._state="pending",tt.on("mousemove",this._onMove),tt.on("touchmove",this._onMove),tt.once("mouseup",this._onUp),tt.once("touchend",this._onUp))}setDraggable(g){this._draggable=!!g;const tt=this._map;return tt&&(g?(tt.on("mousedown",this._addDragHandler),tt.on("touchstart",this._addDragHandler)):(tt.off("mousedown",this._addDragHandler),tt.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(g){return this._rotation=g||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(g){return this._rotationAlignment=g||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(g){return this._pitchAlignment=g&&g!=="auto"?g:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}}class l_{constructor(g){this.jumpTo(g)}getValue(g){if(g<=this._startTime)return this._start;if(g>=this._endTime)return this._end;const tt=s.easeCubicInOut((g-this._startTime)/(this._endTime-this._startTime));return this._start*(1-tt)+this._end*tt}isEasing(g){return g>=this._startTime&&g<=this._endTime}jumpTo(g){this._startTime=-1/0,this._endTime=-1/0,this._start=g,this._end=g}easeTo(g,tt,st){this._start=this.getValue(tt),this._end=g,this._startTime=tt,this._endTime=tt+st}}const u_={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","ScrollZoomBlocker.CtrlMessage":"Use ctrl + scroll to zoom the map","ScrollZoomBlocker.CmdMessage":"Use \u2318 + scroll to zoom the map","TouchPanBlocker.Message":"Use two fingers to move the map"},Qm={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:85,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,optimizeForTerrain:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,minTileCacheSize:null,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",localFontFamily:null,transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0};function xp(nt){nt.parentNode&&nt.parentNode.removeChild(nt)}const e1={showCompass:!0,showZoom:!0,visualizePitch:!1};class t1{constructor(g,tt,st=!1){this._clickTolerance=10,this.element=tt,this.mouseRotate=new zu({clickTolerance:g.dragRotate._mouseRotate._clickTolerance}),this.map=g,st&&(this.mousePitch=new Zm({clickTolerance:g.dragRotate._mousePitch._clickTolerance})),s.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),tt.addEventListener("mousedown",this.mousedown),tt.addEventListener("touchstart",this.touchstart,{passive:!1}),tt.addEventListener("touchmove",this.touchmove),tt.addEventListener("touchend",this.touchend),tt.addEventListener("touchcancel",this.reset)}down(g,tt){this.mouseRotate.mousedown(g,tt),this.mousePitch&&this.mousePitch.mousedown(g,tt),Rt()}move(g,tt){const st=this.map,Et=this.mouseRotate.mousemoveWindow(g,tt),Ot=Et&&Et.bearingDelta;if(Ot&&st.setBearing(st.getBearing()+Ot),this.mousePitch){const Ft=this.mousePitch.mousemoveWindow(g,tt),Wt=Ft&&Ft.pitchDelta;Wt&&st.setPitch(st.getPitch()+Wt)}}off(){const g=this.element;g.removeEventListener("mousedown",this.mousedown),g.removeEventListener("touchstart",this.touchstart,{passive:!1}),g.removeEventListener("touchmove",this.touchmove),g.removeEventListener("touchend",this.touchend),g.removeEventListener("touchcancel",this.reset),this.offTemp()}offTemp(){Mt(),s.window.removeEventListener("mousemove",this.mousemove),s.window.removeEventListener("mouseup",this.mouseup)}mousedown(g){this.down(s.extend({},g,{ctrlKey:!0,preventDefault:()=>g.preventDefault()}),ct(this.element,g)),s.window.addEventListener("mousemove",this.mousemove),s.window.addEventListener("mouseup",this.mouseup)}mousemove(g){this.move(g,ct(this.element,g))}mouseup(g){this.mouseRotate.mouseupWindow(g),this.mousePitch&&this.mousePitch.mouseupWindow(g),this.offTemp()}touchstart(g){g.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=Lt(this.element,g.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:()=>g.preventDefault()},this._startPos))}touchmove(g){g.targetTouches.length!==1?this.reset():(this._lastPos=Lt(this.element,g.targetTouches)[0],this.move({preventDefault:()=>g.preventDefault()},this._lastPos))}touchend(g){g.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()}reset(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()}}const Hs={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0,showUserHeading:!1};let ya,Sp=0,Tu=!1;const r1={maxWidth:100,unit:"metric"};function im(nt,g,tt){const st=tt&&tt.maxWidth||100,Et=nt._containerHeight/2,Ot=nt._containerWidth/2-st/2,Ft=nt.unproject([Ot,Et]),Wt=nt.unproject([Ot+st,Et]),er=Ft.distanceTo(Wt);if(tt&&tt.unit==="imperial"){const nr=3.2808*er;nr>5280?Wu(g,st,nr/5280,nt._getUIString("ScaleControl.Miles"),nt):Wu(g,st,nr,nt._getUIString("ScaleControl.Feet"),nt)}else tt&&tt.unit==="nautical"?Wu(g,st,er/1852,nt._getUIString("ScaleControl.NauticalMiles"),nt):er>=1e3?Wu(g,st,er/1e3,nt._getUIString("ScaleControl.Kilometers"),nt):Wu(g,st,er,nt._getUIString("ScaleControl.Meters"),nt)}function Wu(nt,g,tt,st,Et){const Ot=function(Wt){const er=Math.pow(10,`${Math.floor(Wt)}`.length-1);let nr=Wt/er;return nr=nr>=10?10:nr>=5?5:nr>=3?3:nr>=2?2:nr>=1?1:function(sr){const fr=Math.pow(10,Math.ceil(-Math.log(sr)/Math.LN10));return Math.round(sr*fr)/fr}(nr),er*nr}(tt),Ft=Ot/tt;Et._requestDomTask(()=>{nt.style.width=g*Ft+"px",nt.innerHTML=`${Ot}&nbsp;${st}`})}const El={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},Go=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ep(nt=new s.pointGeometry(0,0),g="bottom"){if(typeof nt=="number"){const tt=Math.round(Math.sqrt(.5*Math.pow(nt,2)));switch(g){case"top":return new s.pointGeometry(0,nt);case"top-left":return new s.pointGeometry(tt,tt);case"top-right":return new s.pointGeometry(-tt,tt);case"bottom":return new s.pointGeometry(0,-nt);case"bottom-left":return new s.pointGeometry(tt,-tt);case"bottom-right":return new s.pointGeometry(-tt,-tt);case"left":return new s.pointGeometry(nt,0);case"right":return new s.pointGeometry(-nt,0)}return new s.pointGeometry(0,0)}return nt instanceof s.pointGeometry||Array.isArray(nt)?s.pointGeometry.convert(nt):s.pointGeometry.convert(nt[g]||[0,0])}const Hu={version:s.version,supported:$,setRTLTextPlugin:s.setRTLTextPlugin,getRTLTextPluginStatus:s.getRTLTextPluginStatus,Map:class extends Jm{constructor(nt){if((nt=s.extend({},Qm,nt)).minZoom!=null&&nt.maxZoom!=null&&nt.minZoom>nt.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(nt.minPitch!=null&&nt.maxPitch!=null&&nt.minPitch>nt.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(nt.minPitch!=null&&nt.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(nt.maxPitch!=null&&nt.maxPitch>85)throw new Error("maxPitch must be less than or equal to 85");if(nt.antialias&&s.isSafariWithAntialiasingBug(s.window)&&(nt.antialias=!1,s.warnOnce("Antialiasing is disabled for this WebGL context to avoid browser bug: https://github.com/mapbox/mapbox-gl-js/issues/11609")),super(new Yp(nt.minZoom,nt.maxZoom,nt.minPitch,nt.maxPitch,nt.renderWorldCopies),nt),this._interactive=nt.interactive,this._minTileCacheSize=nt.minTileCacheSize,this._maxTileCacheSize=nt.maxTileCacheSize,this._failIfMajorPerformanceCaveat=nt.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=nt.preserveDrawingBuffer,this._antialias=nt.antialias,this._trackResize=nt.trackResize,this._bearingSnap=nt.bearingSnap,this._refreshExpiredTiles=nt.refreshExpiredTiles,this._fadeDuration=nt.fadeDuration,this._isInitialLoad=!0,this._crossSourceCollisions=nt.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=nt.collectResourceTiming,this._optimizeForTerrain=nt.optimizeForTerrain,this._renderTaskQueue=new vy,this._domRenderTaskQueue=new vy,this._controls=[],this._markers=[],this._mapId=s.uniqueId(),this._locale=s.extend({},u_,nt.locale),this._clickTolerance=nt.clickTolerance,this._cooperativeGestures=nt.cooperativeGestures,this._containerWidth=0,this._containerHeight=0,this._averageElevationLastSampledAt=-1/0,this._averageElevationExaggeration=0,this._averageElevation=new l_(0),this._explicitProjection=null,this._requestManager=new s.RequestManager(nt.transformRequest,nt.accessToken,nt.testMode),this._silenceAuthErrors=!!nt.testMode,typeof nt.container=="string"){if(this._container=s.window.document.getElementById(nt.container),!this._container)throw new Error(`Container '${nt.container}' not found.`)}else{if(!(nt.container instanceof s.window.HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=nt.container}if(this._container.childNodes.length>0&&s.warnOnce("The map container element should be empty, otherwise the map's interactivity will be negatively impacted. If you want to display a message when WebGL is not supported, use the Mapbox GL Supported plugin instead."),nt.maxBounds&&this.setMaxBounds(nt.maxBounds),s.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),s.window!==void 0&&(s.window.addEventListener("online",this._onWindowOnline,!1),s.window.addEventListener("resize",this._onWindowResize,!1),s.window.addEventListener("orientationchange",this._onWindowResize,!1),s.window.addEventListener("webkitfullscreenchange",this._onWindowResize,!1)),this.handlers=new yy(this,nt),this._localFontFamily=nt.localFontFamily,this._localIdeographFontFamily=nt.localIdeographFontFamily,nt.style&&this.setStyle(nt.style,{localFontFamily:this._localFontFamily,localIdeographFontFamily:this._localIdeographFontFamily}),nt.projection&&this.setProjection(nt.projection),this._hash=nt.hash&&new K1(typeof nt.hash=="string"&&nt.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:nt.center,zoom:nt.zoom,bearing:nt.bearing,pitch:nt.pitch}),nt.bounds&&(this.resize(),this.fitBounds(nt.bounds,s.extend({},nt.fitBoundsOptions,{duration:0})))),this.resize(),nt.attributionControl&&this.addControl(new em({customAttribution:nt.customAttribution})),this._logoControl=new _y,this.addControl(this._logoControl,nt.logoPosition),this.on("style.load",()=>{this.transform.unmodified&&this.jumpTo(this.style.stylesheet)}),this.on("data",g=>{this._update(g.dataType==="style"),this.fire(new s.Event(`${g.dataType}data`,g))}),this.on("dataloading",g=>{this.fire(new s.Event(`${g.dataType}dataloading`,g))})}_getMapId(){return this._mapId}addControl(nt,g){if(g===void 0&&(g=nt.getDefaultPosition?nt.getDefaultPosition():"top-right"),!nt||!nt.onAdd)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const tt=nt.onAdd(this);this._controls.push(nt);const st=this._controlPositions[g];return g.indexOf("bottom")!==-1?st.insertBefore(tt,st.firstChild):st.appendChild(tt),this}removeControl(nt){if(!nt||!nt.onRemove)return this.fire(new s.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const g=this._controls.indexOf(nt);return g>-1&&this._controls.splice(g,1),nt.onRemove(this),this}hasControl(nt){return this._controls.indexOf(nt)>-1}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}resize(nt){if(this._updateContainerDimensions(),this._containerWidth===this.transform.width&&this._containerHeight===this.transform.height)return this;this._resizeCanvas(this._containerWidth,this._containerHeight),this.transform.resize(this._containerWidth,this._containerHeight),this.painter.resize(Math.ceil(this._containerWidth),Math.ceil(this._containerHeight));const g=!this._moving;return g&&this.fire(new s.Event("movestart",nt)).fire(new s.Event("move",nt)),this.fire(new s.Event("resize",nt)),g&&this.fire(new s.Event("moveend",nt)),this}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()||null}setMaxBounds(nt){return this.transform.setMaxBounds(s.LngLatBounds.convert(nt)),this._update()}setMinZoom(nt){if((nt=nt==null?-2:nt)>=-2&&nt<=this.transform.maxZoom)return this.transform.minZoom=nt,this._update(),this.getZoom()<nt?this.setZoom(nt):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(nt){if((nt=nt==null?22:nt)>=this.transform.minZoom)return this.transform.maxZoom=nt,this._update(),this.getZoom()>nt?this.setZoom(nt):this.fire(new s.Event("zoomstart")).fire(new s.Event("zoom")).fire(new s.Event("zoomend")),this;throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(nt){if((nt=nt==null?0:nt)<0)throw new Error("minPitch must be greater than or equal to 0");if(nt>=0&&nt<=this.transform.maxPitch)return this.transform.minPitch=nt,this._update(),this.getPitch()<nt?this.setPitch(nt):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(nt){if((nt=nt==null?85:nt)>85)throw new Error("maxPitch must be less than or equal to 85");if(nt>=this.transform.minPitch)return this.transform.maxPitch=nt,this._update(),this.getPitch()>nt?this.setPitch(nt):this.fire(new s.Event("pitchstart")).fire(new s.Event("pitch")).fire(new s.Event("pitchend")),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(nt){return this.transform.renderWorldCopies=nt,this._update()}getProjection(){return this._explicitProjection?this._explicitProjection:this.style&&this.style.stylesheet&&this.style.stylesheet.projection?this.style.stylesheet.projection:{name:"mercator",center:[0,0]}}setProjection(nt){return this._lazyInitEmptyStyle(),nt?typeof nt=="string"&&(nt={name:nt}):nt=null,this._updateProjection(nt)}_updateProjection(nt){nt===null&&(this._explicitProjection=null);const g=nt||this.getProjection(),tt=this.transform.setProjection(g);if(nt&&(this._explicitProjection=this.transform.getProjection()),tt){this.painter.clearBackgroundTiles();for(const st in this.style._sourceCaches)this.style._sourceCaches[st].clearTiles();this.style.applyProjectionUpdate(),this._update(!0)}return this}project(nt){return this.transform.locationPoint3D(s.LngLat.convert(nt))}unproject(nt){return this.transform.pointLocation3D(s.pointGeometry.convert(nt))}isMoving(){return this._moving||this.handlers&&this.handlers.isMoving()||!1}isZooming(){return this._zooming||this.handlers&&this.handlers.isZooming()||!1}isRotating(){return this._rotating||this.handlers&&this.handlers.isRotating()||!1}_createDelegatedListener(nt,g,tt){if(nt==="mouseenter"||nt==="mouseover"){let st=!1;const Et=Ft=>{const Wt=g.filter(nr=>this.getLayer(nr)),er=Wt.length?this.queryRenderedFeatures(Ft.point,{layers:Wt}):[];er.length?st||(st=!0,tt.call(this,new ga(nt,this,Ft.originalEvent,{features:er}))):st=!1},Ot=()=>{st=!1};return{layers:new Set(g),listener:tt,delegates:{mousemove:Et,mouseout:Ot}}}if(nt==="mouseleave"||nt==="mouseout"){let st=!1;const Et=Ft=>{const Wt=g.filter(er=>this.getLayer(er));(Wt.length?this.queryRenderedFeatures(Ft.point,{layers:Wt}):[]).length?st=!0:st&&(st=!1,tt.call(this,new ga(nt,this,Ft.originalEvent)))},Ot=Ft=>{st&&(st=!1,tt.call(this,new ga(nt,this,Ft.originalEvent)))};return{layers:new Set(g),listener:tt,delegates:{mousemove:Et,mouseout:Ot}}}{const st=Et=>{const Ot=g.filter(Wt=>this.getLayer(Wt)),Ft=Ot.length?this.queryRenderedFeatures(Et.point,{layers:Ot}):[];Ft.length&&(Et.features=Ft,tt.call(this,Et),delete Et.features)};return{layers:new Set(g),listener:tt,delegates:{[nt]:st}}}}on(nt,g,tt){if(tt===void 0)return super.on(nt,g);Array.isArray(g)||(g=[g]);const st=this._createDelegatedListener(nt,g,tt);this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[nt]=this._delegatedListeners[nt]||[],this._delegatedListeners[nt].push(st);for(const Et in st.delegates)this.on(Et,st.delegates[Et]);return this}once(nt,g,tt){if(tt===void 0)return super.once(nt,g);Array.isArray(g)||(g=[g]);const st=this._createDelegatedListener(nt,g,tt);for(const Et in st.delegates)this.once(Et,st.delegates[Et]);return this}off(nt,g,tt){if(tt===void 0)return super.off(nt,g);g=new Set(Array.isArray(g)?g:[g]);const st=(Ot,Ft)=>{if(Ot.size!==Ft.size)return!1;for(const Wt of Ot)if(!Ft.has(Wt))return!1;return!0},Et=this._delegatedListeners?this._delegatedListeners[nt]:void 0;return Et&&(Ot=>{for(let Ft=0;Ft<Ot.length;Ft++){const Wt=Ot[Ft];if(Wt.listener===tt&&st(Wt.layers,g)){for(const er in Wt.delegates)this.off(er,Wt.delegates[er]);return Ot.splice(Ft,1),this}}})(Et),this}queryRenderedFeatures(nt,g){return this.style?(g!==void 0||nt===void 0||nt instanceof s.pointGeometry||Array.isArray(nt)||(g=nt,nt=void 0),this.style.queryRenderedFeatures(nt=nt||[[0,0],[this.transform.width,this.transform.height]],g=g||{},this.transform)):[]}querySourceFeatures(nt,g){return this.style.querySourceFeatures(nt,g)}queryTerrainElevation(nt,g){const tt=this.transform.elevation;return tt?(g=s.extend({},{exaggerated:!0},g),tt.getAtPoint(s.MercatorCoordinate.fromLngLat(nt),null,g.exaggerated)):null}setStyle(nt,g){return(g=s.extend({},{localIdeographFontFamily:this._localIdeographFontFamily,localFontFamily:this._localFontFamily},g)).diff!==!1&&g.localIdeographFontFamily===this._localIdeographFontFamily&&g.localFontFamily===this._localFontFamily&&this.style&&nt?(this._diffStyle(nt,g),this):(this._localIdeographFontFamily=g.localIdeographFontFamily,this._localFontFamily=g.localFontFamily,this._updateStyle(nt,g))}_getUIString(nt){const g=this._locale[nt];if(g==null)throw new Error(`Missing UI string '${nt}'`);return g}_updateStyle(nt,g){return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.style=void 0),nt&&(this.style=new Ws(this,g||{}),this.style.setEventedParent(this,{style:this.style}),typeof nt=="string"?this.style.loadURL(nt):this.style.loadJSON(nt)),this._updateTerrain(),this}_lazyInitEmptyStyle(){this.style||(this.style=new Ws(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(nt,g){if(typeof nt=="string"){const tt=this._requestManager.normalizeStyleURL(nt),st=this._requestManager.transformRequest(tt,s.ResourceType.Style);s.getJSON(st,(Et,Ot)=>{Et?this.fire(new s.ErrorEvent(Et)):Ot&&this._updateDiff(Ot,g)})}else typeof nt=="object"&&this._updateDiff(nt,g)}_updateDiff(nt,g){try{this.style.setState(nt)&&this._update(!0)}catch(tt){s.warnOnce(`Unable to perform style diff: ${tt.message||tt.error||tt}.  Rebuilding the style from scratch.`),this._updateStyle(nt,g)}}getStyle(){if(this.style)return this.style.serialize()}isStyleLoaded(){return this.style?this.style.loaded():(s.warnOnce("There is no style added to the map."),!1)}addSource(nt,g){return this._lazyInitEmptyStyle(),this.style.addSource(nt,g),this._update(!0)}isSourceLoaded(nt){return!!this.style&&this.style._isSourceCacheLoaded(nt)}areTilesLoaded(){const nt=this.style&&this.style._sourceCaches;for(const g in nt){const tt=nt[g]._tiles;for(const st in tt){const Et=tt[st];if(Et.state!=="loaded"&&Et.state!=="errored")return!1}}return!0}addSourceType(nt,g,tt){this._lazyInitEmptyStyle(),this.style.addSourceType(nt,g,tt)}removeSource(nt){return this.style.removeSource(nt),this._updateTerrain(),this._update(!0)}getSource(nt){return this.style.getSource(nt)}addImage(nt,g,{pixelRatio:tt=1,sdf:st=!1,stretchX:Et,stretchY:Ot,content:Ft}={}){if(this._lazyInitEmptyStyle(),g instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&g instanceof s.window.ImageBitmap){const{width:Wt,height:er,data:nr}=s.exported.getImageData(g);this.style.addImage(nt,{data:new s.RGBAImage({width:Wt,height:er},nr),pixelRatio:tt,stretchX:Et,stretchY:Ot,content:Ft,sdf:st,version:0})}else if(g.width===void 0||g.height===void 0)this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));else{const{width:Wt,height:er}=g,nr=g;this.style.addImage(nt,{data:new s.RGBAImage({width:Wt,height:er},new Uint8Array(nr.data)),pixelRatio:tt,stretchX:Et,stretchY:Ot,content:Ft,sdf:st,version:0,userImage:nr}),nr.onAdd&&nr.onAdd(this,nt)}}updateImage(nt,g){const tt=this.style.getImage(nt);if(!tt)return void this.fire(new s.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const st=g instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&g instanceof s.window.ImageBitmap?s.exported.getImageData(g):g,{width:Et,height:Ot}=st;Et!==void 0&&Ot!==void 0?Et===tt.data.width&&Ot===tt.data.height?(tt.data.replace(st.data,!(g instanceof s.window.HTMLImageElement||s.window.ImageBitmap&&g instanceof s.window.ImageBitmap)),this.style.updateImage(nt,tt)):this.fire(new s.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):this.fire(new s.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")))}hasImage(nt){return nt?!!this.style.getImage(nt):(this.fire(new s.ErrorEvent(new Error("Missing required image id"))),!1)}removeImage(nt){this.style.removeImage(nt)}loadImage(nt,g){s.getImage(this._requestManager.transformRequest(nt,s.ResourceType.Image),(tt,st)=>{g(tt,st instanceof s.window.HTMLImageElement?s.exported.getImageData(st):st)})}listImages(){return this.style.listImages()}addLayer(nt,g){return this._lazyInitEmptyStyle(),this.style.addLayer(nt,g),this._update(!0)}moveLayer(nt,g){return this.style.moveLayer(nt,g),this._update(!0)}removeLayer(nt){return this.style.removeLayer(nt),this._update(!0)}getLayer(nt){return this.style.getLayer(nt)}setLayerZoomRange(nt,g,tt){return this.style.setLayerZoomRange(nt,g,tt),this._update(!0)}setFilter(nt,g,tt={}){return this.style.setFilter(nt,g,tt),this._update(!0)}getFilter(nt){return this.style.getFilter(nt)}setPaintProperty(nt,g,tt,st={}){return this.style.setPaintProperty(nt,g,tt,st),this._update(!0)}getPaintProperty(nt,g){return this.style.getPaintProperty(nt,g)}setLayoutProperty(nt,g,tt,st={}){return this.style.setLayoutProperty(nt,g,tt,st),this._update(!0)}getLayoutProperty(nt,g){return this.style.getLayoutProperty(nt,g)}setLight(nt,g={}){return this._lazyInitEmptyStyle(),this.style.setLight(nt,g),this._update(!0)}getLight(){return this.style.getLight()}setTerrain(nt){return this._lazyInitEmptyStyle(),!nt&&this.transform.projection.requiresDraping?this.style.setTerrainForDraping():this.style.setTerrain(nt),this._averageElevationLastSampledAt=-1/0,this._update(!0)}getTerrain(){return this.style?this.style.getTerrain():null}setFog(nt){return this._lazyInitEmptyStyle(),this.style.setFog(nt),this._update(!0)}getFog(){return this.style?this.style.getFog():null}_queryFogOpacity(nt){return this.style&&this.style.fog?this.style.fog.getOpacityAtLatLng(s.LngLat.convert(nt),this.transform):0}setFeatureState(nt,g){return this.style.setFeatureState(nt,g),this._update()}removeFeatureState(nt,g){return this.style.removeFeatureState(nt,g),this._update()}getFeatureState(nt){return this.style.getFeatureState(nt)}_updateContainerDimensions(){if(!this._container)return;const nt=this._container.getBoundingClientRect().width||400,g=this._container.getBoundingClientRect().height||300;let tt,st,Et,Ot=this._container;for(;Ot&&(!st||!Et);){const Ft=s.window.getComputedStyle(Ot).transform;Ft&&Ft!=="none"&&(tt=Ft.match(/matrix.*\((.+)\)/)[1].split(", "),tt[0]&&tt[0]!=="0"&&tt[0]!=="1"&&(st=tt[0]),tt[3]&&tt[3]!=="0"&&tt[3]!=="1"&&(Et=tt[3])),Ot=Ot.parentElement}this._containerWidth=st?Math.abs(nt/st):nt,this._containerHeight=Et?Math.abs(g/Et):g}_detectMissingCSS(){s.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&s.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")}_setupContainer(){const nt=this._container;nt.classList.add("mapboxgl-map"),(this._missingCSSCanary=lt("div","mapboxgl-canary",nt)).style.visibility="hidden",this._detectMissingCSS();const g=this._canvasContainer=lt("div","mapboxgl-canvas-container",nt);this._interactive&&g.classList.add("mapboxgl-interactive"),this._canvas=lt("canvas","mapboxgl-canvas",g),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region"),this._updateContainerDimensions(),this._resizeCanvas(this._containerWidth,this._containerHeight);const tt=this._controlContainer=lt("div","mapboxgl-control-container",nt),st=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(Et=>{st[Et]=lt("div",`mapboxgl-ctrl-${Et}`,tt)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(nt,g){const tt=s.exported.devicePixelRatio||1;this._canvas.width=tt*Math.ceil(nt),this._canvas.height=tt*Math.ceil(g),this._canvas.style.width=`${nt}px`,this._canvas.style.height=`${g}px`}_addMarker(nt){this._markers.push(nt)}_removeMarker(nt){const g=this._markers.indexOf(nt);g!==-1&&this._markers.splice(g,1)}_setupPainter(){const nt=s.extend({},$.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),g=this._canvas.getContext("webgl",nt)||this._canvas.getContext("experimental-webgl",nt);g?(s.storeAuthState(g,!0),this.painter=new Y1(g,this.transform),this.on("data",tt=>{tt.dataType==="source"&&this.painter.setTileLoadedFlag(!0)}),s.exported$1.testSupport(g)):this.fire(new s.ErrorEvent(new Error("Failed to initialize WebGL")))}_contextLost(nt){nt.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new s.Event("webglcontextlost",{originalEvent:nt}))}_contextRestored(nt){this._setupPainter(),this.resize(),this._update(),this.fire(new s.Event("webglcontextrestored",{originalEvent:nt}))}_onMapScroll(nt){if(nt.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(nt){return this.style?(this._styleDirty=this._styleDirty||nt,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(nt){return this._update(),this._renderTaskQueue.add(nt)}_cancelRenderFrame(nt){this._renderTaskQueue.remove(nt)}_requestDomTask(nt){!this.loaded()||this.loaded()&&!this.isMoving()?nt():this._domRenderTaskQueue.add(nt)}_render(nt){let g;const tt=this.painter.context.extTimerQuery,st=s.exported.now();if(this.listens("gpu-timing-frame")&&(g=tt.createQueryEXT(),tt.beginQueryEXT(tt.TIME_ELAPSED_EXT,g)),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(nt),this._domRenderTaskQueue.run(nt),this._removed)return;let Et=!1;const Ot=this._isInitialLoad?0:this._fadeDuration;if(this.style&&this._styleDirty){this._styleDirty=!1;const er=this.transform.zoom,nr=this.transform.pitch,sr=s.exported.now();this.style.zoomHistory.update(er,sr);const fr=new s.EvaluationParameters(er,{now:sr,fadeDuration:Ot,pitch:nr,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),xr=fr.crossFadingFactor();xr===1&&xr===this._crossFadingFactor||(Et=!0,this._crossFadingFactor=xr),this.style.update(fr)}this.style&&this.style.fog&&this.style.fog.hasTransition()&&(this.style._markersNeedUpdate=!0,this._sourcesDirty=!0);let Ft=!1;if(this.style&&this._sourcesDirty?(this._sourcesDirty=!1,this.painter._updateFog(this.style),this._updateTerrain(),Ft=this._updateAverageElevation(st),this.style._updateSources(this.transform),this._forceMarkerUpdate()):Ft=this._updateAverageElevation(st),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,Ot,this._crossSourceCollisions),this.style&&this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showTerrainWireframe:this.showTerrainWireframe,showOverdrawInspector:this._showOverdrawInspector,showQueryGeometry:!!this._showQueryGeometry,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:Ot,isInitialLoad:this._isInitialLoad,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer"),speedIndexTiming:this.speedIndexTiming}),this.fire(new s.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new s.Event("load"))),this.style&&(this.style.hasTransitions()||Et)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){const er=s.exported.now()-st;tt.endQueryEXT(tt.TIME_ELAPSED_EXT,g),setTimeout(()=>{const nr=tt.getQueryObjectEXT(g,tt.QUERY_RESULT_EXT)/1e6;tt.deleteQueryEXT(g),this.fire(new s.Event("gpu-timing-frame",{cpuTime:er,gpuTime:nr}))},50)}if(this.listens("gpu-timing-layer")){const er=this.painter.collectGpuTimers();setTimeout(()=>{const nr=this.painter.queryGpuTimers(er);this.fire(new s.Event("gpu-timing-layer",{layerTimes:nr}))},50)}const Wt=this._sourcesDirty||this._styleDirty||this._placementDirty||Ft;if(Wt||this._repaint)this.triggerRepaint();else{const er=!this.isMoving()&&this.loaded();if(er&&(Ft=this._updateAverageElevation(st,!0)),Ft)this.triggerRepaint();else if(this._triggerFrame(!1),er&&(this.fire(new s.Event("idle")),this._isInitialLoad=!1,this.speedIndexTiming)){const nr=this._calculateSpeedIndex();this.fire(new s.Event("speedindexcompleted",{speedIndex:nr})),this.speedIndexTiming=!1}}!this._loaded||this._fullyLoaded||Wt||(this._fullyLoaded=!0,this._authenticate())}_forceMarkerUpdate(){for(const nt of this._markers)nt._update()}_updateAverageElevation(nt,g=!1){const tt=st=>(this.transform.averageElevation=st,this._update(!1),!0);if(!this.painter.averageElevationNeedsEasing())return this.transform.averageElevation!==0&&tt(0);if((g||nt-this._averageElevationLastSampledAt>500)&&!this._averageElevation.isEasing(nt)){const st=this.transform.averageElevation;let Et=this.transform.sampleAverageElevation(),Ot=!1;this.transform.elevation&&(Ot=this.transform.elevation.exaggeration()!==this._averageElevationExaggeration,this._averageElevationExaggeration=this.transform.elevation.exaggeration()),isNaN(Et)?Et=0:this._averageElevationLastSampledAt=nt;const Ft=Math.abs(st-Et);if(Ft>1){if(this._isInitialLoad||Ot)return this._averageElevation.jumpTo(Et),tt(Et);this._averageElevation.easeTo(Et,nt,300)}else if(Ft>1e-4)return this._averageElevation.jumpTo(Et),tt(Et)}return!!this._averageElevation.isEasing(nt)&&tt(this._averageElevation.getValue(nt))}_authenticate(){s.getMapSessionAPI(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,nt=>{if(nt&&(nt.message===s.AUTH_ERR_MSG||nt.status===401)){const g=this.painter.context.gl;s.storeAuthState(g,!1),this._logoControl instanceof _y&&this._logoControl._updateLogo(),g&&g.clear(g.DEPTH_BUFFER_BIT|g.COLOR_BUFFER_BIT|g.STENCIL_BUFFER_BIT),this._silenceAuthErrors||this.fire(new s.ErrorEvent(new Error("A valid Mapbox access token is required to use Mapbox GL JS. To create an account or a new access token, visit https://account.mapbox.com/")))}}),s.postMapLoadEvent(this._getMapId(),this._requestManager._skuToken,this._requestManager._customAccessToken,()=>{})}_updateTerrain(){this.painter.updateTerrain(this.style,this.isMoving()||this.isRotating()||this.isZooming())}_calculateSpeedIndex(){const nt=this.painter.canvasCopy(),g=this.painter.getCanvasCopiesAndTimestamps();g.timeStamps.push(performance.now());const tt=this.painter.context.gl,st=tt.createFramebuffer();function Et(Ot){tt.framebufferTexture2D(tt.FRAMEBUFFER,tt.COLOR_ATTACHMENT0,tt.TEXTURE_2D,Ot,0);const Ft=new Uint8Array(tt.drawingBufferWidth*tt.drawingBufferHeight*4);return tt.readPixels(0,0,tt.drawingBufferWidth,tt.drawingBufferHeight,tt.RGBA,tt.UNSIGNED_BYTE,Ft),Ft}return tt.bindFramebuffer(tt.FRAMEBUFFER,st),this._canvasPixelComparison(Et(nt),g.canvasCopies.map(Et),g.timeStamps)}_canvasPixelComparison(nt,g,tt){let st=tt[1]-tt[0];const Et=nt.length/4;for(let Ot=0;Ot<g.length;Ot++){const Ft=g[Ot];let Wt=0;for(let er=0;er<Ft.length;er+=4)Ft[er]===nt[er]&&Ft[er+1]===nt[er+1]&&Ft[er+2]===nt[er+2]&&Ft[er+3]===nt[er+3]&&(Wt+=1);st+=(tt[Ot+2]-tt[Ot+1])*(1-Wt/Et)}return st}remove(){this._hash&&this._hash.remove();for(const g of this._controls)g.onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this._domRenderTaskQueue.clear(),this.style&&this.style.destroy(),this.painter.destroy(),this.handlers&&this.handlers.destroy(),this.handlers=void 0,this.setStyle(null),s.window!==void 0&&(s.window.removeEventListener("resize",this._onWindowResize,!1),s.window.removeEventListener("orientationchange",this._onWindowResize,!1),s.window.removeEventListener("webkitfullscreenchange",this._onWindowResize,!1),s.window.removeEventListener("online",this._onWindowOnline,!1));const nt=this.painter.context.gl.getExtension("WEBGL_lose_context");nt&&nt.loseContext(),xp(this._canvasContainer),xp(this._controlContainer),xp(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),s.removeAuthState(this.painter.context.gl),this._removed=!0,this.fire(new s.Event("remove"))}triggerRepaint(){this._triggerFrame(!0)}_triggerFrame(nt){this._renderNextFrame=this._renderNextFrame||nt,this.style&&!this._frame&&(this._frame=s.exported.frame(g=>{const tt=!!this._renderNextFrame;this._frame=null,this._renderNextFrame=null,tt&&this._render(g)}))}_preloadTiles(nt){const g=this.style?Object.values(this.style._sourceCaches):[];return s.asyncAll(g,(tt,st)=>tt._preloadTiles(nt,st),()=>{this.triggerRepaint()}),this}_onWindowOnline(){this._update()}_onWindowResize(nt){this._trackResize&&this.resize({originalEvent:nt})._update()}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(nt){this._showTileBoundaries!==nt&&(this._showTileBoundaries=nt,this._update())}get showTerrainWireframe(){return!!this._showTerrainWireframe}set showTerrainWireframe(nt){this._showTerrainWireframe!==nt&&(this._showTerrainWireframe=nt,this._update())}get speedIndexTiming(){return!!this._speedIndexTiming}set speedIndexTiming(nt){this._speedIndexTiming!==nt&&(this._speedIndexTiming=nt,this._update())}get showPadding(){return!!this._showPadding}set showPadding(nt){this._showPadding!==nt&&(this._showPadding=nt,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(nt){this._showCollisionBoxes!==nt&&(this._showCollisionBoxes=nt,nt?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(nt){this._showOverdrawInspector!==nt&&(this._showOverdrawInspector=nt,this._update())}get repaint(){return!!this._repaint}set repaint(nt){this._repaint!==nt&&(this._repaint=nt,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(nt){this._vertices=nt,this._update()}_setCacheLimits(nt,g){s.setCacheLimits(nt,g)}get version(){return s.version}},NavigationControl:class{constructor(nt){this.options=s.extend({},e1,nt),this._container=lt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",g=>g.preventDefault()),this.options.showZoom&&(s.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",g=>{this._map&&this._map.zoomIn({},{originalEvent:g})}),lt("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",g=>{this._map&&this._map.zoomOut({},{originalEvent:g})}),lt("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(s.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",g=>{const tt=this._map;tt&&(this.options.visualizePitch?tt.resetNorthPitch({},{originalEvent:g}):tt.resetNorth({},{originalEvent:g}))}),this._compassIcon=lt("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}_updateZoomButtons(){const nt=this._map;if(!nt)return;const g=nt.getZoom(),tt=g===nt.getMaxZoom(),st=g===nt.getMinZoom();this._zoomInButton.disabled=tt,this._zoomOutButton.disabled=st,this._zoomInButton.setAttribute("aria-disabled",tt.toString()),this._zoomOutButton.setAttribute("aria-disabled",st.toString())}_rotateCompassArrow(){const nt=this._map;if(!nt)return;const g=this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(nt.transform.pitch*(Math.PI/180)),.5)}) rotateX(${nt.transform.pitch}deg) rotateZ(${nt.transform.angle*(180/Math.PI)}deg)`:`rotate(${nt.transform.angle*(180/Math.PI)}deg)`;nt._requestDomTask(()=>{this._compassIcon&&(this._compassIcon.style.transform=g)})}onAdd(nt){return this._map=nt,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),nt.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&nt.on("pitch",this._rotateCompassArrow),nt.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new t1(nt,this._compass,this.options.visualizePitch)),this._container}onRemove(){const nt=this._map;nt&&(this._container.remove(),this.options.showZoom&&nt.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&nt.off("pitch",this._rotateCompassArrow),nt.off("rotate",this._rotateCompassArrow),this._handler&&this._handler.off(),this._handler=void 0),this._map=void 0)}_createButton(nt,g){const tt=lt("button",nt,this._container);return tt.type="button",tt.addEventListener("click",g),tt}_setButtonTitle(nt,g){if(!this._map)return;const tt=this._map._getUIString(`NavigationControl.${g}`);nt.setAttribute("aria-label",tt),nt.firstElementChild&&nt.firstElementChild.setAttribute("title",tt)}},GeolocateControl:class extends s.Evented{constructor(nt){super(),this.options=s.extend({},Hs,nt),s.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker","_updateMarkerRotation","_onDeviceOrientation"],this),this._updateMarkerRotationThrottled=Gm(this._updateMarkerRotation,20)}onAdd(nt){var g;return this._map=nt,this._container=lt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),g=this._setupUI,ya!==void 0?g(ya):s.window.navigator.permissions!==void 0?s.window.navigator.permissions.query({name:"geolocation"}).then(tt=>{ya=tt.state!=="denied",g(ya)}):(ya=!!s.window.navigator.geolocation,g(ya)),this._container}onRemove(){this._geolocationWatchID!==void 0&&(s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),this._container.remove(),this._map.off("zoom",this._onZoom),this._map=void 0,Sp=0,Tu=!1}_isOutOfMapMaxBounds(nt){const g=this._map.getMaxBounds(),tt=nt.coords;return!!g&&(tt.longitude<g.getWest()||tt.longitude>g.getEast()||tt.latitude<g.getSouth()||tt.latitude>g.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}}_onSuccess(nt){if(this._map){if(this._isOutOfMapMaxBounds(nt))return this._setErrorState(),this.fire(new s.Event("outofmaxbounds",nt)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=nt,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(nt),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(nt),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("geolocate",nt)),this._finish()}}_updateCamera(nt){const g=new s.LngLat(nt.coords.longitude,nt.coords.latitude),tt=nt.coords.accuracy,st=this._map.getBearing(),Et=s.extend({bearing:st},this.options.fitBoundsOptions);this._map.fitBounds(g.toBounds(tt),Et,{geolocateSource:!0})}_updateMarker(nt){if(nt){const g=new s.LngLat(nt.coords.longitude,nt.coords.latitude);this._accuracyCircleMarker.setLngLat(g).addTo(this._map),this._userLocationDotMarker.setLngLat(g).addTo(this._map),this._accuracy=nt.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()}_updateCircleRadius(){const nt=this._map._containerHeight/2,g=this._map.unproject([0,nt]),tt=this._map.unproject([100,nt]),st=g.distanceTo(tt)/100,Et=Math.ceil(2*this._accuracy/st);this._circleElement.style.width=`${Et}px`,this._circleElement.style.height=`${Et}px`}_onZoom(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}_updateMarkerRotation(){this._userLocationDotMarker&&typeof this._heading=="number"?(this._userLocationDotMarker.setRotation(this._heading),this._dotElement.classList.add("mapboxgl-user-location-show-heading")):(this._dotElement.classList.remove("mapboxgl-user-location-show-heading"),this._userLocationDotMarker.setRotation(0))}_onError(nt){if(this._map){if(this.options.trackUserLocation)if(nt.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.setAttribute("aria-label",g),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",g),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(nt.code===3&&Tu)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new s.Event("error",nt)),this._finish()}}_finish(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0}_setupUI(nt){if(this._container.addEventListener("contextmenu",g=>g.preventDefault()),this._geolocateButton=lt("button","mapboxgl-ctrl-geolocate",this._container),lt("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",nt===!1){s.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");const g=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.setAttribute("aria-label",g),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",g)}else{const g=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.setAttribute("aria-label",g),this._geolocateButton.firstElementChild&&this._geolocateButton.firstElementChild.setAttribute("title",g)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=lt("div","mapboxgl-user-location"),this._dotElement.appendChild(lt("div","mapboxgl-user-location-dot")),this._dotElement.appendChild(lt("div","mapboxgl-user-location-heading")),this._userLocationDotMarker=new nm({element:this._dotElement,rotationAlignment:"map",pitchAlignment:"map"}),this._circleElement=lt("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new nm({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",g=>{g.geolocateSource||this._watchState!=="ACTIVE_LOCK"||g.originalEvent&&g.originalEvent.type==="resize"||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this.fire(new s.Event("trackuserlocationend")))})}_onDeviceOrientation(nt){this._userLocationDotMarker&&(nt.webkitCompassHeading?this._heading=nt.webkitCompassHeading:nt.absolute===!0&&(this._heading=-1*nt.alpha),this._updateMarkerRotationThrottled())}trigger(){if(!this._setup)return s.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new s.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":Sp--,Tu=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new s.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new s.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){let nt;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),Sp++,Sp>1?(nt={maximumAge:6e5,timeout:0},Tu=!0):(nt=this.options.positionOptions,Tu=!1),this._geolocationWatchID=s.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,nt),this.options.showUserHeading&&this._addDeviceOrientationListener()}}else s.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_addDeviceOrientationListener(){const nt=()=>{s.window.addEventListener("ondeviceorientationabsolute"in s.window?"deviceorientationabsolute":"deviceorientation",this._onDeviceOrientation)};s.window.DeviceMotionEvent!==void 0&&typeof s.window.DeviceMotionEvent.requestPermission=="function"?DeviceOrientationEvent.requestPermission().then(g=>{g==="granted"&&nt()}).catch(console.error):nt()}_clearWatch(){s.window.navigator.geolocation.clearWatch(this._geolocationWatchID),s.window.removeEventListener("deviceorientation",this._onDeviceOrientation),s.window.removeEventListener("deviceorientationabsolute",this._onDeviceOrientation),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},AttributionControl:em,ScaleControl:class{constructor(nt){this.options=s.extend({},r1,nt),s.bindAll(["_onMove","setUnit"],this)}getDefaultPosition(){return"bottom-left"}_onMove(){im(this._map,this._container,this.options)}onAdd(nt){return this._map=nt,this._container=lt("div","mapboxgl-ctrl mapboxgl-ctrl-scale",nt.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){this._container.remove(),this._map.off("move",this._onMove),this._map=void 0}setUnit(nt){this.options.unit=nt,im(this._map,this._container,this.options)}},FullscreenControl:class{constructor(nt){this._fullscreen=!1,nt&&nt.container&&(nt.container instanceof s.window.HTMLElement?this._container=nt.container:s.warnOnce("Full screen control 'container' must be a DOM element.")),s.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in s.window.document?this._fullscreenchange="fullscreenchange":"onwebkitfullscreenchange"in s.window.document&&(this._fullscreenchange="webkitfullscreenchange")}onAdd(nt){return this._map=nt,this._container||(this._container=this._map.getContainer()),this._controlContainer=lt("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",s.warnOnce("This device does not support fullscreen mode.")),this._controlContainer}onRemove(){this._controlContainer.remove(),this._map=null,s.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)}_checkFullscreenSupport(){return!(!s.window.document.fullscreenEnabled&&!s.window.document.webkitFullscreenEnabled)}_setupUI(){const nt=this._fullscreenButton=lt("button","mapboxgl-ctrl-fullscreen",this._controlContainer);lt("span","mapboxgl-ctrl-icon",nt).setAttribute("aria-hidden","true"),nt.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),s.window.document.addEventListener(this._fullscreenchange,this._changeIcon)}_updateTitle(){const nt=this._getTitle();this._fullscreenButton.setAttribute("aria-label",nt),this._fullscreenButton.firstElementChild&&this._fullscreenButton.firstElementChild.setAttribute("title",nt)}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_changeIcon(){(s.window.document.fullscreenElement||s.window.document.webkitFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())}_onClickFullscreen(){this._isFullscreen()?s.window.document.exitFullscreen?s.window.document.exitFullscreen():s.window.document.webkitCancelFullScreen&&s.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()}},Popup:class extends s.Evented{constructor(nt){super(),this.options=s.extend(Object.create(El),nt),s.bindAll(["_update","_onClose","remove","_onMouseEvent"],this),this._classList=new Set(nt&&nt.className?nt.className.trim().split(/\s+/):[])}addTo(nt){return this._map&&this.remove(),this._map=nt,this.options.closeOnClick&&nt.on("preclick",this._onClose),this.options.closeOnMove&&nt.on("move",this._onClose),nt.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(nt.on("mousemove",this._onMouseEvent),nt.on("mouseup",this._onMouseEvent),nt._canvasContainer.classList.add("mapboxgl-track-pointer")):nt.on("move",this._update),this.fire(new s.Event("open")),this}isOpen(){return!!this._map}remove(){this._content&&this._content.remove(),this._container&&(this._container.remove(),this._container=void 0);const nt=this._map;return nt&&(nt.off("move",this._update),nt.off("move",this._onClose),nt.off("preclick",this._onClose),nt.off("click",this._onClose),nt.off("remove",this.remove),nt.off("mousemove",this._onMouseEvent),nt.off("mouseup",this._onMouseEvent),nt.off("drag",this._onMouseEvent),this._map=void 0),this.fire(new s.Event("close")),this}getLngLat(){return this._lngLat}setLngLat(nt){this._lngLat=s.LngLat.convert(nt),this._pos=null,this._trackPointer=!1,this._update();const g=this._map;return g&&(g.on("move",this._update),g.off("mousemove",this._onMouseEvent),g._canvasContainer.classList.remove("mapboxgl-track-pointer")),this}trackPointer(){this._trackPointer=!0,this._pos=null,this._update();const nt=this._map;return nt&&(nt.off("move",this._update),nt.on("mousemove",this._onMouseEvent),nt.on("drag",this._onMouseEvent),nt._canvasContainer.classList.add("mapboxgl-track-pointer")),this}getElement(){return this._container}setText(nt){return this.setDOMContent(s.window.document.createTextNode(nt))}setHTML(nt){const g=s.window.document.createDocumentFragment(),tt=s.window.document.createElement("body");let st;for(tt.innerHTML=nt;st=tt.firstChild,st;)g.appendChild(st);return this.setDOMContent(g)}getMaxWidth(){return this._container&&this._container.style.maxWidth}setMaxWidth(nt){return this.options.maxWidth=nt,this._update(),this}setDOMContent(nt){let g=this._content;if(g)for(;g.hasChildNodes();)g.firstChild&&g.removeChild(g.firstChild);else g=this._content=lt("div","mapboxgl-popup-content",this._container||void 0);if(g.appendChild(nt),this.options.closeButton){const tt=this._closeButton=lt("button","mapboxgl-popup-close-button",g);tt.type="button",tt.setAttribute("aria-label","Close popup"),tt.setAttribute("aria-hidden","true"),tt.innerHTML="&#215;",tt.addEventListener("click",this._onClose)}return this._update(),this._focusFirstElement(),this}addClassName(nt){return this._classList.add(nt),this._updateClassList(),this}removeClassName(nt){return this._classList.delete(nt),this._updateClassList(),this}setOffset(nt){return this.options.offset=nt,this._update(),this}toggleClassName(nt){let g;return this._classList.delete(nt)?g=!1:(this._classList.add(nt),g=!0),this._updateClassList(),g}_onMouseEvent(nt){this._update(nt.point)}_getAnchor(nt){if(this.options.anchor)return this.options.anchor;const g=this._map,tt=this._container,st=this._pos;if(!g||!tt||!st)return"bottom";const Et=tt.offsetWidth,Ot=tt.offsetHeight,Ft=st.x<Et/2,Wt=st.x>g.transform.width-Et/2;if(st.y+nt<Ot)return Ft?"top-left":Wt?"top-right":"top";if(st.y>g.transform.height-Ot){if(Ft)return"bottom-left";if(Wt)return"bottom-right"}return Ft?"left":Wt?"right":"bottom"}_updateClassList(){const nt=this._container;if(!nt)return;const g=[...this._classList];g.push("mapboxgl-popup"),this._anchor&&g.push(`mapboxgl-popup-anchor-${this._anchor}`),this._trackPointer&&g.push("mapboxgl-popup-track-pointer"),nt.className=g.join(" ")}_update(nt){const g=this._map,tt=this._content;if(!g||!this._lngLat&&!this._trackPointer||!tt)return;let st=this._container;if(st||(st=this._container=lt("div","mapboxgl-popup",g.getContainer()),this._tip=lt("div","mapboxgl-popup-tip",st),st.appendChild(tt)),this.options.maxWidth&&st.style.maxWidth!==this.options.maxWidth&&(st.style.maxWidth=this.options.maxWidth),g.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=tm(this._lngLat,this._pos,g.transform)),!this._trackPointer||nt){const Et=this._pos=this._trackPointer&&nt?nt:g.project(this._lngLat),Ot=Ep(this.options.offset),Ft=this._anchor=this._getAnchor(Ot.y),Wt=Ep(this.options.offset,Ft),er=Et.add(Wt).round();g._requestDomTask(()=>{this._container&&Ft&&(this._container.style.transform=`${rm[Ft]} translate(${er.x}px,${er.y}px)`)})}this._updateClassList()}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const nt=this._container.querySelector(Go);nt&&nt.focus()}_onClose(){this.remove()}_setOpacity(nt){this._content&&(this._content.style.opacity=nt),this._tip&&(this._tip.style.opacity=nt)}},Marker:nm,Style:Ws,LngLat:s.LngLat,LngLatBounds:s.LngLatBounds,Point:s.pointGeometry,MercatorCoordinate:s.MercatorCoordinate,FreeCameraOptions:fp,Evented:s.Evented,config:s.config,prewarm:function(){ro().acquire(Jn)},clearPrewarmedResources:function(){const nt=Wn;nt&&(nt.isPreloaded()&&nt.numActive()===1?(nt.release(Jn),Wn=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return s.config.ACCESS_TOKEN},set accessToken(nt){s.config.ACCESS_TOKEN=nt},get baseApiUrl(){return s.config.API_URL},set baseApiUrl(nt){s.config.API_URL=nt},get workerCount(){return Xn.workerCount},set workerCount(nt){Xn.workerCount=nt},get maxParallelImageRequests(){return s.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(nt){s.config.MAX_PARALLEL_IMAGE_REQUESTS=nt},clearStorage(nt){s.clearTileCache(nt)},workerUrl:"",workerClass:null,setNow:s.exported.setNow,restoreNow:s.exported.restoreNow};return Hu});var Z=d;return Z})})(mapboxGl);var mapboxgl=mapboxGl.exports;const app="_app_rmh48_1",sidebar="_sidebar_rmh48_12",card="_card_rmh48_29";var styles={app,"map-container":"_map-container_rmh48_6",sidebar,"mapboxgl-control-container":"_mapboxgl-control-container_rmh48_25",card,"card-high":"_card-high_rmh48_48","card-low":"_card-low_rmh48_58","card-medium":"_card-medium_rmh48_68","card-name":"_card-name_rmh48_81"},__defProp$1=Object.defineProperty,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(e,i,o)=>i in e?__defProp$1(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o,__spreadValues$1=(e,i)=>{for(var o in i||(i={}))__hasOwnProp$1.call(i,o)&&__defNormalProp$1(e,o,i[o]);if(__getOwnPropSymbols$1)for(var o of __getOwnPropSymbols$1(i))__propIsEnum$1.call(i,o)&&__defNormalProp$1(e,o,i[o]);return e},__publicField$1=(e,i,o)=>(__defNormalProp$1(e,typeof i!="symbol"?i+"":i,o),o),dist$1={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){var t;t=function(){return function(e){function i(et){for(var ut,gt,lt=et[0],ft=et[1],ot=0,yt=[];ot<lt.length;ot++)gt=lt[ot],Object.prototype.hasOwnProperty.call(c,gt)&&c[gt]&&yt.push(c[gt][0]),c[gt]=0;for(ut in ft)Object.prototype.hasOwnProperty.call(ft,ut)&&(e[ut]=ft[ut]);for($&&$(et);yt.length;)yt.shift()()}var o={},c={0:0};function d(et){if(o[et])return o[et].exports;var ut=o[et]={i:et,l:!1,exports:{}};return e[et].call(ut.exports,ut,ut.exports,d),ut.l=!0,ut.exports}d.e=function(){return Promise.resolve()},d.m=e,d.c=o,d.d=function(et,ut,gt){d.o(et,ut)||Object.defineProperty(et,ut,{enumerable:!0,get:gt})},d.r=function(et){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(et,"__esModule",{value:!0})},d.t=function(et,ut){if(1&ut&&(et=d(et)),8&ut||4&ut&&typeof et=="object"&&et&&et.__esModule)return et;var gt=Object.create(null);if(d.r(gt),Object.defineProperty(gt,"default",{enumerable:!0,value:et}),2&ut&&typeof et!="string")for(var lt in et)d.d(gt,lt,function(ft){return et[ft]}.bind(null,lt));return gt},d.n=function(et){var ut=et&&et.__esModule?function(){return et.default}:function(){return et};return d.d(ut,"a",ut),ut},d.o=function(et,ut){return Object.prototype.hasOwnProperty.call(et,ut)},d.p="",d.oe=function(et){throw console.error(et),et};var j=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],Z=j.push.bind(j);j.push=i,j=j.slice();for(var s=0;s<j.length;s++)i(j[s]);var $=Z;return d(d.s=228)}([function(e,i,o){o.d(i,"a",function(){return Yt});const c=Math.pow(2,20);var d=o(54),j=o(15),Z=o(53),s=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),$=new Uint8Array(16);function et(){if(!s)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return s($)}for(var ut=[],gt=0;gt<256;++gt)ut[gt]=(gt+256).toString(16).substr(1);var lt=o(16),ft=o(7),ot=o(21),yt=o(30);function wt(pt,dt={}){const bt=St=>dt.redacted!==!1?Object(yt.a)(St):St;if(!pt.stack)return{message:ot(bt(pt),{cycles:!0})};const{name:mt,message:jt,stack:zt}=pt,kt=function(St,Dt){var Nt={};for(var _t in St)Object.prototype.hasOwnProperty.call(St,_t)&&Dt.indexOf(_t)<0&&(Nt[_t]=St[_t]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function"){var at=0;for(_t=Object.getOwnPropertySymbols(St);at<_t.length;at++)Dt.indexOf(_t[at])<0&&Object.prototype.propertyIsEnumerable.call(St,_t[at])&&(Nt[_t[at]]=St[_t[at]])}return Nt}(pt,["name","message","stack"]);return{name:mt,message:jt!==void 0?jt:ot(bt(pt),{cycles:!0}),stack:zt,meta:kt&&Object.keys(kt).length===0?void 0:bt(kt)}}function Rt(pt,dt={}){const{message:bt,stack:mt,meta:jt}=wt(pt,dt);return`${mt||bt||""}${jt&&Object.keys(jt).length>0?` -- ${ot(jt,{cycles:!0})}`:""}`}var Mt=o(99),Tt=function(pt,dt,bt,mt){return new(bt||(bt=Promise))(function(jt,zt){function kt(Nt){try{Dt(mt.next(Nt))}catch(_t){zt(_t)}}function St(Nt){try{Dt(mt.throw(Nt))}catch(_t){zt(_t)}}function Dt(Nt){var _t;Nt.done?jt(Nt.value):(_t=Nt.value,_t instanceof bt?_t:new bt(function(at){at(_t)})).then(kt,St)}Dt((mt=mt.apply(pt,dt||[])).next())})},Ct=function(pt,dt){var bt={};for(var mt in pt)Object.prototype.hasOwnProperty.call(pt,mt)&&dt.indexOf(mt)<0&&(bt[mt]=pt[mt]);if(pt!=null&&typeof Object.getOwnPropertySymbols=="function"){var jt=0;for(mt=Object.getOwnPropertySymbols(pt);jt<mt.length;jt++)dt.indexOf(mt[jt])<0&&Object.prototype.propertyIsEnumerable.call(pt,mt[jt])&&(bt[mt[jt]]=pt[mt[jt]])}return bt};const ct={app:ft.a,namespace:ft.i,buildTag:ft.b,instanceId:function(pt,dt,bt){var mt=dt&&bt||0;typeof pt=="string"&&(dt=pt==="binary"?new Array(16):null,pt=null);var jt=(pt=pt||{}).random||(pt.rng||et)();if(jt[6]=15&jt[6]|64,jt[8]=63&jt[8]|128,dt)for(var zt=0;zt<16;++zt)dt[mt+zt]=jt[zt];return dt||function(kt,St){var Dt=St||0,Nt=ut;return[Nt[kt[Dt++]],Nt[kt[Dt++]],Nt[kt[Dt++]],Nt[kt[Dt++]],"-",Nt[kt[Dt++]],Nt[kt[Dt++]],"-",Nt[kt[Dt++]],Nt[kt[Dt++]],"-",Nt[kt[Dt++]],Nt[kt[Dt++]],"-",Nt[kt[Dt++]],Nt[kt[Dt++]],Nt[kt[Dt++]],Nt[kt[Dt++]],Nt[kt[Dt++]],Nt[kt[Dt++]]].join("")}(jt)}()};let Lt={};const Kt=ft.e?lt.format.printf(pt=>{var{timestamp:dt,level:bt,message:mt,error:jt}=pt,zt=Ct(pt,["timestamp","level","message","error"]);const kt=Object.assign(Object.assign({timestamp:dt?new Date(dt).getTime():new Date().getTime(),level:bt.toUpperCase(),message:mt},jt?{error:wt(jt)}:{}),{meta:Object.assign(Object.assign(Object.assign({},ct),Lt),zt)});try{return JSON.stringify(kt)}catch{return d(kt)}}):lt.format.printf(pt=>{var{timestamp:dt,level:bt,message:mt,error:jt}=pt,zt=Ct(pt,["timestamp","level","message","error"]);let kt=`${dt||new Date().toISOString()} ${bt.toUpperCase()}: ${mt} `;if(Object.keys(zt).length>0)try{kt+=JSON.stringify(zt)}catch{kt+=d(zt)}return jt&&(kt+=`
${Rt(jt)}`),kt}),Yt=Object(lt.createLogger)({level:ft.f});if(ft.g&&Yt.add(new lt.transports.Console({format:Kt,level:"debug"})),ft.d&&Yt.add(new class extends Mt{constructor(pt,dt){super(),this.endpoint=pt,this.meta=dt,this.logClient=this.getLogClient()}getLogClient(){return Tt(this,void 0,void 0,function*(){const{LogClient:pt}=yield Promise.resolve().then(o.bind(null,230));return new pt(this.endpoint)})}log(pt,dt){return Tt(this,void 0,void 0,function*(){const{level:bt,message:mt,error:jt}=pt,zt=function(kt,St){var Dt={};for(var Nt in kt)Object.prototype.hasOwnProperty.call(kt,Nt)&&St.indexOf(Nt)<0&&(Dt[Nt]=kt[Nt]);if(kt!=null&&typeof Object.getOwnPropertySymbols=="function"){var _t=0;for(Nt=Object.getOwnPropertySymbols(kt);_t<Nt.length;_t++)St.indexOf(Nt[_t])<0&&Object.prototype.propertyIsEnumerable.call(kt,Nt[_t])&&(Dt[Nt[_t]]=kt[Nt[_t]])}return Dt}(pt,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:bt,message:mt.substring(0,1e3),error:jt!==void 0?wt(jt):void 0,meta:Object.assign(Object.assign({},zt),this.meta())}])}catch(kt){console.error(`Failed to log to log-api: ${Rt(kt)}`)}dt()})}}(ft.d,()=>Object.assign(Object.assign(Object.assign({},ct),Lt),{level:"debug"}))),ft.h){const pt=Z.resolve(j.tmpdir(),`silly-${ft.a}.log`);Yt.debug("Logging silly logs to file",{filename:pt}),Yt.add(new lt.transports.File({filename:pt,maxsize:1*c,maxFiles:10,format:lt.format.combine(Object(lt.format)(dt=>dt.level==="silly"&&dt)(),Kt),level:"silly"}))}},function(e,i,o){o.d(i,"a",function(){return c});const c={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(e,i){var o,c,d=e.exports={};function j(){throw new Error("setTimeout has not been defined")}function Z(){throw new Error("clearTimeout has not been defined")}function s(wt){if(o===setTimeout)return setTimeout(wt,0);if((o===j||!o)&&setTimeout)return o=setTimeout,setTimeout(wt,0);try{return o(wt,0)}catch{try{return o.call(null,wt,0)}catch{return o.call(this,wt,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:j}catch{o=j}try{c=typeof clearTimeout=="function"?clearTimeout:Z}catch{c=Z}})();var $,et=[],ut=!1,gt=-1;function lt(){ut&&$&&(ut=!1,$.length?et=$.concat(et):gt=-1,et.length&&ft())}function ft(){if(!ut){var wt=s(lt);ut=!0;for(var Rt=et.length;Rt;){for($=et,et=[];++gt<Rt;)$&&$[gt].run();gt=-1,Rt=et.length}$=null,ut=!1,function(Mt){if(c===clearTimeout)return clearTimeout(Mt);if((c===Z||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(Mt);try{c(Mt)}catch{try{return c.call(null,Mt)}catch{return c.call(this,Mt)}}}(wt)}}function ot(wt,Rt){this.fun=wt,this.array=Rt}function yt(){}d.nextTick=function(wt){var Rt=new Array(arguments.length-1);if(arguments.length>1)for(var Mt=1;Mt<arguments.length;Mt++)Rt[Mt-1]=arguments[Mt];et.push(new ot(wt,Rt)),et.length!==1||ut||s(ft)},ot.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=yt,d.addListener=yt,d.once=yt,d.off=yt,d.removeListener=yt,d.removeAllListeners=yt,d.emit=yt,d.prependListener=yt,d.prependOnceListener=yt,d.listeners=function(wt){return[]},d.binding=function(wt){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(wt){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,i,o){Object.defineProperty(i,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(i,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(i,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(i,"configs",{value:o(117)})},function(e,i,o){(function(c){var d=o(125),j=o(126),Z=o(38);function s(){return et.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $(vt,At){if(s()<At)throw new RangeError("Invalid typed array length");return et.TYPED_ARRAY_SUPPORT?(vt=new Uint8Array(At)).__proto__=et.prototype:(vt===null&&(vt=new et(At)),vt.length=At),vt}function et(vt,At,It){if(!(et.TYPED_ARRAY_SUPPORT||this instanceof et))return new et(vt,At,It);if(typeof vt=="number"){if(typeof At=="string")throw new Error("If encoding is specified then the first argument must be a string");return lt(this,vt)}return ut(this,vt,At,It)}function ut(vt,At,It,Ht){if(typeof At=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&At instanceof ArrayBuffer?function(Zt,rr,pr,_r){if(rr.byteLength,pr<0||rr.byteLength<pr)throw new RangeError("'offset' is out of bounds");if(rr.byteLength<pr+(_r||0))throw new RangeError("'length' is out of bounds");return rr=pr===void 0&&_r===void 0?new Uint8Array(rr):_r===void 0?new Uint8Array(rr,pr):new Uint8Array(rr,pr,_r),et.TYPED_ARRAY_SUPPORT?(Zt=rr).__proto__=et.prototype:Zt=ft(Zt,rr),Zt}(vt,At,It,Ht):typeof At=="string"?function(Zt,rr,pr){if(typeof pr=="string"&&pr!==""||(pr="utf8"),!et.isEncoding(pr))throw new TypeError('"encoding" must be a valid string encoding');var _r=0|yt(rr,pr),ir=(Zt=$(Zt,_r)).write(rr,pr);return ir!==_r&&(Zt=Zt.slice(0,ir)),Zt}(vt,At,It):function(Zt,rr){if(et.isBuffer(rr)){var pr=0|ot(rr.length);return(Zt=$(Zt,pr)).length===0||rr.copy(Zt,0,0,pr),Zt}if(rr){if(typeof ArrayBuffer!="undefined"&&rr.buffer instanceof ArrayBuffer||"length"in rr)return typeof rr.length!="number"||(_r=rr.length)!=_r?$(Zt,0):ft(Zt,rr);if(rr.type==="Buffer"&&Z(rr.data))return ft(Zt,rr.data)}var _r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(vt,At)}function gt(vt){if(typeof vt!="number")throw new TypeError('"size" argument must be a number');if(vt<0)throw new RangeError('"size" argument must not be negative')}function lt(vt,At){if(gt(At),vt=$(vt,At<0?0:0|ot(At)),!et.TYPED_ARRAY_SUPPORT)for(var It=0;It<At;++It)vt[It]=0;return vt}function ft(vt,At){var It=At.length<0?0:0|ot(At.length);vt=$(vt,It);for(var Ht=0;Ht<It;Ht+=1)vt[Ht]=255&At[Ht];return vt}function ot(vt){if(vt>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|vt}function yt(vt,At){if(et.isBuffer(vt))return vt.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(vt)||vt instanceof ArrayBuffer))return vt.byteLength;typeof vt!="string"&&(vt=""+vt);var It=vt.length;if(It===0)return 0;for(var Ht=!1;;)switch(At){case"ascii":case"latin1":case"binary":return It;case"utf8":case"utf-8":case void 0:return ar(vt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*It;case"hex":return It>>>1;case"base64":return qt(vt).length;default:if(Ht)return ar(vt).length;At=(""+At).toLowerCase(),Ht=!0}}function wt(vt,At,It){var Ht=!1;if((At===void 0||At<0)&&(At=0),At>this.length||((It===void 0||It>this.length)&&(It=this.length),It<=0)||(It>>>=0)<=(At>>>=0))return"";for(vt||(vt="utf8");;)switch(vt){case"hex":return zt(this,At,It);case"utf8":case"utf-8":return bt(this,At,It);case"ascii":return mt(this,At,It);case"latin1":case"binary":return jt(this,At,It);case"base64":return dt(this,At,It);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kt(this,At,It);default:if(Ht)throw new TypeError("Unknown encoding: "+vt);vt=(vt+"").toLowerCase(),Ht=!0}}function Rt(vt,At,It){var Ht=vt[At];vt[At]=vt[It],vt[It]=Ht}function Mt(vt,At,It,Ht,Zt){if(vt.length===0)return-1;if(typeof It=="string"?(Ht=It,It=0):It>2147483647?It=2147483647:It<-2147483648&&(It=-2147483648),It=+It,isNaN(It)&&(It=Zt?0:vt.length-1),It<0&&(It=vt.length+It),It>=vt.length){if(Zt)return-1;It=vt.length-1}else if(It<0){if(!Zt)return-1;It=0}if(typeof At=="string"&&(At=et.from(At,Ht)),et.isBuffer(At))return At.length===0?-1:Tt(vt,At,It,Ht,Zt);if(typeof At=="number")return At&=255,et.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Zt?Uint8Array.prototype.indexOf.call(vt,At,It):Uint8Array.prototype.lastIndexOf.call(vt,At,It):Tt(vt,[At],It,Ht,Zt);throw new TypeError("val must be string, number or Buffer")}function Tt(vt,At,It,Ht,Zt){var rr,pr=1,_r=vt.length,ir=At.length;if(Ht!==void 0&&((Ht=String(Ht).toLowerCase())==="ucs2"||Ht==="ucs-2"||Ht==="utf16le"||Ht==="utf-16le")){if(vt.length<2||At.length<2)return-1;pr=2,_r/=2,ir/=2,It/=2}function cr(Yr,an){return pr===1?Yr[an]:Yr.readUInt16BE(an*pr)}if(Zt){var mr=-1;for(rr=It;rr<_r;rr++)if(cr(vt,rr)===cr(At,mr===-1?0:rr-mr)){if(mr===-1&&(mr=rr),rr-mr+1===ir)return mr*pr}else mr!==-1&&(rr-=rr-mr),mr=-1}else for(It+ir>_r&&(It=_r-ir),rr=It;rr>=0;rr--){for(var Cr=!0,Mr=0;Mr<ir;Mr++)if(cr(vt,rr+Mr)!==cr(At,Mr)){Cr=!1;break}if(Cr)return rr}return-1}function Ct(vt,At,It,Ht){It=Number(It)||0;var Zt=vt.length-It;Ht?(Ht=Number(Ht))>Zt&&(Ht=Zt):Ht=Zt;var rr=At.length;if(rr%2!=0)throw new TypeError("Invalid hex string");Ht>rr/2&&(Ht=rr/2);for(var pr=0;pr<Ht;++pr){var _r=parseInt(At.substr(2*pr,2),16);if(isNaN(_r))return pr;vt[It+pr]=_r}return pr}function ct(vt,At,It,Ht){return Gt(ar(At,vt.length-It),vt,It,Ht)}function Lt(vt,At,It,Ht){return Gt(function(Zt){for(var rr=[],pr=0;pr<Zt.length;++pr)rr.push(255&Zt.charCodeAt(pr));return rr}(At),vt,It,Ht)}function Kt(vt,At,It,Ht){return Lt(vt,At,It,Ht)}function Yt(vt,At,It,Ht){return Gt(qt(At),vt,It,Ht)}function pt(vt,At,It,Ht){return Gt(function(Zt,rr){for(var pr,_r,ir,cr=[],mr=0;mr<Zt.length&&!((rr-=2)<0);++mr)_r=(pr=Zt.charCodeAt(mr))>>8,ir=pr%256,cr.push(ir),cr.push(_r);return cr}(At,vt.length-It),vt,It,Ht)}function dt(vt,At,It){return At===0&&It===vt.length?d.fromByteArray(vt):d.fromByteArray(vt.slice(At,It))}function bt(vt,At,It){It=Math.min(vt.length,It);for(var Ht=[],Zt=At;Zt<It;){var rr,pr,_r,ir,cr=vt[Zt],mr=null,Cr=cr>239?4:cr>223?3:cr>191?2:1;if(Zt+Cr<=It)switch(Cr){case 1:cr<128&&(mr=cr);break;case 2:(192&(rr=vt[Zt+1]))==128&&(ir=(31&cr)<<6|63&rr)>127&&(mr=ir);break;case 3:rr=vt[Zt+1],pr=vt[Zt+2],(192&rr)==128&&(192&pr)==128&&(ir=(15&cr)<<12|(63&rr)<<6|63&pr)>2047&&(ir<55296||ir>57343)&&(mr=ir);break;case 4:rr=vt[Zt+1],pr=vt[Zt+2],_r=vt[Zt+3],(192&rr)==128&&(192&pr)==128&&(192&_r)==128&&(ir=(15&cr)<<18|(63&rr)<<12|(63&pr)<<6|63&_r)>65535&&ir<1114112&&(mr=ir)}mr===null?(mr=65533,Cr=1):mr>65535&&(mr-=65536,Ht.push(mr>>>10&1023|55296),mr=56320|1023&mr),Ht.push(mr),Zt+=Cr}return function(Mr){var Yr=Mr.length;if(Yr<=4096)return String.fromCharCode.apply(String,Mr);for(var an="",dn=0;dn<Yr;)an+=String.fromCharCode.apply(String,Mr.slice(dn,dn+=4096));return an}(Ht)}function mt(vt,At,It){var Ht="";It=Math.min(vt.length,It);for(var Zt=At;Zt<It;++Zt)Ht+=String.fromCharCode(127&vt[Zt]);return Ht}function jt(vt,At,It){var Ht="";It=Math.min(vt.length,It);for(var Zt=At;Zt<It;++Zt)Ht+=String.fromCharCode(vt[Zt]);return Ht}function zt(vt,At,It){var Ht=vt.length;(!At||At<0)&&(At=0),(!It||It<0||It>Ht)&&(It=Ht);for(var Zt="",rr=At;rr<It;++rr)Zt+=or(vt[rr]);return Zt}function kt(vt,At,It){for(var Ht=vt.slice(At,It),Zt="",rr=0;rr<Ht.length;rr+=2)Zt+=String.fromCharCode(Ht[rr]+256*Ht[rr+1]);return Zt}function St(vt,At,It){if(vt%1!=0||vt<0)throw new RangeError("offset is not uint");if(vt+At>It)throw new RangeError("Trying to access beyond buffer length")}function Dt(vt,At,It,Ht,Zt,rr){if(!et.isBuffer(vt))throw new TypeError('"buffer" argument must be a Buffer instance');if(At>Zt||At<rr)throw new RangeError('"value" argument is out of bounds');if(It+Ht>vt.length)throw new RangeError("Index out of range")}function Nt(vt,At,It,Ht){At<0&&(At=65535+At+1);for(var Zt=0,rr=Math.min(vt.length-It,2);Zt<rr;++Zt)vt[It+Zt]=(At&255<<8*(Ht?Zt:1-Zt))>>>8*(Ht?Zt:1-Zt)}function _t(vt,At,It,Ht){At<0&&(At=4294967295+At+1);for(var Zt=0,rr=Math.min(vt.length-It,4);Zt<rr;++Zt)vt[It+Zt]=At>>>8*(Ht?Zt:3-Zt)&255}function at(vt,At,It,Ht,Zt,rr){if(It+Ht>vt.length)throw new RangeError("Index out of range");if(It<0)throw new RangeError("Index out of range")}function Bt(vt,At,It,Ht,Zt){return Zt||at(vt,0,It,4),j.write(vt,At,It,Ht,23,4),It+4}function Vt(vt,At,It,Ht,Zt){return Zt||at(vt,0,It,8),j.write(vt,At,It,Ht,52,8),It+8}i.Buffer=et,i.SlowBuffer=function(vt){return+vt!=vt&&(vt=0),et.alloc(+vt)},i.INSPECT_MAX_BYTES=50,et.TYPED_ARRAY_SUPPORT=c.TYPED_ARRAY_SUPPORT!==void 0?c.TYPED_ARRAY_SUPPORT:function(){try{var vt=new Uint8Array(1);return vt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},vt.foo()===42&&typeof vt.subarray=="function"&&vt.subarray(1,1).byteLength===0}catch{return!1}}(),i.kMaxLength=s(),et.poolSize=8192,et._augment=function(vt){return vt.__proto__=et.prototype,vt},et.from=function(vt,At,It){return ut(null,vt,At,It)},et.TYPED_ARRAY_SUPPORT&&(et.prototype.__proto__=Uint8Array.prototype,et.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&et[Symbol.species]===et&&Object.defineProperty(et,Symbol.species,{value:null,configurable:!0})),et.alloc=function(vt,At,It){return Ht=null,rr=At,pr=It,gt(Zt=vt),Zt<=0?$(Ht,Zt):rr!==void 0?typeof pr=="string"?$(Ht,Zt).fill(rr,pr):$(Ht,Zt).fill(rr):$(Ht,Zt);var Ht,Zt,rr,pr},et.allocUnsafe=function(vt){return lt(null,vt)},et.allocUnsafeSlow=function(vt){return lt(null,vt)},et.isBuffer=function(vt){return!(vt==null||!vt._isBuffer)},et.compare=function(vt,At){if(!et.isBuffer(vt)||!et.isBuffer(At))throw new TypeError("Arguments must be Buffers");if(vt===At)return 0;for(var It=vt.length,Ht=At.length,Zt=0,rr=Math.min(It,Ht);Zt<rr;++Zt)if(vt[Zt]!==At[Zt]){It=vt[Zt],Ht=At[Zt];break}return It<Ht?-1:Ht<It?1:0},et.isEncoding=function(vt){switch(String(vt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},et.concat=function(vt,At){if(!Z(vt))throw new TypeError('"list" argument must be an Array of Buffers');if(vt.length===0)return et.alloc(0);var It;if(At===void 0)for(At=0,It=0;It<vt.length;++It)At+=vt[It].length;var Ht=et.allocUnsafe(At),Zt=0;for(It=0;It<vt.length;++It){var rr=vt[It];if(!et.isBuffer(rr))throw new TypeError('"list" argument must be an Array of Buffers');rr.copy(Ht,Zt),Zt+=rr.length}return Ht},et.byteLength=yt,et.prototype._isBuffer=!0,et.prototype.swap16=function(){var vt=this.length;if(vt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var At=0;At<vt;At+=2)Rt(this,At,At+1);return this},et.prototype.swap32=function(){var vt=this.length;if(vt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var At=0;At<vt;At+=4)Rt(this,At,At+3),Rt(this,At+1,At+2);return this},et.prototype.swap64=function(){var vt=this.length;if(vt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var At=0;At<vt;At+=8)Rt(this,At,At+7),Rt(this,At+1,At+6),Rt(this,At+2,At+5),Rt(this,At+3,At+4);return this},et.prototype.toString=function(){var vt=0|this.length;return vt===0?"":arguments.length===0?bt(this,0,vt):wt.apply(this,arguments)},et.prototype.equals=function(vt){if(!et.isBuffer(vt))throw new TypeError("Argument must be a Buffer");return this===vt||et.compare(this,vt)===0},et.prototype.inspect=function(){var vt="",At=i.INSPECT_MAX_BYTES;return this.length>0&&(vt=this.toString("hex",0,At).match(/.{2}/g).join(" "),this.length>At&&(vt+=" ... ")),"<Buffer "+vt+">"},et.prototype.compare=function(vt,At,It,Ht,Zt){if(!et.isBuffer(vt))throw new TypeError("Argument must be a Buffer");if(At===void 0&&(At=0),It===void 0&&(It=vt?vt.length:0),Ht===void 0&&(Ht=0),Zt===void 0&&(Zt=this.length),At<0||It>vt.length||Ht<0||Zt>this.length)throw new RangeError("out of range index");if(Ht>=Zt&&At>=It)return 0;if(Ht>=Zt)return-1;if(At>=It)return 1;if(this===vt)return 0;for(var rr=(Zt>>>=0)-(Ht>>>=0),pr=(It>>>=0)-(At>>>=0),_r=Math.min(rr,pr),ir=this.slice(Ht,Zt),cr=vt.slice(At,It),mr=0;mr<_r;++mr)if(ir[mr]!==cr[mr]){rr=ir[mr],pr=cr[mr];break}return rr<pr?-1:pr<rr?1:0},et.prototype.includes=function(vt,At,It){return this.indexOf(vt,At,It)!==-1},et.prototype.indexOf=function(vt,At,It){return Mt(this,vt,At,It,!0)},et.prototype.lastIndexOf=function(vt,At,It){return Mt(this,vt,At,It,!1)},et.prototype.write=function(vt,At,It,Ht){if(At===void 0)Ht="utf8",It=this.length,At=0;else if(It===void 0&&typeof At=="string")Ht=At,It=this.length,At=0;else{if(!isFinite(At))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");At|=0,isFinite(It)?(It|=0,Ht===void 0&&(Ht="utf8")):(Ht=It,It=void 0)}var Zt=this.length-At;if((It===void 0||It>Zt)&&(It=Zt),vt.length>0&&(It<0||At<0)||At>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ht||(Ht="utf8");for(var rr=!1;;)switch(Ht){case"hex":return Ct(this,vt,At,It);case"utf8":case"utf-8":return ct(this,vt,At,It);case"ascii":return Lt(this,vt,At,It);case"latin1":case"binary":return Kt(this,vt,At,It);case"base64":return Yt(this,vt,At,It);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,vt,At,It);default:if(rr)throw new TypeError("Unknown encoding: "+Ht);Ht=(""+Ht).toLowerCase(),rr=!0}},et.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},et.prototype.slice=function(vt,At){var It,Ht=this.length;if((vt=~~vt)<0?(vt+=Ht)<0&&(vt=0):vt>Ht&&(vt=Ht),(At=At===void 0?Ht:~~At)<0?(At+=Ht)<0&&(At=0):At>Ht&&(At=Ht),At<vt&&(At=vt),et.TYPED_ARRAY_SUPPORT)(It=this.subarray(vt,At)).__proto__=et.prototype;else{var Zt=At-vt;It=new et(Zt,void 0);for(var rr=0;rr<Zt;++rr)It[rr]=this[rr+vt]}return It},et.prototype.readUIntLE=function(vt,At,It){vt|=0,At|=0,It||St(vt,At,this.length);for(var Ht=this[vt],Zt=1,rr=0;++rr<At&&(Zt*=256);)Ht+=this[vt+rr]*Zt;return Ht},et.prototype.readUIntBE=function(vt,At,It){vt|=0,At|=0,It||St(vt,At,this.length);for(var Ht=this[vt+--At],Zt=1;At>0&&(Zt*=256);)Ht+=this[vt+--At]*Zt;return Ht},et.prototype.readUInt8=function(vt,At){return At||St(vt,1,this.length),this[vt]},et.prototype.readUInt16LE=function(vt,At){return At||St(vt,2,this.length),this[vt]|this[vt+1]<<8},et.prototype.readUInt16BE=function(vt,At){return At||St(vt,2,this.length),this[vt]<<8|this[vt+1]},et.prototype.readUInt32LE=function(vt,At){return At||St(vt,4,this.length),(this[vt]|this[vt+1]<<8|this[vt+2]<<16)+16777216*this[vt+3]},et.prototype.readUInt32BE=function(vt,At){return At||St(vt,4,this.length),16777216*this[vt]+(this[vt+1]<<16|this[vt+2]<<8|this[vt+3])},et.prototype.readIntLE=function(vt,At,It){vt|=0,At|=0,It||St(vt,At,this.length);for(var Ht=this[vt],Zt=1,rr=0;++rr<At&&(Zt*=256);)Ht+=this[vt+rr]*Zt;return Ht>=(Zt*=128)&&(Ht-=Math.pow(2,8*At)),Ht},et.prototype.readIntBE=function(vt,At,It){vt|=0,At|=0,It||St(vt,At,this.length);for(var Ht=At,Zt=1,rr=this[vt+--Ht];Ht>0&&(Zt*=256);)rr+=this[vt+--Ht]*Zt;return rr>=(Zt*=128)&&(rr-=Math.pow(2,8*At)),rr},et.prototype.readInt8=function(vt,At){return At||St(vt,1,this.length),128&this[vt]?-1*(255-this[vt]+1):this[vt]},et.prototype.readInt16LE=function(vt,At){At||St(vt,2,this.length);var It=this[vt]|this[vt+1]<<8;return 32768&It?4294901760|It:It},et.prototype.readInt16BE=function(vt,At){At||St(vt,2,this.length);var It=this[vt+1]|this[vt]<<8;return 32768&It?4294901760|It:It},et.prototype.readInt32LE=function(vt,At){return At||St(vt,4,this.length),this[vt]|this[vt+1]<<8|this[vt+2]<<16|this[vt+3]<<24},et.prototype.readInt32BE=function(vt,At){return At||St(vt,4,this.length),this[vt]<<24|this[vt+1]<<16|this[vt+2]<<8|this[vt+3]},et.prototype.readFloatLE=function(vt,At){return At||St(vt,4,this.length),j.read(this,vt,!0,23,4)},et.prototype.readFloatBE=function(vt,At){return At||St(vt,4,this.length),j.read(this,vt,!1,23,4)},et.prototype.readDoubleLE=function(vt,At){return At||St(vt,8,this.length),j.read(this,vt,!0,52,8)},et.prototype.readDoubleBE=function(vt,At){return At||St(vt,8,this.length),j.read(this,vt,!1,52,8)},et.prototype.writeUIntLE=function(vt,At,It,Ht){vt=+vt,At|=0,It|=0,Ht||Dt(this,vt,At,It,Math.pow(2,8*It)-1,0);var Zt=1,rr=0;for(this[At]=255&vt;++rr<It&&(Zt*=256);)this[At+rr]=vt/Zt&255;return At+It},et.prototype.writeUIntBE=function(vt,At,It,Ht){vt=+vt,At|=0,It|=0,Ht||Dt(this,vt,At,It,Math.pow(2,8*It)-1,0);var Zt=It-1,rr=1;for(this[At+Zt]=255&vt;--Zt>=0&&(rr*=256);)this[At+Zt]=vt/rr&255;return At+It},et.prototype.writeUInt8=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,1,255,0),et.TYPED_ARRAY_SUPPORT||(vt=Math.floor(vt)),this[At]=255&vt,At+1},et.prototype.writeUInt16LE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,2,65535,0),et.TYPED_ARRAY_SUPPORT?(this[At]=255&vt,this[At+1]=vt>>>8):Nt(this,vt,At,!0),At+2},et.prototype.writeUInt16BE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,2,65535,0),et.TYPED_ARRAY_SUPPORT?(this[At]=vt>>>8,this[At+1]=255&vt):Nt(this,vt,At,!1),At+2},et.prototype.writeUInt32LE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,4,4294967295,0),et.TYPED_ARRAY_SUPPORT?(this[At+3]=vt>>>24,this[At+2]=vt>>>16,this[At+1]=vt>>>8,this[At]=255&vt):_t(this,vt,At,!0),At+4},et.prototype.writeUInt32BE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,4,4294967295,0),et.TYPED_ARRAY_SUPPORT?(this[At]=vt>>>24,this[At+1]=vt>>>16,this[At+2]=vt>>>8,this[At+3]=255&vt):_t(this,vt,At,!1),At+4},et.prototype.writeIntLE=function(vt,At,It,Ht){if(vt=+vt,At|=0,!Ht){var Zt=Math.pow(2,8*It-1);Dt(this,vt,At,It,Zt-1,-Zt)}var rr=0,pr=1,_r=0;for(this[At]=255&vt;++rr<It&&(pr*=256);)vt<0&&_r===0&&this[At+rr-1]!==0&&(_r=1),this[At+rr]=(vt/pr>>0)-_r&255;return At+It},et.prototype.writeIntBE=function(vt,At,It,Ht){if(vt=+vt,At|=0,!Ht){var Zt=Math.pow(2,8*It-1);Dt(this,vt,At,It,Zt-1,-Zt)}var rr=It-1,pr=1,_r=0;for(this[At+rr]=255&vt;--rr>=0&&(pr*=256);)vt<0&&_r===0&&this[At+rr+1]!==0&&(_r=1),this[At+rr]=(vt/pr>>0)-_r&255;return At+It},et.prototype.writeInt8=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,1,127,-128),et.TYPED_ARRAY_SUPPORT||(vt=Math.floor(vt)),vt<0&&(vt=255+vt+1),this[At]=255&vt,At+1},et.prototype.writeInt16LE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,2,32767,-32768),et.TYPED_ARRAY_SUPPORT?(this[At]=255&vt,this[At+1]=vt>>>8):Nt(this,vt,At,!0),At+2},et.prototype.writeInt16BE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,2,32767,-32768),et.TYPED_ARRAY_SUPPORT?(this[At]=vt>>>8,this[At+1]=255&vt):Nt(this,vt,At,!1),At+2},et.prototype.writeInt32LE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,4,2147483647,-2147483648),et.TYPED_ARRAY_SUPPORT?(this[At]=255&vt,this[At+1]=vt>>>8,this[At+2]=vt>>>16,this[At+3]=vt>>>24):_t(this,vt,At,!0),At+4},et.prototype.writeInt32BE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,4,2147483647,-2147483648),vt<0&&(vt=4294967295+vt+1),et.TYPED_ARRAY_SUPPORT?(this[At]=vt>>>24,this[At+1]=vt>>>16,this[At+2]=vt>>>8,this[At+3]=255&vt):_t(this,vt,At,!1),At+4},et.prototype.writeFloatLE=function(vt,At,It){return Bt(this,vt,At,!0,It)},et.prototype.writeFloatBE=function(vt,At,It){return Bt(this,vt,At,!1,It)},et.prototype.writeDoubleLE=function(vt,At,It){return Vt(this,vt,At,!0,It)},et.prototype.writeDoubleBE=function(vt,At,It){return Vt(this,vt,At,!1,It)},et.prototype.copy=function(vt,At,It,Ht){if(It||(It=0),Ht||Ht===0||(Ht=this.length),At>=vt.length&&(At=vt.length),At||(At=0),Ht>0&&Ht<It&&(Ht=It),Ht===It||vt.length===0||this.length===0)return 0;if(At<0)throw new RangeError("targetStart out of bounds");if(It<0||It>=this.length)throw new RangeError("sourceStart out of bounds");if(Ht<0)throw new RangeError("sourceEnd out of bounds");Ht>this.length&&(Ht=this.length),vt.length-At<Ht-It&&(Ht=vt.length-At+It);var Zt,rr=Ht-It;if(this===vt&&It<At&&At<Ht)for(Zt=rr-1;Zt>=0;--Zt)vt[Zt+At]=this[Zt+It];else if(rr<1e3||!et.TYPED_ARRAY_SUPPORT)for(Zt=0;Zt<rr;++Zt)vt[Zt+At]=this[Zt+It];else Uint8Array.prototype.set.call(vt,this.subarray(It,It+rr),At);return rr},et.prototype.fill=function(vt,At,It,Ht){if(typeof vt=="string"){if(typeof At=="string"?(Ht=At,At=0,It=this.length):typeof It=="string"&&(Ht=It,It=this.length),vt.length===1){var Zt=vt.charCodeAt(0);Zt<256&&(vt=Zt)}if(Ht!==void 0&&typeof Ht!="string")throw new TypeError("encoding must be a string");if(typeof Ht=="string"&&!et.isEncoding(Ht))throw new TypeError("Unknown encoding: "+Ht)}else typeof vt=="number"&&(vt&=255);if(At<0||this.length<At||this.length<It)throw new RangeError("Out of range index");if(It<=At)return this;var rr;if(At>>>=0,It=It===void 0?this.length:It>>>0,vt||(vt=0),typeof vt=="number")for(rr=At;rr<It;++rr)this[rr]=vt;else{var pr=et.isBuffer(vt)?vt:ar(new et(vt,Ht).toString()),_r=pr.length;for(rr=0;rr<It-At;++rr)this[rr+At]=pr[rr%_r]}return this};var Qt=/[^+\/0-9A-Za-z-_]/g;function or(vt){return vt<16?"0"+vt.toString(16):vt.toString(16)}function ar(vt,At){var It;At=At||1/0;for(var Ht=vt.length,Zt=null,rr=[],pr=0;pr<Ht;++pr){if((It=vt.charCodeAt(pr))>55295&&It<57344){if(!Zt){if(It>56319){(At-=3)>-1&&rr.push(239,191,189);continue}if(pr+1===Ht){(At-=3)>-1&&rr.push(239,191,189);continue}Zt=It;continue}if(It<56320){(At-=3)>-1&&rr.push(239,191,189),Zt=It;continue}It=65536+(Zt-55296<<10|It-56320)}else Zt&&(At-=3)>-1&&rr.push(239,191,189);if(Zt=null,It<128){if((At-=1)<0)break;rr.push(It)}else if(It<2048){if((At-=2)<0)break;rr.push(It>>6|192,63&It|128)}else if(It<65536){if((At-=3)<0)break;rr.push(It>>12|224,It>>6&63|128,63&It|128)}else{if(!(It<1114112))throw new Error("Invalid code point");if((At-=4)<0)break;rr.push(It>>18|240,It>>12&63|128,It>>6&63|128,63&It|128)}}return rr}function qt(vt){return d.toByteArray(function(At){if((At=(It=At,It.trim?It.trim():It.replace(/^\s+|\s+$/g,"")).replace(Qt,"")).length<2)return"";for(var It;At.length%4!=0;)At+="=";return At}(vt))}function Gt(vt,At,It,Ht){for(var Zt=0;Zt<Ht&&!(Zt+It>=At.length||Zt>=vt.length);++Zt)At[Zt+It]=vt[Zt];return Zt}}).call(this,o(5))},function(e,i){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}e.exports=o},function(e,i){typeof Object.create=="function"?e.exports=function(o,c){c&&(o.super_=c,o.prototype=Object.create(c.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(o,c){if(c){o.super_=c;var d=function(){};d.prototype=c.prototype,o.prototype=new d,o.prototype.constructor=o}}},function(e,i,o){(function(c){o.d(i,"a",function(){return j}),o.d(i,"i",function(){return Z}),o.d(i,"j",function(){return s}),o.d(i,"b",function(){return $}),o.d(i,"f",function(){return et}),o.d(i,"e",function(){return ut}),o.d(i,"g",function(){return gt}),o.d(i,"d",function(){return lt}),o.d(i,"c",function(){return ft}),o.d(i,"h",function(){return ot});const d=o(98).from(Object.assign(Object.assign({},c.env),{ENVIRONMENT:c.env.ENV,APP:"realtime-sdk",NAMESPACE:"production",VERSION:c.env.VERSION,BUILD_TAG:c.env.BUILD_TAG,GIT_COMMIT:c.env.GIT_COMMIT,LOG_LEVEL:c.env.LOG_LEVEL,LOG_JSON:"false",LOG_API_ENDPOINT:c.env.LOG_API_ENDPOINT,JEST_WORKER_ID:c.env.JEST_WORKER_ID,ENABLE_SENTRY:c.env.ENABLE_SENTRY,SENTRY_DSN:c.env.SENTRY_DSN,STABLE_AGENT_VERSION:c.env.STABLE_AGENT_VERSION})),j=(d.get("ENVIRONMENT").default("").asString(),d.get("APP").default("").asString()),Z=(d.get("APP_PATH").default("").asString(),d.get("API_ENDPOINT").default("").asString(),d.get("NAMESPACE").default("").asString()),s=d.get("VERSION").default("").asString(),$=d.get("BUILD_TAG").default("").asString(),et=(d.get("GIT_COMMIT").default("").asString(),d.get("ENABLE_SENTRY").default("false").asBool(),d.get("SENTRY_DSN").default("").asString(),d.get("LOG_LEVEL").default("debug").asString()),ut=d.get("LOG_JSON").default("true").asBool(),gt=d.get("LOG_TO_CONSOLE").default("true").asBool(),lt=(d.get("STABLE_AGENT_VERSION").default("").asString(),d.get("LOG_API_ENDPOINT").asString()),ft=d.get("JEST_WORKER_ID").asString(),ot=(d.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),d.get("LOG_TO_FILE").default("false").asBoolStrict())}).call(this,o(2))},function(e,i,o){var c=o(95),d=c,j=Function("return this")(),Z=o(94);d.object.extend(proto,Z),d.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,j),d.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,j),d.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,j),d.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,j),d.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,j),d.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,j),d.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,j),d.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,j),d.exportSymbol("proto.v1.signaling.api.Peer",null,j),d.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,j),d.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,j),d.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,j),d.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,j),d.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,j),d.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,j),d.exportSymbol("proto.v1.signaling.api.SessionType",null,j),d.exportSymbol("proto.v1.signaling.api.Signal",null,j),proto.v1.signaling.api.Peer=function(s){c.Message.initialize(this,s,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},d.inherits(proto.v1.signaling.api.Peer,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.Signal,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.CreatePeerRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.CreatePeerRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.CreatePeerResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.DeletePeerRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.DeletePeerResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.RefreshPeerRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.RefreshPeerResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.GetPeersRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(s){c.Message.initialize(this,s,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},d.inherits(proto.v1.signaling.api.GetPeersResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.GetIceServersRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.GetIceServersResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.SendSignalRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.SendSignalResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(s){return proto.v1.signaling.api.Peer.toObject(s,this)},proto.v1.signaling.api.Peer.toObject=function(s,$){var et,ut={peerId:c.Message.getFieldWithDefault($,1,""),organizationId:c.Message.getFieldWithDefault($,2,""),userId:(et=$.getUserId())&&Z.StringValue.toObject(s,et),deviceId:(et=$.getDeviceId())&&Z.StringValue.toObject(s,et),sessionIdsList:(et=c.Message.getRepeatedField($,5))==null?void 0:et,peerCreatedTimestamp:(et=$.getPeerCreatedTimestamp())&&Z.Int64Value.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.Peer.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=$.readString();s.setPeerId(et);break;case 2:et=$.readString(),s.setOrganizationId(et);break;case 3:et=new Z.StringValue,$.readMessage(et,Z.StringValue.deserializeBinaryFromReader),s.setUserId(et);break;case 4:et=new Z.StringValue,$.readMessage(et,Z.StringValue.deserializeBinaryFromReader),s.setDeviceId(et);break;case 5:et=$.readString(),s.addSessionIds(et);break;case 6:et=new Z.Int64Value,$.readMessage(et,Z.Int64Value.deserializeBinaryFromReader),s.setPeerCreatedTimestamp(et);break;default:$.skipField()}return s},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(s,$){var et=void 0;(et=s.getPeerId()).length>0&&$.writeString(1,et),(et=s.getOrganizationId()).length>0&&$.writeString(2,et),(et=s.getUserId())!=null&&$.writeMessage(3,et,Z.StringValue.serializeBinaryToWriter),(et=s.getDeviceId())!=null&&$.writeMessage(4,et,Z.StringValue.serializeBinaryToWriter),(et=s.getSessionIdsList()).length>0&&$.writeRepeatedString(5,et),(et=s.getPeerCreatedTimestamp())!=null&&$.writeMessage(6,et,Z.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(s){return c.Message.setProto3StringField(this,1,s)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return c.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(s){return c.Message.setProto3StringField(this,2,s)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return c.Message.getWrapperField(this,Z.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(s){return c.Message.setWrapperField(this,3,s)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return c.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return c.Message.getWrapperField(this,Z.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(s){return c.Message.setWrapperField(this,4,s)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return c.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return c.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(s){return c.Message.setField(this,5,s||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(s,$){return c.Message.addToRepeatedField(this,5,s,$)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return c.Message.getWrapperField(this,Z.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(s){return c.Message.setWrapperField(this,6,s)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return c.Message.getField(this,6)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(s){return proto.v1.signaling.api.Signal.toObject(s,this)},proto.v1.signaling.api.Signal.toObject=function(s,$){var et,ut={sessionId:(et=$.getSessionId())&&Z.StringValue.toObject(s,et),sessionCreatedTimestamp:(et=$.getSessionCreatedTimestamp())&&Z.Int64Value.toObject(s,et),senderId:c.Message.getFieldWithDefault($,3,""),receiverId:c.Message.getFieldWithDefault($,4,""),payload:c.Message.getFieldWithDefault($,5,""),iceServers:c.Message.getFieldWithDefault($,6,""),iceTransportPolicy:c.Message.getFieldWithDefault($,7,""),sessionType:c.Message.getFieldWithDefault($,8,0)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.Signal.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new Z.StringValue;$.readMessage(et,Z.StringValue.deserializeBinaryFromReader),s.setSessionId(et);break;case 2:et=new Z.Int64Value,$.readMessage(et,Z.Int64Value.deserializeBinaryFromReader),s.setSessionCreatedTimestamp(et);break;case 3:et=$.readString(),s.setSenderId(et);break;case 4:et=$.readString(),s.setReceiverId(et);break;case 5:et=$.readString(),s.setPayload(et);break;case 6:et=$.readString(),s.setIceServers(et);break;case 7:et=$.readString(),s.setIceTransportPolicy(et);break;case 8:et=$.readEnum(),s.setSessionType(et);break;default:$.skipField()}return s},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(s,$){var et=void 0;(et=s.getSessionId())!=null&&$.writeMessage(1,et,Z.StringValue.serializeBinaryToWriter),(et=s.getSessionCreatedTimestamp())!=null&&$.writeMessage(2,et,Z.Int64Value.serializeBinaryToWriter),(et=s.getSenderId()).length>0&&$.writeString(3,et),(et=s.getReceiverId()).length>0&&$.writeString(4,et),(et=s.getPayload()).length>0&&$.writeString(5,et),(et=s.getIceServers()).length>0&&$.writeString(6,et),(et=s.getIceTransportPolicy()).length>0&&$.writeString(7,et),(et=s.getSessionType())!==0&&$.writeEnum(8,et)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return c.Message.getWrapperField(this,Z.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return c.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return c.Message.getWrapperField(this,Z.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(s){return c.Message.setWrapperField(this,2,s)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return c.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return c.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(s){return c.Message.setProto3StringField(this,3,s)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return c.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(s){return c.Message.setProto3StringField(this,4,s)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return c.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(s){return c.Message.setProto3StringField(this,5,s)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return c.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(s){return c.Message.setProto3StringField(this,6,s)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return c.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(s){return c.Message.setProto3StringField(this,7,s)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return c.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(s){return c.Message.setProto3EnumField(this,8,s)},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(s){return proto.v1.signaling.api.CreatePeerRequest.toObject(s,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(s,$){},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(s){return proto.v1.signaling.api.CreatePeerResponse.toObject(s,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(s,$){var et,ut={peer:(et=$.getPeer())&&proto.v1.signaling.api.Peer.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Peer;$.readMessage(et,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),s.setPeer(et);break;default:$.skipField()}return s},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeer())!=null&&$.writeMessage(1,et,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return c.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return c.Message.getField(this,1)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(s){return proto.v1.signaling.api.DeletePeerRequest.toObject(s,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(s,$){var et={peerId:c.Message.getFieldWithDefault($,1,"")};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=$.readString();s.setPeerId(et);break;default:$.skipField()}return s},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeerId()).length>0&&$.writeString(1,et)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(s){return c.Message.setProto3StringField(this,1,s)},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(s){return proto.v1.signaling.api.DeletePeerResponse.toObject(s,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(s,$){},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(s){return proto.v1.signaling.api.RefreshPeerRequest.toObject(s,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(s,$){var et,ut={peer:(et=$.getPeer())&&proto.v1.signaling.api.Peer.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Peer;$.readMessage(et,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),s.setPeer(et);break;default:$.skipField()}return s},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeer())!=null&&$.writeMessage(1,et,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return c.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return c.Message.getField(this,1)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(s){return proto.v1.signaling.api.RefreshPeerResponse.toObject(s,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(s,$){},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(s){return proto.v1.signaling.api.GetPeersRequest.toObject(s,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(s,$){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(s){return proto.v1.signaling.api.GetPeersResponse.toObject(s,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(s,$){var et={peersList:c.Message.toObjectList($.getPeersList(),proto.v1.signaling.api.Peer.toObject,s)};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Peer;$.readMessage(et,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),s.addPeers(et);break;default:$.skipField()}return s},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeersList()).length>0&&$.writeRepeatedMessage(1,et,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return c.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(s){return c.Message.setRepeatedWrapperField(this,1,s)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(s,$){return c.Message.addToRepeatedWrapperField(this,1,s,proto.v1.signaling.api.Peer,$)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(s){return proto.v1.signaling.api.GetIceServersRequest.toObject(s,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(s,$){},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(s){return proto.v1.signaling.api.GetIceServersResponse.toObject(s,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(s,$){var et={iceServers:c.Message.getFieldWithDefault($,1,"")};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=$.readString();s.setIceServers(et);break;default:$.skipField()}return s},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(s,$){var et;(et=s.getIceServers()).length>0&&$.writeString(1,et)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(s){return c.Message.setProto3StringField(this,1,s)},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(s){return proto.v1.signaling.api.SendSignalRequest.toObject(s,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(s,$){var et,ut={signal:(et=$.getSignal())&&proto.v1.signaling.api.Signal.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Signal;$.readMessage(et,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),s.setSignal(et);break;default:$.skipField()}return s},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(s,$){var et;(et=s.getSignal())!=null&&$.writeMessage(1,et,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return c.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return c.Message.getField(this,1)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(s){return proto.v1.signaling.api.SendSignalResponse.toObject(s,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(s,$){var et,ut={sessionId:(et=$.getSessionId())&&Z.StringValue.toObject(s,et),sessionCreatedTimestamp:(et=$.getSessionCreatedTimestamp())&&Z.Int64Value.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new Z.StringValue;$.readMessage(et,Z.StringValue.deserializeBinaryFromReader),s.setSessionId(et);break;case 2:et=new Z.Int64Value,$.readMessage(et,Z.Int64Value.deserializeBinaryFromReader),s.setSessionCreatedTimestamp(et);break;default:$.skipField()}return s},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(s,$){var et=void 0;(et=s.getSessionId())!=null&&$.writeMessage(1,et,Z.StringValue.serializeBinaryToWriter),(et=s.getSessionCreatedTimestamp())!=null&&$.writeMessage(2,et,Z.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return c.Message.getWrapperField(this,Z.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return c.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return c.Message.getWrapperField(this,Z.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(s){return c.Message.setWrapperField(this,2,s)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return c.Message.getField(this,2)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(s){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(s,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(s,$){var et={peerId:c.Message.getFieldWithDefault($,1,"")};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=$.readString();s.setPeerId(et);break;default:$.skipField()}return s},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeerId()).length>0&&$.writeString(1,et)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(s){return c.Message.setProto3StringField(this,1,s)},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(s){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(s,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(s,$){var et,ut={signal:(et=$.getSignal())&&proto.v1.signaling.api.Signal.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Signal;$.readMessage(et,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),s.setSignal(et);break;default:$.skipField()}return s},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(s,$){var et;(et=s.getSignal())!=null&&$.writeMessage(1,et,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return c.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return c.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2},d.object.extend(i,proto.v1.signaling.api)},function(e,i,o){function c(lt){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft})(lt)}function d(lt,ft){return!ft||c(ft)!=="object"&&typeof ft!="function"?j(lt):ft}function j(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}function Z(lt){var ft=typeof Map=="function"?new Map:void 0;return(Z=function(ot){if(ot===null||(yt=ot,Function.toString.call(yt).indexOf("[native code]")===-1))return ot;var yt;if(typeof ot!="function")throw new TypeError("Super expression must either be null or a function");if(ft!==void 0){if(ft.has(ot))return ft.get(ot);ft.set(ot,wt)}function wt(){return s(ot,arguments,ut(this).constructor)}return wt.prototype=Object.create(ot.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),et(wt,ot)})(lt)}function s(lt,ft,ot){return(s=$()?Reflect.construct:function(yt,wt,Rt){var Mt=[null];Mt.push.apply(Mt,wt);var Tt=new(Function.bind.apply(yt,Mt));return Rt&&et(Tt,Rt.prototype),Tt}).apply(null,arguments)}function $(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function et(lt,ft){return(et=Object.setPrototypeOf||function(ot,yt){return ot.__proto__=yt,ot})(lt,ft)}function ut(lt){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(ft){return ft.__proto__||Object.getPrototypeOf(ft)})(lt)}var gt=function(lt){(function(Rt,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function");Rt.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:Rt,writable:!0,configurable:!0}}),Mt&&et(Rt,Mt)})(wt,lt);var ft,ot,yt=(ft=wt,ot=$(),function(){var Rt,Mt=ut(ft);if(ot){var Tt=ut(this).constructor;Rt=Reflect.construct(Mt,arguments,Tt)}else Rt=Mt.apply(this,arguments);return d(this,Rt)});function wt(Rt){var Mt;return function(Tt,Ct){if(!(Tt instanceof Ct))throw new TypeError("Cannot call a class as a function")}(this,wt),Mt=yt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(Rt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(j(Mt),wt),Mt}return wt}(Z(Error));e.exports=function(lt){if(lt.length>2)throw new gt(lt);function ft(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=yt}function ot(yt){return new ft(yt)}return ft.prototype.transform=lt,ot.Format=ft,ot}},function(e,i,o){(function(c){var d=Object.getOwnPropertyDescriptors||function(St){for(var Dt=Object.keys(St),Nt={},_t=0;_t<Dt.length;_t++)Nt[Dt[_t]]=Object.getOwnPropertyDescriptor(St,Dt[_t]);return Nt},j=/%[sdj%]/g;i.format=function(St){if(!Mt(St)){for(var Dt=[],Nt=0;Nt<arguments.length;Nt++)Dt.push($(arguments[Nt]));return Dt.join(" ")}Nt=1;for(var _t=arguments,at=_t.length,Bt=String(St).replace(j,function(Qt){if(Qt==="%%")return"%";if(Nt>=at)return Qt;switch(Qt){case"%s":return String(_t[Nt++]);case"%d":return Number(_t[Nt++]);case"%j":try{return JSON.stringify(_t[Nt++])}catch{return"[Circular]"}default:return Qt}}),Vt=_t[Nt];Nt<at;Vt=_t[++Nt])wt(Vt)||!ct(Vt)?Bt+=" "+Vt:Bt+=" "+$(Vt);return Bt},i.deprecate=function(St,Dt){if(c!==void 0&&c.noDeprecation===!0)return St;if(c===void 0)return function(){return i.deprecate(St,Dt).apply(this,arguments)};var Nt=!1;return function(){if(!Nt){if(c.throwDeprecation)throw new Error(Dt);c.traceDeprecation?console.trace(Dt):console.error(Dt),Nt=!0}return St.apply(this,arguments)}};var Z,s={};function $(St,Dt){var Nt={seen:[],stylize:ut};return arguments.length>=3&&(Nt.depth=arguments[2]),arguments.length>=4&&(Nt.colors=arguments[3]),yt(Dt)?Nt.showHidden=Dt:Dt&&i._extend(Nt,Dt),Tt(Nt.showHidden)&&(Nt.showHidden=!1),Tt(Nt.depth)&&(Nt.depth=2),Tt(Nt.colors)&&(Nt.colors=!1),Tt(Nt.customInspect)&&(Nt.customInspect=!0),Nt.colors&&(Nt.stylize=et),gt(Nt,St,Nt.depth)}function et(St,Dt){var Nt=$.styles[Dt];return Nt?"\x1B["+$.colors[Nt][0]+"m"+St+"\x1B["+$.colors[Nt][1]+"m":St}function ut(St,Dt){return St}function gt(St,Dt,Nt){if(St.customInspect&&Dt&&Yt(Dt.inspect)&&Dt.inspect!==i.inspect&&(!Dt.constructor||Dt.constructor.prototype!==Dt)){var _t=Dt.inspect(Nt,St);return Mt(_t)||(_t=gt(St,_t,Nt)),_t}var at=function(At,It){if(Tt(It))return At.stylize("undefined","undefined");if(Mt(It)){var Ht="'"+JSON.stringify(It).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return At.stylize(Ht,"string")}return Rt(It)?At.stylize(""+It,"number"):yt(It)?At.stylize(""+It,"boolean"):wt(It)?At.stylize("null","null"):void 0}(St,Dt);if(at)return at;var Bt,Vt=Object.keys(Dt),Qt=(Bt={},Vt.forEach(function(At,It){Bt[At]=!0}),Bt);if(St.showHidden&&(Vt=Object.getOwnPropertyNames(Dt)),Kt(Dt)&&(Vt.indexOf("message")>=0||Vt.indexOf("description")>=0))return lt(Dt);if(Vt.length===0){if(Yt(Dt)){var or=Dt.name?": "+Dt.name:"";return St.stylize("[Function"+or+"]","special")}if(Ct(Dt))return St.stylize(RegExp.prototype.toString.call(Dt),"regexp");if(Lt(Dt))return St.stylize(Date.prototype.toString.call(Dt),"date");if(Kt(Dt))return lt(Dt)}var ar,qt="",Gt=!1,vt=["{","}"];return ot(Dt)&&(Gt=!0,vt=["[","]"]),Yt(Dt)&&(qt=" [Function"+(Dt.name?": "+Dt.name:"")+"]"),Ct(Dt)&&(qt=" "+RegExp.prototype.toString.call(Dt)),Lt(Dt)&&(qt=" "+Date.prototype.toUTCString.call(Dt)),Kt(Dt)&&(qt=" "+lt(Dt)),Vt.length!==0||Gt&&Dt.length!=0?Nt<0?Ct(Dt)?St.stylize(RegExp.prototype.toString.call(Dt),"regexp"):St.stylize("[Object]","special"):(St.seen.push(Dt),ar=Gt?function(At,It,Ht,Zt,rr){for(var pr=[],_r=0,ir=It.length;_r<ir;++_r)jt(It,String(_r))?pr.push(ft(At,It,Ht,Zt,String(_r),!0)):pr.push("");return rr.forEach(function(cr){cr.match(/^\d+$/)||pr.push(ft(At,It,Ht,Zt,cr,!0))}),pr}(St,Dt,Nt,Qt,Vt):Vt.map(function(At){return ft(St,Dt,Nt,Qt,At,Gt)}),St.seen.pop(),function(At,It,Ht){return At.reduce(function(Zt,rr){return rr.indexOf(`
`),Zt+rr.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?Ht[0]+(It===""?"":It+`
 `)+" "+At.join(`,
  `)+" "+Ht[1]:Ht[0]+It+" "+At.join(", ")+" "+Ht[1]}(ar,qt,vt)):vt[0]+qt+vt[1]}function lt(St){return"["+Error.prototype.toString.call(St)+"]"}function ft(St,Dt,Nt,_t,at,Bt){var Vt,Qt,or;if((or=Object.getOwnPropertyDescriptor(Dt,at)||{value:Dt[at]}).get?Qt=or.set?St.stylize("[Getter/Setter]","special"):St.stylize("[Getter]","special"):or.set&&(Qt=St.stylize("[Setter]","special")),jt(_t,at)||(Vt="["+at+"]"),Qt||(St.seen.indexOf(or.value)<0?(Qt=wt(Nt)?gt(St,or.value,null):gt(St,or.value,Nt-1)).indexOf(`
`)>-1&&(Qt=Bt?Qt.split(`
`).map(function(ar){return"  "+ar}).join(`
`).substr(2):`
`+Qt.split(`
`).map(function(ar){return"   "+ar}).join(`
`)):Qt=St.stylize("[Circular]","special")),Tt(Vt)){if(Bt&&at.match(/^\d+$/))return Qt;(Vt=JSON.stringify(""+at)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Vt=Vt.substr(1,Vt.length-2),Vt=St.stylize(Vt,"name")):(Vt=Vt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Vt=St.stylize(Vt,"string"))}return Vt+": "+Qt}function ot(St){return Array.isArray(St)}function yt(St){return typeof St=="boolean"}function wt(St){return St===null}function Rt(St){return typeof St=="number"}function Mt(St){return typeof St=="string"}function Tt(St){return St===void 0}function Ct(St){return ct(St)&&pt(St)==="[object RegExp]"}function ct(St){return typeof St=="object"&&St!==null}function Lt(St){return ct(St)&&pt(St)==="[object Date]"}function Kt(St){return ct(St)&&(pt(St)==="[object Error]"||St instanceof Error)}function Yt(St){return typeof St=="function"}function pt(St){return Object.prototype.toString.call(St)}function dt(St){return St<10?"0"+St.toString(10):St.toString(10)}i.debuglog=function(St){if(Tt(Z)&&(Z=c.env.NODE_DEBUG||""),St=St.toUpperCase(),!s[St])if(new RegExp("\\b"+St+"\\b","i").test(Z)){var Dt=c.pid;s[St]=function(){var Nt=i.format.apply(i,arguments);console.error("%s %d: %s",St,Dt,Nt)}}else s[St]=function(){};return s[St]},i.inspect=$,$.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=ot,i.isBoolean=yt,i.isNull=wt,i.isNullOrUndefined=function(St){return St==null},i.isNumber=Rt,i.isString=Mt,i.isSymbol=function(St){return typeof St=="symbol"},i.isUndefined=Tt,i.isRegExp=Ct,i.isObject=ct,i.isDate=Lt,i.isError=Kt,i.isFunction=Yt,i.isPrimitive=function(St){return St===null||typeof St=="boolean"||typeof St=="number"||typeof St=="string"||typeof St=="symbol"||St===void 0},i.isBuffer=o(106);var bt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function mt(){var St=new Date,Dt=[dt(St.getHours()),dt(St.getMinutes()),dt(St.getSeconds())].join(":");return[St.getDate(),bt[St.getMonth()],Dt].join(" ")}function jt(St,Dt){return Object.prototype.hasOwnProperty.call(St,Dt)}i.log=function(){console.log("%s - %s",mt(),i.format.apply(i,arguments))},i.inherits=o(107),i._extend=function(St,Dt){if(!Dt||!ct(Dt))return St;for(var Nt=Object.keys(Dt),_t=Nt.length;_t--;)St[Nt[_t]]=Dt[Nt[_t]];return St};var zt=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function kt(St,Dt){if(!St){var Nt=new Error("Promise was rejected with a falsy value");Nt.reason=St,St=Nt}return Dt(St)}i.promisify=function(St){if(typeof St!="function")throw new TypeError('The "original" argument must be of type Function');if(zt&&St[zt]){var Dt;if(typeof(Dt=St[zt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Dt,zt,{value:Dt,enumerable:!1,writable:!1,configurable:!0}),Dt}function Dt(){for(var Nt,_t,at=new Promise(function(Qt,or){Nt=Qt,_t=or}),Bt=[],Vt=0;Vt<arguments.length;Vt++)Bt.push(arguments[Vt]);Bt.push(function(Qt,or){Qt?_t(Qt):Nt(or)});try{St.apply(this,Bt)}catch(Qt){_t(Qt)}return at}return Object.setPrototypeOf(Dt,Object.getPrototypeOf(St)),zt&&Object.defineProperty(Dt,zt,{value:Dt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Dt,d(St))},i.promisify.custom=zt,i.callbackify=function(St){if(typeof St!="function")throw new TypeError('The "original" argument must be of type Function');function Dt(){for(var Nt=[],_t=0;_t<arguments.length;_t++)Nt.push(arguments[_t]);var at=Nt.pop();if(typeof at!="function")throw new TypeError("The last argument must be of type Function");var Bt=this,Vt=function(){return at.apply(Bt,arguments)};St.apply(this,Nt).then(function(Qt){c.nextTick(Vt,null,Qt)},function(Qt){c.nextTick(kt,Qt,Vt)})}return Object.setPrototypeOf(Dt,Object.getPrototypeOf(St)),Object.defineProperties(Dt,d(St)),Dt}}).call(this,o(2))},function(e,i,o){o.d(i,"a",function(){return c});const c=d=>new Promise(j=>setTimeout(j,d||0))},function(e,i,o){(function(c){var d=c!==void 0&&c||typeof self!="undefined"&&self||window,j=Function.prototype.apply;function Z(s,$){this._id=s,this._clearFn=$}i.setTimeout=function(){return new Z(j.call(setTimeout,d,arguments),clearTimeout)},i.setInterval=function(){return new Z(j.call(setInterval,d,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(s){s&&s.close()},Z.prototype.unref=Z.prototype.ref=function(){},Z.prototype.close=function(){this._clearFn.call(d,this._id)},i.enroll=function(s,$){clearTimeout(s._idleTimeoutId),s._idleTimeout=$},i.unenroll=function(s){clearTimeout(s._idleTimeoutId),s._idleTimeout=-1},i._unrefActive=i.active=function(s){clearTimeout(s._idleTimeoutId);var $=s._idleTimeout;$>=0&&(s._idleTimeoutId=setTimeout(function(){s._onTimeout&&s._onTimeout()},$))},o(140),i.setImmediate=typeof self!="undefined"&&self.setImmediate||c!==void 0&&c.setImmediate||this&&this.setImmediate,i.clearImmediate=typeof self!="undefined"&&self.clearImmediate||c!==void 0&&c.clearImmediate||this&&this.clearImmediate}).call(this,o(5))},function(e,i,o){(function(c){c===void 0||!c.version||c.version.indexOf("v0.")===0||c.version.indexOf("v1.")===0&&c.version.indexOf("v1.8.")!==0?e.exports={nextTick:function(d,j,Z,s){if(typeof d!="function")throw new TypeError('"callback" argument must be a function');var $,et,ut=arguments.length;switch(ut){case 0:case 1:return c.nextTick(d);case 2:return c.nextTick(function(){d.call(null,j)});case 3:return c.nextTick(function(){d.call(null,j,Z)});case 4:return c.nextTick(function(){d.call(null,j,Z,s)});default:for($=new Array(ut-1),et=0;et<$.length;)$[et++]=arguments[et];return c.nextTick(function(){d.apply(null,$)})}}}:e.exports=c}).call(this,o(2))},function(e,i,o){(function(c){function d(j){return Object.prototype.toString.call(j)}i.isArray=function(j){return Array.isArray?Array.isArray(j):d(j)==="[object Array]"},i.isBoolean=function(j){return typeof j=="boolean"},i.isNull=function(j){return j===null},i.isNullOrUndefined=function(j){return j==null},i.isNumber=function(j){return typeof j=="number"},i.isString=function(j){return typeof j=="string"},i.isSymbol=function(j){return typeof j=="symbol"},i.isUndefined=function(j){return j===void 0},i.isRegExp=function(j){return d(j)==="[object RegExp]"},i.isObject=function(j){return typeof j=="object"&&j!==null},i.isDate=function(j){return d(j)==="[object Date]"},i.isError=function(j){return d(j)==="[object Error]"||j instanceof Error},i.isFunction=function(j){return typeof j=="function"},i.isPrimitive=function(j){return j===null||typeof j=="boolean"||typeof j=="number"||typeof j=="string"||typeof j=="symbol"||j===void 0},i.isBuffer=c.isBuffer}).call(this,o(4).Buffer)},function(e,i){i.endianness=function(){return"LE"},i.hostname=function(){return typeof location!="undefined"?location.hostname:""},i.loadavg=function(){return[]},i.uptime=function(){return 0},i.freemem=function(){return Number.MAX_VALUE},i.totalmem=function(){return Number.MAX_VALUE},i.cpus=function(){return[]},i.type=function(){return"Browser"},i.release=function(){return typeof navigator!="undefined"?navigator.appVersion:""},i.networkInterfaces=i.getNetworkInterfaces=function(){return{}},i.arch=function(){return"javascript"},i.platform=function(){return"browser"},i.tmpdir=i.tmpDir=function(){return"/tmp"},i.EOL=`
`,i.homedir=function(){return"/"}},function(e,i,o){var c=o(56),d=o(59).warn,j=i;j.version=o(137).version,j.transports=o(138),j.config=o(47),j.addColors=c.levels,j.format=c.format,j.createLogger=o(85),j.ExceptionHandler=o(86),j.RejectionHandler=o(90),j.Container=o(209),j.Transport=o(17),j.loggers=new j.Container;var Z=j.createLogger();Object.keys(j.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(s){return j[s]=function(){return Z[s].apply(Z,arguments)}}),Object.defineProperty(j,"level",{get:function(){return Z.level},set:function(s){Z.level=s}}),Object.defineProperty(j,"exceptions",{get:function(){return Z.exceptions}}),["exitOnError"].forEach(function(s){Object.defineProperty(j,s,{get:function(){return Z[s]},set:function($){Z[s]=$}})}),Object.defineProperty(j,"default",{get:function(){return{exceptionHandlers:Z.exceptionHandlers,rejectionHandlers:Z.rejectionHandlers,transports:Z.transports}}}),d.deprecated(j,"setLevels"),d.forFunctions(j,"useFormat",["cli"]),d.forProperties(j,"useFormat",["padLevels","stripColors"]),d.forFunctions(j,"deprecated",["addRewriter","addFilter","clone","extend"]),d.forProperties(j,"deprecated",["emitErrs","levelLength"]),d.moved(j,"createLogger","Logger")},function(e,i,o){var c=o(10),d=o(141),j=o(3).LEVEL,Z=e.exports=function(){var s=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d.call(this,{objectMode:!0,highWaterMark:$.highWaterMark}),this.format=$.format,this.level=$.level,this.handleExceptions=$.handleExceptions,this.handleRejections=$.handleRejections,this.silent=$.silent,$.log&&(this.log=$.log),$.logv&&(this.logv=$.logv),$.close&&(this.close=$.close),this.once("pipe",function(et){s.levels=et.levels,s.parent=et}),this.once("unpipe",function(et){et===s.parent&&(s.parent=null,s.close&&s.close())})};c.inherits(Z,d),Z.prototype._write=function(s,$,et){if(this.silent||s.exception===!0&&!this.handleExceptions)return et(null);var ut=this.level||this.parent&&this.parent.level;if(!ut||this.levels[ut]>=this.levels[s[j]]){if(s&&!this.format)return this.log(s,et);var gt=void 0,lt=void 0;try{lt=this.format.transform(Object.assign({},s),this.format.options)}catch(ft){gt=ft}if(gt||!lt){if(et(),gt)throw gt;return}return this.log(lt,et)}return et(null)},Z.prototype._writev=function(s,$){if(this.logv){var et=s.filter(this._accept,this);return et.length?this.logv(et,$):$(null)}for(var ut=0;ut<s.length;ut++)if(this._accept(s[ut]))if(!s[ut].chunk||this.format){var gt=void 0,lt=void 0;try{lt=this.format.transform(Object.assign({},s[ut].chunk),this.format.options)}catch(ft){gt=ft}if(gt||!lt){if(s[ut].callback(),gt)throw $(null),gt}else this.log(lt,s[ut].callback)}else this.log(s[ut].chunk,s[ut].callback);return $(null)},Z.prototype._accept=function(s){var $=s.chunk;if(this.silent)return!1;var et=this.level||this.parent&&this.parent.level;return!($.exception!==!0&&et&&!(this.levels[et]>=this.levels[$[j]])||!this.handleExceptions&&$.exception===!0)},Z.prototype._nop=function(){},e.exports.LegacyTransportStream=o(147)},function(e,i,o){var c,d=typeof Reflect=="object"?Reflect:null,j=d&&typeof d.apply=="function"?d.apply:function(wt,Rt,Mt){return Function.prototype.apply.call(wt,Rt,Mt)};c=d&&typeof d.ownKeys=="function"?d.ownKeys:Object.getOwnPropertySymbols?function(wt){return Object.getOwnPropertyNames(wt).concat(Object.getOwnPropertySymbols(wt))}:function(wt){return Object.getOwnPropertyNames(wt)};var Z=Number.isNaN||function(wt){return wt!=wt};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var $=10;function et(wt){return wt._maxListeners===void 0?s.defaultMaxListeners:wt._maxListeners}function ut(wt,Rt,Mt,Tt){var Ct,ct,Lt,Kt;if(typeof Mt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Mt);if((ct=wt._events)===void 0?(ct=wt._events=Object.create(null),wt._eventsCount=0):(ct.newListener!==void 0&&(wt.emit("newListener",Rt,Mt.listener?Mt.listener:Mt),ct=wt._events),Lt=ct[Rt]),Lt===void 0)Lt=ct[Rt]=Mt,++wt._eventsCount;else if(typeof Lt=="function"?Lt=ct[Rt]=Tt?[Mt,Lt]:[Lt,Mt]:Tt?Lt.unshift(Mt):Lt.push(Mt),(Ct=et(wt))>0&&Lt.length>Ct&&!Lt.warned){Lt.warned=!0;var Yt=new Error("Possible EventEmitter memory leak detected. "+Lt.length+" "+String(Rt)+" listeners added. Use emitter.setMaxListeners() to increase limit");Yt.name="MaxListenersExceededWarning",Yt.emitter=wt,Yt.type=Rt,Yt.count=Lt.length,Kt=Yt,console&&console.warn&&console.warn(Kt)}return wt}function gt(){for(var wt=[],Rt=0;Rt<arguments.length;Rt++)wt.push(arguments[Rt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,j(this.listener,this.target,wt))}function lt(wt,Rt,Mt){var Tt={fired:!1,wrapFn:void 0,target:wt,type:Rt,listener:Mt},Ct=gt.bind(Tt);return Ct.listener=Mt,Tt.wrapFn=Ct,Ct}function ft(wt,Rt,Mt){var Tt=wt._events;if(Tt===void 0)return[];var Ct=Tt[Rt];return Ct===void 0?[]:typeof Ct=="function"?Mt?[Ct.listener||Ct]:[Ct]:Mt?function(ct){for(var Lt=new Array(ct.length),Kt=0;Kt<Lt.length;++Kt)Lt[Kt]=ct[Kt].listener||ct[Kt];return Lt}(Ct):yt(Ct,Ct.length)}function ot(wt){var Rt=this._events;if(Rt!==void 0){var Mt=Rt[wt];if(typeof Mt=="function")return 1;if(Mt!==void 0)return Mt.length}return 0}function yt(wt,Rt){for(var Mt=new Array(Rt),Tt=0;Tt<Rt;++Tt)Mt[Tt]=wt[Tt];return Mt}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return $},set:function(wt){if(typeof wt!="number"||wt<0||Z(wt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+wt+".");$=wt}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(wt){if(typeof wt!="number"||wt<0||Z(wt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+wt+".");return this._maxListeners=wt,this},s.prototype.getMaxListeners=function(){return et(this)},s.prototype.emit=function(wt){for(var Rt=[],Mt=1;Mt<arguments.length;Mt++)Rt.push(arguments[Mt]);var Tt=wt==="error",Ct=this._events;if(Ct!==void 0)Tt=Tt&&Ct.error===void 0;else if(!Tt)return!1;if(Tt){var ct;if(Rt.length>0&&(ct=Rt[0]),ct instanceof Error)throw ct;var Lt=new Error("Unhandled error."+(ct?" ("+ct.message+")":""));throw Lt.context=ct,Lt}var Kt=Ct[wt];if(Kt===void 0)return!1;if(typeof Kt=="function")j(Kt,this,Rt);else{var Yt=Kt.length,pt=yt(Kt,Yt);for(Mt=0;Mt<Yt;++Mt)j(pt[Mt],this,Rt)}return!0},s.prototype.addListener=function(wt,Rt){return ut(this,wt,Rt,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(wt,Rt){return ut(this,wt,Rt,!0)},s.prototype.once=function(wt,Rt){if(typeof Rt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Rt);return this.on(wt,lt(this,wt,Rt)),this},s.prototype.prependOnceListener=function(wt,Rt){if(typeof Rt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Rt);return this.prependListener(wt,lt(this,wt,Rt)),this},s.prototype.removeListener=function(wt,Rt){var Mt,Tt,Ct,ct,Lt;if(typeof Rt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Rt);if((Tt=this._events)===void 0)return this;if((Mt=Tt[wt])===void 0)return this;if(Mt===Rt||Mt.listener===Rt)--this._eventsCount==0?this._events=Object.create(null):(delete Tt[wt],Tt.removeListener&&this.emit("removeListener",wt,Mt.listener||Rt));else if(typeof Mt!="function"){for(Ct=-1,ct=Mt.length-1;ct>=0;ct--)if(Mt[ct]===Rt||Mt[ct].listener===Rt){Lt=Mt[ct].listener,Ct=ct;break}if(Ct<0)return this;Ct===0?Mt.shift():function(Kt,Yt){for(;Yt+1<Kt.length;Yt++)Kt[Yt]=Kt[Yt+1];Kt.pop()}(Mt,Ct),Mt.length===1&&(Tt[wt]=Mt[0]),Tt.removeListener!==void 0&&this.emit("removeListener",wt,Lt||Rt)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(wt){var Rt,Mt,Tt;if((Mt=this._events)===void 0)return this;if(Mt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Mt[wt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Mt[wt]),this;if(arguments.length===0){var Ct,ct=Object.keys(Mt);for(Tt=0;Tt<ct.length;++Tt)(Ct=ct[Tt])!=="removeListener"&&this.removeAllListeners(Ct);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Rt=Mt[wt])=="function")this.removeListener(wt,Rt);else if(Rt!==void 0)for(Tt=Rt.length-1;Tt>=0;Tt--)this.removeListener(wt,Rt[Tt]);return this},s.prototype.listeners=function(wt){return ft(this,wt,!0)},s.prototype.rawListeners=function(wt){return ft(this,wt,!1)},s.listenerCount=function(wt,Rt){return typeof wt.listenerCount=="function"?wt.listenerCount(Rt):ot.call(wt,Rt)},s.prototype.listenerCount=ot,s.prototype.eventNames=function(){return this._eventsCount>0?c(this._events):[]}},function(e,i,o){var c=o(146).Buffer,d=c.isEncoding||function(ot){switch((ot=""+ot)&&ot.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function j(ot){var yt;switch(this.encoding=function(wt){var Rt=function(Mt){if(!Mt)return"utf8";for(var Tt;;)switch(Mt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Mt;default:if(Tt)return;Mt=(""+Mt).toLowerCase(),Tt=!0}}(wt);if(typeof Rt!="string"&&(c.isEncoding===d||!d(wt)))throw new Error("Unknown encoding: "+wt);return Rt||wt}(ot),this.encoding){case"utf16le":this.text=$,this.end=et,yt=4;break;case"utf8":this.fillLast=s,yt=4;break;case"base64":this.text=ut,this.end=gt,yt=3;break;default:return this.write=lt,void(this.end=ft)}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(yt)}function Z(ot){return ot<=127?0:ot>>5==6?2:ot>>4==14?3:ot>>3==30?4:ot>>6==2?-1:-2}function s(ot){var yt=this.lastTotal-this.lastNeed,wt=function(Rt,Mt,Tt){if((192&Mt[0])!=128)return Rt.lastNeed=0,"\uFFFD";if(Rt.lastNeed>1&&Mt.length>1){if((192&Mt[1])!=128)return Rt.lastNeed=1,"\uFFFD";if(Rt.lastNeed>2&&Mt.length>2&&(192&Mt[2])!=128)return Rt.lastNeed=2,"\uFFFD"}}(this,ot);return wt!==void 0?wt:this.lastNeed<=ot.length?(ot.copy(this.lastChar,yt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ot.copy(this.lastChar,yt,0,ot.length),void(this.lastNeed-=ot.length))}function $(ot,yt){if((ot.length-yt)%2==0){var wt=ot.toString("utf16le",yt);if(wt){var Rt=wt.charCodeAt(wt.length-1);if(Rt>=55296&&Rt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ot[ot.length-2],this.lastChar[1]=ot[ot.length-1],wt.slice(0,-1)}return wt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ot[ot.length-1],ot.toString("utf16le",yt,ot.length-1)}function et(ot){var yt=ot&&ot.length?this.write(ot):"";if(this.lastNeed){var wt=this.lastTotal-this.lastNeed;return yt+this.lastChar.toString("utf16le",0,wt)}return yt}function ut(ot,yt){var wt=(ot.length-yt)%3;return wt===0?ot.toString("base64",yt):(this.lastNeed=3-wt,this.lastTotal=3,wt===1?this.lastChar[0]=ot[ot.length-1]:(this.lastChar[0]=ot[ot.length-2],this.lastChar[1]=ot[ot.length-1]),ot.toString("base64",yt,ot.length-wt))}function gt(ot){var yt=ot&&ot.length?this.write(ot):"";return this.lastNeed?yt+this.lastChar.toString("base64",0,3-this.lastNeed):yt}function lt(ot){return ot.toString(this.encoding)}function ft(ot){return ot&&ot.length?this.write(ot):""}i.StringDecoder=j,j.prototype.write=function(ot){if(ot.length===0)return"";var yt,wt;if(this.lastNeed){if((yt=this.fillLast(ot))===void 0)return"";wt=this.lastNeed,this.lastNeed=0}else wt=0;return wt<ot.length?yt?yt+this.text(ot,wt):this.text(ot,wt):yt||""},j.prototype.end=function(ot){var yt=ot&&ot.length?this.write(ot):"";return this.lastNeed?yt+"\uFFFD":yt},j.prototype.text=function(ot,yt){var wt=function(Mt,Tt,Ct){var ct=Tt.length-1;if(ct<Ct)return 0;var Lt=Z(Tt[ct]);return Lt>=0?(Lt>0&&(Mt.lastNeed=Lt-1),Lt):--ct<Ct||Lt===-2?0:(Lt=Z(Tt[ct]))>=0?(Lt>0&&(Mt.lastNeed=Lt-2),Lt):--ct<Ct||Lt===-2?0:(Lt=Z(Tt[ct]))>=0?(Lt>0&&(Lt===2?Lt=0:Mt.lastNeed=Lt-3),Lt):0}(this,ot,yt);if(!this.lastNeed)return ot.toString("utf8",yt);this.lastTotal=wt;var Rt=ot.length-(wt-this.lastNeed);return ot.copy(this.lastChar,0,Rt),ot.toString("utf8",yt,Rt)},j.prototype.fillLast=function(ot){if(this.lastNeed<=ot.length)return ot.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ot.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ot.length),this.lastNeed-=ot.length}},function(e,i,o){var c=o(13),d=Object.keys||function(ot){var yt=[];for(var wt in ot)yt.push(wt);return yt};e.exports=gt;var j=o(14);j.inherits=o(6);var Z=o(67),s=o(44);j.inherits(gt,Z);for(var $=d(s.prototype),et=0;et<$.length;et++){var ut=$[et];gt.prototype[ut]||(gt.prototype[ut]=s.prototype[ut])}function gt(ot){if(!(this instanceof gt))return new gt(ot);Z.call(this,ot),s.call(this,ot),ot&&ot.readable===!1&&(this.readable=!1),ot&&ot.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ot&&ot.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",lt)}function lt(){this.allowHalfOpen||this._writableState.ended||c.nextTick(ft,this)}function ft(ot){ot.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ot){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ot,this._writableState.destroyed=ot)}}),gt.prototype._destroy=function(ot,yt){this.push(null),this.end(),c.nextTick(yt,ot)}},function(e,i,o){e.exports=function(c,d){d||(d={}),typeof d=="function"&&(d={cmp:d});var j,Z=typeof d.cycles=="boolean"&&d.cycles,s=d.cmp&&(j=d.cmp,function(et){return function(ut,gt){var lt={key:ut,value:et[ut]},ft={key:gt,value:et[gt]};return j(lt,ft)}}),$=[];return function et(ut){if(ut&&ut.toJSON&&typeof ut.toJSON=="function"&&(ut=ut.toJSON()),ut!==void 0){if(typeof ut=="number")return isFinite(ut)?""+ut:"null";if(typeof ut!="object")return JSON.stringify(ut);var gt,lt;if(Array.isArray(ut)){for(lt="[",gt=0;gt<ut.length;gt++)gt&&(lt+=","),lt+=et(ut[gt])||"null";return lt+"]"}if(ut===null)return"null";if($.indexOf(ut)!==-1){if(Z)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var ft=$.push(ut)-1,ot=Object.keys(ut).sort(s&&s(ut));for(lt="",gt=0;gt<ot.length;gt++){var yt=ot[gt],wt=et(ut[yt]);wt&&(lt&&(lt+=","),lt+=JSON.stringify(yt)+":"+wt)}return $.splice(ft,1),"{"+lt+"}"}}(c)}},function(e,i,o){(function(c){function d(lr){var vr=0;return function(){return vr<lr.length?{done:!1,value:lr[vr++]}:{done:!0}}}var j=typeof Object.defineProperties=="function"?Object.defineProperty:function(lr,vr,Pr){lr!=Array.prototype&&lr!=Object.prototype&&(lr[vr]=Pr.value)},Z=function(lr){lr=[typeof window=="object"&&window,typeof self=="object"&&self,typeof c=="object"&&c,lr];for(var vr=0;vr<lr.length;++vr){var Pr=lr[vr];if(Pr&&Pr.Math==Math)return Pr}throw Error("Cannot find global object")}(this);function s(lr,vr){if(vr){var Pr=Z;lr=lr.split(".");for(var $r=0;$r<lr.length-1;$r++){var cn=lr[$r];cn in Pr||(Pr[cn]={}),Pr=Pr[cn]}(vr=vr($r=Pr[lr=lr[lr.length-1]]))!=$r&&vr!=null&&j(Pr,lr,{configurable:!0,writable:!0,value:vr})}}function $(lr){var vr=typeof Symbol!="undefined"&&Symbol.iterator&&lr[Symbol.iterator];return vr?vr.call(lr):{next:d(lr)}}s("Object.is",function(lr){return lr||function(vr,Pr){return vr===Pr?vr!==0||1/vr==1/Pr:vr!=vr&&Pr!=Pr}}),s("Array.prototype.includes",function(lr){return lr||function(vr,Pr){var $r=this;$r instanceof String&&($r=String($r));var cn=$r.length;for(0>(Pr=Pr||0)&&(Pr=Math.max(Pr+cn,0));Pr<cn;Pr++){var An=$r[Pr];if(An===vr||Object.is(An,vr))return!0}return!1}}),s("Promise",function(lr){function vr(wn){this.b=0,this.c=void 0,this.a=[];var gn=this.f();try{wn(gn.resolve,gn.reject)}catch(Xt){gn.reject(Xt)}}function Pr(){this.a=null}function $r(wn){return wn instanceof vr?wn:new vr(function(gn){gn(wn)})}if(lr)return lr;Pr.prototype.b=function(wn){if(this.a==null){this.a=[];var gn=this;this.c(function(){gn.g()})}this.a.push(wn)};var cn=Z.setTimeout;Pr.prototype.c=function(wn){cn(wn,0)},Pr.prototype.g=function(){for(;this.a&&this.a.length;){var wn=this.a;this.a=[];for(var gn=0;gn<wn.length;++gn){var Xt=wn[gn];wn[gn]=null;try{Xt()}catch(hr){this.f(hr)}}}this.a=null},Pr.prototype.f=function(wn){this.c(function(){throw wn})},vr.prototype.f=function(){function wn(hr){return function(Sr){Xt||(Xt=!0,hr.call(gn,Sr))}}var gn=this,Xt=!1;return{resolve:wn(this.m),reject:wn(this.g)}},vr.prototype.m=function(wn){if(wn===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(wn instanceof vr)this.o(wn);else{e:switch(typeof wn){case"object":var gn=wn!=null;break e;case"function":gn=!0;break e;default:gn=!1}gn?this.l(wn):this.h(wn)}},vr.prototype.l=function(wn){var gn=void 0;try{gn=wn.then}catch(Xt){return void this.g(Xt)}typeof gn=="function"?this.u(gn,wn):this.h(wn)},vr.prototype.g=function(wn){this.i(2,wn)},vr.prototype.h=function(wn){this.i(1,wn)},vr.prototype.i=function(wn,gn){if(this.b!=0)throw Error("Cannot settle("+wn+", "+gn+"): Promise already settled in state"+this.b);this.b=wn,this.c=gn,this.j()},vr.prototype.j=function(){if(this.a!=null){for(var wn=0;wn<this.a.length;++wn)An.b(this.a[wn]);this.a=null}};var An=new Pr;return vr.prototype.o=function(wn){var gn=this.f();wn.w(gn.resolve,gn.reject)},vr.prototype.u=function(wn,gn){var Xt=this.f();try{wn.call(gn,Xt.resolve,Xt.reject)}catch(hr){Xt.reject(hr)}},vr.prototype.then=function(wn,gn){function Xt(Xr,hn){return typeof Xr=="function"?function(Fr){try{hr(Xr(Fr))}catch(nn){Sr(nn)}}:hn}var hr,Sr,zr=new vr(function(Xr,hn){hr=Xr,Sr=hn});return this.w(Xt(wn,hr),Xt(gn,Sr)),zr},vr.prototype.catch=function(wn){return this.then(void 0,wn)},vr.prototype.w=function(wn,gn){function Xt(){switch(hr.b){case 1:wn(hr.c);break;case 2:gn(hr.c);break;default:throw Error("Unexpected state: "+hr.b)}}var hr=this;this.a==null?An.b(Xt):this.a.push(Xt)},vr.resolve=$r,vr.reject=function(wn){return new vr(function(gn,Xt){Xt(wn)})},vr.race=function(wn){return new vr(function(gn,Xt){for(var hr=$(wn),Sr=hr.next();!Sr.done;Sr=hr.next())$r(Sr.value).w(gn,Xt)})},vr.all=function(wn){var gn=$(wn),Xt=gn.next();return Xt.done?$r([]):new vr(function(hr,Sr){function zr(Fr){return function(nn){Xr[Fr]=nn,--hn==0&&hr(Xr)}}var Xr=[],hn=0;do Xr.push(void 0),hn++,$r(Xt.value).w(zr(Xr.length-1),Sr),Xt=gn.next();while(!Xt.done)})},vr});var et=et||{},ut=this||self;function gt(lr,vr){lr=lr.split("."),vr=vr||ut;for(var Pr=0;Pr<lr.length;Pr++)if((vr=vr[lr[Pr]])==null)return null;return vr}function lt(){}function ft(lr){var vr=typeof lr;if(vr=="object"){if(!lr)return"null";if(lr instanceof Array)return"array";if(lr instanceof Object)return vr;var Pr=Object.prototype.toString.call(lr);if(Pr=="[object Window]")return"object";if(Pr=="[object Array]"||typeof lr.length=="number"&&lr.splice!==void 0&&lr.propertyIsEnumerable!==void 0&&!lr.propertyIsEnumerable("splice"))return"array";if(Pr=="[object Function]"||lr.call!==void 0&&lr.propertyIsEnumerable!==void 0&&!lr.propertyIsEnumerable("call"))return"function"}else if(vr=="function"&&lr.call===void 0)return"object";return vr}function ot(lr){var vr=typeof lr;return vr=="object"&&lr!=null||vr=="function"}function yt(lr,vr,Pr){return lr.call.apply(lr.bind,arguments)}function wt(lr,vr,Pr){if(!lr)throw Error();if(2<arguments.length){var $r=Array.prototype.slice.call(arguments,2);return function(){var cn=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(cn,$r),lr.apply(vr,cn)}}return function(){return lr.apply(vr,arguments)}}function Rt(lr,vr,Pr){return(Rt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yt:wt).apply(null,arguments)}function Mt(lr,vr){function Pr(){}Pr.prototype=vr.prototype,lr.S=vr.prototype,lr.prototype=new Pr,lr.prototype.constructor=lr}function Tt(){this.a={}}function Ct(lr,vr,Pr,$r){this.f=lr,this.c=vr,this.b=Pr,this.a=$r}function ct(lr,vr,Pr,$r){Pr=Pr===void 0?{}:Pr,this.c=lr,this.a=Pr,this.b=vr,this.f=$r===void 0?null:$r}function Lt(lr,vr,Pr,$r,cn,An){this.name=lr,this.a=cn,this.b=An}function Kt(lr,vr,Pr){Pr=Pr===void 0?{}:Pr;var $r=$r===void 0?new Tt:$r;return new Ct(vr,lr,Pr,$r)}function Yt(lr,vr,Pr,$r){return $r instanceof Lt?$r:new Lt(lr,Pr,$r.b||vr.constructor,$r.f,$r.a,$r.c)}function pt(lr){this.a=lr}function dt(lr){switch(lr){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function bt(lr){if(Error.captureStackTrace)Error.captureStackTrace(this,bt);else{var vr=Error().stack;vr&&(this.stack=vr)}lr&&(this.message=String(lr))}function mt(lr,vr){for(var Pr="",$r=(lr=lr.split("%s")).length-1,cn=0;cn<$r;cn++)Pr+=lr[cn]+(cn<vr.length?vr[cn]:"%s");bt.call(this,Pr+lr[$r])}function jt(){this.j=null,this.i=[],this.l=0,this.b=zt,this.f=this.a=this.h=0,this.c=null,this.g=0}Tt.prototype.get=function(lr){return this.a[lr]},Tt.prototype.f=function(){return Object.keys(this.a)},Ct.prototype.getRequestMessage=function(){return this.f},Ct.prototype.getMethodDescriptor=function(){return this.c},Ct.prototype.getMetadata=function(){return this.b},Ct.prototype.getCallOptions=function(){return this.a},ct.prototype.getResponseMessage=function(){return this.c},ct.prototype.getMetadata=function(){return this.a},ct.prototype.getMethodDescriptor=function(){return this.b},ct.prototype.getStatus=function(){return this.f},pt.prototype.on=function(lr,vr){return lr=="data"||lr=="error"?this:this.a.on(lr,vr)},pt.prototype.removeListener=function(lr,vr){return this.a.removeListener(lr,vr)},pt.prototype.cancel=function(){this.a.cancel()},Mt(bt,Error),bt.prototype.name="CustomError",Mt(mt,bt),mt.prototype.name="AssertionError";var zt=0,kt=128;function St(lr,vr,Pr,$r){throw lr.b=3,lr.j="The stream is broken @"+lr.l+"/"+Pr+". Error: "+$r+`. With input:
`+vr,Error(lr.j)}var Dt,Nt=Array.prototype.indexOf?function(lr,vr){return Array.prototype.indexOf.call(lr,vr,void 0)}:function(lr,vr){if(typeof lr=="string")return typeof vr!="string"||vr.length!=1?-1:lr.indexOf(vr,0);for(var Pr=0;Pr<lr.length;Pr++)if(Pr in lr&&lr[Pr]===vr)return Pr;return-1},_t=String.prototype.trim?function(lr){return lr.trim()}:function(lr){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(lr)[1]};function at(lr,vr){return lr.indexOf(vr)!=-1}function Bt(lr,vr){return lr<vr?-1:lr>vr?1:0}e:{var Vt=ut.navigator;if(Vt){var Qt=Vt.userAgent;if(Qt){Dt=Qt;break e}}Dt=""}var or="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ar(lr){var vr=1;lr=lr.split(":");for(var Pr=[];0<vr&&lr.length;)Pr.push(lr.shift()),vr--;return lr.length&&Pr.push(lr.join(":")),Pr}function qt(lr){return qt[" "](lr),lr}qt[" "]=lt;var Gt,vt,At=at(Dt,"Opera"),It=at(Dt,"Trident")||at(Dt,"MSIE"),Ht=at(Dt,"Edge"),Zt=at(Dt,"Gecko")&&!(at(Dt.toLowerCase(),"webkit")&&!at(Dt,"Edge"))&&!(at(Dt,"Trident")||at(Dt,"MSIE"))&&!at(Dt,"Edge"),rr=at(Dt.toLowerCase(),"webkit")&&!at(Dt,"Edge");function pr(){var lr=ut.document;return lr?lr.documentMode:void 0}e:{var _r="",ir=(vt=Dt,Zt?/rv:([^\);]+)(\)|;)/.exec(vt):Ht?/Edge\/([\d\.]+)/.exec(vt):It?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(vt):rr?/WebKit\/(\S+)/.exec(vt):At?/(?:Version)[ \/]?(\S+)/.exec(vt):void 0);if(ir&&(_r=ir?ir[1]:""),It){var cr=pr();if(cr!=null&&cr>parseFloat(_r)){Gt=String(cr);break e}}Gt=_r}var mr={};function Cr(lr){return vr=lr,Pr=mr,Object.prototype.hasOwnProperty.call(Pr,vr)?Pr[vr]:Pr[vr]=function(){for(var $r=0,cn=_t(String(Gt)).split("."),An=_t(String(lr)).split("."),wn=Math.max(cn.length,An.length),gn=0;$r==0&&gn<wn;gn++){var Xt=cn[gn]||"",hr=An[gn]||"";do{if(Xt=/(\d*)(\D*)(.*)/.exec(Xt)||["","","",""],hr=/(\d*)(\D*)(.*)/.exec(hr)||["","","",""],Xt[0].length==0&&hr[0].length==0)break;$r=Bt(Xt[1].length==0?0:parseInt(Xt[1],10),hr[1].length==0?0:parseInt(hr[1],10))||Bt(Xt[2].length==0,hr[2].length==0)||Bt(Xt[2],hr[2]),Xt=Xt[3],hr=hr[3]}while($r==0)}return 0<=$r}();var vr,Pr}var Mr=ut.document&&It&&(pr()||parseInt(Gt,10))||void 0;function Yr(){this.F=this.F}Yr.prototype.F=!1;var an,dn=Object.freeze||function(lr){return lr};(an=!It)||(an=9<=Number(Mr));var rn=an,tn=It&&!Cr("9"),Hn=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var lr=!1,vr=Object.defineProperty({},"passive",{get:function(){lr=!0}});try{ut.addEventListener("test",lt,vr),ut.removeEventListener("test",lt,vr)}catch{}return lr}();function Qn(lr,vr){this.type=lr,this.a=this.target=vr,this.defaultPrevented=!1}function io(lr,vr){if(Qn.call(this,lr?lr.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,lr){var Pr=this.type=lr.type,$r=lr.changedTouches&&lr.changedTouches.length?lr.changedTouches[0]:null;if(this.target=lr.target||lr.srcElement,this.a=vr,vr=lr.relatedTarget){if(Zt){e:{try{qt(vr.nodeName);var cn=!0;break e}catch{}cn=!1}cn||(vr=null)}}else Pr=="mouseover"?vr=lr.fromElement:Pr=="mouseout"&&(vr=lr.toElement);this.relatedTarget=vr,$r?(this.clientX=$r.clientX!==void 0?$r.clientX:$r.pageX,this.clientY=$r.clientY!==void 0?$r.clientY:$r.pageY,this.screenX=$r.screenX||0,this.screenY=$r.screenY||0):(this.clientX=lr.clientX!==void 0?lr.clientX:lr.pageX,this.clientY=lr.clientY!==void 0?lr.clientY:lr.pageY,this.screenX=lr.screenX||0,this.screenY=lr.screenY||0),this.button=lr.button,this.key=lr.key||"",this.ctrlKey=lr.ctrlKey,this.altKey=lr.altKey,this.shiftKey=lr.shiftKey,this.metaKey=lr.metaKey,this.pointerId=lr.pointerId||0,this.pointerType=typeof lr.pointerType=="string"?lr.pointerType:yo[lr.pointerType]||"",this.c=lr,lr.defaultPrevented&&this.b()}}Qn.prototype.b=function(){this.defaultPrevented=!0},Mt(io,Qn);var yo=dn({2:"touch",3:"pen",4:"mouse"});io.prototype.b=function(){io.S.b.call(this);var lr=this.c;if(lr.preventDefault)lr.preventDefault();else if(lr.returnValue=!1,tn)try{(lr.ctrlKey||112<=lr.keyCode&&123>=lr.keyCode)&&(lr.keyCode=-1)}catch{}};var ko="closure_listenable_"+(1e6*Math.random()|0),Ho=0;function qo(lr,vr,Pr,$r,cn){this.listener=lr,this.proxy=null,this.src=vr,this.type=Pr,this.capture=!!$r,this.A=cn,this.key=++Ho,this.s=this.v=!1}function Fo(lr){lr.s=!0,lr.listener=null,lr.proxy=null,lr.src=null,lr.A=null}function Vo(lr){this.src=lr,this.a={},this.b=0}function ss(lr,vr){var Pr=vr.type;if(Pr in lr.a){var $r,cn=lr.a[Pr],An=Nt(cn,vr);($r=0<=An)&&Array.prototype.splice.call(cn,An,1),$r&&(Fo(vr),lr.a[Pr].length==0&&(delete lr.a[Pr],lr.b--))}}function ds(lr,vr,Pr,$r){for(var cn=0;cn<lr.length;++cn){var An=lr[cn];if(!An.s&&An.listener==vr&&An.capture==!!Pr&&An.A==$r)return cn}return-1}Vo.prototype.add=function(lr,vr,Pr,$r,cn){var An=lr.toString();(lr=this.a[An])||(lr=this.a[An]=[],this.b++);var wn=ds(lr,vr,$r,cn);return-1<wn?(vr=lr[wn],Pr||(vr.v=!1)):((vr=new qo(vr,this.src,An,!!$r,cn)).v=Pr,lr.push(vr)),vr};var fs="closure_lm_"+(1e6*Math.random()|0),Ul={};function As(lr,vr,Pr,$r,cn){if($r&&$r.once)(function wn(gn,Xt,hr,Sr,zr){if(Array.isArray(Xt))for(var Xr=0;Xr<Xt.length;Xr++)wn(gn,Xt[Xr],hr,Sr,zr);else hr=Ir(hr),gn&&gn[ko]?gn.f.add(String(Xt),hr,!0,ot(Sr)?!!Sr.capture:!!Sr,zr):xl(gn,Xt,hr,!0,Sr,zr)})(lr,vr,Pr,$r,cn);else if(Array.isArray(vr))for(var An=0;An<vr.length;An++)As(lr,vr[An],Pr,$r,cn);else Pr=Ir(Pr),lr&&lr[ko]?lr.f.add(String(vr),Pr,!1,ot($r)?!!$r.capture:!!$r,cn):xl(lr,vr,Pr,!1,$r,cn)}function xl(lr,vr,Pr,$r,cn,An){if(!vr)throw Error("Invalid event type");var wn,gn,Xt=ot(cn)?!!cn.capture:!!cn,hr=Xs(lr);if(hr||(lr[fs]=hr=new Vo(lr)),!(Pr=hr.add(vr,Pr,$r,Xt,An)).proxy)if(wn=Ys,$r=gn=rn?function(Sr){return wn.call(gn.src,gn.listener,Sr)}:function(Sr){if(!(Sr=wn.call(gn.src,gn.listener,Sr)))return Sr},Pr.proxy=$r,$r.src=lr,$r.listener=Pr,lr.addEventListener)Hn||(cn=Xt),cn===void 0&&(cn=!1),lr.addEventListener(vr.toString(),$r,cn);else if(lr.attachEvent)lr.attachEvent(Ps(vr.toString()),$r);else{if(!lr.addListener||!lr.removeListener)throw Error("addEventListener and attachEvent are unavailable.");lr.addListener($r)}}function bs(lr){if(typeof lr!="number"&&lr&&!lr.s){var vr=lr.src;if(vr&&vr[ko])ss(vr.f,lr);else{var Pr=lr.type,$r=lr.proxy;vr.removeEventListener?vr.removeEventListener(Pr,$r,lr.capture):vr.detachEvent?vr.detachEvent(Ps(Pr),$r):vr.addListener&&vr.removeListener&&vr.removeListener($r),(Pr=Xs(vr))?(ss(Pr,lr),Pr.b==0&&(Pr.src=null,vr[fs]=null)):Fo(lr)}}}function Ps(lr){return lr in Ul?Ul[lr]:Ul[lr]="on"+lr}function Ns(lr,vr,Pr,$r){var cn=!0;if((lr=Xs(lr))&&(vr=lr.a[vr.toString()]))for(vr=vr.concat(),lr=0;lr<vr.length;lr++){var An=vr[lr];An&&An.capture==Pr&&!An.s&&(An=Fs(An,$r),cn=cn&&An!==!1)}return cn}function Fs(lr,vr){var Pr=lr.listener,$r=lr.A||lr.src;return lr.v&&bs(lr),Pr.call($r,vr)}function Ys(lr,vr){if(lr.s)return!0;if(!rn){var Pr=vr||gt("window.event");vr=new io(Pr,this);var $r=!0;if(!(0>Pr.keyCode||Pr.returnValue!=null)){e:{var cn=!1;if(Pr.keyCode==0)try{Pr.keyCode=-1;break e}catch{cn=!0}(cn||Pr.returnValue==null)&&(Pr.returnValue=!0)}for(Pr=[],cn=vr.a;cn;cn=cn.parentNode)Pr.push(cn);for(lr=lr.type,cn=Pr.length-1;0<=cn;cn--){vr.a=Pr[cn];var An=Ns(Pr[cn],lr,!0,vr);$r=$r&&An}for(cn=0;cn<Pr.length;cn++)vr.a=Pr[cn],An=Ns(Pr[cn],lr,!1,vr),$r=$r&&An}return $r}return Fs(lr,new io(vr,this))}function Xs(lr){return(lr=lr[fs])instanceof Vo?lr:null}var Ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ir(lr){return ft(lr)=="function"?lr:(lr[Ks]||(lr[Ks]=function(vr){return lr.handleEvent(vr)}),lr[Ks])}function dr(){Yr.call(this),this.f=new Vo(this),this.N=this}function yr(lr,vr){lr=lr.N;var Pr=vr.type||vr;if(typeof vr=="string")vr=new Qn(vr,lr);else if(vr instanceof Qn)vr.target=vr.target||lr;else{var $r=vr;(function(cn,An){for(var wn,gn,Xt=1;Xt<arguments.length;Xt++){for(wn in gn=arguments[Xt])cn[wn]=gn[wn];for(var hr=0;hr<or.length;hr++)wn=or[hr],Object.prototype.hasOwnProperty.call(gn,wn)&&(cn[wn]=gn[wn])}})(vr=new Qn(Pr,lr),$r)}Rr(lr=vr.a=lr,Pr,!0,vr),Rr(lr,Pr,!1,vr)}function Rr(lr,vr,Pr,$r){if(vr=lr.f.a[String(vr)]){vr=vr.concat();for(var cn=!0,An=0;An<vr.length;++An){var wn=vr[An];if(wn&&!wn.s&&wn.capture==Pr){var gn=wn.listener,Xt=wn.A||wn.src;wn.v&&ss(lr.f,wn),cn=gn.call(Xt,$r)!==!1&&cn}}}}function Br(lr,vr,Pr){if(ft(lr)=="function")Pr&&(lr=Rt(lr,Pr));else{if(!lr||typeof lr.handleEvent!="function")throw Error("Invalid listener argument");lr=Rt(lr.handleEvent,lr)}return 2147483647<Number(vr)?-1:ut.setTimeout(lr,vr||0)}function Hr(lr,vr,Pr){this.reset(lr,vr,Pr,void 0,void 0)}function en(lr){this.f=lr,this.b=this.c=this.a=null}function Qr(lr,vr){this.name=lr,this.value=vr}Mt(dr,Yr),dr.prototype[ko]=!0,dr.prototype.addEventListener=function(lr,vr,Pr,$r){As(this,lr,vr,Pr,$r)},dr.prototype.removeEventListener=function(lr,vr,Pr,$r){(function cn(An,wn,gn,Xt,hr){if(Array.isArray(wn))for(var Sr=0;Sr<wn.length;Sr++)cn(An,wn[Sr],gn,Xt,hr);else Xt=ot(Xt)?!!Xt.capture:!!Xt,gn=Ir(gn),An&&An[ko]?(An=An.f,(wn=String(wn).toString())in An.a&&-1<(gn=ds(Sr=An.a[wn],gn,Xt,hr))&&(Fo(Sr[gn]),Array.prototype.splice.call(Sr,gn,1),Sr.length==0&&(delete An.a[wn],An.b--))):An&&(An=Xs(An))&&(wn=An.a[wn.toString()],An=-1,wn&&(An=ds(wn,gn,Xt,hr)),(gn=-1<An?wn[An]:null)&&bs(gn))})(this,lr,vr,Pr,$r)},Hr.prototype.a=null,Hr.prototype.reset=function(lr,vr,Pr,$r,cn){delete this.a},Qr.prototype.toString=function(){return this.name};var Gr=new Qr("SEVERE",1e3),ln=new Qr("CONFIG",700),En=new Qr("FINE",500);function Nn(lr){return lr.c?lr.c:lr.a?Nn(lr.a):(function(vr,Pr){throw new mt("Failure"+(vr?": "+vr:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}en.prototype.log=function(lr,vr,Pr){if(lr.value>=Nn(this).value)for(ft(vr)=="function"&&(vr=vr()),lr=new Hr(lr,String(vr),this.f),Pr&&(lr.a=Pr),Pr=this;Pr;)Pr=Pr.a};var Cn,Jn={},Xn=null;function Wn(lr,vr){lr&&lr.log(En,vr,void 0)}function ro(){}function un(lr){var vr;return(vr=lr.a)||(vr={},vo(lr)&&(vr[0]=!0,vr[1]=!0),vr=lr.a=vr),vr}function xo(){}function Un(lr){return(lr=vo(lr))?new ActiveXObject(lr):new XMLHttpRequest}function vo(lr){if(!lr.b&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var vr=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],Pr=0;Pr<vr.length;Pr++){var $r=vr[Pr];try{return new ActiveXObject($r),lr.b=$r}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return lr.b}function so(lr,vr){this.b={},this.a=[],this.c=0;var Pr=arguments.length;if(1<Pr){if(Pr%2)throw Error("Uneven number of arguments");for(var $r=0;$r<Pr;$r+=2)this.set(arguments[$r],arguments[$r+1])}else lr&&ks(this,lr)}function Us(lr){if(lr.c!=lr.a.length){for(var vr=0,Pr=0;vr<lr.a.length;){var $r=lr.a[vr];Pn(lr.b,$r)&&(lr.a[Pr++]=$r),vr++}lr.a.length=Pr}if(lr.c!=lr.a.length){var cn={};for(Pr=vr=0;vr<lr.a.length;)Pn(cn,$r=lr.a[vr])||(lr.a[Pr++]=$r,cn[$r]=1),vr++;lr.a.length=Pr}}function ks(lr,vr){if(vr instanceof so)for(var Pr=vr.f(),$r=0;$r<Pr.length;$r++)lr.set(Pr[$r],vr.get(Pr[$r]));else for(Pr in vr)lr.set(Pr,vr[Pr])}function Pn(lr,vr){return Object.prototype.hasOwnProperty.call(lr,vr)}ro.prototype.a=null,Mt(xo,ro),Cn=new xo,so.prototype.f=function(){return Us(this),this.a.concat()},so.prototype.get=function(lr,vr){return Pn(this.b,lr)?this.b[lr]:vr},so.prototype.set=function(lr,vr){Pn(this.b,lr)||(this.c++,this.a.push(lr)),this.b[lr]=vr},so.prototype.forEach=function(lr,vr){for(var Pr=this.f(),$r=0;$r<Pr.length;$r++){var cn=Pr[$r],An=this.get(cn);lr.call(vr,An,cn,this)}};var _o=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function lo(lr){dr.call(this),this.headers=new so,this.D=lr||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=as,this.B=this.H=!1}Mt(lo,dr);var as="",Js=lo.prototype,mo=function lr(vr){var Pr;if(Xn||(Xn=new en(""),Jn[""]=Xn,Xn.c=ln),!(Pr=Jn[vr])){Pr=new en(vr);var $r=vr.lastIndexOf("."),cn=vr.substr($r+1);($r=lr(vr.substr(0,$r))).b||($r.b={}),$r.b[cn]=Pr,Pr.a=$r,Jn[vr]=Pr}return Pr}("goog.net.XhrIo");Js.b=mo;var Cs=/^https?$/i,zl=["POST","PUT"];function Yo(lr){return lr.toLowerCase()=="content-type"}function ws(lr,vr){lr.c=!1,lr.a&&(lr.h=!0,lr.a.abort(),lr.h=!1),lr.i=vr,lr.g=5,Uo(lr),Dl(lr)}function Uo(lr){lr.G||(lr.G=!0,yr(lr,"complete"),yr(lr,"error"))}function Pu(lr){if(lr.c&&et!==void 0){if(lr.C[1]&&Rs(lr)==4&&lr.getStatus()==2)Wn(lr.b,Ms(lr,"Local request error detected and ignored"));else if(lr.m&&Rs(lr)==4)Br(lr.K,0,lr);else if(yr(lr,"readystatechange"),Rs(lr)==4){Wn(lr.b,Ms(lr,"Request complete")),lr.c=!1;try{var vr,Pr=lr.getStatus();e:switch(Pr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $r=!0;break e;default:$r=!1}if(!(vr=$r)){var cn;if(cn=Pr===0){var An=String(lr.o).match(_o)[1]||null;if(!An&&ut.self&&ut.self.location){var wn=ut.self.location.protocol;An=wn.substr(0,wn.length-1)}cn=!Cs.test(An?An.toLowerCase():"")}vr=cn}if(vr)yr(lr,"complete"),yr(lr,"success");else{lr.g=6;try{var gn=2<Rs(lr)?lr.a.statusText:""}catch(Xt){Wn(lr.b,"Can not get status: "+Xt.message),gn=""}lr.i=gn+" ["+lr.getStatus()+"]",Uo(lr)}}finally{Dl(lr)}}}}function Dl(lr){if(lr.a){$l(lr);var vr=lr.a,Pr=lr.C[0]?lt:null;lr.a=null,lr.C=null,yr(lr,"ready");try{vr.onreadystatechange=Pr}catch($r){(lr=lr.b)&&lr.log(Gr,"Problem encountered resetting onreadystatechange: "+$r.message,void 0)}}}function $l(lr){lr.a&&lr.B&&(lr.a.ontimeout=null),lr.u&&(ut.clearTimeout(lr.u),lr.u=null)}function Rs(lr){return lr.a?lr.a.readyState:0}function Yl(lr,vr){if(lr.a&&Rs(lr)==4)return(lr=lr.a.getResponseHeader(vr))===null?void 0:lr}function Ms(lr,vr){return vr+" ["+lr.J+" "+lr.o+" "+lr.getStatus()+"]"}lo.prototype.L=function(){et!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,Wn(this.b,Ms(this,this.i)),yr(this,"timeout"),this.abort(8))},lo.prototype.abort=function(lr){this.a&&this.c&&(Wn(this.b,Ms(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=lr||7,yr(this,"complete"),yr(this,"abort"),Dl(this))},lo.prototype.K=function(){this.F||(this.I||this.m||this.h?Pu(this):this.O())},lo.prototype.O=function(){Pu(this)},lo.prototype.getStatus=function(){try{return 2<Rs(this)?this.a.status:-1}catch{return-1}};var So={},Ds=null;function Vl(){if(!Ds){Ds={};for(var lr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),vr=["+/=","+/","-_=","-_.","-_"],Pr=0;5>Pr;Pr++){var $r=lr.concat(vr[Pr].split(""));So[Pr]=$r;for(var cn=0;cn<$r.length;cn++){var An=$r[cn];Ds[An]===void 0&&(Ds[An]=cn)}}}}var Ko=["content-type","grpc-status","grpc-message"];function Do(lr){this.a=lr.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new jt;var vr=this;As(this.a,"readystatechange",function(){var Pr=vr.a;if(Pr=Pr.a?Pr.a.getResponseHeader("Content-Type"):null){if((Pr=Pr.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){Pr=vr.a;try{var $r=Pr.a?Pr.a.responseText:""}catch(hr){Wn(Pr.b,"Can not get responseText: "+hr.message),$r=""}if($r=(Pr=$r||"").length-Pr.length%4,(Pr=Pr.substr(vr.i,$r-vr.i)).length==0)return;vr.i=$r,Pr=function(hr){var Sr=hr.length,zr=3*Sr/4;zr%3?zr=Math.floor(zr):at("=.",hr[Sr-1])&&(zr=at("=.",hr[Sr-2])?zr-2:zr-1);var Xr=new Uint8Array(zr),hn=0;return function(Fr,nn){function Sn(Mo){for(;In<Fr.length;){var jo=Fr.charAt(In++),ho=Ds[jo];if(ho!=null)return ho;if(!/^[\s\xa0]*$/.test(jo))throw Error("Unknown base64 encoding at char: "+jo)}return Mo}Vl();for(var In=0;;){var Zn=Sn(-1),Ro=Sn(0),ao=Sn(64),bo=Sn(64);if(bo===64&&Zn===-1)break;nn(Zn<<2|Ro>>4),ao!=64&&(nn(Ro<<4&240|ao>>2),bo!=64&&nn(ao<<6&192|bo))}}(hr,function(Fr){Xr[hn++]=Fr}),Xr.subarray(0,hn)}(Pr)}else{if(Pr.lastIndexOf("application/grpc",0)!=0)return void ls(vr,{code:2,message:"Unknown Content-type received.",metadata:{}});Pr=new Uint8Array(function(hr){try{if(!hr.a)return null;if("response"in hr.a)return hr.a.response;switch(hr.j){case as:case"text":return hr.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in hr.a)return hr.a.mozResponseArrayBuffer}var Sr=hr.b;return Sr&&Sr.log(Gr,"Response type "+hr.j+" is not supported on this browser",void 0),null}catch(zr){return Wn(hr.b,"Can not get response: "+zr.message),null}}(vr.a))}$r=null;try{$r=function(hr,Sr){function zr(Zn){Sn.c[Sn.g++]=Zn,Sn.g==Sn.a&&Xr()}function Xr(){var Zn={};Zn[Sn.h]=Sn.c,Sn.i.push(Zn),Sn.b=zt}var hn,Fr,nn,Sn=hr,In=0;for(hn=Sr instanceof Uint8Array||Sr instanceof Array?Sr:new Uint8Array(Sr);In<hn.length;){switch(Sn.b){case 3:St(Sn,hn,In,"stream already broken");break;case zt:(Fr=hn[In])==0||Fr==kt?Sn.h=Fr:St(Sn,hn,In,"invalid frame byte"),Sn.b=1,Sn.a=0,Sn.f=0;break;case 1:nn=hn[In],Sn.f++,Sn.a=(Sn.a<<8)+nn,Sn.f==4&&(Sn.b=2,Sn.g=0,typeof Uint8Array!="undefined"?Sn.c=new Uint8Array(Sn.a):Sn.c=Array(Sn.a),Sn.a==0&&Xr());break;case 2:zr(hn[In]);break;default:throw Error("unexpected parser state: "+Sn.b)}Sn.l++,In++}return hr=Sn.i,Sn.i=[],0<hr.length?hr:null}(vr.m,Pr)}catch{ls(vr,{code:2,message:"Error in parsing response body",metadata:{}})}if($r)for(Pr=0;Pr<$r.length;Pr++){if(0 in $r[Pr]){var cn=$r[Pr][0];if(cn)try{var An=vr.l(cn);if(An){cn=vr;for(var wn=An,gn=0;gn<cn.b.length;gn++)cn.b[gn](wn)}}catch{ls(vr,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(kt in $r[Pr]&&0<$r[Pr][kt].length){for(cn="",wn=0;wn<$r[Pr][kt].length;wn++)cn+=String.fromCharCode($r[Pr][kt][wn]);for(cn=cn.trim().split(`\r
`),wn={},gn=0;gn<cn.length;gn++){var Xt=cn[gn].indexOf(":");wn[cn[gn].substring(0,Xt).trim()]=cn[gn].substring(Xt+1).trim()}cn=wn,wn=0,gn="","grpc-status"in cn&&(wn=cn["grpc-status"],delete cn["grpc-status"]),"grpc-message"in cn&&(gn=cn["grpc-message"],delete cn["grpc-message"]),ls(vr,{code:Number(wn),message:gn,metadata:cn})}}}}),As(this.a,"complete",function(){var Pr=vr.a.g,$r="",cn={},An=function(gn){var Xt={};gn=(gn.a&&Rs(gn)==4&&gn.a.getAllResponseHeaders()||"").split(`\r
`);for(var hr=0;hr<gn.length;hr++)if(!/^[\s\xa0]*$/.test(gn[hr])){var Sr=ar(gn[hr]),zr=Sr[0];if(typeof(Sr=Sr[1])=="string"){Sr=Sr.trim();var Xr=Xt[zr]||[];Xt[zr]=Xr,Xr.push(Sr)}}return function(hn,Fr){var nn,Sn={};for(nn in hn)Sn[nn]=Fr.call(void 0,hn[nn],nn,hn);return Sn}(Xt,function(hn){return hn.join(", ")})}(vr.a);if(Object.keys(An).forEach(function(gn){Ko.includes(gn)||(cn[gn]=An[gn])}),function(gn,Xt){for(var hr=0;hr<gn.g.length;hr++)gn.g[hr](Xt)}(vr,cn),Pr!=0){switch(Pr){case 7:var wn=10;break;case 8:wn=4;break;case 6:wn=function(gn){switch(gn){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(vr.a.getStatus());break;default:wn=14}wn==10&&vr.j||ls(vr,{code:wn,message:dt(Pr),metadata:{}})}else Pr=!1,"grpc-status"in An&&(wn=Yl(vr.a,"grpc-status"),"grpc-message"in An&&($r=Yl(vr.a,"grpc-message")),Number(wn)!=0&&(ls(vr,{code:Number(wn),message:$r,metadata:An}),Pr=!0)),Pr||function(gn){for(var Xt=0;Xt<gn.c.length;Xt++)gn.c[Xt]()}(vr)})}function ps(lr,vr){-1<(vr=lr.indexOf(vr))&&lr.splice(vr,1)}function ls(lr,vr){if(vr.code!=0)for(var Pr={code:vr.code,message:decodeURIComponent(vr.message||""),metadata:vr.metadata},$r=0;$r<lr.f.length;$r++)lr.f[$r](Pr);for(vr={code:vr.code,details:decodeURIComponent(vr.message||""),metadata:vr.metadata},Pr=0;Pr<lr.h.length;Pr++)lr.h[Pr](vr)}function Co(lr){this.a=gt("format",lr)||"text",this.f=gt("suppressCorsPreflight",lr)||!1,this.c=gt("withCredentials",lr)||!1,this.b=gt("streamInterceptors",lr)||[],this.g=gt("unaryInterceptors",lr)||[]}function _s(lr,vr,Pr){var $r=vr.getMethodDescriptor(),cn=Pr+$r.name;(Pr=new lo).H=lr.c;var An,wn=new Do({T:Pr});if(wn.l=$r.b,ks(Pr.headers,vr.getMetadata()),lr.a=="text"?(Pr.headers.set("Content-Type","application/grpc-web-text"),Pr.headers.set("Accept","application/grpc-web-text")):Pr.headers.set("Content-Type","application/grpc-web+proto"),Pr.headers.set("X-User-Agent","grpc-web-javascript/0.1"),Pr.headers.set("X-Grpc-Web","1"),Pn(Pr.headers.b,"deadline")){var gn=Pr.headers.get("deadline");gn=Math.round(gn-new Date().getTime());var Xt=Pr.headers;Pn(Xt.b,"deadline")&&(delete Xt.b.deadline,Xt.c--,Xt.a.length>2*Xt.c&&Us(Xt)),1/0===gn&&(gn=0),0<gn&&Pr.headers.set("grpc-timeout",gn+"m")}if(lr.f){Us(Xt=Pr.headers),gn={};for(var hr=0;hr<Xt.a.length;hr++){var Sr=Xt.a[hr];gn[Sr]=Xt.b[Sr]}(Xt=Pr.headers).b={},Xt.a.length=0,Xt.c=0;e:{for(zr in gn){var zr=!1;break e}zr=!0}zr||(An="",function(Fr,nn){for(var Sn in Fr)nn.call(void 0,Fr[Sn],Sn,Fr)}(gn,function(Fr,nn){An+=nn,An+=":",An+=Fr,An+=`\r
`}),gn=An,typeof cn=="string"?(zr=encodeURIComponent("$httpHeaders"),(zr+=gn=gn!=null?"="+encodeURIComponent(String(gn)):"")&&(0>(gn=cn.indexOf("#"))&&(gn=cn.length),0>(Xt=cn.indexOf("?"))||Xt>gn?(Xt=gn,hr=""):hr=cn.substring(Xt+1,gn),gn=(cn=[cn.substr(0,Xt),hr,cn.substr(gn)])[1],cn[1]=zr?gn?gn+"&"+zr:zr:gn,cn=cn[0]+(cn[1]?"?"+cn[1]:"")+cn[2])):cn.a("$httpHeaders",gn))}for($r=(vr=(0,$r.a)(vr.getRequestMessage())).length,zr=[0,0,0,0],gn=new Uint8Array(5+$r),Xt=3;0<=Xt;Xt--)zr[Xt]=$r%256,$r>>>=8;if(gn.set(new Uint8Array(zr),1),gn.set(vr,5),vr=gn,lr.a=="text"){var Xr;for(lr=vr,Xr===void 0&&(Xr=0),Vl(),Xr=So[Xr],vr=[],$r=0;$r<lr.length;$r+=3){Sr=lr[$r];var hn=(zr=$r+1<lr.length)?lr[$r+1]:0;Xt=Sr>>2,Sr=(3&Sr)<<4|hn>>4,hn=(15&hn)<<2|(hr=(gn=$r+2<lr.length)?lr[$r+2]:0)>>6,hr&=63,gn||(hr=64,zr||(hn=64)),vr.push(Xr[Xt],Xr[Sr],Xr[hn]||"",Xr[hr]||"")}vr=vr.join("")}else lr.a=="binary"&&(Pr.j="arraybuffer");return function(Fr,nn,Sn){if(Fr.a)throw Error("[goog.net.XhrIo] Object is active with another request="+Fr.o+"; newUri="+nn);Fr.o=nn,Fr.i="",Fr.g=0,Fr.J="POST",Fr.G=!1,Fr.c=!0,Fr.a=Fr.D?Un(Fr.D):Un(Cn),Fr.C=Fr.D?un(Fr.D):un(Cn),Fr.a.onreadystatechange=Rt(Fr.K,Fr);try{Wn(Fr.b,Ms(Fr,"Opening Xhr")),Fr.I=!0,Fr.a.open("POST",String(nn),!0),Fr.I=!1}catch(ao){return Wn(Fr.b,Ms(Fr,"Error opening Xhr: "+ao.message)),void ws(Fr,ao)}nn=Sn||"";var In,Zn=function(ao){e:{for(var bo=Yo,Mo=ao.length,jo=typeof ao=="string"?ao.split(""):ao,ho=0;ho<Mo;ho++)if(ho in jo&&bo.call(void 0,jo[ho],ho,ao)){bo=ho;break e}bo=-1}return 0>bo?null:typeof ao=="string"?ao.charAt(bo):ao[bo]}((Sn=new so(Fr.headers)).f()),Ro=ut.FormData&&nn instanceof ut.FormData;!(0<=Nt(zl,"POST"))||Zn||Ro||Sn.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Sn.forEach(function(ao,bo){this.a.setRequestHeader(bo,ao)},Fr),Fr.j&&(Fr.a.responseType=Fr.j),"withCredentials"in Fr.a&&Fr.a.withCredentials!==Fr.H&&(Fr.a.withCredentials=Fr.H);try{$l(Fr),0<Fr.l&&(Fr.B=(In=Fr.a,It&&Cr(9)&&typeof In.timeout=="number"&&In.ontimeout!==void 0),Wn(Fr.b,Ms(Fr,"Will abort after "+Fr.l+"ms if incomplete, xhr2 "+Fr.B)),Fr.B?(Fr.a.timeout=Fr.l,Fr.a.ontimeout=Rt(Fr.L,Fr)):Fr.u=Br(Fr.L,Fr.l,Fr)),Wn(Fr.b,Ms(Fr,"Sending request")),Fr.m=!0,Fr.a.send(nn),Fr.m=!1}catch(ao){Wn(Fr.b,Ms(Fr,"Send error: "+ao.message)),ws(Fr,ao)}}(Pr,cn,vr),wn}function zs(lr,vr,Pr){var $r=null,cn=!1;lr.on("data",function(An){$r=An}),lr.on("error",function(An){An.code==0||cn||(cn=!0,vr(An,null))}),lr.on("status",function(An){An.code==0||cn?Pr&&vr(null,null,An):(cn=!0,vr({code:An.code,message:An.details,metadata:An.metadata},null))}),Pr&&lr.on("metadata",function(An){vr(null,null,null,An)}),lr.on("end",function(){cn||($r==null?vr({code:2,message:"Incomplete response"}):vr(null,$r)),Pr&&vr(null,null)})}function es(lr,vr){var Pr=lr;return vr.forEach(function($r){var cn=Pr;Pr=function(An){return $r.intercept(An,cn)}}),Pr}Do.prototype.on=function(lr,vr){return lr=="data"?this.b.push(vr):lr=="status"?this.h.push(vr):lr=="metadata"?this.g.push(vr):lr=="end"?this.c.push(vr):lr=="error"&&this.f.push(vr),this},Do.prototype.removeListener=function(lr,vr){return lr=="data"?ps(this.b,vr):lr=="status"?ps(this.h,vr):lr=="metadata"?ps(this.g,vr):lr=="end"?ps(this.c,vr):lr=="error"&&ps(this.f,vr),this},Do.prototype.cancel=function(){this.j=!0,this.a.abort()},Do.prototype.cancel=Do.prototype.cancel,Do.prototype.removeListener=Do.prototype.removeListener,Do.prototype.on=Do.prototype.on,Co.prototype.P=function(lr,vr,Pr,$r,cn){var An=this;$r=Yt(lr,vr,"unary",$r);var wn=lr.substr(0,lr.length-$r.name.length);return zs(lr=es(function(gn){return _s(An,gn,wn)},this.b).call(this,Kt($r,vr,Pr)),cn,!1),new pt(lr)},Co.prototype.M=function(lr,vr,Pr,$r){var cn=this;$r=Yt(lr,vr,"unary",$r);var An=lr.substr(0,lr.length-$r.name.length);return es(function(wn){return new Promise(function(gn,Xt){var hr,Sr,zr;zs(_s(cn,wn,An),function(Xr,hn,Fr,nn){Xr?Xt(Xr):hn?zr=hn:Fr?Sr=Fr:nn?hr=nn:(Xr=wn.getMethodDescriptor(),gn(new ct(zr,Xr,hn=(hn=hr)===void 0?{}:hn,Sr===void 0?null:Sr)))},!0)})},this.g).call(this,Kt($r,vr,Pr)).then(function(wn){return wn.getResponseMessage()})},Co.prototype.unaryCall=function(lr,vr,Pr,$r){return this.M(lr,vr,Pr,$r)},Co.prototype.R=function(lr,vr,Pr,$r){var cn=this;$r=Yt(lr,vr,"server_streaming",$r);var An=lr.substr(0,lr.length-$r.name.length);return es(function(wn){return _s(cn,wn,An)},this.b).call(this,Kt($r,vr,Pr))},Co.prototype.serverStreaming=Co.prototype.R,Co.prototype.unaryCall=Co.prototype.unaryCall,Co.prototype.thenableCall=Co.prototype.M,Co.prototype.rpcCall=Co.prototype.P,e.exports.AbstractClientBase={MethodInfo:function(lr,vr,Pr,$r,cn){this.name=$r,this.b=cn,this.f=lr,this.a=vr,this.c=Pr}},e.exports.GrpcWebClientBase=Co,e.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},e.exports.MethodDescriptor=Lt,e.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,o(5))},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.isAsyncIterable=i.isAsyncGenerator=i.isAsync=void 0;var c,d=(c=o(151))&&c.__esModule?c:{default:c};function j(Z){return Z[Symbol.toStringTag]==="AsyncFunction"}i.default=function(Z){if(typeof Z!="function")throw new Error("expected a function");return j(Z)?(0,d.default)(Z):Z},i.isAsync=j,i.isAsyncGenerator=function(Z){return Z[Symbol.toStringTag]==="AsyncGenerator"},i.isAsyncIterable=function(Z){return typeof Z[Symbol.asyncIterator]=="function"}},function(e,i,o){var c={};function d(Z,s,$){$||($=Error);var et=function(ut){var gt,lt;function ft(ot,yt,wt){return ut.call(this,(Rt=ot,Mt=yt,Tt=wt,typeof s=="string"?s:s(Rt,Mt,Tt)))||this;var Rt,Mt,Tt}return lt=ut,(gt=ft).prototype=Object.create(lt.prototype),gt.prototype.constructor=gt,gt.__proto__=lt,ft}($);et.prototype.name=$.name,et.prototype.code=Z,c[Z]=et}function j(Z,s){if(Array.isArray(Z)){var $=Z.length;return Z=Z.map(function(et){return String(et)}),$>2?"one of ".concat(s," ").concat(Z.slice(0,$-1).join(", "),", or ")+Z[$-1]:$===2?"one of ".concat(s," ").concat(Z[0]," or ").concat(Z[1]):"of ".concat(s," ").concat(Z[0])}return"of ".concat(s," ").concat(String(Z))}d("ERR_INVALID_OPT_VALUE",function(Z,s){return'The value "'+s+'" is invalid for option "'+Z+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(Z,s,$){var et,ut,gt,lt,ft,ot;if(typeof s=="string"&&(ut="not ",s.substr(0,ut.length)===ut)?(et="must not be",s=s.replace(/^not /,"")):et="must be",lt=Z,ft=" argument",(ot===void 0||ot>lt.length)&&(ot=lt.length),lt.substring(ot-ft.length,ot)===ft)gt="The ".concat(Z," ").concat(et," ").concat(j(s,"type"));else{var yt=function(wt,Rt,Mt){return typeof Mt!="number"&&(Mt=0),!(Mt+1>wt.length)&&wt.indexOf(".",Mt)!==-1}(Z)?"property":"argument";gt='The "'.concat(Z,'" ').concat(yt," ").concat(et," ").concat(j(s,"type"))}return gt+". Received type ".concat(typeof $)},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(Z){return"The "+Z+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(Z){return"Cannot call "+Z+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(Z){return"Unknown encoding: "+Z},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=c},function(e,i,o){(function(c){var d=Object.keys||function(ft){var ot=[];for(var yt in ft)ot.push(yt);return ot};e.exports=ut;var j=o(75),Z=o(79);o(6)(ut,j);for(var s=d(Z.prototype),$=0;$<s.length;$++){var et=s[$];ut.prototype[et]||(ut.prototype[et]=Z.prototype[et])}function ut(ft){if(!(this instanceof ut))return new ut(ft);j.call(this,ft),Z.call(this,ft),this.allowHalfOpen=!0,ft&&(ft.readable===!1&&(this.readable=!1),ft.writable===!1&&(this.writable=!1),ft.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",gt)))}function gt(){this._writableState.ended||c.nextTick(lt,this)}function lt(ft){ft.end()}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ut.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ut.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ft){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ft,this._writableState.destroyed=ft)}})}).call(this,o(2))},function(e,i,o){o.d(i,"a",function(){return Z});var c=o(36),d=o(7);const j={"app-id":["app-id must match formant/*"]};class Z extends c.a{constructor($,et={}){super($,Object.assign({validateHeaders:ut=>`${ut.get("app-id")}`.startsWith("formant/")?{}:j,headers:Object.assign(Object.assign({},Z.headers),{"App-ID":`formant/${d.a}`,"App-Version":d.j})},et)),this.endpoint=$}}Z.headers={}},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c,d=c.length){if(!d)throw new Error("arity is undefined");return function(...j){return typeof j[d-1]=="function"?c.apply(this,j):new Promise((Z,s)=>{j[d-1]=($,...et)=>{if($)return s($);Z(et.length>1?et:et[0])},c.apply(this,j)})}},e.exports=i.default},function(e,i,o){(i=e.exports=o(67)).Stream=i,i.Readable=i,i.Writable=o(44),i.Duplex=o(20),i.Transform=o(70),i.PassThrough=o(164)},function(e,i,o){(i=e.exports=o(75)).Stream=i,i.Readable=i,i.Writable=o(79),i.Duplex=o(25),i.Transform=o(80),i.PassThrough=o(183),i.finished=o(45),i.pipeline=o(184)},function(e,i,o){o.d(i,"a",function(){return d});const c=["password","secret","token","key","buffer"];function d(j,Z=new Set){return Z.has(j)?"[ RECURSIVE ]":!(s=j)||typeof s!="object"&&typeof s!="function"?j:(Z.add(j),Object.keys(j).reduce(($,et)=>($[et]=c.some(ut=>et.toLowerCase().includes(ut.toLowerCase()))?"[ REDACTED ]":d(j[et],Z),$),{}));var s}},function(e,i){e.exports=c,c.default=c,c.stable=j,c.stableStringify=j;var o=[];function c(Z,s,$){(function gt(lt,ft,ot,yt){var wt;if(typeof lt=="object"&&lt!==null){for(wt=0;wt<ot.length;wt++)if(ot[wt]===lt)return yt[ft]="[Circular]",void o.push([yt,ft,lt]);if(ot.push(lt),Array.isArray(lt))for(wt=0;wt<lt.length;wt++)gt(lt[wt],wt,ot,lt);else{var Rt=Object.keys(lt);for(wt=0;wt<Rt.length;wt++){var Mt=Rt[wt];gt(lt[Mt],Mt,ot,lt)}}ot.pop()}})(Z,"",[],void 0);for(var et=JSON.stringify(Z,s,$);o.length!==0;){var ut=o.pop();ut[0][ut[1]]=ut[2]}return et}function d(Z,s){return Z<s?-1:Z>s?1:0}function j(Z,s,$){for(var et=function lt(ft,ot,yt,wt){var Rt;if(typeof ft=="object"&&ft!==null){for(Rt=0;Rt<yt.length;Rt++)if(yt[Rt]===ft)return wt[ot]="[Circular]",void o.push([wt,ot,ft]);if(typeof ft.toJSON=="function")return;if(yt.push(ft),Array.isArray(ft))for(Rt=0;Rt<ft.length;Rt++)lt(ft[Rt],Rt,yt,ft);else{var Mt={},Tt=Object.keys(ft).sort(d);for(Rt=0;Rt<Tt.length;Rt++){var Ct=Tt[Rt];lt(ft[Ct],Ct,yt,ft),Mt[Ct]=ft[Ct]}if(wt===void 0)return Mt;o.push([wt,ot,ft]),wt[ot]=Mt}yt.pop()}}(Z,"",[],void 0)||Z,ut=JSON.stringify(et,s,$);o.length!==0;){var gt=o.pop();gt[0][gt[1]]=gt[2]}return ut}},function(e,i,o){var c=o(13),d=Object.keys||function(ot){var yt=[];for(var wt in ot)yt.push(wt);return yt};e.exports=gt;var j=Object.create(o(14));j.inherits=o(6);var Z=o(142),s=o(60);j.inherits(gt,Z);for(var $=d(s.prototype),et=0;et<$.length;et++){var ut=$[et];gt.prototype[ut]||(gt.prototype[ut]=s.prototype[ut])}function gt(ot){if(!(this instanceof gt))return new gt(ot);Z.call(this,ot),s.call(this,ot),ot&&ot.readable===!1&&(this.readable=!1),ot&&ot.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ot&&ot.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",lt)}function lt(){this.allowHalfOpen||this._writableState.ended||c.nextTick(ft,this)}function ft(ot){ot.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ot){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ot,this._writableState.destroyed=ot)}}),gt.prototype._destroy=function(ot,yt){this.push(null),this.end(),c.nextTick(yt,ot)}},function(e,i,o){var c=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function d(s,$){return Object.prototype.hasOwnProperty.call(s,$)}i.assign=function(s){for(var $=Array.prototype.slice.call(arguments,1);$.length;){var et=$.shift();if(et){if(typeof et!="object")throw new TypeError(et+"must be non-object");for(var ut in et)d(et,ut)&&(s[ut]=et[ut])}}return s},i.shrinkBuf=function(s,$){return s.length===$?s:s.subarray?s.subarray(0,$):(s.length=$,s)};var j={arraySet:function(s,$,et,ut,gt){if($.subarray&&s.subarray)s.set($.subarray(et,et+ut),gt);else for(var lt=0;lt<ut;lt++)s[gt+lt]=$[et+lt]},flattenChunks:function(s){var $,et,ut,gt,lt,ft;for(ut=0,$=0,et=s.length;$<et;$++)ut+=s[$].length;for(ft=new Uint8Array(ut),gt=0,$=0,et=s.length;$<et;$++)lt=s[$],ft.set(lt,gt),gt+=lt.length;return ft}},Z={arraySet:function(s,$,et,ut,gt){for(var lt=0;lt<ut;lt++)s[gt+lt]=$[et+lt]},flattenChunks:function(s){return[].concat.apply([],s)}};i.setTyped=function(s){s?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,j)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,Z))},i.setTyped(c)},function(e,i,o){e.exports=o(185)},function(e,i,o){e.exports=function(c){return c}},function(e,i,o){o.d(i,"a",function(){return wt});var c=o(11),d=o(0);function j(Rt,Mt,Tt=()=>!0){if(Rt instanceof Mt&&Tt(Rt))return Rt;throw Rt}var Z=o(1),s=o(100),$=o.n(s),et=o(101),ut=o.n(et);class gt extends Error{constructor(Mt,Tt,Ct){super(`Connection failure: ${Mt.message}`),this.cause=Mt,this.url=Tt,this.retryable=Ct}}var lt=o(30);class ft extends Error{constructor(Mt,Tt,Ct,ct,Lt={},Kt){super(`Unexpected response (${Ct}) for ${Mt} ${Tt}: ${JSON.stringify(Kt?Object(lt.a)([...Kt.entries()].reduce((Yt,[pt,dt])=>(Yt[pt]=dt,Yt),{})):{})} -- ${JSON.stringify(Object(lt.a)(ct))}`),this.method=Mt,this.url=Tt,this.statusCode=Ct,this.body=ct,this.validationErrors=Lt,this.headers=Kt}}class ot extends Error{constructor(Mt,Tt){super(`Invalid headers (${JSON.stringify(Mt)}) for response: ${Tt.message}`),this.validationErrors=Mt,this.responseError=Tt}}var yt=function(Rt,Mt,Tt,Ct){return new(Tt||(Tt=Promise))(function(ct,Lt){function Kt(dt){try{pt(Ct.next(dt))}catch(bt){Lt(bt)}}function Yt(dt){try{pt(Ct.throw(dt))}catch(bt){Lt(bt)}}function pt(dt){var bt;dt.done?ct(dt.value):(bt=dt.value,bt instanceof Tt?bt:new Tt(function(mt){mt(bt)})).then(Kt,Yt)}pt((Ct=Ct.apply(Rt,Mt||[])).next())})};class wt{constructor(Mt,Tt={}){if(this.endpoint=Mt,this.validateHeaders=Ct=>Tt.validateHeaders?Tt.validateHeaders(Ct):{},this.verbose=Tt.verbose!==!1,this.retries=Tt.retries!==void 0?Tt.retries:wt.retries,this.headers=Tt.headers||{},this.timeoutMs=Tt.timeoutMs,!(this.retries>=0))throw new Error("retries must be positive or zero");if(this.timeoutMs!==void 0&&!(this.timeoutMs>0))throw new Error("timeoutMs must be positive")}fetch(Mt,Tt={}){return yt(this,void 0,void 0,function*(){return(yield this.fetchVerbose(Mt,Tt)).body})}fetchVerbose(Mt,Tt={}){return yt(this,void 0,void 0,function*(){let Ct=100*Z.a.millisecond,ct=0;const Lt=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,Kt=Lt?()=>Math.max(Lt-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(Mt,Tt,Kt)}catch(Yt){const pt=j(Yt,gt);if((Kt==null?void 0:Kt())===0||ct===this.retries||!pt.retryable&&!Tt.allowUnsafeRetries)throw pt;ct++,Ct*=2+.1*(Math.random()-.5),yield Object(c.a)(Kt?Math.min(Ct,Kt()):Ct),this.verbose&&d.a.warn(`Connection failure, retrying. Error: ${Yt.cause.message}`,{url:Yt.url,error:Yt.cause})}})}doFetch(Mt,Tt,Ct){return yt(this,void 0,void 0,function*(){const{token:ct,json:Lt}=Tt,Kt=function(jt,zt){var kt={};for(var St in jt)Object.prototype.hasOwnProperty.call(jt,St)&&zt.indexOf(St)<0&&(kt[St]=jt[St]);if(jt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Dt=0;for(St=Object.getOwnPropertySymbols(jt);Dt<St.length;Dt++)zt.indexOf(St[Dt])<0&&Object.prototype.propertyIsEnumerable.call(jt,St[Dt])&&(kt[St[Dt]]=jt[St[Dt]])}return kt}(Tt,["token","json"]),Yt=(Kt.method||"GET").toUpperCase(),pt=Yt!=="POST"&&Yt!=="PATCH",dt=this.endpoint!==void 0?`${this.endpoint}${Mt?`/${Mt}`:""}`:Mt,bt=new $.a;let mt;if(Ct){const jt=Ct();jt>0?mt=setTimeout(()=>{bt.abort()},jt):bt.abort()}try{let jt;yield Promise.race([wt.waitForConnectivity(),new Promise(at=>{jt=setTimeout(at,Ct?Math.min(Z.a.minute,Ct()):Z.a.minute)})]),jt&&clearTimeout(jt);const zt=yield ut()(dt,Object.assign(Object.assign({},Kt),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},Lt!==!1?{"Content-Type":"application/json"}:{}),this.headers),Kt.headers||{}),ct!==void 0?{Authorization:`Bearer ${ct}`}:{}),signal:bt.signal})),kt=zt.headers.get("content-type")||"",St=kt&&kt.startsWith("application/json"),Dt=St?yield zt.json():yield zt.text(),Nt=()=>new ft(Yt,dt,zt.status,Dt,Dt&&Dt.validationErrors||{},zt.headers);if(!zt.ok)throw this.verbose&&d.a[zt.status>=500?"warn":"info"]("Response error",{method:Yt,url:dt,statusCode:zt.status}),Nt();const _t=this.validateHeaders(zt.headers);if(Object.keys(_t).length!==0)throw new ot(_t,Nt());if(zt.status===204)return{body:void 0,headers:zt.headers};if(Lt&&!St)throw new Error(`Response is not JSON: ${JSON.stringify(Dt)}`);return{body:Dt,headers:zt.headers}}catch(jt){if(jt.message==="Network request failed")throw new gt(jt,dt,pt);if(jt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(Dt=>Dt===jt.code))throw new gt(jt,dt,!0);if(jt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(Dt=>Dt===jt.code))throw new gt(jt,dt,pt);if(jt.name==="AbortError")throw new gt(jt,dt,pt);const zt=j(jt,ft),{statusCode:kt}=zt;if(kt===408||kt===429||kt===502||kt===503||kt===504)throw this.verbose&&!pt&&d.a.warn("Potentially unsafe retry"),new gt(jt,dt,!0);const St=this.validateHeaders(zt.headers);throw Object.keys(St).length!==0?new ot(St,zt):(yield wt.onResponseError(zt),jt)}finally{mt&&clearTimeout(mt)}})}}wt.retries=8,wt.waitForConnectivity=()=>yt(void 0,void 0,void 0,function*(){}),wt.onResponseError=()=>yt(void 0,void 0,void 0,function*(){})},function(e,i,o){function c(gt,lt){if(!(gt instanceof lt))throw new TypeError("Cannot call a class as a function")}function d(gt,lt){for(var ft=0;ft<lt.length;ft++){var ot=lt[ft];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(gt,ot.key,ot)}}var j=o(57),Z=o(3),s=Z.LEVEL,$=Z.MESSAGE;j.enabled=!0;var et=/\s+/,ut=function(){function gt(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c(this,gt),yt.colors&&this.addColors(yt.colors),this.options=yt}var lt,ft,ot;return lt=gt,ot=[{key:"addColors",value:function(yt){var wt=Object.keys(yt).reduce(function(Rt,Mt){return Rt[Mt]=et.test(yt[Mt])?yt[Mt].split(et):yt[Mt],Rt},{});return gt.allColors=Object.assign({},gt.allColors||{},wt),gt.allColors}}],(ft=[{key:"addColors",value:function(yt){return gt.addColors(yt)}},{key:"colorize",value:function(yt,wt,Rt){if(Rt===void 0&&(Rt=wt),!Array.isArray(gt.allColors[yt]))return j[gt.allColors[yt]](Rt);for(var Mt=0,Tt=gt.allColors[yt].length;Mt<Tt;Mt++)Rt=j[gt.allColors[yt][Mt]](Rt);return Rt}},{key:"transform",value:function(yt,wt){return wt.all&&typeof yt[$]=="string"&&(yt[$]=this.colorize(yt[s],yt.level,yt[$])),(wt.level||wt.all||!wt.message)&&(yt.level=this.colorize(yt[s],yt.level)),(wt.all||wt.message)&&(yt.message=this.colorize(yt[s],yt.level,yt.message)),yt}}])&&d(lt.prototype,ft),ot&&d(lt,ot),gt}();e.exports=function(gt){return new ut(gt)},e.exports.Colorizer=e.exports.Format=ut},function(e,i){var o={}.toString;e.exports=Array.isArray||function(c){return o.call(c)=="[object Array]"}},function(e,i,o){(function(c){function d(j){try{if(!c.localStorage)return!1}catch{return!1}var Z=c.localStorage[j];return Z!=null&&String(Z).toLowerCase()==="true"}e.exports=function(j,Z){if(d("noDeprecation"))return j;var s=!1;return function(){if(!s){if(d("throwDeprecation"))throw new Error(Z);d("traceDeprecation")?console.trace(Z):console.warn(Z),s=!0}return j.apply(this,arguments)}}}).call(this,o(5))},function(e,i,o){var c=o(4),d=c.Buffer;function j(s,$){for(var et in s)$[et]=s[et]}function Z(s,$,et){return d(s,$,et)}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(j(c,i),i.Buffer=Z),j(d,Z),Z.from=function(s,$,et){if(typeof s=="number")throw new TypeError("Argument must not be a number");return d(s,$,et)},Z.alloc=function(s,$,et){if(typeof s!="number")throw new TypeError("Argument must be a number");var ut=d(s);return $!==void 0?typeof et=="string"?ut.fill($,et):ut.fill($):ut.fill(0),ut},Z.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return d(s)},Z.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(s)}},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return c&&typeof c.length=="number"&&c.length>=0&&c.length%1==0},e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default={},e.exports=i.default},function(e,i,o){var c=o(4),d=c.Buffer;function j(s,$){for(var et in s)$[et]=s[et]}function Z(s,$,et){return d(s,$,et)}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(j(c,i),i.Buffer=Z),j(d,Z),Z.from=function(s,$,et){if(typeof s=="number")throw new TypeError("Argument must not be a number");return d(s,$,et)},Z.alloc=function(s,$,et){if(typeof s!="number")throw new TypeError("Argument must be a number");var ut=d(s);return $!==void 0?typeof et=="string"?ut.fill($,et):ut.fill($):ut.fill(0),ut},Z.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return d(s)},Z.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(s)}},function(e,i,o){(function(c,d,j){var Z=o(13);function s(dt){var bt=this;this.next=null,this.entry=null,this.finish=function(){(function(mt,jt,zt){var kt=mt.entry;for(mt.entry=null;kt;){var St=kt.callback;jt.pendingcb--,St(void 0),kt=kt.next}jt.corkedRequestsFree?jt.corkedRequestsFree.next=mt:jt.corkedRequestsFree=mt})(bt,dt)}}e.exports=Tt;var $,et=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?d:Z.nextTick;Tt.WritableState=Mt;var ut=o(14);ut.inherits=o(6);var gt,lt={deprecate:o(39)},ft=o(68),ot=o(43).Buffer,yt=j.Uint8Array||function(){},wt=o(69);function Rt(){}function Mt(dt,bt){$=$||o(20),dt=dt||{};var mt=bt instanceof $;this.objectMode=!!dt.objectMode,mt&&(this.objectMode=this.objectMode||!!dt.writableObjectMode);var jt=dt.highWaterMark,zt=dt.writableHighWaterMark,kt=this.objectMode?16:16384;this.highWaterMark=jt||jt===0?jt:mt&&(zt||zt===0)?zt:kt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var St=dt.decodeStrings===!1;this.decodeStrings=!St,this.defaultEncoding=dt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Dt){(function(Nt,_t){var at,Bt=Nt._writableState,Vt=Bt.sync,Qt=Bt.writecb;if((at=Bt).writing=!1,at.writecb=null,at.length-=at.writelen,at.writelen=0,_t)(function(ar,qt,Gt,vt,At){--qt.pendingcb,Gt?(Z.nextTick(At,vt),Z.nextTick(pt,ar,qt),ar._writableState.errorEmitted=!0,ar.emit("error",vt)):(At(vt),ar._writableState.errorEmitted=!0,ar.emit("error",vt),pt(ar,qt))})(Nt,Bt,Vt,_t,Qt);else{var or=Kt(Bt);or||Bt.corked||Bt.bufferProcessing||!Bt.bufferedRequest||Lt(Nt,Bt),Vt?et(ct,Nt,Bt,or,Qt):ct(Nt,Bt,or,Qt)}})(bt,Dt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function Tt(dt){if($=$||o(20),!(gt.call(Tt,this)||this instanceof $))return new Tt(dt);this._writableState=new Mt(dt,this),this.writable=!0,dt&&(typeof dt.write=="function"&&(this._write=dt.write),typeof dt.writev=="function"&&(this._writev=dt.writev),typeof dt.destroy=="function"&&(this._destroy=dt.destroy),typeof dt.final=="function"&&(this._final=dt.final)),ft.call(this)}function Ct(dt,bt,mt,jt,zt,kt,St){bt.writelen=jt,bt.writecb=St,bt.writing=!0,bt.sync=!0,mt?dt._writev(zt,bt.onwrite):dt._write(zt,kt,bt.onwrite),bt.sync=!1}function ct(dt,bt,mt,jt){var zt,kt;mt||(zt=dt,(kt=bt).length===0&&kt.needDrain&&(kt.needDrain=!1,zt.emit("drain"))),bt.pendingcb--,jt(),pt(dt,bt)}function Lt(dt,bt){bt.bufferProcessing=!0;var mt=bt.bufferedRequest;if(dt._writev&&mt&&mt.next){var jt=bt.bufferedRequestCount,zt=new Array(jt),kt=bt.corkedRequestsFree;kt.entry=mt;for(var St=0,Dt=!0;mt;)zt[St]=mt,mt.isBuf||(Dt=!1),mt=mt.next,St+=1;zt.allBuffers=Dt,Ct(dt,bt,!0,bt.length,zt,"",kt.finish),bt.pendingcb++,bt.lastBufferedRequest=null,kt.next?(bt.corkedRequestsFree=kt.next,kt.next=null):bt.corkedRequestsFree=new s(bt),bt.bufferedRequestCount=0}else{for(;mt;){var Nt=mt.chunk,_t=mt.encoding,at=mt.callback;if(Ct(dt,bt,!1,bt.objectMode?1:Nt.length,Nt,_t,at),mt=mt.next,bt.bufferedRequestCount--,bt.writing)break}mt===null&&(bt.lastBufferedRequest=null)}bt.bufferedRequest=mt,bt.bufferProcessing=!1}function Kt(dt){return dt.ending&&dt.length===0&&dt.bufferedRequest===null&&!dt.finished&&!dt.writing}function Yt(dt,bt){dt._final(function(mt){bt.pendingcb--,mt&&dt.emit("error",mt),bt.prefinished=!0,dt.emit("prefinish"),pt(dt,bt)})}function pt(dt,bt){var mt,jt,zt=Kt(bt);return zt&&(mt=dt,(jt=bt).prefinished||jt.finalCalled||(typeof mt._final=="function"?(jt.pendingcb++,jt.finalCalled=!0,Z.nextTick(Yt,mt,jt)):(jt.prefinished=!0,mt.emit("prefinish"))),bt.pendingcb===0&&(bt.finished=!0,dt.emit("finish"))),zt}ut.inherits(Tt,ft),Mt.prototype.getBuffer=function(){for(var dt=this.bufferedRequest,bt=[];dt;)bt.push(dt),dt=dt.next;return bt},function(){try{Object.defineProperty(Mt.prototype,"buffer",{get:lt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Tt,Symbol.hasInstance,{value:function(dt){return!!gt.call(this,dt)||this===Tt&&dt&&dt._writableState instanceof Mt}})):gt=function(dt){return dt instanceof this},Tt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Tt.prototype.write=function(dt,bt,mt){var jt,zt,kt=this._writableState,St=!1,Dt=!kt.objectMode&&(jt=dt,ot.isBuffer(jt)||jt instanceof yt);return Dt&&!ot.isBuffer(dt)&&(zt=dt,dt=ot.from(zt)),typeof bt=="function"&&(mt=bt,bt=null),Dt?bt="buffer":bt||(bt=kt.defaultEncoding),typeof mt!="function"&&(mt=Rt),kt.ended?function(Nt,_t){var at=new Error("write after end");Nt.emit("error",at),Z.nextTick(_t,at)}(this,mt):(Dt||function(Nt,_t,at,Bt){var Vt=!0,Qt=!1;return at===null?Qt=new TypeError("May not write null values to stream"):typeof at=="string"||at===void 0||_t.objectMode||(Qt=new TypeError("Invalid non-string/buffer chunk")),Qt&&(Nt.emit("error",Qt),Z.nextTick(Bt,Qt),Vt=!1),Vt}(this,kt,dt,mt))&&(kt.pendingcb++,St=function(Nt,_t,at,Bt,Vt,Qt){if(!at){var or=(qt=Bt,Gt=Vt,(ar=_t).objectMode||ar.decodeStrings===!1||typeof qt!="string"||(qt=ot.from(qt,Gt)),qt);Bt!==or&&(at=!0,Vt="buffer",Bt=or)}var ar,qt,Gt,vt=_t.objectMode?1:Bt.length;_t.length+=vt;var At=_t.length<_t.highWaterMark;if(At||(_t.needDrain=!0),_t.writing||_t.corked){var It=_t.lastBufferedRequest;_t.lastBufferedRequest={chunk:Bt,encoding:Vt,isBuf:at,callback:Qt,next:null},It?It.next=_t.lastBufferedRequest:_t.bufferedRequest=_t.lastBufferedRequest,_t.bufferedRequestCount+=1}else Ct(Nt,_t,!1,vt,Bt,Vt,Qt);return At}(this,kt,Dt,dt,bt,mt)),St},Tt.prototype.cork=function(){this._writableState.corked++},Tt.prototype.uncork=function(){var dt=this._writableState;dt.corked&&(dt.corked--,dt.writing||dt.corked||dt.finished||dt.bufferProcessing||!dt.bufferedRequest||Lt(this,dt))},Tt.prototype.setDefaultEncoding=function(dt){if(typeof dt=="string"&&(dt=dt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((dt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+dt);return this._writableState.defaultEncoding=dt,this},Object.defineProperty(Tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Tt.prototype._write=function(dt,bt,mt){mt(new Error("_write() is not implemented"))},Tt.prototype._writev=null,Tt.prototype.end=function(dt,bt,mt){var jt,zt,kt,St=this._writableState;typeof dt=="function"?(mt=dt,dt=null,bt=null):typeof bt=="function"&&(mt=bt,bt=null),dt!=null&&this.write(dt,bt),St.corked&&(St.corked=1,this.uncork()),St.ending||St.finished||(jt=this,kt=mt,(zt=St).ending=!0,pt(jt,zt),kt&&(zt.finished?Z.nextTick(kt):jt.once("finish",kt)),zt.ended=!0,jt.writable=!1)},Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(dt){this._writableState&&(this._writableState.destroyed=dt)}}),Tt.prototype.destroy=wt.destroy,Tt.prototype._undestroy=wt.undestroy,Tt.prototype._destroy=function(dt,bt){this.end(),bt(dt)}}).call(this,o(2),o(12).setImmediate,o(5))},function(e,i,o){var c=o(24).codes.ERR_STREAM_PREMATURE_CLOSE;function d(){}e.exports=function j(Z,s,$){if(typeof s=="function")return j(Z,null,s);var et,ut;s||(s={}),et=$||d,ut=!1,$=function(){if(!ut){ut=!0;for(var ct=arguments.length,Lt=new Array(ct),Kt=0;Kt<ct;Kt++)Lt[Kt]=arguments[Kt];et.apply(this,Lt)}};var gt=s.readable||s.readable!==!1&&Z.readable,lt=s.writable||s.writable!==!1&&Z.writable,ft=function(){Z.writable||yt()},ot=Z._writableState&&Z._writableState.finished,yt=function(){lt=!1,ot=!0,gt||$.call(Z)},wt=Z._readableState&&Z._readableState.endEmitted,Rt=function(){gt=!1,wt=!0,lt||$.call(Z)},Mt=function(ct){$.call(Z,ct)},Tt=function(){var ct;return gt&&!wt?(Z._readableState&&Z._readableState.ended||(ct=new c),$.call(Z,ct)):lt&&!ot?(Z._writableState&&Z._writableState.ended||(ct=new c),$.call(Z,ct)):void 0},Ct=function(){Z.req.on("finish",yt)};return function(ct){return ct.setHeader&&typeof ct.abort=="function"}(Z)?(Z.on("complete",yt),Z.on("abort",Tt),Z.req?Ct():Z.on("request",Ct)):lt&&!Z._writableState&&(Z.on("end",ft),Z.on("close",ft)),Z.on("end",Rt),Z.on("finish",yt),s.error!==!1&&Z.on("error",Mt),Z.on("close",Tt),function(){Z.removeListener("complete",yt),Z.removeListener("abort",Tt),Z.removeListener("request",Ct),Z.req&&Z.req.removeListener("finish",yt),Z.removeListener("end",ft),Z.removeListener("close",ft),Z.removeListener("finish",yt),Z.removeListener("end",Rt),Z.removeListener("error",Mt),Z.removeListener("close",Tt)}}},function(e,i,o){var c=o(193),d=o(195);function j(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}i.parse=Tt,i.resolve=function(Ct,ct){return Tt(Ct,!1,!0).resolve(ct)},i.resolveObject=function(Ct,ct){return Ct?Tt(Ct,!1,!0).resolveObject(ct):ct},i.format=function(Ct){return d.isString(Ct)&&(Ct=Tt(Ct)),Ct instanceof j?Ct.format():j.prototype.format.call(Ct)},i.Url=j;var Z=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,$=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,et=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ut=["'"].concat(et),gt=["%","/","?",";","#"].concat(ut),lt=["/","?","#"],ft=/^[+a-z0-9A-Z_-]{0,63}$/,ot=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yt={javascript:!0,"javascript:":!0},wt={javascript:!0,"javascript:":!0},Rt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Mt=o(196);function Tt(Ct,ct,Lt){if(Ct&&d.isObject(Ct)&&Ct instanceof j)return Ct;var Kt=new j;return Kt.parse(Ct,ct,Lt),Kt}j.prototype.parse=function(Ct,ct,Lt){if(!d.isString(Ct))throw new TypeError("Parameter 'url' must be a string, not "+typeof Ct);var Kt=Ct.indexOf("?"),Yt=Kt!==-1&&Kt<Ct.indexOf("#")?"?":"#",pt=Ct.split(Yt);pt[0]=pt[0].replace(/\\/g,"/");var dt=Ct=pt.join(Yt);if(dt=dt.trim(),!Lt&&Ct.split("#").length===1){var bt=$.exec(dt);if(bt)return this.path=dt,this.href=dt,this.pathname=bt[1],bt[2]?(this.search=bt[2],this.query=ct?Mt.parse(this.search.substr(1)):this.search.substr(1)):ct&&(this.search="",this.query={}),this}var mt=Z.exec(dt);if(mt){var jt=(mt=mt[0]).toLowerCase();this.protocol=jt,dt=dt.substr(mt.length)}if(Lt||mt||dt.match(/^\/\/[^@\/]+@[^@\/]+/)){var zt=dt.substr(0,2)==="//";!zt||mt&&wt[mt]||(dt=dt.substr(2),this.slashes=!0)}if(!wt[mt]&&(zt||mt&&!Rt[mt])){for(var kt,St,Dt=-1,Nt=0;Nt<lt.length;Nt++)(_t=dt.indexOf(lt[Nt]))!==-1&&(Dt===-1||_t<Dt)&&(Dt=_t);for((St=Dt===-1?dt.lastIndexOf("@"):dt.lastIndexOf("@",Dt))!==-1&&(kt=dt.slice(0,St),dt=dt.slice(St+1),this.auth=decodeURIComponent(kt)),Dt=-1,Nt=0;Nt<gt.length;Nt++){var _t;(_t=dt.indexOf(gt[Nt]))!==-1&&(Dt===-1||_t<Dt)&&(Dt=_t)}Dt===-1&&(Dt=dt.length),this.host=dt.slice(0,Dt),dt=dt.slice(Dt),this.parseHost(),this.hostname=this.hostname||"";var at=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!at)for(var Bt=this.hostname.split(/\./),Vt=(Nt=0,Bt.length);Nt<Vt;Nt++){var Qt=Bt[Nt];if(Qt&&!Qt.match(ft)){for(var or="",ar=0,qt=Qt.length;ar<qt;ar++)Qt.charCodeAt(ar)>127?or+="x":or+=Qt[ar];if(!or.match(ft)){var Gt=Bt.slice(0,Nt),vt=Bt.slice(Nt+1),At=Qt.match(ot);At&&(Gt.push(At[1]),vt.unshift(At[2])),vt.length&&(dt="/"+vt.join(".")+dt),this.hostname=Gt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),at||(this.hostname=c.toASCII(this.hostname));var It=this.port?":"+this.port:"",Ht=this.hostname||"";this.host=Ht+It,this.href+=this.host,at&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),dt[0]!=="/"&&(dt="/"+dt))}if(!yt[jt])for(Nt=0,Vt=ut.length;Nt<Vt;Nt++){var Zt=ut[Nt];if(dt.indexOf(Zt)!==-1){var rr=encodeURIComponent(Zt);rr===Zt&&(rr=escape(Zt)),dt=dt.split(Zt).join(rr)}}var pr=dt.indexOf("#");pr!==-1&&(this.hash=dt.substr(pr),dt=dt.slice(0,pr));var _r=dt.indexOf("?");if(_r!==-1?(this.search=dt.substr(_r),this.query=dt.substr(_r+1),ct&&(this.query=Mt.parse(this.query)),dt=dt.slice(0,_r)):ct&&(this.search="",this.query={}),dt&&(this.pathname=dt),Rt[jt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){It=this.pathname||"";var ir=this.search||"";this.path=It+ir}return this.href=this.format(),this},j.prototype.format=function(){var Ct=this.auth||"";Ct&&(Ct=(Ct=encodeURIComponent(Ct)).replace(/%3A/i,":"),Ct+="@");var ct=this.protocol||"",Lt=this.pathname||"",Kt=this.hash||"",Yt=!1,pt="";this.host?Yt=Ct+this.host:this.hostname&&(Yt=Ct+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Yt+=":"+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(pt=Mt.stringify(this.query));var dt=this.search||pt&&"?"+pt||"";return ct&&ct.substr(-1)!==":"&&(ct+=":"),this.slashes||(!ct||Rt[ct])&&Yt!==!1?(Yt="//"+(Yt||""),Lt&&Lt.charAt(0)!=="/"&&(Lt="/"+Lt)):Yt||(Yt=""),Kt&&Kt.charAt(0)!=="#"&&(Kt="#"+Kt),dt&&dt.charAt(0)!=="?"&&(dt="?"+dt),ct+Yt+(Lt=Lt.replace(/[?#]/g,function(bt){return encodeURIComponent(bt)}))+(dt=dt.replace("#","%23"))+Kt},j.prototype.resolve=function(Ct){return this.resolveObject(Tt(Ct,!1,!0)).format()},j.prototype.resolveObject=function(Ct){if(d.isString(Ct)){var ct=new j;ct.parse(Ct,!1,!0),Ct=ct}for(var Lt=new j,Kt=Object.keys(this),Yt=0;Yt<Kt.length;Yt++){var pt=Kt[Yt];Lt[pt]=this[pt]}if(Lt.hash=Ct.hash,Ct.href==="")return Lt.href=Lt.format(),Lt;if(Ct.slashes&&!Ct.protocol){for(var dt=Object.keys(Ct),bt=0;bt<dt.length;bt++){var mt=dt[bt];mt!=="protocol"&&(Lt[mt]=Ct[mt])}return Rt[Lt.protocol]&&Lt.hostname&&!Lt.pathname&&(Lt.path=Lt.pathname="/"),Lt.href=Lt.format(),Lt}if(Ct.protocol&&Ct.protocol!==Lt.protocol){if(!Rt[Ct.protocol]){for(var jt=Object.keys(Ct),zt=0;zt<jt.length;zt++){var kt=jt[zt];Lt[kt]=Ct[kt]}return Lt.href=Lt.format(),Lt}if(Lt.protocol=Ct.protocol,Ct.host||wt[Ct.protocol])Lt.pathname=Ct.pathname;else{for(var St=(Ct.pathname||"").split("/");St.length&&!(Ct.host=St.shift()););Ct.host||(Ct.host=""),Ct.hostname||(Ct.hostname=""),St[0]!==""&&St.unshift(""),St.length<2&&St.unshift(""),Lt.pathname=St.join("/")}if(Lt.search=Ct.search,Lt.query=Ct.query,Lt.host=Ct.host||"",Lt.auth=Ct.auth,Lt.hostname=Ct.hostname||Ct.host,Lt.port=Ct.port,Lt.pathname||Lt.search){var Dt=Lt.pathname||"",Nt=Lt.search||"";Lt.path=Dt+Nt}return Lt.slashes=Lt.slashes||Ct.slashes,Lt.href=Lt.format(),Lt}var _t=Lt.pathname&&Lt.pathname.charAt(0)==="/",at=Ct.host||Ct.pathname&&Ct.pathname.charAt(0)==="/",Bt=at||_t||Lt.host&&Ct.pathname,Vt=Bt,Qt=Lt.pathname&&Lt.pathname.split("/")||[],or=(St=Ct.pathname&&Ct.pathname.split("/")||[],Lt.protocol&&!Rt[Lt.protocol]);if(or&&(Lt.hostname="",Lt.port=null,Lt.host&&(Qt[0]===""?Qt[0]=Lt.host:Qt.unshift(Lt.host)),Lt.host="",Ct.protocol&&(Ct.hostname=null,Ct.port=null,Ct.host&&(St[0]===""?St[0]=Ct.host:St.unshift(Ct.host)),Ct.host=null),Bt=Bt&&(St[0]===""||Qt[0]==="")),at)Lt.host=Ct.host||Ct.host===""?Ct.host:Lt.host,Lt.hostname=Ct.hostname||Ct.hostname===""?Ct.hostname:Lt.hostname,Lt.search=Ct.search,Lt.query=Ct.query,Qt=St;else if(St.length)Qt||(Qt=[]),Qt.pop(),Qt=Qt.concat(St),Lt.search=Ct.search,Lt.query=Ct.query;else if(!d.isNullOrUndefined(Ct.search))return or&&(Lt.hostname=Lt.host=Qt.shift(),(At=!!(Lt.host&&Lt.host.indexOf("@")>0)&&Lt.host.split("@"))&&(Lt.auth=At.shift(),Lt.host=Lt.hostname=At.shift())),Lt.search=Ct.search,Lt.query=Ct.query,d.isNull(Lt.pathname)&&d.isNull(Lt.search)||(Lt.path=(Lt.pathname?Lt.pathname:"")+(Lt.search?Lt.search:"")),Lt.href=Lt.format(),Lt;if(!Qt.length)return Lt.pathname=null,Lt.search?Lt.path="/"+Lt.search:Lt.path=null,Lt.href=Lt.format(),Lt;for(var ar=Qt.slice(-1)[0],qt=(Lt.host||Ct.host||Qt.length>1)&&(ar==="."||ar==="..")||ar==="",Gt=0,vt=Qt.length;vt>=0;vt--)(ar=Qt[vt])==="."?Qt.splice(vt,1):ar===".."?(Qt.splice(vt,1),Gt++):Gt&&(Qt.splice(vt,1),Gt--);if(!Bt&&!Vt)for(;Gt--;Gt)Qt.unshift("..");!Bt||Qt[0]===""||Qt[0]&&Qt[0].charAt(0)==="/"||Qt.unshift(""),qt&&Qt.join("/").substr(-1)!=="/"&&Qt.push("");var At,It=Qt[0]===""||Qt[0]&&Qt[0].charAt(0)==="/";return or&&(Lt.hostname=Lt.host=It?"":Qt.length?Qt.shift():"",(At=!!(Lt.host&&Lt.host.indexOf("@")>0)&&Lt.host.split("@"))&&(Lt.auth=At.shift(),Lt.host=Lt.hostname=At.shift())),(Bt=Bt||Lt.host&&Qt.length)&&!It&&Qt.unshift(""),Qt.length?Lt.pathname=Qt.join("/"):(Lt.pathname=null,Lt.path=null),d.isNull(Lt.pathname)&&d.isNull(Lt.search)||(Lt.path=(Lt.pathname?Lt.pathname:"")+(Lt.search?Lt.search:"")),Lt.auth=Ct.auth||Lt.auth,Lt.slashes=Lt.slashes||Ct.slashes,Lt.href=Lt.format(),Lt},j.prototype.parseHost=function(){var Ct=this.host,ct=s.exec(Ct);ct&&((ct=ct[0])!==":"&&(this.port=ct.substr(1)),Ct=Ct.substr(0,Ct.length-ct.length)),Ct&&(this.hostname=Ct)}},function(e,i,o){var c=o(56),d=o(3).configs;i.cli=c.levels(d.cli),i.npm=c.levels(d.npm),i.syslog=c.levels(d.syslog),i.addColors=c.levels},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=s(o(202)),d=s(o(203)),j=s(o(23)),Z=s(o(27));function s($){return $&&$.__esModule?$:{default:$}}i.default=(0,Z.default)(function($,et,ut){return(0,c.default)($,(0,d.default)((0,j.default)(et)),ut)},3),e.exports=i.default},function(e,i,o){function c(d){Error.captureStackTrace(this,this.constructor),this.name="EnvVarError",this.message=`env-var: ${d}`}(0,o(10).inherits)(c,Error),e.exports=c},function(e,i,o){e.exports=function(c){const d=parseInt(c,10);if(isNaN(d)||c.toString().indexOf(".")!==-1)throw new Error("should be a valid integer");return d}},function(e,i,o){e.exports=function(c){const d=parseFloat(c);if(isNaN(d))throw new Error("should be a valid float");return d}},function(e,i,o){e.exports=function(c){try{return JSON.parse(c)}catch{throw new Error("should be valid (parseable) JSON")}}},function(e,i,o){(function(c){function d(s,$){for(var et=0,ut=s.length-1;ut>=0;ut--){var gt=s[ut];gt==="."?s.splice(ut,1):gt===".."?(s.splice(ut,1),et++):et&&(s.splice(ut,1),et--)}if($)for(;et--;et)s.unshift("..");return s}function j(s,$){if(s.filter)return s.filter($);for(var et=[],ut=0;ut<s.length;ut++)$(s[ut],ut,s)&&et.push(s[ut]);return et}i.resolve=function(){for(var s="",$=!1,et=arguments.length-1;et>=-1&&!$;et--){var ut=et>=0?arguments[et]:c.cwd();if(typeof ut!="string")throw new TypeError("Arguments to path.resolve must be strings");ut&&(s=ut+"/"+s,$=ut.charAt(0)==="/")}return($?"/":"")+(s=d(j(s.split("/"),function(gt){return!!gt}),!$).join("/"))||"."},i.normalize=function(s){var $=i.isAbsolute(s),et=Z(s,-1)==="/";return(s=d(j(s.split("/"),function(ut){return!!ut}),!$).join("/"))||$||(s="."),s&&et&&(s+="/"),($?"/":"")+s},i.isAbsolute=function(s){return s.charAt(0)==="/"},i.join=function(){var s=Array.prototype.slice.call(arguments,0);return i.normalize(j(s,function($,et){if(typeof $!="string")throw new TypeError("Arguments to path.join must be strings");return $}).join("/"))},i.relative=function(s,$){function et(wt){for(var Rt=0;Rt<wt.length&&wt[Rt]==="";Rt++);for(var Mt=wt.length-1;Mt>=0&&wt[Mt]==="";Mt--);return Rt>Mt?[]:wt.slice(Rt,Mt-Rt+1)}s=i.resolve(s).substr(1),$=i.resolve($).substr(1);for(var ut=et(s.split("/")),gt=et($.split("/")),lt=Math.min(ut.length,gt.length),ft=lt,ot=0;ot<lt;ot++)if(ut[ot]!==gt[ot]){ft=ot;break}var yt=[];for(ot=ft;ot<ut.length;ot++)yt.push("..");return(yt=yt.concat(gt.slice(ft))).join("/")},i.sep="/",i.delimiter=":",i.dirname=function(s){if(typeof s!="string"&&(s+=""),s.length===0)return".";for(var $=s.charCodeAt(0),et=$===47,ut=-1,gt=!0,lt=s.length-1;lt>=1;--lt)if(($=s.charCodeAt(lt))===47){if(!gt){ut=lt;break}}else gt=!1;return ut===-1?et?"/":".":et&&ut===1?"/":s.slice(0,ut)},i.basename=function(s,$){var et=function(ut){typeof ut!="string"&&(ut+="");var gt,lt=0,ft=-1,ot=!0;for(gt=ut.length-1;gt>=0;--gt)if(ut.charCodeAt(gt)===47){if(!ot){lt=gt+1;break}}else ft===-1&&(ot=!1,ft=gt+1);return ft===-1?"":ut.slice(lt,ft)}(s);return $&&et.substr(-1*$.length)===$&&(et=et.substr(0,et.length-$.length)),et},i.extname=function(s){typeof s!="string"&&(s+="");for(var $=-1,et=0,ut=-1,gt=!0,lt=0,ft=s.length-1;ft>=0;--ft){var ot=s.charCodeAt(ft);if(ot!==47)ut===-1&&(gt=!1,ut=ft+1),ot===46?$===-1?$=ft:lt!==1&&(lt=1):$!==-1&&(lt=-1);else if(!gt){et=ft+1;break}}return $===-1||ut===-1||lt===0||lt===1&&$===ut-1&&$===et+1?"":s.slice($,ut)};var Z="ab".substr(-1)==="b"?function(s,$,et){return s.substr($,et)}:function(s,$,et){return $<0&&($=s.length+$),s.substr($,et)}}).call(this,o(2))},function(e,i){function o(c,d){var j=[],Z=[];return d==null&&(d=function(s,$){return j[0]===$?"[Circular ~]":"[Circular ~."+Z.slice(0,j.indexOf($)).join(".")+"]"}),function(s,$){if(j.length>0){var et=j.indexOf(this);~et?j.splice(et+1):j.push(this),~et?Z.splice(et,1/0,s):Z.push(s),~j.indexOf($)&&($=d.call(this,s,$))}else j.push($);return c==null?$:c.call(this,s,$)}}(e.exports=function(c,d,j,Z){return JSON.stringify(c,o(d,Z),j)}).getSerialize=o},function(e,i,o){o(227),e.exports={encode:c=>new TextEncoder().encode(c),decode:c=>new TextDecoder().decode(c)}},function(e,i,o){var c=i.format=o(9);i.levels=o(104),Object.defineProperty(c,"align",{value:o(121)}),Object.defineProperty(c,"cli",{value:o(122)}),Object.defineProperty(c,"combine",{value:o(123)}),Object.defineProperty(c,"colorize",{value:o(37)}),Object.defineProperty(c,"json",{value:o(124)}),Object.defineProperty(c,"label",{value:o(127)}),Object.defineProperty(c,"logstash",{value:o(128)}),Object.defineProperty(c,"metadata",{value:o(129)}),Object.defineProperty(c,"padLevels",{value:o(58)}),Object.defineProperty(c,"prettyPrint",{value:o(130)}),Object.defineProperty(c,"printf",{value:o(131)}),Object.defineProperty(c,"simple",{value:o(132)}),Object.defineProperty(c,"splat",{value:o(133)}),Object.defineProperty(c,"timestamp",{value:o(134)}),Object.defineProperty(c,"uncolorize",{value:o(136)})},function(e,i,o){var c=o(105);e.exports=c},function(e,i,o){function c(gt,lt){(lt==null||lt>gt.length)&&(lt=gt.length);for(var ft=0,ot=new Array(lt);ft<lt;ft++)ot[ft]=gt[ft];return ot}function d(gt,lt){if(!(gt instanceof lt))throw new TypeError("Cannot call a class as a function")}function j(gt,lt){for(var ft=0;ft<lt.length;ft++){var ot=lt[ft];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(gt,ot.key,ot)}}var Z=o(3),s=Z.configs,$=Z.LEVEL,et=Z.MESSAGE,ut=function(){function gt(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:s.npm.levels};d(this,gt),this.paddings=gt.paddingForLevels(yt.levels,yt.filler),this.options=yt}var lt,ft,ot;return lt=gt,ot=[{key:"getLongestLevel",value:function(yt){var wt=Object.keys(yt).map(function(Rt){return Rt.length});return Math.max.apply(Math,function(Rt){return function(Mt){if(Array.isArray(Mt))return c(Mt)}(Rt)||function(Mt){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(Mt))return Array.from(Mt)}(Rt)||function(Mt,Tt){if(Mt){if(typeof Mt=="string")return c(Mt,Tt);var Ct=Object.prototype.toString.call(Mt).slice(8,-1);return Ct==="Object"&&Mt.constructor&&(Ct=Mt.constructor.name),Ct==="Map"||Ct==="Set"?Array.from(Mt):Ct==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ct)?c(Mt,Tt):void 0}}(Rt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(wt))}},{key:"paddingForLevel",value:function(yt,wt,Rt){var Mt=Rt+1-yt.length,Tt=Math.floor(Mt/wt.length);return"".concat(wt).concat(wt.repeat(Tt)).slice(0,Mt)}},{key:"paddingForLevels",value:function(yt){var wt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",Rt=gt.getLongestLevel(yt);return Object.keys(yt).reduce(function(Mt,Tt){return Mt[Tt]=gt.paddingForLevel(Tt,wt,Rt),Mt},{})}}],(ft=[{key:"transform",value:function(yt,wt){return yt.message="".concat(this.paddings[yt[$]]).concat(yt.message),yt[et]&&(yt[et]="".concat(this.paddings[yt[$]]).concat(yt[et])),yt}}])&&j(lt.prototype,ft),ot&&j(lt,ot),gt}();e.exports=function(gt){return new ut(gt)},e.exports.Padder=e.exports.Format=ut},function(e,i,o){var c=o(10).format;i.warn={deprecated:function(d){return function(){throw new Error(c("{ %s } was removed in winston@3.0.0.",d))}},useFormat:function(d){return function(){throw new Error([c("{ %s } was removed in winston@3.0.0.",d),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(d,j,Z){Z.forEach(function(s){d[s]=i.warn[j](s)})},moved:function(d,j,Z){function s(){return function(){throw new Error([c("winston.%s was moved in winston@3.0.0.",Z),c("Use a winston.%s instead.",j)].join(`
`))}}Object.defineProperty(d,Z,{get:s,set:s})},forProperties:function(d,j,Z){Z.forEach(function(s){var $=i.warn[j](s);Object.defineProperty(d,s,{get:$,set:$})})}}},function(e,i,o){(function(c,d,j){var Z=o(13);function s(dt){var bt=this;this.next=null,this.entry=null,this.finish=function(){(function(mt,jt,zt){var kt=mt.entry;for(mt.entry=null;kt;){var St=kt.callback;jt.pendingcb--,St(void 0),kt=kt.next}jt.corkedRequestsFree?jt.corkedRequestsFree.next=mt:jt.corkedRequestsFree=mt})(bt,dt)}}e.exports=Tt;var $,et=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?d:Z.nextTick;Tt.WritableState=Mt;var ut=Object.create(o(14));ut.inherits=o(6);var gt,lt={deprecate:o(39)},ft=o(61),ot=o(40).Buffer,yt=j.Uint8Array||function(){},wt=o(62);function Rt(){}function Mt(dt,bt){$=$||o(32),dt=dt||{};var mt=bt instanceof $;this.objectMode=!!dt.objectMode,mt&&(this.objectMode=this.objectMode||!!dt.writableObjectMode);var jt=dt.highWaterMark,zt=dt.writableHighWaterMark,kt=this.objectMode?16:16384;this.highWaterMark=jt||jt===0?jt:mt&&(zt||zt===0)?zt:kt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var St=dt.decodeStrings===!1;this.decodeStrings=!St,this.defaultEncoding=dt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Dt){(function(Nt,_t){var at,Bt=Nt._writableState,Vt=Bt.sync,Qt=Bt.writecb;if((at=Bt).writing=!1,at.writecb=null,at.length-=at.writelen,at.writelen=0,_t)(function(ar,qt,Gt,vt,At){--qt.pendingcb,Gt?(Z.nextTick(At,vt),Z.nextTick(pt,ar,qt),ar._writableState.errorEmitted=!0,ar.emit("error",vt)):(At(vt),ar._writableState.errorEmitted=!0,ar.emit("error",vt),pt(ar,qt))})(Nt,Bt,Vt,_t,Qt);else{var or=Kt(Bt);or||Bt.corked||Bt.bufferProcessing||!Bt.bufferedRequest||Lt(Nt,Bt),Vt?et(ct,Nt,Bt,or,Qt):ct(Nt,Bt,or,Qt)}})(bt,Dt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function Tt(dt){if($=$||o(32),!(gt.call(Tt,this)||this instanceof $))return new Tt(dt);this._writableState=new Mt(dt,this),this.writable=!0,dt&&(typeof dt.write=="function"&&(this._write=dt.write),typeof dt.writev=="function"&&(this._writev=dt.writev),typeof dt.destroy=="function"&&(this._destroy=dt.destroy),typeof dt.final=="function"&&(this._final=dt.final)),ft.call(this)}function Ct(dt,bt,mt,jt,zt,kt,St){bt.writelen=jt,bt.writecb=St,bt.writing=!0,bt.sync=!0,mt?dt._writev(zt,bt.onwrite):dt._write(zt,kt,bt.onwrite),bt.sync=!1}function ct(dt,bt,mt,jt){var zt,kt;mt||(zt=dt,(kt=bt).length===0&&kt.needDrain&&(kt.needDrain=!1,zt.emit("drain"))),bt.pendingcb--,jt(),pt(dt,bt)}function Lt(dt,bt){bt.bufferProcessing=!0;var mt=bt.bufferedRequest;if(dt._writev&&mt&&mt.next){var jt=bt.bufferedRequestCount,zt=new Array(jt),kt=bt.corkedRequestsFree;kt.entry=mt;for(var St=0,Dt=!0;mt;)zt[St]=mt,mt.isBuf||(Dt=!1),mt=mt.next,St+=1;zt.allBuffers=Dt,Ct(dt,bt,!0,bt.length,zt,"",kt.finish),bt.pendingcb++,bt.lastBufferedRequest=null,kt.next?(bt.corkedRequestsFree=kt.next,kt.next=null):bt.corkedRequestsFree=new s(bt),bt.bufferedRequestCount=0}else{for(;mt;){var Nt=mt.chunk,_t=mt.encoding,at=mt.callback;if(Ct(dt,bt,!1,bt.objectMode?1:Nt.length,Nt,_t,at),mt=mt.next,bt.bufferedRequestCount--,bt.writing)break}mt===null&&(bt.lastBufferedRequest=null)}bt.bufferedRequest=mt,bt.bufferProcessing=!1}function Kt(dt){return dt.ending&&dt.length===0&&dt.bufferedRequest===null&&!dt.finished&&!dt.writing}function Yt(dt,bt){dt._final(function(mt){bt.pendingcb--,mt&&dt.emit("error",mt),bt.prefinished=!0,dt.emit("prefinish"),pt(dt,bt)})}function pt(dt,bt){var mt,jt,zt=Kt(bt);return zt&&(mt=dt,(jt=bt).prefinished||jt.finalCalled||(typeof mt._final=="function"?(jt.pendingcb++,jt.finalCalled=!0,Z.nextTick(Yt,mt,jt)):(jt.prefinished=!0,mt.emit("prefinish"))),bt.pendingcb===0&&(bt.finished=!0,dt.emit("finish"))),zt}ut.inherits(Tt,ft),Mt.prototype.getBuffer=function(){for(var dt=this.bufferedRequest,bt=[];dt;)bt.push(dt),dt=dt.next;return bt},function(){try{Object.defineProperty(Mt.prototype,"buffer",{get:lt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Tt,Symbol.hasInstance,{value:function(dt){return!!gt.call(this,dt)||this===Tt&&dt&&dt._writableState instanceof Mt}})):gt=function(dt){return dt instanceof this},Tt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Tt.prototype.write=function(dt,bt,mt){var jt,zt,kt=this._writableState,St=!1,Dt=!kt.objectMode&&(jt=dt,ot.isBuffer(jt)||jt instanceof yt);return Dt&&!ot.isBuffer(dt)&&(zt=dt,dt=ot.from(zt)),typeof bt=="function"&&(mt=bt,bt=null),Dt?bt="buffer":bt||(bt=kt.defaultEncoding),typeof mt!="function"&&(mt=Rt),kt.ended?function(Nt,_t){var at=new Error("write after end");Nt.emit("error",at),Z.nextTick(_t,at)}(this,mt):(Dt||function(Nt,_t,at,Bt){var Vt=!0,Qt=!1;return at===null?Qt=new TypeError("May not write null values to stream"):typeof at=="string"||at===void 0||_t.objectMode||(Qt=new TypeError("Invalid non-string/buffer chunk")),Qt&&(Nt.emit("error",Qt),Z.nextTick(Bt,Qt),Vt=!1),Vt}(this,kt,dt,mt))&&(kt.pendingcb++,St=function(Nt,_t,at,Bt,Vt,Qt){if(!at){var or=(qt=Bt,Gt=Vt,(ar=_t).objectMode||ar.decodeStrings===!1||typeof qt!="string"||(qt=ot.from(qt,Gt)),qt);Bt!==or&&(at=!0,Vt="buffer",Bt=or)}var ar,qt,Gt,vt=_t.objectMode?1:Bt.length;_t.length+=vt;var At=_t.length<_t.highWaterMark;if(At||(_t.needDrain=!0),_t.writing||_t.corked){var It=_t.lastBufferedRequest;_t.lastBufferedRequest={chunk:Bt,encoding:Vt,isBuf:at,callback:Qt,next:null},It?It.next=_t.lastBufferedRequest:_t.bufferedRequest=_t.lastBufferedRequest,_t.bufferedRequestCount+=1}else Ct(Nt,_t,!1,vt,Bt,Vt,Qt);return At}(this,kt,Dt,dt,bt,mt)),St},Tt.prototype.cork=function(){this._writableState.corked++},Tt.prototype.uncork=function(){var dt=this._writableState;dt.corked&&(dt.corked--,dt.writing||dt.corked||dt.finished||dt.bufferProcessing||!dt.bufferedRequest||Lt(this,dt))},Tt.prototype.setDefaultEncoding=function(dt){if(typeof dt=="string"&&(dt=dt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((dt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+dt);return this._writableState.defaultEncoding=dt,this},Object.defineProperty(Tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Tt.prototype._write=function(dt,bt,mt){mt(new Error("_write() is not implemented"))},Tt.prototype._writev=null,Tt.prototype.end=function(dt,bt,mt){var jt,zt,kt,St=this._writableState;typeof dt=="function"?(mt=dt,dt=null,bt=null):typeof bt=="function"&&(mt=bt,bt=null),dt!=null&&this.write(dt,bt),St.corked&&(St.corked=1,this.uncork()),St.ending||St.finished||(jt=this,kt=mt,(zt=St).ending=!0,pt(jt,zt),kt&&(zt.finished?Z.nextTick(kt):jt.once("finish",kt)),zt.ended=!0,jt.writable=!1)},Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(dt){this._writableState&&(this._writableState.destroyed=dt)}}),Tt.prototype.destroy=wt.destroy,Tt.prototype._undestroy=wt.undestroy,Tt.prototype._destroy=function(dt,bt){this.end(),bt(dt)}}).call(this,o(2),o(12).setImmediate,o(5))},function(e,i,o){e.exports=o(18).EventEmitter},function(e,i,o){var c=o(13);function d(j,Z){j.emit("error",Z)}e.exports={destroy:function(j,Z){var s=this,$=this._readableState&&this._readableState.destroyed,et=this._writableState&&this._writableState.destroyed;return $||et?(Z?Z(j):!j||this._writableState&&this._writableState.errorEmitted||c.nextTick(d,this,j),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(ut){!Z&&ut?(c.nextTick(d,s,ut),s._writableState&&(s._writableState.errorEmitted=!0)):Z&&Z(ut)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,i){},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=Z(o(155)),d=Z(o(23)),j=Z(o(27));function Z(s){return s&&s.__esModule?s:{default:s}}i.default=(0,j.default)(function(s,$,et,ut){return(0,c.default)($)(s,(0,d.default)(et),ut)},4),e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){function d(...j){if(c!==null){var Z=c;c=null,Z.apply(this,j)}}return Object.assign(d,c),d},e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return function(...d){if(c===null)throw new Error("Callback was already called.");var j=c;c=null,j.apply(this,d)}},e.exports=i.default},function(e,i,o){(function(c,d){var j=o(13);e.exports=Ct;var Z,s=o(38);Ct.ReadableState=Tt,o(18).EventEmitter;var $=function(_t,at){return _t.listeners(at).length},et=o(68),ut=o(43).Buffer,gt=c.Uint8Array||function(){},lt=o(14);lt.inherits=o(6);var ft=o(161),ot=void 0;ot=ft&&ft.debuglog?ft.debuglog("stream"):function(){};var yt,wt=o(162),Rt=o(69);lt.inherits(Ct,et);var Mt=["error","close","destroy","pause","resume"];function Tt(_t,at){_t=_t||{};var Bt=at instanceof(Z=Z||o(20));this.objectMode=!!_t.objectMode,Bt&&(this.objectMode=this.objectMode||!!_t.readableObjectMode);var Vt=_t.highWaterMark,Qt=_t.readableHighWaterMark,or=this.objectMode?16:16384;this.highWaterMark=Vt||Vt===0?Vt:Bt&&(Qt||Qt===0)?Qt:or,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_t.encoding&&(yt||(yt=o(19).StringDecoder),this.decoder=new yt(_t.encoding),this.encoding=_t.encoding)}function Ct(_t){if(Z=Z||o(20),!(this instanceof Ct))return new Ct(_t);this._readableState=new Tt(_t,this),this.readable=!0,_t&&(typeof _t.read=="function"&&(this._read=_t.read),typeof _t.destroy=="function"&&(this._destroy=_t.destroy)),et.call(this)}function ct(_t,at,Bt,Vt,Qt){var or,ar,qt,Gt,vt,At=_t._readableState;return at===null?(At.reading=!1,function(It,Ht){if(!Ht.ended){if(Ht.decoder){var Zt=Ht.decoder.end();Zt&&Zt.length&&(Ht.buffer.push(Zt),Ht.length+=Ht.objectMode?1:Zt.length)}Ht.ended=!0,Yt(It)}}(_t,At)):(Qt||(ar=At,vt=qt=at,ut.isBuffer(vt)||vt instanceof gt||typeof qt=="string"||qt===void 0||ar.objectMode||(Gt=new TypeError("Invalid non-string/buffer chunk")),or=Gt),or?_t.emit("error",or):At.objectMode||at&&at.length>0?(typeof at=="string"||At.objectMode||Object.getPrototypeOf(at)===ut.prototype||(at=function(It){return ut.from(It)}(at)),Vt?At.endEmitted?_t.emit("error",new Error("stream.unshift() after end event")):Lt(_t,At,at,!0):At.ended?_t.emit("error",new Error("stream.push() after EOF")):(At.reading=!1,At.decoder&&!Bt?(at=At.decoder.write(at),At.objectMode||at.length!==0?Lt(_t,At,at,!1):dt(_t,At)):Lt(_t,At,at,!1))):Vt||(At.reading=!1)),function(It){return!It.ended&&(It.needReadable||It.length<It.highWaterMark||It.length===0)}(At)}function Lt(_t,at,Bt,Vt){at.flowing&&at.length===0&&!at.sync?(_t.emit("data",Bt),_t.read(0)):(at.length+=at.objectMode?1:Bt.length,Vt?at.buffer.unshift(Bt):at.buffer.push(Bt),at.needReadable&&Yt(_t)),dt(_t,at)}function Kt(_t,at){return _t<=0||at.length===0&&at.ended?0:at.objectMode?1:_t!=_t?at.flowing&&at.length?at.buffer.head.data.length:at.length:(_t>at.highWaterMark&&(at.highWaterMark=((Bt=_t)>=8388608?Bt=8388608:(Bt--,Bt|=Bt>>>1,Bt|=Bt>>>2,Bt|=Bt>>>4,Bt|=Bt>>>8,Bt|=Bt>>>16,Bt++),Bt)),_t<=at.length?_t:at.ended?at.length:(at.needReadable=!0,0));var Bt}function Yt(_t){var at=_t._readableState;at.needReadable=!1,at.emittedReadable||(ot("emitReadable",at.flowing),at.emittedReadable=!0,at.sync?j.nextTick(pt,_t):pt(_t))}function pt(_t){ot("emit readable"),_t.emit("readable"),zt(_t)}function dt(_t,at){at.readingMore||(at.readingMore=!0,j.nextTick(bt,_t,at))}function bt(_t,at){for(var Bt=at.length;!at.reading&&!at.flowing&&!at.ended&&at.length<at.highWaterMark&&(ot("maybeReadMore read 0"),_t.read(0),Bt!==at.length);)Bt=at.length;at.readingMore=!1}function mt(_t){ot("readable nexttick read 0"),_t.read(0)}function jt(_t,at){at.reading||(ot("resume read 0"),_t.read(0)),at.resumeScheduled=!1,at.awaitDrain=0,_t.emit("resume"),zt(_t),at.flowing&&!at.reading&&_t.read(0)}function zt(_t){var at=_t._readableState;for(ot("flow",at.flowing);at.flowing&&_t.read()!==null;);}function kt(_t,at){return at.length===0?null:(at.objectMode?ar=at.buffer.shift():!_t||_t>=at.length?(ar=at.decoder?at.buffer.join(""):at.buffer.length===1?at.buffer.head.data:at.buffer.concat(at.length),at.buffer.clear()):(Bt=_t,Vt=at.buffer,Qt=at.decoder,Bt<Vt.head.data.length?(or=Vt.head.data.slice(0,Bt),Vt.head.data=Vt.head.data.slice(Bt)):or=Bt===Vt.head.data.length?Vt.shift():Qt?function(qt,Gt){var vt=Gt.head,At=1,It=vt.data;for(qt-=It.length;vt=vt.next;){var Ht=vt.data,Zt=qt>Ht.length?Ht.length:qt;if(Zt===Ht.length?It+=Ht:It+=Ht.slice(0,qt),(qt-=Zt)==0){Zt===Ht.length?(++At,vt.next?Gt.head=vt.next:Gt.head=Gt.tail=null):(Gt.head=vt,vt.data=Ht.slice(Zt));break}++At}return Gt.length-=At,It}(Bt,Vt):function(qt,Gt){var vt=ut.allocUnsafe(qt),At=Gt.head,It=1;for(At.data.copy(vt),qt-=At.data.length;At=At.next;){var Ht=At.data,Zt=qt>Ht.length?Ht.length:qt;if(Ht.copy(vt,vt.length-qt,0,Zt),(qt-=Zt)==0){Zt===Ht.length?(++It,At.next?Gt.head=At.next:Gt.head=Gt.tail=null):(Gt.head=At,At.data=Ht.slice(Zt));break}++It}return Gt.length-=It,vt}(Bt,Vt),ar=or),ar);var Bt,Vt,Qt,or,ar}function St(_t){var at=_t._readableState;if(at.length>0)throw new Error('"endReadable()" called on non-empty stream');at.endEmitted||(at.ended=!0,j.nextTick(Dt,at,_t))}function Dt(_t,at){_t.endEmitted||_t.length!==0||(_t.endEmitted=!0,at.readable=!1,at.emit("end"))}function Nt(_t,at){for(var Bt=0,Vt=_t.length;Bt<Vt;Bt++)if(_t[Bt]===at)return Bt;return-1}Object.defineProperty(Ct.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(_t){this._readableState&&(this._readableState.destroyed=_t)}}),Ct.prototype.destroy=Rt.destroy,Ct.prototype._undestroy=Rt.undestroy,Ct.prototype._destroy=function(_t,at){this.push(null),at(_t)},Ct.prototype.push=function(_t,at){var Bt,Vt=this._readableState;return Vt.objectMode?Bt=!0:typeof _t=="string"&&((at=at||Vt.defaultEncoding)!==Vt.encoding&&(_t=ut.from(_t,at),at=""),Bt=!0),ct(this,_t,at,!1,Bt)},Ct.prototype.unshift=function(_t){return ct(this,_t,null,!0,!1)},Ct.prototype.isPaused=function(){return this._readableState.flowing===!1},Ct.prototype.setEncoding=function(_t){return yt||(yt=o(19).StringDecoder),this._readableState.decoder=new yt(_t),this._readableState.encoding=_t,this},Ct.prototype.read=function(_t){ot("read",_t),_t=parseInt(_t,10);var at=this._readableState,Bt=_t;if(_t!==0&&(at.emittedReadable=!1),_t===0&&at.needReadable&&(at.length>=at.highWaterMark||at.ended))return ot("read: emitReadable",at.length,at.ended),at.length===0&&at.ended?St(this):Yt(this),null;if((_t=Kt(_t,at))===0&&at.ended)return at.length===0&&St(this),null;var Vt,Qt=at.needReadable;return ot("need readable",Qt),(at.length===0||at.length-_t<at.highWaterMark)&&ot("length less than watermark",Qt=!0),at.ended||at.reading?ot("reading or ended",Qt=!1):Qt&&(ot("do read"),at.reading=!0,at.sync=!0,at.length===0&&(at.needReadable=!0),this._read(at.highWaterMark),at.sync=!1,at.reading||(_t=Kt(Bt,at))),(Vt=_t>0?kt(_t,at):null)===null?(at.needReadable=!0,_t=0):at.length-=_t,at.length===0&&(at.ended||(at.needReadable=!0),Bt!==_t&&at.ended&&St(this)),Vt!==null&&this.emit("data",Vt),Vt},Ct.prototype._read=function(_t){this.emit("error",new Error("_read() is not implemented"))},Ct.prototype.pipe=function(_t,at){var Bt=this,Vt=this._readableState;switch(Vt.pipesCount){case 0:Vt.pipes=_t;break;case 1:Vt.pipes=[Vt.pipes,_t];break;default:Vt.pipes.push(_t)}Vt.pipesCount+=1,ot("pipe count=%d opts=%j",Vt.pipesCount,at);var Qt=at&&at.end===!1||_t===d.stdout||_t===d.stderr?rr:or;function or(){ot("onend"),_t.end()}Vt.endEmitted?j.nextTick(Qt):Bt.once("end",Qt),_t.on("unpipe",function pr(_r,ir){ot("onunpipe"),_r===Bt&&ir&&ir.hasUnpiped===!1&&(ir.hasUnpiped=!0,ot("cleanup"),_t.removeListener("close",Ht),_t.removeListener("finish",Zt),_t.removeListener("drain",qt),_t.removeListener("error",It),_t.removeListener("unpipe",pr),Bt.removeListener("end",or),Bt.removeListener("end",rr),Bt.removeListener("data",At),Gt=!0,!Vt.awaitDrain||_t._writableState&&!_t._writableState.needDrain||qt())});var ar,qt=(ar=Bt,function(){var pr=ar._readableState;ot("pipeOnDrain",pr.awaitDrain),pr.awaitDrain&&pr.awaitDrain--,pr.awaitDrain===0&&$(ar,"data")&&(pr.flowing=!0,zt(ar))});_t.on("drain",qt);var Gt=!1,vt=!1;function At(pr){ot("ondata"),vt=!1,_t.write(pr)!==!1||vt||((Vt.pipesCount===1&&Vt.pipes===_t||Vt.pipesCount>1&&Nt(Vt.pipes,_t)!==-1)&&!Gt&&(ot("false write response, pause",Bt._readableState.awaitDrain),Bt._readableState.awaitDrain++,vt=!0),Bt.pause())}function It(pr){ot("onerror",pr),rr(),_t.removeListener("error",It),$(_t,"error")===0&&_t.emit("error",pr)}function Ht(){_t.removeListener("finish",Zt),rr()}function Zt(){ot("onfinish"),_t.removeListener("close",Ht),rr()}function rr(){ot("unpipe"),Bt.unpipe(_t)}return Bt.on("data",At),function(pr,_r,ir){if(typeof pr.prependListener=="function")return pr.prependListener(_r,ir);pr._events&&pr._events[_r]?s(pr._events[_r])?pr._events[_r].unshift(ir):pr._events[_r]=[ir,pr._events[_r]]:pr.on(_r,ir)}(_t,"error",It),_t.once("close",Ht),_t.once("finish",Zt),_t.emit("pipe",Bt),Vt.flowing||(ot("pipe resume"),Bt.resume()),_t},Ct.prototype.unpipe=function(_t){var at=this._readableState,Bt={hasUnpiped:!1};if(at.pipesCount===0)return this;if(at.pipesCount===1)return _t&&_t!==at.pipes||(_t||(_t=at.pipes),at.pipes=null,at.pipesCount=0,at.flowing=!1,_t&&_t.emit("unpipe",this,Bt)),this;if(!_t){var Vt=at.pipes,Qt=at.pipesCount;at.pipes=null,at.pipesCount=0,at.flowing=!1;for(var or=0;or<Qt;or++)Vt[or].emit("unpipe",this,Bt);return this}var ar=Nt(at.pipes,_t);return ar===-1||(at.pipes.splice(ar,1),at.pipesCount-=1,at.pipesCount===1&&(at.pipes=at.pipes[0]),_t.emit("unpipe",this,Bt)),this},Ct.prototype.on=function(_t,at){var Bt=et.prototype.on.call(this,_t,at);if(_t==="data")this._readableState.flowing!==!1&&this.resume();else if(_t==="readable"){var Vt=this._readableState;Vt.endEmitted||Vt.readableListening||(Vt.readableListening=Vt.needReadable=!0,Vt.emittedReadable=!1,Vt.reading?Vt.length&&Yt(this):j.nextTick(mt,this))}return Bt},Ct.prototype.addListener=Ct.prototype.on,Ct.prototype.resume=function(){var _t,at,Bt=this._readableState;return Bt.flowing||(ot("resume"),Bt.flowing=!0,_t=this,(at=Bt).resumeScheduled||(at.resumeScheduled=!0,j.nextTick(jt,_t,at))),this},Ct.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ct.prototype.wrap=function(_t){var at=this,Bt=this._readableState,Vt=!1;for(var Qt in _t.on("end",function(){if(ot("wrapped end"),Bt.decoder&&!Bt.ended){var ar=Bt.decoder.end();ar&&ar.length&&at.push(ar)}at.push(null)}),_t.on("data",function(ar){ot("wrapped data"),Bt.decoder&&(ar=Bt.decoder.write(ar)),Bt.objectMode&&ar==null||(Bt.objectMode||ar&&ar.length)&&(at.push(ar)||(Vt=!0,_t.pause()))}),_t)this[Qt]===void 0&&typeof _t[Qt]=="function"&&(this[Qt]=function(ar){return function(){return _t[ar].apply(_t,arguments)}}(Qt));for(var or=0;or<Mt.length;or++)_t.on(Mt[or],this.emit.bind(this,Mt[or]));return this._read=function(ar){ot("wrapped _read",ar),Vt&&(Vt=!1,_t.resume())},this},Object.defineProperty(Ct.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Ct._fromList=kt}).call(this,o(5),o(2))},function(e,i,o){e.exports=o(18).EventEmitter},function(e,i,o){var c=o(13);function d(j,Z){j.emit("error",Z)}e.exports={destroy:function(j,Z){var s=this,$=this._readableState&&this._readableState.destroyed,et=this._writableState&&this._writableState.destroyed;return $||et?(Z?Z(j):!j||this._writableState&&this._writableState.errorEmitted||c.nextTick(d,this,j),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(ut){!Z&&ut?(c.nextTick(d,s,ut),s._writableState&&(s._writableState.errorEmitted=!0)):Z&&Z(ut)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,i,o){e.exports=Z;var c=o(20),d=o(14);function j(et,ut){var gt=this._transformState;gt.transforming=!1;var lt=gt.writecb;if(!lt)return this.emit("error",new Error("write callback called multiple times"));gt.writechunk=null,gt.writecb=null,ut!=null&&this.push(ut),lt(et);var ft=this._readableState;ft.reading=!1,(ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}function Z(et){if(!(this instanceof Z))return new Z(et);c.call(this,et),this._transformState={afterTransform:j.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",s)}function s(){var et=this;typeof this._flush=="function"?this._flush(function(ut,gt){$(et,ut,gt)}):$(this,null,null)}function $(et,ut,gt){if(ut)return et.emit("error",ut);if(gt!=null&&et.push(gt),et._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(et._transformState.transforming)throw new Error("Calling transform done when still transforming");return et.push(null)}d.inherits=o(6),d.inherits(Z,c),Z.prototype.push=function(et,ut){return this._transformState.needTransform=!1,c.prototype.push.call(this,et,ut)},Z.prototype._transform=function(et,ut,gt){throw new Error("_transform() is not implemented")},Z.prototype._write=function(et,ut,gt){var lt=this._transformState;if(lt.writecb=gt,lt.writechunk=et,lt.writeencoding=ut,!lt.transforming){var ft=this._readableState;(lt.needTransform||ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}},Z.prototype._read=function(et){var ut=this._transformState;ut.writechunk!==null&&ut.writecb&&!ut.transforming?(ut.transforming=!0,this._transform(ut.writechunk,ut.writeencoding,ut.afterTransform)):ut.needTransform=!0},Z.prototype._destroy=function(et,ut){var gt=this;c.prototype._destroy.call(this,et,function(lt){ut(lt),gt.emit("close")})}},function(e,i,o){e.exports=o(44)},function(e,i,o){(function(c){var d=o(169);function j(pt,dt){if(pt===dt)return 0;for(var bt=pt.length,mt=dt.length,jt=0,zt=Math.min(bt,mt);jt<zt;++jt)if(pt[jt]!==dt[jt]){bt=pt[jt],mt=dt[jt];break}return bt<mt?-1:mt<bt?1:0}function Z(pt){return c.Buffer&&typeof c.Buffer.isBuffer=="function"?c.Buffer.isBuffer(pt):!(pt==null||!pt._isBuffer)}var s=o(10),$=Object.prototype.hasOwnProperty,et=Array.prototype.slice,ut=function(){}.name==="foo";function gt(pt){return Object.prototype.toString.call(pt)}function lt(pt){return!Z(pt)&&typeof c.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(pt):!!pt&&(pt instanceof DataView||!!(pt.buffer&&pt.buffer instanceof ArrayBuffer)))}var ft=e.exports=Tt,ot=/\s*function\s+([^\(\s]*)\s*/;function yt(pt){if(s.isFunction(pt)){if(ut)return pt.name;var dt=pt.toString().match(ot);return dt&&dt[1]}}function wt(pt,dt){return typeof pt=="string"?pt.length<dt?pt:pt.slice(0,dt):pt}function Rt(pt){if(ut||!s.isFunction(pt))return s.inspect(pt);var dt=yt(pt);return"[Function"+(dt?": "+dt:"")+"]"}function Mt(pt,dt,bt,mt,jt){throw new ft.AssertionError({message:bt,actual:pt,expected:dt,operator:mt,stackStartFunction:jt})}function Tt(pt,dt){pt||Mt(pt,!0,dt,"==",ft.ok)}function Ct(pt,dt,bt,mt){if(pt===dt)return!0;if(Z(pt)&&Z(dt))return j(pt,dt)===0;if(s.isDate(pt)&&s.isDate(dt))return pt.getTime()===dt.getTime();if(s.isRegExp(pt)&&s.isRegExp(dt))return pt.source===dt.source&&pt.global===dt.global&&pt.multiline===dt.multiline&&pt.lastIndex===dt.lastIndex&&pt.ignoreCase===dt.ignoreCase;if(pt!==null&&typeof pt=="object"||dt!==null&&typeof dt=="object"){if(lt(pt)&&lt(dt)&&gt(pt)===gt(dt)&&!(pt instanceof Float32Array||pt instanceof Float64Array))return j(new Uint8Array(pt.buffer),new Uint8Array(dt.buffer))===0;if(Z(pt)!==Z(dt))return!1;var jt=(mt=mt||{actual:[],expected:[]}).actual.indexOf(pt);return jt!==-1&&jt===mt.expected.indexOf(dt)||(mt.actual.push(pt),mt.expected.push(dt),function(zt,kt,St,Dt){if(zt==null||kt==null)return!1;if(s.isPrimitive(zt)||s.isPrimitive(kt))return zt===kt;if(St&&Object.getPrototypeOf(zt)!==Object.getPrototypeOf(kt))return!1;var Nt=ct(zt),_t=ct(kt);if(Nt&&!_t||!Nt&&_t)return!1;if(Nt)return Ct(zt=et.call(zt),kt=et.call(kt),St);var at,Bt,Vt=Yt(zt),Qt=Yt(kt);if(Vt.length!==Qt.length)return!1;for(Vt.sort(),Qt.sort(),Bt=Vt.length-1;Bt>=0;Bt--)if(Vt[Bt]!==Qt[Bt])return!1;for(Bt=Vt.length-1;Bt>=0;Bt--)if(!Ct(zt[at=Vt[Bt]],kt[at],St,Dt))return!1;return!0}(pt,dt,bt,mt))}return bt?pt===dt:pt==dt}function ct(pt){return Object.prototype.toString.call(pt)=="[object Arguments]"}function Lt(pt,dt){if(!pt||!dt)return!1;if(Object.prototype.toString.call(dt)=="[object RegExp]")return dt.test(pt);try{if(pt instanceof dt)return!0}catch{}return!Error.isPrototypeOf(dt)&&dt.call({},pt)===!0}function Kt(pt,dt,bt,mt){var jt;if(typeof dt!="function")throw new TypeError('"block" argument must be a function');typeof bt=="string"&&(mt=bt,bt=null),jt=function(St){var Dt;try{St()}catch(Nt){Dt=Nt}return Dt}(dt),mt=(bt&&bt.name?" ("+bt.name+").":".")+(mt?" "+mt:"."),pt&&!jt&&Mt(jt,bt,"Missing expected exception"+mt);var zt=typeof mt=="string",kt=!pt&&jt&&!bt;if((!pt&&s.isError(jt)&&zt&&Lt(jt,bt)||kt)&&Mt(jt,bt,"Got unwanted exception"+mt),pt&&jt&&bt&&!Lt(jt,bt)||!pt&&jt)throw jt}ft.AssertionError=function(pt){var dt;this.name="AssertionError",this.actual=pt.actual,this.expected=pt.expected,this.operator=pt.operator,pt.message?(this.message=pt.message,this.generatedMessage=!1):(this.message=wt(Rt((dt=this).actual),128)+" "+dt.operator+" "+wt(Rt(dt.expected),128),this.generatedMessage=!0);var bt=pt.stackStartFunction||Mt;if(Error.captureStackTrace)Error.captureStackTrace(this,bt);else{var mt=new Error;if(mt.stack){var jt=mt.stack,zt=yt(bt),kt=jt.indexOf(`
`+zt);if(kt>=0){var St=jt.indexOf(`
`,kt+1);jt=jt.substring(St+1)}this.stack=jt}}},s.inherits(ft.AssertionError,Error),ft.fail=Mt,ft.ok=Tt,ft.equal=function(pt,dt,bt){pt!=dt&&Mt(pt,dt,bt,"==",ft.equal)},ft.notEqual=function(pt,dt,bt){pt==dt&&Mt(pt,dt,bt,"!=",ft.notEqual)},ft.deepEqual=function(pt,dt,bt){Ct(pt,dt,!1)||Mt(pt,dt,bt,"deepEqual",ft.deepEqual)},ft.deepStrictEqual=function(pt,dt,bt){Ct(pt,dt,!0)||Mt(pt,dt,bt,"deepStrictEqual",ft.deepStrictEqual)},ft.notDeepEqual=function(pt,dt,bt){Ct(pt,dt,!1)&&Mt(pt,dt,bt,"notDeepEqual",ft.notDeepEqual)},ft.notDeepStrictEqual=function pt(dt,bt,mt){Ct(dt,bt,!0)&&Mt(dt,bt,mt,"notDeepStrictEqual",pt)},ft.strictEqual=function(pt,dt,bt){pt!==dt&&Mt(pt,dt,bt,"===",ft.strictEqual)},ft.notStrictEqual=function(pt,dt,bt){pt===dt&&Mt(pt,dt,bt,"!==",ft.notStrictEqual)},ft.throws=function(pt,dt,bt){Kt(!0,pt,dt,bt)},ft.doesNotThrow=function(pt,dt,bt){Kt(!1,pt,dt,bt)},ft.ifError=function(pt){if(pt)throw pt},ft.strict=d(function pt(dt,bt){dt||Mt(dt,!0,bt,"==",pt)},ft,{equal:ft.strictEqual,deepEqual:ft.deepStrictEqual,notEqual:ft.notStrictEqual,notDeepEqual:ft.notDeepStrictEqual}),ft.strict.strict=ft.strict;var Yt=Object.keys||function(pt){var dt=[];for(var bt in pt)$.call(pt,bt)&&dt.push(bt);return dt}}).call(this,o(5))},function(e,i,o){e.exports=function(c,d,j,Z){for(var s=65535&c|0,$=c>>>16&65535|0,et=0;j!==0;){j-=et=j>2e3?2e3:j;do $=$+(s=s+d[Z++]|0)|0;while(--et);s%=65521,$%=65521}return s|$<<16|0}},function(e,i,o){var c=function(){for(var d,j=[],Z=0;Z<256;Z++){d=Z;for(var s=0;s<8;s++)d=1&d?3988292384^d>>>1:d>>>1;j[Z]=d}return j}();e.exports=function(d,j,Z,s){var $=c,et=s+Z;d^=-1;for(var ut=s;ut<et;ut++)d=d>>>8^$[255&(d^j[ut])];return-1^d}},function(e,i,o){(function(c,d){var j;e.exports=dt,dt.ReadableState=pt,o(18).EventEmitter;var Z,s=function(qt,Gt){return qt.listeners(Gt).length},$=o(76),et=o(4).Buffer,ut=c.Uint8Array||function(){},gt=o(178);Z=gt&&gt.debuglog?gt.debuglog("stream"):function(){};var lt,ft,ot,yt=o(179),wt=o(77),Rt=o(78).getHighWaterMark,Mt=o(24).codes,Tt=Mt.ERR_INVALID_ARG_TYPE,Ct=Mt.ERR_STREAM_PUSH_AFTER_EOF,ct=Mt.ERR_METHOD_NOT_IMPLEMENTED,Lt=Mt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o(6)(dt,$);var Kt=wt.errorOrDestroy,Yt=["error","close","destroy","pause","resume"];function pt(qt,Gt,vt){j=j||o(25),qt=qt||{},typeof vt!="boolean"&&(vt=Gt instanceof j),this.objectMode=!!qt.objectMode,vt&&(this.objectMode=this.objectMode||!!qt.readableObjectMode),this.highWaterMark=Rt(this,qt,"readableHighWaterMark",vt),this.buffer=new yt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=qt.emitClose!==!1,this.autoDestroy=!!qt.autoDestroy,this.destroyed=!1,this.defaultEncoding=qt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,qt.encoding&&(lt||(lt=o(19).StringDecoder),this.decoder=new lt(qt.encoding),this.encoding=qt.encoding)}function dt(qt){if(j=j||o(25),!(this instanceof dt))return new dt(qt);var Gt=this instanceof j;this._readableState=new pt(qt,this,Gt),this.readable=!0,qt&&(typeof qt.read=="function"&&(this._read=qt.read),typeof qt.destroy=="function"&&(this._destroy=qt.destroy)),$.call(this)}function bt(qt,Gt,vt,At,It){Z("readableAddChunk",Gt);var Ht,Zt,rr,pr,_r,ir=qt._readableState;if(Gt===null)ir.reading=!1,function(cr,mr){if(Z("onEofChunk"),!mr.ended){if(mr.decoder){var Cr=mr.decoder.end();Cr&&Cr.length&&(mr.buffer.push(Cr),mr.length+=mr.objectMode?1:Cr.length)}mr.ended=!0,mr.sync?zt(cr):(mr.needReadable=!1,mr.emittedReadable||(mr.emittedReadable=!0,kt(cr)))}}(qt,ir);else if(It||(Zt=ir,_r=rr=Gt,et.isBuffer(_r)||_r instanceof ut||typeof rr=="string"||rr===void 0||Zt.objectMode||(pr=new Tt("chunk",["string","Buffer","Uint8Array"],rr)),Ht=pr),Ht)Kt(qt,Ht);else if(ir.objectMode||Gt&&Gt.length>0)if(typeof Gt=="string"||ir.objectMode||Object.getPrototypeOf(Gt)===et.prototype||(Gt=function(cr){return et.from(cr)}(Gt)),At)ir.endEmitted?Kt(qt,new Lt):mt(qt,ir,Gt,!0);else if(ir.ended)Kt(qt,new Ct);else{if(ir.destroyed)return!1;ir.reading=!1,ir.decoder&&!vt?(Gt=ir.decoder.write(Gt),ir.objectMode||Gt.length!==0?mt(qt,ir,Gt,!1):St(qt,ir)):mt(qt,ir,Gt,!1)}else At||(ir.reading=!1,St(qt,ir));return!ir.ended&&(ir.length<ir.highWaterMark||ir.length===0)}function mt(qt,Gt,vt,At){Gt.flowing&&Gt.length===0&&!Gt.sync?(Gt.awaitDrain=0,qt.emit("data",vt)):(Gt.length+=Gt.objectMode?1:vt.length,At?Gt.buffer.unshift(vt):Gt.buffer.push(vt),Gt.needReadable&&zt(qt)),St(qt,Gt)}function jt(qt,Gt){return qt<=0||Gt.length===0&&Gt.ended?0:Gt.objectMode?1:qt!=qt?Gt.flowing&&Gt.length?Gt.buffer.head.data.length:Gt.length:(qt>Gt.highWaterMark&&(Gt.highWaterMark=((vt=qt)>=1073741824?vt=1073741824:(vt--,vt|=vt>>>1,vt|=vt>>>2,vt|=vt>>>4,vt|=vt>>>8,vt|=vt>>>16,vt++),vt)),qt<=Gt.length?qt:Gt.ended?Gt.length:(Gt.needReadable=!0,0));var vt}function zt(qt){var Gt=qt._readableState;Z("emitReadable",Gt.needReadable,Gt.emittedReadable),Gt.needReadable=!1,Gt.emittedReadable||(Z("emitReadable",Gt.flowing),Gt.emittedReadable=!0,d.nextTick(kt,qt))}function kt(qt){var Gt=qt._readableState;Z("emitReadable_",Gt.destroyed,Gt.length,Gt.ended),Gt.destroyed||!Gt.length&&!Gt.ended||(qt.emit("readable"),Gt.emittedReadable=!1),Gt.needReadable=!Gt.flowing&&!Gt.ended&&Gt.length<=Gt.highWaterMark,Bt(qt)}function St(qt,Gt){Gt.readingMore||(Gt.readingMore=!0,d.nextTick(Dt,qt,Gt))}function Dt(qt,Gt){for(;!Gt.reading&&!Gt.ended&&(Gt.length<Gt.highWaterMark||Gt.flowing&&Gt.length===0);){var vt=Gt.length;if(Z("maybeReadMore read 0"),qt.read(0),vt===Gt.length)break}Gt.readingMore=!1}function Nt(qt){var Gt=qt._readableState;Gt.readableListening=qt.listenerCount("readable")>0,Gt.resumeScheduled&&!Gt.paused?Gt.flowing=!0:qt.listenerCount("data")>0&&qt.resume()}function _t(qt){Z("readable nexttick read 0"),qt.read(0)}function at(qt,Gt){Z("resume",Gt.reading),Gt.reading||qt.read(0),Gt.resumeScheduled=!1,qt.emit("resume"),Bt(qt),Gt.flowing&&!Gt.reading&&qt.read(0)}function Bt(qt){var Gt=qt._readableState;for(Z("flow",Gt.flowing);Gt.flowing&&qt.read()!==null;);}function Vt(qt,Gt){return Gt.length===0?null:(Gt.objectMode?vt=Gt.buffer.shift():!qt||qt>=Gt.length?(vt=Gt.decoder?Gt.buffer.join(""):Gt.buffer.length===1?Gt.buffer.first():Gt.buffer.concat(Gt.length),Gt.buffer.clear()):vt=Gt.buffer.consume(qt,Gt.decoder),vt);var vt}function Qt(qt){var Gt=qt._readableState;Z("endReadable",Gt.endEmitted),Gt.endEmitted||(Gt.ended=!0,d.nextTick(or,Gt,qt))}function or(qt,Gt){if(Z("endReadableNT",qt.endEmitted,qt.length),!qt.endEmitted&&qt.length===0&&(qt.endEmitted=!0,Gt.readable=!1,Gt.emit("end"),qt.autoDestroy)){var vt=Gt._writableState;(!vt||vt.autoDestroy&&vt.finished)&&Gt.destroy()}}function ar(qt,Gt){for(var vt=0,At=qt.length;vt<At;vt++)if(qt[vt]===Gt)return vt;return-1}Object.defineProperty(dt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(qt){this._readableState&&(this._readableState.destroyed=qt)}}),dt.prototype.destroy=wt.destroy,dt.prototype._undestroy=wt.undestroy,dt.prototype._destroy=function(qt,Gt){Gt(qt)},dt.prototype.push=function(qt,Gt){var vt,At=this._readableState;return At.objectMode?vt=!0:typeof qt=="string"&&((Gt=Gt||At.defaultEncoding)!==At.encoding&&(qt=et.from(qt,Gt),Gt=""),vt=!0),bt(this,qt,Gt,!1,vt)},dt.prototype.unshift=function(qt){return bt(this,qt,null,!0,!1)},dt.prototype.isPaused=function(){return this._readableState.flowing===!1},dt.prototype.setEncoding=function(qt){lt||(lt=o(19).StringDecoder);var Gt=new lt(qt);this._readableState.decoder=Gt,this._readableState.encoding=this._readableState.decoder.encoding;for(var vt=this._readableState.buffer.head,At="";vt!==null;)At+=Gt.write(vt.data),vt=vt.next;return this._readableState.buffer.clear(),At!==""&&this._readableState.buffer.push(At),this._readableState.length=At.length,this},dt.prototype.read=function(qt){Z("read",qt),qt=parseInt(qt,10);var Gt=this._readableState,vt=qt;if(qt!==0&&(Gt.emittedReadable=!1),qt===0&&Gt.needReadable&&((Gt.highWaterMark!==0?Gt.length>=Gt.highWaterMark:Gt.length>0)||Gt.ended))return Z("read: emitReadable",Gt.length,Gt.ended),Gt.length===0&&Gt.ended?Qt(this):zt(this),null;if((qt=jt(qt,Gt))===0&&Gt.ended)return Gt.length===0&&Qt(this),null;var At,It=Gt.needReadable;return Z("need readable",It),(Gt.length===0||Gt.length-qt<Gt.highWaterMark)&&Z("length less than watermark",It=!0),Gt.ended||Gt.reading?Z("reading or ended",It=!1):It&&(Z("do read"),Gt.reading=!0,Gt.sync=!0,Gt.length===0&&(Gt.needReadable=!0),this._read(Gt.highWaterMark),Gt.sync=!1,Gt.reading||(qt=jt(vt,Gt))),(At=qt>0?Vt(qt,Gt):null)===null?(Gt.needReadable=Gt.length<=Gt.highWaterMark,qt=0):(Gt.length-=qt,Gt.awaitDrain=0),Gt.length===0&&(Gt.ended||(Gt.needReadable=!0),vt!==qt&&Gt.ended&&Qt(this)),At!==null&&this.emit("data",At),At},dt.prototype._read=function(qt){Kt(this,new ct("_read()"))},dt.prototype.pipe=function(qt,Gt){var vt=this,At=this._readableState;switch(At.pipesCount){case 0:At.pipes=qt;break;case 1:At.pipes=[At.pipes,qt];break;default:At.pipes.push(qt)}At.pipesCount+=1,Z("pipe count=%d opts=%j",At.pipesCount,Gt);var It=Gt&&Gt.end===!1||qt===d.stdout||qt===d.stderr?Cr:Ht;function Ht(){Z("onend"),qt.end()}At.endEmitted?d.nextTick(It):vt.once("end",It),qt.on("unpipe",function Mr(Yr,an){Z("onunpipe"),Yr===vt&&an&&an.hasUnpiped===!1&&(an.hasUnpiped=!0,Z("cleanup"),qt.removeListener("close",cr),qt.removeListener("finish",mr),qt.removeListener("drain",rr),qt.removeListener("error",ir),qt.removeListener("unpipe",Mr),vt.removeListener("end",Ht),vt.removeListener("end",Cr),vt.removeListener("data",_r),pr=!0,!At.awaitDrain||qt._writableState&&!qt._writableState.needDrain||rr())});var Zt,rr=(Zt=vt,function(){var Mr=Zt._readableState;Z("pipeOnDrain",Mr.awaitDrain),Mr.awaitDrain&&Mr.awaitDrain--,Mr.awaitDrain===0&&s(Zt,"data")&&(Mr.flowing=!0,Bt(Zt))});qt.on("drain",rr);var pr=!1;function _r(Mr){Z("ondata");var Yr=qt.write(Mr);Z("dest.write",Yr),Yr===!1&&((At.pipesCount===1&&At.pipes===qt||At.pipesCount>1&&ar(At.pipes,qt)!==-1)&&!pr&&(Z("false write response, pause",At.awaitDrain),At.awaitDrain++),vt.pause())}function ir(Mr){Z("onerror",Mr),Cr(),qt.removeListener("error",ir),s(qt,"error")===0&&Kt(qt,Mr)}function cr(){qt.removeListener("finish",mr),Cr()}function mr(){Z("onfinish"),qt.removeListener("close",cr),Cr()}function Cr(){Z("unpipe"),vt.unpipe(qt)}return vt.on("data",_r),function(Mr,Yr,an){if(typeof Mr.prependListener=="function")return Mr.prependListener(Yr,an);Mr._events&&Mr._events[Yr]?Array.isArray(Mr._events[Yr])?Mr._events[Yr].unshift(an):Mr._events[Yr]=[an,Mr._events[Yr]]:Mr.on(Yr,an)}(qt,"error",ir),qt.once("close",cr),qt.once("finish",mr),qt.emit("pipe",vt),At.flowing||(Z("pipe resume"),vt.resume()),qt},dt.prototype.unpipe=function(qt){var Gt=this._readableState,vt={hasUnpiped:!1};if(Gt.pipesCount===0)return this;if(Gt.pipesCount===1)return qt&&qt!==Gt.pipes||(qt||(qt=Gt.pipes),Gt.pipes=null,Gt.pipesCount=0,Gt.flowing=!1,qt&&qt.emit("unpipe",this,vt)),this;if(!qt){var At=Gt.pipes,It=Gt.pipesCount;Gt.pipes=null,Gt.pipesCount=0,Gt.flowing=!1;for(var Ht=0;Ht<It;Ht++)At[Ht].emit("unpipe",this,{hasUnpiped:!1});return this}var Zt=ar(Gt.pipes,qt);return Zt===-1||(Gt.pipes.splice(Zt,1),Gt.pipesCount-=1,Gt.pipesCount===1&&(Gt.pipes=Gt.pipes[0]),qt.emit("unpipe",this,vt)),this},dt.prototype.on=function(qt,Gt){var vt=$.prototype.on.call(this,qt,Gt),At=this._readableState;return qt==="data"?(At.readableListening=this.listenerCount("readable")>0,At.flowing!==!1&&this.resume()):qt==="readable"&&(At.endEmitted||At.readableListening||(At.readableListening=At.needReadable=!0,At.flowing=!1,At.emittedReadable=!1,Z("on readable",At.length,At.reading),At.length?zt(this):At.reading||d.nextTick(_t,this))),vt},dt.prototype.addListener=dt.prototype.on,dt.prototype.removeListener=function(qt,Gt){var vt=$.prototype.removeListener.call(this,qt,Gt);return qt==="readable"&&d.nextTick(Nt,this),vt},dt.prototype.removeAllListeners=function(qt){var Gt=$.prototype.removeAllListeners.apply(this,arguments);return qt!=="readable"&&qt!==void 0||d.nextTick(Nt,this),Gt},dt.prototype.resume=function(){var qt,Gt,vt=this._readableState;return vt.flowing||(Z("resume"),vt.flowing=!vt.readableListening,qt=this,(Gt=vt).resumeScheduled||(Gt.resumeScheduled=!0,d.nextTick(at,qt,Gt))),vt.paused=!1,this},dt.prototype.pause=function(){return Z("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(Z("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},dt.prototype.wrap=function(qt){var Gt=this,vt=this._readableState,At=!1;for(var It in qt.on("end",function(){if(Z("wrapped end"),vt.decoder&&!vt.ended){var Zt=vt.decoder.end();Zt&&Zt.length&&Gt.push(Zt)}Gt.push(null)}),qt.on("data",function(Zt){Z("wrapped data"),vt.decoder&&(Zt=vt.decoder.write(Zt)),vt.objectMode&&Zt==null||(vt.objectMode||Zt&&Zt.length)&&(Gt.push(Zt)||(At=!0,qt.pause()))}),qt)this[It]===void 0&&typeof qt[It]=="function"&&(this[It]=function(Zt){return function(){return qt[Zt].apply(qt,arguments)}}(It));for(var Ht=0;Ht<Yt.length;Ht++)qt.on(Yt[Ht],this.emit.bind(this,Yt[Ht]));return this._read=function(Zt){Z("wrapped _read",Zt),At&&(At=!1,qt.resume())},this},typeof Symbol=="function"&&(dt.prototype[Symbol.asyncIterator]=function(){return ft===void 0&&(ft=o(181)),ft(this)}),Object.defineProperty(dt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(dt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(dt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(qt){this._readableState&&(this._readableState.flowing=qt)}}),dt._fromList=Vt,Object.defineProperty(dt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(dt.from=function(qt,Gt){return ot===void 0&&(ot=o(182)),ot(dt,qt,Gt)})}).call(this,o(5),o(2))},function(e,i,o){e.exports=o(18).EventEmitter},function(e,i,o){(function(c){function d(s,$){Z(s,$),j(s)}function j(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function Z(s,$){s.emit("error",$)}e.exports={destroy:function(s,$){var et=this,ut=this._readableState&&this._readableState.destroyed,gt=this._writableState&&this._writableState.destroyed;return ut||gt?($?$(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(Z,this,s)):c.nextTick(Z,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(lt){!$&&lt?et._writableState?et._writableState.errorEmitted?c.nextTick(j,et):(et._writableState.errorEmitted=!0,c.nextTick(d,et,lt)):c.nextTick(d,et,lt):$?(c.nextTick(j,et),$(lt)):c.nextTick(j,et)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(s,$){var et=s._readableState,ut=s._writableState;et&&et.autoDestroy||ut&&ut.autoDestroy?s.destroy($):s.emit("error",$)}}}).call(this,o(2))},function(e,i,o){var c=o(24).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(d,j,Z,s){var $,et,ut,gt=(et=s,ut=Z,($=j).highWaterMark!=null?$.highWaterMark:et?$[ut]:null);if(gt!=null){if(!isFinite(gt)||Math.floor(gt)!==gt||gt<0)throw new c(s?Z:"highWaterMark",gt);return Math.floor(gt)}return d.objectMode?16:16384}}},function(e,i,o){(function(c,d){function j(Dt){var Nt=this;this.next=null,this.entry=null,this.finish=function(){(function(_t,at,Bt){var Vt=_t.entry;for(_t.entry=null;Vt;){var Qt=Vt.callback;at.pendingcb--,Qt(void 0),Vt=Vt.next}at.corkedRequestsFree.next=_t})(Nt,Dt)}}var Z;e.exports=dt,dt.WritableState=pt;var s,$={deprecate:o(39)},et=o(76),ut=o(4).Buffer,gt=c.Uint8Array||function(){},lt=o(77),ft=o(78).getHighWaterMark,ot=o(24).codes,yt=ot.ERR_INVALID_ARG_TYPE,wt=ot.ERR_METHOD_NOT_IMPLEMENTED,Rt=ot.ERR_MULTIPLE_CALLBACK,Mt=ot.ERR_STREAM_CANNOT_PIPE,Tt=ot.ERR_STREAM_DESTROYED,Ct=ot.ERR_STREAM_NULL_VALUES,ct=ot.ERR_STREAM_WRITE_AFTER_END,Lt=ot.ERR_UNKNOWN_ENCODING,Kt=lt.errorOrDestroy;function Yt(){}function pt(Dt,Nt,_t){Z=Z||o(25),Dt=Dt||{},typeof _t!="boolean"&&(_t=Nt instanceof Z),this.objectMode=!!Dt.objectMode,_t&&(this.objectMode=this.objectMode||!!Dt.writableObjectMode),this.highWaterMark=ft(this,Dt,"writableHighWaterMark",_t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var at=Dt.decodeStrings===!1;this.decodeStrings=!at,this.defaultEncoding=Dt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Bt){(function(Vt,Qt){var or,ar=Vt._writableState,qt=ar.sync,Gt=ar.writecb;if(typeof Gt!="function")throw new Rt;if((or=ar).writing=!1,or.writecb=null,or.length-=or.writelen,or.writelen=0,Qt)(function(At,It,Ht,Zt,rr){--It.pendingcb,Ht?(d.nextTick(rr,Zt),d.nextTick(St,At,It),At._writableState.errorEmitted=!0,Kt(At,Zt)):(rr(Zt),At._writableState.errorEmitted=!0,Kt(At,Zt),St(At,It))})(Vt,ar,qt,Qt,Gt);else{var vt=zt(ar)||Vt.destroyed;vt||ar.corked||ar.bufferProcessing||!ar.bufferedRequest||jt(Vt,ar),qt?d.nextTick(mt,Vt,ar,vt,Gt):mt(Vt,ar,vt,Gt)}})(Nt,Bt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Dt.emitClose!==!1,this.autoDestroy=!!Dt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function dt(Dt){var Nt=this instanceof(Z=Z||o(25));if(!Nt&&!s.call(dt,this))return new dt(Dt);this._writableState=new pt(Dt,this,Nt),this.writable=!0,Dt&&(typeof Dt.write=="function"&&(this._write=Dt.write),typeof Dt.writev=="function"&&(this._writev=Dt.writev),typeof Dt.destroy=="function"&&(this._destroy=Dt.destroy),typeof Dt.final=="function"&&(this._final=Dt.final)),et.call(this)}function bt(Dt,Nt,_t,at,Bt,Vt,Qt){Nt.writelen=at,Nt.writecb=Qt,Nt.writing=!0,Nt.sync=!0,Nt.destroyed?Nt.onwrite(new Tt("write")):_t?Dt._writev(Bt,Nt.onwrite):Dt._write(Bt,Vt,Nt.onwrite),Nt.sync=!1}function mt(Dt,Nt,_t,at){var Bt,Vt;_t||(Bt=Dt,(Vt=Nt).length===0&&Vt.needDrain&&(Vt.needDrain=!1,Bt.emit("drain"))),Nt.pendingcb--,at(),St(Dt,Nt)}function jt(Dt,Nt){Nt.bufferProcessing=!0;var _t=Nt.bufferedRequest;if(Dt._writev&&_t&&_t.next){var at=Nt.bufferedRequestCount,Bt=new Array(at),Vt=Nt.corkedRequestsFree;Vt.entry=_t;for(var Qt=0,or=!0;_t;)Bt[Qt]=_t,_t.isBuf||(or=!1),_t=_t.next,Qt+=1;Bt.allBuffers=or,bt(Dt,Nt,!0,Nt.length,Bt,"",Vt.finish),Nt.pendingcb++,Nt.lastBufferedRequest=null,Vt.next?(Nt.corkedRequestsFree=Vt.next,Vt.next=null):Nt.corkedRequestsFree=new j(Nt),Nt.bufferedRequestCount=0}else{for(;_t;){var ar=_t.chunk,qt=_t.encoding,Gt=_t.callback;if(bt(Dt,Nt,!1,Nt.objectMode?1:ar.length,ar,qt,Gt),_t=_t.next,Nt.bufferedRequestCount--,Nt.writing)break}_t===null&&(Nt.lastBufferedRequest=null)}Nt.bufferedRequest=_t,Nt.bufferProcessing=!1}function zt(Dt){return Dt.ending&&Dt.length===0&&Dt.bufferedRequest===null&&!Dt.finished&&!Dt.writing}function kt(Dt,Nt){Dt._final(function(_t){Nt.pendingcb--,_t&&Kt(Dt,_t),Nt.prefinished=!0,Dt.emit("prefinish"),St(Dt,Nt)})}function St(Dt,Nt){var _t,at,Bt=zt(Nt);if(Bt&&(_t=Dt,(at=Nt).prefinished||at.finalCalled||(typeof _t._final!="function"||at.destroyed?(at.prefinished=!0,_t.emit("prefinish")):(at.pendingcb++,at.finalCalled=!0,d.nextTick(kt,_t,at))),Nt.pendingcb===0&&(Nt.finished=!0,Dt.emit("finish"),Nt.autoDestroy))){var Vt=Dt._readableState;(!Vt||Vt.autoDestroy&&Vt.endEmitted)&&Dt.destroy()}return Bt}o(6)(dt,et),pt.prototype.getBuffer=function(){for(var Dt=this.bufferedRequest,Nt=[];Dt;)Nt.push(Dt),Dt=Dt.next;return Nt},function(){try{Object.defineProperty(pt.prototype,"buffer",{get:$.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(s=Function.prototype[Symbol.hasInstance],Object.defineProperty(dt,Symbol.hasInstance,{value:function(Dt){return!!s.call(this,Dt)||this===dt&&Dt&&Dt._writableState instanceof pt}})):s=function(Dt){return Dt instanceof this},dt.prototype.pipe=function(){Kt(this,new Mt)},dt.prototype.write=function(Dt,Nt,_t){var at,Bt,Vt=this._writableState,Qt=!1,or=!Vt.objectMode&&(at=Dt,ut.isBuffer(at)||at instanceof gt);return or&&!ut.isBuffer(Dt)&&(Bt=Dt,Dt=ut.from(Bt)),typeof Nt=="function"&&(_t=Nt,Nt=null),or?Nt="buffer":Nt||(Nt=Vt.defaultEncoding),typeof _t!="function"&&(_t=Yt),Vt.ending?function(ar,qt){var Gt=new ct;Kt(ar,Gt),d.nextTick(qt,Gt)}(this,_t):(or||function(ar,qt,Gt,vt){var At;return Gt===null?At=new Ct:typeof Gt=="string"||qt.objectMode||(At=new yt("chunk",["string","Buffer"],Gt)),!At||(Kt(ar,At),d.nextTick(vt,At),!1)}(this,Vt,Dt,_t))&&(Vt.pendingcb++,Qt=function(ar,qt,Gt,vt,At,It){if(!Gt){var Ht=(rr=vt,pr=At,(Zt=qt).objectMode||Zt.decodeStrings===!1||typeof rr!="string"||(rr=ut.from(rr,pr)),rr);vt!==Ht&&(Gt=!0,At="buffer",vt=Ht)}var Zt,rr,pr,_r=qt.objectMode?1:vt.length;qt.length+=_r;var ir=qt.length<qt.highWaterMark;if(ir||(qt.needDrain=!0),qt.writing||qt.corked){var cr=qt.lastBufferedRequest;qt.lastBufferedRequest={chunk:vt,encoding:At,isBuf:Gt,callback:It,next:null},cr?cr.next=qt.lastBufferedRequest:qt.bufferedRequest=qt.lastBufferedRequest,qt.bufferedRequestCount+=1}else bt(ar,qt,!1,_r,vt,At,It);return ir}(this,Vt,or,Dt,Nt,_t)),Qt},dt.prototype.cork=function(){this._writableState.corked++},dt.prototype.uncork=function(){var Dt=this._writableState;Dt.corked&&(Dt.corked--,Dt.writing||Dt.corked||Dt.bufferProcessing||!Dt.bufferedRequest||jt(this,Dt))},dt.prototype.setDefaultEncoding=function(Dt){if(typeof Dt=="string"&&(Dt=Dt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Dt+"").toLowerCase())>-1))throw new Lt(Dt);return this._writableState.defaultEncoding=Dt,this},Object.defineProperty(dt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(dt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),dt.prototype._write=function(Dt,Nt,_t){_t(new wt("_write()"))},dt.prototype._writev=null,dt.prototype.end=function(Dt,Nt,_t){var at,Bt,Vt,Qt=this._writableState;return typeof Dt=="function"?(_t=Dt,Dt=null,Nt=null):typeof Nt=="function"&&(_t=Nt,Nt=null),Dt!=null&&this.write(Dt,Nt),Qt.corked&&(Qt.corked=1,this.uncork()),Qt.ending||(at=this,Vt=_t,(Bt=Qt).ending=!0,St(at,Bt),Vt&&(Bt.finished?d.nextTick(Vt):at.once("finish",Vt)),Bt.ended=!0,at.writable=!1),this},Object.defineProperty(dt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(dt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Dt){this._writableState&&(this._writableState.destroyed=Dt)}}),dt.prototype.destroy=lt.destroy,dt.prototype._undestroy=lt.undestroy,dt.prototype._destroy=function(Dt,Nt){Nt(Dt)}}).call(this,o(5),o(2))},function(e,i,o){e.exports=ut;var c=o(24).codes,d=c.ERR_METHOD_NOT_IMPLEMENTED,j=c.ERR_MULTIPLE_CALLBACK,Z=c.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=c.ERR_TRANSFORM_WITH_LENGTH_0,$=o(25);function et(ft,ot){var yt=this._transformState;yt.transforming=!1;var wt=yt.writecb;if(wt===null)return this.emit("error",new j);yt.writechunk=null,yt.writecb=null,ot!=null&&this.push(ot),wt(ft);var Rt=this._readableState;Rt.reading=!1,(Rt.needReadable||Rt.length<Rt.highWaterMark)&&this._read(Rt.highWaterMark)}function ut(ft){if(!(this instanceof ut))return new ut(ft);$.call(this,ft),this._transformState={afterTransform:et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ft&&(typeof ft.transform=="function"&&(this._transform=ft.transform),typeof ft.flush=="function"&&(this._flush=ft.flush)),this.on("prefinish",gt)}function gt(){var ft=this;typeof this._flush!="function"||this._readableState.destroyed?lt(this,null,null):this._flush(function(ot,yt){lt(ft,ot,yt)})}function lt(ft,ot,yt){if(ot)return ft.emit("error",ot);if(yt!=null&&ft.push(yt),ft._writableState.length)throw new s;if(ft._transformState.transforming)throw new Z;return ft.push(null)}o(6)(ut,$),ut.prototype.push=function(ft,ot){return this._transformState.needTransform=!1,$.prototype.push.call(this,ft,ot)},ut.prototype._transform=function(ft,ot,yt){yt(new d("_transform()"))},ut.prototype._write=function(ft,ot,yt){var wt=this._transformState;if(wt.writecb=yt,wt.writechunk=ft,wt.writeencoding=ot,!wt.transforming){var Rt=this._readableState;(wt.needTransform||Rt.needReadable||Rt.length<Rt.highWaterMark)&&this._read(Rt.highWaterMark)}},ut.prototype._read=function(ft){var ot=this._transformState;ot.writechunk===null||ot.transforming?ot.needTransform=!0:(ot.transforming=!0,this._transform(ot.writechunk,ot.writeencoding,ot.afterTransform))},ut.prototype._destroy=function(ft,ot){$.prototype._destroy.call(this,ft,function(yt){ot(yt)})}},function(e,i,o){(function(c){var d=o(189),j=o(83),Z=o(191),s=o(192),$=o(46),et=i;et.request=function(ut,gt){ut=typeof ut=="string"?$.parse(ut):Z(ut);var lt=c.location.protocol.search(/^https?:$/)===-1?"http:":"",ft=ut.protocol||lt,ot=ut.hostname||ut.host,yt=ut.port,wt=ut.path||"/";ot&&ot.indexOf(":")!==-1&&(ot="["+ot+"]"),ut.url=(ot?ft+"//"+ot:"")+(yt?":"+yt:"")+wt,ut.method=(ut.method||"GET").toUpperCase(),ut.headers=ut.headers||{};var Rt=new d(ut);return gt&&Rt.on("response",gt),Rt},et.get=function(ut,gt){var lt=et.request(ut,gt);return lt.end(),lt},et.ClientRequest=d,et.IncomingMessage=j.IncomingMessage,et.Agent=function(){},et.Agent.defaultMaxSockets=4,et.globalAgent=new et.Agent,et.STATUS_CODES=s,et.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,o(5))},function(e,i,o){(function(c){i.fetch=et(c.fetch)&&et(c.ReadableStream),i.writableStream=et(c.WritableStream),i.abortController=et(c.AbortController),i.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),i.blobConstructor=!0}catch{}var d;function j(){if(d!==void 0)return d;if(c.XMLHttpRequest){d=new c.XMLHttpRequest;try{d.open("GET",c.XDomainRequest?"/":"https://example.com")}catch{d=null}}else d=null;return d}function Z(ut){var gt=j();if(!gt)return!1;try{return gt.responseType=ut,gt.responseType===ut}catch{}return!1}var s=c.ArrayBuffer!==void 0,$=s&&et(c.ArrayBuffer.prototype.slice);function et(ut){return typeof ut=="function"}i.arraybuffer=i.fetch||s&&Z("arraybuffer"),i.msstream=!i.fetch&&$&&Z("ms-stream"),i.mozchunkedarraybuffer=!i.fetch&&s&&Z("moz-chunked-arraybuffer"),i.overrideMimeType=i.fetch||!!j()&&et(j().overrideMimeType),i.vbArray=et(c.VBArray),d=null}).call(this,o(5))},function(e,i,o){(function(c,d,j){var Z=o(82),s=o(6),$=o(28),et=i.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ut=i.IncomingMessage=function(gt,lt,ft,ot){var yt=this;if($.Readable.call(yt),yt._mode=ft,yt.headers={},yt.rawHeaders=[],yt.trailers={},yt.rawTrailers=[],yt.on("end",function(){c.nextTick(function(){yt.emit("close")})}),ft==="fetch"){if(yt._fetchResponse=lt,yt.url=lt.url,yt.statusCode=lt.status,yt.statusMessage=lt.statusText,lt.headers.forEach(function(Ct,ct){yt.headers[ct.toLowerCase()]=Ct,yt.rawHeaders.push(ct,Ct)}),Z.writableStream){var wt=new WritableStream({write:function(Ct){return new Promise(function(ct,Lt){yt._destroyed?Lt():yt.push(new d(Ct))?ct():yt._resumeFetch=ct})},close:function(){j.clearTimeout(ot),yt._destroyed||yt.push(null)},abort:function(Ct){yt._destroyed||yt.emit("error",Ct)}});try{return void lt.body.pipeTo(wt).catch(function(Ct){j.clearTimeout(ot),yt._destroyed||yt.emit("error",Ct)})}catch{}}var Rt=lt.body.getReader();(function Ct(){Rt.read().then(function(ct){if(!yt._destroyed){if(ct.done)return j.clearTimeout(ot),void yt.push(null);yt.push(new d(ct.value)),Ct()}}).catch(function(ct){j.clearTimeout(ot),yt._destroyed||yt.emit("error",ct)})})()}else if(yt._xhr=gt,yt._pos=0,yt.url=gt.responseURL,yt.statusCode=gt.status,yt.statusMessage=gt.statusText,gt.getAllResponseHeaders().split(/\r?\n/).forEach(function(Ct){var ct=Ct.match(/^([^:]+):\s*(.*)/);if(ct){var Lt=ct[1].toLowerCase();Lt==="set-cookie"?(yt.headers[Lt]===void 0&&(yt.headers[Lt]=[]),yt.headers[Lt].push(ct[2])):yt.headers[Lt]!==void 0?yt.headers[Lt]+=", "+ct[2]:yt.headers[Lt]=ct[2],yt.rawHeaders.push(ct[1],ct[2])}}),yt._charset="x-user-defined",!Z.overrideMimeType){var Mt=yt.rawHeaders["mime-type"];if(Mt){var Tt=Mt.match(/;\s*charset=([^;])(;|$)/);Tt&&(yt._charset=Tt[1].toLowerCase())}yt._charset||(yt._charset="utf-8")}};s(ut,$.Readable),ut.prototype._read=function(){var gt=this._resumeFetch;gt&&(this._resumeFetch=null,gt())},ut.prototype._onXHRProgress=function(){var gt=this,lt=gt._xhr,ft=null;switch(gt._mode){case"text:vbarray":if(lt.readyState!==et.DONE)break;try{ft=new j.VBArray(lt.responseBody).toArray()}catch{}if(ft!==null){gt.push(new d(ft));break}case"text":try{ft=lt.responseText}catch{gt._mode="text:vbarray";break}if(ft.length>gt._pos){var ot=ft.substr(gt._pos);if(gt._charset==="x-user-defined"){for(var yt=new d(ot.length),wt=0;wt<ot.length;wt++)yt[wt]=255&ot.charCodeAt(wt);gt.push(yt)}else gt.push(ot,gt._charset);gt._pos=ft.length}break;case"arraybuffer":if(lt.readyState!==et.DONE||!lt.response)break;ft=lt.response,gt.push(new d(new Uint8Array(ft)));break;case"moz-chunked-arraybuffer":if(ft=lt.response,lt.readyState!==et.LOADING||!ft)break;gt.push(new d(new Uint8Array(ft)));break;case"ms-stream":if(ft=lt.response,lt.readyState!==et.LOADING)break;var Rt=new j.MSStreamReader;Rt.onprogress=function(){Rt.result.byteLength>gt._pos&&(gt.push(new d(new Uint8Array(Rt.result.slice(gt._pos)))),gt._pos=Rt.result.byteLength)},Rt.onload=function(){gt.push(null)},Rt.readAsArrayBuffer(ft)}gt._xhr.readyState===et.DONE&&gt._mode!=="ms-stream"&&gt.push(null)}}).call(this,o(2),o(4).Buffer,o(5))},function(e,i,o){const c=d=>d!==null&&typeof d=="object"&&typeof d.pipe=="function";c.writable=d=>c(d)&&d.writable!==!1&&typeof d._write=="function"&&typeof d._writableState=="object",c.readable=d=>c(d)&&d.readable!==!1&&typeof d._read=="function"&&typeof d._readableState=="object",c.duplex=d=>c.writable(d)&&c.readable(d),c.transform=d=>c.duplex(d)&&typeof d._transform=="function"&&typeof d._transformState=="object",e.exports=c},function(e,i,o){function c(yt){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(yt)}function d(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function j(yt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),wt&&Z(yt,wt)}function Z(yt,wt){return(Z=Object.setPrototypeOf||function(Rt,Mt){return Rt.__proto__=Mt,Rt})(yt,wt)}function s(yt){var wt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Rt,Mt=et(yt);if(wt){var Tt=et(this).constructor;Rt=Reflect.construct(Mt,arguments,Tt)}else Rt=Mt.apply(this,arguments);return $(this,Rt)}}function $(yt,wt){return!wt||c(wt)!=="object"&&typeof wt!="function"?function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(yt):wt}function et(yt){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(yt)}var ut=o(3).LEVEL,gt=o(47),lt=o(201),ft=o(34)("winston:create-logger");function ot(yt){return"is"+yt.charAt(0).toUpperCase()+yt.slice(1)+"Enabled"}e.exports=function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yt.levels=yt.levels||gt.npm.levels;var wt=function(Mt){j(Ct,Mt);var Tt=s(Ct);function Ct(ct){return d(this,Ct),Tt.call(this,ct)}return Ct}(lt),Rt=new wt(yt);return Object.keys(yt.levels).forEach(function(Mt){ft('Define prototype method for "%s"',Mt),Mt!=="log"?(wt.prototype[Mt]=function(){for(var Tt=this||Rt,Ct=arguments.length,ct=new Array(Ct),Lt=0;Lt<Ct;Lt++)ct[Lt]=arguments[Lt];if(ct.length===1){var Kt=ct[0],Yt=Kt&&Kt.message&&Kt||{message:Kt};return Yt.level=Yt[ut]=Mt,Tt._addDefaultMeta(Yt),Tt.write(Yt),this||Rt}return ct.length===0?(Tt.log(Mt,""),Tt):Tt.log.apply(Tt,[Mt].concat(ct))},wt.prototype[ot(Mt)]=function(){return(this||Rt).isLevelEnabled(Mt)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),Rt}},function(e,i,o){(function(c){var d=o(15),j=o(48),Z=o(34)("winston:exception"),s=o(87),$=o(88),et=o(89);e.exports=function(){function ut(lt){if(function(ft,ot){if(!(ft instanceof ot))throw new TypeError("Cannot call a class as a function")}(this,ut),!lt)throw new Error("Logger is required to handle exceptions");this.logger=lt,this.handlers=new Map}var gt;return(gt=[{key:"handle",value:function(){for(var lt=this,ft=arguments.length,ot=new Array(ft),yt=0;yt<ft;yt++)ot[yt]=arguments[yt];ot.forEach(function(wt){if(Array.isArray(wt))return wt.forEach(function(Rt){return lt._addHandler(Rt)});lt._addHandler(wt)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),c.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var lt=this;this.catcher&&(c.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(ft){return lt.logger.unpipe(ft)}))}},{key:"getAllInfo",value:function(lt){var ft=lt.message;return ft||typeof lt!="string"||(ft=lt),{error:lt,level:"error",message:["uncaughtException: ".concat(ft||"(no error message)"),lt.stack||"  No stack trace"].join(`
`),stack:lt.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(lt)}}},{key:"getProcessInfo",value:function(){return{pid:c.pid,uid:c.getuid?c.getuid():null,gid:c.getgid?c.getgid():null,cwd:c.cwd(),execPath:c.execPath,version:c.version,argv:c.argv,memoryUsage:c.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:d.loadavg(),uptime:d.uptime()}}},{key:"getTrace",value:function(lt){return(lt?$.parse(lt):$.get()).map(function(ft){return{column:ft.getColumnNumber(),file:ft.getFileName(),function:ft.getFunctionName(),line:ft.getLineNumber(),method:ft.getMethodName(),native:ft.isNative()}})}},{key:"_addHandler",value:function(lt){if(!this.handlers.has(lt)){lt.handleExceptions=!0;var ft=new et(lt);this.handlers.set(lt,ft),this.logger.pipe(ft)}}},{key:"_uncaughtException",value:function(lt){var ft,ot=this.getAllInfo(lt),yt=this._getExceptionHandlers(),wt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(lt):this.logger.exitOnError;function Rt(){Z("doExit",wt),Z("process._exiting",c._exiting),wt&&!c._exiting&&(ft&&clearTimeout(ft),c.exit(1))}if(!yt.length&&wt&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),wt=!1),!yt||yt.length===0)return c.nextTick(Rt);j(yt,function(Mt,Tt){var Ct=s(Tt),ct=Mt.transport||Mt;function Lt(Kt){return function(){Z(Kt),Ct()}}ct._ending=!0,ct.once("finish",Lt("finished")),ct.once("error",Lt("error"))},function(){return wt&&Rt()}),this.logger.log(ot),wt&&(ft=setTimeout(Rt,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(lt){return(lt.transport||lt).handleExceptions})}}])&&function(lt,ft){for(var ot=0;ot<ft.length;ot++){var yt=ft[ot];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(lt,yt.key,yt)}}(ut.prototype,gt),ut}()}).call(this,o(2))},function(e,i,o){var c=o(204);e.exports=function(d){var j,Z=0;function s(){return Z||(Z=1,j=d.apply(this,arguments),d=null),j}return s.displayName=c(d),s}},function(e,i){function o(c){for(var d in c)this[d]=c[d]}i.get=function(c){var d=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var j={},Z=Error.prepareStackTrace;Error.prepareStackTrace=function($,et){return et},Error.captureStackTrace(j,c||i.get);var s=j.stack;return Error.prepareStackTrace=Z,Error.stackTraceLimit=d,s},i.parse=function(c){if(!c.stack)return[];var d=this;return c.stack.split(`
`).slice(1).map(function(j){if(j.match(/^\s*[-]{4,}$/))return d._createParsedCallSite({fileName:j,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var Z=j.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(Z){var s=null,$=null,et=null,ut=null,gt=null,lt=Z[5]==="native";if(Z[1]){var ft=(et=Z[1]).lastIndexOf(".");if(et[ft-1]=="."&&ft--,ft>0){s=et.substr(0,ft),$=et.substr(ft+1);var ot=s.indexOf(".Module");ot>0&&(et=et.substr(ot+1),s=s.substr(0,ot))}ut=null}$&&(ut=s,gt=$),$==="<anonymous>"&&(gt=null,et=null);var yt={fileName:Z[2]||null,lineNumber:parseInt(Z[3],10)||null,functionName:et,typeName:ut,methodName:gt,columnNumber:parseInt(Z[4],10)||null,native:lt};return d._createParsedCallSite(yt)}}).filter(function(j){return!!j})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(c){o.prototype[c]=null,o.prototype["get"+c[0].toUpperCase()+c.substr(1)]=function(){return this[c]}}),["topLevel","eval","native","constructor"].forEach(function(c){o.prototype[c]=!1,o.prototype["is"+c[0].toUpperCase()+c.substr(1)]=function(){return this[c]}}),i._createParsedCallSite=function(c){return new o(c)}},function(e,i,o){function c($){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et})($)}function d($,et){return(d=Object.setPrototypeOf||function(ut,gt){return ut.__proto__=gt,ut})($,et)}function j($,et){return!et||c(et)!=="object"&&typeof et!="function"?function(ut){if(ut===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut}($):et}function Z($){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(et){return et.__proto__||Object.getPrototypeOf(et)})($)}var s=o(29).Writable;e.exports=function($){(function(lt,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function");lt.prototype=Object.create(ft&&ft.prototype,{constructor:{value:lt,writable:!0,configurable:!0}}),ft&&d(lt,ft)})(gt,$);var et,ut=function(lt){var ft=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ot,yt=Z(lt);if(ft){var wt=Z(this).constructor;ot=Reflect.construct(yt,arguments,wt)}else ot=yt.apply(this,arguments);return j(this,ot)}}(gt);function gt(lt){var ft;if(function(ot,yt){if(!(ot instanceof yt))throw new TypeError("Cannot call a class as a function")}(this,gt),ft=ut.call(this,{objectMode:!0}),!lt)throw new Error("ExceptionStream requires a TransportStream instance.");return ft.handleExceptions=!0,ft.transport=lt,ft}return(et=[{key:"_write",value:function(lt,ft,ot){return lt.exception?this.transport.log(lt,ot):(ot(),!0)}}])&&function(lt,ft){for(var ot=0;ot<ft.length;ot++){var yt=ft[ot];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(lt,yt.key,yt)}}(gt.prototype,et),gt}(s)},function(e,i,o){(function(c){var d=o(15),j=o(48),Z=o(34)("winston:rejection"),s=o(87),$=o(88),et=o(89);e.exports=function(){function ut(lt){if(function(ft,ot){if(!(ft instanceof ot))throw new TypeError("Cannot call a class as a function")}(this,ut),!lt)throw new Error("Logger is required to handle rejections");this.logger=lt,this.handlers=new Map}var gt;return(gt=[{key:"handle",value:function(){for(var lt=this,ft=arguments.length,ot=new Array(ft),yt=0;yt<ft;yt++)ot[yt]=arguments[yt];ot.forEach(function(wt){if(Array.isArray(wt))return wt.forEach(function(Rt){return lt._addHandler(Rt)});lt._addHandler(wt)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),c.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var lt=this;this.catcher&&(c.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(ft){return lt.logger.unpipe(ft)}))}},{key:"getAllInfo",value:function(lt){var ft=lt.message;return ft||typeof lt!="string"||(ft=lt),{error:lt,level:"error",message:["unhandledRejection: ".concat(ft||"(no error message)"),lt.stack||"  No stack trace"].join(`
`),stack:lt.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(lt)}}},{key:"getProcessInfo",value:function(){return{pid:c.pid,uid:c.getuid?c.getuid():null,gid:c.getgid?c.getgid():null,cwd:c.cwd(),execPath:c.execPath,version:c.version,argv:c.argv,memoryUsage:c.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:d.loadavg(),uptime:d.uptime()}}},{key:"getTrace",value:function(lt){return(lt?$.parse(lt):$.get()).map(function(ft){return{column:ft.getColumnNumber(),file:ft.getFileName(),function:ft.getFunctionName(),line:ft.getLineNumber(),method:ft.getMethodName(),native:ft.isNative()}})}},{key:"_addHandler",value:function(lt){if(!this.handlers.has(lt)){lt.handleRejections=!0;var ft=new et(lt);this.handlers.set(lt,ft),this.logger.pipe(ft)}}},{key:"_unhandledRejection",value:function(lt){var ft,ot=this.getAllInfo(lt),yt=this._getRejectionHandlers(),wt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(lt):this.logger.exitOnError;function Rt(){Z("doExit",wt),Z("process._exiting",c._exiting),wt&&!c._exiting&&(ft&&clearTimeout(ft),c.exit(1))}if(!yt.length&&wt&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),wt=!1),!yt||yt.length===0)return c.nextTick(Rt);j(yt,function(Mt,Tt){var Ct=s(Tt),ct=Mt.transport||Mt;function Lt(Kt){return function(){Z(Kt),Ct()}}ct._ending=!0,ct.once("finish",Lt("finished")),ct.once("error",Lt("error"))},function(){return wt&&Rt()}),this.logger.log(ot),wt&&(ft=setTimeout(Rt,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(lt){return(lt.transport||lt).handleRejections})}}])&&function(lt,ft){for(var ot=0;ot<ft.length;ot++){var yt=ft[ot];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(lt,yt.key,yt)}}(ut.prototype,gt),ut}()}).call(this,o(2))},function(e,i,o){const c=o(50);e.exports=function(d){const j=c(d);if(j<0)throw new Error("should be a positive integer");return j}},function(e,i,o){const c=o(46).URL,d=o(35);e.exports=function(j){const Z=d(j);try{return new c(Z)}catch{throw new Error("should be a valid URL")}}},function(e,i,o){const c={};c.web=o(22),o(94);const d={v1:{}};d.v1.signaling={},d.v1.signaling.api=o(8),d.v1.signaling.api.SignalingClient=function(lt,ft,ot){ot||(ot={}),ot.format="text",this.client_=new c.web.GrpcWebClientBase(ot),this.hostname_=lt},d.v1.signaling.api.SignalingPromiseClient=function(lt,ft,ot){ot||(ot={}),ot.format="text",this.client_=new c.web.GrpcWebClientBase(ot),this.hostname_=lt};const j=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",c.web.MethodType.UNARY,d.v1.signaling.api.CreatePeerRequest,d.v1.signaling.api.CreatePeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.CreatePeerResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.CreatePeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.CreatePeerResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.createPeer=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",lt,ft||{},j,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",lt,ft||{},j)};const Z=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",c.web.MethodType.UNARY,d.v1.signaling.api.DeletePeerRequest,d.v1.signaling.api.DeletePeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.DeletePeerResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.DeletePeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.DeletePeerResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.deletePeer=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",lt,ft||{},Z,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",lt,ft||{},Z)};const s=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",c.web.MethodType.UNARY,d.v1.signaling.api.RefreshPeerRequest,d.v1.signaling.api.RefreshPeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.RefreshPeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.RefreshPeerResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",lt,ft||{},s,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",lt,ft||{},s)};const $=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",c.web.MethodType.UNARY,d.v1.signaling.api.GetPeersRequest,d.v1.signaling.api.GetPeersResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.GetPeersResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.GetPeersResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.GetPeersResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.getPeers=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",lt,ft||{},$,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",lt,ft||{},$)};const et=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",c.web.MethodType.UNARY,d.v1.signaling.api.GetIceServersRequest,d.v1.signaling.api.GetIceServersResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.GetIceServersResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.GetIceServersResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.GetIceServersResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.getIceServers=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",lt,ft||{},et,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",lt,ft||{},et)};const ut=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",c.web.MethodType.UNARY,d.v1.signaling.api.SendSignalRequest,d.v1.signaling.api.SendSignalResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.SendSignalResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.SendSignalResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.SendSignalResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.sendSignal=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",lt,ft||{},ut,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",lt,ft||{},ut)};const gt=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",c.web.MethodType.SERVER_STREAMING,d.v1.signaling.api.ReceiveSignalStreamRequest,d.v1.signaling.api.ReceiveSignalStreamResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.ReceiveSignalStreamResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(lt,ft){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",lt,ft||{},gt)},d.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(lt,ft){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",lt,ft||{},gt)},e.exports=d.v1.signaling.api},function(e,i,o){var c=o(95),d=c,j=Function("return this")();d.exportSymbol("proto.google.protobuf.BoolValue",null,j),d.exportSymbol("proto.google.protobuf.BytesValue",null,j),d.exportSymbol("proto.google.protobuf.DoubleValue",null,j),d.exportSymbol("proto.google.protobuf.FloatValue",null,j),d.exportSymbol("proto.google.protobuf.Int32Value",null,j),d.exportSymbol("proto.google.protobuf.Int64Value",null,j),d.exportSymbol("proto.google.protobuf.StringValue",null,j),d.exportSymbol("proto.google.protobuf.UInt32Value",null,j),d.exportSymbol("proto.google.protobuf.UInt64Value",null,j),proto.google.protobuf.DoubleValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.DoubleValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.FloatValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.Int64Value,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.UInt64Value,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.Int32Value,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.UInt32Value,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.BoolValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.StringValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.BytesValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(Z){return proto.google.protobuf.DoubleValue.toObject(Z,this)},proto.google.protobuf.DoubleValue.toObject=function(Z,s){var $={value:c.Message.getFloatingPointFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.DoubleValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readDouble();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeDouble(1,$)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return c.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(Z){return c.Message.setProto3FloatField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(Z){return proto.google.protobuf.FloatValue.toObject(Z,this)},proto.google.protobuf.FloatValue.toObject=function(Z,s){var $={value:c.Message.getFloatingPointFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.FloatValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readFloat();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeFloat(1,$)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return c.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(Z){return c.Message.setProto3FloatField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(Z){return proto.google.protobuf.Int64Value.toObject(Z,this)},proto.google.protobuf.Int64Value.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.Int64Value.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader($,s)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readInt64();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeInt64(1,$)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(Z){return c.Message.setProto3IntField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(Z){return proto.google.protobuf.UInt64Value.toObject(Z,this)},proto.google.protobuf.UInt64Value.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.UInt64Value.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader($,s)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readUint64();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeUint64(1,$)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(Z){return c.Message.setProto3IntField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(Z){return proto.google.protobuf.Int32Value.toObject(Z,this)},proto.google.protobuf.Int32Value.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.Int32Value.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader($,s)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readInt32();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeInt32(1,$)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(Z){return c.Message.setProto3IntField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(Z){return proto.google.protobuf.UInt32Value.toObject(Z,this)},proto.google.protobuf.UInt32Value.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.UInt32Value.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader($,s)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readUint32();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeUint32(1,$)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(Z){return c.Message.setProto3IntField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(Z){return proto.google.protobuf.BoolValue.toObject(Z,this)},proto.google.protobuf.BoolValue.toObject=function(Z,s){var $={value:c.Message.getBooleanFieldWithDefault(s,1,!1)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.BoolValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readBool();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())&&s.writeBool(1,$)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return c.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(Z){return c.Message.setProto3BooleanField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(Z){return proto.google.protobuf.StringValue.toObject(Z,this)},proto.google.protobuf.StringValue.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,"")};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.StringValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readString();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue()).length>0&&s.writeString(1,$)},proto.google.protobuf.StringValue.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(Z){return c.Message.setProto3StringField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(Z){return proto.google.protobuf.BytesValue.toObject(Z,this)},proto.google.protobuf.BytesValue.toObject=function(Z,s){var $={value:s.getValue_asB64()};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.BytesValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readBytes();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue_asU8()).length>0&&s.writeBytes(1,$)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return c.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return c.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(Z){return c.Message.setProto3BytesField(this,1,Z)},d.object.extend(i,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,i,o){e instanceof String&&(e=String(e));for(var c=e.length,d=0;d<c;d++){var j=e[d];if(i.call(o,j,d,e))return{i:d,v:j}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,i,o){e!=Array.prototype&&e!=Object.prototype&&(e[i]=o.value)},$jscomp.getGlobal=function(e){return typeof window!="undefined"&&window===e?e:global!==void 0&&global!=null?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,i,o,c){if(i){for(o=$jscomp.global,e=e.split("."),c=0;c<e.length-1;c++){var d=e[c];d in o||(o[d]={}),o=o[d]}(i=i(c=o[e=e[e.length-1]]))!=c&&i!=null&&$jscomp.defineProperty(o,e,{configurable:!0,writable:!0,value:i})}},$jscomp.polyfill("Array.prototype.findIndex",function(e){return e||function(i,o){return $jscomp.findInternal(this,i,o).i}},"es6","es3"),$jscomp.checkStringArgs=function(e,i,o){if(e==null)throw new TypeError("The 'this' value for String.prototype."+o+" must not be null or undefined");if(i instanceof RegExp)throw new TypeError("First argument to String.prototype."+o+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(i,o){var c=$jscomp.checkStringArgs(this,i,"endsWith");i+="",o===void 0&&(o=c.length),o=Math.max(0,Math.min(0|o,c.length));for(var d=i.length;0<d&&0<o;)if(c[--o]!=i[--d])return!1;return 0>=d}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(e){return e||function(i,o){return $jscomp.findInternal(this,i,o).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(i,o){var c=$jscomp.checkStringArgs(this,i,"startsWith");i+="";var d=c.length,j=i.length;o=Math.max(0,Math.min(0|o,c.length));for(var Z=0;Z<j&&o<d;)if(c[o++]!=i[Z++])return!1;return Z>=j}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(i){var o=$jscomp.checkStringArgs(this,null,"repeat");if(0>i||1342177279<i)throw new RangeError("Invalid count value");i|=0;for(var c="";i;)1&i&&(c+=o),(i>>>=1)&&(o+=o);return c}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(e){return e!==void 0},goog.isString=function(e){return typeof e=="string"},goog.isBoolean=function(e){return typeof e=="boolean"},goog.isNumber=function(e){return typeof e=="number"},goog.exportPath_=function(e,i,o){e=e.split("."),o=o||goog.global,e[0]in o||o.execScript===void 0||o.execScript("var "+e[0]);for(var c;e.length&&(c=e.shift());)!e.length&&goog.isDef(i)?o[c]=i:o=o[c]&&o[c]!==Object.prototype[c]?o[c]:o[c]={}},goog.define=function(e,i){return i},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,i){goog.exportPath_(e,i)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&typeof e.getCurrentModulePath=="function"&&!!e.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var i=goog.global.$jscomp;if(!i||typeof i.getCurrentModulePath!="function")throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');i=i.require(i.getCurrentModulePath()),goog.loadedModules_[e]={exports:i,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.getObjectByName=function(e,i){e=e.split("."),i=i||goog.global;for(var o=0;o<e.length;o++)if(i=i[e[o]],!goog.isDefAndNotNull(i))return null;return i},goog.globalize=function(e,i){for(var o in i=i||goog.global,e)i[o]=e[o]},goog.addDependency=function(e,i,o,c){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+`
;})();
`},goog.loadModule=function(e){var i=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var o=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),o=goog.loadModuleFromSource_.call(void 0,e)}var c=goog.moduleLoaderState_.moduleName;if(!goog.isString(c)||!c)throw Error('Invalid module name "'+c+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(c,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof o=="object"&&o!=null&&Object.seal(o),goog.loadedModules_[c]={exports:o,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=i}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var i=0;i<e.length;)e[i]=="."?e.splice(i,1):i&&e[i]==".."&&e[i-1]&&e[i-1]!=".."?e.splice(--i,2):i++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var i=new goog.global.XMLHttpRequest;return i.open("get",e,!1),i.send(),i.status==0||i.status==200?i.responseText:null}catch{return null}},goog.transpile_=function(e,i,o){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var j=goog.basePath+goog.TRANSPILER,Z=goog.loadFileSync_(j);if(Z){if(function(){(0,eval)(Z+`
//# sourceURL=`+j)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,d=(c=goog.global.$jscomp).transpile}}return d||(d=c.transpile=function(s,$){return goog.logToConsole_($+" requires transpilation but no transpiler was found."),s}),d(e,i,o)},goog.typeOf=function(e){var i=typeof e;if(i=="object"){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return i;var o=Object.prototype.toString.call(e);if(o=="[object Window]")return"object";if(o=="[object Array]"||typeof e.length=="number"&&e.splice!==void 0&&e.propertyIsEnumerable!==void 0&&!e.propertyIsEnumerable("splice"))return"array";if(o=="[object Function]"||e.call!==void 0&&e.propertyIsEnumerable!==void 0&&!e.propertyIsEnumerable("call"))return"function"}else if(i=="function"&&e.call===void 0)return"object";return i},goog.isNull=function(e){return e===null},goog.isDefAndNotNull=function(e){return e!=null},goog.isArray=function(e){return goog.typeOf(e)=="array"},goog.isArrayLike=function(e){var i=goog.typeOf(e);return i=="array"||i=="object"&&typeof e.length=="number"},goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"},goog.isFunction=function(e){return goog.typeOf(e)=="function"},goog.isObject=function(e){var i=typeof e;return i=="object"&&e!=null||i=="function"},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){e!==null&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var i=goog.typeOf(e);if(i=="object"||i=="array"){if(typeof e.clone=="function")return e.clone();for(var o in i=i=="array"?[]:{},e)i[o]=goog.cloneObject(e[o]);return i}return e},goog.bindNative_=function(e,i,o){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,i,o){if(!e)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),e.apply(i,d)}}return function(){return e.apply(i,arguments)}},goog.bind=function(e,i,o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,i){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),e.apply(this,c)}},goog.mixin=function(e,i){for(var o in i)e[o]=i[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var i=goog.global.document,o=i.createElement("SCRIPT");o.type="text/javascript",o.defer=!1,o.appendChild(i.createTextNode(e)),i.head.appendChild(o),i.head.removeChild(o)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,i){if(String(e).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var o=function(d){return goog.cssNameMapping_[d]||d},c=function(d){d=d.split("-");for(var j=[],Z=0;Z<d.length;Z++)j.push(o(d[Z]));return j.join("-")};return c=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?o:c:function(d){return d},e=i?e+"-"+c(i):c(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,i){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=i},goog.getMsg=function(e,i,o){return o&&o.html&&(e=e.replace(/</g,"&lt;")),i&&(e=e.replace(/\{\$([^}]+)}/g,function(c,d){return i!=null&&d in i?i[d]:c})),e},goog.getMsgWithFallback=function(e,i){return e},goog.exportSymbol=function(e,i,o){goog.exportPath_(e,i,o)},goog.exportProperty=function(e,i,o){e[i]=o},goog.inherits=function(e,i){function o(){}o.prototype=i.prototype,e.superClass_=i.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(c,d,j){for(var Z=Array(arguments.length-2),s=2;s<arguments.length;s++)Z[s-2]=arguments[s];return i.prototype[d].apply(c,Z)}},goog.base=function(e,i,o){var c=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!c)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(c.superClass_!==void 0){for(var d=Array(arguments.length-1),j=1;j<arguments.length;j++)d[j-1]=arguments[j];return c.superClass_.constructor.apply(e,d)}if(typeof i!="string"&&typeof i!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for(d=Array(arguments.length-2),j=2;j<arguments.length;j++)d[j-2]=arguments[j];j=!1;for(var Z=e.constructor.prototype;Z;Z=Object.getPrototypeOf(Z))if(Z[i]===c)j=!0;else if(j)return Z[i].apply(e,d);if(e[i]===c)return e.constructor.prototype[i].apply(e,d);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},goog.defineClass=function(e,i){var o=i.constructor,c=i.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,e),e&&goog.inherits(o,e),delete i.constructor,delete i.statics,goog.defineClass.applyProperties_(o.prototype,i),c!=null&&(c instanceof Function?c(o):goog.defineClass.applyProperties_(o,c)),o},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,i){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var o=!goog.defineClass.isUnsealable_(i),c=function(){var d=e.apply(this,arguments)||this;return d[goog.UID_PROPERTY_]=d[goog.UID_PROPERTY_],this.constructor===c&&o&&Object.seal instanceof Function&&Object.seal(d),d};return c},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);for(var c=0;c<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;c++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[c],Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},goog.tagUnsealableClass=function(e){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var i=null;if(typeof TrustedTypes=="undefined"||!TrustedTypes.createPolicy)return i;try{i=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(o){goog.logToConsole_(o.message)}return i},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var i=jspb.BinaryConstants.FieldType,o=jspb.BinaryConstants.WireType;switch(e){case i.INT32:case i.INT64:case i.UINT32:case i.UINT64:case i.SINT32:case i.SINT64:case i.BOOL:case i.ENUM:case i.VHASH64:return o.VARINT;case i.DOUBLE:case i.FIXED64:case i.SFIXED64:case i.FHASH64:return o.FIXED64;case i.STRING:case i.MESSAGE:case i.BYTES:return o.DELIMITED;case i.FLOAT:case i.FIXED32:case i.SFIXED32:return o.FIXED32;default:return o.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var i=Error().stack;i&&(this.stack=i)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,i){goog.debug.Error.call(this,goog.asserts.subs_(e,i)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,i){for(var o="",c=(e=e.split("%s")).length-1,d=0;d<c;d++)o+=e[d]+(d<i.length?i[d]:"%s");return o+e[c]},goog.asserts.doAssertFailure_=function(e,i,o,c){var d="Assertion failed";if(o){d+=": "+o;var j=c}else e&&(d+=": "+e,j=i);e=new goog.asserts.AssertionError(""+d,j||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&e==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,i){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,i,o){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,i,o,c){return!goog.asserts.ENABLE_ASSERTS||e instanceof i||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(i),goog.asserts.getType_(e)],o,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,i,o){return!goog.asserts.ENABLE_ASSERTS||typeof e=="number"&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.indexOf.call(e,i,o)}:function(e,i,o){if(o=o==null?0:0>o?Math.max(0,e.length+o):o,goog.isString(e))return goog.isString(i)&&i.length==1?e.indexOf(i,o):-1;for(;o<e.length;o++)if(o in e&&e[o]===i)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.lastIndexOf.call(e,i,o==null?e.length-1:o)}:function(e,i,o){if(0>(o=o==null?e.length-1:o)&&(o=Math.max(0,e.length+o)),goog.isString(e))return goog.isString(i)&&i.length==1?e.lastIndexOf(i,o):-1;for(;0<=o;o--)if(o in e&&e[o]===i)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,i,o){goog.asserts.assert(e.length!=null),Array.prototype.forEach.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=goog.isString(e)?e.split(""):e,j=0;j<c;j++)j in d&&i.call(o,d[j],j,e)},goog.array.forEachRight=function(e,i,o){var c=e.length,d=goog.isString(e)?e.split(""):e;for(--c;0<=c;--c)c in d&&i.call(o,d[c],c,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.filter.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=[],j=0,Z=goog.isString(e)?e.split(""):e,s=0;s<c;s++)if(s in Z){var $=Z[s];i.call(o,$,s,e)&&(d[j++]=$)}return d},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.map.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=Array(c),j=goog.isString(e)?e.split(""):e,Z=0;Z<c;Z++)Z in j&&(d[Z]=i.call(o,j[Z],Z,e));return d},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,i,o,c){return goog.asserts.assert(e.length!=null),c&&(i=goog.bind(i,c)),Array.prototype.reduce.call(e,i,o)}:function(e,i,o,c){var d=o;return goog.array.forEach(e,function(j,Z){d=i.call(c,d,j,Z,e)}),d},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,i,o,c){return goog.asserts.assert(e.length!=null),goog.asserts.assert(i!=null),c&&(i=goog.bind(i,c)),Array.prototype.reduceRight.call(e,i,o)}:function(e,i,o,c){var d=o;return goog.array.forEachRight(e,function(j,Z){d=i.call(c,d,j,Z,e)}),d},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.some.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=goog.isString(e)?e.split(""):e,j=0;j<c;j++)if(j in d&&i.call(o,d[j],j,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.every.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=goog.isString(e)?e.split(""):e,j=0;j<c;j++)if(j in d&&!i.call(o,d[j],j,e))return!1;return!0},goog.array.count=function(e,i,o){var c=0;return goog.array.forEach(e,function(d,j,Z){i.call(o,d,j,Z)&&++c},o),c},goog.array.find=function(e,i,o){return 0>(i=goog.array.findIndex(e,i,o))?null:goog.isString(e)?e.charAt(i):e[i]},goog.array.findIndex=function(e,i,o){for(var c=e.length,d=goog.isString(e)?e.split(""):e,j=0;j<c;j++)if(j in d&&i.call(o,d[j],j,e))return j;return-1},goog.array.findRight=function(e,i,o){return 0>(i=goog.array.findIndexRight(e,i,o))?null:goog.isString(e)?e.charAt(i):e[i]},goog.array.findIndexRight=function(e,i,o){var c=e.length,d=goog.isString(e)?e.split(""):e;for(--c;0<=c;c--)if(c in d&&i.call(o,d[c],c,e))return c;return-1},goog.array.contains=function(e,i){return 0<=goog.array.indexOf(e,i)},goog.array.isEmpty=function(e){return e.length==0},goog.array.clear=function(e){if(!goog.isArray(e))for(var i=e.length-1;0<=i;i--)delete e[i];e.length=0},goog.array.insert=function(e,i){goog.array.contains(e,i)||e.push(i)},goog.array.insertAt=function(e,i,o){goog.array.splice(e,o,0,i)},goog.array.insertArrayAt=function(e,i,o){goog.partial(goog.array.splice,e,o,0).apply(null,i)},goog.array.insertBefore=function(e,i,o){var c;arguments.length==2||0>(c=goog.array.indexOf(e,o))?e.push(i):goog.array.insertAt(e,i,c)},goog.array.remove=function(e,i){var o;return(o=0<=(i=goog.array.indexOf(e,i)))&&goog.array.removeAt(e,i),o},goog.array.removeLast=function(e,i){return 0<=(i=goog.array.lastIndexOf(e,i))&&(goog.array.removeAt(e,i),!0)},goog.array.removeAt=function(e,i){return goog.asserts.assert(e.length!=null),Array.prototype.splice.call(e,i,1).length==1},goog.array.removeIf=function(e,i,o){return 0<=(i=goog.array.findIndex(e,i,o))&&(goog.array.removeAt(e,i),!0)},goog.array.removeAllIf=function(e,i,o){var c=0;return goog.array.forEachRight(e,function(d,j){i.call(o,d,j,e)&&goog.array.removeAt(e,j)&&c++}),c},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var i=e.length;if(0<i){for(var o=Array(i),c=0;c<i;c++)o[c]=e[c];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,i){for(var o=1;o<arguments.length;o++){var c=arguments[o];if(goog.isArrayLike(c)){var d=e.length||0,j=c.length||0;e.length=d+j;for(var Z=0;Z<j;Z++)e[d+Z]=c[Z]}else e.push(c)}},goog.array.splice=function(e,i,o,c){return goog.asserts.assert(e.length!=null),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,i,o){return goog.asserts.assert(e.length!=null),2>=arguments.length?Array.prototype.slice.call(e,i):Array.prototype.slice.call(e,i,o)},goog.array.removeDuplicates=function(e,i,o){i=i||e;var c=function($){return goog.isObject($)?"o"+goog.getUid($):(typeof $).charAt(0)+$};o=o||c,c={};for(var d=0,j=0;j<e.length;){var Z=e[j++],s=o(Z);Object.prototype.hasOwnProperty.call(c,s)||(c[s]=!0,i[d++]=Z)}i.length=d},goog.array.binarySearch=function(e,i,o){return goog.array.binarySearch_(e,o||goog.array.defaultCompare,!1,i)},goog.array.binarySelect=function(e,i,o){return goog.array.binarySearch_(e,i,!0,void 0,o)},goog.array.binarySearch_=function(e,i,o,c,d){for(var j,Z=0,s=e.length;Z<s;){var $=Z+s>>1,et=o?i.call(d,e[$],$,e):i(c,e[$]);0<et?Z=$+1:(s=$,j=!et)}return j?Z:~Z},goog.array.sort=function(e,i){e.sort(i||goog.array.defaultCompare)},goog.array.stableSort=function(e,i){for(var o=Array(e.length),c=0;c<e.length;c++)o[c]={index:c,value:e[c]};var d=i||goog.array.defaultCompare;for(goog.array.sort(o,function(j,Z){return d(j.value,Z.value)||j.index-Z.index}),c=0;c<e.length;c++)e[c]=o[c].value},goog.array.sortByKey=function(e,i,o){var c=o||goog.array.defaultCompare;goog.array.sort(e,function(d,j){return c(i(d),i(j))})},goog.array.sortObjectsByKey=function(e,i,o){goog.array.sortByKey(e,function(c){return c[i]},o)},goog.array.isSorted=function(e,i,o){i=i||goog.array.defaultCompare;for(var c=1;c<e.length;c++){var d=i(e[c-1],e[c]);if(0<d||d==0&&o)return!1}return!0},goog.array.equals=function(e,i,o){if(!goog.isArrayLike(e)||!goog.isArrayLike(i)||e.length!=i.length)return!1;var c=e.length;o=o||goog.array.defaultCompareEquality;for(var d=0;d<c;d++)if(!o(e[d],i[d]))return!1;return!0},goog.array.compare3=function(e,i,o){o=o||goog.array.defaultCompare;for(var c=Math.min(e.length,i.length),d=0;d<c;d++){var j=o(e[d],i[d]);if(j!=0)return j}return goog.array.defaultCompare(e.length,i.length)},goog.array.defaultCompare=function(e,i){return e>i?1:e<i?-1:0},goog.array.inverseDefaultCompare=function(e,i){return-goog.array.defaultCompare(e,i)},goog.array.defaultCompareEquality=function(e,i){return e===i},goog.array.binaryInsert=function(e,i,o){return 0>(o=goog.array.binarySearch(e,i,o))&&(goog.array.insertAt(e,i,-(o+1)),!0)},goog.array.binaryRemove=function(e,i,o){return 0<=(i=goog.array.binarySearch(e,i,o))&&goog.array.removeAt(e,i)},goog.array.bucket=function(e,i,o){for(var c={},d=0;d<e.length;d++){var j=e[d],Z=i.call(o,j,d,e);goog.isDef(Z)&&(c[Z]||(c[Z]=[])).push(j)}return c},goog.array.toObject=function(e,i,o){var c={};return goog.array.forEach(e,function(d,j){c[i.call(o,d,j,e)]=d}),c},goog.array.range=function(e,i,o){var c=[],d=0,j=e;if(i!==void 0&&(d=e,j=i),0>(o=o||1)*(j-d))return[];if(0<o)for(e=d;e<j;e+=o)c.push(e);else for(e=d;e>j;e+=o)c.push(e);return c},goog.array.repeat=function(e,i){for(var o=[],c=0;c<i;c++)o[c]=e;return o},goog.array.flatten=function(e){for(var i=[],o=0;o<arguments.length;o++){var c=arguments[o];if(goog.isArray(c))for(var d=0;d<c.length;d+=8192){var j=goog.array.slice(c,d,d+8192);j=goog.array.flatten.apply(null,j);for(var Z=0;Z<j.length;Z++)i.push(j[Z])}else i.push(c)}return i},goog.array.rotate=function(e,i){return goog.asserts.assert(e.length!=null),e.length&&(0<(i%=e.length)?Array.prototype.unshift.apply(e,e.splice(-i,i)):0>i&&Array.prototype.push.apply(e,e.splice(0,-i))),e},goog.array.moveItem=function(e,i,o){goog.asserts.assert(0<=i&&i<e.length),goog.asserts.assert(0<=o&&o<e.length),i=Array.prototype.splice.call(e,i,1),Array.prototype.splice.call(e,o,0,i[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var i=[],o=arguments[0].length,c=1;c<arguments.length;c++)arguments[c].length<o&&(o=arguments[c].length);for(c=0;c<o;c++){for(var d=[],j=0;j<arguments.length;j++)d.push(arguments[j][c]);i.push(d)}return i},goog.array.shuffle=function(e,i){i=i||Math.random;for(var o=e.length-1;0<o;o--){var c=Math.floor(i()*(o+1)),d=e[o];e[o]=e[c],e[c]=d}},goog.array.copyByIndex=function(e,i){var o=[];return goog.array.forEach(i,function(c){o.push(e[c])}),o},goog.array.concatMap=function(e,i,o){return goog.array.concat.apply([],goog.array.map(e,i,o))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var i=[],o=0,c=0;c<e.length;c++){var d=e.charCodeAt(c);255<d&&(i[o++]=255&d,d>>=8),i[o++]=d}return i},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var i="",o=0;o<e.length;o+=8192){var c=goog.array.slice(e,o,o+8192);i+=String.fromCharCode.apply(null,c)}return i},goog.crypt.byteArrayToHex=function(e,i){return goog.array.map(e,function(o){return 1<(o=o.toString(16)).length?o:"0"+o}).join(i||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(e.length%2==0,"Key string length must be multiple of 2");for(var i=[],o=0;o<e.length;o+=2)i.push(parseInt(e.substring(o,o+2),16));return i},goog.crypt.stringToUtf8ByteArray=function(e){for(var i=[],o=0,c=0;c<e.length;c++){var d=e.charCodeAt(c);128>d?i[o++]=d:(2048>d?i[o++]=d>>6|192:((64512&d)==55296&&c+1<e.length&&(64512&e.charCodeAt(c+1))==56320?(d=65536+((1023&d)<<10)+(1023&e.charCodeAt(++c)),i[o++]=d>>18|240,i[o++]=d>>12&63|128):i[o++]=d>>12|224,i[o++]=d>>6&63|128),i[o++]=63&d|128)}return i},goog.crypt.utf8ByteArrayToString=function(e){for(var i=[],o=0,c=0;o<e.length;){var d=e[o++];if(128>d)i[c++]=String.fromCharCode(d);else if(191<d&&224>d){var j=e[o++];i[c++]=String.fromCharCode((31&d)<<6|63&j)}else if(239<d&&365>d){j=e[o++];var Z=e[o++];d=((7&d)<<18|(63&j)<<12|(63&Z)<<6|63&e[o++])-65536,i[c++]=String.fromCharCode(55296+(d>>10)),i[c++]=String.fromCharCode(56320+(1023&d))}else j=e[o++],Z=e[o++],i[c++]=String.fromCharCode((15&d)<<12|(63&j)<<6|63&Z)}return i.join("")},goog.crypt.xorByteArray=function(e,i){goog.asserts.assert(e.length==i.length,"XOR array lengths must match");for(var o=[],c=0;c<e.length;c++)o.push(e[c]^i[c]);return o},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,i){return e.lastIndexOf(i,0)==0},goog.string.internal.endsWith=function(e,i){var o=e.length-i.length;return 0<=o&&e.indexOf(i,o)==o},goog.string.internal.caseInsensitiveStartsWith=function(e,i){return goog.string.internal.caseInsensitiveCompare(i,e.substr(0,i.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(e,i){return goog.string.internal.caseInsensitiveCompare(i,e.substr(e.length-i.length,i.length))==0},goog.string.internal.caseInsensitiveEquals=function(e,i){return e.toLowerCase()==i.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,i){return(e=String(e).toLowerCase())<(i=String(i).toLowerCase())?-1:e==i?0:1},goog.string.internal.newLineToBr=function(e,i){return e.replace(/(\r\n|\r|\n)/g,i?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,i){if(i)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;e.indexOf("&")!=-1&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,i){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),i)},goog.string.internal.contains=function(e,i){return e.indexOf(i)!=-1},goog.string.internal.caseInsensitiveContains=function(e,i){return goog.string.internal.contains(e.toLowerCase(),i.toLowerCase())},goog.string.internal.compareVersions=function(e,i){var o=0;e=goog.string.internal.trim(String(e)).split("."),i=goog.string.internal.trim(String(i)).split(".");for(var c=Math.max(e.length,i.length),d=0;o==0&&d<c;d++){var j=e[d]||"",Z=i[d]||"";do{if(j=/(\d*)(\D*)(.*)/.exec(j)||["","","",""],Z=/(\d*)(\D*)(.*)/.exec(Z)||["","","",""],j[0].length==0&&Z[0].length==0)break;o=j[1].length==0?0:parseInt(j[1],10);var s=Z[1].length==0?0:parseInt(Z[1],10);o=goog.string.internal.compareElements_(o,s)||goog.string.internal.compareElements_(j[2].length==0,Z[2].length==0)||goog.string.internal.compareElements_(j[2],Z[2]),j=j[3],Z=Z[3]}while(o==0)}return o},goog.string.internal.compareElements_=function(e,i){return e<i?-1:e>i?1:0},goog.string.TypedString=function(){},goog.string.Const=function(e,i){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&i||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(e!=null)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,i){return typeof e=="number"?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:i?null:goog.i18n.bidi.Dir.NEUTRAL:e==null?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,i){return i?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,i){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,i){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,i){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,i){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,i){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,i),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,i){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,i){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,i){return i=(i===void 0?goog.i18n.bidi.hasAnyRtl(e):i)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,i+"$&"+i)},goog.i18n.bidi.enforceRtlInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,i){var o=0,c=0,d=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,i).split(goog.i18n.bidi.wordSeparatorRe_),i=0;i<e.length;i++){var j=e[i];goog.i18n.bidi.startsWithRtl(j)?(o++,c++):goog.i18n.bidi.isRequiredLtrRe_.test(j)?d=!0:goog.i18n.bidi.hasAnyLtr(j)?c++:goog.i18n.bidi.hasNumeralsRe_.test(j)&&(d=!0)}return c==0?d?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:o/c>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,i){return goog.i18n.bidi.estimateDirection(e,i)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,i){e&&(i=goog.i18n.bidi.toDir(i))&&(e.style.textAlign=i==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=i==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,i){switch(goog.i18n.bidi.estimateDirection(i)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,i){var o=goog.html.TrustedResourceUrl.unwrap(this),c=(o=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(o))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",o[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",c,i))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,i){var o=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(o))throw Error("Invalid TrustedResourceUrl format: "+o);return e=o.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(c,d){if(!Object.prototype.hasOwnProperty.call(i,d))throw Error('Found marker, "'+d+'", in format string, "'+o+'", but no valid label mapping found in args: '+JSON.stringify(i));return(c=i[d])instanceof goog.string.Const?goog.string.Const.unwrap(c):encodeURIComponent(String(c))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,i,o,c){return goog.html.TrustedResourceUrl.format(e,i).cloneWithParams(o,c)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var i="",o=0;o<e.length;o++)i+=goog.string.Const.unwrap(e[o]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var i=new goog.html.TrustedResourceUrl;return i.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(i.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),i},goog.html.TrustedResourceUrl.stringifyParams_=function(e,i,o){if(o==null)return i;if(goog.isString(o))return o?e+encodeURIComponent(o):"";for(var c in o){var d=o[c];d=goog.isArray(d)?d:[d];for(var j=0;j<d.length;j++){var Z=d[j];Z!=null&&(i||(i=e),i+=(i.length>e.length?"&":"")+encodeURIComponent(c)+"="+encodeURIComponent(String(Z)))}}return i},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var i=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return i=i&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(i[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var i=e.indexOf("#");if(0<i&&(e=e.substring(0,i)),!(i=e.match(/[?&]body=/gi)))return!0;if(1<i.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,i){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,i)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,i){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,i)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,i){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,i)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,i,o){return(e=e.exec(i))?(e=e[1],(o instanceof goog.string.Const?[goog.string.Const.unwrap(o)]:o.map(function(c){return goog.string.Const.unwrap(c)})).indexOf(e)==-1&&(i=goog.html.SafeUrl.INNOCUOUS_STRING)):i=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,i){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),i&&/^data:/i.test(e)&&(i=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?i:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var i=new goog.html.SafeUrl;return i.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,i},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return(e=goog.string.Const.unwrap(e)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var i,o="";for(i in e){if(!/^[-_a-zA-Z0-9]+$/.test(i))throw Error("Name allows only [-_a-zA-Z0-9], got: "+i);var c=e[i];c!=null&&(o+=i+":"+(c=goog.isArray(c)?goog.array.map(c,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(c))+";")}return o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var i=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(i)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var i=!0,o=!0,c=0;c<e.length;c++){var d=e.charAt(c);d=="'"&&o?i=!i:d=='"'&&i&&(o=!o)}return i&&o},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var i=!0,o=/^[-_a-zA-Z0-9]$/,c=0;c<e.length;c++){var d=e.charAt(c);if(d=="]"){if(i)return!1;i=!0}else if(d=="["){if(!i)return!1;i=!1}else if(!i&&!o.test(d))return!1}return i},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,function(i,o,c,d){var j="";return c=c.replace(/^(['"])(.*)\1$/,function(Z,s,$){return j=s,$}),i=goog.html.SafeUrl.sanitize(c).getTypedStringValue(),o+j+i+j+d})},goog.html.SafeStyle.concat=function(e){var i="",o=function(c){goog.isArray(c)?goog.array.forEach(c,o):i+=goog.html.SafeStyle.unwrap(c)};return goog.array.forEach(arguments,o),i?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return(e=goog.string.Const.unwrap(e)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,i){for(var o=[],c=1;c<arguments.length;c++)o.push(goog.html.SafeScript.stringify_(arguments[c]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+o.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(e,i){return e===i?e!==0||1/e==1/i:e!=e&&i!=i},goog.object.forEach=function(e,i,o){for(var c in e)i.call(o,e[c],c,e)},goog.object.filter=function(e,i,o){var c,d={};for(c in e)i.call(o,e[c],c,e)&&(d[c]=e[c]);return d},goog.object.map=function(e,i,o){var c,d={};for(c in e)d[c]=i.call(o,e[c],c,e);return d},goog.object.some=function(e,i,o){for(var c in e)if(i.call(o,e[c],c,e))return!0;return!1},goog.object.every=function(e,i,o){for(var c in e)if(!i.call(o,e[c],c,e))return!1;return!0},goog.object.getCount=function(e){var i,o=0;for(i in e)o++;return o},goog.object.getAnyKey=function(e){for(var i in e)return i},goog.object.getAnyValue=function(e){for(var i in e)return e[i]},goog.object.contains=function(e,i){return goog.object.containsValue(e,i)},goog.object.getValues=function(e){var i,o=[],c=0;for(i in e)o[c++]=e[i];return o},goog.object.getKeys=function(e){var i,o=[],c=0;for(i in e)o[c++]=i;return o},goog.object.getValueByKeys=function(e,i){var o=goog.isArrayLike(i),c=o?i:arguments;for(o=o?0:1;o<c.length;o++){if(e==null)return;e=e[c[o]]}return e},goog.object.containsKey=function(e,i){return e!==null&&i in e},goog.object.containsValue=function(e,i){for(var o in e)if(e[o]==i)return!0;return!1},goog.object.findKey=function(e,i,o){for(var c in e)if(i.call(o,e[c],c,e))return c},goog.object.findValue=function(e,i,o){return(i=goog.object.findKey(e,i,o))&&e[i]},goog.object.isEmpty=function(e){for(var i in e)return!1;return!0},goog.object.clear=function(e){for(var i in e)delete e[i]},goog.object.remove=function(e,i){var o;return(o=i in e)&&delete e[i],o},goog.object.add=function(e,i,o){if(e!==null&&i in e)throw Error('The object already contains the key "'+i+'"');goog.object.set(e,i,o)},goog.object.get=function(e,i,o){return e!==null&&i in e?e[i]:o},goog.object.set=function(e,i,o){e[i]=o},goog.object.setIfUndefined=function(e,i,o){return i in e?e[i]:e[i]=o},goog.object.setWithReturnValueIfNotSet=function(e,i,o){return i in e?e[i]:(o=o(),e[i]=o)},goog.object.equals=function(e,i){for(var o in e)if(!(o in i)||e[o]!==i[o])return!1;for(var c in i)if(!(c in e))return!1;return!0},goog.object.clone=function(e){var i,o={};for(i in e)o[i]=e[i];return o},goog.object.unsafeClone=function(e){var i=goog.typeOf(e);if(i=="object"||i=="array"){if(goog.isFunction(e.clone))return e.clone();for(var o in i=i=="array"?[]:{},e)i[o]=goog.object.unsafeClone(e[o]);return i}return e},goog.object.transpose=function(e){var i,o={};for(i in e)o[e[i]]=i;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,i){for(var o,c,d=1;d<arguments.length;d++){for(o in c=arguments[d])e[o]=c[o];for(var j=0;j<goog.object.PROTOTYPE_FIELDS_.length;j++)o=goog.object.PROTOTYPE_FIELDS_[j],Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o])}},goog.object.create=function(e){var i=arguments.length;if(i==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(i%2)throw Error("Uneven number of arguments");for(var o={},c=0;c<i;c+=2)o[arguments[c]]=arguments[c+1];return o},goog.object.createSet=function(e){var i=arguments.length;if(i==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var o={},c=0;c<i;c++)o[arguments[c]]=!0;return o},goog.object.createImmutableView=function(e){var i=e;return Object.isFrozen&&!Object.isFrozen(e)&&(i=Object.create(e),Object.freeze(i)),i},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,i,o){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var c={};e&&(e!==Object.prototype||i)&&(e!==Function.prototype||o);){for(var d=Object.getOwnPropertyNames(e),j=0;j<d.length;j++)c[d[j]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(c)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,i){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var o=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(o))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(o))throw Error("() and [] in selector must be balanced, got: "+e);return i instanceof goog.html.SafeStyle||(i=goog.html.SafeStyle.create(i)),e=e+"{"+goog.html.SafeStyle.unwrap(i).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var i={"(":")","[":"]"},o=[],c=0;c<e.length;c++){var d=e[c];if(i[d])o.push(i[d]);else if(goog.object.contains(i,d)&&o.pop()!=d)return!1}return o.length==0},goog.html.SafeStyleSheet.concat=function(e){var i="",o=function(c){goog.isArray(c)?goog.array.forEach(c,o):i+=goog.html.SafeStyleSheet.unwrap(c)};return goog.array.forEach(arguments,o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeStyleSheet.fromConstant=function(e){return(e=goog.string.Const.unwrap(e)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return goog.dom.tags.VOID_TAGS_[e]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var i=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(i,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var i=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(i,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var i,o=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[];i=o.exec(e);)c.push([i[1],i[2],i[3]||void 0]);return c},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(d){return d=goog.array.find(d,c),o[d]||""}var i=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(i);i=goog.labs.userAgent.util.extractVersionTuples(i);var o={};goog.array.forEach(i,function(d){o[d[0]]=d[1]});var c=goog.partial(goog.object.containsKey,o);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(i=i[2])&&i[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var i=/rv: *([\d\.]*)/.exec(e);if(i&&i[1])return i[1];i="";var o=/MSIE +([\d\.]+)/.exec(e);if(o&&o[1])if(e=/Trident\/(\d.\d)/.exec(e),o[1]=="7.0")if(e&&e[1])switch(e[1]){case"4.0":i="8.0";break;case"5.0":i="9.0";break;case"6.0":i="10.0";break;case"7.0":i="11.0"}else i="7.0";else i=o[1];return i},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var i=typeof e=="object",o=null;return i&&e.implementsGoogI18nBidiDirectionalString&&(o=e.getDirection()),e=i&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),o)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,i,o){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),i,o)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,i,o,c){e&&goog.html.TrustedResourceUrl.unwrap(e);var d={};return d.src=e||null,d.srcdoc=i&&goog.html.SafeHtml.unwrap(i),e=goog.html.SafeHtml.combineAttributes(d,{sandbox:""},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,c)},goog.html.SafeHtml.createSandboxIframe=function(e,i,o,c){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var d={};return d.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,d.srcdoc=i||null,d.sandbox="",e=goog.html.SafeHtml.combineAttributes(d,{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,c)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,i){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},i),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,i){for(var o in i){var c=o.toLowerCase();if(c=="language"||c=="src"||c=="text"||c=="type")throw Error('Cannot set "'+c+'" attribute')}for(o="",e=goog.array.concat(e),c=0;c<e.length;c++)o+=goog.html.SafeScript.unwrap(e[c]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",i,e)},goog.html.SafeHtml.createStyle=function(e,i){i=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},i);var o="";e=goog.array.concat(e);for(var c=0;c<e.length;c++)o+=goog.html.SafeStyleSheet.unwrap(e[c]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",i,e)},goog.html.SafeHtml.createMetaRefresh=function(e,i){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(i||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,i,o){if(o instanceof goog.string.Const)o=goog.string.Const.unwrap(o);else if(i.toLowerCase()=="style")o=goog.html.SafeHtml.getStyleValue_(o);else{if(/^on/i.test(i))throw Error('Attribute "'+i+'" requires goog.string.Const value, "'+o+'" given.');if(i.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(o instanceof goog.html.TrustedResourceUrl)o=goog.html.TrustedResourceUrl.unwrap(o);else if(o instanceof goog.html.SafeUrl)o=goog.html.SafeUrl.unwrap(o);else{if(!goog.isString(o))throw Error('Attribute "'+i+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+o+'" given.');o=goog.html.SafeUrl.sanitize(o).getTypedStringValue()}}return o.implementsGoogStringTypedString&&(o=o.getTypedStringValue()),goog.asserts.assert(goog.isString(o)||goog.isNumber(o),"String or number value expected, got "+typeof o+" with value: "+o),i+'="'+goog.string.internal.htmlEscape(String(o))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,i,o,c){return(i=goog.html.SafeHtml.create(i,o,c)).dir_=e,i},goog.html.SafeHtml.join=function(e,i){var o=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),c=[],d=function(j){goog.isArray(j)?goog.array.forEach(j,d):(j=goog.html.SafeHtml.htmlEscape(j),c.push(goog.html.SafeHtml.unwrap(j)),j=j.getDirection(),o==goog.i18n.bidi.Dir.NEUTRAL?o=j:j!=goog.i18n.bidi.Dir.NEUTRAL&&o!=j&&(o=null))};return goog.array.forEach(i,d),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c.join(goog.html.SafeHtml.unwrap(e)),o)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,i){var o=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return o.dir_=e,o},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,i){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(e,i)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,i){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=i,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,i,o){var c=null,d="<"+e+goog.html.SafeHtml.stringifyAttributes(e,i);return goog.isDefAndNotNull(o)?goog.isArray(o)||(o=[o]):o=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!o.length,"Void tag <"+e+"> does not allow content."),d+=">"):(c=goog.html.SafeHtml.concat(o),d+=">"+goog.html.SafeHtml.unwrap(c)+"</"+e+">",c=c.getDirection()),(e=i&&i.dir)&&(c=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(d,c)},goog.html.SafeHtml.stringifyAttributes=function(e,i){var o="";if(i)for(var c in i){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(c))throw Error('Invalid attribute name "'+c+'".');var d=i[c];goog.isDefAndNotNull(d)&&(o+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,c,d))}return o},goog.html.SafeHtml.combineAttributes=function(e,i,o){var c,d={};for(c in e)goog.asserts.assert(c.toLowerCase()==c,"Must be lower case"),d[c]=e[c];for(c in i)goog.asserts.assert(c.toLowerCase()==c,"Must be lower case"),d[c]=i[c];for(c in o){var j=c.toLowerCase();if(j in e)throw Error('Cannot override "'+j+'" attribute, got "'+c+'" with value "'+o[c]+'"');j in i&&delete d[j],d[c]=o[c]}return d},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,i,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,o||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(i)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var i=goog.dom.asserts.getWindow_(e);i&&(!e||!(e instanceof i.Location)&&e instanceof i.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,i){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(e);o&&o[i]!==void 0&&(e&&(e instanceof o[i]||!(e instanceof o.Location||e instanceof o.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",i,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return e===void 0?"undefined":e===null?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var i=e&&e.ownerDocument,o=i&&(i.defaultView||i.parentWindow);if((o=o||goog.global).Element&&o.Location)return o}catch{}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,i){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,i){return i=i||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,i))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,i){var o=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);return c.push.apply(c,o),e.apply(this,c)}},goog.functions.withReturnValue=function(e,i){return goog.functions.sequence(e,goog.functions.constant(i))},goog.functions.equalTo=function(e,i){return function(o){return i?e==o:e===o}},goog.functions.compose=function(e,i){var o=arguments,c=o.length;return function(){var d;c&&(d=o[c-1].apply(this,arguments));for(var j=c-2;0<=j;j--)d=o[j].call(this,d);return d}},goog.functions.sequence=function(e){var i=arguments,o=i.length;return function(){for(var c,d=0;d<o;d++)c=i[d].apply(this,arguments);return c}},goog.functions.and=function(e){var i=arguments,o=i.length;return function(){for(var c=0;c<o;c++)if(!i[c].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var i=arguments,o=i.length;return function(){for(var c=0;c<o;c++)if(i[c].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,i){var o=function(){};return o.prototype=e.prototype,o=new o,e.apply(o,Array.prototype.slice.call(arguments,1)),o},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var i,o=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(o||(i=e(),o=!0),i):e()}},goog.functions.once=function(e){var i=e;return function(){if(i){var o=i;i=null,o()}}},goog.functions.debounce=function(e,i,o){var c=0;return function(d){goog.global.clearTimeout(c);var j=arguments;c=goog.global.setTimeout(function(){e.apply(o,j)},i)}},goog.functions.throttle=function(e,i,o){var c=0,d=!1,j=[],Z=function(){c=0,d&&(d=!1,s())},s=function(){c=goog.global.setTimeout(Z,i),e.apply(o,j)};return function($){j=arguments,c?d=!0:s()}},goog.functions.rateLimit=function(e,i,o){var c=0,d=function(){c=0};return function(j){c||(c=goog.global.setTimeout(d,i),e.apply(o,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,i,o){e.insertAdjacentHTML(i,goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document=="undefined")return!1;var e=document.createElement("div"),i=document.createElement("div");return i.appendChild(document.createElement("div")),e.appendChild(i),!(goog.DEBUG&&!e.firstChild||(i=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),i.parentElement))}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,i){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(i)},goog.dom.safe.setInnerHtml=function(e,i){if(goog.asserts.ENABLE_ASSERTS){var o=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[o])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,i)},goog.dom.safe.setOuterHtml=function(e,i){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(i)},goog.dom.safe.setFormElementAction=function(e,i){i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setButtonFormAction=function(e,i){i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setInputFormAction=function(e,i){i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setStyle=function(e,i){e.style.cssText=goog.html.SafeStyle.unwrap(i)},goog.dom.safe.documentWrite=function(e,i){e.write(goog.html.SafeHtml.unwrapTrustedHTML(i))},goog.dom.safe.setAnchorHref=function(e,i){goog.dom.asserts.assertIsHTMLAnchorElement(e),i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),e.href=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setImageSrc=function(e,i){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(i instanceof goog.html.SafeUrl)){var o=/^data:image\//i.test(i);i=goog.html.SafeUrl.sanitizeAssertUnchanged(i,o)}e.src=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setAudioSrc=function(e,i){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(i instanceof goog.html.SafeUrl)){var o=/^data:audio\//i.test(i);i=goog.html.SafeUrl.sanitizeAssertUnchanged(i,o)}e.src=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setVideoSrc=function(e,i){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(i instanceof goog.html.SafeUrl)){var o=/^data:video\//i.test(i);i=goog.html.SafeUrl.sanitizeAssertUnchanged(i,o)}e.src=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setEmbedSrc=function(e,i){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i)},goog.dom.safe.setFrameSrc=function(e,i){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(i)},goog.dom.safe.setIframeSrc=function(e,i){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(i)},goog.dom.safe.setIframeSrcdoc=function(e,i){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(i)},goog.dom.safe.setLinkHrefAndRel=function(e,i,o){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=o,goog.string.internal.caseInsensitiveContains(o,"stylesheet")?(goog.asserts.assert(i instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(i)):e.href=i instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(i):i instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(i):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(i))},goog.dom.safe.setObjectData=function(e,i){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i)},goog.dom.safe.setScriptSrc=function(e,i){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i),(i=goog.getScriptNonce())&&e.setAttribute("nonce",i)},goog.dom.safe.setScriptContent=function(e,i){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(i),(i=goog.getScriptNonce())&&e.setAttribute("nonce",i)},goog.dom.safe.setLocationHref=function(e,i){goog.dom.asserts.assertIsLocation(e),i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),e.href=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.assignLocation=function(e,i){goog.dom.asserts.assertIsLocation(e),i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),e.assign(goog.html.SafeUrl.unwrapTrustedURL(i))},goog.dom.safe.replaceLocation=function(e,i){goog.dom.asserts.assertIsLocation(e),i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),e.replace(goog.html.SafeUrl.unwrapTrustedURL(i))},goog.dom.safe.openInWindow=function(e,i,o,c,d){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(i||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),o?goog.string.Const.unwrap(o):"",c,d)},goog.dom.safe.parseFromStringHtml=function(e,i){return goog.dom.safe.parseFromString(e,i,"text/html")},goog.dom.safe.parseFromString=function(e,i,o){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(i),o)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var i=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(i)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),i)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xA0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,i){for(var o=e.split("%s"),c="",d=Array.prototype.slice.call(arguments,1);d.length&&1<o.length;)c+=o.shift()+d.shift();return c+o.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return e.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return e==" "},goog.string.isUnicodeChar=function(e){return e.length==1&&" "<=e&&"~">=e||"\x80"<=e&&"\uFFFD">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,i,o){if(e==i)return 0;if(!e)return-1;if(!i)return 1;for(var c=e.toLowerCase().match(o),d=i.toLowerCase().match(o),j=Math.min(c.length,d.length),Z=0;Z<j;Z++){o=c[Z];var s=d[Z];if(o!=s)return e=parseInt(o,10),!isNaN(e)&&(i=parseInt(s,10),!isNaN(i)&&e-i)?e-i:o<s?-1:1}return c.length!=d.length?c.length-d.length:e<i?-1:1},goog.string.intAwareCompare=function(e,i){return goog.string.numberAwareCompare_(e,i,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,i){return goog.string.numberAwareCompare_(e,i,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,i){return e=goog.string.internal.htmlEscape(e,i),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,i){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,i):e},goog.string.unescapeEntitiesUsingDom_=function(e,i){var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=i?i.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(d,j){var Z=o[d];return Z||(j.charAt(0)=="#"&&(j=Number("0"+j.substr(1)),isNaN(j)||(Z=String.fromCharCode(j))),Z||(goog.dom.safe.setInnerHtml(c,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),d+" ")),Z=c.firstChild.nodeValue.slice(0,-1)),o[d]=Z)})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(i,o){switch(o){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return o.charAt(0)!="#"||(o=Number("0"+o.substr(1)),isNaN(o))?i:String.fromCharCode(o)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,i){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),i)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,i){for(var o=i.length,c=0;c<o;c++){var d=o==1?i:i.charAt(c);if(e.charAt(0)==d&&e.charAt(e.length-1)==d)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,i,o){return o&&(e=goog.string.unescapeEntities(e)),e.length>i&&(e=e.substring(0,i-3)+"..."),o&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,i,o,c){if(o&&(e=goog.string.unescapeEntities(e)),c&&e.length>i){c>i&&(c=i);var d=e.length-c;e=e.substring(0,i-c)+"..."+e.substring(d)}else e.length>i&&(c=Math.floor(i/2),d=e.length-c,e=e.substring(0,c+i%2)+"..."+e.substring(d));return o&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var i=['"'],o=0;o<e.length;o++){var c=e.charAt(o),d=c.charCodeAt(0);i[o+1]=goog.string.specialEscapeChars_[c]||(31<d&&127>d?c:goog.string.escapeChar(c))}return i.push('"'),i.join("")},goog.string.escapeString=function(e){for(var i=[],o=0;o<e.length;o++)i[o]=goog.string.escapeChar(e.charAt(o));return i.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var i=e.charCodeAt(0);if(31<i&&127>i)var o=e;else 256>i?(o="\\x",(16>i||256<i)&&(o+="0")):(o="\\u",4096>i&&(o+="0")),o+=i.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=o},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,i){return e&&i?e.split(i).length-1:0},goog.string.removeAt=function(e,i,o){var c=e;return 0<=i&&i<e.length&&0<o&&(c=e.substr(0,i)+e.substr(i+o,e.length-i-o)),c},goog.string.remove=function(e,i){return e.replace(i,"")},goog.string.removeAll=function(e,i){return i=new RegExp(goog.string.regExpEscape(i),"g"),e.replace(i,"")},goog.string.replaceAll=function(e,i,o){return i=new RegExp(goog.string.regExpEscape(i),"g"),e.replace(i,o.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,i){return e.repeat(i)}:function(e,i){return Array(i+1).join(e)},goog.string.padNumber=function(e,i,o){return(o=(e=goog.isDef(o)?e.toFixed(o):String(e)).indexOf("."))==-1&&(o=e.length),goog.string.repeat("0",Math.max(0,i-o))+e},goog.string.makeSafe=function(e){return e==null?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var i=0,o=0;o<e.length;++o)i=31*i+e.charCodeAt(o)>>>0;return i},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var i=Number(e);return i==0&&goog.string.isEmptyOrWhitespace(e)?NaN:i},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(i,o){return o.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,i){return i=goog.isString(i)?goog.string.regExpEscape(i):"\\s",e.replace(new RegExp("(^"+(i?"|["+i+"]+":"")+")([a-z])","g"),function(o,c,d){return c+d.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,i,o){e=e.split(i);for(var c=[];0<o&&e.length;)c.push(e.shift()),o--;return e.length&&c.push(e.join(i)),c},goog.string.lastComponent=function(e,i){if(!i)return e;typeof i=="string"&&(i=[i]);for(var o=-1,c=0;c<i.length;c++)if(i[c]!=""){var d=e.lastIndexOf(i[c]);d>o&&(o=d)}return o==-1?e:e.slice(o+1)},goog.string.editDistance=function(e,i){var o=[],c=[];if(e==i)return 0;if(!e.length||!i.length)return Math.max(e.length,i.length);for(var d=0;d<i.length+1;d++)o[d]=d;for(d=0;d<e.length;d++){c[0]=d+1;for(var j=0;j<i.length;j++)c[j+1]=Math.min(c[j]+1,o[j+1]+1,o[j]+Number(e[d]!=i[j]));for(j=0;j<o.length;j++)o[j]=c[j]}return c[i.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),i="";return goog.labs.userAgent.platform.isWindows()?i=(e=(i=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?i=(e=(i=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?i=(e=(i=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?i=(e=(i=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?i=(e=(i=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(i=(e=(i=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),i||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,i){return i},goog.reflect.objectProperty=function(e,i){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,i){try{return goog.reflect.sinkValue(e[i]),!0}catch{}return!1},goog.reflect.cache=function(e,i,o,c){return c=c?c(i):i,Object.prototype.hasOwnProperty.call(e,c)?e[c]:e[c]=o(i)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var i,o=goog.labs.userAgent.engine.getEngineTuple_(e);if(o)return o[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):o[1];if((e=e[0])&&(i=e[2])&&(i=/Trident\/([^\s;]+)/.exec(i)))return i[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var i=0;i<e.length;i++){var o=e[i];if(o[0]=="Edge")return o}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,i){return(e=goog.array.find(e,function(o){return i==o[0]}))&&e[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",i=goog.userAgent.getVersionRegexResult_();return i&&(e=i?i[1]:""),goog.userAgent.IE&&(i=goog.userAgent.getDocumentMode_())!=null&&i>parseFloat(e)?String(i):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,i){return goog.string.compareVersions(e,i)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(e,i){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),i===void 0&&(i=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),i=goog.crypt.base64.byteToCharMaps_[i];for(var o=[],c=0;c<e.length;c+=3){var d=e[c],j=c+1<e.length,Z=j?e[c+1]:0,s=c+2<e.length,$=s?e[c+2]:0,et=d>>2;d=(3&d)<<4|Z>>4,Z=(15&Z)<<2|$>>6,$&=63,s||($=64,j||(Z=64)),o.push(i[et],i[d],i[Z]||"",i[$]||"")}return o.join("")},goog.crypt.base64.encodeString=function(e,i){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!i?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),i)},goog.crypt.base64.decodeString=function(e,i){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!i)return goog.global.atob(e);var o="";return goog.crypt.base64.decodeStringInternal_(e,function(c){o+=String.fromCharCode(c)}),o},goog.crypt.base64.decodeStringToByteArray=function(e,i){var o=[];return goog.crypt.base64.decodeStringInternal_(e,function(c){o.push(c)}),o},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var i=e.length,o=3*i/4;o%3?o=Math.floor(o):goog.crypt.base64.isPadding_(e[i-1])&&(o=goog.crypt.base64.isPadding_(e[i-2])?o-2:o-1);var c=new Uint8Array(o),d=0;return goog.crypt.base64.decodeStringInternal_(e,function(j){c[d++]=j}),c.subarray(0,d)},goog.crypt.base64.decodeStringInternal_=function(e,i){function o($){for(;c<e.length;){var et=e.charAt(c++),ut=goog.crypt.base64.charToByteMap_[et];if(ut!=null)return ut;if(!goog.string.isEmptyOrWhitespace(et))throw Error("Unknown base64 encoding at char: "+et)}return $}goog.crypt.base64.init_();for(var c=0;;){var d=o(-1),j=o(0),Z=o(64),s=o(64);if(s===64&&d===-1)break;i(d<<2|j>>4),Z!=64&&(i(j<<4&240|Z>>2),s!=64&&i(Z<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),i=["+/=","+/","-_=","-_.","-_"],o=0;5>o;o++){var c=e.concat(i[o].split(""));goog.crypt.base64.byteToCharMaps_[o]=c;for(var d=0;d<c.length;d++){var j=c[d],Z=goog.crypt.base64.charToByteMap_[j];Z===void 0?goog.crypt.base64.charToByteMap_[j]=d:goog.asserts.assert(Z===d)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var i=e>>>0;e=Math.floor((e-i)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=i,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var i=0>e,o=(e=Math.abs(e))>>>0;e=Math.floor((e-o)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,i&&(e=~e>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=o,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var i=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var o=jspb.utils.split64High;i&&(e==0?o==0?o=e=4294967295:(o--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=o},jspb.utils.splitFloat32=function(e){var i=0>e?1:0;if((e=i?-e:e)===0)0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|e)>>>0;else{var o=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-o),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|o+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var i=0>e?1:0;if((e=i?-e:e)===0)jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(i<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var o=e/Math.pow(2,-1074);e=o/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(i<<31|e)>>>0,jspb.utils.split64Low=o>>>0}else{var c=0;if(2<=(o=e))for(;2<=o&&1023>c;)c++,o/=2;else for(;1>o&&-1022<c;)o*=2,c--;e=(o=e*Math.pow(2,-c))*jspb.BinaryConstants.TWO_TO_20&1048575,o=o*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(i<<31|c+1023<<20|e)>>>0,jspb.utils.split64Low=o}},jspb.utils.splitHash64=function(e){var i=e.charCodeAt(0),o=e.charCodeAt(1),c=e.charCodeAt(2),d=e.charCodeAt(3),j=e.charCodeAt(4),Z=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=i+(o<<8)+(c<<16)+(d<<24)>>>0,jspb.utils.split64High=j+(Z<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,i){return i*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,i){var o=2147483648&i;return o&&(i=~i>>>0,(e=1+~e>>>0)==0&&(i=i+1>>>0)),e=jspb.utils.joinUint64(e,i),o?-e:e},jspb.utils.toZigzag64=function(e,i,o){var c=i>>31;return o(e<<1^c,(i<<1|e>>>31)^c)},jspb.utils.joinZigzag64=function(e,i){return jspb.utils.fromZigzag64(e,i,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,i,o){var c=-(1&e);return o((e>>>1|i<<31)^c,i>>>1^c)},jspb.utils.joinFloat32=function(e,i){i=2*(e>>31)+1;var o=e>>>23&255;return e&=8388607,o==255?e?NaN:1/0*i:o==0?i*Math.pow(2,-149)*e:i*Math.pow(2,o-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,i){var o=2*(i>>31)+1,c=i>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&i)+e,c==2047?e?NaN:1/0*o:c==0?o*Math.pow(2,-1074)*e:o*Math.pow(2,c-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,i){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,i){function o(d,j){return d=d?String(d):"",j?"0000000".slice(d.length)+d:d}if(2097151>=i)return""+(jspb.BinaryConstants.TWO_TO_32*i+e);var c=(e>>>24|i<<8)>>>0&16777215;return e=(16777215&e)+6777216*c+6710656*(i=i>>16&65535),c+=8147497*i,i*=2,1e7<=e&&(c+=Math.floor(e/1e7),e%=1e7),1e7<=c&&(i+=Math.floor(c/1e7),c%=1e7),o(i,0)+o(c,i)+o(e,1)},jspb.utils.joinSignedDecimalString=function(e,i){var o=2147483648&i;return o&&(i=~i+((e=1+~e>>>0)==0?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,i),o?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,i){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var o=jspb.utils.split64High;return i?jspb.utils.joinSignedDecimalString(e,o):jspb.utils.joinUnsignedDecimalString(e,o)},jspb.utils.hash64ArrayToDecimalStrings=function(e,i){for(var o=Array(e.length),c=0;c<e.length;c++)o[c]=jspb.utils.hash64ToDecimalString(e[c],i);return o},jspb.utils.decimalStringToHash64=function(e){function i(j,Z){for(var s=0;8>s&&(j!==1||0<Z);s++)Z=j*c[s]+Z,c[s]=255&Z,Z>>>=8}goog.asserts.assert(0<e.length);var o=!1;e[0]==="-"&&(o=!0,e=e.slice(1));for(var c=[0,0,0,0,0,0,0,0],d=0;d<e.length;d++)i(10,e.charCodeAt(d)-jspb.utils.ZERO_CHAR_CODE_);return o&&(function(){for(var j=0;8>j;j++)c[j]=255&~c[j]}(),i(1,1)),goog.crypt.byteArrayToString(c)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var i=Array(18);i[0]="0",i[1]="x";for(var o=0;8>o;o++){var c=e.charCodeAt(7-o);i[2*o+2]=jspb.utils.toHexDigit_(c>>4),i[2*o+3]=jspb.utils.toHexDigit_(15&c)}return i.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(e.length==18),goog.asserts.assert(e[0]=="0"),goog.asserts.assert(e[1]=="x");for(var i="",o=0;8>o;o++){var c=jspb.utils.fromHexCharCode_(e.charCodeAt(2*o+2)),d=jspb.utils.fromHexCharCode_(e.charCodeAt(2*o+3));i=String.fromCharCode(16*c+d)+i}return i},jspb.utils.hash64ToNumber=function(e,i){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var o=jspb.utils.split64High;return i?jspb.utils.joinInt64(e,o):jspb.utils.joinUint64(e,o)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,i,o){for(var c=0,d=i;d<o;d++)c+=e[d]>>7;return o-i-c},jspb.utils.countVarintFields=function(e,i,o,c){var d=0;if(128>(c=8*c+jspb.BinaryConstants.WireType.VARINT))for(;i<o&&e[i++]==c;)for(d++;;){var j=e[i++];if((128&j)==0)break}else for(;i<o;){for(j=c;128<j;){if(e[i]!=(127&j|128))return d;i++,j>>=7}if(e[i++]!=j)break;for(d++;(128&(j=e[i++]))!=0;);}return d},jspb.utils.countFixedFields_=function(e,i,o,c,d){var j=0;if(128>c)for(;i<o&&e[i++]==c;)j++,i+=d;else for(;i<o;){for(var Z=c;128<Z;){if(e[i++]!=(127&Z|128))return j;Z>>=7}if(e[i++]!=Z)break;j++,i+=d}return j},jspb.utils.countFixed32Fields=function(e,i,o,c){return jspb.utils.countFixedFields_(e,i,o,8*c+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,i,o,c){return jspb.utils.countFixedFields_(e,i,o,8*c+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,i,o,c){var d=0;for(c=8*c+jspb.BinaryConstants.WireType.DELIMITED;i<o;){for(var j=c;128<j;){if(e[i++]!=(127&j|128))return d;j>>=7}if(e[i++]!=j)break;d++;for(var Z=0,s=1;Z+=(127&(j=e[i++]))*s,s*=128,(128&j)!=0;);i+=Z}return d},jspb.utils.debugBytesToTextFormat=function(e){var i='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var o=0;o<e.length;o++)i+="\\x",16>e[o]&&(i+="0"),i+=e[o].toString(16)}return i+'"'},jspb.utils.debugScalarToTextFormat=function(e){return typeof e=="string"?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++){var c=e.charCodeAt(o);if(255<c)throw Error("Conversion error: string contains codepoint outside of byte range");i[o]=c}return i},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||Buffer!==void 0&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,i,o){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,i,o)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,i,o){if(jspb.BinaryDecoder.instanceCache_.length){var c=jspb.BinaryDecoder.instanceCache_.pop();return e&&c.setBlock(e,i,o),c}return new jspb.BinaryDecoder(e,i,o)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,i,o){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=i!==void 0?i:0,this.end_=o!==void 0?this.start_+o:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var i=128,o=0,c=0,d=0;4>d&&128<=i;d++)o|=(127&(i=this.bytes_[this.cursor_++]))<<7*d;if(128<=i&&(o|=(127&(i=this.bytes_[this.cursor_++]))<<28,c|=(127&i)>>4),128<=i)for(d=0;5>d&&128<=i;d++)c|=(127&(i=this.bytes_[this.cursor_++]))<<7*d+3;if(128>i)return e(o>>>0,c>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64(function(i,o){return jspb.utils.fromZigzag64(i,o,e)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var i=this.bytes_,o=this.cursor_;this.cursor_+=8;for(var c=0,d=0,j=o+7;j>=o;j--)c=c<<8|i[j],d=d<<8|i[j+4];return e(c,d)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,i=e[this.cursor_+0],o=127&i;return 128>i?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),o):(o|=(127&(i=e[this.cursor_+1]))<<7,128>i?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),o):(o|=(127&(i=e[this.cursor_+2]))<<14,128>i?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),o):(o|=(127&(i=e[this.cursor_+3]))<<21,128>i?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),o):(o|=(15&(i=e[this.cursor_+4]))<<28,128>i?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),o>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),o)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],i=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|i<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],i=this.bytes_[this.cursor_+1],o=this.bytes_[this.cursor_+2],c=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|i<<8|o<<16|c<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinUint64(e,i)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,i)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],i=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|i<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],i=this.bytes_[this.cursor_+1],o=this.bytes_[this.cursor_+2],c=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|i<<8|o<<16|c<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinInt64(e,i)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinSignedDecimalString(e,i)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinFloat64(e,i)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var i=this.bytes_,o=this.cursor_;e=o+e;for(var c=[],d="";o<e;){var j=i[o++];if(128>j)c.push(j);else{if(192>j)continue;if(224>j){var Z=i[o++];c.push((31&j)<<6|63&Z)}else if(240>j){Z=i[o++];var s=i[o++];c.push((15&j)<<12|(63&Z)<<6|63&s)}else 248>j&&(j=(7&j)<<18|(63&(Z=i[o++]))<<12|(63&(s=i[o++]))<<6|63&i[o++],j-=65536,c.push(55296+(j>>10&1023),56320+(1023&j)))}8192<=c.length&&(d+=String.fromCharCode.apply(null,c),c.length=0)}return d+=goog.crypt.byteArrayToString(c),this.cursor_=o,d},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var i=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),i},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,i=this.cursor_,o=e[i+0],c=e[i+1],d=e[i+2],j=e[i+3],Z=e[i+4],s=e[i+5],$=e[i+6];return e=e[i+7],this.cursor_+=8,String.fromCharCode(o,c,d,j,Z,s,$,e)},jspb.BinaryReader=function(e,i,o){this.decoder_=jspb.BinaryDecoder.alloc(e,i,o),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,i,o){if(jspb.BinaryReader.instanceCache_.length){var c=jspb.BinaryReader.instanceCache_.pop();return e&&c.decoder_.setBlock(e,i,o),c}return new jspb.BinaryReader(e,i,o)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,i,o){this.decoder_.setBlock(e,i,o),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),i=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=i,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,i){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=i},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(this.readCallbacks_!==null),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var i=jspb.BinaryConstants.FieldType;switch(e){case i.DOUBLE:return this.readDouble();case i.FLOAT:return this.readFloat();case i.INT64:return this.readInt64();case i.UINT64:return this.readUint64();case i.INT32:return this.readInt32();case i.FIXED64:return this.readFixed64();case i.FIXED32:return this.readFixed32();case i.BOOL:return this.readBool();case i.STRING:return this.readString();case i.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case i.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case i.BYTES:return this.readBytes();case i.UINT32:return this.readUint32();case i.ENUM:return this.readEnum();case i.SFIXED32:return this.readSfixed32();case i.SFIXED64:return this.readSfixed64();case i.SINT32:return this.readSint32();case i.SINT64:return this.readSint64();case i.FHASH64:return this.readFixedHash64();case i.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,i){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.getEnd(),c=this.decoder_.readUnsignedVarint32();c=this.decoder_.getCursor()+c,this.decoder_.setEnd(c),i(e,this),this.decoder_.setCursor(c),this.decoder_.setEnd(o)},jspb.BinaryReader.prototype.readGroup=function(e,i,o){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),o(i,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),i=this.decoder_.getCursor(),o=i+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),i,e),this.decoder_.setCursor(o),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(i,o){return jspb.utils.fromZigzag64(i,o,e)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();i=this.decoder_.getCursor()+i;for(var o=[];this.decoder_.getCursor()<i;)o.push(e.call(this.decoder_));return o},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,i){this.arr_=e,this.valueCtor_=i,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var i=this.arr_[e],o=i[0];this.map_[o.toString()]=new jspb.Map.Entry_(o,i[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,i=this.map_;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var o=i[e].valueWrapper;o&&o.toArray()}}}else{for(this.arr_.length=0,(i=this.stringKeys_()).sort(),e=0;e<i.length;e++){var c=this.map_[i[e]];(o=c.valueWrapper)&&o.toArray(),this.arr_.push([c.key,c.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,i){for(var o=this.toArray(),c=[],d=0;d<o.length;d++){var j=this.map_[o[d][0].toString()];this.wrapEntry_(j);var Z=j.valueWrapper;Z?(goog.asserts.assert(i),c.push([j.key,i(e,Z)])):c.push([j.key,j.value])}return c},jspb.Map.fromObject=function(e,i,o){i=new jspb.Map([],i);for(var c=0;c<e.length;c++){var d=e[c][0],j=o(e[c][1]);i.set(d,j)}return i},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol!="undefined"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var i=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,i},jspb.Map.prototype.getEntryList=function(){var e=[],i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++){var c=this.map_[i[o]];e.push([c.key,c.value])}return e},jspb.Map.prototype.entries=function(){var e=[],i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++){var c=this.map_[i[o]];e.push([c.key,this.wrapEntry_(c)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++)e.push(this.map_[i[o]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++)e.push(this.wrapEntry_(this.map_[i[o]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,i){var o=this.stringKeys_();o.sort();for(var c=0;c<o.length;c++){var d=this.map_[o[c]];e.call(i,this.wrapEntry_(d),d.key,this)}},jspb.Map.prototype.set=function(e,i){var o=new jspb.Map.Entry_(e);return this.valueCtor_?(o.valueWrapper=i,o.value=i.toArray()):o.value=i,this.map_[e.toString()]=o,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,i,o,c,d){var j=this.stringKeys_();j.sort();for(var Z=0;Z<j.length;Z++){var s=this.map_[j[Z]];i.beginSubMessage(e),o.call(i,1,s.key),this.valueCtor_?c.call(i,2,this.wrapEntry_(s),d):c.call(i,2,s.value),i.endSubMessage()}},jspb.Map.deserializeBinary=function(e,i,o,c,d,j,Z){for(;i.nextField()&&!i.isEndGroup();){var s=i.getFieldNumber();s==1?j=o.call(i):s==2&&(e.valueCtor_?(goog.asserts.assert(d),Z||(Z=new e.valueCtor_),c.call(i,Z,d)):Z=c.call(i))}goog.asserts.assert(j!=null),goog.asserts.assert(Z!=null),e.set(j,Z)},jspb.Map.prototype.stringKeys_=function(){var e,i=this.map_,o=[];for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&o.push(e);return o},jspb.Map.Entry_=function(e,i){this.key=e,this.value=i,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,i,o,c,d){this.fieldIndex=e,this.fieldName=i,this.ctor=o,this.toObjectFn=c,this.isRepeated=d},jspb.ExtensionFieldBinaryInfo=function(e,i,o,c,d,j){this.fieldInfo=e,this.binaryReaderFn=i,this.binaryWriterFn=o,this.binaryMessageSerializeFn=c,this.binaryMessageDeserializeFn=d,this.isPacked=j},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,i){return i+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,i){return i-e.arrayIndexOffset_},jspb.Message.initialize=function(e,i,o,c,d,j){if(e.wrappers_=null,i||(i=o?[o]:[]),e.messageId_=o?String(o):void 0,e.arrayIndexOffset_=o===0?-1:0,e.array=i,jspb.Message.initPivotAndExtensionObject_(e,c),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=d),d)for(i=0;i<d.length;i++)(o=d[i])<e.pivot_?(o=jspb.Message.getIndex_(e,o),e.array[o]=e.array[o]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[o]=e.extensionObject_[o]||jspb.Message.EMPTY_LIST_SENTINEL_);if(j&&j.length)for(i=0;i<j.length;i++)jspb.Message.computeOneofCase(e,j[i])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(e===null||typeof e!="object"||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,i){var o=e.array.length,c=-1;if(o&&(c=o-1,o=e.array[c],jspb.Message.isExtensionObject_(o)))return e.pivot_=jspb.Message.getFieldNumber_(e,c),void(e.extensionObject_=o);-1<i?(e.pivot_=Math.max(i,jspb.Message.getFieldNumber_(e,c+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var i=jspb.Message.getIndex_(e,e.pivot_);e.array[i]||(e.extensionObject_=e.array[i]={})},jspb.Message.toObjectList=function(e,i,o){for(var c=[],d=0;d<e.length;d++)c[d]=i.call(e[d],o,e[d]);return c},jspb.Message.toObjectExtension=function(e,i,o,c,d){for(var j in o){var Z=o[j],s=c.call(e,Z);if(s!=null){for(var $ in Z.fieldName)if(Z.fieldName.hasOwnProperty($))break;i[$]=Z.toObjectFn?Z.isRepeated?jspb.Message.toObjectList(s,Z.toObjectFn,d):Z.toObjectFn(d,s):s}}},jspb.Message.serializeBinaryExtensions=function(e,i,o,c){for(var d in o){var j=o[d],Z=j.fieldInfo;if(!j.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=c.call(e,Z);if(s!=null)if(Z.isMessageType()){if(!j.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");j.binaryWriterFn.call(i,Z.fieldIndex,s,j.binaryMessageSerializeFn)}else j.binaryWriterFn.call(i,Z.fieldIndex,s)}},jspb.Message.readBinaryExtension=function(e,i,o,c,d){var j=o[i.getFieldNumber()];if(j){if(o=j.fieldInfo,!j.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(o.isMessageType()){var Z=new o.ctor;j.binaryReaderFn.call(i,Z,j.binaryMessageDeserializeFn)}else Z=j.binaryReaderFn.call(i);o.isRepeated&&!j.isPacked?(i=c.call(e,o))?i.push(Z):d.call(e,o,[Z]):d.call(e,o,Z)}else i.skipField()},jspb.Message.getField=function(e,i){if(i<e.pivot_){i=jspb.Message.getIndex_(e,i);var o=e.array[i];return o===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[i]=[]:o}if(e.extensionObject_)return(o=e.extensionObject_[i])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[i]=[]:o},jspb.Message.getRepeatedField=function(e,i){return jspb.Message.getField(e,i)},jspb.Message.getOptionalFloatingPointField=function(e,i){return(e=jspb.Message.getField(e,i))==null?e:+e},jspb.Message.getBooleanField=function(e,i){return(e=jspb.Message.getField(e,i))==null?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,i){var o=jspb.Message.getRepeatedField(e,i);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[i]){for(var c=0;c<o.length;c++)o[c]=+o[c];e.convertedPrimitiveFields_[i]=!0}return o},jspb.Message.getRepeatedBooleanField=function(e,i){var o=jspb.Message.getRepeatedField(e,i);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[i]){for(var c=0;c<o.length;c++)o[c]=!!o[c];e.convertedPrimitiveFields_[i]=!0}return o},jspb.Message.bytesAsB64=function(e){return e==null||typeof e=="string"?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return e==null||e instanceof Uint8Array?e:typeof e=="string"?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&typeof e[0]!="string"?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var i=goog.typeOf(e[0]);goog.array.forEach(e,function(o){goog.typeOf(o)!=i&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(o)+" expected "+i)})}},jspb.Message.getFieldWithDefault=function(e,i,o){return(e=jspb.Message.getField(e,i))==null?o:e},jspb.Message.getBooleanFieldWithDefault=function(e,i,o){return(e=jspb.Message.getBooleanField(e,i))==null?o:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,i,o){return(e=jspb.Message.getOptionalFloatingPointField(e,i))==null?o:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,i,o,c){if(e.wrappers_||(e.wrappers_={}),i in e.wrappers_)return e.wrappers_[i];var d=jspb.Message.getField(e,i);if(!d){if(o)return;d=[],jspb.Message.setField(e,i,d)}return e.wrappers_[i]=new jspb.Map(d,c)},jspb.Message.setField=function(e,i,o){return goog.asserts.assertInstanceof(e,jspb.Message),i<e.pivot_?e.array[jspb.Message.getIndex_(e,i)]=o:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[i]=o),e},jspb.Message.setProto3IntField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,0)},jspb.Message.setProto3FloatField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,0)},jspb.Message.setProto3BooleanField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,!1)},jspb.Message.setProto3StringField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,"")},jspb.Message.setProto3BytesField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,"")},jspb.Message.setProto3EnumField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,0)},jspb.Message.setProto3StringIntField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,i,o,c){return goog.asserts.assertInstanceof(e,jspb.Message),o!==c?jspb.Message.setField(e,i,o):i<e.pivot_?e.array[jspb.Message.getIndex_(e,i)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[i]),e},jspb.Message.addToRepeatedField=function(e,i,o,c){return goog.asserts.assertInstanceof(e,jspb.Message),i=jspb.Message.getRepeatedField(e,i),c!=null?i.splice(c,0,o):i.push(o),e},jspb.Message.setOneofField=function(e,i,o,c){return goog.asserts.assertInstanceof(e,jspb.Message),(o=jspb.Message.computeOneofCase(e,o))&&o!==i&&c!==void 0&&(e.wrappers_&&o in e.wrappers_&&(e.wrappers_[o]=void 0),jspb.Message.setField(e,o,void 0)),jspb.Message.setField(e,i,c)},jspb.Message.computeOneofCase=function(e,i){for(var o,c,d=0;d<i.length;d++){var j=i[d],Z=jspb.Message.getField(e,j);Z!=null&&(o=j,c=Z,jspb.Message.setField(e,j,void 0))}return o?(jspb.Message.setField(e,o,c),o):0},jspb.Message.getWrapperField=function(e,i,o,c){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[o]){var d=jspb.Message.getField(e,o);(c||d)&&(e.wrappers_[o]=new i(d))}return e.wrappers_[o]},jspb.Message.getRepeatedWrapperField=function(e,i,o){return jspb.Message.wrapRepeatedField_(e,i,o),(i=e.wrappers_[o])==jspb.Message.EMPTY_LIST_SENTINEL_&&(i=e.wrappers_[o]=[]),i},jspb.Message.wrapRepeatedField_=function(e,i,o){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[o]){for(var c=jspb.Message.getRepeatedField(e,o),d=[],j=0;j<c.length;j++)d[j]=new i(c[j]);e.wrappers_[o]=d}},jspb.Message.setWrapperField=function(e,i,o){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var c=o&&o.toArray();return e.wrappers_[i]=o,jspb.Message.setField(e,i,c)},jspb.Message.setOneofWrapperField=function(e,i,o,c){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var d=c&&c.toArray();return e.wrappers_[i]=c,jspb.Message.setOneofField(e,i,o,d)},jspb.Message.setRepeatedWrapperField=function(e,i,o){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),o=o||[];for(var c=[],d=0;d<o.length;d++)c[d]=o[d].toArray();return e.wrappers_[i]=o,jspb.Message.setField(e,i,c)},jspb.Message.addToRepeatedWrapperField=function(e,i,o,c,d){jspb.Message.wrapRepeatedField_(e,c,i);var j=e.wrappers_[i];return j||(j=e.wrappers_[i]=[]),o=o||new c,e=jspb.Message.getRepeatedField(e,i),d!=null?(j.splice(d,0,o),e.splice(d,0,o.toArray())):(j.push(o),e.push(o.toArray())),o},jspb.Message.toMap=function(e,i,o,c){for(var d={},j=0;j<e.length;j++)d[i.call(e[j])]=o?o.call(e[j],c,e[j]):e[j];return d},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var i=this.wrappers_[e];if(Array.isArray(i))for(var o=0;o<i.length;o++)i[o]&&i[o].toArray();else i&&i.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var i=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[i]||(this.wrappers_[i]=goog.array.map(this.extensionObject_[i]||[],function(o){return new e.ctor(o)})),this.wrappers_[i]}else if(e.isMessageType())return!this.wrappers_[i]&&this.extensionObject_[i]&&(this.wrappers_[i]=new e.ctor(this.extensionObject_[i])),this.wrappers_[i];return this.extensionObject_[i]}},jspb.Message.prototype.setExtension=function(e,i){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var o=e.fieldIndex;return e.isRepeated?(i=i||[],e.isMessageType()?(this.wrappers_[o]=i,this.extensionObject_[o]=goog.array.map(i,function(c){return c.toArray()})):this.extensionObject_[o]=i):e.isMessageType()?(this.wrappers_[o]=i,this.extensionObject_[o]=i&&i.toArray()):this.extensionObject_[o]=i,this},jspb.Message.difference=function(e,i){if(!(e instanceof i.constructor))throw Error("Messages have different types.");var o=e.toArray();i=i.toArray();var c=[],d=0,j=o.length>i.length?o.length:i.length;for(e.getJsPbMessageId()&&(c[0]=e.getJsPbMessageId(),d=1);d<j;d++)jspb.Message.compareFields(o[d],i[d])||(c[d]=i[d]);return new e.constructor(c)},jspb.Message.equals=function(e,i){return e==i||!(!e||!i)&&e instanceof i.constructor&&jspb.Message.compareFields(e.toArray(),i.toArray())},jspb.Message.compareExtensions=function(e,i){e=e||{},i=i||{};var o,c={};for(o in e)c[o]=0;for(o in i)c[o]=0;for(o in c)if(!jspb.Message.compareFields(e[o],i[o]))return!1;return!0},jspb.Message.compareFields=function(e,i){if(e==i)return!0;if(!goog.isObject(e)||!goog.isObject(i))return!!(typeof e=="number"&&isNaN(e)||typeof i=="number"&&isNaN(i))&&String(e)==String(i);if(e.constructor!=i.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=i.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!=i[o])return!1;return!0}if(e.constructor===Array){var c=void 0,d=void 0,j=Math.max(e.length,i.length);for(o=0;o<j;o++){var Z=e[o],s=i[o];if(Z&&Z.constructor==Object&&(goog.asserts.assert(c===void 0),goog.asserts.assert(o===e.length-1),c=Z,Z=void 0),s&&s.constructor==Object&&(goog.asserts.assert(d===void 0),goog.asserts.assert(o===i.length-1),d=s,s=void 0),!jspb.Message.compareFields(Z,s))return!1}return!c&&!d||(c=c||{},d=d||{},jspb.Message.compareExtensions(c,d))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,i);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,i){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(i,jspb.Message),goog.asserts.assert(e.constructor==i.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var o=i.toArray(),c=e.toArray(),d=o.length=0;d<c.length;d++)o[d]=c[d];i.wrappers_=e.wrappers_,i.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var i=Array(e.length),o=0;o<e.length;o++){var c=e[o];c!=null&&(i[o]=typeof c=="object"?jspb.Message.clone_(goog.asserts.assert(c)):c)}return i}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(o in i={},e)(c=e[o])!=null&&(i[o]=typeof c=="object"?jspb.Message.clone_(goog.asserts.assert(c)):c);return i},jspb.Message.registerMessageType=function(e,i){i.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,i){this.lo=e,this.hi=i},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,i){var o=65535&e,c=65535&i,d=i>>>16;for(i=o*c+65536*(o*d&65535)+65536*((e>>>=16)*c&65535),o=e*d+(o*d>>>16)+(e*c>>>16);4294967296<=i;)i-=4294967296,o+=1;return new jspb.arith.UInt64(i>>>0,o>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var i=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,i.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(e==0)return[];var i=new jspb.arith.UInt64(0,0),o=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var c=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),c=c.leftShift();for(;!c.zero();)0>=e.cmp(o)&&(i=i.add(c),o=o.sub(e)),e=e.rightShift(),c=c.rightShift();return[i,o]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",i=this;!i.zero();){var o=(i=i.div(10))[0];e=i[1].lo+e,i=o}return e==""&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var i=new jspb.arith.UInt64(0,0),o=new jspb.arith.UInt64(0,0),c=0;c<e.length;c++){if("0">e[c]||"9"<e[c])return null;var d=parseInt(e[c],10);o.lo=d,i=i.mul(10).add(o)}return i},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,i){this.lo=e,this.hi=i},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=(2147483648&this.hi)!=0,i=new jspb.arith.UInt64(this.lo,this.hi);return e&&(i=new jspb.arith.UInt64(0,0).sub(i)),(e?"-":"")+i.toString()},jspb.arith.Int64.fromString=function(e){var i=0<e.length&&e[0]=="-";return i&&(e=e.substring(1)),(e=jspb.arith.UInt64.fromString(e))===null?null:(i&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,i){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32);0<i||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|i<<25)>>>0,i>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,i){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(i)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var i=0;9>i;i++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var i=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(o,c){i.writeSplitVarint64(o>>>0,c>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(typeof e=="boolean"||typeof e=="number"),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var i=this.buffer_.length,o=0;o<e.length;o++){var c=e.charCodeAt(o);if(128>c)this.buffer_.push(c);else if(2048>c)this.buffer_.push(c>>6|192),this.buffer_.push(63&c|128);else if(65536>c)if(55296<=c&&56319>=c&&o+1<e.length){var d=e.charCodeAt(o+1);56320<=d&&57343>=d&&(c=1024*(c-55296)+d-56320+65536,this.buffer_.push(c>>18|240),this.buffer_.push(c>>12&63|128),this.buffer_.push(c>>6&63|128),this.buffer_.push(63&c|128),o++)}else this.buffer_.push(c>>12|224),this.buffer_.push(c>>6&63|128),this.buffer_.push(63&c|128)}return this.buffer_.length-i},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var i=this.encoder_.end();this.blocks_.push(i),this.blocks_.push(e),this.totalLength_+=i.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var i=e.pop();for(i=this.totalLength_+this.encoder_.length()-i,goog.asserts.assert(0<=i);127<i;)e.push(127&i|128),i>>>=7,this.totalLength_++;e.push(i),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,i,o){this.appendUint8Array_(e.subarray(i,o))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,i,o){e!=null&&i!=null&&o!=null&&this.writeSerializedMessage(e,i,o)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),i=this.blocks_,o=i.length,c=0,d=0;d<o;d++){var j=i[d];e.set(j,c),c+=j.length}return i=this.encoder_.end(),e.set(i,c),c+=i.length,goog.asserts.assert(c==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,i){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+i)},jspb.BinaryWriter.prototype.writeAny=function(e,i,o){var c=jspb.BinaryConstants.FieldType;switch(e){case c.DOUBLE:this.writeDouble(i,o);break;case c.FLOAT:this.writeFloat(i,o);break;case c.INT64:this.writeInt64(i,o);break;case c.UINT64:this.writeUint64(i,o);break;case c.INT32:this.writeInt32(i,o);break;case c.FIXED64:this.writeFixed64(i,o);break;case c.FIXED32:this.writeFixed32(i,o);break;case c.BOOL:this.writeBool(i,o);break;case c.STRING:this.writeString(i,o);break;case c.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case c.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case c.BYTES:this.writeBytes(i,o);break;case c.UINT32:this.writeUint32(i,o);break;case c.ENUM:this.writeEnum(i,o);break;case c.SFIXED32:this.writeSfixed32(i,o);break;case c.SFIXED64:this.writeSfixed64(i,o);break;case c.SINT32:this.writeSint32(i,o);break;case c.SINT64:this.writeSint64(i,o);break;case c.FHASH64:this.writeFixedHash64(i,o);break;case c.VHASH64:this.writeVarintHash64(i,o);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(i))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(i))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(i))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(i))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(i))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(i))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(i))},jspb.BinaryWriter.prototype.writeInt32=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,i))},jspb.BinaryWriter.prototype.writeInt32String=function(e,i){i!=null&&(i=parseInt(i,10),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,i))},jspb.BinaryWriter.prototype.writeInt64=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,i))},jspb.BinaryWriter.prototype.writeInt64String=function(e,i){i!=null&&(i=jspb.arith.Int64.fromString(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(i.lo,i.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,i){i!=null&&(goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,i))},jspb.BinaryWriter.prototype.writeUint32String=function(e,i){i!=null&&(i=parseInt(i,10),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,i))},jspb.BinaryWriter.prototype.writeUint64=function(e,i){i!=null&&(goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,i))},jspb.BinaryWriter.prototype.writeUint64String=function(e,i){i!=null&&(i=jspb.arith.UInt64.fromString(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(i.lo,i.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,i))},jspb.BinaryWriter.prototype.writeSint64=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,i))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,i){i!=null&&this.writeZigzagVarintHash64_(e,i)},jspb.BinaryWriter.prototype.writeSint64String=function(e,i){i!=null&&this.writeZigzagVarint64String_(e,i)},jspb.BinaryWriter.prototype.writeFixed32=function(e,i){i!=null&&(goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(i))},jspb.BinaryWriter.prototype.writeFixed64=function(e,i){i!=null&&(goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(i))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,i){i!=null&&(i=jspb.arith.UInt64.fromString(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(i.lo,i.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(i))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(i))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,i){i!=null&&(i=jspb.arith.Int64.fromString(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(i.lo,i.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(i))},jspb.BinaryWriter.prototype.writeDouble=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(i))},jspb.BinaryWriter.prototype.writeBool=function(e,i){i!=null&&(goog.asserts.assert(typeof i=="boolean"||typeof i=="number"),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(i))},jspb.BinaryWriter.prototype.writeEnum=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i))},jspb.BinaryWriter.prototype.writeString=function(e,i){i!=null&&(e=this.beginDelimited_(e),this.encoder_.writeString(i),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,i){i!=null&&(i=jspb.utils.byteSourceToUint8Array(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(i.length),this.appendUint8Array_(i))},jspb.BinaryWriter.prototype.writeMessage=function(e,i,o){i!=null&&(e=this.beginDelimited_(e),o(i,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,i,o){i!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),o(i,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,i,o){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),o(i,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,i){i!=null&&(goog.asserts.assert(i.length==8),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(i))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,i){i!=null&&(goog.asserts.assert(i.length==8),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(i))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,i,o){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(i,o)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,i,o){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(i,o)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,i,o){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var c=this.encoder_;jspb.utils.toZigzag64(i,o,function(d,j){c.writeSplitVarint64(d>>>0,j>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSignedVarint32_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeInt32String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSignedVarint64_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,i,o,c){if(i!=null)for(var d=0;d<i.length;d++)this.writeSplitFixed64(e,o(i[d]),c(i[d]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,i,o,c){if(i!=null)for(var d=0;d<i.length;d++)this.writeSplitVarint64(e,o(i[d]),c(i[d]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,i,o,c){if(i!=null)for(var d=0;d<i.length;d++)this.writeSplitZigzagVarint64(e,o(i[d]),c(i[d]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeInt64String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeUnsignedVarint32_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeUint32String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeUnsignedVarint64_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeUint64String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeZigzagVarint32_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeZigzagVarint64_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeZigzagVarint64String_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeZigzagVarintHash64_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFixed32(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFixed64(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFixed64String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSfixed32(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSfixed64(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSfixed64String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFloat(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeDouble(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeBool(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeEnum(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeString(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeBytes(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,i,o){if(i!=null)for(var c=0;c<i.length;c++){var d=this.beginDelimited_(e);o(i[c],this),this.endDelimited_(d)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,i,o){if(i!=null)for(var c=0;c<i.length;c++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),o(i[c],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFixedHash64(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeVarintHash64(e,i[o])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeSignedVarint32(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeSignedVarint32(parseInt(i[o],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeSignedVarint64(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,i,o,c){if(i!=null){e=this.beginDelimited_(e);for(var d=0;d<i.length;d++)this.encoder_.writeSplitFixed64(o(i[d]),c(i[d]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,i,o,c){if(i!=null){e=this.beginDelimited_(e);for(var d=0;d<i.length;d++)this.encoder_.writeSplitVarint64(o(i[d]),c(i[d]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,i,o,c){if(i!=null){e=this.beginDelimited_(e);for(var d=this.encoder_,j=0;j<i.length;j++)jspb.utils.toZigzag64(o(i[j]),c(i[j]),function(Z,s){d.writeSplitVarint64(Z>>>0,s>>>0)});this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++){var c=jspb.arith.Int64.fromString(i[o]);this.encoder_.writeSplitVarint64(c.lo,c.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeUnsignedVarint32(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeUnsignedVarint32(parseInt(i[o],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeUnsignedVarint64(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++){var c=jspb.arith.UInt64.fromString(i[o]);this.encoder_.writeSplitVarint64(c.lo,c.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeZigzagVarint32(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeZigzagVarint64(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(i[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeZigzagVarintHash64(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*i.length),e=0;e<i.length;e++)this.encoder_.writeUint32(i[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeUint64(i[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++){var o=jspb.arith.UInt64.fromString(i[e]);this.encoder_.writeSplitFixed64(o.lo,o.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*i.length),e=0;e<i.length;e++)this.encoder_.writeInt32(i[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeInt64(i[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeInt64String(i[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*i.length),e=0;e<i.length;e++)this.encoder_.writeFloat(i[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeDouble(i[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(i.length),e=0;e<i.length;e++)this.encoder_.writeBool(i[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeEnum(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeFixedHash64(i[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeVarintHash64(i[o]);this.endDelimited_(e)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(5),__webpack_require__(4).Buffer)},function(e,i){var o=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(o){var c=new Uint8Array(16);e.exports=function(){return o(c),c}}else{var d=new Array(16);e.exports=function(){for(var j,Z=0;Z<16;Z++)(3&Z)==0&&(j=4294967296*Math.random()),d[Z]=j>>>((3&Z)<<3)&255;return d}}},function(e,i){for(var o=[],c=0;c<256;++c)o[c]=(c+256).toString(16).substr(1);e.exports=function(d,j){var Z=j||0,s=o;return[s[d[Z++]],s[d[Z++]],s[d[Z++]],s[d[Z++]],"-",s[d[Z++]],s[d[Z++]],"-",s[d[Z++]],s[d[Z++]],"-",s[d[Z++]],s[d[Z++]],"-",s[d[Z++]],s[d[Z++]],s[d[Z++]],s[d[Z++]],s[d[Z++]],s[d[Z++]]].join("")}},function(e,i,o){(function(c){const d=o(210),j=o(49),Z=(s,$)=>({from:Z,EnvVarError:o(49),get:function(et){if(!et)return s;if(arguments.length>1)throw new j("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return d(s,et,$||{})}});e.exports=Z(c.env)}).call(this,o(2))},function(e,i,o){var c=o(10),d=o(71),j=o(3).LEVEL,Z=e.exports=function(){var s=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d.call(this,{objectMode:!0,highWaterMark:$.highWaterMark}),this.format=$.format,this.level=$.level,this.handleExceptions=$.handleExceptions,this.silent=$.silent,$.log&&(this.log=$.log),$.logv&&(this.logv=$.logv),$.close&&(this.close=$.close),this.once("pipe",function(et){s.levels=et.levels,s.parent=et}),this.once("unpipe",function(et){et===s.parent&&(s.parent=null,s.close&&s.close())})};c.inherits(Z,d),Z.prototype._write=function(s,$,et){if(this.silent||s.exception===!0&&!this.handleExceptions)return et(null);var ut=this.level||this.parent&&this.parent.level;if(!ut||this.levels[ut]>=this.levels[s[j]]){if(s&&!this.format)return this.log(s,et);var gt=void 0,lt=void 0;try{lt=this.format.transform(Object.assign({},s),this.format.options)}catch(ft){gt=ft}if(gt||!lt){if(et(),gt)throw gt;return}return this.log(lt,et)}return et(null)},Z.prototype._writev=function(s,$){if(this.logv){var et=s.filter(this._accept,this);return et.length?this.logv(et,$):$(null)}for(var ut=0;ut<s.length;ut++)if(this._accept(s[ut]))if(!s[ut].chunk||this.format){var gt=void 0,lt=void 0;try{lt=this.format.transform(Object.assign({},s[ut].chunk),this.format.options)}catch(ft){gt=ft}if(gt||!lt){if(s[ut].callback(),gt)throw $(null),gt}else this.log(lt,s[ut].callback)}else this.log(s[ut].chunk,s[ut].callback);return $(null)},Z.prototype._accept=function(s){var $=s.chunk;if(this.silent)return!1;var et=this.level||this.parent&&this.parent.level;return!($.exception!==!0&&et&&!(this.levels[et]>=this.levels[$[j]])||!this.handleExceptions&&$.exception===!0)},Z.prototype._nop=function(){}},function(e,i,o){const{AbortController:c,AbortSignal:d}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;e.exports=c,e.exports.AbortSignal=d,e.exports.default=c},function(e,i){var o,c=function(d){function j(){this.fetch=!1,this.DOMException=d.DOMException}return j.prototype=d,new j}(typeof self!="undefined"?self:this);o=c,function(d){var j="URLSearchParams"in o,Z="Symbol"in o&&"iterator"in Symbol,s="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),$="FormData"in o,et="ArrayBuffer"in o;if(et)var ut=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],gt=ArrayBuffer.isView||function(bt){return bt&&ut.indexOf(Object.prototype.toString.call(bt))>-1};function lt(bt){if(typeof bt!="string"&&(bt=String(bt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(bt))throw new TypeError("Invalid character in header field name");return bt.toLowerCase()}function ft(bt){return typeof bt!="string"&&(bt=String(bt)),bt}function ot(bt){var mt={next:function(){var jt=bt.shift();return{done:jt===void 0,value:jt}}};return Z&&(mt[Symbol.iterator]=function(){return mt}),mt}function yt(bt){this.map={},bt instanceof yt?bt.forEach(function(mt,jt){this.append(jt,mt)},this):Array.isArray(bt)?bt.forEach(function(mt){this.append(mt[0],mt[1])},this):bt&&Object.getOwnPropertyNames(bt).forEach(function(mt){this.append(mt,bt[mt])},this)}function wt(bt){if(bt.bodyUsed)return Promise.reject(new TypeError("Already read"));bt.bodyUsed=!0}function Rt(bt){return new Promise(function(mt,jt){bt.onload=function(){mt(bt.result)},bt.onerror=function(){jt(bt.error)}})}function Mt(bt){var mt=new FileReader,jt=Rt(mt);return mt.readAsArrayBuffer(bt),jt}function Tt(bt){if(bt.slice)return bt.slice(0);var mt=new Uint8Array(bt.byteLength);return mt.set(new Uint8Array(bt)),mt.buffer}function Ct(){return this.bodyUsed=!1,this._initBody=function(bt){var mt;this._bodyInit=bt,bt?typeof bt=="string"?this._bodyText=bt:s&&Blob.prototype.isPrototypeOf(bt)?this._bodyBlob=bt:$&&FormData.prototype.isPrototypeOf(bt)?this._bodyFormData=bt:j&&URLSearchParams.prototype.isPrototypeOf(bt)?this._bodyText=bt.toString():et&&s&&(mt=bt)&&DataView.prototype.isPrototypeOf(mt)?(this._bodyArrayBuffer=Tt(bt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):et&&(ArrayBuffer.prototype.isPrototypeOf(bt)||gt(bt))?this._bodyArrayBuffer=Tt(bt):this._bodyText=bt=Object.prototype.toString.call(bt):this._bodyText="",this.headers.get("content-type")||(typeof bt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):j&&URLSearchParams.prototype.isPrototypeOf(bt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var bt=wt(this);if(bt)return bt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?wt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Mt)}),this.text=function(){var bt,mt,jt,zt=wt(this);if(zt)return zt;if(this._bodyBlob)return bt=this._bodyBlob,jt=Rt(mt=new FileReader),mt.readAsText(bt),jt;if(this._bodyArrayBuffer)return Promise.resolve(function(kt){for(var St=new Uint8Array(kt),Dt=new Array(St.length),Nt=0;Nt<St.length;Nt++)Dt[Nt]=String.fromCharCode(St[Nt]);return Dt.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},$&&(this.formData=function(){return this.text().then(Kt)}),this.json=function(){return this.text().then(JSON.parse)},this}yt.prototype.append=function(bt,mt){bt=lt(bt),mt=ft(mt);var jt=this.map[bt];this.map[bt]=jt?jt+", "+mt:mt},yt.prototype.delete=function(bt){delete this.map[lt(bt)]},yt.prototype.get=function(bt){return bt=lt(bt),this.has(bt)?this.map[bt]:null},yt.prototype.has=function(bt){return this.map.hasOwnProperty(lt(bt))},yt.prototype.set=function(bt,mt){this.map[lt(bt)]=ft(mt)},yt.prototype.forEach=function(bt,mt){for(var jt in this.map)this.map.hasOwnProperty(jt)&&bt.call(mt,this.map[jt],jt,this)},yt.prototype.keys=function(){var bt=[];return this.forEach(function(mt,jt){bt.push(jt)}),ot(bt)},yt.prototype.values=function(){var bt=[];return this.forEach(function(mt){bt.push(mt)}),ot(bt)},yt.prototype.entries=function(){var bt=[];return this.forEach(function(mt,jt){bt.push([jt,mt])}),ot(bt)},Z&&(yt.prototype[Symbol.iterator]=yt.prototype.entries);var ct=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Lt(bt,mt){var jt,zt,kt=(mt=mt||{}).body;if(bt instanceof Lt){if(bt.bodyUsed)throw new TypeError("Already read");this.url=bt.url,this.credentials=bt.credentials,mt.headers||(this.headers=new yt(bt.headers)),this.method=bt.method,this.mode=bt.mode,this.signal=bt.signal,kt||bt._bodyInit==null||(kt=bt._bodyInit,bt.bodyUsed=!0)}else this.url=String(bt);if(this.credentials=mt.credentials||this.credentials||"same-origin",!mt.headers&&this.headers||(this.headers=new yt(mt.headers)),this.method=(zt=(jt=mt.method||this.method||"GET").toUpperCase(),ct.indexOf(zt)>-1?zt:jt),this.mode=mt.mode||this.mode||null,this.signal=mt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&kt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(kt)}function Kt(bt){var mt=new FormData;return bt.trim().split("&").forEach(function(jt){if(jt){var zt=jt.split("="),kt=zt.shift().replace(/\+/g," "),St=zt.join("=").replace(/\+/g," ");mt.append(decodeURIComponent(kt),decodeURIComponent(St))}}),mt}function Yt(bt,mt){mt||(mt={}),this.type="default",this.status=mt.status===void 0?200:mt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in mt?mt.statusText:"OK",this.headers=new yt(mt.headers),this.url=mt.url||"",this._initBody(bt)}Lt.prototype.clone=function(){return new Lt(this,{body:this._bodyInit})},Ct.call(Lt.prototype),Ct.call(Yt.prototype),Yt.prototype.clone=function(){return new Yt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new yt(this.headers),url:this.url})},Yt.error=function(){var bt=new Yt(null,{status:0,statusText:""});return bt.type="error",bt};var pt=[301,302,303,307,308];Yt.redirect=function(bt,mt){if(pt.indexOf(mt)===-1)throw new RangeError("Invalid status code");return new Yt(null,{status:mt,headers:{location:bt}})},d.DOMException=o.DOMException;try{new d.DOMException}catch{d.DOMException=function(mt,jt){this.message=mt,this.name=jt;var zt=Error(mt);this.stack=zt.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function dt(bt,mt){return new Promise(function(jt,zt){var kt=new Lt(bt,mt);if(kt.signal&&kt.signal.aborted)return zt(new d.DOMException("Aborted","AbortError"));var St=new XMLHttpRequest;function Dt(){St.abort()}St.onload=function(){var Nt,_t,at={status:St.status,statusText:St.statusText,headers:(Nt=St.getAllResponseHeaders()||"",_t=new yt,Nt.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Vt){var Qt=Vt.split(":"),or=Qt.shift().trim();if(or){var ar=Qt.join(":").trim();_t.append(or,ar)}}),_t)};at.url="responseURL"in St?St.responseURL:at.headers.get("X-Request-URL");var Bt="response"in St?St.response:St.responseText;jt(new Yt(Bt,at))},St.onerror=function(){zt(new TypeError("Network request failed"))},St.ontimeout=function(){zt(new TypeError("Network request failed"))},St.onabort=function(){zt(new d.DOMException("Aborted","AbortError"))},St.open(kt.method,kt.url,!0),kt.credentials==="include"?St.withCredentials=!0:kt.credentials==="omit"&&(St.withCredentials=!1),"responseType"in St&&s&&(St.responseType="blob"),kt.headers.forEach(function(Nt,_t){St.setRequestHeader(_t,Nt)}),kt.signal&&(kt.signal.addEventListener("abort",Dt),St.onreadystatechange=function(){St.readyState===4&&kt.signal.removeEventListener("abort",Dt)}),St.send(kt._bodyInit===void 0?null:kt._bodyInit)})}dt.polyfill=!0,o.fetch||(o.fetch=dt,o.Headers=yt,o.Request=Lt,o.Response=Yt),d.Headers=yt,d.Request=Lt,d.Response=Yt,d.fetch=dt}({}),delete c.fetch.polyfill,(i=c.fetch).default=c.fetch,i.fetch=c.fetch,i.Headers=c.Headers,i.Request=c.Request,i.Response=c.Response,e.exports=i},function(e,i,o){const c=o(222),d=Symbol("max"),j=Symbol("length"),Z=Symbol("lengthCalculator"),s=Symbol("allowStale"),$=Symbol("maxAge"),et=Symbol("dispose"),ut=Symbol("noDisposeOnSet"),gt=Symbol("lruList"),lt=Symbol("cache"),ft=Symbol("updateAgeOnGet"),ot=()=>1,yt=(ct,Lt,Kt)=>{const Yt=ct[lt].get(Lt);if(Yt){const pt=Yt.value;if(wt(ct,pt)){if(Mt(ct,Yt),!ct[s])return}else Kt&&(ct[ft]&&(Yt.value.now=Date.now()),ct[gt].unshiftNode(Yt));return pt.value}},wt=(ct,Lt)=>{if(!Lt||!Lt.maxAge&&!ct[$])return!1;const Kt=Date.now()-Lt.now;return Lt.maxAge?Kt>Lt.maxAge:ct[$]&&Kt>ct[$]},Rt=ct=>{if(ct[j]>ct[d])for(let Lt=ct[gt].tail;ct[j]>ct[d]&&Lt!==null;){const Kt=Lt.prev;Mt(ct,Lt),Lt=Kt}},Mt=(ct,Lt)=>{if(Lt){const Kt=Lt.value;ct[et]&&ct[et](Kt.key,Kt.value),ct[j]-=Kt.length,ct[lt].delete(Kt.key),ct[gt].removeNode(Lt)}};class Tt{constructor(Lt,Kt,Yt,pt,dt){this.key=Lt,this.value=Kt,this.length=Yt,this.now=pt,this.maxAge=dt||0}}const Ct=(ct,Lt,Kt,Yt)=>{let pt=Kt.value;wt(ct,pt)&&(Mt(ct,Kt),ct[s]||(pt=void 0)),pt&&Lt.call(Yt,pt.value,pt.key,ct)};e.exports=class{constructor(ct){if(typeof ct=="number"&&(ct={max:ct}),ct||(ct={}),ct.max&&(typeof ct.max!="number"||ct.max<0))throw new TypeError("max must be a non-negative number");this[d]=ct.max||1/0;const Lt=ct.length||ot;if(this[Z]=typeof Lt!="function"?ot:Lt,this[s]=ct.stale||!1,ct.maxAge&&typeof ct.maxAge!="number")throw new TypeError("maxAge must be a number");this[$]=ct.maxAge||0,this[et]=ct.dispose,this[ut]=ct.noDisposeOnSet||!1,this[ft]=ct.updateAgeOnGet||!1,this.reset()}set max(ct){if(typeof ct!="number"||ct<0)throw new TypeError("max must be a non-negative number");this[d]=ct||1/0,Rt(this)}get max(){return this[d]}set allowStale(ct){this[s]=!!ct}get allowStale(){return this[s]}set maxAge(ct){if(typeof ct!="number")throw new TypeError("maxAge must be a non-negative number");this[$]=ct,Rt(this)}get maxAge(){return this[$]}set lengthCalculator(ct){typeof ct!="function"&&(ct=ot),ct!==this[Z]&&(this[Z]=ct,this[j]=0,this[gt].forEach(Lt=>{Lt.length=this[Z](Lt.value,Lt.key),this[j]+=Lt.length})),Rt(this)}get lengthCalculator(){return this[Z]}get length(){return this[j]}get itemCount(){return this[gt].length}rforEach(ct,Lt){Lt=Lt||this;for(let Kt=this[gt].tail;Kt!==null;){const Yt=Kt.prev;Ct(this,ct,Kt,Lt),Kt=Yt}}forEach(ct,Lt){Lt=Lt||this;for(let Kt=this[gt].head;Kt!==null;){const Yt=Kt.next;Ct(this,ct,Kt,Lt),Kt=Yt}}keys(){return this[gt].toArray().map(ct=>ct.key)}values(){return this[gt].toArray().map(ct=>ct.value)}reset(){this[et]&&this[gt]&&this[gt].length&&this[gt].forEach(ct=>this[et](ct.key,ct.value)),this[lt]=new Map,this[gt]=new c,this[j]=0}dump(){return this[gt].map(ct=>!wt(this,ct)&&{k:ct.key,v:ct.value,e:ct.now+(ct.maxAge||0)}).toArray().filter(ct=>ct)}dumpLru(){return this[gt]}set(ct,Lt,Kt){if((Kt=Kt||this[$])&&typeof Kt!="number")throw new TypeError("maxAge must be a number");const Yt=Kt?Date.now():0,pt=this[Z](Lt,ct);if(this[lt].has(ct)){if(pt>this[d])return Mt(this,this[lt].get(ct)),!1;const bt=this[lt].get(ct).value;return this[et]&&(this[ut]||this[et](ct,bt.value)),bt.now=Yt,bt.maxAge=Kt,bt.value=Lt,this[j]+=pt-bt.length,bt.length=pt,this.get(ct),Rt(this),!0}const dt=new Tt(ct,Lt,pt,Yt,Kt);return dt.length>this[d]?(this[et]&&this[et](ct,Lt),!1):(this[j]+=dt.length,this[gt].unshift(dt),this[lt].set(ct,this[gt].head),Rt(this),!0)}has(ct){if(!this[lt].has(ct))return!1;const Lt=this[lt].get(ct).value;return!wt(this,Lt)}get(ct){return yt(this,ct,!0)}peek(ct){return yt(this,ct,!1)}pop(){const ct=this[gt].tail;return ct?(Mt(this,ct),ct.value):null}del(ct){Mt(this,this[lt].get(ct))}load(ct){this.reset();const Lt=Date.now();for(let Kt=ct.length-1;Kt>=0;Kt--){const Yt=ct[Kt],pt=Yt.e||0;if(pt===0)this.set(Yt.k,Yt.v);else{const dt=pt-Lt;dt>0&&this.set(Yt.k,Yt.v,dt)}}}prune(){this[lt].forEach((ct,Lt)=>yt(this,Lt,!1))}}},function(e,i,o){var c=o(225),d=o(226),j=d;j.v1=c,j.v4=d,e.exports=j},function(e,i,o){var c=o(37).Colorizer;e.exports=function(d){return c.addColors(d.colors||d),d}},function(e,i,o){var c={};e.exports=c,c.themes={};var d=o(10),j=c.styles=o(108),Z=Object.defineProperties,s=new RegExp(/[\r\n]+/g);c.supportsColor=o(109).supportsColor,c.enabled===void 0&&(c.enabled=c.supportsColor()!==!1),c.enable=function(){c.enabled=!0},c.disable=function(){c.enabled=!1},c.stripColors=c.strip=function(Rt){return(""+Rt).replace(/\x1B\[\d+m/g,"")},c.stylize=function(Rt,Mt){return c.enabled?j[Mt].open+Rt+j[Mt].close:Rt+""};var $=/[|\\{}()[\]^$+*?.]/g;function et(Rt){var Mt=function Tt(){return ft.apply(Tt,arguments)};return Mt._styles=Rt,Mt.__proto__=lt,Mt}var ut,gt=(ut={},j.grey=j.gray,Object.keys(j).forEach(function(Rt){j[Rt].closeRe=new RegExp(function(Mt){if(typeof Mt!="string")throw new TypeError("Expected a string");return Mt.replace($,"\\$&")}(j[Rt].close),"g"),ut[Rt]={get:function(){return et(this._styles.concat(Rt))}}}),ut),lt=Z(function(){},gt);function ft(){var Rt=Array.prototype.slice.call(arguments),Mt=Rt.map(function(Kt){return Kt!==void 0&&Kt.constructor===String?Kt:d.inspect(Kt)}).join(" ");if(!c.enabled||!Mt)return Mt;for(var Tt=Mt.indexOf(`
`)!=-1,Ct=this._styles,ct=Ct.length;ct--;){var Lt=j[Ct[ct]];Mt=Lt.open+Mt.replace(Lt.closeRe,Lt.open)+Lt.close,Tt&&(Mt=Mt.replace(s,function(Kt){return Lt.close+Kt+Lt.open}))}return Mt}c.setTheme=function(Rt){if(typeof Rt!="string")for(var Mt in Rt)(function(Tt){c[Tt]=function(Ct){if(typeof Rt[Tt]=="object"){var ct=Ct;for(var Lt in Rt[Tt])ct=c[Rt[Tt][Lt]](ct);return ct}return c[Rt[Tt]](Ct)}})(Mt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var ot,yt=function(Rt,Mt){var Tt=Mt.split("");return(Tt=Tt.map(Rt)).join("")};for(var wt in c.trap=o(111),c.zalgo=o(112),c.maps={},c.maps.america=o(113)(c),c.maps.zebra=o(114)(c),c.maps.rainbow=o(115)(c),c.maps.random=o(116)(c),c.maps)(function(Rt){c[Rt]=function(Mt){return yt(c.maps[Rt],Mt)}})(wt);Z(c,(ot={},Object.keys(gt).forEach(function(Rt){ot[Rt]={get:function(){return et([Rt])}}}),ot))},function(e,i){e.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},function(e,i){typeof Object.create=="function"?e.exports=function(o,c){o.super_=c,o.prototype=Object.create(c.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(o,c){o.super_=c;var d=function(){};d.prototype=c.prototype,o.prototype=new d,o.prototype.constructor=o}},function(e,i){var o={};e.exports=o;var c={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(c).forEach(function(d){var j=c[d],Z=o[d]=[];Z.open="\x1B["+j[0]+"m",Z.close="\x1B["+j[1]+"m"})},function(e,i,o){(function(c){var d=o(15),j=o(110),Z=c.env,s=void 0;function $(et){return(ut=function(gt){if(s===!1)return 0;if(j("color=16m")||j("color=full")||j("color=truecolor"))return 3;if(j("color=256"))return 2;if(gt&&!gt.isTTY&&s!==!0)return 0;var lt=s?1:0;if(c.platform==="win32"){var ft=d.release().split(".");return Number(c.versions.node.split(".")[0])>=8&&Number(ft[0])>=10&&Number(ft[2])>=10586?Number(ft[2])>=14931?3:2:1}if("CI"in Z)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(yt){return yt in Z})||Z.CI_NAME==="codeship"?1:lt;if("TEAMCITY_VERSION"in Z)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Z.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in Z){var ot=parseInt((Z.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Z.TERM_PROGRAM){case"iTerm.app":return ot>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in Z?1:lt}(et))!==0&&{level:ut,hasBasic:!0,has256:ut>=2,has16m:ut>=3};var ut}j("no-color")||j("no-colors")||j("color=false")?s=!1:(j("color")||j("colors")||j("color=true")||j("color=always"))&&(s=!0),"FORCE_COLOR"in Z&&(s=Z.FORCE_COLOR.length===0||parseInt(Z.FORCE_COLOR,10)!==0),e.exports={supportsColor:$,stdout:$(c.stdout),stderr:$(c.stderr)}}).call(this,o(2))},function(e,i,o){(function(c){e.exports=function(d,j){var Z=(j=j||c.argv).indexOf("--"),s=/^-{1,2}/.test(d)?"":"--",$=j.indexOf(s+d);return $!==-1&&(Z===-1||$<Z)}}).call(this,o(2))},function(e,i){e.exports=function(o,c){var d="";o=(o=o||"Run the trap, drop the bass").split("");var j={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return o.forEach(function(Z){Z=Z.toLowerCase();var s=j[Z]||[" "],$=Math.floor(Math.random()*s.length);d+=j[Z]!==void 0?j[Z][$]:Z}),d}},function(e,i){e.exports=function(o,c){o=o||"   he is here   ";var d={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},j=[].concat(d.up,d.down,d.mid);function Z($){return Math.floor(Math.random()*$)}function s($){var et=!1;return j.filter(function(ut){et=ut===$}),et}return function($,et){var ut,gt,lt="";for(gt in(et=et||{}).up=et.up===void 0||et.up,et.mid=et.mid===void 0||et.mid,et.down=et.down===void 0||et.down,et.size=et.size!==void 0?et.size:"maxi",$=$.split(""))if(!s(gt)){switch(lt+=$[gt],ut={up:0,down:0,mid:0},et.size){case"mini":ut.up=Z(8),ut.mid=Z(2),ut.down=Z(8);break;case"maxi":ut.up=Z(16)+3,ut.mid=Z(4)+1,ut.down=Z(64)+3;break;default:ut.up=Z(8)+1,ut.mid=Z(6)/2,ut.down=Z(8)+1}var ft=["up","mid","down"];for(var ot in ft)for(var yt=ft[ot],wt=0;wt<=ut[yt];wt++)et[yt]&&(lt+=d[yt][Z(d[yt].length)])}return lt}(o,c)}},function(e,i){e.exports=function(o){return function(c,d,j){if(c===" ")return c;switch(d%3){case 0:return o.red(c);case 1:return o.white(c);case 2:return o.blue(c)}}}},function(e,i){e.exports=function(o){return function(c,d,j){return d%2==0?c:o.inverse(c)}}},function(e,i){e.exports=function(o){var c=["red","yellow","green","blue","magenta"];return function(d,j,Z){return d===" "?d:o[c[j++%c.length]](d)}}},function(e,i){e.exports=function(o){var c=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(d,j,Z){return d===" "?d:o[c[Math.round(Math.random()*(c.length-2))]](d)}}},function(e,i,o){Object.defineProperty(i,"cli",{value:o(118)}),Object.defineProperty(i,"npm",{value:o(119)}),Object.defineProperty(i,"syslog",{value:o(120)})},function(e,i,o){i.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},i.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,i,o){i.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},i.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,i,o){i.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},i.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,i,o){var c=o(9);e.exports=c(function(d){return d.message="	".concat(d.message),d})},function(e,i,o){function c(ut,gt){if(!(ut instanceof gt))throw new TypeError("Cannot call a class as a function")}var d=o(37).Colorizer,j=o(58).Padder,Z=o(3),s=Z.configs,$=Z.MESSAGE,et=function(){function ut(){var lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c(this,ut),lt.levels||(lt.levels=s.npm.levels),this.colorizer=new d(lt),this.padder=new j(lt),this.options=lt}var gt;return(gt=[{key:"transform",value:function(lt,ft){return this.colorizer.transform(this.padder.transform(lt,ft),ft),lt[$]="".concat(lt.level,":").concat(lt.message),lt}}])&&function(lt,ft){for(var ot=0;ot<ft.length;ot++){var yt=ft[ot];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(lt,yt.key,yt)}}(ut.prototype,gt),ut}();e.exports=function(ut){return new et(ut)},e.exports.Format=et},function(e,i,o){var c=o(9);function d(Z){if(Z.every(j))return function(s){for(var $=s,et=0;et<Z.length;et++)if(!($=Z[et].transform($,Z[et].options)))return!1;return $}}function j(Z){if(typeof Z.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}e.exports=function(){for(var Z=arguments.length,s=new Array(Z),$=0;$<Z;$++)s[$]=arguments[$];var et=c(d(s)),ut=et();return ut.Format=et.Format,ut},e.exports.cascade=d},function(e,i,o){(function(c){var d=o(9),j=o(3).MESSAGE,Z=o(31);function s($,et){return et instanceof c?et.toString("base64"):typeof et=="bigint"?et.toString():et}e.exports=d(function($){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $[j]=(et.stable?Z.stableStringify:Z)($,et.replacer||s,et.space),$})}).call(this,o(4).Buffer)},function(e,i,o){i.byteLength=function(gt){var lt=et(gt),ft=lt[0],ot=lt[1];return 3*(ft+ot)/4-ot},i.toByteArray=function(gt){for(var lt,ft=et(gt),ot=ft[0],yt=ft[1],wt=new j(3*(ot+(Ct=yt))/4-Ct),Rt=0,Mt=yt>0?ot-4:ot,Tt=0;Tt<Mt;Tt+=4)lt=d[gt.charCodeAt(Tt)]<<18|d[gt.charCodeAt(Tt+1)]<<12|d[gt.charCodeAt(Tt+2)]<<6|d[gt.charCodeAt(Tt+3)],wt[Rt++]=lt>>16&255,wt[Rt++]=lt>>8&255,wt[Rt++]=255&lt;var Ct;return yt===2&&(lt=d[gt.charCodeAt(Tt)]<<2|d[gt.charCodeAt(Tt+1)]>>4,wt[Rt++]=255&lt),yt===1&&(lt=d[gt.charCodeAt(Tt)]<<10|d[gt.charCodeAt(Tt+1)]<<4|d[gt.charCodeAt(Tt+2)]>>2,wt[Rt++]=lt>>8&255,wt[Rt++]=255&lt),wt},i.fromByteArray=function(gt){for(var lt,ft=gt.length,ot=ft%3,yt=[],wt=0,Rt=ft-ot;wt<Rt;wt+=16383)yt.push(ut(gt,wt,wt+16383>Rt?Rt:wt+16383));return ot===1?(lt=gt[ft-1],yt.push(c[lt>>2]+c[lt<<4&63]+"==")):ot===2&&(lt=(gt[ft-2]<<8)+gt[ft-1],yt.push(c[lt>>10]+c[lt>>4&63]+c[lt<<2&63]+"=")),yt.join("")};for(var c=[],d=[],j=typeof Uint8Array!="undefined"?Uint8Array:Array,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,$=Z.length;s<$;++s)c[s]=Z[s],d[Z.charCodeAt(s)]=s;function et(gt){var lt=gt.length;if(lt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ft=gt.indexOf("=");return ft===-1&&(ft=lt),[ft,ft===lt?0:4-ft%4]}function ut(gt,lt,ft){for(var ot,yt,wt=[],Rt=lt;Rt<ft;Rt+=3)ot=(gt[Rt]<<16&16711680)+(gt[Rt+1]<<8&65280)+(255&gt[Rt+2]),wt.push(c[(yt=ot)>>18&63]+c[yt>>12&63]+c[yt>>6&63]+c[63&yt]);return wt.join("")}d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,i){i.read=function(o,c,d,j,Z){var s,$,et=8*Z-j-1,ut=(1<<et)-1,gt=ut>>1,lt=-7,ft=d?Z-1:0,ot=d?-1:1,yt=o[c+ft];for(ft+=ot,s=yt&(1<<-lt)-1,yt>>=-lt,lt+=et;lt>0;s=256*s+o[c+ft],ft+=ot,lt-=8);for($=s&(1<<-lt)-1,s>>=-lt,lt+=j;lt>0;$=256*$+o[c+ft],ft+=ot,lt-=8);if(s===0)s=1-gt;else{if(s===ut)return $?NaN:1/0*(yt?-1:1);$+=Math.pow(2,j),s-=gt}return(yt?-1:1)*$*Math.pow(2,s-j)},i.write=function(o,c,d,j,Z,s){var $,et,ut,gt=8*s-Z-1,lt=(1<<gt)-1,ft=lt>>1,ot=Z===23?Math.pow(2,-24)-Math.pow(2,-77):0,yt=j?0:s-1,wt=j?1:-1,Rt=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(et=isNaN(c)?1:0,$=lt):($=Math.floor(Math.log(c)/Math.LN2),c*(ut=Math.pow(2,-$))<1&&($--,ut*=2),(c+=$+ft>=1?ot/ut:ot*Math.pow(2,1-ft))*ut>=2&&($++,ut/=2),$+ft>=lt?(et=0,$=lt):$+ft>=1?(et=(c*ut-1)*Math.pow(2,Z),$+=ft):(et=c*Math.pow(2,ft-1)*Math.pow(2,Z),$=0));Z>=8;o[d+yt]=255&et,yt+=wt,et/=256,Z-=8);for($=$<<Z|et,gt+=Z;gt>0;o[d+yt]=255&$,yt+=wt,$/=256,gt-=8);o[d+yt-wt]|=128*Rt}},function(e,i,o){var c=o(9);e.exports=c(function(d,j){return j.message?(d.message="[".concat(j.label,"] ").concat(d.message),d):(d.label=j.label,d)})},function(e,i,o){var c=o(9),d=o(3).MESSAGE,j=o(31);e.exports=c(function(Z){var s={};return Z.message&&(s["@message"]=Z.message,delete Z.message),Z.timestamp&&(s["@timestamp"]=Z.timestamp,delete Z.timestamp),s["@fields"]=Z,Z[d]=j(s),Z})},function(e,i,o){var c=o(9);function d(Z,s,$){var et,ut,gt,lt=s.reduce(function(ot,yt){return ot[yt]=Z[yt],delete Z[yt],ot},{}),ft=Object.keys(Z).reduce(function(ot,yt){return ot[yt]=Z[yt],delete Z[yt],ot},{});return Object.assign(Z,lt,(gt=ft,(ut=$)in(et={})?Object.defineProperty(et,ut,{value:gt,enumerable:!0,configurable:!0,writable:!0}):et[ut]=gt,et)),Z}function j(Z,s,$){return Z[$]=s.reduce(function(et,ut){return et[ut]=Z[ut],delete Z[ut],et},{}),Z}e.exports=c(function(Z){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$="metadata";s.key&&($=s.key);var et=[];return s.fillExcept||s.fillWith||(et.push("level"),et.push("message")),s.fillExcept&&(et=s.fillExcept),et.length>0?d(Z,et,$):s.fillWith?j(Z,s.fillWith,$):Z})},function(e,i,o){var c=o(10).inspect,d=o(9),j=o(3),Z=j.LEVEL,s=j.MESSAGE,$=j.SPLAT;e.exports=d(function(et){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},gt=Object.assign({},et);return delete gt[Z],delete gt[s],delete gt[$],et[s]=c(gt,!1,ut.depth||null,ut.colorize),et})},function(e,i,o){var c=o(3).MESSAGE,d=function(){function j(s){(function($,et){if(!($ instanceof et))throw new TypeError("Cannot call a class as a function")})(this,j),this.template=s}var Z;return(Z=[{key:"transform",value:function(s){return s[c]=this.template(s),s}}])&&function(s,$){for(var et=0;et<$.length;et++){var ut=$[et];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(s,ut.key,ut)}}(j.prototype,Z),j}();e.exports=function(j){return new d(j)},e.exports.Printf=e.exports.Format=d},function(e,i,o){var c=o(9),d=o(3).MESSAGE,j=o(31);e.exports=c(function(Z){var s=j(Object.assign({},Z,{level:void 0,message:void 0,splat:void 0})),$=Z.padding&&Z.padding[Z.level]||"";return Z[d]=s!=="{}"?"".concat(Z.level,":").concat($," ").concat(Z.message," ").concat(s):"".concat(Z.level,":").concat($," ").concat(Z.message),Z})},function(e,i,o){function c(et,ut){(ut==null||ut>et.length)&&(ut=et.length);for(var gt=0,lt=new Array(ut);gt<ut;gt++)lt[gt]=et[gt];return lt}var d=o(10),j=o(3).SPLAT,Z=/%[scdjifoO%]/g,s=/%%/g,$=function(){function et(gt){(function(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")})(this,et),this.options=gt}var ut;return(ut=[{key:"_splat",value:function(gt,lt){var ft=gt.message,ot=gt[j]||gt.splat||[],yt=ft.match(s),wt=yt&&yt.length||0,Rt=lt.length-wt-ot.length,Mt=Rt<0?ot.splice(Rt,-1*Rt):[],Tt=Mt.length;if(Tt)for(var Ct=0;Ct<Tt;Ct++)Object.assign(gt,Mt[Ct]);return gt.message=d.format.apply(d,[ft].concat(function(ct){return function(Lt){if(Array.isArray(Lt))return c(Lt)}(ct)||function(Lt){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(Lt))return Array.from(Lt)}(ct)||function(Lt,Kt){if(Lt){if(typeof Lt=="string")return c(Lt,Kt);var Yt=Object.prototype.toString.call(Lt).slice(8,-1);return Yt==="Object"&&Lt.constructor&&(Yt=Lt.constructor.name),Yt==="Map"||Yt==="Set"?Array.from(Lt):Yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Yt)?c(Lt,Kt):void 0}}(ct)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(ot))),gt}},{key:"transform",value:function(gt){var lt=gt.message,ft=gt[j]||gt.splat;if(!ft||!ft.length)return gt;var ot=lt&&lt.match&&lt.match(Z);if(!ot&&(ft||ft.length)){var yt=ft.length>1?ft.splice(0):ft,wt=yt.length;if(wt)for(var Rt=0;Rt<wt;Rt++)Object.assign(gt,yt[Rt]);return gt}return ot?this._splat(gt,ot):gt}}])&&function(gt,lt){for(var ft=0;ft<lt.length;ft++){var ot=lt[ft];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(gt,ot.key,ot)}}(et.prototype,ut),et}();e.exports=function(et){return new $(et)}},function(e,i,o){var c=o(135),d=o(9);e.exports=d(function(j){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Z.format&&(j.timestamp=typeof Z.format=="function"?Z.format():c.format(new Date,Z.format)),j.timestamp||(j.timestamp=new Date().toISOString()),Z.alias&&(j[Z.alias]=j.timestamp),j})},function(e,i,o){o.r(i),o.d(i,"assign",function(){return $}),o.d(i,"format",function(){return dt}),o.d(i,"parse",function(){return bt}),o.d(i,"defaultI18n",function(){return lt}),o.d(i,"setGlobalDateI18n",function(){return ot}),o.d(i,"setGlobalDateMasks",function(){return pt});var c=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,d="[^\\s]+",j=/\[([^]*?)\]/gm;function Z(jt,zt){for(var kt=[],St=0,Dt=jt.length;St<Dt;St++)kt.push(jt[St].substr(0,zt));return kt}var s=function(jt){return function(zt,kt){var St=kt[jt].map(function(Dt){return Dt.toLowerCase()}).indexOf(zt.toLowerCase());return St>-1?St:null}};function $(jt){for(var zt=[],kt=1;kt<arguments.length;kt++)zt[kt-1]=arguments[kt];for(var St=0,Dt=zt;St<Dt.length;St++){var Nt=Dt[St];for(var _t in Nt)jt[_t]=Nt[_t]}return jt}var et=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ut=["January","February","March","April","May","June","July","August","September","October","November","December"],gt=Z(ut,3),lt={dayNamesShort:Z(et,3),dayNames:et,monthNamesShort:gt,monthNames:ut,amPm:["am","pm"],DoFn:function(jt){return jt+["th","st","nd","rd"][jt%10>3?0:(jt-jt%10!=10?1:0)*jt%10]}},ft=$({},lt),ot=function(jt){return ft=$(ft,jt)},yt=function(jt){return jt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},wt=function(jt,zt){for(zt===void 0&&(zt=2),jt=String(jt);jt.length<zt;)jt="0"+jt;return jt},Rt={D:function(jt){return String(jt.getDate())},DD:function(jt){return wt(jt.getDate())},Do:function(jt,zt){return zt.DoFn(jt.getDate())},d:function(jt){return String(jt.getDay())},dd:function(jt){return wt(jt.getDay())},ddd:function(jt,zt){return zt.dayNamesShort[jt.getDay()]},dddd:function(jt,zt){return zt.dayNames[jt.getDay()]},M:function(jt){return String(jt.getMonth()+1)},MM:function(jt){return wt(jt.getMonth()+1)},MMM:function(jt,zt){return zt.monthNamesShort[jt.getMonth()]},MMMM:function(jt,zt){return zt.monthNames[jt.getMonth()]},YY:function(jt){return wt(String(jt.getFullYear()),4).substr(2)},YYYY:function(jt){return wt(jt.getFullYear(),4)},h:function(jt){return String(jt.getHours()%12||12)},hh:function(jt){return wt(jt.getHours()%12||12)},H:function(jt){return String(jt.getHours())},HH:function(jt){return wt(jt.getHours())},m:function(jt){return String(jt.getMinutes())},mm:function(jt){return wt(jt.getMinutes())},s:function(jt){return String(jt.getSeconds())},ss:function(jt){return wt(jt.getSeconds())},S:function(jt){return String(Math.round(jt.getMilliseconds()/100))},SS:function(jt){return wt(Math.round(jt.getMilliseconds()/10),2)},SSS:function(jt){return wt(jt.getMilliseconds(),3)},a:function(jt,zt){return jt.getHours()<12?zt.amPm[0]:zt.amPm[1]},A:function(jt,zt){return jt.getHours()<12?zt.amPm[0].toUpperCase():zt.amPm[1].toUpperCase()},ZZ:function(jt){var zt=jt.getTimezoneOffset();return(zt>0?"-":"+")+wt(100*Math.floor(Math.abs(zt)/60)+Math.abs(zt)%60,4)},Z:function(jt){var zt=jt.getTimezoneOffset();return(zt>0?"-":"+")+wt(Math.floor(Math.abs(zt)/60),2)+":"+wt(Math.abs(zt)%60,2)}},Mt=function(jt){return+jt-1},Tt=[null,"[1-9]\\d?"],Ct=[null,d],ct=["isPm",d,function(jt,zt){var kt=jt.toLowerCase();return kt===zt.amPm[0]?0:kt===zt.amPm[1]?1:null}],Lt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(jt){var zt=(jt+"").match(/([+-]|\d\d)/gi);if(zt){var kt=60*+zt[1]+parseInt(zt[2],10);return zt[0]==="+"?kt:-kt}return 0}],Kt={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+d,function(jt){return parseInt(jt,10)}],M:["month","[1-9]\\d?",Mt],MM:["month","\\d\\d",Mt],YY:["year","\\d\\d",function(jt){var zt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+jt>68?zt-1:zt)+jt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(jt){return 100*+jt}],SS:["millisecond","\\d\\d",function(jt){return 10*+jt}],SSS:["millisecond","\\d{3}"],d:Tt,dd:Tt,ddd:Ct,dddd:Ct,MMM:["month",d,s("monthNamesShort")],MMMM:["month",d,s("monthNames")],a:ct,A:ct,ZZ:Lt,Z:Lt},Yt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},pt=function(jt){return $(Yt,jt)},dt=function(jt,zt,kt){if(zt===void 0&&(zt=Yt.default),kt===void 0&&(kt={}),typeof jt=="number"&&(jt=new Date(jt)),Object.prototype.toString.call(jt)!=="[object Date]"||isNaN(jt.getTime()))throw new Error("Invalid Date pass to format");var St=[];zt=(zt=Yt[zt]||zt).replace(j,function(Nt,_t){return St.push(_t),"@@@"});var Dt=$($({},ft),kt);return(zt=zt.replace(c,function(Nt){return Rt[Nt](jt,Dt)})).replace(/@@@/g,function(){return St.shift()})};function bt(jt,zt,kt){if(kt===void 0&&(kt={}),typeof zt!="string")throw new Error("Invalid format in fecha parse");if(zt=Yt[zt]||zt,jt.length>1e3)return null;var St={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Dt=[],Nt=[],_t=zt.replace(j,function(Zt,rr){return Nt.push(yt(rr)),"@@@"}),at={},Bt={};_t=yt(_t).replace(c,function(Zt){var rr=Kt[Zt],pr=rr[0],_r=rr[1],ir=rr[3];if(at[pr])throw new Error("Invalid format. "+pr+" specified twice in format");return at[pr]=!0,ir&&(Bt[ir]=!0),Dt.push(rr),"("+_r+")"}),Object.keys(Bt).forEach(function(Zt){if(!at[Zt])throw new Error("Invalid format. "+Zt+" is required in specified format")}),_t=_t.replace(/@@@/g,function(){return Nt.shift()});var Vt=jt.match(new RegExp(_t,"i"));if(!Vt)return null;for(var Qt=$($({},ft),kt),or=1;or<Vt.length;or++){var ar=Dt[or-1],qt=ar[0],Gt=ar[2],vt=Gt?Gt(Vt[or],Qt):+Vt[or];if(vt==null)return null;St[qt]=vt}St.isPm===1&&St.hour!=null&&+St.hour!=12?St.hour=+St.hour+12:St.isPm===0&&+St.hour==12&&(St.hour=0);for(var At=new Date(St.year,St.month,St.day,St.hour,St.minute,St.second,St.millisecond),It=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Ht=(or=0,It.length);or<Ht;or++)if(at[It[or][0]]&&St[It[or][0]]!==At[It[or][1]]())return null;return St.timezoneOffset==null?At:new Date(Date.UTC(St.year,St.month,St.day,St.hour,St.minute-St.timezoneOffset,St.second,St.millisecond))}var mt={format:dt,parse:bt,defaultI18n:lt,setGlobalDateI18n:ot,setGlobalDateMasks:pt};i.default=mt},function(e,i,o){var c=o(57),d=o(9),j=o(3).MESSAGE;e.exports=d(function(Z,s){return s.level!==!1&&(Z.level=c.strip(Z.level)),s.message!==!1&&(Z.message=c.strip(Z.message)),s.raw!==!1&&Z[j]&&(Z[j]=c.strip(Z[j])),Z})},function(e){e.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(e,i,o){Object.defineProperty(i,"Console",{configurable:!0,enumerable:!0,get:function(){return o(139)}}),Object.defineProperty(i,"File",{configurable:!0,enumerable:!0,get:function(){return o(148)}}),Object.defineProperty(i,"Http",{configurable:!0,enumerable:!0,get:function(){return o(188)}}),Object.defineProperty(i,"Stream",{configurable:!0,enumerable:!0,get:function(){return o(200)}})},function(e,i,o){(function(c){function d(ot){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(yt){return typeof yt}:function(yt){return yt&&typeof Symbol=="function"&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt})(ot)}function j(ot,yt){if(!(ot instanceof yt))throw new TypeError("Cannot call a class as a function")}function Z(ot,yt){return(Z=Object.setPrototypeOf||function(wt,Rt){return wt.__proto__=Rt,wt})(ot,yt)}function s(ot,yt){return!yt||d(yt)!=="object"&&typeof yt!="function"?function(wt){if(wt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt}(ot):yt}function $(ot){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(yt){return yt.__proto__||Object.getPrototypeOf(yt)})(ot)}var et=o(15),ut=o(3),gt=ut.LEVEL,lt=ut.MESSAGE,ft=o(17);e.exports=function(ot){(function(Mt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Super expression must either be null or a function");Mt.prototype=Object.create(Tt&&Tt.prototype,{constructor:{value:Mt,writable:!0,configurable:!0}}),Tt&&Z(Mt,Tt)})(Rt,ot);var yt,wt=function(Mt){var Tt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Ct,ct=$(Mt);if(Tt){var Lt=$(this).constructor;Ct=Reflect.construct(ct,arguments,Lt)}else Ct=ct.apply(this,arguments);return s(this,Ct)}}(Rt);function Rt(){var Mt,Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j(this,Rt),(Mt=wt.call(this,Tt)).name=Tt.name||"console",Mt.stderrLevels=Mt._stringArrayToSet(Tt.stderrLevels),Mt.consoleWarnLevels=Mt._stringArrayToSet(Tt.consoleWarnLevels),Mt.eol=Tt.eol||et.EOL,Mt.setMaxListeners(30),Mt}return(yt=[{key:"log",value:function(Mt,Tt){var Ct=this;return c(function(){return Ct.emit("logged",Mt)}),this.stderrLevels[Mt[gt]]?(console._stderr?console._stderr.write("".concat(Mt[lt]).concat(this.eol)):console.error(Mt[lt]),void(Tt&&Tt())):this.consoleWarnLevels[Mt[gt]]?(console._stderr?console._stderr.write("".concat(Mt[lt]).concat(this.eol)):console.warn(Mt[lt]),void(Tt&&Tt())):(console._stdout?console._stdout.write("".concat(Mt[lt]).concat(this.eol)):console.log(Mt[lt]),void(Tt&&Tt()))}},{key:"_stringArrayToSet",value:function(Mt,Tt){if(!Mt)return{};if(Tt=Tt||"Cannot make set from type other than Array of string elements",!Array.isArray(Mt))throw new Error(Tt);return Mt.reduce(function(Ct,ct){if(typeof ct!="string")throw new Error(Tt);return Ct[ct]=!0,Ct},{})}}])&&function(Mt,Tt){for(var Ct=0;Ct<Tt.length;Ct++){var ct=Tt[Ct];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(Mt,ct.key,ct)}}(Rt.prototype,yt),Rt}(ft)}).call(this,o(12).setImmediate)},function(e,i,o){(function(c,d){(function(j,Z){if(!j.setImmediate){var s,$,et,ut,gt,lt=1,ft={},ot=!1,yt=j.document,wt=Object.getPrototypeOf&&Object.getPrototypeOf(j);wt=wt&&wt.setTimeout?wt:j,{}.toString.call(j.process)==="[object process]"?s=function(Tt){d.nextTick(function(){Mt(Tt)})}:function(){if(j.postMessage&&!j.importScripts){var Tt=!0,Ct=j.onmessage;return j.onmessage=function(){Tt=!1},j.postMessage("","*"),j.onmessage=Ct,Tt}}()?(ut="setImmediate$"+Math.random()+"$",gt=function(Tt){Tt.source===j&&typeof Tt.data=="string"&&Tt.data.indexOf(ut)===0&&Mt(+Tt.data.slice(ut.length))},j.addEventListener?j.addEventListener("message",gt,!1):j.attachEvent("onmessage",gt),s=function(Tt){j.postMessage(ut+Tt,"*")}):j.MessageChannel?((et=new MessageChannel).port1.onmessage=function(Tt){Mt(Tt.data)},s=function(Tt){et.port2.postMessage(Tt)}):yt&&"onreadystatechange"in yt.createElement("script")?($=yt.documentElement,s=function(Tt){var Ct=yt.createElement("script");Ct.onreadystatechange=function(){Mt(Tt),Ct.onreadystatechange=null,$.removeChild(Ct),Ct=null},$.appendChild(Ct)}):s=function(Tt){setTimeout(Mt,0,Tt)},wt.setImmediate=function(Tt){typeof Tt!="function"&&(Tt=new Function(""+Tt));for(var Ct=new Array(arguments.length-1),ct=0;ct<Ct.length;ct++)Ct[ct]=arguments[ct+1];var Lt={callback:Tt,args:Ct};return ft[lt]=Lt,s(lt),lt++},wt.clearImmediate=Rt}function Rt(Tt){delete ft[Tt]}function Mt(Tt){if(ot)setTimeout(Mt,0,Tt);else{var Ct=ft[Tt];if(Ct){ot=!0;try{(function(ct){var Lt=ct.callback,Kt=ct.args;switch(Kt.length){case 0:Lt();break;case 1:Lt(Kt[0]);break;case 2:Lt(Kt[0],Kt[1]);break;case 3:Lt(Kt[0],Kt[1],Kt[2]);break;default:Lt.apply(void 0,Kt)}})(Ct)}finally{Rt(Tt),ot=!1}}}}})(typeof self=="undefined"?c===void 0?this:c:self)}).call(this,o(5),o(2))},function(e,i,o){e.exports=o(60)},function(e,i,o){(function(c,d){var j=o(13);e.exports=Ct;var Z,s=o(38);Ct.ReadableState=Tt,o(18).EventEmitter;var $=function(_t,at){return _t.listeners(at).length},et=o(61),ut=o(40).Buffer,gt=c.Uint8Array||function(){},lt=Object.create(o(14));lt.inherits=o(6);var ft=o(143),ot=void 0;ot=ft&&ft.debuglog?ft.debuglog("stream"):function(){};var yt,wt=o(144),Rt=o(62);lt.inherits(Ct,et);var Mt=["error","close","destroy","pause","resume"];function Tt(_t,at){_t=_t||{};var Bt=at instanceof(Z=Z||o(32));this.objectMode=!!_t.objectMode,Bt&&(this.objectMode=this.objectMode||!!_t.readableObjectMode);var Vt=_t.highWaterMark,Qt=_t.readableHighWaterMark,or=this.objectMode?16:16384;this.highWaterMark=Vt||Vt===0?Vt:Bt&&(Qt||Qt===0)?Qt:or,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_t.encoding&&(yt||(yt=o(19).StringDecoder),this.decoder=new yt(_t.encoding),this.encoding=_t.encoding)}function Ct(_t){if(Z=Z||o(32),!(this instanceof Ct))return new Ct(_t);this._readableState=new Tt(_t,this),this.readable=!0,_t&&(typeof _t.read=="function"&&(this._read=_t.read),typeof _t.destroy=="function"&&(this._destroy=_t.destroy)),et.call(this)}function ct(_t,at,Bt,Vt,Qt){var or,ar,qt,Gt,vt,At=_t._readableState;return at===null?(At.reading=!1,function(It,Ht){if(!Ht.ended){if(Ht.decoder){var Zt=Ht.decoder.end();Zt&&Zt.length&&(Ht.buffer.push(Zt),Ht.length+=Ht.objectMode?1:Zt.length)}Ht.ended=!0,Yt(It)}}(_t,At)):(Qt||(ar=At,vt=qt=at,ut.isBuffer(vt)||vt instanceof gt||typeof qt=="string"||qt===void 0||ar.objectMode||(Gt=new TypeError("Invalid non-string/buffer chunk")),or=Gt),or?_t.emit("error",or):At.objectMode||at&&at.length>0?(typeof at=="string"||At.objectMode||Object.getPrototypeOf(at)===ut.prototype||(at=function(It){return ut.from(It)}(at)),Vt?At.endEmitted?_t.emit("error",new Error("stream.unshift() after end event")):Lt(_t,At,at,!0):At.ended?_t.emit("error",new Error("stream.push() after EOF")):(At.reading=!1,At.decoder&&!Bt?(at=At.decoder.write(at),At.objectMode||at.length!==0?Lt(_t,At,at,!1):dt(_t,At)):Lt(_t,At,at,!1))):Vt||(At.reading=!1)),function(It){return!It.ended&&(It.needReadable||It.length<It.highWaterMark||It.length===0)}(At)}function Lt(_t,at,Bt,Vt){at.flowing&&at.length===0&&!at.sync?(_t.emit("data",Bt),_t.read(0)):(at.length+=at.objectMode?1:Bt.length,Vt?at.buffer.unshift(Bt):at.buffer.push(Bt),at.needReadable&&Yt(_t)),dt(_t,at)}function Kt(_t,at){return _t<=0||at.length===0&&at.ended?0:at.objectMode?1:_t!=_t?at.flowing&&at.length?at.buffer.head.data.length:at.length:(_t>at.highWaterMark&&(at.highWaterMark=((Bt=_t)>=8388608?Bt=8388608:(Bt--,Bt|=Bt>>>1,Bt|=Bt>>>2,Bt|=Bt>>>4,Bt|=Bt>>>8,Bt|=Bt>>>16,Bt++),Bt)),_t<=at.length?_t:at.ended?at.length:(at.needReadable=!0,0));var Bt}function Yt(_t){var at=_t._readableState;at.needReadable=!1,at.emittedReadable||(ot("emitReadable",at.flowing),at.emittedReadable=!0,at.sync?j.nextTick(pt,_t):pt(_t))}function pt(_t){ot("emit readable"),_t.emit("readable"),zt(_t)}function dt(_t,at){at.readingMore||(at.readingMore=!0,j.nextTick(bt,_t,at))}function bt(_t,at){for(var Bt=at.length;!at.reading&&!at.flowing&&!at.ended&&at.length<at.highWaterMark&&(ot("maybeReadMore read 0"),_t.read(0),Bt!==at.length);)Bt=at.length;at.readingMore=!1}function mt(_t){ot("readable nexttick read 0"),_t.read(0)}function jt(_t,at){at.reading||(ot("resume read 0"),_t.read(0)),at.resumeScheduled=!1,at.awaitDrain=0,_t.emit("resume"),zt(_t),at.flowing&&!at.reading&&_t.read(0)}function zt(_t){var at=_t._readableState;for(ot("flow",at.flowing);at.flowing&&_t.read()!==null;);}function kt(_t,at){return at.length===0?null:(at.objectMode?ar=at.buffer.shift():!_t||_t>=at.length?(ar=at.decoder?at.buffer.join(""):at.buffer.length===1?at.buffer.head.data:at.buffer.concat(at.length),at.buffer.clear()):(Bt=_t,Vt=at.buffer,Qt=at.decoder,Bt<Vt.head.data.length?(or=Vt.head.data.slice(0,Bt),Vt.head.data=Vt.head.data.slice(Bt)):or=Bt===Vt.head.data.length?Vt.shift():Qt?function(qt,Gt){var vt=Gt.head,At=1,It=vt.data;for(qt-=It.length;vt=vt.next;){var Ht=vt.data,Zt=qt>Ht.length?Ht.length:qt;if(Zt===Ht.length?It+=Ht:It+=Ht.slice(0,qt),(qt-=Zt)==0){Zt===Ht.length?(++At,vt.next?Gt.head=vt.next:Gt.head=Gt.tail=null):(Gt.head=vt,vt.data=Ht.slice(Zt));break}++At}return Gt.length-=At,It}(Bt,Vt):function(qt,Gt){var vt=ut.allocUnsafe(qt),At=Gt.head,It=1;for(At.data.copy(vt),qt-=At.data.length;At=At.next;){var Ht=At.data,Zt=qt>Ht.length?Ht.length:qt;if(Ht.copy(vt,vt.length-qt,0,Zt),(qt-=Zt)==0){Zt===Ht.length?(++It,At.next?Gt.head=At.next:Gt.head=Gt.tail=null):(Gt.head=At,At.data=Ht.slice(Zt));break}++It}return Gt.length-=It,vt}(Bt,Vt),ar=or),ar);var Bt,Vt,Qt,or,ar}function St(_t){var at=_t._readableState;if(at.length>0)throw new Error('"endReadable()" called on non-empty stream');at.endEmitted||(at.ended=!0,j.nextTick(Dt,at,_t))}function Dt(_t,at){_t.endEmitted||_t.length!==0||(_t.endEmitted=!0,at.readable=!1,at.emit("end"))}function Nt(_t,at){for(var Bt=0,Vt=_t.length;Bt<Vt;Bt++)if(_t[Bt]===at)return Bt;return-1}Object.defineProperty(Ct.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(_t){this._readableState&&(this._readableState.destroyed=_t)}}),Ct.prototype.destroy=Rt.destroy,Ct.prototype._undestroy=Rt.undestroy,Ct.prototype._destroy=function(_t,at){this.push(null),at(_t)},Ct.prototype.push=function(_t,at){var Bt,Vt=this._readableState;return Vt.objectMode?Bt=!0:typeof _t=="string"&&((at=at||Vt.defaultEncoding)!==Vt.encoding&&(_t=ut.from(_t,at),at=""),Bt=!0),ct(this,_t,at,!1,Bt)},Ct.prototype.unshift=function(_t){return ct(this,_t,null,!0,!1)},Ct.prototype.isPaused=function(){return this._readableState.flowing===!1},Ct.prototype.setEncoding=function(_t){return yt||(yt=o(19).StringDecoder),this._readableState.decoder=new yt(_t),this._readableState.encoding=_t,this},Ct.prototype.read=function(_t){ot("read",_t),_t=parseInt(_t,10);var at=this._readableState,Bt=_t;if(_t!==0&&(at.emittedReadable=!1),_t===0&&at.needReadable&&(at.length>=at.highWaterMark||at.ended))return ot("read: emitReadable",at.length,at.ended),at.length===0&&at.ended?St(this):Yt(this),null;if((_t=Kt(_t,at))===0&&at.ended)return at.length===0&&St(this),null;var Vt,Qt=at.needReadable;return ot("need readable",Qt),(at.length===0||at.length-_t<at.highWaterMark)&&ot("length less than watermark",Qt=!0),at.ended||at.reading?ot("reading or ended",Qt=!1):Qt&&(ot("do read"),at.reading=!0,at.sync=!0,at.length===0&&(at.needReadable=!0),this._read(at.highWaterMark),at.sync=!1,at.reading||(_t=Kt(Bt,at))),(Vt=_t>0?kt(_t,at):null)===null?(at.needReadable=!0,_t=0):at.length-=_t,at.length===0&&(at.ended||(at.needReadable=!0),Bt!==_t&&at.ended&&St(this)),Vt!==null&&this.emit("data",Vt),Vt},Ct.prototype._read=function(_t){this.emit("error",new Error("_read() is not implemented"))},Ct.prototype.pipe=function(_t,at){var Bt=this,Vt=this._readableState;switch(Vt.pipesCount){case 0:Vt.pipes=_t;break;case 1:Vt.pipes=[Vt.pipes,_t];break;default:Vt.pipes.push(_t)}Vt.pipesCount+=1,ot("pipe count=%d opts=%j",Vt.pipesCount,at);var Qt=at&&at.end===!1||_t===d.stdout||_t===d.stderr?rr:or;function or(){ot("onend"),_t.end()}Vt.endEmitted?j.nextTick(Qt):Bt.once("end",Qt),_t.on("unpipe",function pr(_r,ir){ot("onunpipe"),_r===Bt&&ir&&ir.hasUnpiped===!1&&(ir.hasUnpiped=!0,ot("cleanup"),_t.removeListener("close",Ht),_t.removeListener("finish",Zt),_t.removeListener("drain",qt),_t.removeListener("error",It),_t.removeListener("unpipe",pr),Bt.removeListener("end",or),Bt.removeListener("end",rr),Bt.removeListener("data",At),Gt=!0,!Vt.awaitDrain||_t._writableState&&!_t._writableState.needDrain||qt())});var ar,qt=(ar=Bt,function(){var pr=ar._readableState;ot("pipeOnDrain",pr.awaitDrain),pr.awaitDrain&&pr.awaitDrain--,pr.awaitDrain===0&&$(ar,"data")&&(pr.flowing=!0,zt(ar))});_t.on("drain",qt);var Gt=!1,vt=!1;function At(pr){ot("ondata"),vt=!1,_t.write(pr)!==!1||vt||((Vt.pipesCount===1&&Vt.pipes===_t||Vt.pipesCount>1&&Nt(Vt.pipes,_t)!==-1)&&!Gt&&(ot("false write response, pause",Bt._readableState.awaitDrain),Bt._readableState.awaitDrain++,vt=!0),Bt.pause())}function It(pr){ot("onerror",pr),rr(),_t.removeListener("error",It),$(_t,"error")===0&&_t.emit("error",pr)}function Ht(){_t.removeListener("finish",Zt),rr()}function Zt(){ot("onfinish"),_t.removeListener("close",Ht),rr()}function rr(){ot("unpipe"),Bt.unpipe(_t)}return Bt.on("data",At),function(pr,_r,ir){if(typeof pr.prependListener=="function")return pr.prependListener(_r,ir);pr._events&&pr._events[_r]?s(pr._events[_r])?pr._events[_r].unshift(ir):pr._events[_r]=[ir,pr._events[_r]]:pr.on(_r,ir)}(_t,"error",It),_t.once("close",Ht),_t.once("finish",Zt),_t.emit("pipe",Bt),Vt.flowing||(ot("pipe resume"),Bt.resume()),_t},Ct.prototype.unpipe=function(_t){var at=this._readableState,Bt={hasUnpiped:!1};if(at.pipesCount===0)return this;if(at.pipesCount===1)return _t&&_t!==at.pipes||(_t||(_t=at.pipes),at.pipes=null,at.pipesCount=0,at.flowing=!1,_t&&_t.emit("unpipe",this,Bt)),this;if(!_t){var Vt=at.pipes,Qt=at.pipesCount;at.pipes=null,at.pipesCount=0,at.flowing=!1;for(var or=0;or<Qt;or++)Vt[or].emit("unpipe",this,Bt);return this}var ar=Nt(at.pipes,_t);return ar===-1||(at.pipes.splice(ar,1),at.pipesCount-=1,at.pipesCount===1&&(at.pipes=at.pipes[0]),_t.emit("unpipe",this,Bt)),this},Ct.prototype.on=function(_t,at){var Bt=et.prototype.on.call(this,_t,at);if(_t==="data")this._readableState.flowing!==!1&&this.resume();else if(_t==="readable"){var Vt=this._readableState;Vt.endEmitted||Vt.readableListening||(Vt.readableListening=Vt.needReadable=!0,Vt.emittedReadable=!1,Vt.reading?Vt.length&&Yt(this):j.nextTick(mt,this))}return Bt},Ct.prototype.addListener=Ct.prototype.on,Ct.prototype.resume=function(){var _t,at,Bt=this._readableState;return Bt.flowing||(ot("resume"),Bt.flowing=!0,_t=this,(at=Bt).resumeScheduled||(at.resumeScheduled=!0,j.nextTick(jt,_t,at))),this},Ct.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ct.prototype.wrap=function(_t){var at=this,Bt=this._readableState,Vt=!1;for(var Qt in _t.on("end",function(){if(ot("wrapped end"),Bt.decoder&&!Bt.ended){var ar=Bt.decoder.end();ar&&ar.length&&at.push(ar)}at.push(null)}),_t.on("data",function(ar){ot("wrapped data"),Bt.decoder&&(ar=Bt.decoder.write(ar)),Bt.objectMode&&ar==null||(Bt.objectMode||ar&&ar.length)&&(at.push(ar)||(Vt=!0,_t.pause()))}),_t)this[Qt]===void 0&&typeof _t[Qt]=="function"&&(this[Qt]=function(ar){return function(){return _t[ar].apply(_t,arguments)}}(Qt));for(var or=0;or<Mt.length;or++)_t.on(Mt[or],this.emit.bind(this,Mt[or]));return this._read=function(ar){ot("wrapped _read",ar),Vt&&(Vt=!1,_t.resume())},this},Object.defineProperty(Ct.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Ct._fromList=kt}).call(this,o(5),o(2))},function(e,i){},function(e,i,o){var c=o(40).Buffer,d=o(145);e.exports=function(){function j(){(function(Z,s){if(!(Z instanceof s))throw new TypeError("Cannot call a class as a function")})(this,j),this.head=null,this.tail=null,this.length=0}return j.prototype.push=function(Z){var s={data:Z,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},j.prototype.unshift=function(Z){var s={data:Z,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},j.prototype.shift=function(){if(this.length!==0){var Z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Z}},j.prototype.clear=function(){this.head=this.tail=null,this.length=0},j.prototype.join=function(Z){if(this.length===0)return"";for(var s=this.head,$=""+s.data;s=s.next;)$+=Z+s.data;return $},j.prototype.concat=function(Z){if(this.length===0)return c.alloc(0);if(this.length===1)return this.head.data;for(var s,$,et=c.allocUnsafe(Z>>>0),ut=this.head,gt=0;ut;)s=et,$=gt,ut.data.copy(s,$),gt+=ut.data.length,ut=ut.next;return et},j}(),d&&d.inspect&&d.inspect.custom&&(e.exports.prototype[d.inspect.custom]=function(){var j=d.inspect({length:this.length});return this.constructor.name+" "+j})},function(e,i){},function(e,i,o){var c=o(4),d=c.Buffer;function j(s,$){for(var et in s)$[et]=s[et]}function Z(s,$,et){return d(s,$,et)}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(j(c,i),i.Buffer=Z),j(d,Z),Z.from=function(s,$,et){if(typeof s=="number")throw new TypeError("Argument must not be a number");return d(s,$,et)},Z.alloc=function(s,$,et){if(typeof s!="number")throw new TypeError("Argument must be a number");var ut=d(s);return $!==void 0?typeof et=="string"?ut.fill($,et):ut.fill($):ut.fill(0),ut},Z.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return d(s)},Z.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(s)}},function(e,i,o){var c=o(10),d=o(3).LEVEL,j=o(17),Z=e.exports=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(j.call(this,s),!s.transport||typeof s.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function $(et){this.emit("error",et,this.transport)}this.transport=s.transport,this.level=this.level||s.transport.level,this.handleExceptions=this.handleExceptions||s.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=$.bind(this),this.transport.on("error",this.transport.__winstonError))};c.inherits(Z,j),Z.prototype._write=function(s,$,et){if(this.silent||s.exception===!0&&!this.handleExceptions)return et(null);(!this.level||this.levels[this.level]>=this.levels[s[d]])&&this.transport.log(s[d],s.message,s,this._nop),et(null)},Z.prototype._writev=function(s,$){for(var et=0;et<s.length;et++)this._accept(s[et])&&(this.transport.log(s[et].chunk[d],s[et].chunk.message,s[et].chunk,this._nop),s[et].callback());return $(null)},Z.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},Z.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,i,o){(function(c,d){function j(Kt){return(j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Yt){return typeof Yt}:function(Yt){return Yt&&typeof Symbol=="function"&&Yt.constructor===Symbol&&Yt!==Symbol.prototype?"symbol":typeof Yt})(Kt)}function Z(Kt,Yt){if(!(Kt instanceof Yt))throw new TypeError("Cannot call a class as a function")}function s(Kt,Yt){return(s=Object.setPrototypeOf||function(pt,dt){return pt.__proto__=dt,pt})(Kt,Yt)}function $(Kt,Yt){return!Yt||j(Yt)!=="object"&&typeof Yt!="function"?et(Kt):Yt}function et(Kt){if(Kt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Kt}function ut(Kt){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(Yt){return Yt.__proto__||Object.getPrototypeOf(Yt)})(Kt)}var gt=o(63),lt=o(53),ft=o(149),ot=o(159),yt=o(3).MESSAGE,wt=o(29),Rt=wt.Stream,Mt=wt.PassThrough,Tt=o(17),Ct=o(34)("winston:file"),ct=o(15),Lt=o(187);e.exports=function(Kt){(function(bt,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(mt&&mt.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),mt&&s(bt,mt)})(dt,Kt);var Yt,pt=function(bt){var mt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var jt,zt=ut(bt);if(mt){var kt=ut(this).constructor;jt=Reflect.construct(zt,arguments,kt)}else jt=zt.apply(this,arguments);return $(this,jt)}}(dt);function dt(){var bt,mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function jt(zt){for(var kt=arguments.length,St=new Array(kt>1?kt-1:0),Dt=1;Dt<kt;Dt++)St[Dt-1]=arguments[Dt];St.slice(1).forEach(function(Nt){if(mt[Nt])throw new Error("Cannot set ".concat(Nt," and ").concat(zt," together"))})}if(Z(this,dt),(bt=pt.call(this,mt)).name=mt.name||"file",bt._stream=new Mt,bt._stream.setMaxListeners(30),bt._onError=bt._onError.bind(et(bt)),mt.filename||mt.dirname)jt("filename or dirname","stream"),bt._basename=bt.filename=mt.filename?lt.basename(mt.filename):"winston.log",bt.dirname=mt.dirname||lt.dirname(mt.filename),bt.options=mt.options||{flags:"a"};else{if(!mt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),jt("stream","filename","maxsize"),bt._dest=bt._stream.pipe(bt._setupStream(mt.stream)),bt.dirname=lt.dirname(bt._dest.path)}return bt.maxsize=mt.maxsize||null,bt.rotationFormat=mt.rotationFormat||!1,bt.zippedArchive=mt.zippedArchive||!1,bt.maxFiles=mt.maxFiles||null,bt.eol=mt.eol||ct.EOL,bt.tailable=mt.tailable||!1,bt._size=0,bt._pendingSize=0,bt._created=0,bt._drain=!1,bt._opening=!1,bt._ending=!1,bt.dirname&&bt._createLogDirIfNotExist(bt.dirname),bt.open(),bt}return(Yt=[{key:"finishIfEnding",value:function(){var bt=this;this._ending&&(this._opening?this.once("open",function(){bt._stream.once("finish",function(){return bt.emit("finish")}),c(function(){return bt._stream.end()})}):(this._stream.once("finish",function(){return bt.emit("finish")}),c(function(){return bt._stream.end()})))}},{key:"log",value:function(bt){var mt=this,jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return jt(),!0;if(this._drain)this._stream.once("drain",function(){mt._drain=!1,mt.log(bt,jt)});else{if(!this._rotate){var zt="".concat(bt[yt]).concat(this.eol),kt=d.byteLength(zt);this._pendingSize+=kt,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var St=this._stream.write(zt,Dt.bind(this));return St?jt():(this._drain=!0,this._stream.once("drain",function(){mt._drain=!1,jt()})),Ct("written",St,this._drain),this.finishIfEnding(),St}this._stream.once("rotate",function(){mt._rotate=!1,mt.log(bt,jt)})}function Dt(){var Nt=this;this._size+=kt,this._pendingSize-=kt,Ct("logged %s %s",this._size,zt),this.emit("logged",bt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return Nt._rotateFile()}))}}},{key:"query",value:function(bt,mt){var jt;typeof bt=="function"&&(mt=bt,bt={}),(jt=(jt=bt)||{}).rows=jt.rows||jt.limit||10,jt.start=jt.start||0,jt.until=jt.until||new Date,j(jt.until)!=="object"&&(jt.until=new Date(jt.until)),jt.from=jt.from||jt.until-864e5,j(jt.from)!=="object"&&(jt.from=new Date(jt.from)),jt.order=jt.order||"desc",bt=jt;var zt=lt.join(this.dirname,this.filename),kt="",St=[],Dt=0,Nt=gt.createReadStream(zt,{encoding:"utf8"});function _t(at,Bt){try{var Vt=JSON.parse(at);(function(or){if(or&&j(or)==="object"){var ar=new Date(or.timestamp);if(!(bt.from&&ar<bt.from||bt.until&&ar>bt.until||bt.level&&bt.level!==or.level))return!0}})(Vt)&&(Qt=Vt,bt.rows&&St.length>=bt.rows&&bt.order!=="desc"?Nt.readable&&Nt.destroy():(bt.fields&&(Qt=bt.fields.reduce(function(or,ar){return or[ar]=Qt[ar],or},{})),bt.order==="desc"&&St.length>=bt.rows&&St.shift(),St.push(Qt)))}catch(or){Bt||Nt.emit("error",or)}var Qt}Nt.on("error",function(at){if(Nt.readable&&Nt.destroy(),mt)return at.code!=="ENOENT"?mt(at):mt(null,St)}),Nt.on("data",function(at){for(var Bt=(at=(kt+at).split(/\n+/)).length-1,Vt=0;Vt<Bt;Vt++)(!bt.start||Dt>=bt.start)&&_t(at[Vt]),Dt++;kt=at[Bt]}),Nt.on("close",function(){kt&&_t(kt,!0),bt.order==="desc"&&(St=St.reverse()),mt&&mt(null,St)})}},{key:"stream",value:function(){var bt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},mt=lt.join(this.dirname,this.filename),jt=new Rt,zt={file:mt,start:bt.start};return jt.destroy=Lt(zt,function(kt,St){if(kt)return jt.emit("error",kt);try{jt.emit("data",St),St=JSON.parse(St),jt.emit("log",St)}catch(Dt){jt.emit("error",Dt)}}),jt}},{key:"open",value:function(){var bt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(mt,jt){if(mt)return bt.emit("error",mt);Ct("stat done: %s { size: %s }",bt.filename,jt),bt._size=jt,bt._dest=bt._createStream(bt._stream),bt._opening=!1,bt.once("open",function(){bt._stream.eventNames().includes("rotate")?bt._stream.emit("rotate"):bt._rotate=!1})})))}},{key:"stat",value:function(bt){var mt=this,jt=this._getFile(),zt=lt.join(this.dirname,jt);gt.stat(zt,function(kt,St){return kt&&kt.code==="ENOENT"?(Ct("ENOENT\xA0ok",zt),mt.filename=jt,bt(null,0)):kt?(Ct("err ".concat(kt.code," ").concat(zt)),bt(kt)):!St||mt._needsNewFile(St.size)?mt._incFile(function(){return mt.stat(bt)}):(mt.filename=jt,void bt(null,St.size))})}},{key:"close",value:function(bt){var mt=this;this._stream&&this._stream.end(function(){bt&&bt(),mt.emit("flush"),mt.emit("closed")})}},{key:"_needsNewFile",value:function(bt){return bt=bt||this._size,this.maxsize&&bt>=this.maxsize}},{key:"_onError",value:function(bt){this.emit("error",bt)}},{key:"_setupStream",value:function(bt){return bt.on("error",this._onError),bt}},{key:"_cleanupStream",value:function(bt){return bt.removeListener("error",this._onError),bt}},{key:"_rotateFile",value:function(){var bt=this;this._incFile(function(){return bt.open()})}},{key:"_endStream",value:function(){var bt=this,mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){bt._cleanupStream(bt._dest),mt()})):mt()}},{key:"_createStream",value:function(bt){var mt=this,jt=lt.join(this.dirname,this.filename);Ct("create stream start",jt,this.options);var zt=gt.createWriteStream(jt,this.options).on("error",function(St){return Ct(St)}).on("close",function(){return Ct("close",zt.path,zt.bytesWritten)}).on("open",function(){Ct("file open ok",jt),mt.emit("open",jt),bt.pipe(zt),mt.rotatedWhileOpening&&(mt._stream=new Mt,mt._stream.setMaxListeners(30),mt._rotateFile(),mt.rotatedWhileOpening=!1,mt._cleanupStream(zt),bt.end())});if(Ct("create stream ok",jt),this.zippedArchive){var kt=ot.createGzip();return kt.pipe(zt),kt}return zt}},{key:"_incFile",value:function(bt){Ct("_incFile",this.filename);var mt=lt.extname(this._basename),jt=lt.basename(this._basename,mt);this.tailable?this._checkMaxFilesTailable(mt,jt,bt):(this._created+=1,this._checkMaxFilesIncrementing(mt,jt,bt))}},{key:"_getFile",value:function(){var bt=lt.extname(this._basename),mt=lt.basename(this._basename,bt),jt=this.rotationFormat?this.rotationFormat():this._created,zt=!this.tailable&&this._created?"".concat(mt).concat(jt).concat(bt):"".concat(mt).concat(bt);return this.zippedArchive&&!this.tailable?"".concat(zt,".gz"):zt}},{key:"_checkMaxFilesIncrementing",value:function(bt,mt,jt){if(!this.maxFiles||this._created<this.maxFiles)return c(jt);var zt=this._created-this.maxFiles,kt=zt!==0?zt:"",St=this.zippedArchive?".gz":"",Dt="".concat(mt).concat(kt).concat(bt).concat(St),Nt=lt.join(this.dirname,Dt);gt.unlink(Nt,jt)}},{key:"_checkMaxFilesTailable",value:function(bt,mt,jt){var zt=this,kt=[];if(this.maxFiles){for(var St=this.zippedArchive?".gz":"",Dt=this.maxFiles-1;Dt>1;Dt--)kt.push(function(Nt,_t){var at=this,Bt="".concat(mt).concat(Nt-1).concat(bt).concat(St),Vt=lt.join(this.dirname,Bt);gt.exists(Vt,function(Qt){if(!Qt)return _t(null);Bt="".concat(mt).concat(Nt).concat(bt).concat(St),gt.rename(Vt,lt.join(at.dirname,Bt),_t)})}.bind(this,Dt));ft(kt,function(){gt.rename(lt.join(zt.dirname,"".concat(mt).concat(bt)),lt.join(zt.dirname,"".concat(mt,"1").concat(bt).concat(St)),jt)})}}},{key:"_createLogDirIfNotExist",value:function(bt){gt.existsSync(bt)||gt.mkdirSync(bt,{recursive:!0})}}])&&function(bt,mt){for(var jt=0;jt<mt.length;jt++){var zt=mt[jt];zt.enumerable=zt.enumerable||!1,zt.configurable=!0,"value"in zt&&(zt.writable=!0),Object.defineProperty(bt,zt.key,zt)}}(dt.prototype,Yt),dt}(Tt)}).call(this,o(12).setImmediate,o(4).Buffer)},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(Z,s){return(0,c.default)(d.default,Z,s)};var c=j(o(150)),d=j(o(154));function j(Z){return Z&&Z.__esModule?Z:{default:Z}}e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=Z(o(41)),d=Z(o(23)),j=Z(o(27));function Z(s){return s&&s.__esModule?s:{default:s}}i.default=(0,j.default)((s,$,et)=>{var ut=(0,c.default)($)?[]:{};s($,(gt,lt,ft)=>{(0,d.default)(gt)((ot,...yt)=>{yt.length<2&&([yt]=yt),ut[lt]=yt,ft(ot)})},gt=>et(gt,ut))},3),e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(et){return(0,j.isAsync)(et)?function(...ut){const gt=ut.pop();return s(et.apply(this,ut),gt)}:(0,c.default)(function(ut,gt){var lt;try{lt=et.apply(this,ut)}catch(ft){return gt(ft)}if(lt&&typeof lt.then=="function")return s(lt,gt);gt(null,lt)})};var c=Z(o(152)),d=Z(o(153)),j=o(23);function Z(et){return et&&et.__esModule?et:{default:et}}function s(et,ut){return et.then(gt=>{$(ut,null,gt)},gt=>{$(ut,gt&&gt.message?gt:new Error(gt))})}function $(et,ut,gt){try{et(ut,gt)}catch(lt){(0,d.default)(ft=>{throw ft},lt)}}e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return function(...d){var j=d.pop();return c.call(this,d,j)}},e.exports=i.default},function(e,i,o){(function(c,d){Object.defineProperty(i,"__esModule",{value:!0}),i.fallback=$,i.wrap=et;var j,Z=i.hasSetImmediate=typeof c=="function"&&c,s=i.hasNextTick=typeof d=="object"&&typeof d.nextTick=="function";function $(ut){setTimeout(ut,0)}function et(ut){return(gt,...lt)=>ut(()=>gt(...lt))}j=Z?c:s?d.nextTick:$,i.default=et(j)}).call(this,o(12).setImmediate,o(2))},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=j(o(64)),d=j(o(27));function j(Z){return Z&&Z.__esModule?Z:{default:Z}}i.default=(0,d.default)(function(Z,s,$){return(0,c.default)(Z,1,s,$)},3),e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=et(o(65)),d=et(o(156)),j=et(o(66)),Z=o(23),s=et(o(158)),$=et(o(42));function et(ut){return ut&&ut.__esModule?ut:{default:ut}}i.default=ut=>(gt,lt,ft)=>{if(ft=(0,c.default)(ft),ut<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!gt)return ft(null);if((0,Z.isAsyncGenerator)(gt))return(0,s.default)(gt,ut,lt,ft);if((0,Z.isAsyncIterable)(gt))return(0,s.default)(gt[Symbol.asyncIterator](),ut,lt,ft);var ot=(0,d.default)(gt),yt=!1,wt=!1,Rt=0,Mt=!1;function Tt(ct,Lt){if(!wt)if(Rt-=1,ct)yt=!0,ft(ct);else if(ct===!1)yt=!0,wt=!0;else{if(Lt===$.default||yt&&Rt<=0)return yt=!0,ft(null);Mt||Ct()}}function Ct(){for(Mt=!0;Rt<ut&&!yt;){var ct=ot();if(ct===null)return yt=!0,void(Rt<=0&&ft(null));Rt+=1,lt(ct.value,ct.key,(0,j.default)(Tt))}Mt=!1}Ct()},e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(Z){if((0,c.default)(Z))return $=-1,et=(s=Z).length,function(){return++$<et?{value:s[$],key:$}:null};var s,$,et,ut,gt,lt,ft,ot=(0,d.default)(Z);return ot?function(yt){var wt=-1;return function(){var Rt=yt.next();return Rt.done?null:(wt++,{value:Rt.value,key:wt})}}(ot):(gt=(ut=Z)?Object.keys(ut):[],lt=-1,ft=gt.length,function(){var yt=gt[++lt];return lt<ft?{value:ut[yt],key:yt}:null})};var c=j(o(41)),d=j(o(157));function j(Z){return Z&&Z.__esModule?Z:{default:Z}}e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return c[Symbol.iterator]&&c[Symbol.iterator]()},e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(j,Z,s,$){let et=!1,ut=!1,gt=!1,lt=0,ft=0;function ot(){lt>=Z||gt||et||(gt=!0,j.next().then(({value:Rt,done:Mt})=>{if(!ut&&!et){if(gt=!1,Mt)return et=!0,void(lt<=0&&$(null));lt++,s(Rt,ft,yt),ft++,ot()}}).catch(wt))}function yt(Rt,Mt){if(lt-=1,!ut)return Rt?wt(Rt):Rt===!1?(et=!0,void(ut=!0)):Mt===d.default||et&&lt<=0?(et=!0,$(null)):void ot()}function wt(Rt){ut||(gt=!1,et=!0,$(Rt))}ot()};var c,d=(c=o(42))&&c.__esModule?c:{default:c};e.exports=i.default},function(e,i,o){(function(c){var d=o(4).Buffer,j=o(160).Transform,Z=o(168),s=o(10),$=o(72).ok,et=o(4).kMaxLength,ut="Cannot create final Buffer. It would be larger than 0x"+et.toString(16)+" bytes";Z.Z_MIN_WINDOWBITS=8,Z.Z_MAX_WINDOWBITS=15,Z.Z_DEFAULT_WINDOWBITS=15,Z.Z_MIN_CHUNK=64,Z.Z_MAX_CHUNK=1/0,Z.Z_DEFAULT_CHUNK=16384,Z.Z_MIN_MEMLEVEL=1,Z.Z_MAX_MEMLEVEL=9,Z.Z_DEFAULT_MEMLEVEL=8,Z.Z_MIN_LEVEL=-1,Z.Z_MAX_LEVEL=9,Z.Z_DEFAULT_LEVEL=Z.Z_DEFAULT_COMPRESSION;for(var gt=Object.keys(Z),lt=0;lt<gt.length;lt++){var ft=gt[lt];ft.match(/^Z/)&&Object.defineProperty(i,ft,{enumerable:!0,value:Z[ft],writable:!1})}for(var ot={Z_OK:Z.Z_OK,Z_STREAM_END:Z.Z_STREAM_END,Z_NEED_DICT:Z.Z_NEED_DICT,Z_ERRNO:Z.Z_ERRNO,Z_STREAM_ERROR:Z.Z_STREAM_ERROR,Z_DATA_ERROR:Z.Z_DATA_ERROR,Z_MEM_ERROR:Z.Z_MEM_ERROR,Z_BUF_ERROR:Z.Z_BUF_ERROR,Z_VERSION_ERROR:Z.Z_VERSION_ERROR},yt=Object.keys(ot),wt=0;wt<yt.length;wt++){var Rt=yt[wt];ot[ot[Rt]]=Rt}function Mt(kt,St,Dt){var Nt=[],_t=0;function at(){for(var Vt;(Vt=kt.read())!==null;)Nt.push(Vt),_t+=Vt.length;kt.once("readable",at)}function Bt(){var Vt,Qt=null;_t>=et?Qt=new RangeError(ut):Vt=d.concat(Nt,_t),Nt=[],kt.close(),Dt(Qt,Vt)}kt.on("error",function(Vt){kt.removeListener("end",Bt),kt.removeListener("readable",at),Dt(Vt)}),kt.on("end",Bt),kt.end(St),at()}function Tt(kt,St){if(typeof St=="string"&&(St=d.from(St)),!d.isBuffer(St))throw new TypeError("Not a string or buffer");var Dt=kt._finishFlushFlag;return kt._processChunk(St,Dt)}function Ct(kt){if(!(this instanceof Ct))return new Ct(kt);mt.call(this,kt,Z.DEFLATE)}function ct(kt){if(!(this instanceof ct))return new ct(kt);mt.call(this,kt,Z.INFLATE)}function Lt(kt){if(!(this instanceof Lt))return new Lt(kt);mt.call(this,kt,Z.GZIP)}function Kt(kt){if(!(this instanceof Kt))return new Kt(kt);mt.call(this,kt,Z.GUNZIP)}function Yt(kt){if(!(this instanceof Yt))return new Yt(kt);mt.call(this,kt,Z.DEFLATERAW)}function pt(kt){if(!(this instanceof pt))return new pt(kt);mt.call(this,kt,Z.INFLATERAW)}function dt(kt){if(!(this instanceof dt))return new dt(kt);mt.call(this,kt,Z.UNZIP)}function bt(kt){return kt===Z.Z_NO_FLUSH||kt===Z.Z_PARTIAL_FLUSH||kt===Z.Z_SYNC_FLUSH||kt===Z.Z_FULL_FLUSH||kt===Z.Z_FINISH||kt===Z.Z_BLOCK}function mt(kt,St){var Dt=this;if(this._opts=kt=kt||{},this._chunkSize=kt.chunkSize||i.Z_DEFAULT_CHUNK,j.call(this,kt),kt.flush&&!bt(kt.flush))throw new Error("Invalid flush flag: "+kt.flush);if(kt.finishFlush&&!bt(kt.finishFlush))throw new Error("Invalid flush flag: "+kt.finishFlush);if(this._flushFlag=kt.flush||Z.Z_NO_FLUSH,this._finishFlushFlag=kt.finishFlush!==void 0?kt.finishFlush:Z.Z_FINISH,kt.chunkSize&&(kt.chunkSize<i.Z_MIN_CHUNK||kt.chunkSize>i.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+kt.chunkSize);if(kt.windowBits&&(kt.windowBits<i.Z_MIN_WINDOWBITS||kt.windowBits>i.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+kt.windowBits);if(kt.level&&(kt.level<i.Z_MIN_LEVEL||kt.level>i.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+kt.level);if(kt.memLevel&&(kt.memLevel<i.Z_MIN_MEMLEVEL||kt.memLevel>i.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+kt.memLevel);if(kt.strategy&&kt.strategy!=i.Z_FILTERED&&kt.strategy!=i.Z_HUFFMAN_ONLY&&kt.strategy!=i.Z_RLE&&kt.strategy!=i.Z_FIXED&&kt.strategy!=i.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+kt.strategy);if(kt.dictionary&&!d.isBuffer(kt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new Z.Zlib(St);var Nt=this;this._hadError=!1,this._handle.onerror=function(Bt,Vt){jt(Nt),Nt._hadError=!0;var Qt=new Error(Bt);Qt.errno=Vt,Qt.code=i.codes[Vt],Nt.emit("error",Qt)};var _t=i.Z_DEFAULT_COMPRESSION;typeof kt.level=="number"&&(_t=kt.level);var at=i.Z_DEFAULT_STRATEGY;typeof kt.strategy=="number"&&(at=kt.strategy),this._handle.init(kt.windowBits||i.Z_DEFAULT_WINDOWBITS,_t,kt.memLevel||i.Z_DEFAULT_MEMLEVEL,at,kt.dictionary),this._buffer=d.allocUnsafe(this._chunkSize),this._offset=0,this._level=_t,this._strategy=at,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Dt._handle},configurable:!0,enumerable:!0})}function jt(kt,St){St&&c.nextTick(St),kt._handle&&(kt._handle.close(),kt._handle=null)}function zt(kt){kt.emit("close")}Object.defineProperty(i,"codes",{enumerable:!0,value:Object.freeze(ot),writable:!1}),i.Deflate=Ct,i.Inflate=ct,i.Gzip=Lt,i.Gunzip=Kt,i.DeflateRaw=Yt,i.InflateRaw=pt,i.Unzip=dt,i.createDeflate=function(kt){return new Ct(kt)},i.createInflate=function(kt){return new ct(kt)},i.createDeflateRaw=function(kt){return new Yt(kt)},i.createInflateRaw=function(kt){return new pt(kt)},i.createGzip=function(kt){return new Lt(kt)},i.createGunzip=function(kt){return new Kt(kt)},i.createUnzip=function(kt){return new dt(kt)},i.deflate=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new Ct(St),kt,Dt)},i.deflateSync=function(kt,St){return Tt(new Ct(St),kt)},i.gzip=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new Lt(St),kt,Dt)},i.gzipSync=function(kt,St){return Tt(new Lt(St),kt)},i.deflateRaw=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new Yt(St),kt,Dt)},i.deflateRawSync=function(kt,St){return Tt(new Yt(St),kt)},i.unzip=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new dt(St),kt,Dt)},i.unzipSync=function(kt,St){return Tt(new dt(St),kt)},i.inflate=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new ct(St),kt,Dt)},i.inflateSync=function(kt,St){return Tt(new ct(St),kt)},i.gunzip=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new Kt(St),kt,Dt)},i.gunzipSync=function(kt,St){return Tt(new Kt(St),kt)},i.inflateRaw=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new pt(St),kt,Dt)},i.inflateRawSync=function(kt,St){return Tt(new pt(St),kt)},s.inherits(mt,j),mt.prototype.params=function(kt,St,Dt){if(kt<i.Z_MIN_LEVEL||kt>i.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+kt);if(St!=i.Z_FILTERED&&St!=i.Z_HUFFMAN_ONLY&&St!=i.Z_RLE&&St!=i.Z_FIXED&&St!=i.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+St);if(this._level!==kt||this._strategy!==St){var Nt=this;this.flush(Z.Z_SYNC_FLUSH,function(){$(Nt._handle,"zlib binding closed"),Nt._handle.params(kt,St),Nt._hadError||(Nt._level=kt,Nt._strategy=St,Dt&&Dt())})}else c.nextTick(Dt)},mt.prototype.reset=function(){return $(this._handle,"zlib binding closed"),this._handle.reset()},mt.prototype._flush=function(kt){this._transform(d.alloc(0),"",kt)},mt.prototype.flush=function(kt,St){var Dt=this,Nt=this._writableState;(typeof kt=="function"||kt===void 0&&!St)&&(St=kt,kt=Z.Z_FULL_FLUSH),Nt.ended?St&&c.nextTick(St):Nt.ending?St&&this.once("end",St):Nt.needDrain?St&&this.once("drain",function(){return Dt.flush(kt,St)}):(this._flushFlag=kt,this.write(d.alloc(0),"",St))},mt.prototype.close=function(kt){jt(this,kt),c.nextTick(zt,this)},mt.prototype._transform=function(kt,St,Dt){var Nt,_t=this._writableState,at=(_t.ending||_t.ended)&&(!kt||_t.length===kt.length);return kt===null||d.isBuffer(kt)?this._handle?(at?Nt=this._finishFlushFlag:(Nt=this._flushFlag,kt.length>=_t.length&&(this._flushFlag=this._opts.flush||Z.Z_NO_FLUSH)),void this._processChunk(kt,Nt,Dt)):Dt(new Error("zlib binding closed")):Dt(new Error("invalid input"))},mt.prototype._processChunk=function(kt,St,Dt){var Nt=kt&&kt.length,_t=this._chunkSize-this._offset,at=0,Bt=this,Vt=typeof Dt=="function";if(!Vt){var Qt,or=[],ar=0;this.on("error",function(It){Qt=It}),$(this._handle,"zlib binding closed");do var qt=this._handle.writeSync(St,kt,at,Nt,this._buffer,this._offset,_t);while(!this._hadError&&At(qt[0],qt[1]));if(this._hadError)throw Qt;if(ar>=et)throw jt(this),new RangeError(ut);var Gt=d.concat(or,ar);return jt(this),Gt}$(this._handle,"zlib binding closed");var vt=this._handle.write(St,kt,at,Nt,this._buffer,this._offset,_t);function At(It,Ht){if(this&&(this.buffer=null,this.callback=null),!Bt._hadError){var Zt=_t-Ht;if($(Zt>=0,"have should not go down"),Zt>0){var rr=Bt._buffer.slice(Bt._offset,Bt._offset+Zt);Bt._offset+=Zt,Vt?Bt.push(rr):(or.push(rr),ar+=rr.length)}if((Ht===0||Bt._offset>=Bt._chunkSize)&&(_t=Bt._chunkSize,Bt._offset=0,Bt._buffer=d.allocUnsafe(Bt._chunkSize)),Ht===0){if(at+=Nt-It,Nt=It,!Vt)return!0;var pr=Bt._handle.write(St,kt,at,Nt,Bt._buffer,Bt._offset,Bt._chunkSize);return pr.callback=At,void(pr.buffer=kt)}if(!Vt)return!1;Dt()}}vt.buffer=kt,vt.callback=At},s.inherits(Ct,mt),s.inherits(ct,mt),s.inherits(Lt,mt),s.inherits(Kt,mt),s.inherits(Yt,mt),s.inherits(pt,mt),s.inherits(dt,mt)}).call(this,o(2))},function(e,i,o){e.exports=d;var c=o(18).EventEmitter;function d(){c.call(this)}o(6)(d,c),d.Readable=o(28),d.Writable=o(71),d.Duplex=o(165),d.Transform=o(166),d.PassThrough=o(167),d.Stream=d,d.prototype.pipe=function(j,Z){var s=this;function $(yt){j.writable&&j.write(yt)===!1&&s.pause&&s.pause()}function et(){s.readable&&s.resume&&s.resume()}s.on("data",$),j.on("drain",et),j._isStdio||Z&&Z.end===!1||(s.on("end",gt),s.on("close",lt));var ut=!1;function gt(){ut||(ut=!0,j.end())}function lt(){ut||(ut=!0,typeof j.destroy=="function"&&j.destroy())}function ft(yt){if(ot(),c.listenerCount(this,"error")===0)throw yt}function ot(){s.removeListener("data",$),j.removeListener("drain",et),s.removeListener("end",gt),s.removeListener("close",lt),s.removeListener("error",ft),j.removeListener("error",ft),s.removeListener("end",ot),s.removeListener("close",ot),j.removeListener("close",ot)}return s.on("error",ft),j.on("error",ft),s.on("end",ot),s.on("close",ot),j.on("close",ot),j.emit("pipe",s),j}},function(e,i){},function(e,i,o){var c=o(43).Buffer,d=o(163);e.exports=function(){function j(){(function(Z,s){if(!(Z instanceof s))throw new TypeError("Cannot call a class as a function")})(this,j),this.head=null,this.tail=null,this.length=0}return j.prototype.push=function(Z){var s={data:Z,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},j.prototype.unshift=function(Z){var s={data:Z,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},j.prototype.shift=function(){if(this.length!==0){var Z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Z}},j.prototype.clear=function(){this.head=this.tail=null,this.length=0},j.prototype.join=function(Z){if(this.length===0)return"";for(var s=this.head,$=""+s.data;s=s.next;)$+=Z+s.data;return $},j.prototype.concat=function(Z){if(this.length===0)return c.alloc(0);if(this.length===1)return this.head.data;for(var s,$,et=c.allocUnsafe(Z>>>0),ut=this.head,gt=0;ut;)s=et,$=gt,ut.data.copy(s,$),gt+=ut.data.length,ut=ut.next;return et},j}(),d&&d.inspect&&d.inspect.custom&&(e.exports.prototype[d.inspect.custom]=function(){var j=d.inspect({length:this.length});return this.constructor.name+" "+j})},function(e,i){},function(e,i,o){e.exports=j;var c=o(70),d=o(14);function j(Z){if(!(this instanceof j))return new j(Z);c.call(this,Z)}d.inherits=o(6),d.inherits(j,c),j.prototype._transform=function(Z,s,$){$(null,Z)}},function(e,i,o){e.exports=o(20)},function(e,i,o){e.exports=o(28).Transform},function(e,i,o){e.exports=o(28).PassThrough},function(e,i,o){(function(c,d){var j=o(72),Z=o(170),s=o(171),$=o(174),et=o(177);for(var ut in et)i[ut]=et[ut];function gt(lt){if(typeof lt!="number"||lt<i.DEFLATE||lt>i.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=lt,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}i.NONE=0,i.DEFLATE=1,i.INFLATE=2,i.GZIP=3,i.GUNZIP=4,i.DEFLATERAW=5,i.INFLATERAW=6,i.UNZIP=7,gt.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,j(this.init_done,"close before init"),j(this.mode<=i.UNZIP),this.mode===i.DEFLATE||this.mode===i.GZIP||this.mode===i.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==i.INFLATE&&this.mode!==i.GUNZIP&&this.mode!==i.INFLATERAW&&this.mode!==i.UNZIP||$.inflateEnd(this.strm),this.mode=i.NONE,this.dictionary=null)},gt.prototype.write=function(lt,ft,ot,yt,wt,Rt,Mt){return this._write(!0,lt,ft,ot,yt,wt,Rt,Mt)},gt.prototype.writeSync=function(lt,ft,ot,yt,wt,Rt,Mt){return this._write(!1,lt,ft,ot,yt,wt,Rt,Mt)},gt.prototype._write=function(lt,ft,ot,yt,wt,Rt,Mt,Tt){if(j.equal(arguments.length,8),j(this.init_done,"write before init"),j(this.mode!==i.NONE,"already finalized"),j.equal(!1,this.write_in_progress,"write already in progress"),j.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,j.equal(!1,ft===void 0,"must provide flush value"),this.write_in_progress=!0,ft!==i.Z_NO_FLUSH&&ft!==i.Z_PARTIAL_FLUSH&&ft!==i.Z_SYNC_FLUSH&&ft!==i.Z_FULL_FLUSH&&ft!==i.Z_FINISH&&ft!==i.Z_BLOCK)throw new Error("Invalid flush value");if(ot==null&&(ot=c.alloc(0),wt=0,yt=0),this.strm.avail_in=wt,this.strm.input=ot,this.strm.next_in=yt,this.strm.avail_out=Tt,this.strm.output=Rt,this.strm.next_out=Mt,this.flush=ft,!lt)return this._process(),this._checkError()?this._afterSync():void 0;var Ct=this;return d.nextTick(function(){Ct._process(),Ct._after()}),this},gt.prototype._afterSync=function(){var lt=this.strm.avail_out,ft=this.strm.avail_in;return this.write_in_progress=!1,[ft,lt]},gt.prototype._process=function(){var lt=null;switch(this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case i.UNZIP:switch(this.strm.avail_in>0&&(lt=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(lt===null)break;if(this.strm.input[lt]!==31){this.mode=i.INFLATE;break}if(this.gzip_id_bytes_read=1,lt++,this.strm.avail_in===1)break;case 1:if(lt===null)break;this.strm.input[lt]===139?(this.gzip_id_bytes_read=2,this.mode=i.GUNZIP):this.mode=i.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:for(this.err=$.inflate(this.strm,this.flush),this.err===i.Z_NEED_DICT&&this.dictionary&&(this.err=$.inflateSetDictionary(this.strm,this.dictionary),this.err===i.Z_OK?this.err=$.inflate(this.strm,this.flush):this.err===i.Z_DATA_ERROR&&(this.err=i.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===i.GUNZIP&&this.err===i.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=$.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},gt.prototype._checkError=function(){switch(this.err){case i.Z_OK:case i.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===i.Z_FINISH)return this._error("unexpected end of file"),!1;break;case i.Z_STREAM_END:break;case i.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},gt.prototype._after=function(){if(this._checkError()){var lt=this.strm.avail_out,ft=this.strm.avail_in;this.write_in_progress=!1,this.callback(ft,lt),this.pending_close&&this.close()}},gt.prototype._error=function(lt){this.strm.msg&&(lt=this.strm.msg),this.onerror(lt,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},gt.prototype.init=function(lt,ft,ot,yt,wt){j(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),j(lt>=8&&lt<=15,"invalid windowBits"),j(ft>=-1&&ft<=9,"invalid compression level"),j(ot>=1&&ot<=9,"invalid memlevel"),j(yt===i.Z_FILTERED||yt===i.Z_HUFFMAN_ONLY||yt===i.Z_RLE||yt===i.Z_FIXED||yt===i.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ft,lt,ot,yt,wt),this._setDictionary()},gt.prototype.params=function(){throw new Error("deflateParams Not supported")},gt.prototype.reset=function(){this._reset(),this._setDictionary()},gt.prototype._init=function(lt,ft,ot,yt,wt){switch(this.level=lt,this.windowBits=ft,this.memLevel=ot,this.strategy=yt,this.flush=i.Z_NO_FLUSH,this.err=i.Z_OK,this.mode!==i.GZIP&&this.mode!==i.GUNZIP||(this.windowBits+=16),this.mode===i.UNZIP&&(this.windowBits+=32),this.mode!==i.DEFLATERAW&&this.mode!==i.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new Z,this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,i.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:case i.UNZIP:this.err=$.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==i.Z_OK&&this._error("Init error"),this.dictionary=wt,this.write_in_progress=!1,this.init_done=!0},gt.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=i.Z_OK,this.mode){case i.DEFLATE:case i.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==i.Z_OK&&this._error("Failed to set dictionary")}},gt.prototype._reset=function(){switch(this.err=i.Z_OK,this.mode){case i.DEFLATE:case i.DEFLATERAW:case i.GZIP:this.err=s.deflateReset(this.strm);break;case i.INFLATE:case i.INFLATERAW:case i.GUNZIP:this.err=$.inflateReset(this.strm)}this.err!==i.Z_OK&&this._error("Failed to reset stream")},i.Zlib=gt}).call(this,o(4).Buffer,o(2))},function(e,i,o){var c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;function Z(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}e.exports=function(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var $={},et=0;et<10;et++)$["_"+String.fromCharCode(et)]=et;if(Object.getOwnPropertyNames($).map(function(gt){return $[gt]}).join("")!=="0123456789")return!1;var ut={};return"abcdefghijklmnopqrst".split("").forEach(function(gt){ut[gt]=gt}),Object.keys(Object.assign({},ut)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(s,$){for(var et,ut,gt=Z(s),lt=1;lt<arguments.length;lt++){for(var ft in et=Object(arguments[lt]))d.call(et,ft)&&(gt[ft]=et[ft]);if(c){ut=c(et);for(var ot=0;ot<ut.length;ot++)j.call(et,ut[ot])&&(gt[ut[ot]]=et[ut[ot]])}}return gt}},function(e,i,o){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,i,o){var c,d=o(33),j=o(172),Z=o(73),s=o(74),$=o(173);function et(pt,dt){return pt.msg=$[dt],dt}function ut(pt){return(pt<<1)-(pt>4?9:0)}function gt(pt){for(var dt=pt.length;--dt>=0;)pt[dt]=0}function lt(pt){var dt=pt.state,bt=dt.pending;bt>pt.avail_out&&(bt=pt.avail_out),bt!==0&&(d.arraySet(pt.output,dt.pending_buf,dt.pending_out,bt,pt.next_out),pt.next_out+=bt,dt.pending_out+=bt,pt.total_out+=bt,pt.avail_out-=bt,dt.pending-=bt,dt.pending===0&&(dt.pending_out=0))}function ft(pt,dt){j._tr_flush_block(pt,pt.block_start>=0?pt.block_start:-1,pt.strstart-pt.block_start,dt),pt.block_start=pt.strstart,lt(pt.strm)}function ot(pt,dt){pt.pending_buf[pt.pending++]=dt}function yt(pt,dt){pt.pending_buf[pt.pending++]=dt>>>8&255,pt.pending_buf[pt.pending++]=255&dt}function wt(pt,dt){var bt,mt,jt=pt.max_chain_length,zt=pt.strstart,kt=pt.prev_length,St=pt.nice_match,Dt=pt.strstart>pt.w_size-262?pt.strstart-(pt.w_size-262):0,Nt=pt.window,_t=pt.w_mask,at=pt.prev,Bt=pt.strstart+258,Vt=Nt[zt+kt-1],Qt=Nt[zt+kt];pt.prev_length>=pt.good_match&&(jt>>=2),St>pt.lookahead&&(St=pt.lookahead);do if(Nt[(bt=dt)+kt]===Qt&&Nt[bt+kt-1]===Vt&&Nt[bt]===Nt[zt]&&Nt[++bt]===Nt[zt+1]){zt+=2,bt++;do;while(Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&zt<Bt);if(mt=258-(Bt-zt),zt=Bt-258,mt>kt){if(pt.match_start=dt,kt=mt,mt>=St)break;Vt=Nt[zt+kt-1],Qt=Nt[zt+kt]}}while((dt=at[dt&_t])>Dt&&--jt!=0);return kt<=pt.lookahead?kt:pt.lookahead}function Rt(pt){var dt,bt,mt,jt,zt,kt,St,Dt,Nt,_t,at=pt.w_size;do{if(jt=pt.window_size-pt.lookahead-pt.strstart,pt.strstart>=at+(at-262)){d.arraySet(pt.window,pt.window,at,at,0),pt.match_start-=at,pt.strstart-=at,pt.block_start-=at,dt=bt=pt.hash_size;do mt=pt.head[--dt],pt.head[dt]=mt>=at?mt-at:0;while(--bt);dt=bt=at;do mt=pt.prev[--dt],pt.prev[dt]=mt>=at?mt-at:0;while(--bt);jt+=at}if(pt.strm.avail_in===0)break;if(kt=pt.strm,St=pt.window,Dt=pt.strstart+pt.lookahead,Nt=jt,_t=void 0,(_t=kt.avail_in)>Nt&&(_t=Nt),bt=_t===0?0:(kt.avail_in-=_t,d.arraySet(St,kt.input,kt.next_in,_t,Dt),kt.state.wrap===1?kt.adler=Z(kt.adler,St,_t,Dt):kt.state.wrap===2&&(kt.adler=s(kt.adler,St,_t,Dt)),kt.next_in+=_t,kt.total_in+=_t,_t),pt.lookahead+=bt,pt.lookahead+pt.insert>=3)for(zt=pt.strstart-pt.insert,pt.ins_h=pt.window[zt],pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[zt+1])&pt.hash_mask;pt.insert&&(pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[zt+3-1])&pt.hash_mask,pt.prev[zt&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=zt,zt++,pt.insert--,!(pt.lookahead+pt.insert<3)););}while(pt.lookahead<262&&pt.strm.avail_in!==0)}function Mt(pt,dt){for(var bt,mt;;){if(pt.lookahead<262){if(Rt(pt),pt.lookahead<262&&dt===0)return 1;if(pt.lookahead===0)break}if(bt=0,pt.lookahead>=3&&(pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+3-1])&pt.hash_mask,bt=pt.prev[pt.strstart&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=pt.strstart),bt!==0&&pt.strstart-bt<=pt.w_size-262&&(pt.match_length=wt(pt,bt)),pt.match_length>=3)if(mt=j._tr_tally(pt,pt.strstart-pt.match_start,pt.match_length-3),pt.lookahead-=pt.match_length,pt.match_length<=pt.max_lazy_match&&pt.lookahead>=3){pt.match_length--;do pt.strstart++,pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+3-1])&pt.hash_mask,bt=pt.prev[pt.strstart&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=pt.strstart;while(--pt.match_length!=0);pt.strstart++}else pt.strstart+=pt.match_length,pt.match_length=0,pt.ins_h=pt.window[pt.strstart],pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+1])&pt.hash_mask;else mt=j._tr_tally(pt,0,pt.window[pt.strstart]),pt.lookahead--,pt.strstart++;if(mt&&(ft(pt,!1),pt.strm.avail_out===0))return 1}return pt.insert=pt.strstart<2?pt.strstart:2,dt===4?(ft(pt,!0),pt.strm.avail_out===0?3:4):pt.last_lit&&(ft(pt,!1),pt.strm.avail_out===0)?1:2}function Tt(pt,dt){for(var bt,mt,jt;;){if(pt.lookahead<262){if(Rt(pt),pt.lookahead<262&&dt===0)return 1;if(pt.lookahead===0)break}if(bt=0,pt.lookahead>=3&&(pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+3-1])&pt.hash_mask,bt=pt.prev[pt.strstart&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=pt.strstart),pt.prev_length=pt.match_length,pt.prev_match=pt.match_start,pt.match_length=2,bt!==0&&pt.prev_length<pt.max_lazy_match&&pt.strstart-bt<=pt.w_size-262&&(pt.match_length=wt(pt,bt),pt.match_length<=5&&(pt.strategy===1||pt.match_length===3&&pt.strstart-pt.match_start>4096)&&(pt.match_length=2)),pt.prev_length>=3&&pt.match_length<=pt.prev_length){jt=pt.strstart+pt.lookahead-3,mt=j._tr_tally(pt,pt.strstart-1-pt.prev_match,pt.prev_length-3),pt.lookahead-=pt.prev_length-1,pt.prev_length-=2;do++pt.strstart<=jt&&(pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+3-1])&pt.hash_mask,bt=pt.prev[pt.strstart&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=pt.strstart);while(--pt.prev_length!=0);if(pt.match_available=0,pt.match_length=2,pt.strstart++,mt&&(ft(pt,!1),pt.strm.avail_out===0))return 1}else if(pt.match_available){if((mt=j._tr_tally(pt,0,pt.window[pt.strstart-1]))&&ft(pt,!1),pt.strstart++,pt.lookahead--,pt.strm.avail_out===0)return 1}else pt.match_available=1,pt.strstart++,pt.lookahead--}return pt.match_available&&(mt=j._tr_tally(pt,0,pt.window[pt.strstart-1]),pt.match_available=0),pt.insert=pt.strstart<2?pt.strstart:2,dt===4?(ft(pt,!0),pt.strm.avail_out===0?3:4):pt.last_lit&&(ft(pt,!1),pt.strm.avail_out===0)?1:2}function Ct(pt,dt,bt,mt,jt){this.good_length=pt,this.max_lazy=dt,this.nice_length=bt,this.max_chain=mt,this.func=jt}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(1146),this.dyn_dtree=new d.Buf16(122),this.bl_tree=new d.Buf16(78),gt(this.dyn_ltree),gt(this.dyn_dtree),gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(16),this.heap=new d.Buf16(573),gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(573),gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Lt(pt){var dt;return pt&&pt.state?(pt.total_in=pt.total_out=0,pt.data_type=2,(dt=pt.state).pending=0,dt.pending_out=0,dt.wrap<0&&(dt.wrap=-dt.wrap),dt.status=dt.wrap?42:113,pt.adler=dt.wrap===2?0:1,dt.last_flush=0,j._tr_init(dt),0):et(pt,-2)}function Kt(pt){var dt,bt=Lt(pt);return bt===0&&((dt=pt.state).window_size=2*dt.w_size,gt(dt.head),dt.max_lazy_match=c[dt.level].max_lazy,dt.good_match=c[dt.level].good_length,dt.nice_match=c[dt.level].nice_length,dt.max_chain_length=c[dt.level].max_chain,dt.strstart=0,dt.block_start=0,dt.lookahead=0,dt.insert=0,dt.match_length=dt.prev_length=2,dt.match_available=0,dt.ins_h=0),bt}function Yt(pt,dt,bt,mt,jt,zt){if(!pt)return-2;var kt=1;if(dt===-1&&(dt=6),mt<0?(kt=0,mt=-mt):mt>15&&(kt=2,mt-=16),jt<1||jt>9||bt!==8||mt<8||mt>15||dt<0||dt>9||zt<0||zt>4)return et(pt,-2);mt===8&&(mt=9);var St=new ct;return pt.state=St,St.strm=pt,St.wrap=kt,St.gzhead=null,St.w_bits=mt,St.w_size=1<<St.w_bits,St.w_mask=St.w_size-1,St.hash_bits=jt+7,St.hash_size=1<<St.hash_bits,St.hash_mask=St.hash_size-1,St.hash_shift=~~((St.hash_bits+3-1)/3),St.window=new d.Buf8(2*St.w_size),St.head=new d.Buf16(St.hash_size),St.prev=new d.Buf16(St.w_size),St.lit_bufsize=1<<jt+6,St.pending_buf_size=4*St.lit_bufsize,St.pending_buf=new d.Buf8(St.pending_buf_size),St.d_buf=1*St.lit_bufsize,St.l_buf=3*St.lit_bufsize,St.level=dt,St.strategy=zt,St.method=bt,Kt(pt)}c=[new Ct(0,0,0,0,function(pt,dt){var bt=65535;for(bt>pt.pending_buf_size-5&&(bt=pt.pending_buf_size-5);;){if(pt.lookahead<=1){if(Rt(pt),pt.lookahead===0&&dt===0)return 1;if(pt.lookahead===0)break}pt.strstart+=pt.lookahead,pt.lookahead=0;var mt=pt.block_start+bt;if((pt.strstart===0||pt.strstart>=mt)&&(pt.lookahead=pt.strstart-mt,pt.strstart=mt,ft(pt,!1),pt.strm.avail_out===0)||pt.strstart-pt.block_start>=pt.w_size-262&&(ft(pt,!1),pt.strm.avail_out===0))return 1}return pt.insert=0,dt===4?(ft(pt,!0),pt.strm.avail_out===0?3:4):(pt.strstart>pt.block_start&&(ft(pt,!1),pt.strm.avail_out),1)}),new Ct(4,4,8,4,Mt),new Ct(4,5,16,8,Mt),new Ct(4,6,32,32,Mt),new Ct(4,4,16,16,Tt),new Ct(8,16,32,32,Tt),new Ct(8,16,128,128,Tt),new Ct(8,32,128,256,Tt),new Ct(32,128,258,1024,Tt),new Ct(32,258,258,4096,Tt)],i.deflateInit=function(pt,dt){return Yt(pt,dt,8,15,8,0)},i.deflateInit2=Yt,i.deflateReset=Kt,i.deflateResetKeep=Lt,i.deflateSetHeader=function(pt,dt){return pt&&pt.state?pt.state.wrap!==2?-2:(pt.state.gzhead=dt,0):-2},i.deflate=function(pt,dt){var bt,mt,jt,zt;if(!pt||!pt.state||dt>5||dt<0)return pt?et(pt,-2):-2;if(mt=pt.state,!pt.output||!pt.input&&pt.avail_in!==0||mt.status===666&&dt!==4)return et(pt,pt.avail_out===0?-5:-2);if(mt.strm=pt,bt=mt.last_flush,mt.last_flush=dt,mt.status===42)if(mt.wrap===2)pt.adler=0,ot(mt,31),ot(mt,139),ot(mt,8),mt.gzhead?(ot(mt,(mt.gzhead.text?1:0)+(mt.gzhead.hcrc?2:0)+(mt.gzhead.extra?4:0)+(mt.gzhead.name?8:0)+(mt.gzhead.comment?16:0)),ot(mt,255&mt.gzhead.time),ot(mt,mt.gzhead.time>>8&255),ot(mt,mt.gzhead.time>>16&255),ot(mt,mt.gzhead.time>>24&255),ot(mt,mt.level===9?2:mt.strategy>=2||mt.level<2?4:0),ot(mt,255&mt.gzhead.os),mt.gzhead.extra&&mt.gzhead.extra.length&&(ot(mt,255&mt.gzhead.extra.length),ot(mt,mt.gzhead.extra.length>>8&255)),mt.gzhead.hcrc&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending,0)),mt.gzindex=0,mt.status=69):(ot(mt,0),ot(mt,0),ot(mt,0),ot(mt,0),ot(mt,0),ot(mt,mt.level===9?2:mt.strategy>=2||mt.level<2?4:0),ot(mt,3),mt.status=113);else{var kt=8+(mt.w_bits-8<<4)<<8;kt|=(mt.strategy>=2||mt.level<2?0:mt.level<6?1:mt.level===6?2:3)<<6,mt.strstart!==0&&(kt|=32),kt+=31-kt%31,mt.status=113,yt(mt,kt),mt.strstart!==0&&(yt(mt,pt.adler>>>16),yt(mt,65535&pt.adler)),pt.adler=1}if(mt.status===69)if(mt.gzhead.extra){for(jt=mt.pending;mt.gzindex<(65535&mt.gzhead.extra.length)&&(mt.pending!==mt.pending_buf_size||(mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),lt(pt),jt=mt.pending,mt.pending!==mt.pending_buf_size));)ot(mt,255&mt.gzhead.extra[mt.gzindex]),mt.gzindex++;mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),mt.gzindex===mt.gzhead.extra.length&&(mt.gzindex=0,mt.status=73)}else mt.status=73;if(mt.status===73)if(mt.gzhead.name){jt=mt.pending;do{if(mt.pending===mt.pending_buf_size&&(mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),lt(pt),jt=mt.pending,mt.pending===mt.pending_buf_size)){zt=1;break}zt=mt.gzindex<mt.gzhead.name.length?255&mt.gzhead.name.charCodeAt(mt.gzindex++):0,ot(mt,zt)}while(zt!==0);mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),zt===0&&(mt.gzindex=0,mt.status=91)}else mt.status=91;if(mt.status===91)if(mt.gzhead.comment){jt=mt.pending;do{if(mt.pending===mt.pending_buf_size&&(mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),lt(pt),jt=mt.pending,mt.pending===mt.pending_buf_size)){zt=1;break}zt=mt.gzindex<mt.gzhead.comment.length?255&mt.gzhead.comment.charCodeAt(mt.gzindex++):0,ot(mt,zt)}while(zt!==0);mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),zt===0&&(mt.status=103)}else mt.status=103;if(mt.status===103&&(mt.gzhead.hcrc?(mt.pending+2>mt.pending_buf_size&&lt(pt),mt.pending+2<=mt.pending_buf_size&&(ot(mt,255&pt.adler),ot(mt,pt.adler>>8&255),pt.adler=0,mt.status=113)):mt.status=113),mt.pending!==0){if(lt(pt),pt.avail_out===0)return mt.last_flush=-1,0}else if(pt.avail_in===0&&ut(dt)<=ut(bt)&&dt!==4)return et(pt,-5);if(mt.status===666&&pt.avail_in!==0)return et(pt,-5);if(pt.avail_in!==0||mt.lookahead!==0||dt!==0&&mt.status!==666){var St=mt.strategy===2?function(Dt,Nt){for(var _t;;){if(Dt.lookahead===0&&(Rt(Dt),Dt.lookahead===0)){if(Nt===0)return 1;break}if(Dt.match_length=0,_t=j._tr_tally(Dt,0,Dt.window[Dt.strstart]),Dt.lookahead--,Dt.strstart++,_t&&(ft(Dt,!1),Dt.strm.avail_out===0))return 1}return Dt.insert=0,Nt===4?(ft(Dt,!0),Dt.strm.avail_out===0?3:4):Dt.last_lit&&(ft(Dt,!1),Dt.strm.avail_out===0)?1:2}(mt,dt):mt.strategy===3?function(Dt,Nt){for(var _t,at,Bt,Vt,Qt=Dt.window;;){if(Dt.lookahead<=258){if(Rt(Dt),Dt.lookahead<=258&&Nt===0)return 1;if(Dt.lookahead===0)break}if(Dt.match_length=0,Dt.lookahead>=3&&Dt.strstart>0&&(at=Qt[Bt=Dt.strstart-1])===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]){Vt=Dt.strstart+258;do;while(at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&Bt<Vt);Dt.match_length=258-(Vt-Bt),Dt.match_length>Dt.lookahead&&(Dt.match_length=Dt.lookahead)}if(Dt.match_length>=3?(_t=j._tr_tally(Dt,1,Dt.match_length-3),Dt.lookahead-=Dt.match_length,Dt.strstart+=Dt.match_length,Dt.match_length=0):(_t=j._tr_tally(Dt,0,Dt.window[Dt.strstart]),Dt.lookahead--,Dt.strstart++),_t&&(ft(Dt,!1),Dt.strm.avail_out===0))return 1}return Dt.insert=0,Nt===4?(ft(Dt,!0),Dt.strm.avail_out===0?3:4):Dt.last_lit&&(ft(Dt,!1),Dt.strm.avail_out===0)?1:2}(mt,dt):c[mt.level].func(mt,dt);if(St!==3&&St!==4||(mt.status=666),St===1||St===3)return pt.avail_out===0&&(mt.last_flush=-1),0;if(St===2&&(dt===1?j._tr_align(mt):dt!==5&&(j._tr_stored_block(mt,0,0,!1),dt===3&&(gt(mt.head),mt.lookahead===0&&(mt.strstart=0,mt.block_start=0,mt.insert=0))),lt(pt),pt.avail_out===0))return mt.last_flush=-1,0}return dt!==4?0:mt.wrap<=0?1:(mt.wrap===2?(ot(mt,255&pt.adler),ot(mt,pt.adler>>8&255),ot(mt,pt.adler>>16&255),ot(mt,pt.adler>>24&255),ot(mt,255&pt.total_in),ot(mt,pt.total_in>>8&255),ot(mt,pt.total_in>>16&255),ot(mt,pt.total_in>>24&255)):(yt(mt,pt.adler>>>16),yt(mt,65535&pt.adler)),lt(pt),mt.wrap>0&&(mt.wrap=-mt.wrap),mt.pending!==0?0:1)},i.deflateEnd=function(pt){var dt;return pt&&pt.state?(dt=pt.state.status)!==42&&dt!==69&&dt!==73&&dt!==91&&dt!==103&&dt!==113&&dt!==666?et(pt,-2):(pt.state=null,dt===113?et(pt,-3):0):-2},i.deflateSetDictionary=function(pt,dt){var bt,mt,jt,zt,kt,St,Dt,Nt,_t=dt.length;if(!pt||!pt.state||(zt=(bt=pt.state).wrap)===2||zt===1&&bt.status!==42||bt.lookahead)return-2;for(zt===1&&(pt.adler=Z(pt.adler,dt,_t,0)),bt.wrap=0,_t>=bt.w_size&&(zt===0&&(gt(bt.head),bt.strstart=0,bt.block_start=0,bt.insert=0),Nt=new d.Buf8(bt.w_size),d.arraySet(Nt,dt,_t-bt.w_size,bt.w_size,0),dt=Nt,_t=bt.w_size),kt=pt.avail_in,St=pt.next_in,Dt=pt.input,pt.avail_in=_t,pt.next_in=0,pt.input=dt,Rt(bt);bt.lookahead>=3;){mt=bt.strstart,jt=bt.lookahead-2;do bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[mt+3-1])&bt.hash_mask,bt.prev[mt&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=mt,mt++;while(--jt);bt.strstart=mt,bt.lookahead=2,Rt(bt)}return bt.strstart+=bt.lookahead,bt.block_start=bt.strstart,bt.insert=bt.lookahead,bt.lookahead=0,bt.match_length=bt.prev_length=2,bt.match_available=0,pt.next_in=St,pt.input=Dt,pt.avail_in=kt,bt.wrap=zt,0},i.deflateInfo="pako deflate (from Nodeca project)"},function(e,i,o){var c=o(33);function d(at){for(var Bt=at.length;--Bt>=0;)at[Bt]=0}var j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],et=new Array(576);d(et);var ut=new Array(60);d(ut);var gt=new Array(512);d(gt);var lt=new Array(256);d(lt);var ft=new Array(29);d(ft);var ot,yt,wt,Rt=new Array(30);function Mt(at,Bt,Vt,Qt,or){this.static_tree=at,this.extra_bits=Bt,this.extra_base=Vt,this.elems=Qt,this.max_length=or,this.has_stree=at&&at.length}function Tt(at,Bt){this.dyn_tree=at,this.max_code=0,this.stat_desc=Bt}function Ct(at){return at<256?gt[at]:gt[256+(at>>>7)]}function ct(at,Bt){at.pending_buf[at.pending++]=255&Bt,at.pending_buf[at.pending++]=Bt>>>8&255}function Lt(at,Bt,Vt){at.bi_valid>16-Vt?(at.bi_buf|=Bt<<at.bi_valid&65535,ct(at,at.bi_buf),at.bi_buf=Bt>>16-at.bi_valid,at.bi_valid+=Vt-16):(at.bi_buf|=Bt<<at.bi_valid&65535,at.bi_valid+=Vt)}function Kt(at,Bt,Vt){Lt(at,Vt[2*Bt],Vt[2*Bt+1])}function Yt(at,Bt){var Vt=0;do Vt|=1&at,at>>>=1,Vt<<=1;while(--Bt>0);return Vt>>>1}function pt(at,Bt,Vt){var Qt,or,ar=new Array(16),qt=0;for(Qt=1;Qt<=15;Qt++)ar[Qt]=qt=qt+Vt[Qt-1]<<1;for(or=0;or<=Bt;or++){var Gt=at[2*or+1];Gt!==0&&(at[2*or]=Yt(ar[Gt]++,Gt))}}function dt(at){var Bt;for(Bt=0;Bt<286;Bt++)at.dyn_ltree[2*Bt]=0;for(Bt=0;Bt<30;Bt++)at.dyn_dtree[2*Bt]=0;for(Bt=0;Bt<19;Bt++)at.bl_tree[2*Bt]=0;at.dyn_ltree[512]=1,at.opt_len=at.static_len=0,at.last_lit=at.matches=0}function bt(at){at.bi_valid>8?ct(at,at.bi_buf):at.bi_valid>0&&(at.pending_buf[at.pending++]=at.bi_buf),at.bi_buf=0,at.bi_valid=0}function mt(at,Bt,Vt,Qt){var or=2*Bt,ar=2*Vt;return at[or]<at[ar]||at[or]===at[ar]&&Qt[Bt]<=Qt[Vt]}function jt(at,Bt,Vt){for(var Qt=at.heap[Vt],or=Vt<<1;or<=at.heap_len&&(or<at.heap_len&&mt(Bt,at.heap[or+1],at.heap[or],at.depth)&&or++,!mt(Bt,Qt,at.heap[or],at.depth));)at.heap[Vt]=at.heap[or],Vt=or,or<<=1;at.heap[Vt]=Qt}function zt(at,Bt,Vt){var Qt,or,ar,qt,Gt=0;if(at.last_lit!==0)do Qt=at.pending_buf[at.d_buf+2*Gt]<<8|at.pending_buf[at.d_buf+2*Gt+1],or=at.pending_buf[at.l_buf+Gt],Gt++,Qt===0?Kt(at,or,Bt):(Kt(at,(ar=lt[or])+256+1,Bt),(qt=j[ar])!==0&&Lt(at,or-=ft[ar],qt),Kt(at,ar=Ct(--Qt),Vt),(qt=Z[ar])!==0&&Lt(at,Qt-=Rt[ar],qt));while(Gt<at.last_lit);Kt(at,256,Bt)}function kt(at,Bt){var Vt,Qt,or,ar=Bt.dyn_tree,qt=Bt.stat_desc.static_tree,Gt=Bt.stat_desc.has_stree,vt=Bt.stat_desc.elems,At=-1;for(at.heap_len=0,at.heap_max=573,Vt=0;Vt<vt;Vt++)ar[2*Vt]!==0?(at.heap[++at.heap_len]=At=Vt,at.depth[Vt]=0):ar[2*Vt+1]=0;for(;at.heap_len<2;)ar[2*(or=at.heap[++at.heap_len]=At<2?++At:0)]=1,at.depth[or]=0,at.opt_len--,Gt&&(at.static_len-=qt[2*or+1]);for(Bt.max_code=At,Vt=at.heap_len>>1;Vt>=1;Vt--)jt(at,ar,Vt);or=vt;do Vt=at.heap[1],at.heap[1]=at.heap[at.heap_len--],jt(at,ar,1),Qt=at.heap[1],at.heap[--at.heap_max]=Vt,at.heap[--at.heap_max]=Qt,ar[2*or]=ar[2*Vt]+ar[2*Qt],at.depth[or]=(at.depth[Vt]>=at.depth[Qt]?at.depth[Vt]:at.depth[Qt])+1,ar[2*Vt+1]=ar[2*Qt+1]=or,at.heap[1]=or++,jt(at,ar,1);while(at.heap_len>=2);at.heap[--at.heap_max]=at.heap[1],function(It,Ht){var Zt,rr,pr,_r,ir,cr,mr=Ht.dyn_tree,Cr=Ht.max_code,Mr=Ht.stat_desc.static_tree,Yr=Ht.stat_desc.has_stree,an=Ht.stat_desc.extra_bits,dn=Ht.stat_desc.extra_base,rn=Ht.stat_desc.max_length,tn=0;for(_r=0;_r<=15;_r++)It.bl_count[_r]=0;for(mr[2*It.heap[It.heap_max]+1]=0,Zt=It.heap_max+1;Zt<573;Zt++)(_r=mr[2*mr[2*(rr=It.heap[Zt])+1]+1]+1)>rn&&(_r=rn,tn++),mr[2*rr+1]=_r,rr>Cr||(It.bl_count[_r]++,ir=0,rr>=dn&&(ir=an[rr-dn]),cr=mr[2*rr],It.opt_len+=cr*(_r+ir),Yr&&(It.static_len+=cr*(Mr[2*rr+1]+ir)));if(tn!==0){do{for(_r=rn-1;It.bl_count[_r]===0;)_r--;It.bl_count[_r]--,It.bl_count[_r+1]+=2,It.bl_count[rn]--,tn-=2}while(tn>0);for(_r=rn;_r!==0;_r--)for(rr=It.bl_count[_r];rr!==0;)(pr=It.heap[--Zt])>Cr||(mr[2*pr+1]!==_r&&(It.opt_len+=(_r-mr[2*pr+1])*mr[2*pr],mr[2*pr+1]=_r),rr--)}}(at,Bt),pt(ar,At,at.bl_count)}function St(at,Bt,Vt){var Qt,or,ar=-1,qt=Bt[1],Gt=0,vt=7,At=4;for(qt===0&&(vt=138,At=3),Bt[2*(Vt+1)+1]=65535,Qt=0;Qt<=Vt;Qt++)or=qt,qt=Bt[2*(Qt+1)+1],++Gt<vt&&or===qt||(Gt<At?at.bl_tree[2*or]+=Gt:or!==0?(or!==ar&&at.bl_tree[2*or]++,at.bl_tree[32]++):Gt<=10?at.bl_tree[34]++:at.bl_tree[36]++,Gt=0,ar=or,qt===0?(vt=138,At=3):or===qt?(vt=6,At=3):(vt=7,At=4))}function Dt(at,Bt,Vt){var Qt,or,ar=-1,qt=Bt[1],Gt=0,vt=7,At=4;for(qt===0&&(vt=138,At=3),Qt=0;Qt<=Vt;Qt++)if(or=qt,qt=Bt[2*(Qt+1)+1],!(++Gt<vt&&or===qt)){if(Gt<At)do Kt(at,or,at.bl_tree);while(--Gt!=0);else or!==0?(or!==ar&&(Kt(at,or,at.bl_tree),Gt--),Kt(at,16,at.bl_tree),Lt(at,Gt-3,2)):Gt<=10?(Kt(at,17,at.bl_tree),Lt(at,Gt-3,3)):(Kt(at,18,at.bl_tree),Lt(at,Gt-11,7));Gt=0,ar=or,qt===0?(vt=138,At=3):or===qt?(vt=6,At=3):(vt=7,At=4)}}d(Rt);var Nt=!1;function _t(at,Bt,Vt,Qt){var or,ar,qt;Lt(at,0+(Qt?1:0),3),ar=Bt,qt=Vt,bt(or=at),ct(or,qt),ct(or,~qt),c.arraySet(or.pending_buf,or.window,ar,qt,or.pending),or.pending+=qt}i._tr_init=function(at){Nt||(function(){var Bt,Vt,Qt,or,ar,qt=new Array(16);for(Qt=0,or=0;or<28;or++)for(ft[or]=Qt,Bt=0;Bt<1<<j[or];Bt++)lt[Qt++]=or;for(lt[Qt-1]=or,ar=0,or=0;or<16;or++)for(Rt[or]=ar,Bt=0;Bt<1<<Z[or];Bt++)gt[ar++]=or;for(ar>>=7;or<30;or++)for(Rt[or]=ar<<7,Bt=0;Bt<1<<Z[or]-7;Bt++)gt[256+ar++]=or;for(Vt=0;Vt<=15;Vt++)qt[Vt]=0;for(Bt=0;Bt<=143;)et[2*Bt+1]=8,Bt++,qt[8]++;for(;Bt<=255;)et[2*Bt+1]=9,Bt++,qt[9]++;for(;Bt<=279;)et[2*Bt+1]=7,Bt++,qt[7]++;for(;Bt<=287;)et[2*Bt+1]=8,Bt++,qt[8]++;for(pt(et,287,qt),Bt=0;Bt<30;Bt++)ut[2*Bt+1]=5,ut[2*Bt]=Yt(Bt,5);ot=new Mt(et,j,257,286,15),yt=new Mt(ut,Z,0,30,15),wt=new Mt(new Array(0),s,0,19,7)}(),Nt=!0),at.l_desc=new Tt(at.dyn_ltree,ot),at.d_desc=new Tt(at.dyn_dtree,yt),at.bl_desc=new Tt(at.bl_tree,wt),at.bi_buf=0,at.bi_valid=0,dt(at)},i._tr_stored_block=_t,i._tr_flush_block=function(at,Bt,Vt,Qt){var or,ar,qt=0;at.level>0?(at.strm.data_type===2&&(at.strm.data_type=function(Gt){var vt,At=4093624447;for(vt=0;vt<=31;vt++,At>>>=1)if(1&At&&Gt.dyn_ltree[2*vt]!==0)return 0;if(Gt.dyn_ltree[18]!==0||Gt.dyn_ltree[20]!==0||Gt.dyn_ltree[26]!==0)return 1;for(vt=32;vt<256;vt++)if(Gt.dyn_ltree[2*vt]!==0)return 1;return 0}(at)),kt(at,at.l_desc),kt(at,at.d_desc),qt=function(Gt){var vt;for(St(Gt,Gt.dyn_ltree,Gt.l_desc.max_code),St(Gt,Gt.dyn_dtree,Gt.d_desc.max_code),kt(Gt,Gt.bl_desc),vt=18;vt>=3&&Gt.bl_tree[2*$[vt]+1]===0;vt--);return Gt.opt_len+=3*(vt+1)+5+5+4,vt}(at),or=at.opt_len+3+7>>>3,(ar=at.static_len+3+7>>>3)<=or&&(or=ar)):or=ar=Vt+5,Vt+4<=or&&Bt!==-1?_t(at,Bt,Vt,Qt):at.strategy===4||ar===or?(Lt(at,2+(Qt?1:0),3),zt(at,et,ut)):(Lt(at,4+(Qt?1:0),3),function(Gt,vt,At,It){var Ht;for(Lt(Gt,vt-257,5),Lt(Gt,At-1,5),Lt(Gt,It-4,4),Ht=0;Ht<It;Ht++)Lt(Gt,Gt.bl_tree[2*$[Ht]+1],3);Dt(Gt,Gt.dyn_ltree,vt-1),Dt(Gt,Gt.dyn_dtree,At-1)}(at,at.l_desc.max_code+1,at.d_desc.max_code+1,qt+1),zt(at,at.dyn_ltree,at.dyn_dtree)),dt(at),Qt&&bt(at)},i._tr_tally=function(at,Bt,Vt){return at.pending_buf[at.d_buf+2*at.last_lit]=Bt>>>8&255,at.pending_buf[at.d_buf+2*at.last_lit+1]=255&Bt,at.pending_buf[at.l_buf+at.last_lit]=255&Vt,at.last_lit++,Bt===0?at.dyn_ltree[2*Vt]++:(at.matches++,Bt--,at.dyn_ltree[2*(lt[Vt]+256+1)]++,at.dyn_dtree[2*Ct(Bt)]++),at.last_lit===at.lit_bufsize-1},i._tr_align=function(at){var Bt;Lt(at,2,3),Kt(at,256,et),(Bt=at).bi_valid===16?(ct(Bt,Bt.bi_buf),Bt.bi_buf=0,Bt.bi_valid=0):Bt.bi_valid>=8&&(Bt.pending_buf[Bt.pending++]=255&Bt.bi_buf,Bt.bi_buf>>=8,Bt.bi_valid-=8)}},function(e,i,o){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,i,o){var c=o(33),d=o(73),j=o(74),Z=o(175),s=o(176);function $(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function et(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ut(Tt){var Ct;return Tt&&Tt.state?(Ct=Tt.state,Tt.total_in=Tt.total_out=Ct.total=0,Tt.msg="",Ct.wrap&&(Tt.adler=1&Ct.wrap),Ct.mode=1,Ct.last=0,Ct.havedict=0,Ct.dmax=32768,Ct.head=null,Ct.hold=0,Ct.bits=0,Ct.lencode=Ct.lendyn=new c.Buf32(852),Ct.distcode=Ct.distdyn=new c.Buf32(592),Ct.sane=1,Ct.back=-1,0):-2}function gt(Tt){var Ct;return Tt&&Tt.state?((Ct=Tt.state).wsize=0,Ct.whave=0,Ct.wnext=0,ut(Tt)):-2}function lt(Tt,Ct){var ct,Lt;return Tt&&Tt.state?(Lt=Tt.state,Ct<0?(ct=0,Ct=-Ct):(ct=1+(Ct>>4),Ct<48&&(Ct&=15)),Ct&&(Ct<8||Ct>15)?-2:(Lt.window!==null&&Lt.wbits!==Ct&&(Lt.window=null),Lt.wrap=ct,Lt.wbits=Ct,gt(Tt))):-2}function ft(Tt,Ct){var ct,Lt;return Tt?(Lt=new et,Tt.state=Lt,Lt.window=null,(ct=lt(Tt,Ct))!==0&&(Tt.state=null),ct):-2}var ot,yt,wt=!0;function Rt(Tt){if(wt){var Ct;for(ot=new c.Buf32(512),yt=new c.Buf32(32),Ct=0;Ct<144;)Tt.lens[Ct++]=8;for(;Ct<256;)Tt.lens[Ct++]=9;for(;Ct<280;)Tt.lens[Ct++]=7;for(;Ct<288;)Tt.lens[Ct++]=8;for(s(1,Tt.lens,0,288,ot,0,Tt.work,{bits:9}),Ct=0;Ct<32;)Tt.lens[Ct++]=5;s(2,Tt.lens,0,32,yt,0,Tt.work,{bits:5}),wt=!1}Tt.lencode=ot,Tt.lenbits=9,Tt.distcode=yt,Tt.distbits=5}function Mt(Tt,Ct,ct,Lt){var Kt,Yt=Tt.state;return Yt.window===null&&(Yt.wsize=1<<Yt.wbits,Yt.wnext=0,Yt.whave=0,Yt.window=new c.Buf8(Yt.wsize)),Lt>=Yt.wsize?(c.arraySet(Yt.window,Ct,ct-Yt.wsize,Yt.wsize,0),Yt.wnext=0,Yt.whave=Yt.wsize):((Kt=Yt.wsize-Yt.wnext)>Lt&&(Kt=Lt),c.arraySet(Yt.window,Ct,ct-Lt,Kt,Yt.wnext),(Lt-=Kt)?(c.arraySet(Yt.window,Ct,ct-Lt,Lt,0),Yt.wnext=Lt,Yt.whave=Yt.wsize):(Yt.wnext+=Kt,Yt.wnext===Yt.wsize&&(Yt.wnext=0),Yt.whave<Yt.wsize&&(Yt.whave+=Kt))),0}i.inflateReset=gt,i.inflateReset2=lt,i.inflateResetKeep=ut,i.inflateInit=function(Tt){return ft(Tt,15)},i.inflateInit2=ft,i.inflate=function(Tt,Ct){var ct,Lt,Kt,Yt,pt,dt,bt,mt,jt,zt,kt,St,Dt,Nt,_t,at,Bt,Vt,Qt,or,ar,qt,Gt,vt,At=0,It=new c.Buf8(4),Ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&Tt.avail_in!==0)return-2;(ct=Tt.state).mode===12&&(ct.mode=13),pt=Tt.next_out,Kt=Tt.output,bt=Tt.avail_out,Yt=Tt.next_in,Lt=Tt.input,dt=Tt.avail_in,mt=ct.hold,jt=ct.bits,zt=dt,kt=bt,qt=0;e:for(;;)switch(ct.mode){case 1:if(ct.wrap===0){ct.mode=13;break}for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(2&ct.wrap&&mt===35615){ct.check=0,It[0]=255&mt,It[1]=mt>>>8&255,ct.check=j(ct.check,It,2,0),mt=0,jt=0,ct.mode=2;break}if(ct.flags=0,ct.head&&(ct.head.done=!1),!(1&ct.wrap)||(((255&mt)<<8)+(mt>>8))%31){Tt.msg="incorrect header check",ct.mode=30;break}if((15&mt)!=8){Tt.msg="unknown compression method",ct.mode=30;break}if(jt-=4,ar=8+(15&(mt>>>=4)),ct.wbits===0)ct.wbits=ar;else if(ar>ct.wbits){Tt.msg="invalid window size",ct.mode=30;break}ct.dmax=1<<ar,Tt.adler=ct.check=1,ct.mode=512&mt?10:12,mt=0,jt=0;break;case 2:for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(ct.flags=mt,(255&ct.flags)!=8){Tt.msg="unknown compression method",ct.mode=30;break}if(57344&ct.flags){Tt.msg="unknown header flags set",ct.mode=30;break}ct.head&&(ct.head.text=mt>>8&1),512&ct.flags&&(It[0]=255&mt,It[1]=mt>>>8&255,ct.check=j(ct.check,It,2,0)),mt=0,jt=0,ct.mode=3;case 3:for(;jt<32;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.head&&(ct.head.time=mt),512&ct.flags&&(It[0]=255&mt,It[1]=mt>>>8&255,It[2]=mt>>>16&255,It[3]=mt>>>24&255,ct.check=j(ct.check,It,4,0)),mt=0,jt=0,ct.mode=4;case 4:for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.head&&(ct.head.xflags=255&mt,ct.head.os=mt>>8),512&ct.flags&&(It[0]=255&mt,It[1]=mt>>>8&255,ct.check=j(ct.check,It,2,0)),mt=0,jt=0,ct.mode=5;case 5:if(1024&ct.flags){for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.length=mt,ct.head&&(ct.head.extra_len=mt),512&ct.flags&&(It[0]=255&mt,It[1]=mt>>>8&255,ct.check=j(ct.check,It,2,0)),mt=0,jt=0}else ct.head&&(ct.head.extra=null);ct.mode=6;case 6:if(1024&ct.flags&&((St=ct.length)>dt&&(St=dt),St&&(ct.head&&(ar=ct.head.extra_len-ct.length,ct.head.extra||(ct.head.extra=new Array(ct.head.extra_len)),c.arraySet(ct.head.extra,Lt,Yt,St,ar)),512&ct.flags&&(ct.check=j(ct.check,Lt,St,Yt)),dt-=St,Yt+=St,ct.length-=St),ct.length))break e;ct.length=0,ct.mode=7;case 7:if(2048&ct.flags){if(dt===0)break e;St=0;do ar=Lt[Yt+St++],ct.head&&ar&&ct.length<65536&&(ct.head.name+=String.fromCharCode(ar));while(ar&&St<dt);if(512&ct.flags&&(ct.check=j(ct.check,Lt,St,Yt)),dt-=St,Yt+=St,ar)break e}else ct.head&&(ct.head.name=null);ct.length=0,ct.mode=8;case 8:if(4096&ct.flags){if(dt===0)break e;St=0;do ar=Lt[Yt+St++],ct.head&&ar&&ct.length<65536&&(ct.head.comment+=String.fromCharCode(ar));while(ar&&St<dt);if(512&ct.flags&&(ct.check=j(ct.check,Lt,St,Yt)),dt-=St,Yt+=St,ar)break e}else ct.head&&(ct.head.comment=null);ct.mode=9;case 9:if(512&ct.flags){for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(mt!==(65535&ct.check)){Tt.msg="header crc mismatch",ct.mode=30;break}mt=0,jt=0}ct.head&&(ct.head.hcrc=ct.flags>>9&1,ct.head.done=!0),Tt.adler=ct.check=0,ct.mode=12;break;case 10:for(;jt<32;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}Tt.adler=ct.check=$(mt),mt=0,jt=0,ct.mode=11;case 11:if(ct.havedict===0)return Tt.next_out=pt,Tt.avail_out=bt,Tt.next_in=Yt,Tt.avail_in=dt,ct.hold=mt,ct.bits=jt,2;Tt.adler=ct.check=1,ct.mode=12;case 12:if(Ct===5||Ct===6)break e;case 13:if(ct.last){mt>>>=7&jt,jt-=7&jt,ct.mode=27;break}for(;jt<3;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}switch(ct.last=1&mt,jt-=1,3&(mt>>>=1)){case 0:ct.mode=14;break;case 1:if(Rt(ct),ct.mode=20,Ct===6){mt>>>=2,jt-=2;break e}break;case 2:ct.mode=17;break;case 3:Tt.msg="invalid block type",ct.mode=30}mt>>>=2,jt-=2;break;case 14:for(mt>>>=7&jt,jt-=7&jt;jt<32;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if((65535&mt)!=(mt>>>16^65535)){Tt.msg="invalid stored block lengths",ct.mode=30;break}if(ct.length=65535&mt,mt=0,jt=0,ct.mode=15,Ct===6)break e;case 15:ct.mode=16;case 16:if(St=ct.length){if(St>dt&&(St=dt),St>bt&&(St=bt),St===0)break e;c.arraySet(Kt,Lt,Yt,St,pt),dt-=St,Yt+=St,bt-=St,pt+=St,ct.length-=St;break}ct.mode=12;break;case 17:for(;jt<14;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(ct.nlen=257+(31&mt),mt>>>=5,jt-=5,ct.ndist=1+(31&mt),mt>>>=5,jt-=5,ct.ncode=4+(15&mt),mt>>>=4,jt-=4,ct.nlen>286||ct.ndist>30){Tt.msg="too many length or distance symbols",ct.mode=30;break}ct.have=0,ct.mode=18;case 18:for(;ct.have<ct.ncode;){for(;jt<3;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.lens[Ht[ct.have++]]=7&mt,mt>>>=3,jt-=3}for(;ct.have<19;)ct.lens[Ht[ct.have++]]=0;if(ct.lencode=ct.lendyn,ct.lenbits=7,Gt={bits:ct.lenbits},qt=s(0,ct.lens,0,19,ct.lencode,0,ct.work,Gt),ct.lenbits=Gt.bits,qt){Tt.msg="invalid code lengths set",ct.mode=30;break}ct.have=0,ct.mode=19;case 19:for(;ct.have<ct.nlen+ct.ndist;){for(;at=(At=ct.lencode[mt&(1<<ct.lenbits)-1])>>>16&255,Bt=65535&At,!((_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(Bt<16)mt>>>=_t,jt-=_t,ct.lens[ct.have++]=Bt;else{if(Bt===16){for(vt=_t+2;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(mt>>>=_t,jt-=_t,ct.have===0){Tt.msg="invalid bit length repeat",ct.mode=30;break}ar=ct.lens[ct.have-1],St=3+(3&mt),mt>>>=2,jt-=2}else if(Bt===17){for(vt=_t+3;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}jt-=_t,ar=0,St=3+(7&(mt>>>=_t)),mt>>>=3,jt-=3}else{for(vt=_t+7;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}jt-=_t,ar=0,St=11+(127&(mt>>>=_t)),mt>>>=7,jt-=7}if(ct.have+St>ct.nlen+ct.ndist){Tt.msg="invalid bit length repeat",ct.mode=30;break}for(;St--;)ct.lens[ct.have++]=ar}}if(ct.mode===30)break;if(ct.lens[256]===0){Tt.msg="invalid code -- missing end-of-block",ct.mode=30;break}if(ct.lenbits=9,Gt={bits:ct.lenbits},qt=s(1,ct.lens,0,ct.nlen,ct.lencode,0,ct.work,Gt),ct.lenbits=Gt.bits,qt){Tt.msg="invalid literal/lengths set",ct.mode=30;break}if(ct.distbits=6,ct.distcode=ct.distdyn,Gt={bits:ct.distbits},qt=s(2,ct.lens,ct.nlen,ct.ndist,ct.distcode,0,ct.work,Gt),ct.distbits=Gt.bits,qt){Tt.msg="invalid distances set",ct.mode=30;break}if(ct.mode=20,Ct===6)break e;case 20:ct.mode=21;case 21:if(dt>=6&&bt>=258){Tt.next_out=pt,Tt.avail_out=bt,Tt.next_in=Yt,Tt.avail_in=dt,ct.hold=mt,ct.bits=jt,Z(Tt,kt),pt=Tt.next_out,Kt=Tt.output,bt=Tt.avail_out,Yt=Tt.next_in,Lt=Tt.input,dt=Tt.avail_in,mt=ct.hold,jt=ct.bits,ct.mode===12&&(ct.back=-1);break}for(ct.back=0;at=(At=ct.lencode[mt&(1<<ct.lenbits)-1])>>>16&255,Bt=65535&At,!((_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(at&&(240&at)==0){for(Vt=_t,Qt=at,or=Bt;at=(At=ct.lencode[or+((mt&(1<<Vt+Qt)-1)>>Vt)])>>>16&255,Bt=65535&At,!(Vt+(_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}mt>>>=Vt,jt-=Vt,ct.back+=Vt}if(mt>>>=_t,jt-=_t,ct.back+=_t,ct.length=Bt,at===0){ct.mode=26;break}if(32&at){ct.back=-1,ct.mode=12;break}if(64&at){Tt.msg="invalid literal/length code",ct.mode=30;break}ct.extra=15&at,ct.mode=22;case 22:if(ct.extra){for(vt=ct.extra;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.length+=mt&(1<<ct.extra)-1,mt>>>=ct.extra,jt-=ct.extra,ct.back+=ct.extra}ct.was=ct.length,ct.mode=23;case 23:for(;at=(At=ct.distcode[mt&(1<<ct.distbits)-1])>>>16&255,Bt=65535&At,!((_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if((240&at)==0){for(Vt=_t,Qt=at,or=Bt;at=(At=ct.distcode[or+((mt&(1<<Vt+Qt)-1)>>Vt)])>>>16&255,Bt=65535&At,!(Vt+(_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}mt>>>=Vt,jt-=Vt,ct.back+=Vt}if(mt>>>=_t,jt-=_t,ct.back+=_t,64&at){Tt.msg="invalid distance code",ct.mode=30;break}ct.offset=Bt,ct.extra=15&at,ct.mode=24;case 24:if(ct.extra){for(vt=ct.extra;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.offset+=mt&(1<<ct.extra)-1,mt>>>=ct.extra,jt-=ct.extra,ct.back+=ct.extra}if(ct.offset>ct.dmax){Tt.msg="invalid distance too far back",ct.mode=30;break}ct.mode=25;case 25:if(bt===0)break e;if(St=kt-bt,ct.offset>St){if((St=ct.offset-St)>ct.whave&&ct.sane){Tt.msg="invalid distance too far back",ct.mode=30;break}St>ct.wnext?(St-=ct.wnext,Dt=ct.wsize-St):Dt=ct.wnext-St,St>ct.length&&(St=ct.length),Nt=ct.window}else Nt=Kt,Dt=pt-ct.offset,St=ct.length;St>bt&&(St=bt),bt-=St,ct.length-=St;do Kt[pt++]=Nt[Dt++];while(--St);ct.length===0&&(ct.mode=21);break;case 26:if(bt===0)break e;Kt[pt++]=ct.length,bt--,ct.mode=21;break;case 27:if(ct.wrap){for(;jt<32;){if(dt===0)break e;dt--,mt|=Lt[Yt++]<<jt,jt+=8}if(kt-=bt,Tt.total_out+=kt,ct.total+=kt,kt&&(Tt.adler=ct.check=ct.flags?j(ct.check,Kt,kt,pt-kt):d(ct.check,Kt,kt,pt-kt)),kt=bt,(ct.flags?mt:$(mt))!==ct.check){Tt.msg="incorrect data check",ct.mode=30;break}mt=0,jt=0}ct.mode=28;case 28:if(ct.wrap&&ct.flags){for(;jt<32;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(mt!==(4294967295&ct.total)){Tt.msg="incorrect length check",ct.mode=30;break}mt=0,jt=0}ct.mode=29;case 29:qt=1;break e;case 30:qt=-3;break e;case 31:return-4;case 32:default:return-2}return Tt.next_out=pt,Tt.avail_out=bt,Tt.next_in=Yt,Tt.avail_in=dt,ct.hold=mt,ct.bits=jt,(ct.wsize||kt!==Tt.avail_out&&ct.mode<30&&(ct.mode<27||Ct!==4))&&Mt(Tt,Tt.output,Tt.next_out,kt-Tt.avail_out)?(ct.mode=31,-4):(zt-=Tt.avail_in,kt-=Tt.avail_out,Tt.total_in+=zt,Tt.total_out+=kt,ct.total+=kt,ct.wrap&&kt&&(Tt.adler=ct.check=ct.flags?j(ct.check,Kt,kt,Tt.next_out-kt):d(ct.check,Kt,kt,Tt.next_out-kt)),Tt.data_type=ct.bits+(ct.last?64:0)+(ct.mode===12?128:0)+(ct.mode===20||ct.mode===15?256:0),(zt===0&&kt===0||Ct===4)&&qt===0&&(qt=-5),qt)},i.inflateEnd=function(Tt){if(!Tt||!Tt.state)return-2;var Ct=Tt.state;return Ct.window&&(Ct.window=null),Tt.state=null,0},i.inflateGetHeader=function(Tt,Ct){var ct;return Tt&&Tt.state?(2&(ct=Tt.state).wrap)==0?-2:(ct.head=Ct,Ct.done=!1,0):-2},i.inflateSetDictionary=function(Tt,Ct){var ct,Lt=Ct.length;return Tt&&Tt.state?(ct=Tt.state).wrap!==0&&ct.mode!==11?-2:ct.mode===11&&d(1,Ct,Lt,0)!==ct.check?-3:Mt(Tt,Ct,Lt,Lt)?(ct.mode=31,-4):(ct.havedict=1,0):-2},i.inflateInfo="pako inflate (from Nodeca project)"},function(e,i,o){e.exports=function(c,d){var j,Z,s,$,et,ut,gt,lt,ft,ot,yt,wt,Rt,Mt,Tt,Ct,ct,Lt,Kt,Yt,pt,dt,bt,mt,jt;j=c.state,Z=c.next_in,mt=c.input,s=Z+(c.avail_in-5),$=c.next_out,jt=c.output,et=$-(d-c.avail_out),ut=$+(c.avail_out-257),gt=j.dmax,lt=j.wsize,ft=j.whave,ot=j.wnext,yt=j.window,wt=j.hold,Rt=j.bits,Mt=j.lencode,Tt=j.distcode,Ct=(1<<j.lenbits)-1,ct=(1<<j.distbits)-1;e:do{Rt<15&&(wt+=mt[Z++]<<Rt,Rt+=8,wt+=mt[Z++]<<Rt,Rt+=8),Lt=Mt[wt&Ct];t:for(;;){if(wt>>>=Kt=Lt>>>24,Rt-=Kt,(Kt=Lt>>>16&255)==0)jt[$++]=65535&Lt;else{if(!(16&Kt)){if((64&Kt)==0){Lt=Mt[(65535&Lt)+(wt&(1<<Kt)-1)];continue t}if(32&Kt){j.mode=12;break e}c.msg="invalid literal/length code",j.mode=30;break e}Yt=65535&Lt,(Kt&=15)&&(Rt<Kt&&(wt+=mt[Z++]<<Rt,Rt+=8),Yt+=wt&(1<<Kt)-1,wt>>>=Kt,Rt-=Kt),Rt<15&&(wt+=mt[Z++]<<Rt,Rt+=8,wt+=mt[Z++]<<Rt,Rt+=8),Lt=Tt[wt&ct];r:for(;;){if(wt>>>=Kt=Lt>>>24,Rt-=Kt,!(16&(Kt=Lt>>>16&255))){if((64&Kt)==0){Lt=Tt[(65535&Lt)+(wt&(1<<Kt)-1)];continue r}c.msg="invalid distance code",j.mode=30;break e}if(pt=65535&Lt,Rt<(Kt&=15)&&(wt+=mt[Z++]<<Rt,(Rt+=8)<Kt&&(wt+=mt[Z++]<<Rt,Rt+=8)),(pt+=wt&(1<<Kt)-1)>gt){c.msg="invalid distance too far back",j.mode=30;break e}if(wt>>>=Kt,Rt-=Kt,pt>(Kt=$-et)){if((Kt=pt-Kt)>ft&&j.sane){c.msg="invalid distance too far back",j.mode=30;break e}if(dt=0,bt=yt,ot===0){if(dt+=lt-Kt,Kt<Yt){Yt-=Kt;do jt[$++]=yt[dt++];while(--Kt);dt=$-pt,bt=jt}}else if(ot<Kt){if(dt+=lt+ot-Kt,(Kt-=ot)<Yt){Yt-=Kt;do jt[$++]=yt[dt++];while(--Kt);if(dt=0,ot<Yt){Yt-=Kt=ot;do jt[$++]=yt[dt++];while(--Kt);dt=$-pt,bt=jt}}}else if(dt+=ot-Kt,Kt<Yt){Yt-=Kt;do jt[$++]=yt[dt++];while(--Kt);dt=$-pt,bt=jt}for(;Yt>2;)jt[$++]=bt[dt++],jt[$++]=bt[dt++],jt[$++]=bt[dt++],Yt-=3;Yt&&(jt[$++]=bt[dt++],Yt>1&&(jt[$++]=bt[dt++]))}else{dt=$-pt;do jt[$++]=jt[dt++],jt[$++]=jt[dt++],jt[$++]=jt[dt++],Yt-=3;while(Yt>2);Yt&&(jt[$++]=jt[dt++],Yt>1&&(jt[$++]=jt[dt++]))}break}}break}}while(Z<s&&$<ut);Z-=Yt=Rt>>3,wt&=(1<<(Rt-=Yt<<3))-1,c.next_in=Z,c.next_out=$,c.avail_in=Z<s?s-Z+5:5-(Z-s),c.avail_out=$<ut?ut-$+257:257-($-ut),j.hold=wt,j.bits=Rt}},function(e,i,o){var c=o(33),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],j=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function($,et,ut,gt,lt,ft,ot,yt){var wt,Rt,Mt,Tt,Ct,ct,Lt,Kt,Yt,pt=yt.bits,dt=0,bt=0,mt=0,jt=0,zt=0,kt=0,St=0,Dt=0,Nt=0,_t=0,at=null,Bt=0,Vt=new c.Buf16(16),Qt=new c.Buf16(16),or=null,ar=0;for(dt=0;dt<=15;dt++)Vt[dt]=0;for(bt=0;bt<gt;bt++)Vt[et[ut+bt]]++;for(zt=pt,jt=15;jt>=1&&Vt[jt]===0;jt--);if(zt>jt&&(zt=jt),jt===0)return lt[ft++]=20971520,lt[ft++]=20971520,yt.bits=1,0;for(mt=1;mt<jt&&Vt[mt]===0;mt++);for(zt<mt&&(zt=mt),Dt=1,dt=1;dt<=15;dt++)if(Dt<<=1,(Dt-=Vt[dt])<0)return-1;if(Dt>0&&($===0||jt!==1))return-1;for(Qt[1]=0,dt=1;dt<15;dt++)Qt[dt+1]=Qt[dt]+Vt[dt];for(bt=0;bt<gt;bt++)et[ut+bt]!==0&&(ot[Qt[et[ut+bt]]++]=bt);if($===0?(at=or=ot,ct=19):$===1?(at=d,Bt-=257,or=j,ar-=257,ct=256):(at=Z,or=s,ct=-1),_t=0,bt=0,dt=mt,Ct=ft,kt=zt,St=0,Mt=-1,Tt=(Nt=1<<zt)-1,$===1&&Nt>852||$===2&&Nt>592)return 1;for(;;){Lt=dt-St,ot[bt]<ct?(Kt=0,Yt=ot[bt]):ot[bt]>ct?(Kt=or[ar+ot[bt]],Yt=at[Bt+ot[bt]]):(Kt=96,Yt=0),wt=1<<dt-St,mt=Rt=1<<kt;do lt[Ct+(_t>>St)+(Rt-=wt)]=Lt<<24|Kt<<16|Yt|0;while(Rt!==0);for(wt=1<<dt-1;_t&wt;)wt>>=1;if(wt!==0?(_t&=wt-1,_t+=wt):_t=0,bt++,--Vt[dt]==0){if(dt===jt)break;dt=et[ut+ot[bt]]}if(dt>zt&&(_t&Tt)!==Mt){for(St===0&&(St=zt),Ct+=mt,Dt=1<<(kt=dt-St);kt+St<jt&&!((Dt-=Vt[kt+St])<=0);)kt++,Dt<<=1;if(Nt+=1<<kt,$===1&&Nt>852||$===2&&Nt>592)return 1;lt[Mt=_t&Tt]=zt<<24|kt<<16|Ct-ft|0}}return _t!==0&&(lt[Ct+_t]=dt-St<<24|64<<16|0),yt.bits=zt,0}},function(e,i,o){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,i){},function(e,i,o){function c($,et){var ut=Object.keys($);if(Object.getOwnPropertySymbols){var gt=Object.getOwnPropertySymbols($);et&&(gt=gt.filter(function(lt){return Object.getOwnPropertyDescriptor($,lt).enumerable})),ut.push.apply(ut,gt)}return ut}function d($,et,ut){return et in $?Object.defineProperty($,et,{value:ut,enumerable:!0,configurable:!0,writable:!0}):$[et]=ut,$}var j=o(4).Buffer,Z=o(180).inspect,s=Z&&Z.custom||"inspect";e.exports=function(){function $(){(function(ut,gt){if(!(ut instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,$),this.head=null,this.tail=null,this.length=0}var et;return(et=[{key:"push",value:function(ut){var gt={data:ut,next:null};this.length>0?this.tail.next=gt:this.head=gt,this.tail=gt,++this.length}},{key:"unshift",value:function(ut){var gt={data:ut,next:this.head};this.length===0&&(this.tail=gt),this.head=gt,++this.length}},{key:"shift",value:function(){if(this.length!==0){var ut=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,ut}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(ut){if(this.length===0)return"";for(var gt=this.head,lt=""+gt.data;gt=gt.next;)lt+=ut+gt.data;return lt}},{key:"concat",value:function(ut){if(this.length===0)return j.alloc(0);for(var gt,lt,ft,ot=j.allocUnsafe(ut>>>0),yt=this.head,wt=0;yt;)gt=yt.data,lt=ot,ft=wt,j.prototype.copy.call(gt,lt,ft),wt+=yt.data.length,yt=yt.next;return ot}},{key:"consume",value:function(ut,gt){var lt;return ut<this.head.data.length?(lt=this.head.data.slice(0,ut),this.head.data=this.head.data.slice(ut)):lt=ut===this.head.data.length?this.shift():gt?this._getString(ut):this._getBuffer(ut),lt}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(ut){var gt=this.head,lt=1,ft=gt.data;for(ut-=ft.length;gt=gt.next;){var ot=gt.data,yt=ut>ot.length?ot.length:ut;if(yt===ot.length?ft+=ot:ft+=ot.slice(0,ut),(ut-=yt)==0){yt===ot.length?(++lt,gt.next?this.head=gt.next:this.head=this.tail=null):(this.head=gt,gt.data=ot.slice(yt));break}++lt}return this.length-=lt,ft}},{key:"_getBuffer",value:function(ut){var gt=j.allocUnsafe(ut),lt=this.head,ft=1;for(lt.data.copy(gt),ut-=lt.data.length;lt=lt.next;){var ot=lt.data,yt=ut>ot.length?ot.length:ut;if(ot.copy(gt,gt.length-ut,0,yt),(ut-=yt)==0){yt===ot.length?(++ft,lt.next?this.head=lt.next:this.head=this.tail=null):(this.head=lt,lt.data=ot.slice(yt));break}++ft}return this.length-=ft,gt}},{key:s,value:function(ut,gt){return Z(this,function(lt){for(var ft=1;ft<arguments.length;ft++){var ot=arguments[ft]!=null?arguments[ft]:{};ft%2?c(Object(ot),!0).forEach(function(yt){d(lt,yt,ot[yt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(lt,Object.getOwnPropertyDescriptors(ot)):c(Object(ot)).forEach(function(yt){Object.defineProperty(lt,yt,Object.getOwnPropertyDescriptor(ot,yt))})}return lt}({},gt,{depth:0,customInspect:!1}))}}])&&function(ut,gt){for(var lt=0;lt<gt.length;lt++){var ft=gt[lt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(ut,ft.key,ft)}}($.prototype,et),$}()},function(e,i){},function(e,i,o){(function(c){var d;function j(Tt,Ct,ct){return Ct in Tt?Object.defineProperty(Tt,Ct,{value:ct,enumerable:!0,configurable:!0,writable:!0}):Tt[Ct]=ct,Tt}var Z=o(45),s=Symbol("lastResolve"),$=Symbol("lastReject"),et=Symbol("error"),ut=Symbol("ended"),gt=Symbol("lastPromise"),lt=Symbol("handlePromise"),ft=Symbol("stream");function ot(Tt,Ct){return{value:Tt,done:Ct}}function yt(Tt){var Ct=Tt[s];if(Ct!==null){var ct=Tt[ft].read();ct!==null&&(Tt[gt]=null,Tt[s]=null,Tt[$]=null,Ct(ot(ct,!1)))}}function wt(Tt){c.nextTick(yt,Tt)}var Rt=Object.getPrototypeOf(function(){}),Mt=Object.setPrototypeOf((j(d={get stream(){return this[ft]},next:function(){var Tt=this,Ct=this[et];if(Ct!==null)return Promise.reject(Ct);if(this[ut])return Promise.resolve(ot(void 0,!0));if(this[ft].destroyed)return new Promise(function(dt,bt){c.nextTick(function(){Tt[et]?bt(Tt[et]):dt(ot(void 0,!0))})});var ct,Lt,Kt,Yt=this[gt];if(Yt)ct=new Promise((Lt=Yt,Kt=this,function(dt,bt){Lt.then(function(){Kt[ut]?dt(ot(void 0,!0)):Kt[lt](dt,bt)},bt)}));else{var pt=this[ft].read();if(pt!==null)return Promise.resolve(ot(pt,!1));ct=new Promise(this[lt])}return this[gt]=ct,ct}},Symbol.asyncIterator,function(){return this}),j(d,"return",function(){var Tt=this;return new Promise(function(Ct,ct){Tt[ft].destroy(null,function(Lt){Lt?ct(Lt):Ct(ot(void 0,!0))})})}),d),Rt);e.exports=function(Tt){var Ct,ct=Object.create(Mt,(j(Ct={},ft,{value:Tt,writable:!0}),j(Ct,s,{value:null,writable:!0}),j(Ct,$,{value:null,writable:!0}),j(Ct,et,{value:null,writable:!0}),j(Ct,ut,{value:Tt._readableState.endEmitted,writable:!0}),j(Ct,lt,{value:function(Lt,Kt){var Yt=ct[ft].read();Yt?(ct[gt]=null,ct[s]=null,ct[$]=null,Lt(ot(Yt,!1))):(ct[s]=Lt,ct[$]=Kt)},writable:!0}),Ct));return ct[gt]=null,Z(Tt,function(Lt){if(Lt&&Lt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Kt=ct[$];return Kt!==null&&(ct[gt]=null,ct[s]=null,ct[$]=null,Kt(Lt)),void(ct[et]=Lt)}var Yt=ct[s];Yt!==null&&(ct[gt]=null,ct[s]=null,ct[$]=null,Yt(ot(void 0,!0))),ct[ut]=!0}),Tt.on("readable",wt.bind(null,ct)),ct}}).call(this,o(2))},function(e,i){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,i,o){e.exports=d;var c=o(80);function d(j){if(!(this instanceof d))return new d(j);c.call(this,j)}o(6)(d,c),d.prototype._transform=function(j,Z,s){s(null,j)}},function(e,i,o){var c,d=o(24).codes,j=d.ERR_MISSING_ARGS,Z=d.ERR_STREAM_DESTROYED;function s(lt){if(lt)throw lt}function $(lt,ft,ot,yt){var wt,Rt;wt=yt,Rt=!1,yt=function(){Rt||(Rt=!0,wt.apply(void 0,arguments))};var Mt=!1;lt.on("close",function(){Mt=!0}),c===void 0&&(c=o(45)),c(lt,{readable:ft,writable:ot},function(Ct){if(Ct)return yt(Ct);Mt=!0,yt()});var Tt=!1;return function(Ct){if(!Mt&&!Tt)return Tt=!0,function(ct){return ct.setHeader&&typeof ct.abort=="function"}(lt)?lt.abort():typeof lt.destroy=="function"?lt.destroy():void yt(Ct||new Z("pipe"))}}function et(lt){lt()}function ut(lt,ft){return lt.pipe(ft)}function gt(lt){return lt.length?typeof lt[lt.length-1]!="function"?s:lt.pop():s}e.exports=function(){for(var lt=arguments.length,ft=new Array(lt),ot=0;ot<lt;ot++)ft[ot]=arguments[ot];var yt,wt=gt(ft);if(Array.isArray(ft[0])&&(ft=ft[0]),ft.length<2)throw new j("streams");var Rt=ft.map(function(Mt,Tt){var Ct=Tt<ft.length-1;return $(Mt,Ct,Tt>0,function(ct){yt||(yt=ct),ct&&Rt.forEach(et),Ct||(Rt.forEach(et),wt(yt))})});return ft.reduce(ut)}},function(e,i,o){var c=o(186)(function d(j,Z){return(Z=Z||{}).namespace=j,Z.prod=!0,Z.dev=!1,Z.force||d.force?d.yep(Z):d.nope(Z)});e.exports=c},function(e,i){var o=[],c=[],d=function(){};function j(ot){return!~o.indexOf(ot)&&(o.push(ot),!0)}function Z(ot){d=ot}function s(ot){for(var yt=[],wt=0;wt<o.length;wt++)if(o[wt].async)yt.push(o[wt]);else if(o[wt](ot))return!0;return!!yt.length&&new Promise(function(Rt){Promise.all(yt.map(function(Mt){return Mt(ot)})).then(function(Mt){Rt(Mt.some(Boolean))})})}function $(ot){return!~c.indexOf(ot)&&(c.push(ot),!0)}function et(){d.apply(d,arguments)}function ut(ot){for(var yt=0;yt<c.length;yt++)ot=c[yt].apply(c[yt],arguments);return ot}function gt(ot,yt){var wt=Object.prototype.hasOwnProperty;for(var Rt in yt)wt.call(yt,Rt)&&(ot[Rt]=yt[Rt]);return ot}function lt(ot){return ot.enabled=!1,ot.modify=$,ot.set=Z,ot.use=j,gt(function(){return!1},ot)}function ft(ot){return ot.enabled=!0,ot.modify=$,ot.set=Z,ot.use=j,gt(function(){var yt=Array.prototype.slice.call(arguments,0);return et.call(et,ot,ut(yt,ot)),!0},ot)}e.exports=function(ot){return ot.introduce=gt,ot.enabled=s,ot.process=ut,ot.modify=$,ot.write=et,ot.nope=lt,ot.yep=ft,ot.set=Z,ot.use=j,ot}},function(e,i,o){(function(c){var d=o(63),j=o(19).StringDecoder,Z=o(29).Stream;function s(){}e.exports=function($,et){var ut=c.alloc(65536),gt=new j("utf8"),lt=new Z,ft="",ot=0,yt=0;return $.start===-1&&delete $.start,lt.readable=!0,lt.destroy=function(){lt.destroyed=!0,lt.emit("end"),lt.emit("close")},d.open($.file,"a+","0644",function(wt,Rt){if(wt)return et?et(wt):lt.emit("error",wt),void lt.destroy();(function Mt(){if(!lt.destroyed)return d.read(Rt,ut,0,ut.length,ot,function(Tt,Ct){if(Tt)return et?et(Tt):lt.emit("error",Tt),void lt.destroy();if(!Ct)return ft&&(($.start==null||yt>$.start)&&(et?et(null,ft):lt.emit("line",ft)),yt++,ft=""),setTimeout(Mt,1e3);var ct=gt.write(ut.slice(0,Ct));et||lt.emit("data",ct);for(var Lt=(ct=(ft+ct).split(/\n+/)).length-1,Kt=0;Kt<Lt;Kt++)($.start==null||yt>$.start)&&(et?et(null,ct[Kt]):lt.emit("line",ct[Kt])),yt++;return ft=ct[Lt],ot+=Ct,Mt()});d.close(Rt,s)})()}),et?lt.destroy:lt}}).call(this,o(4).Buffer)},function(e,i,o){(function(c,d){function j(Rt){return(j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Mt){return typeof Mt}:function(Mt){return Mt&&typeof Symbol=="function"&&Mt.constructor===Symbol&&Mt!==Symbol.prototype?"symbol":typeof Mt})(Rt)}function Z(Rt,Mt){var Tt=Object.keys(Rt);if(Object.getOwnPropertySymbols){var Ct=Object.getOwnPropertySymbols(Rt);Mt&&(Ct=Ct.filter(function(ct){return Object.getOwnPropertyDescriptor(Rt,ct).enumerable})),Tt.push.apply(Tt,Ct)}return Tt}function s(Rt){for(var Mt=1;Mt<arguments.length;Mt++){var Tt=arguments[Mt]!=null?arguments[Mt]:{};Mt%2?Z(Object(Tt),!0).forEach(function(Ct){$(Rt,Ct,Tt[Ct])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Rt,Object.getOwnPropertyDescriptors(Tt)):Z(Object(Tt)).forEach(function(Ct){Object.defineProperty(Rt,Ct,Object.getOwnPropertyDescriptor(Tt,Ct))})}return Rt}function $(Rt,Mt,Tt){return Mt in Rt?Object.defineProperty(Rt,Mt,{value:Tt,enumerable:!0,configurable:!0,writable:!0}):Rt[Mt]=Tt,Rt}function et(Rt,Mt){if(!(Rt instanceof Mt))throw new TypeError("Cannot call a class as a function")}function ut(Rt,Mt){return(ut=Object.setPrototypeOf||function(Tt,Ct){return Tt.__proto__=Ct,Tt})(Rt,Mt)}function gt(Rt,Mt){return!Mt||j(Mt)!=="object"&&typeof Mt!="function"?function(Tt){if(Tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tt}(Rt):Mt}function lt(Rt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(Mt){return Mt.__proto__||Object.getPrototypeOf(Mt)})(Rt)}var ft=o(81),ot=o(199),yt=o(29).Stream,wt=o(17);e.exports=function(Rt){(function(ct,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Super expression must either be null or a function");ct.prototype=Object.create(Lt&&Lt.prototype,{constructor:{value:ct,writable:!0,configurable:!0}}),Lt&&ut(ct,Lt)})(Ct,Rt);var Mt,Tt=function(ct){var Lt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Kt,Yt=lt(ct);if(Lt){var pt=lt(this).constructor;Kt=Reflect.construct(Yt,arguments,pt)}else Kt=Yt.apply(this,arguments);return gt(this,Kt)}}(Ct);function Ct(){var ct,Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return et(this,Ct),(ct=Tt.call(this,Lt)).options=Lt,ct.name=Lt.name||"http",ct.ssl=!!Lt.ssl,ct.host=Lt.host||"localhost",ct.port=Lt.port,ct.auth=Lt.auth,ct.path=Lt.path||"",ct.agent=Lt.agent,ct.headers=Lt.headers||{},ct.headers["content-type"]="application/json",ct.port||(ct.port=ct.ssl?443:80),ct}return(Mt=[{key:"log",value:function(ct,Lt){var Kt=this;this._request(ct,function(Yt,pt){pt&&pt.statusCode!==200&&(Yt=new Error("Invalid HTTP Status Code: ".concat(pt.statusCode))),Yt?Kt.emit("warn",Yt):Kt.emit("logged",ct)}),Lt&&c(Lt)}},{key:"query",value:function(ct,Lt){typeof ct=="function"&&(Lt=ct,ct={}),(ct={method:"query",params:this.normalizeQuery(ct)}).params.path&&(ct.path=ct.params.path,delete ct.params.path),ct.params.auth&&(ct.auth=ct.params.auth,delete ct.params.auth),this._request(ct,function(Kt,Yt,pt){if(Yt&&Yt.statusCode!==200&&(Kt=new Error("Invalid HTTP Status Code: ".concat(Yt.statusCode))),Kt)return Lt(Kt);if(typeof pt=="string")try{pt=JSON.parse(pt)}catch(dt){return Lt(dt)}Lt(null,pt)})}},{key:"stream",value:function(){var ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Lt=new yt;(ct={method:"stream",params:ct}).params.path&&(ct.path=ct.params.path,delete ct.params.path),ct.params.auth&&(ct.auth=ct.params.auth,delete ct.params.auth);var Kt="",Yt=this._request(ct);return Lt.destroy=function(){return Yt.destroy()},Yt.on("data",function(pt){for(var dt=(pt=(Kt+pt).split(/\n+/)).length-1,bt=0;bt<dt;bt++)try{Lt.emit("log",JSON.parse(pt[bt]))}catch(mt){Lt.emit("error",mt)}Kt=pt[dt]}),Yt.on("error",function(pt){return Lt.emit("error",pt)}),Lt}},{key:"_request",value:function(ct,Lt){var Kt=(ct=ct||{}).auth||this.auth,Yt=ct.path||this.path||"";delete ct.auth,delete ct.path;var pt=Object.assign({},this.headers);Kt&&Kt.bearer&&(pt.Authorization="Bearer ".concat(Kt.bearer));var dt=(this.ssl?ot:ft).request(s(s({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(Yt.replace(/^\//,"")),headers:pt,auth:Kt&&Kt.username&&Kt.password?"".concat(Kt.username,":").concat(Kt.password):"",agent:this.agent}));dt.on("error",Lt),dt.on("response",function(bt){return bt.on("end",function(){return Lt(null,bt)}).resume()}),dt.end(d.from(JSON.stringify(ct),"utf8"))}}])&&function(ct,Lt){for(var Kt=0;Kt<Lt.length;Kt++){var Yt=Lt[Kt];Yt.enumerable=Yt.enumerable||!1,Yt.configurable=!0,"value"in Yt&&(Yt.writable=!0),Object.defineProperty(ct,Yt.key,Yt)}}(Ct.prototype,Mt),Ct}(wt)}).call(this,o(12).setImmediate,o(4).Buffer)},function(e,i,o){(function(c,d,j){var Z=o(82),s=o(6),$=o(83),et=o(28),ut=o(190),gt=$.IncomingMessage,lt=$.readyStates,ft=e.exports=function(yt){var wt,Rt=this;et.Writable.call(Rt),Rt._opts=yt,Rt._body=[],Rt._headers={},yt.auth&&Rt.setHeader("Authorization","Basic "+new c(yt.auth).toString("base64")),Object.keys(yt.headers).forEach(function(ct){Rt.setHeader(ct,yt.headers[ct])});var Mt,Tt,Ct=!0;if(yt.mode==="disable-fetch"||"requestTimeout"in yt&&!Z.abortController)Ct=!1,wt=!0;else if(yt.mode==="prefer-streaming")wt=!1;else if(yt.mode==="allow-wrong-content-type")wt=!Z.overrideMimeType;else{if(yt.mode&&yt.mode!=="default"&&yt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");wt=!0}Rt._mode=(Mt=wt,Tt=Ct,Z.fetch&&Tt?"fetch":Z.mozchunkedarraybuffer?"moz-chunked-arraybuffer":Z.msstream?"ms-stream":Z.arraybuffer&&Mt?"arraybuffer":Z.vbArray&&Mt?"text:vbarray":"text"),Rt._fetchTimer=null,Rt.on("finish",function(){Rt._onFinish()})};s(ft,et.Writable),ft.prototype.setHeader=function(yt,wt){var Rt=yt.toLowerCase();ot.indexOf(Rt)===-1&&(this._headers[Rt]={name:yt,value:wt})},ft.prototype.getHeader=function(yt){var wt=this._headers[yt.toLowerCase()];return wt?wt.value:null},ft.prototype.removeHeader=function(yt){delete this._headers[yt.toLowerCase()]},ft.prototype._onFinish=function(){var yt=this;if(!yt._destroyed){var wt=yt._opts,Rt=yt._headers,Mt=null;wt.method!=="GET"&&wt.method!=="HEAD"&&(Mt=Z.arraybuffer?ut(c.concat(yt._body)):Z.blobConstructor?new d.Blob(yt._body.map(function(Kt){return ut(Kt)}),{type:(Rt["content-type"]||{}).value||""}):c.concat(yt._body).toString());var Tt=[];if(Object.keys(Rt).forEach(function(Kt){var Yt=Rt[Kt].name,pt=Rt[Kt].value;Array.isArray(pt)?pt.forEach(function(dt){Tt.push([Yt,dt])}):Tt.push([Yt,pt])}),yt._mode==="fetch"){var Ct=null;if(Z.abortController){var ct=new AbortController;Ct=ct.signal,yt._fetchAbortController=ct,"requestTimeout"in wt&&wt.requestTimeout!==0&&(yt._fetchTimer=d.setTimeout(function(){yt.emit("requestTimeout"),yt._fetchAbortController&&yt._fetchAbortController.abort()},wt.requestTimeout))}d.fetch(yt._opts.url,{method:yt._opts.method,headers:Tt,body:Mt||void 0,mode:"cors",credentials:wt.withCredentials?"include":"same-origin",signal:Ct}).then(function(Kt){yt._fetchResponse=Kt,yt._connect()},function(Kt){d.clearTimeout(yt._fetchTimer),yt._destroyed||yt.emit("error",Kt)})}else{var Lt=yt._xhr=new d.XMLHttpRequest;try{Lt.open(yt._opts.method,yt._opts.url,!0)}catch(Kt){return void j.nextTick(function(){yt.emit("error",Kt)})}"responseType"in Lt&&(Lt.responseType=yt._mode.split(":")[0]),"withCredentials"in Lt&&(Lt.withCredentials=!!wt.withCredentials),yt._mode==="text"&&"overrideMimeType"in Lt&&Lt.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in wt&&(Lt.timeout=wt.requestTimeout,Lt.ontimeout=function(){yt.emit("requestTimeout")}),Tt.forEach(function(Kt){Lt.setRequestHeader(Kt[0],Kt[1])}),yt._response=null,Lt.onreadystatechange=function(){switch(Lt.readyState){case lt.LOADING:case lt.DONE:yt._onXHRProgress()}},yt._mode==="moz-chunked-arraybuffer"&&(Lt.onprogress=function(){yt._onXHRProgress()}),Lt.onerror=function(){yt._destroyed||yt.emit("error",new Error("XHR error"))};try{Lt.send(Mt)}catch(Kt){return void j.nextTick(function(){yt.emit("error",Kt)})}}}},ft.prototype._onXHRProgress=function(){(function(yt){try{var wt=yt.status;return wt!==null&&wt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},ft.prototype._connect=function(){var yt=this;yt._destroyed||(yt._response=new gt(yt._xhr,yt._fetchResponse,yt._mode,yt._fetchTimer),yt._response.on("error",function(wt){yt.emit("error",wt)}),yt.emit("response",yt._response))},ft.prototype._write=function(yt,wt,Rt){this._body.push(yt),Rt()},ft.prototype.abort=ft.prototype.destroy=function(){this._destroyed=!0,d.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},ft.prototype.end=function(yt,wt,Rt){typeof yt=="function"&&(Rt=yt,yt=void 0),et.Writable.prototype.end.call(this,yt,wt,Rt)},ft.prototype.flushHeaders=function(){},ft.prototype.setTimeout=function(){},ft.prototype.setNoDelay=function(){},ft.prototype.setSocketKeepAlive=function(){};var ot=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,o(4).Buffer,o(5),o(2))},function(e,i,o){var c=o(4).Buffer;e.exports=function(d){if(d instanceof Uint8Array){if(d.byteOffset===0&&d.byteLength===d.buffer.byteLength)return d.buffer;if(typeof d.buffer.slice=="function")return d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength)}if(c.isBuffer(d)){for(var j=new Uint8Array(d.length),Z=d.length,s=0;s<Z;s++)j[s]=d[s];return j.buffer}throw new Error("Argument must be a Buffer")}},function(e,i){e.exports=function(){for(var c={},d=0;d<arguments.length;d++){var j=arguments[d];for(var Z in j)o.call(j,Z)&&(c[Z]=j[Z])}return c};var o=Object.prototype.hasOwnProperty},function(e,i){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,i,o){(function(c,d){var j;(function(Z){i&&i.nodeType,c&&c.nodeType;var s=typeof d=="object"&&d;s.global!==s&&s.window!==s&&s.self;var $,et=2147483647,ut=/^xn--/,gt=/[^\x20-\x7E]/,lt=/[\x2E\u3002\uFF0E\uFF61]/g,ft={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ot=Math.floor,yt=String.fromCharCode;function wt(pt){throw new RangeError(ft[pt])}function Rt(pt,dt){for(var bt=pt.length,mt=[];bt--;)mt[bt]=dt(pt[bt]);return mt}function Mt(pt,dt){var bt=pt.split("@"),mt="";return bt.length>1&&(mt=bt[0]+"@",pt=bt[1]),mt+Rt((pt=pt.replace(lt,".")).split("."),dt).join(".")}function Tt(pt){for(var dt,bt,mt=[],jt=0,zt=pt.length;jt<zt;)(dt=pt.charCodeAt(jt++))>=55296&&dt<=56319&&jt<zt?(64512&(bt=pt.charCodeAt(jt++)))==56320?mt.push(((1023&dt)<<10)+(1023&bt)+65536):(mt.push(dt),jt--):mt.push(dt);return mt}function Ct(pt){return Rt(pt,function(dt){var bt="";return dt>65535&&(bt+=yt((dt-=65536)>>>10&1023|55296),dt=56320|1023&dt),bt+yt(dt)}).join("")}function ct(pt,dt){return pt+22+75*(pt<26)-((dt!=0)<<5)}function Lt(pt,dt,bt){var mt=0;for(pt=bt?ot(pt/700):pt>>1,pt+=ot(pt/dt);pt>455;mt+=36)pt=ot(pt/35);return ot(mt+36*pt/(pt+38))}function Kt(pt){var dt,bt,mt,jt,zt,kt,St,Dt,Nt,_t,at,Bt=[],Vt=pt.length,Qt=0,or=128,ar=72;for((bt=pt.lastIndexOf("-"))<0&&(bt=0),mt=0;mt<bt;++mt)pt.charCodeAt(mt)>=128&&wt("not-basic"),Bt.push(pt.charCodeAt(mt));for(jt=bt>0?bt+1:0;jt<Vt;){for(zt=Qt,kt=1,St=36;jt>=Vt&&wt("invalid-input"),((Dt=(at=pt.charCodeAt(jt++))-48<10?at-22:at-65<26?at-65:at-97<26?at-97:36)>=36||Dt>ot((et-Qt)/kt))&&wt("overflow"),Qt+=Dt*kt,!(Dt<(Nt=St<=ar?1:St>=ar+26?26:St-ar));St+=36)kt>ot(et/(_t=36-Nt))&&wt("overflow"),kt*=_t;ar=Lt(Qt-zt,dt=Bt.length+1,zt==0),ot(Qt/dt)>et-or&&wt("overflow"),or+=ot(Qt/dt),Qt%=dt,Bt.splice(Qt++,0,or)}return Ct(Bt)}function Yt(pt){var dt,bt,mt,jt,zt,kt,St,Dt,Nt,_t,at,Bt,Vt,Qt,or,ar=[];for(Bt=(pt=Tt(pt)).length,dt=128,bt=0,zt=72,kt=0;kt<Bt;++kt)(at=pt[kt])<128&&ar.push(yt(at));for(mt=jt=ar.length,jt&&ar.push("-");mt<Bt;){for(St=et,kt=0;kt<Bt;++kt)(at=pt[kt])>=dt&&at<St&&(St=at);for(St-dt>ot((et-bt)/(Vt=mt+1))&&wt("overflow"),bt+=(St-dt)*Vt,dt=St,kt=0;kt<Bt;++kt)if((at=pt[kt])<dt&&++bt>et&&wt("overflow"),at==dt){for(Dt=bt,Nt=36;!(Dt<(_t=Nt<=zt?1:Nt>=zt+26?26:Nt-zt));Nt+=36)or=Dt-_t,Qt=36-_t,ar.push(yt(ct(_t+or%Qt,0))),Dt=ot(or/Qt);ar.push(yt(ct(Dt,0))),zt=Lt(bt,Vt,mt==jt),bt=0,++mt}++bt,++dt}return ar.join("")}$={version:"1.4.1",ucs2:{decode:Tt,encode:Ct},decode:Kt,encode:Yt,toASCII:function(pt){return Mt(pt,function(dt){return gt.test(dt)?"xn--"+Yt(dt):dt})},toUnicode:function(pt){return Mt(pt,function(dt){return ut.test(dt)?Kt(dt.slice(4).toLowerCase()):dt})}},(j=function(){return $}.call(i,o,i,c))===void 0||(c.exports=j)})()}).call(this,o(194)(e),o(5))},function(e,i){e.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(e,i,o){e.exports={isString:function(c){return typeof c=="string"},isObject:function(c){return typeof c=="object"&&c!==null},isNull:function(c){return c===null},isNullOrUndefined:function(c){return c==null}}},function(e,i,o){i.decode=i.parse=o(197),i.encode=i.stringify=o(198)},function(e,i,o){function c(j,Z){return Object.prototype.hasOwnProperty.call(j,Z)}e.exports=function(j,Z,s,$){Z=Z||"&",s=s||"=";var et={};if(typeof j!="string"||j.length===0)return et;var ut=/\+/g;j=j.split(Z);var gt=1e3;$&&typeof $.maxKeys=="number"&&(gt=$.maxKeys);var lt=j.length;gt>0&&lt>gt&&(lt=gt);for(var ft=0;ft<lt;++ft){var ot,yt,wt,Rt,Mt=j[ft].replace(ut,"%20"),Tt=Mt.indexOf(s);Tt>=0?(ot=Mt.substr(0,Tt),yt=Mt.substr(Tt+1)):(ot=Mt,yt=""),wt=decodeURIComponent(ot),Rt=decodeURIComponent(yt),c(et,wt)?d(et[wt])?et[wt].push(Rt):et[wt]=[et[wt],Rt]:et[wt]=Rt}return et};var d=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"}},function(e,i,o){var c=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}};e.exports=function(s,$,et,ut){return $=$||"&",et=et||"=",s===null&&(s=void 0),typeof s=="object"?j(Z(s),function(gt){var lt=encodeURIComponent(c(gt))+et;return d(s[gt])?j(s[gt],function(ft){return lt+encodeURIComponent(c(ft))}).join($):lt+encodeURIComponent(c(s[gt]))}).join($):ut?encodeURIComponent(c(ut))+et+encodeURIComponent(c(s)):""};var d=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function j(s,$){if(s.map)return s.map($);for(var et=[],ut=0;ut<s.length;ut++)et.push($(s[ut],ut));return et}var Z=Object.keys||function(s){var $=[];for(var et in s)Object.prototype.hasOwnProperty.call(s,et)&&$.push(et);return $}},function(e,i,o){var c=o(81),d=o(46),j=e.exports;for(var Z in c)c.hasOwnProperty(Z)&&(j[Z]=c[Z]);function s($){if(typeof $=="string"&&($=d.parse($)),$.protocol||($.protocol="https:"),$.protocol!=="https:")throw new Error('Protocol "'+$.protocol+'" not supported. Expected "https:"');return $}j.request=function($,et){return $=s($),c.request.call(this,$,et)},j.get=function($,et){return $=s($),c.get.call(this,$,et)}},function(e,i,o){(function(c){function d(ft){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ot){return typeof ot}:function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot})(ft)}function j(ft,ot){if(!(ft instanceof ot))throw new TypeError("Cannot call a class as a function")}function Z(ft,ot){return(Z=Object.setPrototypeOf||function(yt,wt){return yt.__proto__=wt,yt})(ft,ot)}function s(ft,ot){return!ot||d(ot)!=="object"&&typeof ot!="function"?function(yt){if(yt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(ft):ot}function $(ft){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(ot){return ot.__proto__||Object.getPrototypeOf(ot)})(ft)}var et=o(84),ut=o(3).MESSAGE,gt=o(15),lt=o(17);e.exports=function(ft){(function(Rt,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function");Rt.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:Rt,writable:!0,configurable:!0}}),Mt&&Z(Rt,Mt)})(wt,ft);var ot,yt=function(Rt){var Mt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Tt,Ct=$(Rt);if(Mt){var ct=$(this).constructor;Tt=Reflect.construct(Ct,arguments,ct)}else Tt=Ct.apply(this,arguments);return s(this,Tt)}}(wt);function wt(){var Rt,Mt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(j(this,wt),Rt=yt.call(this,Mt),!Mt.stream||!et(Mt.stream))throw new Error("options.stream is required.");return Rt._stream=Mt.stream,Rt._stream.setMaxListeners(1/0),Rt.isObjectMode=Mt.stream._writableState.objectMode,Rt.eol=Mt.eol||gt.EOL,Rt}return(ot=[{key:"log",value:function(Rt,Mt){var Tt=this;if(c(function(){return Tt.emit("logged",Rt)}),this.isObjectMode)return this._stream.write(Rt),void(Mt&&Mt());this._stream.write("".concat(Rt[ut]).concat(this.eol)),Mt&&Mt()}}])&&function(Rt,Mt){for(var Tt=0;Tt<Mt.length;Tt++){var Ct=Mt[Tt];Ct.enumerable=Ct.enumerable||!1,Ct.configurable=!0,"value"in Ct&&(Ct.writable=!0),Object.defineProperty(Rt,Ct.key,Ct)}}(wt.prototype,ot),wt}(lt)}).call(this,o(12).setImmediate)},function(e,i,o){(function(c){function d(dt,bt,mt){return bt in dt?Object.defineProperty(dt,bt,{value:mt,enumerable:!0,configurable:!0,writable:!0}):dt[bt]=mt,dt}function j(dt){return(j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(bt){return typeof bt}:function(bt){return bt&&typeof Symbol=="function"&&bt.constructor===Symbol&&bt!==Symbol.prototype?"symbol":typeof bt})(dt)}function Z(dt,bt){return(Z=Object.setPrototypeOf||function(mt,jt){return mt.__proto__=jt,mt})(dt,bt)}function s(dt,bt){return!bt||j(bt)!=="object"&&typeof bt!="function"?function(mt){if(mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt}(dt):bt}function $(dt){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(bt){return bt.__proto__||Object.getPrototypeOf(bt)})(dt)}var et=o(29),ut=et.Stream,gt=et.Transform,lt=o(48),ft=o(3),ot=ft.LEVEL,yt=ft.SPLAT,wt=o(84),Rt=o(86),Mt=o(90),Tt=o(205),Ct=o(206),ct=o(59).warn,Lt=o(47),Kt=/%[scdjifoO%]/g,Yt=function(dt){(function(zt,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function");zt.prototype=Object.create(kt&&kt.prototype,{constructor:{value:zt,writable:!0,configurable:!0}}),kt&&Z(zt,kt)})(jt,dt);var bt,mt=function(zt){var kt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var St,Dt=$(zt);if(kt){var Nt=$(this).constructor;St=Reflect.construct(Dt,arguments,Nt)}else St=Dt.apply(this,arguments);return s(this,St)}}(jt);function jt(zt){var kt;return function(St,Dt){if(!(St instanceof Dt))throw new TypeError("Cannot call a class as a function")}(this,jt),(kt=mt.call(this,{objectMode:!0})).configure(zt),kt}return(bt=[{key:"child",value:function(zt){var kt=this;return Object.create(kt,{write:{value:function(St){var Dt=Object.assign({},zt,St);St instanceof Error&&(Dt.stack=St.stack,Dt.message=St.message),kt.write(Dt)}}})}},{key:"configure",value:function(){var zt=this,kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},St=kt.silent,Dt=kt.format,Nt=kt.defaultMeta,_t=kt.levels,at=kt.level,Bt=at===void 0?"info":at,Vt=kt.exitOnError,Qt=Vt===void 0||Vt,or=kt.transports,ar=kt.colors,qt=kt.emitErrs,Gt=kt.formatters,vt=kt.padLevels,At=kt.rewriters,It=kt.stripColors,Ht=kt.exceptionHandlers,Zt=kt.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=St,this.format=Dt||this.format||o(207)(),this.defaultMeta=Nt||null,this.levels=_t||this.levels||Lt.npm.levels,this.level=Bt,this.exceptions=new Rt(this),this.rejections=new Mt(this),this.profilers={},this.exitOnError=Qt,or&&(or=Array.isArray(or)?or:[or]).forEach(function(rr){return zt.add(rr)}),ar||qt||Gt||vt||At||It)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));Ht&&this.exceptions.handle(Ht),Zt&&this.rejections.handle(Zt)}},{key:"isLevelEnabled",value:function(zt){var kt=this,St=pt(this.levels,zt);if(St===null)return!1;var Dt=pt(this.levels,this.level);return Dt!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function(Nt){var _t=pt(kt.levels,Nt.level);return _t===null&&(_t=Dt),_t>=St})!==-1:Dt>=St)}},{key:"log",value:function(zt,kt){for(var St,Dt,Nt=arguments.length,_t=new Array(Nt>2?Nt-2:0),at=2;at<Nt;at++)_t[at-2]=arguments[at];if(arguments.length===1)return zt[ot]=zt.level,this._addDefaultMeta(zt),this.write(zt),this;if(arguments.length===2)return kt&&j(kt)==="object"?(kt[ot]=kt.level=zt,this._addDefaultMeta(kt),this.write(kt),this):(this.write((d(Dt={},ot,zt),d(Dt,"level",zt),d(Dt,"message",kt),Dt)),this);var Bt=_t[0];if(j(Bt)==="object"&&Bt!==null){var Vt=kt&&kt.match&&kt.match(Kt);if(!Vt){var Qt,or=Object.assign({},this.defaultMeta,Bt,(d(Qt={},ot,zt),d(Qt,yt,_t),d(Qt,"level",zt),d(Qt,"message",kt),Qt));return Bt.message&&(or.message="".concat(or.message," ").concat(Bt.message)),Bt.stack&&(or.stack=Bt.stack),this.write(or),this}}return this.write(Object.assign({},this.defaultMeta,(d(St={},ot,zt),d(St,yt,_t),d(St,"level",zt),d(St,"message",kt),St))),this}},{key:"_transform",value:function(zt,kt,St){if(this.silent)return St();zt[ot]||(zt[ot]=zt.level),this.levels[zt[ot]]||this.levels[zt[ot]]===0||console.error("[winston] Unknown logger level: %s",zt[ot]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",zt);try{this.push(this.format.transform(zt,this.format.options))}catch(Dt){throw Dt}finally{St()}}},{key:"_final",value:function(zt){var kt=this.transports.slice();lt(kt,function(St,Dt){if(!St||St.finished)return c(Dt);St.once("finish",Dt),St.end()},zt)}},{key:"add",value:function(zt){var kt=!wt(zt)||zt.log.length>2?new Tt({transport:zt}):zt;if(!kt._writableState||!kt._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",kt),this._onEvent("warn",kt),this.pipe(kt),zt.handleExceptions&&this.exceptions.handle(),zt.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(zt){if(!zt)return this;var kt=zt;return(!wt(zt)||zt.log.length>2)&&(kt=this.transports.filter(function(St){return St.transport===zt})[0]),kt&&this.unpipe(kt),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){ct.deprecated("setLevels")}},{key:"query",value:function(zt,kt){typeof zt=="function"&&(kt=zt,zt={}),zt=zt||{};var St={},Dt=Object.assign({},zt.query||{});lt(this.transports.filter(function(Nt){return!!Nt.query}),function(Nt,_t){var at,Bt;at=Nt,Bt=function(Vt,Qt){_t&&((Qt=Vt||Qt)&&(St[Nt.name]=Qt),_t()),_t=null},zt.query&&typeof at.formatQuery=="function"&&(zt.query=at.formatQuery(Dt)),at.query(zt,function(Vt,Qt){if(Vt)return Bt(Vt);typeof at.formatResults=="function"&&(Qt=at.formatResults(Qt,zt.format)),Bt(null,Qt)})},function(){return kt(null,St)})}},{key:"stream",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},kt=new ut,St=[];return kt._streams=St,kt.destroy=function(){for(var Dt=St.length;Dt--;)St[Dt].destroy()},this.transports.filter(function(Dt){return!!Dt.stream}).forEach(function(Dt){var Nt=Dt.stream(zt);Nt&&(St.push(Nt),Nt.on("log",function(_t){_t.transport=_t.transport||[],_t.transport.push(Dt.name),kt.emit("log",_t)}),Nt.on("error",function(_t){_t.transport=_t.transport||[],_t.transport.push(Dt.name),kt.emit("error",_t)}))}),kt}},{key:"startTimer",value:function(){return new Ct(this)}},{key:"profile",value:function(zt){var kt=Date.now();if(this.profilers[zt]){var St=this.profilers[zt];delete this.profilers[zt];for(var Dt=arguments.length,Nt=new Array(Dt>1?Dt-1:0),_t=1;_t<Dt;_t++)Nt[_t-1]=arguments[_t];typeof Nt[Nt.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Nt.pop());var at=j(Nt[Nt.length-1])==="object"?Nt.pop():{};return at.level=at.level||"info",at.durationMs=kt-St,at.message=at.message||zt,this.write(at)}return this.profilers[zt]=kt,this}},{key:"handleExceptions",value:function(){var zt;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(zt=this.exceptions).handle.apply(zt,arguments)}},{key:"unhandleExceptions",value:function(){var zt;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(zt=this.exceptions).unhandle.apply(zt,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(zt,kt){kt["__winston"+zt]||(kt["__winston"+zt]=function(St){zt!=="error"||this.transports.includes(kt)||this.add(kt),this.emit(zt,St,kt)}.bind(this),kt.on(zt,kt["__winston"+zt]))}},{key:"_addDefaultMeta",value:function(zt){this.defaultMeta&&Object.assign(zt,this.defaultMeta)}}])&&function(zt,kt){for(var St=0;St<kt.length;St++){var Dt=kt[St];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(zt,Dt.key,Dt)}}(jt.prototype,bt),jt}(gt);function pt(dt,bt){var mt=dt[bt];return mt||mt===0?mt:null}Object.defineProperty(Yt.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var dt=this._readableState.pipes;return Array.isArray(dt)?dt:[dt].filter(Boolean)}}),e.exports=Yt}).call(this,o(12).setImmediate)},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=ut(o(41)),d=ut(o(42)),j=ut(o(64)),Z=ut(o(65)),s=ut(o(66)),$=ut(o(23)),et=ut(o(27));function ut(ft){return ft&&ft.__esModule?ft:{default:ft}}function gt(ft,ot,yt){yt=(0,Z.default)(yt);var wt=0,Rt=0,{length:Mt}=ft,Tt=!1;function Ct(ct,Lt){ct===!1&&(Tt=!0),Tt!==!0&&(ct?yt(ct):++Rt!==Mt&&Lt!==d.default||yt(null))}for(Mt===0&&yt(null);wt<Mt;wt++)ot(ft[wt],wt,(0,s.default)(Ct))}function lt(ft,ot,yt){return(0,j.default)(ft,1/0,ot,yt)}i.default=(0,et.default)(function(ft,ot,yt){return((0,c.default)(ft)?gt:lt)(ft,(0,$.default)(ot),yt)},3),e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return(d,j,Z)=>c(d,Z)},e.exports=i.default},function(e,i,o){var c=Object.prototype.toString;e.exports=function(d){if(typeof d.displayName=="string"&&d.constructor.name)return d.displayName;if(typeof d.name=="string"&&d.name)return d.name;if(typeof d=="object"&&d.constructor&&typeof d.constructor.name=="string")return d.constructor.name;var j=d.toString(),Z=c.call(d).slice(8,-1);return(j=Z==="Function"?j.substring(j.indexOf("(")+1,j.indexOf(")")):Z)||"anonymous"}},function(e,i,o){const c=o(10),{LEVEL:d}=o(3),j=o(17),Z=e.exports=function(s={}){if(j.call(this,s),!s.transport||typeof s.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=s.transport,this.level=this.level||s.transport.level,this.handleExceptions=this.handleExceptions||s.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function($){this.emit("error",$,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};c.inherits(Z,j),Z.prototype._write=function(s,$,et){if(this.silent||s.exception===!0&&!this.handleExceptions)return et(null);(!this.level||this.levels[this.level]>=this.levels[s[d]])&&this.transport.log(s[d],s.message,s,this._nop),et(null)},Z.prototype._writev=function(s,$){for(let et=0;et<s.length;et++)this._accept(s[et])&&(this.transport.log(s[et].chunk[d],s[et].chunk.message,s[et].chunk,this._nop),s[et].callback());return $(null)},Z.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},Z.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,i,o){function c(d){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j})(d)}e.exports=function(){function d(Z){if(function(s,$){if(!(s instanceof $))throw new TypeError("Cannot call a class as a function")}(this,d),!Z)throw new Error("Logger is required for profiling.");this.logger=Z,this.start=Date.now()}var j;return(j=[{key:"done",value:function(){for(var Z=arguments.length,s=new Array(Z),$=0;$<Z;$++)s[$]=arguments[$];typeof s[s.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),s.pop());var et=c(s[s.length-1])==="object"?s.pop():{};return et.level=et.level||"info",et.durationMs=Date.now()-this.start,this.logger.write(et)}}])&&function(Z,s){for(var $=0;$<s.length;$++){var et=s[$];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Z,et.key,et)}}(d.prototype,j),d}()},function(e,i,o){(function(c){const d=o(208),{MESSAGE:j}=o(3),Z=o(31);function s($,et){return et instanceof c?et.toString("base64"):typeof et=="bigint"?et.toString():et}e.exports=d(($,et={})=>($[j]=(et.stable?Z.stableStringify:Z)($,et.replacer||s,et.space),$))}).call(this,o(4).Buffer)},function(e,i,o){class c extends Error{constructor(j){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${j.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,c)}}e.exports=d=>{if(d.length>2)throw new c(d);function j(s={}){this.options=s}function Z(s){return new j(s)}return j.prototype.transform=d,Z.Format=j,Z}},function(e,i,o){function c(j,Z){if(!(j instanceof Z))throw new TypeError("Cannot call a class as a function")}var d=o(85);e.exports=function(){function j(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c(this,j),this.loggers=new Map,this.options=s}var Z;return(Z=[{key:"add",value:function(s,$){var et=this;if(!this.loggers.has(s)){var ut=($=Object.assign({},$||this.options)).transports||this.options.transports;$.transports=ut?ut.slice():[];var gt=d($);gt.on("close",function(){return et._delete(s)}),this.loggers.set(s,gt)}return this.loggers.get(s)}},{key:"get",value:function(s,$){return this.add(s,$)}},{key:"has",value:function(s){return!!this.loggers.has(s)}},{key:"close",value:function(s){var $=this;if(s)return this._removeLogger(s);this.loggers.forEach(function(et,ut){return $._removeLogger(ut)})}},{key:"_removeLogger",value:function(s){this.loggers.has(s)&&(this.loggers.get(s).close(),this._delete(s))}},{key:"_delete",value:function(s){this.loggers.delete(s)}}])&&function(s,$){for(var et=0;et<$.length;et++){var ut=$[et];ut.enumerable=ut.enumerable||!1,ut.configurable=!0,"value"in ut&&(ut.writable=!0),Object.defineProperty(s,ut.key,ut)}}(j.prototype,Z),j}()},function(e,i,o){(function(c){const d=o(49),j=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;e.exports=function(Z,s,$){let et,ut,gt=!1,lt=!1;function ft(wt,Rt){let Mt=`"${s}" ${Rt}`;throw wt&&(Mt=`${Mt}, but is set to "${wt}"`),ut&&(Mt=`${Mt}. An example of a valid value would be: ${ut}`),new d(Mt)}function ot(wt){return function(){let Rt=Z[s];if(Rt===void 0)if(et===void 0&&lt)ft(void 0,"is a required variable, but it was not set");else{if(et===void 0)return;Rt=et}lt&&Rt.trim().length===0&&ft(void 0,"is a required variable, but its value was empty"),gt&&(Rt.match(j)||ft(Rt,"should be a valid base64 string if using convertFromBase64"),Rt=c.from(Rt,"base64").toString());const Mt=[Rt].concat(Array.prototype.slice.call(arguments));try{return wt.apply(wt,Mt)}catch(Tt){ft(Rt,Tt.message)}}}const yt={asArray:ot(o(211)),asBoolStrict:ot(o(212)),asBool:ot(o(213)),asPortNumber:ot(o(214)),asEnum:ot(o(215)),asFloatNegative:ot(o(216)),asFloatPositive:ot(o(217)),asFloat:ot(o(51)),asIntNegative:ot(o(218)),asIntPositive:ot(o(91)),asInt:ot(o(50)),asJsonArray:ot(o(219)),asJsonObject:ot(o(220)),asJson:ot(o(52)),asString:ot(o(35)),asUrlObject:ot(o(92)),asUrlString:ot(o(221)),convertFromBase64:function(){return gt=!0,yt},default:function(wt){if(typeof wt=="number")et=wt.toString();else if(Array.isArray(wt)||typeof wt=="object"&&wt!==null)et=JSON.stringify(wt);else{if(typeof wt!="string")throw new d("values passed to default() must be of Number, String, Array, or Object type");et=wt}return yt},required:function(wt){return lt=wt===void 0||wt,yt},example:function(wt){return ut=wt,yt}};return Object.entries($).forEach(([wt,Rt])=>{yt[wt]=ot(Rt)}),yt}}).call(this,o(4).Buffer)},function(e,i,o){const c=o(35);e.exports=function(d,j){return j=j||",",d.length?c(d).split(j).filter(Boolean):[]}},function(e,i,o){e.exports=function(c){const d=c.toLowerCase();if(d!=="false"&&d!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return d!=="false"}},function(e,i,o){e.exports=function(c){const d=c.toLowerCase();if(["false","0","true","1"].indexOf(d)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!(d==="0"||d==="false")}},function(e,i,o){const c=o(91);e.exports=function(d){var j=c(d);if(j>65535)throw new Error("cannot assign a port number greater than 65535");return j}},function(e,i,o){const c=o(35);e.exports=function(d,j){const Z=c(d);if(j.indexOf(Z)<0)throw new Error(`should be one of [${j.join(", ")}]`);return Z}},function(e,i,o){const c=o(51);e.exports=function(d){const j=c(d);if(j>0)throw new Error("should be a negative float");return j}},function(e,i,o){const c=o(51);e.exports=function(d){const j=c(d);if(j<0)throw new Error("should be a positive float");return j}},function(e,i,o){const c=o(50);e.exports=function(d){const j=c(d);if(j>0)throw new Error("should be a negative integer");return j}},function(e,i,o){const c=o(52);e.exports=function(d){var j=c(d);if(!Array.isArray(j))throw new Error("should be a parseable JSON Array");return j}},function(e,i,o){const c=o(52);e.exports=function(d){var j=c(d);if(Array.isArray(j))throw new Error("should be a parseable JSON Object");return j}},function(e,i,o){const c=o(92);e.exports=function(d){return c(d).toString()}},function(e,i,o){function c(s){var $=this;if($ instanceof c||($=new c),$.tail=null,$.head=null,$.length=0,s&&typeof s.forEach=="function")s.forEach(function(gt){$.push(gt)});else if(arguments.length>0)for(var et=0,ut=arguments.length;et<ut;et++)$.push(arguments[et]);return $}function d(s,$){s.tail=new Z($,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function j(s,$){s.head=new Z($,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function Z(s,$,et,ut){if(!(this instanceof Z))return new Z(s,$,et,ut);this.list=ut,this.value=s,$?($.next=this,this.prev=$):this.prev=null,et?(et.prev=this,this.next=et):this.next=null}e.exports=c,c.Node=Z,c.create=c,c.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var $=s.next,et=s.prev;$&&($.prev=et),et&&(et.next=$),s===this.head&&(this.head=$),s===this.tail&&(this.tail=et),s.list.length--,s.next=null,s.prev=null,s.list=null},c.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var $=this.head;s.list=this,s.next=$,$&&($.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}},c.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var $=this.tail;s.list=this,s.prev=$,$&&($.next=s),this.tail=s,this.head||(this.head=s),this.length++}},c.prototype.push=function(){for(var s=0,$=arguments.length;s<$;s++)d(this,arguments[s]);return this.length},c.prototype.unshift=function(){for(var s=0,$=arguments.length;s<$;s++)j(this,arguments[s]);return this.length},c.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}},c.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}},c.prototype.forEach=function(s,$){$=$||this;for(var et=this.head,ut=0;et!==null;ut++)s.call($,et.value,ut,this),et=et.next},c.prototype.forEachReverse=function(s,$){$=$||this;for(var et=this.tail,ut=this.length-1;et!==null;ut--)s.call($,et.value,ut,this),et=et.prev},c.prototype.get=function(s){for(var $=0,et=this.head;et!==null&&$<s;$++)et=et.next;if($===s&&et!==null)return et.value},c.prototype.getReverse=function(s){for(var $=0,et=this.tail;et!==null&&$<s;$++)et=et.prev;if($===s&&et!==null)return et.value},c.prototype.map=function(s,$){$=$||this;for(var et=new c,ut=this.head;ut!==null;)et.push(s.call($,ut.value,this)),ut=ut.next;return et},c.prototype.mapReverse=function(s,$){$=$||this;for(var et=new c,ut=this.tail;ut!==null;)et.push(s.call($,ut.value,this)),ut=ut.prev;return et},c.prototype.reduce=function(s,$){var et,ut=this.head;if(arguments.length>1)et=$;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");ut=this.head.next,et=this.head.value}for(var gt=0;ut!==null;gt++)et=s(et,ut.value,gt),ut=ut.next;return et},c.prototype.reduceReverse=function(s,$){var et,ut=this.tail;if(arguments.length>1)et=$;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");ut=this.tail.prev,et=this.tail.value}for(var gt=this.length-1;ut!==null;gt--)et=s(et,ut.value,gt),ut=ut.prev;return et},c.prototype.toArray=function(){for(var s=new Array(this.length),$=0,et=this.head;et!==null;$++)s[$]=et.value,et=et.next;return s},c.prototype.toArrayReverse=function(){for(var s=new Array(this.length),$=0,et=this.tail;et!==null;$++)s[$]=et.value,et=et.prev;return s},c.prototype.slice=function(s,$){($=$||this.length)<0&&($+=this.length),(s=s||0)<0&&(s+=this.length);var et=new c;if($<s||$<0)return et;s<0&&(s=0),$>this.length&&($=this.length);for(var ut=0,gt=this.head;gt!==null&&ut<s;ut++)gt=gt.next;for(;gt!==null&&ut<$;ut++,gt=gt.next)et.push(gt.value);return et},c.prototype.sliceReverse=function(s,$){($=$||this.length)<0&&($+=this.length),(s=s||0)<0&&(s+=this.length);var et=new c;if($<s||$<0)return et;s<0&&(s=0),$>this.length&&($=this.length);for(var ut=this.length,gt=this.tail;gt!==null&&ut>$;ut--)gt=gt.prev;for(;gt!==null&&ut>s;ut--,gt=gt.prev)et.push(gt.value);return et},c.prototype.reverse=function(){for(var s=this.head,$=this.tail,et=s;et!==null;et=et.prev){var ut=et.prev;et.prev=et.next,et.next=ut}return this.head=$,this.tail=s,this};try{o(223)(c)}catch{}},function(e,i,o){e.exports=function(c){c.prototype[Symbol.iterator]=function*(){for(let d=this.head;d;d=d.next)yield d.value}}},function(e,i,o){(function(c){(function(){var d,j,Z,s,$,et;typeof performance!="undefined"&&performance!==null&&performance.now?e.exports=function(){return performance.now()}:c!=null&&c.hrtime?(e.exports=function(){return(d()-$)/1e6},j=c.hrtime,s=(d=function(){var ut;return 1e9*(ut=j())[0]+ut[1]})(),et=1e9*c.uptime(),$=s-et):Date.now?(e.exports=function(){return Date.now()-Z},Z=Date.now()):(e.exports=function(){return new Date().getTime()-Z},Z=new Date().getTime())}).call(this)}).call(this,o(2))},function(e,i,o){var c,d,j=o(96),Z=o(97),s=0,$=0;e.exports=function(et,ut,gt){var lt=ut&&gt||0,ft=ut||[],ot=(et=et||{}).node||c,yt=et.clockseq!==void 0?et.clockseq:d;if(ot==null||yt==null){var wt=j();ot==null&&(ot=c=[1|wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]]),yt==null&&(yt=d=16383&(wt[6]<<8|wt[7]))}var Rt=et.msecs!==void 0?et.msecs:new Date().getTime(),Mt=et.nsecs!==void 0?et.nsecs:$+1,Tt=Rt-s+(Mt-$)/1e4;if(Tt<0&&et.clockseq===void 0&&(yt=yt+1&16383),(Tt<0||Rt>s)&&et.nsecs===void 0&&(Mt=0),Mt>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=Rt,$=Mt,d=yt;var Ct=(1e4*(268435455&(Rt+=122192928e5))+Mt)%4294967296;ft[lt++]=Ct>>>24&255,ft[lt++]=Ct>>>16&255,ft[lt++]=Ct>>>8&255,ft[lt++]=255&Ct;var ct=Rt/4294967296*1e4&268435455;ft[lt++]=ct>>>8&255,ft[lt++]=255&ct,ft[lt++]=ct>>>24&15|16,ft[lt++]=ct>>>16&255,ft[lt++]=yt>>>8|128,ft[lt++]=255&yt;for(var Lt=0;Lt<6;++Lt)ft[lt+Lt]=ot[Lt];return ut||Z(ft)}},function(e,i,o){var c=o(96),d=o(97);e.exports=function(j,Z,s){var $=Z&&s||0;typeof j=="string"&&(Z=j==="binary"?new Array(16):null,j=null);var et=(j=j||{}).random||(j.rng||c)();if(et[6]=15&et[6]|64,et[8]=63&et[8]|128,Z)for(var ut=0;ut<16;++ut)Z[$+ut]=et[ut];return Z||d(et)}},function(e,i,o){(function(c){(function(d){function j(s){if((s=s===void 0?"utf-8":s)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+s+"') is invalid.")}function Z(s,$){if($=$===void 0?{fatal:!1}:$,(s=s===void 0?"utf-8":s)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+s+"') is invalid.");if($.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(d.TextEncoder&&d.TextDecoder)return!1;Object.defineProperty(j.prototype,"encoding",{value:"utf-8"}),j.prototype.encode=function(s,$){if(($=$===void 0?{stream:!1}:$).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");$=0;for(var et=s.length,ut=0,gt=Math.max(32,et+(et>>1)+7),lt=new Uint8Array(gt>>3<<3);$<et;){var ft=s.charCodeAt($++);if(55296<=ft&&56319>=ft){if($<et){var ot=s.charCodeAt($);(64512&ot)==56320&&(++$,ft=((1023&ft)<<10)+(1023&ot)+65536)}if(55296<=ft&&56319>=ft)continue}if(ut+4>lt.length&&(gt+=8,gt=(gt*=1+$/s.length*2)>>3<<3,(ot=new Uint8Array(gt)).set(lt),lt=ot),(4294967168&ft)==0)lt[ut++]=ft;else{if((4294965248&ft)==0)lt[ut++]=ft>>6&31|192;else if((4294901760&ft)==0)lt[ut++]=ft>>12&15|224,lt[ut++]=ft>>6&63|128;else{if((4292870144&ft)!=0)continue;lt[ut++]=ft>>18&7|240,lt[ut++]=ft>>12&63|128,lt[ut++]=ft>>6&63|128}lt[ut++]=63&ft|128}}return lt.slice(0,ut)},Object.defineProperty(Z.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(Z.prototype,"fatal",{value:!1}),Object.defineProperty(Z.prototype,"ignoreBOM",{value:!1}),Z.prototype.decode=function(s,$){if(($=$===void 0?{stream:!1}:$).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");$=0;for(var et=(s=new Uint8Array(s)).length,ut=[];$<et;){var gt=s[$++];if(gt===0)break;if((128&gt)==0)ut.push(gt);else if((224&gt)==192){var lt=63&s[$++];ut.push((31&gt)<<6|lt)}else if((240&gt)==224){lt=63&s[$++];var ft=63&s[$++];ut.push((31&gt)<<12|lt<<6|ft)}else(248&gt)==240&&(65535<(gt=(7&gt)<<18|(lt=63&s[$++])<<12|(ft=63&s[$++])<<6|63&s[$++])&&(gt-=65536,ut.push(gt>>>10&1023|55296),gt=56320|1023&gt),ut.push(gt))}return String.fromCharCode.apply(null,ut)},d.TextEncoder=j,d.TextDecoder=Z})(typeof window!="undefined"?window:c!==void 0?c:this)}).call(this,o(5))},function(e,i,o){o.r(i),o.d(i,"AuthClient",function(){return j}),o.d(i,"RtcSignalingClient",function(){return s}),o.d(i,"Credentials",function(){return ot}),o.d(i,"SignalingPromiseClient",function(){return yt.SignalingPromiseClient}),o.d(i,"IRtcClientConfiguration",function(){}),o.d(i,"IRtcConnectConfiguration",function(){}),o.d(i,"IRtcConnectionStatsInfo",function(){}),o.d(i,"IRtcSendConfiguration",function(){}),o.d(i,"IRtcSessionMetricsMessageCounts",function(){}),o.d(i,"IRtcStreamMessage",function(){}),o.d(i,"IStreamControl",function(){}),o.d(i,"RtcClient",function(){return vt});var c=o(26),d=function(At,It,Ht,Zt){return new(Ht||(Ht=Promise))(function(rr,pr){function _r(mr){try{cr(Zt.next(mr))}catch(Cr){pr(Cr)}}function ir(mr){try{cr(Zt.throw(mr))}catch(Cr){pr(Cr)}}function cr(mr){var Cr;mr.done?rr(mr.value):(Cr=mr.value,Cr instanceof Ht?Cr:new Ht(function(Mr){Mr(Cr)})).then(_r,ir)}cr((Zt=Zt.apply(At,It||[])).next())})};class j extends c.a{adminSignup(It,Ht){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:Ht,method:"POST",body:JSON.stringify(It)})})}login(It){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(It),allowUnsafeRetries:!0})})}loginWithGoogleToken(It){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(It),allowUnsafeRetries:!0})})}refresh(It,Ht){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:It,tokenExpirationSeconds:Ht}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(It){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(It)})})}forgotPassword(It){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:It})})})}confirmForgotPassword(It){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(It)})})}resendInvitation(It){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:It})})})}changePassword({token:It,refreshToken:Ht,currentPassword:Zt,newPassword:rr}){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:It,method:"POST",body:JSON.stringify({refreshToken:Ht,currentPassword:Zt,newPassword:rr})})})}getDeviceCredentials(It){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:It,method:"POST",allowUnsafeRetries:!0})})}impersonate(It,Ht){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:It,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:Ht})})})}createServiceAccount(It,Ht,Zt){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:It,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:Ht,roleId:Zt})})})}getFeatures(It){return d(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:It})).features})}}var Z=function(At,It,Ht,Zt){return new(Ht||(Ht=Promise))(function(rr,pr){function _r(mr){try{cr(Zt.next(mr))}catch(Cr){pr(Cr)}}function ir(mr){try{cr(Zt.throw(mr))}catch(Cr){pr(Cr)}}function cr(mr){var Cr;mr.done?rr(mr.value):(Cr=mr.value,Cr instanceof Ht?Cr:new Ht(function(Mr){Mr(Cr)})).then(_r,ir)}cr((Zt=Zt.apply(At,It||[])).next())})};class s extends c.a{createPeer(It,Ht){return Z(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:It,method:"POST",body:JSON.stringify(Ht)})})}getPeers(It){return Z(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:It})).items})}refreshPeer(It,Ht){return Z(this,void 0,void 0,function*(){yield this.fetch(`peers/${Ht}/refresh`,{token:It,method:"POST",allowUnsafeRetries:!0})})}createSession(It,Ht){return Z(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:It,method:"POST",body:JSON.stringify(Ht)})})}refreshSession(It,Ht){return Z(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Ht}/refresh`,{token:It,method:"POST",allowUnsafeRetries:!0})})}deleteSession(It,Ht){return Z(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Ht}`,{token:It,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(It){return Z(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:It})).items})}getIceServers(It){return Z(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:It})).items})}addSignals(It,Ht,Zt){return Z(this,void 0,void 0,function*(){yield this.fetch(`sessions/${Ht}/add-signals`,{token:It,method:"POST",body:JSON.stringify(Zt)})})}takeSignals(It,Ht){return Z(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${Ht}/take-signals`,{token:It,method:"POST"})).items})}}var $=o(1),et=o(11),ut=o(21),gt=o(102);class lt extends class{constructor(It={}){this.cache=new gt(It),this.stringify=It.fastStringify?JSON.stringify:ut}set(It,Ht,Zt){if(!this.cache.set(this.stringify(It),Ht,Zt))throw Error(`Value too large (${this.cache.lengthCalculator(Ht)} > ${this.cache.max})`)}get(It){return this.cache.get(this.stringify(It))}del(It){this.cache.del(this.stringify(It))}length(){return this.cache.length}reset(){this.cache.reset()}prune(){return this.cache.prune()}forEach(It){return this.cache.forEach(It)}}{constructor(It={}){if(super(It),this.expireRejectedPromiseValues=It.expireRejectedPromiseValues===void 0||It.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=It.rejectedPromiseValueTtl!==void 0?It.rejectedPromiseValueTtl:$.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(It,Ht,Zt){const rr=this.stringify(It);this.cache.set(rr,Ht,Zt),this.expireRejectedPromiseValues&&Promise.resolve(Ht).catch(()=>function(pr,_r,ir,cr){return new(ir||(ir=Promise))(function(mr,Cr){function Mr(dn){try{an(cr.next(dn))}catch(rn){Cr(rn)}}function Yr(dn){try{an(cr.throw(dn))}catch(rn){Cr(rn)}}function an(dn){var rn;dn.done?mr(dn.value):(rn=dn.value,rn instanceof ir?rn:new ir(function(tn){tn(rn)})).then(Mr,Yr)}an((cr=cr.apply(pr,_r||[])).next())})}(this,void 0,void 0,function*(){yield Object(et.a)(this.rejectedPromiseValueTtl),this.cache.peek(rr)===Ht&&this.cache.del(rr)}))}}var ft=function(At,It,Ht,Zt){return new(Ht||(Ht=Promise))(function(rr,pr){function _r(mr){try{cr(Zt.next(mr))}catch(Cr){pr(Cr)}}function ir(mr){try{cr(Zt.throw(mr))}catch(Cr){pr(Cr)}}function cr(mr){var Cr;mr.done?rr(mr.value):(Cr=mr.value,Cr instanceof Ht?Cr:new Ht(function(Mr){Mr(Cr)})).then(_r,ir)}cr((Zt=Zt.apply(At,It||[])).next())})};class ot{constructor(It,Ht,Zt){this.authClient=It,this.email=Ht,this.password=Zt,this.tokenTtlMs=1*$.a.hour,this.tokenCache=new lt({max:100,maxAge:this.tokenTtlMs-5*$.a.minute,fastStringify:!0})}getToken(){return ft(this,void 0,void 0,function*(){let It=this.tokenCache.get(this.email);return It||(It=(()=>ft(this,void 0,void 0,function*(){const{authentication:Ht}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/$.a.second});if(!Ht)throw new Error("User account not verified.");return Ht.accessToken}))(),this.tokenCache.set(this.email,It)),It})}}var yt=o(93);function wt(At){return function(It,Ht,Zt,rr){return new(Zt||(Zt=Promise))(function(pr,_r){function ir(Cr){try{mr(rr.next(Cr))}catch(Mr){_r(Mr)}}function cr(Cr){try{mr(rr.throw(Cr))}catch(Mr){_r(Mr)}}function mr(Cr){var Mr;Cr.done?pr(Cr.value):(Mr=Cr.value,Mr instanceof Zt?Mr:new Zt(function(Yr){Yr(Mr)})).then(ir,cr)}mr((rr=rr.apply(It,Ht||[])).next())})}(this,void 0,void 0,function*(){return(yield Promise.all(At.map(It=>It.catch(Ht=>Ht)))).filter(It=>It instanceof Error)})}function Rt(At){if(At!==void 0)return At;throw new Error("Value is undefined")}var Mt=o(0),Tt=function(At,It,Ht,Zt){return new(Ht||(Ht=Promise))(function(rr,pr){function _r(mr){try{cr(Zt.next(mr))}catch(Cr){pr(Cr)}}function ir(mr){try{cr(Zt.throw(mr))}catch(Cr){pr(Cr)}}function cr(mr){var Cr;mr.done?rr(mr.value):(Cr=mr.value,Cr instanceof Ht?Cr:new Ht(function(Mr){Mr(Cr)})).then(_r,ir)}cr((Zt=Zt.apply(At,It||[])).next())})};function Ct({func:At,delay:It,immediate:Ht}){let Zt=!1,rr=setTimeout(function _r(){return Tt(this,void 0,void 0,function*(){if(Zt)return;const ir=new Date().getTime();try{pr=At(),yield pr}finally{if(!Zt){const cr=new Date().getTime();rr=setTimeout(_r,Math.max(It-(cr-ir),0))}}})},Ht?0:It),pr=Promise.resolve();return{stop(){return Tt(this,void 0,void 0,function*(){Zt=!0,clearTimeout(rr),yield pr})}}}function ct(At,It){return Object.keys(At).reduce((Ht,Zt)=>Object.assign(Object.assign({},Ht),{[Zt]:It(At[Zt])}),{})}var Lt=function(At,It,Ht,Zt){return new(Ht||(Ht=Promise))(function(rr,pr){function _r(mr){try{cr(Zt.next(mr))}catch(Cr){pr(Cr)}}function ir(mr){try{cr(Zt.throw(mr))}catch(Cr){pr(Cr)}}function cr(mr){var Cr;mr.done?rr(mr.value):(Cr=mr.value,Cr instanceof Ht?Cr:new Ht(function(Mr){Mr(Cr)})).then(_r,ir)}cr((Zt=Zt.apply(At,It||[])).next())})};const Kt=o(224),Yt=!!o(7).c,pt=new class{constructor(At=60){this.buffer={},this.metrics={},this.reporters=[],this.flushInterval=Ct({func:()=>this.flushStats(),delay:At*$.a.second})}shutdown(){return Lt(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(et.a)(2*$.a.second)})}aggregate(At,It){if(this.buffer[At]){const{min:Ht,max:Zt,sum:rr,count:pr}=this.buffer[At];this.buffer[At]={min:Math.min(Ht,It),max:Math.max(Zt,It),sum:rr+It,count:pr+1}}else this.buffer[At]={min:It,max:It,sum:It,count:1}}increment(At){this.aggregate(At,1)}timer(At,It){return Lt(this,void 0,void 0,function*(){const Ht=Kt(),Zt=yield It(),rr=Kt();return this.aggregate(At,rr-Ht),Zt})}metric(At,It){this.metrics[At]=It}registerStatsReporter(At){this.reporters.push(At)}write(At){return Lt(this,void 0,void 0,function*(){if(Object.values(At).length===0)return;const It=yield wt(this.reporters.map(Ht=>Ht.send(At)));for(const Ht of It)Mt.a.warn("Failed to write stats",{error:Ht})})}flushStats(){return Lt(this,void 0,void 0,function*(){const At=Object.assign(Object.assign({},this.buffer),ct(this.metrics,It=>{const Ht=It();return{min:Ht,max:Ht,sum:Ht,count:1}}));Object.keys(At).length>0&&(yield this.write(At),this.buffer={})})}};Yt||pt.registerStatsReporter(new class{constructor(At){this.message=At}send(At){return function(It,Ht,Zt,rr){return new(Zt||(Zt=Promise))(function(pr,_r){function ir(Cr){try{mr(rr.next(Cr))}catch(Mr){_r(Mr)}}function cr(Cr){try{mr(rr.throw(Cr))}catch(Mr){_r(Mr)}}function mr(Cr){var Mr;Cr.done?pr(Cr.value):(Mr=Cr.value,Mr instanceof Zt?Mr:new Zt(function(Yr){Yr(Mr)})).then(ir,cr)}mr((rr=rr.apply(It,Ht||[])).next())})}(this,void 0,void 0,function*(){Mt.a.info(this.message,ct(At,It=>{const{sum:Ht,count:Zt}=It,rr=Ht/Zt;return Object.assign(Object.assign({},It),{average:rr})}))})}}("stats"));var dt=o(8),bt=o(22),mt=o(103),jt=o(36);class zt extends jt.a{constructor(It){super(It)}postLanRtcOffer(It){return function(Ht,Zt,rr,pr){return new(rr||(rr=Promise))(function(_r,ir){function cr(Mr){try{Cr(pr.next(Mr))}catch(Yr){ir(Yr)}}function mr(Mr){try{Cr(pr.throw(Mr))}catch(Yr){ir(Yr)}}function Cr(Mr){var Yr;Mr.done?_r(Mr.value):(Yr=Mr.value,Yr instanceof rr?Yr:new rr(function(an){an(Yr)})).then(cr,mr)}Cr((pr=pr.apply(Ht,Zt||[])).next())})}(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(It)})})}}var kt=o(55);const St={ordered:!1,maxPacketLifeTime:300*$.a.millisecond},Dt={ordered:!0},Nt={ordered:!0},_t={ordered:!1,maxRetransmits:0},at={ordered:!1,maxRetransmits:0};function Bt({entityId:At,streamName:It,streamType:Ht}){return`${At}.${It}.${Ht}`}class Vt{constructor(It,Ht){this.sessionId=It,this.connection=Ht,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=It,this.connection=Ht}updateRemoteMessagesCounts(It){if(It.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const Ht of It.payload.streamsInfo.items)this.counts.remoteSent.set(Ht.streamId,Ht.sentCount),this.counts.remoteReceived.set(Ht.streamId,Ht.receivedCount)}}getLocalStreamsInfo(It){const{localSent:Ht,localReceived:Zt}=this.counts;return{items:[...new Set([...Ht.keys(),...Zt.keys()])].map(rr=>{var pr,_r;return{streamId:rr,sentCount:(pr=Ht.get(rr))!==null&&pr!==void 0?pr:0,receivedCount:(_r=Zt.get(rr))!==null&&_r!==void 0?_r:0}}),timestamp:It}}incrementLocalSent(It){const{localSent:Ht}=this.counts,Zt=Bt(It.header.stream);Ht.set(Zt,(Ht.get(Zt)||0)+1)}incrementLocalReceived(It){const{localReceived:Ht}=this.counts,Zt=Bt(It.header.stream),rr=Ht.get(Zt)||0;if(rr===0){const{streamName:pr,streamType:_r}=It.header.stream;Mt.a.debug("RTC client received first message for stream",{streamName:pr,streamType:_r})}Ht.set(Zt,rr+1)}uploadMetrics(){return It=this,Ht=void 0,rr=function*(){const{sessionId:pr}=this,_r=yield this.connection.peerConnection.getStats(),ir={};_r.forEach(an=>ir[an.id]=an),Mt.a.debug("rtc-stats",Object.assign(Object.assign({},ir),{sessionId:pr}));const{localSent:cr,localReceived:mr,remoteSent:Cr,remoteReceived:Mr}=this.counts,Yr=[...new Set([...cr.keys(),...mr.keys()])].reduce((an,dn)=>{const rn=cr.get(dn),tn=mr.get(dn),Hn=Cr.get(dn),Qn=Mr.get(dn);return Object.assign(Object.assign({},an),{[`local-${dn}-sent`]:rn,[`local-${dn}-received`]:tn,[`remote-${dn}-sent`]:Hn,[`remote-${dn}-received`]:Qn})},{sessionId:pr});Mt.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},Yr))},new((Zt=void 0)||(Zt=Promise))(function(pr,_r){function ir(Cr){try{mr(rr.next(Cr))}catch(Mr){_r(Mr)}}function cr(Cr){try{mr(rr.throw(Cr))}catch(Mr){_r(Mr)}}function mr(Cr){var Mr;Cr.done?pr(Cr.value):(Mr=Cr.value,Mr instanceof Zt?Mr:new Zt(function(Yr){Yr(Mr)})).then(ir,cr)}mr((rr=rr.apply(It,Ht||[])).next())});var It,Ht,Zt,rr}}function Qt(At){return new Set(["disconnected","failed","closed"]).has(At.iceConnectionState)}var or=function(At,It,Ht,Zt){return new(Ht||(Ht=Promise))(function(rr,pr){function _r(mr){try{cr(Zt.next(mr))}catch(Cr){pr(Cr)}}function ir(mr){try{cr(Zt.throw(mr))}catch(Cr){pr(Cr)}}function cr(mr){var Cr;mr.done?rr(mr.value):(Cr=mr.value,Cr instanceof Ht?Cr:new Ht(function(Mr){Mr(Cr)})).then(_r,ir)}cr((Zt=Zt.apply(At,It||[])).next())})};class ar{constructor(It,Ht,Zt){this.peerConnection=It,this.config=Ht,this.dataChannelNotifier=Zt,this.connectTimeoutMs=20*$.a.second,this.iceGatheringTimeoutMs=15*$.a.second,this.pingUpdateTimeoutMs=1*$.a.second,this.streamsInfoUpdateTimeoutMs=2*$.a.second,this.reassemblyTimeoutMs=500*$.a.millisecond,this.reassemblyTableCleanupMs=1*$.a.second,this.heartbeatTimeoutMs=20*$.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1;const{isOffer:rr}=Ht.baseConfig;rr?this.initializeChannels(It):It.ondatachannel=pr=>{switch(pr.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=pr.channel;break;case"stream.reliable":this.reliableStreamChannel=pr.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=pr.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=pr.channel;break;case"heartbeat":return void(this.heartbeatChannel=pr.channel);default:return void this.dataChannelNotifier(pr.channel)}this.setupChannel(pr.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:pr}=this;pr&&this.sendSystemMessage(pr,{type:"ping"})},this.pingUpdateTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:pr}=this;pr&&this.sendSystemMessage(pr,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const pr=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((_r,ir,cr)=>{pr>ir+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(_r)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:pr}=this;pr&&pr.readyState==="open"&&pr.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(It){return or(this,void 0,void 0,function*(){const{peerConnection:Ht}=this,{track:Zt}=this.config.baseConfig,rr=(()=>{try{return JSON.parse(It.getPayload())}catch{return}})();if(!rr)return void Mt.a.error("Received unparseable signal.");Mt.a.debug("Handling signal",{description:rr});const{sdp:pr,type:_r}=rr;if(!pr||!_r)return void Mt.a.warn("Received non-SDP signal");const{signalingState:ir,connectionState:cr}=Ht;if(ir!=="stable"||cr!=="connected")if(Ht.remoteDescription)Mt.a.warn(`Received SDP after remote description was set: ${pr}`);else{if(_r==="offer"){if(ir!=="stable")return void Mt.a.warn("Received offer SDP when signaling is ongoing.");yield Ht.setRemoteDescription(rr);const mr=yield Ht.createAnswer();yield Ht.setLocalDescription(mr);const Cr=It.clone();return Zt==null||Zt("Answer Received",Cr),Cr.setPayload(JSON.stringify(mr)),Cr.setReceiverId(It.getSenderId()),Cr.setSenderId(It.getReceiverId()),Cr}if(_r==="answer"){if(ir==="stable")return void Mt.a.warn("Received answer SDP when signaling hasn't started.");yield Ht.setRemoteDescription(rr)}}else Mt.a.warn(`Received SDP when already connected: ${pr}`)})}send(It,Ht){const Zt=this.getChannelFromLabel(Ht.channelLabel);Zt?this.sendOnChannel(Zt,It):Mt.a.warn("Send called with unexpected channel label",{channelLabel:Ht.channelLabel})}controlRemoteStream(It){this.sendSystemMessage(Rt(this.reliableStreamChannel),{type:"stream-control",streamControl:It})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:It,latestTtlStreamChannel:Ht,latestTryOnceStreamChannel:Zt,latestReliableStreamChannel:rr}=this;return(It==null?void 0:It.readyState)==="open"&&(Ht==null?void 0:Ht.readyState)==="open"&&(Zt==null?void 0:Zt.readyState)==="open"&&(rr==null?void 0:rr.readyState)==="open"}close(){return or(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.reassemblyTableCleanupTimeout&&clearInterval(this.reassemblyTableCleanupTimeout),this.streamsInfoUpdateTimeout&&clearInterval(this.streamsInfoUpdateTimeout),this.heartbeatTimeout&&clearInterval(this.heartbeatTimeout);const{peerConnection:It,reliableStreamChannel:Ht,latestTtlStreamChannel:Zt,latestTryOnceStreamChannel:rr,latestReliableStreamChannel:pr}=this;It.close(),Ht==null||Ht.close(),Zt==null||Zt.close(),rr==null||rr.close(),pr==null||pr.close()})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var It;return(It=this.config.remoteConfig)===null||It===void 0?void 0:It.sessionCreatedTimestamp}setSessionCreatedTimestamp(It){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=It)}getSessionId(){var It;return(It=this.config.remoteConfig)===null||It===void 0?void 0:It.sessionId}setSessionId(It){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=It,this.sessionMetrics=new Vt(It,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var It;return(It=this.config.baseConfig)===null||It===void 0?void 0:It.remoteDeviceId}setRemoteDeviceId(It){this.config.baseConfig.remoteDeviceId=It}getSessionMetricsMessageCounts(){var It;return(It=this.sessionMetrics)===null||It===void 0?void 0:It.counts}getConnectionStatsInfo(){return or(this,void 0,void 0,function*(){const{peerConnection:It}=this;if(!It)return;const Ht=yield It.getStats(null),Zt=[];Ht.forEach(cr=>{Zt.push(cr)});const rr=Zt.find(cr=>cr.type==="transport");if(!rr)return;const pr=Zt.find(cr=>(cr.type==="candidate-pair"||cr.type==="candidatepair")&&cr.id===rr.selectedCandidatePairId);if(!pr)return;const _r=Zt.find(cr=>cr.id===pr.localCandidateId),ir=Zt.find(cr=>cr.id===pr.remoteCandidateId);return _r&&ir&&(_r.address=_r.address||_r.ip,ir.address=ir.address||ir.ip,_r.address!==void 0&&ir.address!==void 0)?{transport:rr,localCandidate:_r,remoteCandidate:ir}:void 0})}initializeChannels(It){this.heartbeatChannel=It.createDataChannel("heartbeat",at),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=It.createDataChannel("stream.latest-ttl",St),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=It.createDataChannel("stream.reliable",Dt),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=It.createDataChannel("stream.latest-reliable",Nt),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=It.createDataChannel("stream.latest-try-once",_t),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var It,Ht,Zt;return or(this,void 0,void 0,function*(){const{gotOffer:rr}=this,{peerConnection:pr,config:_r}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const ir=(It=this.config.remoteConfig)===null||It===void 0?void 0:It.sessionId;if(rr)return void Mt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Qt(this.peerConnection))return void Mt.a.debug("Failed to generate offer because the peer connection was inactive.");const cr=_r.baseConfig.track;pr.onicecandidate=()=>{this.hasIceCandidate=!0},pr.oniceconnectionstatechange=()=>or(this,void 0,void 0,function*(){const an=pr.iceConnectionState;if(an==="connected"||an==="completed"){const dn=yield this.getConnectionStatsInfo(),rn=dn?function(tn){const Hn=tn.localCandidate.candidateType,Qn=tn.remoteCandidate.candidateType;return Hn==="host"&&Qn==="host"?"local":Hn==="relay"||Qn==="relay"?"TURN":"STUN"}(dn):void 0;Mt.a.info(`ICE connection state changed to ${an}`,{sessionId:ir,connectionStatsInfo:dn,iceMode:rn}),cr==null||cr("ICE connection state change",{iceConnectionState:an,sessionId:ir,connectionStatsInfo:dn,iceMode:rn})}}),yield pr.setLocalDescription(yield pr.createOffer());const mr=new Date().getTime();for(;;){const an=new Date().getTime()-mr;if(an>this.connectTimeoutMs)return void Mt.a.debug("Failed to generate offer because ICE gathering timed out.");if(an>this.iceGatheringTimeoutMs&&this.hasIceCandidate){Mt.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:pr.getConfiguration().iceTransportPolicy,waitTime:an}),cr==null||cr("ICE gathering partially completed",{sessionId:ir,iceTransportPolicy:pr.getConfiguration().iceTransportPolicy,waitTime:an});break}if(pr.iceGatheringState==="complete"){Mt.a.debug("ICE gathering complete",{iceTransportPolicy:pr.getConfiguration().iceTransportPolicy,waitTime:an}),cr==null||cr("ICE gathering completed",{sessionId:ir,iceTransportPolicy:pr.getConfiguration().iceTransportPolicy,waitTime:an});break}yield Object(et.a)(.1*$.a.second)}const Cr=(Ht=this.peerConnection.getConfiguration().iceServers)!==null&&Ht!==void 0?Ht:[];for(const an of Cr)an.credentialType=void 0;const Mr=JSON.stringify(Cr),Yr=new dt.Signal;return Yr.setPayload(JSON.stringify(pr.localDescription)),Yr.setSenderId(this.config.baseConfig.localPeerId),Yr.setReceiverId(this.config.baseConfig.remotePeerId),Yr.setIceServers(Mr),Yr.setIceTransportPolicy((Zt=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&Zt!==void 0?Zt:"all"),Yr.setSessionType(dt.SessionType.TELEOP),Mt.a.debug("Sending offer signal with description",{description:Yr.getPayload()}),Yr})}getLanOffer(){return or(this,void 0,void 0,function*(){const{peerConnection:It,gotOffer:Ht}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(Ht)return void Mt.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,Qt(this.peerConnection))return void Mt.a.debug("Failed to generate offer because the peer connection was inactive.");yield It.setLocalDescription(yield It.createOffer());const Zt=new Date().getTime();for(;;){if(new Date().getTime()-Zt>this.iceGatheringTimeoutMs)return void Mt.a.debug("Failed to generate offer because ICE gathering timed out.");if(It.iceGatheringState==="complete")break;yield Object(et.a)(.1*$.a.second)}const rr=It.localDescription;if(rr)return Mt.a.debug("Sending LAN offer signal with description",{description:rr}),rr;Mt.a.error("Failed to generate LAN offer description")})}handleLanAnswer(It){return or(this,void 0,void 0,function*(){const{peerConnection:Ht}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield Ht.setRemoteDescription(It)})}getChannelFromLabel(It){switch(It){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(It,Ht){let Zt;try{Zt=Object(kt.encode)(JSON.stringify(Ht))}catch(rr){return void Mt.a.warn("Failed to encode RTC message",{error:rr})}try{It.send(Zt),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(Ht)}catch(rr){Mt.a.warn("Failed to send message to channel",{error:rr,channel:It.label})}}channelNotRecognized(It){return It!==this.latestTtlStreamChannel&&It!==this.latestReliableStreamChannel&&It!==this.latestTryOnceStreamChannel&&It!==this.reliableStreamChannel}setupChannel(It){It.onmessage=Ht=>{if(this.channelNotRecognized(It))return void Mt.a.warn("Received message on unrecognized data channel.");let Zt;try{Zt=JSON.parse(Object(kt.decode)(Ht.data))}catch(rr){return void Mt.a.warn("Received unparseable message on RTC stream data channel",{error:rr,channel:It.label})}Zt.communicationType==="message-chunk"?this.receiveChannelMessageChunk(It,Zt):this.receiveChannelMessage(It,Zt)},It.onerror=Ht=>{Mt.a.warn(`Channel error: ${Ht.error}`,{error:Ht.error,sessionId:this.getSessionId(),channelLabel:It.label})},It.onopen=()=>{Mt.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:It.label})},It.onclose=()=>{const Ht={bufferedAmount:It.bufferedAmount,sessionId:this.getSessionId(),channelLabel:It.label};this.closeCalled===!1?Mt.a.debug("Unexpected channel closed",Ht):Mt.a.debug("Channel closed",Ht)}}receiveChannelMessage(It,Ht){const{config:Zt}=this,{remotePeerId:rr}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),Ht=function(pr){switch(pr.header.stream.streamType){case"twist":const{twist:_r}=pr.payload;if(!_r)throw Error("twist not in payload of RTC message with type twist");return{header:pr.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},_r.linear),angular:Object.assign({x:0,y:0,z:0},_r.angular)}}};case"pose":const{pose:ir}=pr.payload;if(!ir)throw Error("pose not in payload of RTC message with type pose");return{header:pr.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},ir.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},ir.rotation)}}};case"pose-with-covariance":const{poseWithCovariance:cr}=pr.payload;if(!cr)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const mr=new Array(36).fill(0);return cr.covariance.forEach((Mr,Yr)=>{if(Yr>=36)throw Error("covariance contains more than 36 elements");mr[Yr]=Mr}),{header:pr.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},cr.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},cr.pose.rotation)},covariance:mr}}};case"point":const{point:Cr}=pr.payload;if(!Cr)throw Error("point not in payload of RTC message with type point");return{header:pr.header,payload:{point:Object.assign({x:0,y:0,z:0},Cr)}};default:return pr}}(Ht),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(Ht),this.handleSystemMessage(It,Ht)||(It===this.latestTryOnceStreamChannel||It===this.latestTtlStreamChannel||It===this.latestReliableStreamChannel)&&!this.isLatestMessage(Ht)||Zt.baseConfig.receive(rr,Ht)}receiveChannelMessageChunk(It,Ht){const Zt=this.reassemblyTable.get(Ht.id)||[];if(Zt.push(Ht),Zt.length===Ht.total){const rr=function(pr){const _r=pr.sort((ir,cr)=>ir.seq<cr.seq?-1:1).map(ir=>ir.part).reduce((ir,cr)=>ir+cr);try{return JSON.parse(_r)}catch{return void Mt.a.warn("Could not reassemble RTC message chunks")}}(Zt);return rr&&this.receiveChannelMessage(It,rr),void this.reassemblyTable.delete(Ht.id)}this.reassemblyTable.set(Ht.id,Zt),this.reassemblyTableLastTimestamp.set(Ht.id,new Date().getTime())}handleSystemMessage(It,Ht){var Zt,rr;const{config:pr}=this,{baseConfig:_r}=pr,{remotePeerId:ir}=_r;switch(Ht.header.stream.streamType){case"ping":return this.sendSystemMessage(It,{type:"pong",timestamp:Rt(Ht.payload.ping)}),!0;case"pong":const cr=new Date().getTime()-Rt(Ht.payload.pong);return this.pingTimeMs=cr,pt.aggregate("rtc-ping-time",cr),!0;case"streams-info":const{sessionMetrics:mr}=this,Cr=(Zt=Ht.payload.streamsInfo)===null||Zt===void 0?void 0:Zt.timestamp;return!!Cr&&(mr==null||mr.updateRemoteMessagesCounts(Ht),(rr=_r.onStreamsInfoUpdate)===null||rr===void 0||rr.call(_r,ir,Cr),!0);case"stream-control":return!0;default:return!1}}sendSystemMessage(It,Ht){var Zt;const{localUserId:rr,localPeerId:pr}=this.config.baseConfig;if(It.readyState!=="open")return;const _r={entityId:rr!=null?rr:pr,streamName:`$.${Ht.type}`,streamType:Ht.type};let ir;switch(Ht.type){case"ping":ir={ping:new Date().getTime()};break;case"pong":ir={pong:Ht.timestamp};break;case"stream-control":ir={streamControl:Ht.streamControl};break;case"streams-info":ir={streamsInfo:(Zt=this.sessionMetrics)===null||Zt===void 0?void 0:Zt.getLocalStreamsInfo(new Date().getTime())}}var cr;this.sendOnChannel(It,(cr=ir,{header:{stream:_r,created:Date.now(),frameId:""},payload:cr}))}isLatestMessage(It){const Ht=Bt(It.header.stream),Zt=(this.streamLatestTimestamp.get(Ht)||0)<=It.header.created;return Zt&&this.streamLatestTimestamp.set(Ht,It.header.created),Zt}}function qt(At){var It,Ht;return{userId:(It=At.getUserId())===null||It===void 0?void 0:It.getValue(),deviceId:(Ht=At.getDeviceId())===null||Ht===void 0?void 0:Ht.getValue(),organizationId:At.getOrganizationId(),id:At.getPeerId(),capabilities:[],capabilitySet:{}}}var Gt=function(At,It,Ht,Zt){return new(Ht||(Ht=Promise))(function(rr,pr){function _r(mr){try{cr(Zt.next(mr))}catch(Cr){pr(Cr)}}function ir(mr){try{cr(Zt.throw(mr))}catch(Cr){pr(Cr)}}function cr(mr){var Cr;mr.done?rr(mr.value):(Cr=mr.value,Cr instanceof Ht?Cr:new Ht(function(Mr){Mr(Cr)})).then(_r,ir)}cr((Zt=Zt.apply(At,It||[])).next())})};class vt{constructor(It){this.config=It,this.grpcCallDeadline=5*$.a.second,this.refreshIntervalDelayMs=2*$.a.second,this.iceServersTtl=30*$.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[];const{refreshIntervalDelayMs:Ht}=this;this.refreshInterval=Ct({func:()=>Gt(this,void 0,void 0,function*(){try{yield this.update()}catch(Zt){Mt.a.warn("RTC refresh failed",{error:Zt})}}),delay:Ht,immediate:!0})}send(It,Ht,Zt){const rr=this.getActiveConnection(It);rr?rr.isReady()?rr.send(Ht,Zt):Mt.a.warn("Send called with unready connection."):Mt.a.warn("Send called with no connection.")}controlRemoteStream(It,Ht){const Zt=this.getActiveConnection(It);Zt?Zt.isReady()?Zt.controlRemoteStream(Ht):Mt.a.warn("controlRemoteStream called with unready connection."):Mt.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return Gt(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(et.a)(.1*$.a.second);return qt(this.localPeer)})}connect(It,Ht){var Zt,rr,pr;return Gt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:_r,signalingClient:ir}=this.config,{localPeer:cr,receiveSignalStream:mr,iceServers:Cr}=this;if(!cr||!mr||!Cr)return void Mt.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(It))return void Mt.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(It))return void Mt.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(It,!0);const Mr=new ar(yield this.createRTCPeerConnection(Cr,Ht),{baseConfig:{isOffer:!0,isLan:!1,receive:(Hn,Qn)=>this.config.receive(Hn,Qn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Hn,Qn)=>{var io,yo;return(yo=(io=this.config).onStreamsInfoUpdate)===null||yo===void 0?void 0:yo.call(io,Hn,Qn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(Zt=cr.getUserId())===null||Zt===void 0?void 0:Zt.getValue(),localPeerId:cr.getPeerId(),remotePeerId:It},remoteConfig:{}},Hn=>this.onCustomDataChannel(It,Hn)),Yr=yield Mr.getOffer();if(!Yr)return Mt.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(It);Mt.a.debug("Sending offer."),_r==null||_r("Sending offer",Yr);const an=new dt.SendSignalRequest;an.setSignal(Yr);const dn=yield(()=>Gt(this,void 0,void 0,function*(){try{return yield ir.sendSignal(an,yield this.getMetadata({}))}catch(Hn){Mt.a.warn("Error when sending signal",{error:Hn})}}))();if(!this.isOutgoingConnection.get(It))return void Mt.a.debug("No offer set after receiving offer signal response.");Mt.a.debug("Offer sent.");const rn=(rr=dn==null?void 0:dn.getSessionId())===null||rr===void 0?void 0:rr.getValue(),tn=(pr=dn==null?void 0:dn.getSessionCreatedTimestamp())===null||pr===void 0?void 0:pr.getValue();return rn&&tn?(Mr.setSessionId(rn),Mr.setSessionCreatedTimestamp(tn),this.isOutgoingConnection.delete(It),this.connections.push(Mr),this.isConnectionInitiator.set(Mr,!0),this.setupHandlers(Mr),rn):(Mt.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(It))})}connectLan(It){var Ht,Zt;return Gt(this,void 0,void 0,function*(){const rr=new zt(It),pr=new ar(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(mr,Cr)=>this.config.receive(mr,Cr),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(mr,Cr)=>{var Mr,Yr;return(Yr=(Mr=this.config).onStreamsInfoUpdate)===null||Yr===void 0?void 0:Yr.call(Mr,mr,Cr)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(Zt=(Ht=this.localPeer)===null||Ht===void 0?void 0:Ht.getUserId())===null||Zt===void 0?void 0:Zt.getValue(),localPeerId:"lan_client",remotePeerId:It}},mr=>this.onCustomDataChannel(It,mr)),_r=yield pr.getLanOffer();if(!_r)return Mt.a.warn("Could not generate LAN offer"),!1;const ir=yield rr.postLanRtcOffer({offer:JSON.stringify(_r)}),cr=new RTCSessionDescription(JSON.parse(ir.answer));return yield pr.handleLanAnswer(cr),this.localConnections.push(pr),Object(mt.v4)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(It,Ht,Zt,rr,pr){const _r=this.getActiveConnection(It);if(_r&&this.isConnectionInitiator.has(_r)){const cr=_r.peerConnection.createDataChannel("custom."+Ht,Zt);return rr&&(cr.binaryType="arraybuffer"),pr(It,cr),()=>{}}const ir=(cr,mr)=>{It===cr&&mr.label==="custom."+Ht&&pr(It,mr)};return this.peerDataChannelListeners.push(ir),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(cr=>cr!==ir)}}onCustomDataChannel(It,Ht){this.peerDataChannelListeners.forEach(Zt=>Zt(It,Ht))}getConnectionStatus(It){if(this.isOutgoingConnection.get(It))return"connecting";const Ht=this.getActiveConnection(It);return Ht?Ht.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(It){return Gt(this,void 0,void 0,function*(){const Ht=this.getActiveConnection(It);if(Ht)return yield Ht.getConnectionStatsInfo()})}disconnect(It){return Gt(this,void 0,void 0,function*(){const Ht=this.getActiveConnection(It);Ht&&(yield Ht.close())})}getPeers(){return Gt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:It}=this.config,Ht=yield(()=>Gt(this,void 0,void 0,function*(){try{return yield It.getPeers(new dt.GetPeersRequest,yield this.getMetadata({}))}catch(pr){Mt.a.warn("Error when getting peers",{error:pr})}}))();if(!Ht)return[];const Zt=Ht.getPeersList();if(!Zt)return[];const rr=pr=>{var _r,ir;return(ir=(_r=pr.getPeerCreatedTimestamp())===null||_r===void 0?void 0:_r.getValue())!==null&&ir!==void 0?ir:0};return Zt.sort((pr,_r)=>rr(_r)-rr(pr)).map(pr=>qt(pr))})}getSessions(){return Gt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:It}=this.config,Ht=yield(()=>Gt(this,void 0,void 0,function*(){try{return yield It.getPeers(new dt.GetPeersRequest,yield this.getMetadata({}))}catch(pr){Mt.a.warn("Error when getting peers",{error:pr})}}))();if(!Ht)return{};const Zt=Ht.getPeersList(),rr={};for(const pr of Zt)rr[pr.getPeerId()]=pr.getSessionIdsList();return rr})}getPing(It){const Ht=this.getActiveConnection(It);if(Ht)return Ht.getPing();Mt.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(It){const Ht=this.getActiveConnection(It);if(Ht)return Ht.getLastMessageTimestamp();Mt.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(It){const Ht=this.getActiveConnection(It);if(Ht)return Ht.getSessionMetricsMessageCounts();Mt.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:It,receiveSignalStream:Ht,iceServers:Zt}=this;return!!(It&&Ht&&Zt)}shutdown(){return Gt(this,void 0,void 0,function*(){Mt.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const It=this.connections;this.connections=[],yield this.closeConnections(It);const{localPeer:Ht}=this;if(!Ht||this.config.lanOnlyMode)return;const{signalingClient:Zt}=this.config;yield(()=>Gt(this,void 0,void 0,function*(){try{const rr=new dt.DeletePeerRequest;rr.setPeerId(Ht.getPeerId()),yield Zt.deletePeer(rr,yield this.getMetadata({}))}catch(rr){return void Mt.a.warn("Error deleting local peer",{error:rr})}}))()})}createPeer(){return Gt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:It}=this.config,Ht=yield(()=>Gt(this,void 0,void 0,function*(){try{return yield It.createPeer(new dt.CreatePeerRequest,yield this.getMetadata({}))}catch(rr){throw new Error(`Was not able to create peer: ${JSON.stringify(rr)}`)}}))(),Zt=Ht==null?void 0:Ht.getPeer();if(!Zt)throw new Error("Response did not provide peer.");return this.localPeer=Zt})}createReceiveSignalStream(){return Gt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:It}=this.config,{localPeer:Ht,iceServers:Zt}=this;if(!Ht||!Zt)return;const{receiveSignalStream:rr}=this;rr&&rr.cancel();const pr=new dt.ReceiveSignalStreamRequest;pr.setPeerId(Ht.getPeerId());const _r=yield(()=>Gt(this,void 0,void 0,function*(){try{return It.receiveSignalStream(pr,yield this.getMetadata({hasDeadline:!1}))}catch(ir){throw new Error(`Unable to create receive signal stream: ${JSON.stringify(ir)}`)}}))();if(!_r)throw new Error("Response did not provide stream.");return _r.on("data",ir=>Gt(this,void 0,void 0,function*(){var cr,mr,Cr,Mr;const Yr=ir.getSignal(),an=(cr=Yr==null?void 0:Yr.getSessionId())===null||cr===void 0?void 0:cr.getValue(),dn=Yr==null?void 0:Yr.getSenderId(),rn=Yr==null?void 0:Yr.getReceiverId(),tn=(mr=Yr==null?void 0:Yr.getSessionCreatedTimestamp())===null||mr===void 0?void 0:mr.getValue();if(!(Yr&&an&&dn&&rn&&tn))return void Mt.a.warn("Received signal with missing information.");const Hn=this.getActiveConnection(dn);if(Hn)if(Hn.getSessionId()!==an){if(Mt.a.debug("Received signal: different session for a peer we're already connected to."),(Hn.getSessionCreatedTimestamp()||0)>tn)return;const Qn=new ar(yield this.createRTCPeerConnection(Zt),{baseConfig:{isOffer:!1,isLan:!1,receive:(io,yo)=>this.config.receive(io,yo),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(io,yo)=>{var ko,Ho;return(Ho=(ko=this.config).onStreamsInfoUpdate)===null||Ho===void 0?void 0:Ho.call(ko,io,yo)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:Ht.getPeerId(),localUserId:(Mr=Ht.getUserId())===null||Mr===void 0?void 0:Mr.getValue(),remotePeerId:dn},remoteConfig:{sessionId:an,sessionCreatedTimestamp:tn}},io=>this.onCustomDataChannel(dn,io));yield Qn.handleSignal(Yr),this.connections.push(Qn)}else Mt.a.debug("Received signal: for an existing connection."),yield Hn.handleSignal(Yr);else{Mt.a.debug("Received signal: new connection.");const Qn=new ar(yield this.createRTCPeerConnection(Zt),{baseConfig:{isOffer:!1,isLan:!1,receive:(io,yo)=>this.config.receive(io,yo),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(io,yo)=>{var ko,Ho;return(Ho=(ko=this.config).onStreamsInfoUpdate)===null||Ho===void 0?void 0:Ho.call(ko,io,yo)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:Ht.getPeerId(),localUserId:(Cr=Ht.getUserId())===null||Cr===void 0?void 0:Cr.getValue(),remotePeerId:dn},remoteConfig:{sessionId:an,sessionCreatedTimestamp:tn}},io=>this.onCustomDataChannel(dn,io));yield Qn.handleSignal(Yr),this.connections.push(Qn)}})),_r.on("end",()=>{_r.cancel(),this.receiveSignalStream=void 0}),_r.on("error",ir=>{switch(ir.code){case bt.StatusCode.CANCELLED:case bt.StatusCode.UNAVAILABLE:case bt.StatusCode.UNKNOWN:Mt.a.debug("Receive signal stream error",{error:ir});break;case bt.StatusCode.UNAUTHENTICATED:Mt.a.warn("Receive signal stream error",{error:ir});break;default:Mt.a.error("Receive signal stream error",{error:ir})}_r.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=_r})}createRTCPeerConnection(It,Ht){var Zt;return Gt(this,void 0,void 0,function*(){const rr=Ht==null?void 0:Ht.rtcIceTransportPolicy,pr=Ht==null?void 0:Ht.rtcIceServerProtocol,_r=(mr,Cr)=>typeof mr=="string"?mr.endsWith(`transport=${Cr}`):mr.some(Mr=>Mr.endsWith(`transport=${Cr}`)),ir=It.filter(mr=>{return rr!=="relay"||(typeof(Cr=mr.urls)=="string"?Cr.startsWith("turn:"):Cr.some(Mr=>Mr.startsWith("turn:")));var Cr}).filter(mr=>pr!=="udp"||_r(mr.urls,"udp")).filter(mr=>pr!=="tcp"||_r(mr.urls,"tcp")),cr=(Zt=this.config.alternateRTCPeerConnection)!==null&&Zt!==void 0?Zt:window.RTCPeerConnection;if(!cr)throw new Error("RTCPeerConnection class not found. WebRTC must be enabled.");return new cr(Object.assign({iceServers:ir,iceTransportPolicy:rr},Ht))})}closeConnections(It){return Gt(this,void 0,void 0,function*(){const Ht=yield wt(It.map(Zt=>Gt(this,void 0,void 0,function*(){yield Zt.close()})));for(const Zt of Ht)Mt.a.warn("Request to close session failed",{error:Zt})})}getActiveConnection(It){return this.getConnections().find(Ht=>Ht.getRemotePeerId()===It&&Ht.isActive())}update(){var It;return Gt(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(ir=>ir.isActive()),this.config.lanOnlyMode)return;const{signalingClient:Ht}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers)return this.localPeer||(yield this.createPeer()),this.iceServers||(yield this.updateIceServers()),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()));yield this.closeConnections(this.connections.filter(ir=>!ir.isActive())),this.connections=this.connections.filter(ir=>ir.isActive());const{localPeer:Zt}=this,rr=this.connections.filter(ir=>ir.getSessionId).map(ir=>Rt(ir.getSessionId()));Zt.setSessionIdsList(rr);const pr=new dt.RefreshPeerRequest;pr.setPeer(Zt);try{yield Ht.refreshPeer(pr,yield this.getMetadata({}))}catch(ir){ir.code===bt.StatusCode.NOT_FOUND?(Mt.a.warn("Peer expired, creating new peer",{peerId:Zt.getPeerId()}),yield this.reset()):Mt.a.warn("Error calling RefreshPeer",{error:ir})}const _r=yield this.getPeers();for(const ir of this.connections)ir.setRemoteDeviceId((It=_r.find(cr=>cr.id===ir.getRemotePeerId()))===null||It===void 0?void 0:It.deviceId)})}reset(){return Gt(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return Gt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:It,iceServersTtl:Ht}=this,Zt=new Date().getTime();if(!It||Zt-It>Ht)try{const rr=(yield this.config.signalingClient.getIceServers(new dt.GetIceServersRequest,yield this.getMetadata({}))).getIceServers();this.iceServers=JSON.parse(rr),this.iceServersLastUpdate=Zt}catch(rr){Mt.a.warn("Error in updateIceServers",{error:rr})}})}setupHandlers(It){const{peerConnection:Ht}=It,Zt=It.getSessionCreatedTimestamp();Ht.onconnectionstatechange=()=>Gt(this,void 0,void 0,function*(){const rr=Ht.connectionState;if(Zt)switch(rr){case"connected":pt.aggregate("rtc-connect-time",new Date().getTime()-Zt);break;case"failed":pt.increment("rtc-connect-failed")}})}getMetadata(It){return Gt(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:Ht}=this.config,{grpcCallDeadline:Zt}=this,{hasDeadline:rr}=It,pr=rr===!1?void 0:new Date().getTime()+Zt;return{authorization:yield Ht(),deadline:pr}})}}},,function(e,i,o){o.r(i),o.d(i,"LogClient",function(){return d});var c=o(26);class d extends c.a{log(Z){return function(s,$,et,ut){return new(et||(et=Promise))(function(gt,lt){function ft(wt){try{yt(ut.next(wt))}catch(Rt){lt(Rt)}}function ot(wt){try{yt(ut.throw(wt))}catch(Rt){lt(Rt)}}function yt(wt){var Rt;wt.done?gt(wt.value):(Rt=wt.value,Rt instanceof et?Rt:new et(function(Mt){Mt(Rt)})).then(ft,ot)}yt((ut=ut.apply(s,$||[])).next())})}(this,void 0,void 0,function*(){yield this.fetch("logs",{method:"POST",body:JSON.stringify({logs:Z}),allowUnsafeRetries:!0})})}}}])},module.exports=t()})(dist$1);let FORMANT_API_URL$1="https://api.formant.io";typeof window!="undefined"&&(FORMANT_API_URL$1=window.FORMANT_API_URL||FORMANT_API_URL$1);let urlParams$1$1=new URLSearchParams("");typeof window!="undefined"&&(urlParams$1$1=new URLSearchParams(window.location.search));const envDev$1=urlParams$1$1.get("formant_dev");envDev$1&&(FORMANT_API_URL$1="https://api-dev.formant.io");const envStage$1=urlParams$1$1.get("formant_stage");function delay$1(e){return new Promise(i=>setTimeout(i,e))}function defined$1(e,i){if(e!==void 0)return e;throw new Error(i||"Value is undefined")}envStage$1&&(FORMANT_API_URL$1="https://api-stage.formant.io");class App$1{static sendAppMessage(i){window.parent.postMessage(i,"*")}static getCurrentModuleContext(){let i=new URLSearchParams("");return typeof window!="undefined"&&(i=new URLSearchParams(window.location.search)),i.get("module")}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(i){this.sendAppMessage({type:"go_to_time",time:i.getTime()})}static showMessage(i){this.sendAppMessage({type:"show_message",message:i})}static requestModuleData(){const i=this.getCurrentModuleContext();if(!i)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:i})}static setModuleDateTimeRange(i,o){const c=this.getCurrentModuleContext();if(!c)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:c,before:i,after:o||0})}static refreshAuthToken(){const i=this.getCurrentModuleContext();if(!i)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:i})}static setupModuleMenus(i){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:o,menus:i})}static addMenuListener(i){window.addEventListener("message",o=>{const c=o.data;c.type==="module_menu_item_clicked"&&i(c.menu)})}static addAccessTokenRefreshListener(i){window.addEventListener("message",o=>{const c=o.data;c.type==="auth_token"&&i(c.token)})}static addModuleDataListener(i){window.addEventListener("message",o=>{const c=o.data;c.type==="module_data"&&i({streams:c.streams,time:c.time,queryRange:c.queryRange})})}}const _Authentication$1=class{static async login(e,i){try{const o=await fetch(`${FORMANT_API_URL$1}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:e,password:i}),headers:{"Content-Type":"application/json"}}),c=await o.json();if(o.status!==200)throw new Error(c.message);return await _Authentication$1.loginWithToken(c.authentication.accessToken,c.authentication.refreshToken),c.authentication}catch(o){return _Authentication$1.waitingForAuth.forEach(c=>c(!1)),_Authentication$1.waitingForAuth=[],Promise.reject(o)}}static async loginWithToken(e,i){const o=JSON.parse(atob(e.split(".")[1]));try{let c;if(_Authentication$1.isShareToken=o["formant:claims"]&&o["formant:claims"].type=="share",o["formant:claims"]&&(_Authentication$1.currentOrganization=o["formant:claims"].organizationId),o["custom:organization_id"]&&(_Authentication$1.currentOrganization=o["custom:organization_id"]),_Authentication$1.isShareToken||(c=o.sub),o["formant:claims"]&&o["formant:claims"].userId&&(c=o["formant:claims"].userId),c){const d=await fetch(`${FORMANT_API_URL$1}/v1/admin/users/${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}),j=await d.json();if(d.status!==200)throw new Error(j.message);_Authentication$1.currentUser=j}_Authentication$1.token=e,_Authentication$1.waitingForAuth.forEach(d=>d(!0))}catch(c){console.error(c),_Authentication$1.waitingForAuth.forEach(d=>d(!1))}_Authentication$1.waitingForAuth=[],i&&(_Authentication$1.refreshToken=i,setInterval(async()=>{if(_Authentication$1.refreshToken){const c=await fetch(`${FORMANT_API_URL$1}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:_Authentication$1.refreshToken})}),d=await c.json();_Authentication$1.token=d.authentication.accessToken}},36e5))}static isAuthenticated(){return _Authentication$1.token!==void 0}static getCurrentUser(){return _Authentication$1.currentUser}static async waitTilAuthenticated(){return _Authentication$1.token!==void 0||new Promise(e=>{_Authentication$1.waitingForAuth.push(function(i){e(i)})})}static async listenForRefresh(){App$1.addAccessTokenRefreshListener(e=>{this.loginWithToken(e)}),setInterval(async()=>{App$1.refreshAuthToken()},36e5)}};let Authentication$1=_Authentication$1;__publicField$1(Authentication$1,"token"),__publicField$1(Authentication$1,"refreshToken"),__publicField$1(Authentication$1,"currentUser"),__publicField$1(Authentication$1,"currentOrganization"),__publicField$1(Authentication$1,"isShareToken",!1),__publicField$1(Authentication$1,"defaultDeviceId"),__publicField$1(Authentication$1,"waitingForAuth",[]);class DataChannel$1{constructor(i){__publicField$1(this,"ready",!1),__publicField$1(this,"listeners",[]),__publicField$1(this,"binaryListeners",[]),__publicField$1(this,"error"),__publicField$1(this,"decoder",new TextDecoder),this.dataChannel=i,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0},this.dataChannel.onclose=()=>{this.ready=!1},this.dataChannel.onerror=o=>{console.error(o),this.error="An error occurred in DataChannel"},this.dataChannel.onmessage=o=>{this.listeners.forEach(c=>{const d=new Uint8Array(o.data);c(this.decoder.decode(d))}),this.binaryListeners.forEach(c=>{c(new Uint8Array(o.data))})}}async waitTilReady(){return this.ready?!0:new Promise((i,o)=>{let c=window.setInterval(()=>{this.ready&&(window.clearInterval(c),i(!0)),this.error&&o(this.error)},10)})}send(i){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(i)}sendBinary(i){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(i)}addListener(i){this.listeners.push(i)}removeListener(i){const o=this.listeners.indexOf(i);if(o===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(o,1)}addBinaryListener(i){this.binaryListeners.push(i)}removeBinaryListener(i){const o=this.binaryListeners.indexOf(i);if(o===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(o,1)}}class CaptureStream$1{constructor(i){__publicField$1(this,"token"),this.captureSession=i}async ingestJSON(i){if(!this.token){const o=await fetch(`${FORMANT_API_URL$1}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"}),c=await o.json();this.token=c.token}await fetch(`${FORMANT_API_URL$1}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(i)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}}class Manipulator$1{constructor(i,o){__publicField$1(this,"currentListeners",[]),__publicField$1(this,"onRealtimeMessage",(c,d)=>{d.payload.jointState&&this.currentListeners.forEach(j=>j(d.payload.jointState))}),this.device=i,this.config=o}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(i){this.currentListeners.push(i)}}class RequestDataChannel$1{constructor(i,o,c){__publicField$1(this,"channel"),__publicField$1(this,"requestIdToResponseMap",new Map),this.device=i,this.channel_name=o,this.timeout=c}}class BinaryRequestDataChannel$1 extends RequestDataChannel$1{constructor(){super(...arguments),__publicField$1(this,"RESPONSE_SUCCESS_BYTE",0),__publicField$1(this,"decoder",new TextDecoder)}generateBinaryId(){const i=new Uint8Array(16);for(let o=0;o<i.length;o++)i[o]=Math.floor(256*Math.random());return i}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(i=>{const o=i.slice(0,16).toString();if(o.length===0)throw new Error("Invalid response");const c=i.slice(16);if(c.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(o)&&this.requestIdToResponseMap.set(o,c)})}async request(i){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:o,requestIdToResponseMap:c,timeout:d}=this;await o.waitTilReady();const j=this.generateBinaryId(),Z=j.toString();c.set(Z,!0),o.sendBinary(new Uint8Array([...j,...i]));const s=new Date().getTime();for(;new Date().getTime()<s+d;)if(await delay$1(50),c.has(Z)){const $=c.get(Z);if($!==!0){c.delete(Z);const et=$[0]===this.RESPONSE_SUCCESS_BYTE,ut=$.slice(1);if(et)return ut;throw{name:"AdapterError",message:this.decoder.decode(ut)}}}throw c.delete(Z),{name:"TimeoutError",message:`Request timed out after ${d/1e3} seconds`}}}class TextRequestDataChannel$1 extends RequestDataChannel$1{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(i=>{const o=JSON.parse(i),{id:c,data:d,error:j}=o;if(!c)throw new Error("Invalid response");if(!d&&!j)throw new Error("Invalid response");this.requestIdToResponseMap.has(c)&&this.requestIdToResponseMap.set(c,o)})}async request(i){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:o,requestIdToResponseMap:c,timeout:d}=this;await o.waitTilReady();const j=this.generateTextId();c.set(j,!0),o.send(JSON.stringify({id:j,data:i}));const Z=new Date().getTime();for(;new Date().getTime()<Z+d;)if(await delay$1(50),c.has(j)){const s=c.get(j);if(s!==!0){c.delete(j);const{data:$,error:et}=s;if($)return $;if(et)throw{name:"AdapterError",message:et}}}throw c.delete(j),{name:"TimeoutError",message:`Request timed out after ${d/1e3} seconds`}}}class Device$1{constructor(i,o,c){__publicField$1(this,"rtcClient"),__publicField$1(this,"realtimeListeners",[]),__publicField$1(this,"handleMessage",(d,j)=>{this.realtimeListeners.forEach(Z=>Z(d,j))}),this.id=i,this.name=o,this.organizationId=c}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}async getConfiguration(){let i=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}});const o=await i.json();if(!o.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const c=o.state.reportedConfiguration.version;return i=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${this.id}/configurations/${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),(await i.json()).document}async getFileUrl(i){return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileId:[i]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).fileUrls}async startRealtimeConnection(){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const i=new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$1(Authentication$1.token,"Realtime when user isn't authorized"),receive:this.handleMessage});for(;!i.isReady();)await delay$1(100);const o=(await i.getPeers()).find(d=>d.deviceId===this.id);if(!o)throw new Error("Cannot find peer, is the robot offline?");const c=o.id;for(await i.connect(c);i.getConnectionStatus(c)!=="connected";)await delay$1(100);this.rtcClient=i}}addRealtimeListener(i){this.realtimeListeners.push(i)}removeRealtimeListener(i){const o=this.realtimeListeners.indexOf(i);if(o===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(o,1)}async getRealtimeVideoStreams(){var i,o,c;const d=await this.getConfiguration(),j=[];for(const Z of(i=d.teleop.hardwareStreams)!=null?i:[])Z.rtcStreamType==="h264-video-frame"&&j.push({name:Z.name});for(const Z of(o=d.teleop.rosStreams)!=null?o:[])Z.topicType=="formant/H264VideoFrame"&&j.push({name:Z.topicName});for(const Z of(c=d.teleop.customStreams)!=null?c:[])Z.rtcStreamType==="h264-video-frame"&&j.push({name:Z.name});return j}async getRealtimeManipulators(){var i;const o=await this.getConfiguration(),c=[];for(const d of(i=o.teleop.rosStreams)!=null?i:[])d.topicType=="sensor_msgs/JointState"&&c.push(new Manipulator$1(this,{currentJointStateStream:{name:d.topicName},plannedJointStateStream:d.plannedTopic?{name:d.plannedTopic}:void 0,planValidStream:d.planValidTopic?{name:d.planValidTopic}:void 0,endEffectorStream:d.endEffectorTopic?{name:d.endEffectorTopic}:void 0,endEffectorLinkName:d.endEffectorLinkName,baseReferenceFrame:d.baseReferenceFrame,localFrame:d.localFrame}));return c}async startListeningToRealtimeVideo(i){const o=defined$1(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined$1(c).id,{streamName:i.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(i){const o=defined$1(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined$1(c).id,{streamName:i.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(i){const o=defined$1(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined$1(c).id,{streamName:i.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(i){const o=defined$1(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined$1(c).id,{streamName:i.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(i){const o=defined$1(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined$1(c).id,{streamName:i,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(i){const o=defined$1(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined$1(c).id,{streamName:i,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const i=await defined$1(this.rtcClient,"Realtime connection has not been started").getPeers();return defined$1(i.find(o=>o.deviceId===this.id),"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){if(!this.rtcClient)throw new Error(`Realtime connection hasn't been started for ${this.id}`);await this.rtcClient.disconnect(this.id)}async isInRealtimeSession(){let i=await Fleet$1.getPeers(),o=await Fleet$1.getRealtimeSessions(),c=i.find(d=>d.deviceId===this.id);return!!c&&o[c.id].length>0}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items.map(o=>({name:o.name,id:o.id,command:o.command,description:o.description,parameterEnabled:o.parameterEnabled,parameterValue:o.parameterValue,parameterMeta:o.parameterMeta}))}async sendCommand(i,o,c,d){var j;const Z=(await this.getAvailableCommands()).find(ut=>ut.name===i);if(!Z)throw new Error(`Could not find command with name "${i}"`);let s;if(o===void 0){if(!Z.parameterEnabled||!Z.parameterValue)throw new Error("Command has no default parameter value, you must provide one");s=Z.parameterValue}else s=o;let $={value:s,scrubberTime:(c||new Date).toISOString(),meta:__spreadValues$1(__spreadValues$1({},Z.parameterMeta),d)};return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:Z.id,organizationId:this.organizationId,deviceId:this.id,command:Z.command,parameter:$,userId:(j=Authentication$1.currentUser)==null?void 0:j.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).fileUrls}async createCustomDataChannel(i,o){const c=defined$1(this.rtcClient,"Realtime connection has not been started"),d=await this.getRemotePeer(),j=await new Promise(Z=>{c.createCustomDataChannel(defined$1(d).id,i,__spreadValues$1({ordered:!0},o),!1,(s,$)=>{const et=new DataChannel$1($);Z(et)})});return await j.waitTilReady(),j}createCustomRequestDataChannel(i,o=3e3){return new TextRequestDataChannel$1(this,i,o)}createCustomBinaryRequestDataChannel(i,o=3e3){return new BinaryRequestDataChannel$1(this,i,o)}async createCaptureStream(i){const o=await fetch(`${FORMANT_API_URL$1}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:i,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),c=await o.json();return new CaptureStream$1(c)}async getTelemetry(i,o,c,d){return await Fleet$1.getTelemetry(this.id,i,o,c,d)}async getTelemetryStreams(){var i,o;const c=await this.getConfiguration(),d=await fetch(`${FORMANT_API_URL$1}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),j=[],Z=[];return(o=(i=c.telemetry)==null?void 0:i.streams)==null||o.forEach(s=>{s.disabled!==!0&&j.push(s.name),s.onDemand===!0&&Z.push(s.name)}),console.log(Z),(await d.json()).items.filter(s=>!j.includes(s)).map(s=>({name:s,onDemand:Z.includes(s)}))}}const _Fleet$1=class{static async setDefaultDevice(e){_Fleet$1.defaultDeviceId=e}static async getCurrentDevice(){if(!Authentication$1.token)throw new Error("Not authenticated");if(!_Fleet$1.defaultDeviceId)throw new Error("No known default device");const e=await fetch(`${FORMANT_API_URL$1}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),i=(await e.json()).items.find(c=>c.id===_Fleet$1.defaultDeviceId).name,o=new Device$1(_Fleet$1.defaultDeviceId,i,defined$1(Authentication$1.currentOrganization));return _Fleet$1.knownContext.push(new WeakRef(o)),o}static async getDevice(e){if(!Authentication$1.token)throw new Error("Not authenticated");const i=await fetch(`${FORMANT_API_URL$1}/v1/admin/devices/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),o=await i.json(),c=o.name,d=new Device$1(e,c,o.organizationId);return _Fleet$1.knownContext.push(new WeakRef(d)),d}static async getDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const e=await fetch(`${FORMANT_API_URL$1}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),i=await e.json();return i.items,i.items.map(o=>new Device$1(o.id,o.name,o.organizationId))}static async getOnlineDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const e=await fetch(`${FORMANT_API_URL$1}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),i=(await e.json()).items;return(await _Fleet$1.getDevices()).filter(o=>i.includes(o.id))}static async getPeers(){if(!Authentication$1.token)throw new Error("Not authenticated");return await new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$1(Authentication$1.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication$1.token)throw new Error("Not authenticated");return await new dist$1.exports.RtcClient({signalingClient:new dist$1.exports.SignalingPromiseClient(FORMANT_API_URL$1,null,null),getToken:async()=>defined$1(Authentication$1.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication$1.token)throw new Error("Not authenticated");const e=await fetch(`${FORMANT_API_URL$1}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),i=(await e.json()).items.map(o=>o.deviceId);return(await _Fleet$1.getDevices()).filter(o=>i.includes(o.id))}static async getLatestTelemetry(e){let i=e;return e&&!Array.isArray(e)&&(e=[e]),(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:i}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getTelemetry(e,i,o,c,d){let j=e;Array.isArray(e)||(j=[e]);let Z=i;return Array.isArray(i)||(Z=[i]),(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:j,end:c.toISOString(),names:Z,start:o.toISOString(),tags:d}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async getFileUrl(e){const i=await fetch(`${FORMANT_API_URL$1}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[e]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}}),o=await i.json();if(o.fileUrls.length===0)throw new Error("File not found");return o.fileUrls[0]}static async queryTelemetry(e){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/queries/queries`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}static async queryEvents(e){if(!Authentication$1.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL$1}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication$1.token}})).json()).items}};let Fleet$1=_Fleet$1;__publicField$1(Fleet$1,"defaultDeviceId"),__publicField$1(Fleet$1,"knownContext",[]);let urlParams$2=new URLSearchParams("");typeof window!="undefined"&&(urlParams$2=new URLSearchParams(window.location.search));const urlDevice$1=urlParams$2.get("device");urlDevice$1&&Fleet$1.setDefaultDevice(urlDevice$1);const urlAuth$1=urlParams$2.get("auth");urlAuth$1&&Authentication$1.loginWithToken(urlAuth$1);const moduleName$1=urlParams$2.get("module");moduleName$1&&Authentication$1.listenForRefresh();var jsxRuntime={exports:{}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=react.exports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};function q(e,i,o){var c,d={},j=null,Z=null;o!==void 0&&(j=""+o),i.key!==void 0&&(j=""+i.key),i.ref!==void 0&&(Z=i.ref);for(c in i)m.call(i,c)&&!p.hasOwnProperty(c)&&(d[c]=i[c]);if(e&&e.defaultProps)for(c in i=e.defaultProps,i)d[c]===void 0&&(d[c]=i[c]);return{$$typeof:k,type:e,key:j,ref:Z,props:d,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;jsxRuntime.exports=reactJsxRuntime_production_min;const jsx=jsxRuntime.exports.jsx,jsxs=jsxRuntime.exports.jsxs,Fragment=jsxRuntime.exports.Fragment;function styleInject(e,i){i===void 0&&(i={});var o=i.insertAt;if(!(!e||typeof document=="undefined")){var c=document.head||document.getElementsByTagName("head")[0],d=document.createElement("style");d.type="text/css",o==="top"&&c.firstChild?c.insertBefore(d,c.firstChild):c.appendChild(d),d.styleSheet?d.styleSheet.cssText=e:d.appendChild(document.createTextNode(e))}}var css_248z$6=`@import url("https://fonts.googleapis.com/css2?family=Work+Sans:wght@100;200;300;400&display=swap");
.Button-module_btn__1lqJX {
  background-color: #18d2ff;
  font-family: "Work Sans", sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
  border: none;
  outline: none;
  width: auto;
  letter-spacing: 0.5px;
  border-radius: 2.5rem;
  padding-left: 1rem;
  padding-right: 1rem;
  transition: 200ms;
  min-width: 12rem;
  height: 41px;
  -webkit-transition: 200ms ease-in-out 0ms, color 200ms ease-in-out 0ms, border-color 200ms ease-in-out 0ms, box-shadow 200ms ease-in-out 0ms;
  -moz-transition: 200ms ease-in-out 0ms, color 200ms ease-in-out 0ms, border-color 200ms ease-in-out 0ms, box-shadow 200ms ease-in-out 0ms;
  -ms-transition: 200ms ease-in-out 0ms, color 200ms ease-in-out 0ms, border-color 200ms ease-in-out 0ms, box-shadow 200ms ease-in-out 0ms;
  -o-transition: 200ms ease-in-out 0ms, color 200ms ease-in-out 0ms, border-color 200ms ease-in-out 0ms, box-shadow 200ms ease-in-out 0ms;
}
.Button-module_btn__1lqJX:hover {
  cursor: pointer;
  will-change: background-color, color, border-color, box-shadow;
}
.Button-module_btn-mini__3PUuM {
  min-width: 5.3rem;
  height: 20px;
  font-size: 11px;
}
.Button-module_btn-small__2-HD2 {
  height: 30px;
  min-width: 98px;
  padding: 8px 25px;
  font-size: 12px;
}
.Button-module_btn-medium__2Mi2j {
  min-width: 120px;
  height: 41px;
  font-size: 14px;
}
.Button-module_btn-large__SsOoC {
  height: 41px;
  min-width: 180px;
  font-size: 2rem;
  padding: 12px 30px;
}
.Button-module_btn-primary__2-zNJ {
  background-color: #18d2ff;
  color: #000000;
  box-shadow: 0 0 0 0 #18d2ff;
}
.Button-module_btn-primary__2-zNJ:hover {
  box-shadow: 0 0 0 0.4rem #18d2ff;
}
.Button-module_btn-primary__2-zNJ:disabled {
  color: #3b4668;
  border: 1px solid #3b4668;
  background: transparent;
}
.Button-module_btn-primary__2-zNJ:disabled:hover {
  cursor: default;
  transform: none;
  box-shadow: 0 0 0 0 #18d2ff;
}
.Button-module_btn-secondary__1APis {
  background-color: #bac4e2;
  color: #000000;
  box-shadow: 0 0 0 0 #bac4e2;
}
.Button-module_btn-secondary__1APis:hover {
  box-shadow: 0 0 0 0.4rem #bac4e2;
}
.Button-module_btn-secondary__1APis:disabled {
  color: #3b4668;
  border: 1px solid #3b4668;
  background: transparent;
}
.Button-module_btn-secondary__1APis:disabled:hover {
  cursor: default;
  transform: none;
  box-shadow: 0 0 0 0 #bac4e2;
}
.Button-module_btn-tertiary__3qcE- {
  background-color: #2d3855;
  color: #bac4e2;
  box-shadow: 0 0 0 0 #2d3855;
}
.Button-module_btn-tertiary__3qcE-:hover {
  box-shadow: 0 0 0 0.4rem #2d3855;
}
.Button-module_btn-tertiary__3qcE-:disabled {
  color: #3b4668;
  border: 1px solid #3b4668;
  background: transparent;
}
.Button-module_btn-tertiary__3qcE-:disabled:hover {
  cursor: default;
  transform: none;
  box-shadow: 0 0 0 0 #2d3855;
}
.Button-module_btn-exit__1ahRn {
  background-color: #ea719d;
  color: #000000;
  box-shadow: 0 0 0 0 #ea719d;
}
.Button-module_btn-exit__1ahRn:hover {
  box-shadow: 0 0 0 0.4rem #ea719d;
}
.Button-module_btn-exit__1ahRn:disabled {
  color: #ea719d;
  border: 1px solid #ea719d;
  background: transparent;
}
.Button-module_btn-exit__1ahRn:disabled:hover {
  cursor: default;
  transform: none;
  box-shadow: 0 0 0 0 #ea719d;
}`;styleInject(css_248z$6);var css_248z$5=`.LoadingIndicator-module_indicator__2IJcJ {
  height: 2.4rem;
}
.LoadingIndicator-module_indicator-small__2XtfU {
  height: 1.5rem;
}
.LoadingIndicator-module_indicator-medium__1S35_ {
  height: 2.4rem;
}
.LoadingIndicator-module_indicator-large__69ReA {
  height: 4.8rem;
}`;styleInject(css_248z$5);var css_248z$4=`:root {
  box-sizing: border-box;
  font-size: 10px;
  margin: 0;
  padding: 0;
}

::-webkit-scrollbar {
  width: 8px;
  background-color: #1c1e2d;
}

::-webkit-scrollbar-thumb {
  border-radius: 2.5rem;
  height: 3rem;
  background-color: #bac4e2;
}

body {
  margin: 0;
  padding: 0 !important;
  overflow-x: hidden;
}

.Formant-module_formant__2miPj {
  position: relative;
  margin: 0;
  padding-top: 1rem;
  padding-bottom: 1rem;
  min-height: calc(100vh - 2rem);
  min-width: 100%;
  background-color: #1c1e2d;
}
.Formant-module_formant-application__2rdvG {
  background-color: #1c1e2d;
}
.Formant-module_formant-module__3Olnu {
  background-color: #2d3855;
}`;styleInject(css_248z$4);var css_248z$3=`.Icon-module_icons__3_FCp {
  display: flex;
  align-items: center;
  justify-content: center;
}`,styles$3={icons:"Icon-module_icons__3_FCp"};styleInject(css_248z$3);var icons={access:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.40625 11.125H22.0312V13.125H8.40625V11.125Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.0156 16.125L14.0156 11.125L16.0156 11.125L16.0156 16.125L14.0156 16.125Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.0156 16.125L18.0156 11.125L20.0156 11.125L20.0156 16.125L18.0156 16.125Z"}),jsx("circle",{cx:"5.90625",cy:"12",r:"2.6875","stroke-width":"2"})]}),adapter:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.9375 4.16437L7.9375 20.0856L4.2375 20.0856C2.96724 20.0856 1.9375 19.0559 1.9375 17.7856L1.9375 6.46437C1.9375 5.19411 2.96724 4.16437 4.2375 4.16437L7.9375 4.16437ZM5.9375 6.16437L4.2375 6.16437C4.07181 6.16437 3.9375 6.29868 3.9375 6.46437L3.9375 17.7856C3.9375 17.9513 4.07181 18.0856 4.2375 18.0856L5.9375 18.0856L5.9375 6.16437Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.9933 20.0856L15.9933 4.16434L19.6933 4.16434C20.9635 4.16434 21.9933 5.19409 21.9933 6.46434L21.9933 17.7856C21.9933 19.0558 20.9635 20.0856 19.6933 20.0856L15.9933 20.0856ZM17.9933 18.0856L19.6933 18.0856C19.859 18.0856 19.9933 17.9513 19.9933 17.7856L19.9933 6.46434C19.9933 6.29865 19.859 6.16434 19.6933 6.16434L17.9933 6.16434L17.9933 18.0856Z"}),jsx("path",{d:"M16.0232 14.6719L14.5352 14.6719C14.2524 14.6719 14.0232 14.4426 14.0232 14.1599L14.0232 10.0901C14.0232 9.80736 14.2524 9.57812 14.5352 9.57812L16.0232 9.57812L16.0232 14.6719Z"}),jsx("path",{d:"M7.93213 14.9897H10.4201C10.7029 14.9897 10.9321 15.219 10.9321 15.5018V19.5715C10.9321 19.8543 10.7029 20.0835 10.4201 20.0835H7.93213L7.93213 14.9897Z"}),jsx("path",{d:"M7.93213 4.17725H10.4201C10.7029 4.17725 10.9321 4.40648 10.9321 4.68926V8.75898C10.9321 9.04176 10.7029 9.271 10.4201 9.271H7.93213L7.93213 4.17725Z"})]}),menu:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13H3V11H21V13Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7H3V5H21V7Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 19H3V17H21V19Z"})]}),device:jsxs(Fragment,{children:[jsx("path",{d:"M13.5 7.70029V7.69974C13.5 6.87146 12.8286 6.20001 12.0003 6.20001C11.172 6.20001 10.5005 6.87146 10.5005 7.69974V7.70029C10.5005 8.52856 11.172 9.20001 12.0003 9.20001C12.8286 9.20001 13.5 8.52856 13.5 7.70029Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.3001 2.95222C20.1357 4.28579 20.6188 5.86275 20.6188 7.55254C20.6188 9.20946 20.1543 10.7579 19.3485 12.0747L18.4752 11.5855C19.2003 10.4135 19.6188 9.03192 19.6188 7.55254C19.6188 6.04025 19.1814 4.6301 18.4264 3.44167L19.3001 2.95222ZM4.56629 12.1225C3.74235 10.7954 3.26656 9.22953 3.26656 7.55254C3.26656 5.84266 3.76119 4.24831 4.61518 2.90477L5.48925 3.3944C4.71559 4.59264 4.26656 6.02015 4.26656 7.55254C4.26656 9.052 4.6965 10.451 5.43981 11.6331L4.56629 12.1225ZM17.4523 11.0124C18.083 10.0103 18.4478 8.82404 18.4478 7.55256C18.4478 6.2481 18.0638 5.03332 17.4027 4.01507L16.528 4.50506C17.1091 5.37766 17.4478 6.42556 17.4478 7.55256C17.4478 8.64652 17.1287 9.66595 16.5785 10.5229L17.4523 11.0124ZM7.33746 10.57L6.46311 11.0598C5.81401 10.0478 5.43761 8.84413 5.43761 7.55256C5.43761 6.22799 5.8335 4.99587 6.51342 3.9681L7.38877 4.45844C6.78848 5.34022 6.43761 6.40541 6.43761 7.55256C6.43761 8.66663 6.76854 9.70341 7.33746 10.57ZM15.5552 9.94955C16.0111 9.26334 16.2767 8.43976 16.2767 7.55414V7.55255C16.2767 6.6333 15.9905 5.78089 15.5024 5.07956L14.6245 5.57134C15.0344 6.12524 15.2767 6.81059 15.2767 7.55255V7.55414C15.2767 8.26233 15.0559 8.91895 14.6794 9.45891L15.5552 9.94955ZM9.23858 9.50485L8.36162 9.99617C7.8865 9.30078 7.60865 8.45991 7.60865 7.55414V7.55255C7.60865 6.6131 7.90755 5.74346 8.41545 5.03355L9.2949 5.52618C8.86445 6.08779 8.60865 6.7903 8.60865 7.55255V7.55414C8.60865 8.28254 8.84224 8.95638 9.23858 9.50485Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.1257 17.5H11V16.5H13.1257V17.5Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 15C5 13.8954 5.89543 13 7 13H17C18.1046 13 19 13.8954 19 15V19C19 20.1046 18.1046 21 17 21H7C5.89543 21 5 20.1046 5 19V15ZM17 15H7V19H17V15Z"})]}),add:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.95 3V21H10.95V3H12.95Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13L3 13V11L21 11V13Z"})]}),annotate:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1363 2.46967C17.4292 2.17678 17.9041 2.17678 18.197 2.46967L21.5303 5.803C21.8232 6.0959 21.8232 6.57077 21.5303 6.86366L12.8637 15.5303C12.723 15.671 12.5322 15.75 12.3333 15.75H9C8.58579 15.75 8.25 15.4142 8.25 15V11.6667C8.25 11.4678 8.32902 11.277 8.46967 11.1363L17.1363 2.46967ZM9.75 11.9773V14.25H12.0227L17.9337 8.33899L15.661 6.06631L9.75 11.9773ZM16.1913 5.53598L18.464 7.80866L19.9393 6.33333L17.6667 4.06066L16.1913 5.53598ZM5.875 7.375H10.25V5.625H5.48276C4.68367 5.625 4.125 6.29713 4.125 7.01293V19.3567C4.125 20.0725 4.68367 20.7446 5.48276 20.7446H18.5173C19.3164 20.7446 19.875 20.0725 19.875 19.3567V12.2963H18.125V18.9946H5.875V7.375Z"})}),"arrow-down":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 20V4H13V20H11Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18.5858L6.70712 13.2929L5.29291 14.7071L11.2929 20.7071C11.6834 21.0976 12.3166 21.0976 12.7071 20.7071L18.7071 14.7071L17.2929 13.2929L12 18.5858Z"})]}),"arrow-left":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 11H20V13H4V11Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.41421 12L10.7071 6.70711L9.29289 5.29289L3.29289 11.2929C2.90237 11.6834 2.90237 12.3166 3.29289 12.7071L9.29289 18.7071L10.7071 17.2929L5.41421 12Z"})]}),"arrow-right":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 13H4V11H20V13Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5858 12L13.2929 6.70711L14.7071 5.29289L20.7071 11.2929C21.0976 11.6834 21.0976 12.3166 20.7071 12.7071L14.7071 18.7071L13.2929 17.2929L18.5858 12Z"})]}),"arrow-up":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4V20H11V4H13Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 3.29289C11.6834 2.90237 12.3166 2.90237 12.7071 3.29289L18.7071 9.29289L17.2929 10.7071L12 5.41421L6.70712 10.7071L5.29291 9.29289L11.2929 3.29289Z"})]}),assist:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64203 8.85428C7.64203 8.06638 7.85179 6.80371 8.50262 5.77314C9.11643 4.8012 10.1346 4 11.9352 4C13.7358 4 14.754 4.8012 15.3678 5.77314C16.0187 6.80371 16.2284 8.06638 16.2284 8.85428V14.3C16.2284 15.5251 15.9899 16.4545 15.5802 17.1467C15.1989 17.7909 14.6337 18.2908 13.8363 18.6396C13.431 18.2673 12.8904 18.04 12.2966 18.04C11.0393 18.04 10.02 19.0593 10.02 20.3167C10.02 21.574 11.0393 22.5933 12.2966 22.5933C13.4913 22.5933 14.471 21.6732 14.5658 20.5029C15.7443 20.0031 16.6733 19.2264 17.3013 18.1654C17.9241 17.1133 18.2123 15.8476 18.2278 14.4221C19.5259 14.1475 20.5 12.9952 20.5 11.6154C20.5 10.2357 19.5261 9.08348 18.2283 8.8087C18.2208 7.75974 17.9539 6.12244 17.0588 4.70521C16.1137 3.20866 14.4854 2 11.9352 2C9.3851 2 7.75672 3.20866 6.81161 4.70521C5.93311 6.09627 5.65976 7.69935 5.64288 8.75C4.12518 8.82486 2.91766 10.0791 2.91766 11.6154C2.91766 13.1513 4.12473 14.4054 5.64203 14.4807V14.5H7.64203V8.85428ZM18.2284 9.84395V13.3868C18.9677 13.1376 19.5 12.4386 19.5 11.6154C19.5 10.7921 18.9677 10.0931 18.2284 9.84395ZM3.91766 11.6154C3.91766 10.6318 4.6774 9.82575 5.64203 9.75197V13.4788C4.6774 13.405 3.91766 12.5989 3.91766 11.6154ZM11.02 20.3167C11.02 19.6116 11.5915 19.04 12.2966 19.04C13.0017 19.04 13.5733 19.6116 13.5733 20.3167C13.5733 21.0217 13.0017 21.5933 12.2966 21.5933C11.5915 21.5933 11.02 21.0217 11.02 20.3167Z"})}),"audio off":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.9437 4.29941L3.74457 3.49854L15.4854 15.2394C16.1543 14.3459 16.5222 13.2543 16.5222 12.1251C16.5222 10.747 15.9742 9.42486 15 8.45064L16.0765 7.37415C17.3366 8.63429 18.0443 10.3431 18.0443 12.1251C18.0443 13.6589 17.52 15.1384 16.5704 16.3244L17.6336 17.3876C18.8608 15.9172 19.5404 14.0563 19.5404 12.125C19.5404 9.94592 18.6752 7.85638 17.1343 6.31629L18.1877 5.26294C20.0077 7.08298 21.0305 9.551 21.0305 12.125C21.0305 14.4515 20.195 16.6914 18.6905 18.4445L20.4311 20.1851L19.6302 20.9859L2.9437 4.29941Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 5.33211C13 3.99575 11.3843 3.3265 10.4393 4.27145L6.7027 8.00809L8.11692 9.4223L11 6.53922V12.3054L13 14.3054V5.33211ZM13 15.8661L11 13.8661V17.7108L7.41421 14.125H5V10.125H7.25892L5.25892 8.125H3V16.125H6.58579L10.4393 19.9786C11.3843 20.9235 13 20.2542 13 18.9179V15.8661Z"})]}),audio:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.0765 16.876C17.3366 15.6158 18.0443 13.907 18.0443 12.1251C18.0443 10.3431 17.3366 8.63429 16.0765 7.37415L15 8.45064C15.9742 9.42486 16.5222 10.747 16.5222 12.1251C16.5222 13.5031 15.9742 14.8253 15 15.7995L16.0765 16.876Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1877 18.9871C20.0077 17.167 21.0305 14.699 21.0305 12.125C21.0305 9.55094 20.0077 7.08292 18.1877 5.26288L17.1343 6.31623C18.6752 7.85632 19.5404 9.94586 19.5404 12.125C19.5404 14.3041 18.6752 16.3936 17.1343 17.9337L18.1877 18.9871Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.4393 4.27145C11.3843 3.3265 13 3.99575 13 5.33211V18.9179C13 20.2542 11.3843 20.9235 10.4393 19.9786L6.58579 16.125H3V8.125H6.58579L10.4393 4.27145ZM11 6.53922L7.41421 10.125H5V14.125H7.41421L11 17.7108V6.53922Z"})]}),bandwith:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.77002 12.0304C3.77002 7.4195 7.46516 3.7 12.0008 3.7C16.5364 3.7 20.2316 7.4195 20.2316 12.0304C20.2316 13.9383 19.5991 15.693 18.5356 17.0959L20.1295 18.3041C21.4484 16.5641 22.2316 14.3877 22.2316 12.0304C22.2316 6.33523 17.6612 1.7 12.0008 1.7C6.3404 1.7 1.77002 6.33523 1.77002 12.0304C1.77002 14.3877 2.55322 16.5641 3.87212 18.3041L5.46597 17.0959C4.40252 15.693 3.77002 13.9383 3.77002 12.0304ZM16.6764 7.80439L15.8571 6.98507L11.1636 11.2664L12.3874 12.4902L16.6764 7.80439Z"})}),"batch config":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.91564 4.10698C5.81932 4.18977 5.8 4.26495 5.8 4.31111V13.8389C5.8 13.8851 5.81932 13.9602 5.91564 14.043C6.01404 14.1276 6.17629 14.2 6.38334 14.2H17.4667C17.6737 14.2 17.836 14.1276 17.9344 14.043C18.0307 13.9602 18.05 13.8851 18.05 13.8389V12H20.05V13.8389C20.05 15.2795 18.7462 16.2 17.4667 16.2H6.38334C5.10386 16.2 3.8 15.2795 3.8 13.8389V4.31111C3.8 2.87055 5.10386 1.95 6.38334 1.95H10V3.95H6.38334C6.17629 3.95 6.01404 4.02239 5.91564 4.10698Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.8909 4.5123C11.8996 4.66971 11.8742 4.82836 11.815 4.97704C11.7555 5.12634 11.663 5.25858 11.5457 5.36466C11.4725 5.4309 11.3897 5.48695 11.2994 5.53058L10.3324 5.9975V6.99851L11.2889 7.46382C11.3814 7.50881 11.466 7.56665 11.5407 7.63502C11.6566 7.74123 11.7483 7.87286 11.8078 8.02117C11.8671 8.16921 11.8931 8.32716 11.8854 8.48408C11.8804 8.58622 11.8612 8.68792 11.8276 8.78616L11.4863 9.78431L12.1941 10.4921L13.1878 10.1525C13.2873 10.1185 13.3904 10.0993 13.4938 10.0947C13.6507 10.0878 13.8085 10.1147 13.9562 10.1749C14.1042 10.2354 14.2357 10.3275 14.3421 10.4433C14.4117 10.519 14.4706 10.6049 14.5165 10.6987L14.9799 11.6461L15.981 11.6461L16.4459 10.6916C16.4908 10.5993 16.5484 10.5148 16.6165 10.4402C16.7228 10.3236 16.8546 10.2311 17.0031 10.1708C17.1514 10.1106 17.3097 10.0842 17.4671 10.0919C17.5688 10.0969 17.6701 10.1161 17.7679 10.1496L18.7668 10.4921L19.4746 9.78431L19.1406 8.79871C19.1062 8.69714 19.0872 8.59192 19.0835 8.48643C19.078 8.32928 19.1065 8.17152 19.1686 8.02432C19.2305 7.87747 19.3226 7.74679 19.4377 7.64003C19.5156 7.56769 19.6041 7.50633 19.7009 7.45836L20.6285 6.99851V5.9975L19.694 5.5361C19.5988 5.48908 19.5116 5.42896 19.4346 5.35808C19.3188 5.25141 19.2263 5.12037 19.1644 4.97294C19.1025 4.82528 19.0744 4.66703 19.0806 4.50953C19.0847 4.40555 19.1037 4.30189 19.1377 4.20182L19.4746 3.21169L18.7668 2.50387L17.7804 2.83898C17.6793 2.87335 17.5745 2.89229 17.4694 2.89593C17.3119 2.9014 17.1538 2.87247 17.0064 2.80959C16.8595 2.74686 16.7287 2.65406 16.6219 2.53844C16.5498 2.46042 16.4886 2.37201 16.4406 2.27544L15.981 1.34995L14.9799 1.34995L14.523 2.26464C14.4735 2.36365 14.4103 2.45415 14.3358 2.5338C14.2289 2.6482 14.0987 2.74023 13.9526 2.80293C13.8059 2.86591 13.6484 2.89541 13.4913 2.89098C13.3839 2.88795 13.2767 2.86906 13.1732 2.83415L12.1941 2.50387L11.4863 3.21169L11.8328 4.21631C11.866 4.31255 11.8853 4.41217 11.8909 4.5123ZM13.8781 4.87085C13.8502 5.15898 13.7818 5.4439 13.6731 5.71694C13.5591 6.00319 13.4034 6.26794 13.2129 6.50366C13.399 6.73604 13.5516 6.99619 13.6642 7.27704C13.7721 7.5462 13.8408 7.82699 13.8702 8.11112C14.1573 8.14171 14.4407 8.21252 14.7121 8.3233C14.9897 8.43664 15.2469 8.58894 15.477 8.77387C15.7093 8.58612 15.9696 8.43185 16.2508 8.31767C16.5251 8.2063 16.8117 8.13578 17.1018 8.10637C17.1345 7.81304 17.2092 7.52363 17.3257 7.24736C17.4397 6.97698 17.5903 6.72623 17.7718 6.5013C17.5876 6.27417 17.435 6.02045 17.3201 5.74661C17.203 5.46736 17.1285 5.17477 17.097 4.87836C16.7978 4.84568 16.5026 4.76911 16.2213 4.64903C15.9508 4.53357 15.7001 4.38146 15.4754 4.19855C15.2537 4.37751 15.0071 4.52676 14.7414 4.64079C14.4641 4.75983 14.1732 4.83664 13.8781 4.87085Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.3 19.4167C5.3 20.015 5.78503 20.5 6.38334 20.5H17.4667C18.065 20.5 18.55 20.015 18.55 19.4167H19.55C19.55 20.5673 18.6173 21.5 17.4667 21.5H6.38334C5.23274 21.5 4.3 20.5673 4.3 19.4167H5.3Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.29999 16.75C5.29999 17.3483 5.78501 17.8333 6.38332 17.8333H17.4667C18.065 17.8333 18.55 17.3483 18.55 16.75H19.55C19.55 17.9006 18.6173 18.8333 17.4667 18.8333H6.38332C5.23273 18.8333 4.29999 17.9006 4.29999 16.75H5.29999Z"})]}),battery:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.0306 8.34445L4.13608 8.34445L4.13608 15.3778L17.0305 15.3778L17.0306 8.34445ZM4.13608 6C2.84127 6 1.79163 7.04964 1.79163 8.34445V15.3778C1.79163 16.6726 2.84127 17.7222 4.13608 17.7222H17.0305C18.3254 17.7222 19.375 16.6726 19.375 15.3778V8.34445C19.375 7.04965 18.3254 6 17.0306 6H4.13608Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.6251 10C22.1773 10 22.6251 10.4477 22.6251 11V13C22.6251 13.5523 22.1773 14 21.6251 14C21.0728 14 20.6251 13.5523 20.6251 13V11C20.6251 10.4477 21.0728 10 21.6251 10Z"})]}),bitset:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7196 4.25V9.28043H19.75V19.75H9.28043V14.7196H4.25V4.25H14.7196Z",stroke:"white","stroke-width":"2"}),jsx("path",{d:"M14 10H10V14H14V10Z",stroke:"white"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.7196 3.25H3.25V15.7196H8.28043V20.75H20.75V8.28043H15.7196V3.25ZM5.25 13.7196V5.25H13.7196V9.5H9.5V13.7196H5.25ZM10.2804 14.5V18.75H18.75V10.2804H14.5V14.5H10.2804ZM10.5 13.5V10.5H13.5V13.5H10.5Z"})]}),board:jsxs(Fragment,{children:[jsx("path",{d:"M6.21326 19.3799L16.8799 4.6201H17.7867L7.12008 19.3799H6.21326Z",fill:"#BAC4E2",stroke:"white","stroke-width":"1.24024"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.65 14.8853C15.6754 14.8853 14.8853 15.6754 14.8853 16.65C14.8853 17.6246 15.6754 18.4147 16.65 18.4147C17.6246 18.4147 18.4147 17.6246 18.4147 16.65C18.4147 15.6754 17.6246 14.8853 16.65 14.8853ZM13.1147 16.65C13.1147 14.6975 14.6975 13.1147 16.65 13.1147C18.6025 13.1147 20.1853 14.6975 20.1853 16.65C20.1853 18.6025 18.6025 20.1853 16.65 20.1853C14.6975 20.1853 13.1147 18.6025 13.1147 16.65Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.44998 5.4257C6.47536 5.4257 5.68526 6.21579 5.68526 7.19042C5.68526 8.16504 6.47536 8.95514 7.44998 8.95514C8.42461 8.95514 9.2147 8.16504 9.2147 7.19042C9.2147 6.21579 8.42461 5.4257 7.44998 5.4257ZM3.9147 7.19042C3.9147 5.23793 5.4975 3.65514 7.44998 3.65514C9.40246 3.65514 10.9853 5.23793 10.9853 7.19042C10.9853 9.1429 9.40246 10.7257 7.44998 10.7257C5.4975 10.7257 3.9147 9.1429 3.9147 7.19042Z"})]}),capture:jsxs(Fragment,{children:[jsx("path",{d:"M13 12C13 11.4477 12.5523 11 12 11C11.4477 11 11 11.4477 11 12C11 12.5523 11.4477 13 12 13C12.5523 13 13 12.5523 13 12Z"}),jsx("mask",{id:"mask0_25_386",maskUnits:"userSpaceOnUse",x:"0",y:"-2",width:"24",height:"28",children:jsx("path",{d:"M24 -1.33598L12.9996 12.0581L24 25.4523H0L11.0004 12.0581L0 -1.33598H24Z"})}),jsxs("g",{mask:"url(#mask0_25_386)",children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9.75C10.7574 9.75 9.75 10.7574 9.75 12C9.75 13.2426 10.7574 14.25 12 14.25C13.2426 14.25 14.25 13.2426 14.25 12C14.25 10.7574 13.2426 9.75 12 9.75ZM8.25 12C8.25 9.92893 9.92893 8.25 12 8.25C14.0711 8.25 15.75 9.92893 15.75 12C15.75 14.0711 14.0711 15.75 12 15.75C9.92893 15.75 8.25 14.0711 8.25 12Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 6.75C9.10051 6.75 6.75 9.10051 6.75 12C6.75 14.8995 9.10051 17.25 12 17.25C14.8995 17.25 17.25 14.8995 17.25 12C17.25 9.10051 14.8995 6.75 12 6.75ZM5.25 12C5.25 8.27208 8.27208 5.25 12 5.25C15.7279 5.25 18.75 8.27208 18.75 12C18.75 15.7279 15.7279 18.75 12 18.75C8.27208 18.75 5.25 15.7279 5.25 12Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9999 3.67579C7.45381 3.67579 3.74988 7.41834 3.74988 12.0581C3.74988 16.6979 7.45381 20.4405 11.9999 20.4405C16.5459 20.4405 20.2499 16.6979 20.2499 12.0581C20.2499 7.41834 16.5459 3.67579 11.9999 3.67579ZM2.24988 12.0581C2.24988 6.61063 6.60482 2.17579 11.9999 2.17579C17.3949 2.17579 21.7499 6.61063 21.7499 12.0581C21.7499 17.5057 17.3949 21.9405 11.9999 21.9405C6.60482 21.9405 2.24988 17.5057 2.24988 12.0581Z"})]})]}),card:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.5 8C16.9477 8 16.5 7.55228 16.5 7L16.5 6L21.5 6L21.5 7C21.5 7.55228 21.0523 8 20.5 8L17.5 8ZM9.5 7C9.5 7.55228 9.94772 8 10.5 8L13.5 8C14.0523 8 14.5 7.55228 14.5 7L14.5 6L9.5 6L9.5 7ZM2.5 7C2.5 7.55228 2.94772 8 3.5 8L6.5 8C7.05228 8 7.5 7.55228 7.5 7L7.5 6L2.5 6L2.5 7ZM2.5 12C2.5 12.5523 2.94772 13 3.5 13L6.5 13C7.05228 13 7.5 12.5523 7.5 12L7.5 11L2.5 11L2.5 12ZM3.5 18C2.94771 18 2.5 17.5523 2.5 17L2.5 16L7.5 16L7.5 17C7.5 17.5523 7.05228 18 6.5 18L3.5 18ZM10.5 13C9.94772 13 9.5 12.5523 9.5 12L9.5 11L14.5 11L14.5 12C14.5 12.5523 14.0523 13 13.5 13L10.5 13ZM9.5 17C9.5 17.5523 9.94772 18 10.5 18L13.5 18C14.0523 18 14.5 17.5523 14.5 17L14.5 16L9.5 16L9.5 17ZM16.5 12C16.5 12.5523 16.9477 13 17.5 13L20.5 13C21.0523 13 21.5 12.5523 21.5 12L21.5 11L16.5 11L16.5 12ZM17.5 18C16.9477 18 16.5 17.5523 16.5 17L16.5 16L21.5 16L21.5 17C21.5 17.5523 21.0523 18 20.5 18L17.5 18Z"})}),channel:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 8H21V10H3V8Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 14H21V16H3V14Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.1043 2.11655L8.88346 22.1043L6.89569 21.8835L9.11655 1.89569L11.1043 2.11655Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1043 2.11655L14.8835 22.1043L12.8957 21.8835L15.1166 1.89569L17.1043 2.11655Z"})]}),check:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.7181 6.69598L8.64613 19.1511L2.8819 13.2039L4.31803 11.812L8.64613 16.2775L19.2819 5.30403L20.7181 6.69598Z"})}),"chevron-down":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.00003 7.58579L12 13.5858L18 7.58579L19.4142 9L12.7071 15.7071C12.3166 16.0976 11.6834 16.0976 11.2929 15.7071L4.58582 9L6.00003 7.58579Z"})}),"chevron-left":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.0142 6L9.01419 12L15.0142 18L13.6 19.4142L6.89287 12.7071C6.50234 12.3166 6.50234 11.6834 6.89287 11.2929L13.6 4.58578L15.0142 6Z"})}),"chevron-right":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0142 4.58578L16.7213 11.2929C17.1118 11.6834 17.1118 12.3166 16.7213 12.7071L10.0142 19.4142L8.59998 18L14.6 12L8.59998 6L10.0142 4.58578Z"})}),"chevron-up":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.2929 8.29289C11.6834 7.90237 12.3166 7.90237 12.7071 8.29289L19.4142 15L18 16.4142L12 10.4142L6.00003 16.4142L4.58582 15L11.2929 8.29289Z"})}),close:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2928 18.7071L5.29285 6.70711L6.70706 5.29289L18.7071 17.2929L17.2928 18.7071Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.70715 18.7071L18.7072 6.70711L17.2929 5.29289L5.29294 17.2929L6.70715 18.7071Z"})]}),code:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4881 3.23345C14.548 2.96388 14.378 2.6968 14.1084 2.63689C13.8389 2.57699 13.5718 2.74695 13.5119 3.01652L9.51189 21.0165C9.45199 21.2861 9.62195 21.5532 9.89152 21.6131C10.1611 21.673 10.4282 21.503 10.4881 21.2334L14.4881 3.23345ZM7.70711 15.8321C7.31658 16.2226 6.68342 16.2226 6.29289 15.8321L1.29289 10.8321C0.902369 10.4416 0.902369 9.80842 1.29289 9.41789L6.29289 4.41789C6.68342 4.02737 7.31658 4.02737 7.70711 4.41789C8.09763 4.80842 8.09763 5.44158 7.70711 5.83211L3.41421 10.125L7.70711 14.4179C8.09763 14.8084 8.09763 15.4416 7.70711 15.8321ZM16.2929 8.41789C16.6834 8.02737 17.3166 8.02737 17.7071 8.41789L22.7071 13.4179C23.0976 13.8084 23.0976 14.4416 22.7071 14.8321L17.7071 19.8321C17.3166 20.2226 16.6834 20.2226 16.2929 19.8321C15.9024 19.4416 15.9024 18.8084 16.2929 18.4179L20.5858 14.125L16.2929 9.83211C15.9024 9.44158 15.9024 8.80842 16.2929 8.41789Z"})}),command:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 7H19V17H5L5 7ZM3 17V5H21V17C21 18.1046 20.1046 19 19 19H5C3.89543 19 3 18.1046 3 17ZM9.12131 11.7678L7.06065 9.70711L8.47487 8.29289L11.9497 11.7678L8.47487 15.2426L7.06065 13.8284L9.12131 11.7678ZM17 15H12V14H17V15Z"})}),comment:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 5.25V15.5099H11.7428L8.89895 18.0285V15.5099H4V5.25H20ZM22 4.86299C22 3.99247 21.3037 3.25 20.4 3.25H3.6C2.69626 3.25 2 3.99247 2 4.86299V15.8969C2 16.7674 2.69626 17.5099 3.6 17.5099H6.89895V22.4715L12.5011 17.5099H20.4C21.3037 17.5099 22 16.7674 22 15.8969V4.86299Z"}),jsx("path",{d:"M14.6471 8H6V9H14.6471V8Z"}),jsx("path",{d:"M10.9412 11H6V12H10.9412V11Z"})]}),compass:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 11.125C0 5.04987 4.92487 0.125 11 0.125C17.0751 0.125 22 5.04987 22 11.125C22 17.2001 17.0751 22.125 11 22.125C4.92487 22.125 0 17.2001 0 11.125ZM11 2.125C6.02944 2.125 2 6.15444 2 11.125C2 16.0956 6.02944 20.125 11 20.125C15.9706 20.125 20 16.0956 20 11.125C20 6.15444 15.9706 2.125 11 2.125Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.4598 5.63159L9.14702 9.10686L5.67175 16.5239L12.9845 13.0486L16.4598 5.63159ZM10.3447 11.7988C10.7429 12.1971 11.3887 12.1971 11.7869 11.7988C12.1852 11.4005 12.1852 10.7548 11.7869 10.3566C11.3887 9.95829 10.7429 9.95829 10.3447 10.3566C9.94642 10.7548 9.94642 11.4005 10.3447 11.7988Z"})]}),constrain:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33333 17.5C8.33333 19.525 9.97496 21.1667 12 21.1667C12.9725 21.1667 13.9051 20.7804 14.5927 20.0927C15.2804 19.4051 15.6667 18.4725 15.6667 17.5L15.6667 14.75L17.5 14.75L17.5 17.5C17.5 18.9587 16.9205 20.3576 15.8891 21.3891C14.8576 22.4205 13.4587 23 12 23C8.96243 23 6.5 20.5376 6.5 17.5L6.5 14.75L8.33333 14.75L8.33333 17.5ZM8.33333 6.5L8.33333 9.25L6.5 9.25L6.5 6.5C6.5 5.04131 7.07946 3.64236 8.11091 2.61091C9.14236 1.57946 10.5413 1 12 1C15.0376 1 17.5 3.46243 17.5 6.5L17.5 9.25L15.6667 9.25L15.6667 6.5C15.6667 4.47496 14.025 2.83333 12 2.83333C11.0275 2.83333 10.0949 3.21964 9.40727 3.90728C8.71964 4.59491 8.33333 5.52754 8.33333 6.5Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 17C11.4477 17 11 16.5523 11 16L11 8C11 7.44771 11.4477 7 12 7C12.5523 7 13 7.44771 13 8L13 16C13 16.5523 12.5523 17 12 17Z"})]}),control:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.11108 6.66667C3.11108 4.70299 4.70296 3.11111 6.66664 3.11111C8.63032 3.11111 10.2222 4.70299 10.2222 6.66667V8.44445H13.7778V6.66667C13.7778 4.70299 15.3696 3.11111 17.3333 3.11111C19.297 3.11111 20.8889 4.70299 20.8889 6.66667C20.8889 8.63035 19.297 10.2222 17.3333 10.2222H15.5555V13.7778H17.3333C19.297 13.7778 20.8889 15.3697 20.8889 17.3333C20.8889 19.297 19.297 20.8889 17.3333 20.8889C15.3696 20.8889 13.7778 19.297 13.7778 17.3333V15.5556H10.2222V17.3333C10.2222 19.297 8.63032 20.8889 6.66664 20.8889C4.70296 20.8889 3.11108 19.297 3.11108 17.3333C3.11108 15.3697 4.70296 13.7778 6.66664 13.7778H8.44442V10.2222H6.66664C4.70296 10.2222 3.11108 8.63035 3.11108 6.66667ZM8.44442 8.44445V6.66667C8.44442 5.68483 7.64848 4.88889 6.66664 4.88889C5.6848 4.88889 4.88886 5.68483 4.88886 6.66667C4.88886 7.64851 5.6848 8.44445 6.66664 8.44445H8.44442ZM10.2222 10.2222V13.7778H13.7778V10.2222H10.2222ZM8.44442 15.5556H6.66664C5.6848 15.5556 4.88886 16.3515 4.88886 17.3333C4.88886 18.3152 5.6848 19.1111 6.66664 19.1111C7.64848 19.1111 8.44442 18.3152 8.44442 17.3333V15.5556ZM15.5555 15.5556V17.3333C15.5555 18.3152 16.3515 19.1111 17.3333 19.1111C18.3151 19.1111 19.1111 18.3152 19.1111 17.3333C19.1111 16.3515 18.3151 15.5556 17.3333 15.5556H15.5555ZM15.5555 8.44445H17.3333C18.3151 8.44445 19.1111 7.64851 19.1111 6.66667C19.1111 5.68483 18.3151 4.88889 17.3333 4.88889C16.3515 4.88889 15.5555 5.68483 15.5555 6.66667V8.44445Z"})}),copy:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7H20V21H9V7ZM11 9V19H18V9H11Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 3H16V6H14V5H7V15H8V17H5V3Z"})]}),critical:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.15289 1.29289C7.33386 1.11193 7.58386 1 7.86 1H16.14C16.4052 1 16.6596 1.10536 16.8471 1.29289L22.7071 7.15289C22.8946 7.34043 23 7.59478 23 7.86V16.14C23 16.4052 22.8946 16.6596 22.7071 16.8471L16.8471 22.7071C16.6596 22.8946 16.4052 23 16.14 23H7.86C7.59478 23 7.34043 22.8946 7.15289 22.7071L1.29289 16.8471C1.10536 16.6596 1 16.4052 1 16.14V7.86C1 7.59478 1.10536 7.34043 1.29289 7.15289L7.15253 1.29326C7.15265 1.29314 7.15277 1.29301 7.15289 1.29289ZM8.27421 3L3 8.27421V15.7258L8.27421 21H15.7258L21 15.7258V8.27421L15.7258 3H8.27421Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7C12.5523 7 13 7.44772 13 8V12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12V8C11 7.44772 11.4477 7 12 7Z"}),jsx("path",{d:"M13 16C13 16.5523 12.5523 17 12 17C11.4477 17 11 16.5523 11 16C11 15.4477 11.4477 15 12 15C12.5523 15 13 15.4477 13 16Z"})]}),delete:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10V19H16V10H18V19C18 20.1046 17.1046 21 16 21H8C6.89543 21 6 20.1046 6 19V10H8Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 8H4V6H20V8Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 3.8H16V7.52935H8V3.8ZM9 4.8V6.52935H15V4.8H9Z"}),jsx("path",{d:"M10 10H11V17H10V10Z"}),jsx("path",{d:"M13 10H14V17H13V10Z"})]}),desktop:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.9676 18.7367C11.1421 19.0798 11.4972 19.3147 11.9069 19.3147C12.3165 19.3147 12.6716 19.0798 12.8461 18.7367"}),jsx("path",{d:"M10.9676 18.7367C11.1421 19.0798 11.4972 19.3147 11.9069 19.3147C12.3165 19.3147 12.6716 19.0798 12.8461 18.7367",stroke:"white","stroke-width":"0.370526"}),jsx("path",{d:"M3.08813 5.06921H21.0256V16.163H3.08813V5.06921Z",stroke:"white","stroke-width":"2"}),jsx("path",{d:"M0.5 18.3728H23.5V19.8928C23.5 20.1689 23.2761 20.3928 23 20.3928H1C0.723858 20.3928 0.5 20.1689 0.5 19.8928V18.3728Z",stroke:"white"})]}),directions:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.665894 11.8696C0.27537 12.2602 0.27537 12.8933 0.665894 13.2838L10.9733 23.5912C11.3638 23.9818 11.997 23.9818 12.3875 23.5912L22.6949 13.2838C23.0854 12.8933 23.0854 12.2602 22.6949 11.8696L12.3875 1.56224C11.997 1.17172 11.3638 1.17172 10.9733 1.56224L0.665894 11.8696ZM17.75 11.6892L13.6562 14.0527V12.2965H8.47527V14.8125H7.30986V11.7138V11.1311H7.89257H13.6562V9.32567L17.75 11.6892Z"})}),download:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.1002 11.0628L13 13.0805V3.63892H11V13.087L8.91385 11.0008L7.47159 12.3864L11.9486 16.8634L16.5144 12.477L15.1002 11.0628ZM5 19V16H3V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V16H19V19H5Z"})}),"drop down":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.72497 10.475C7.51262 10.475 7.32119 10.6029 7.23993 10.7991C7.15867 10.9953 7.20359 11.2211 7.35374 11.3712L11.5964 15.6139C11.8014 15.8189 12.1338 15.8189 12.3388 15.6139L16.5815 11.3712C16.7316 11.2211 16.7765 10.9953 16.6953 10.7991C16.614 10.6029 16.4226 10.475 16.2102 10.475H7.72497Z"})}),duplicate:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 4C7.22386 4 7 4.22386 7 4.5V13.5C7 13.7761 7.22386 14 7.5 14H13V12L16 14.5L13 17V15H7.5C6.67157 15 6 14.3284 6 13.5V4.5C6 3.67157 6.67157 3 7.5 3H15.5C16.3284 3 17 3.67157 17 4.5V6H16V4.5C16 4.22386 15.7761 4 15.5 4H7.5ZM9 9C9 7.89543 9.89543 7 11 7H18C19.1046 7 20 7.89543 20 9V19C20 20.1046 19.1046 21 18 21H11C9.89543 21 9 20.1046 9 19V17H11V19H18V9H11V12H9V9Z"})}),"edit layout":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13.6667H17V15.6667H19V19H15.6667V17H13.6667V21H21V13.6667Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 3H3V15H15V3ZM13 5V13H5V5H13Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.40002 19V17H11.4V21H3.00002V17H5.00002V19H9.40002Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 3H16V5H19V9.4H16V11.4H21V3Z"})]}),edit:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.8484 3.29289C15.239 2.90237 15.8721 2.90237 16.2627 3.29289L20.7071 7.73734C21.0976 8.12786 21.0976 8.76103 20.7071 9.15155L9.15155 20.7071C8.96402 20.8946 8.70966 21 8.44444 21H4C3.44772 21 3 20.5523 3 20V15.5556C3 15.2903 3.10536 15.036 3.29289 14.8484L14.8484 3.29289ZM5 15.9698V19H8.03023L18.5858 8.44444L15.5556 5.41421L5 15.9698Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.1464 12.3536L12.6464 7.85356L13.3535 7.14645L17.8535 11.6465L17.1464 12.3536Z"})]}),error:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.43499 4.34133C9.97884 3.44475 10.9514 2.89722 12 2.89722C13.0486 2.89722 14.0211 3.44475 14.565 4.34133L14.5679 4.34608L23.0379 18.4861L23.046 18.4999C23.579 19.423 23.5822 20.5596 23.0543 21.4857C22.5265 22.4118 21.5469 22.9882 20.481 22.9999L20.47 23L3.519 23C2.45312 22.9882 1.4735 22.4118 0.94564 21.4857C0.41778 20.5596 0.420962 19.423 0.954 18.4999L0.962123 18.4861L9.43499 4.34133ZM11.1462 5.3766L2.68267 19.5058C2.5083 19.8125 2.50834 20.1885 2.68319 20.4953C2.85839 20.8026 3.18287 20.9945 3.53639 21H20.4636C20.8171 20.9945 21.1416 20.8026 21.3168 20.4953C21.4916 20.1885 21.4917 19.8125 21.3173 19.5058L12.855 5.37859C12.8546 5.37792 12.8542 5.37726 12.8538 5.3766C12.6723 5.07892 12.3488 4.89722 12 4.89722C11.6512 4.89722 11.3277 5.07892 11.1462 5.3766Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 9C12.5523 9 13 9.44772 13 10V14C13 14.5523 12.5523 15 12 15C11.4477 15 11 14.5523 11 14V10C11 9.44772 11.4477 9 12 9Z"}),jsx("path",{d:"M13 18C13 18.5523 12.5523 19 12 19C11.4477 19 11 18.5523 11 18C11 17.4477 11.4477 17 12 17C12.5523 17 13 17.4477 13 18Z"})]}),event:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.9213 4.88921C15.8762 3.92368 14.5124 3.26873 13 3.06639V1.71436H11V3.06639C9.4876 3.26873 8.12379 3.92368 7.07875 4.88921C5.80644 6.06471 5 7.70975 5 9.54354V18.1501H4V20.1501H10.5V20.5001C10.5 21.3285 11.1716 22.0001 12 22.0001C12.8284 22.0001 13.5 21.3285 13.5 20.5001V20.1501H20V18.1501H19V9.54354C19 7.70975 18.1936 6.06471 16.9213 4.88921ZM8.43597 6.35821C9.33658 5.52612 10.5941 5.00006 12 5.00006C13.4059 5.00006 14.6634 5.52612 15.564 6.35821C16.4633 7.18905 17 8.31575 17 9.54354V18.0001H7V9.54354C7 8.31575 7.5367 7.18905 8.43597 6.35821Z"})}),expand:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 20V15H2V21C2 21.5523 2.44772 22 3 22H9V20H4Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7071 13.2929C11.0976 13.6834 11.0976 14.3166 10.7071 14.7071L3.70711 21.7071C3.31658 22.0976 2.68342 22.0976 2.29289 21.7071C1.90237 21.3166 1.90237 20.6834 2.29289 20.2929L9.29289 13.2929C9.68342 12.9024 10.3166 12.9024 10.7071 13.2929Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.0625 4L20.0625 9L22.0625 9L22.0625 3C22.0625 2.44772 21.6148 2 21.0625 2L15.0625 2L15.0625 4L20.0625 4Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3554 10.7071C12.9649 10.3166 12.9649 9.68342 13.3554 9.29289L20.3554 2.29289C20.7459 1.90237 21.3791 1.90237 21.7696 2.29289C22.1601 2.68342 22.1601 3.31658 21.7696 3.70711L14.7696 10.7071C14.3791 11.0976 13.7459 11.0976 13.3554 10.7071Z"})]}),favorite:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.47876 6.90608C4.05837 8.32647 4.05837 10.6294 5.47876 12.0498L11.9853 18.5563L18.4919 12.0498C19.9123 10.6294 19.9123 8.32647 18.4919 6.90608C17.0715 5.48569 14.7686 5.48569 13.3482 6.90608L11.9853 8.26897L10.63 6.91363L10.5006 6.7896C9.07381 5.4868 6.8592 5.52564 5.47876 6.90608ZM11.9847 5.44179C14.1899 3.29055 17.7215 3.30725 19.9061 5.49186C22.1076 7.6933 22.1076 11.2625 19.9061 13.464L11.9853 21.3848L4.06455 13.464C1.86311 11.2625 1.86311 7.6933 4.06455 5.49186C6.20823 3.34818 9.64829 3.29196 11.8606 5.32315L11.8685 5.33037L11.9847 5.44179Z"})}),feedback:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.4746 7.83035L11.5466 6.5H8V11.1H11.091C11.9082 11.1 12.6738 11.4994 13.1413 12.1696L14.0694 13.5H16.5V8.9H14.525C13.7078 8.9 12.9422 8.50059 12.4746 7.83035ZM6 12.6V20H8V12.6H11.091C11.4178 12.6 11.7241 12.7598 11.9111 13.0279L12.9884 14.5721C13.1754 14.8402 13.4817 15 13.8086 15H16.5H18V13.5V8.9V7.4H16.5H14.525C14.1981 7.4 13.8919 7.24024 13.7048 6.97214L12.6276 5.42786C12.4405 5.15976 12.1343 5 11.8074 5H8H7.5H6V6.5V11.1V12.6Z"})}),FEM:jsxs(Fragment,{children:[jsx("rect",{x:"2.5",y:"5.625",width:"19",height:"14",rx:"0.5",stroke:"white"}),jsx("rect",{x:"5",y:"13.7433",width:"2",height:"3.3006"}),jsx("rect",{x:"9",y:"11.0439",width:"2",height:"6"}),jsx("rect",{x:"13",y:"11.0439",width:"2",height:"6"}),jsx("rect",{x:"17",y:"9.04388",width:"2",height:"8"})]}),fence:jsxs(Fragment,{children:[jsx("path",{d:"M13.9424 20.7285C13.9424 21.0046 14.1663 21.2285 14.4424 21.2285C14.7186 21.2285 14.9424 21.0046 14.9424 20.7285H13.9424ZM8.77682 20.7285C8.77682 21.0046 9.00068 21.2285 9.27682 21.2285C9.55296 21.2285 9.77682 21.0046 9.77682 20.7285H8.77682ZM8.91546 9.73157L8.8745 10.2299L8.91546 9.73157ZM3.4353 6.69637C3.4353 6.47794 3.56304 6.19591 3.96313 5.87051C4.35924 5.54836 4.96282 5.23604 5.75293 4.96424C7.3283 4.42232 9.53696 4.07812 12 4.07812V3.07812C9.4567 3.07812 7.13303 3.43198 5.42764 4.01863C4.57736 4.31113 3.85345 4.67074 3.33216 5.0947C2.81486 5.51543 2.4353 6.05372 2.4353 6.69637H3.4353ZM12 4.07812C14.463 4.07812 16.6716 4.42232 18.247 4.96424C19.0371 5.23604 19.6407 5.54836 20.0368 5.87051C20.4369 6.19591 20.5646 6.47794 20.5646 6.69637H21.5646C21.5646 6.05372 21.1851 5.51543 20.6678 5.0947C20.1465 4.67074 19.4226 4.31113 18.5723 4.01863C16.8669 3.43198 14.5432 3.07812 12 3.07812V4.07812ZM2.4353 6.69637V17.6848H3.4353V6.69637H2.4353ZM20.5646 6.69637V17.6848H21.5646V6.69637H20.5646ZM8.95642 9.23325C7.01941 9.07404 5.59958 8.69371 4.68108 8.20427C3.75609 7.71137 3.4353 7.16866 3.4353 6.69637H2.4353C2.4353 7.69916 3.13201 8.51193 4.21081 9.08679C5.2961 9.66511 6.86635 10.0648 8.8745 10.2299L8.95642 9.23325ZM20.5646 6.69637C20.5646 7.17547 20.2227 7.73403 19.2403 8.2369C18.2695 8.7339 16.7795 9.11187 14.773 9.25364L14.8435 10.2512C16.9217 10.1043 18.5598 9.70869 19.696 9.12704C20.8207 8.55128 21.5646 7.72613 21.5646 6.69637H20.5646ZM13.9424 10.1414V20.7285H14.9424V10.1414H13.9424ZM8.77682 10.1203V20.7285H9.77682V10.1203H8.77682ZM14.773 9.25364C14.312 9.28621 13.9424 9.66791 13.9424 10.1414H14.9424C14.9424 10.2042 14.8947 10.2475 14.8435 10.2512L14.773 9.25364ZM8.8745 10.2299C8.82375 10.2257 8.77682 10.1825 8.77682 10.1203H9.77682C9.77682 9.65078 9.41317 9.27079 8.95642 9.23325L8.8745 10.2299Z"}),jsx("path",{d:"M21.0646 17.6707C21.0646 19.2248 18.7597 20.5133 14.4357 20.75M2.9353 17.6707C2.9353 19.1897 5.09269 20.4726 9.27299 20.75M9.27299 14.609C9.83206 14.5719 10.9141 14.3672 12 14.3672C13.0859 14.3672 13.9681 14.5657 14.4357 14.5913",stroke:"white"}),jsx("path",{d:"M21.0646 13.7644C21.0646 15.3185 18.7597 16.607 14.4357 16.8438M2.9353 13.7644C2.9353 15.2834 5.09269 16.5664 9.27299 16.8438",stroke:"white"}),jsx("path",{d:"M21.0646 10.5769C21.0646 12.131 18.7597 13.4195 14.4357 13.6563M2.9353 10.5769C2.9353 12.0959 5.09269 13.3789 9.27299 13.6563",stroke:"white"})]}),filter:jsxs(Fragment,{children:[jsx("mask",{id:"mask0_10_242",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"3",y:"5",width:"18",height:"15",children:jsx("path",{d:"M12 20L21 4.99999L3.00002 4.99999L12 20Z",fill:"#C4C4C4"})}),jsxs("g",{mask:"url(#mask0_10_242)",children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13H3V11H21V13Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7H3V5H21V7Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 19H3V17H21V19Z"})]})]}),fleets:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 3.125C21.1046 3.125 22 4.02043 22 5.125L22 9.125C22 10.2296 21.1046 11.125 20 11.125L15 11.125C13.8954 11.125 13 10.2296 13 9.125L13 5.125C13 4.02043 13.8954 3.125 15 3.125L20 3.125ZM20 5.125L15 5.125L15 9.125L20 9.125L20 5.125ZM11 5.125C11 4.02043 10.1046 3.125 9 3.125L4 3.125C2.89543 3.125 2 4.02043 2 5.125L2 9.125C2 10.2296 2.89543 11.125 4 11.125L9 11.125C10.1046 11.125 11 10.2296 11 9.125L11 5.125ZM4 5.125L9 5.125L9 9.125L4 9.125L4 5.125ZM19 7.625L16 7.625L16 6.625L19 6.625L19 7.625ZM8 7.625L5 7.625L5 6.625L8 6.625L8 7.625ZM16 17.625L19 17.625L19 16.625L16 16.625L16 17.625ZM20 13.125C21.1046 13.125 22 14.0204 22 15.125L22 19.125C22 20.2296 21.1046 21.125 20 21.125L15 21.125C13.8954 21.125 13 20.2296 13 19.125L13 15.125C13 14.0204 13.8954 13.125 15 13.125L20 13.125ZM20 15.125L15 15.125L15 19.125L20 19.125L20 15.125Z"}),jsx("path",{d:"M3.52351 20.5045L3.52367 20.5043C3.7533 20.2747 3.75326 19.9023 3.52359 19.6727C3.29392 19.443 2.92157 19.443 2.69194 19.6726L2.69179 19.6727C2.46216 19.9024 2.46219 20.2747 2.69186 20.5044C2.92154 20.7341 3.29388 20.7341 3.52351 20.5045Z"}),jsx("path",{d:"M6.09843 20.6539C6.02913 19.7477 5.64793 18.8608 4.95483 18.1677C4.28059 17.4934 3.42297 17.1144 2.54252 17.0304L2.53982 17.9455C3.18743 18.0254 3.81421 18.314 4.31137 18.8111C4.82744 19.3272 5.11872 19.9829 5.18523 20.6566L6.09843 20.6539Z"}),jsx("path",{d:"M2.54837 15.0492L2.54567 15.9612C3.69841 16.0483 4.82677 16.5326 5.70832 17.4142C6.60872 18.3146 7.09472 19.4724 7.16631 20.6508L8.07759 20.6481C8.00446 19.2375 7.42919 17.8481 6.35178 16.7707C5.29321 15.7121 3.93346 15.1383 2.54837 15.0492Z"}),jsx("path",{d:"M2.55421 13.0708C4.44348 13.1632 6.30587 13.9309 7.74873 15.3737C9.21043 16.8354 9.97917 18.7277 10.055 20.6422L9.14428 20.6449C9.06963 18.9625 8.38997 17.3019 7.10528 16.0172C5.83942 14.7513 4.20859 14.0729 2.55152 13.9819L2.55421 13.0708Z"})]}),folder:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.72727 5.77778C4.2252 5.77778 3.81818 6.17575 3.81818 6.66667V17.3333C3.81818 17.8243 4.2252 18.2222 4.72727 18.2222H19.2727C19.7748 18.2222 20.1818 17.8243 20.1818 17.3333V9.33333C20.1818 8.84241 19.7748 8.44444 19.2727 8.44444H10.5135C10.2095 8.44444 9.92567 8.29591 9.75706 8.04862L8.7862 5.77778H4.72727ZM2 6.66667C2 5.19391 3.22104 4 4.72727 4H9.27273C9.57668 4 9.86053 4.14853 10.0291 4.39582L11 6.66667H19.2727C20.779 6.66667 22 7.86057 22 9.33333V17.3333C22 18.8061 20.779 20 19.2727 20H4.72727C3.22104 20 2 18.8061 2 17.3333V6.66667Z"})}),fullscreen:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.99997 5.20001L4.99997 10L2.99997 10L2.99997 5.2C2.99997 3.98498 3.98495 3 5.19998 3L10 3L10 5L5.19998 5C5.08952 5 4.99997 5.08954 4.99997 5.20001Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.20001 19.0001L10.0001 19.0001L10.0001 21.0001L5.20001 21.0001C3.98496 21.0001 2.99998 20.0152 2.99998 18.8001L2.99998 14L4.99998 14L4.99998 18.8001C4.99998 18.9106 5.08953 19.0001 5.20001 19.0001Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 10L19 5.2C19 5.08954 18.9105 5 18.8 5L14 5L14 3L18.8 3C20.015 3 21 3.98497 21 5.2L21 10L19 10Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.8 19.0001C18.9104 19.0001 19 18.9106 19 18.8001L19 14L21 14L21 18.8001C21 20.0152 20.015 21.0001 18.8 21.0001L13.9999 21.0001L13.9999 19.0001L18.8 19.0001Z"})]}),goal:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.8292 6.625L15.0242 8.9375L16.8215 11.225L18 12.725H16.0924H8V20.125H6V12.725V11.225V6.625V5.125H7.5H8H16.0972H18L16.8292 6.625ZM8 11.225V6.625H14.9264L13.8417 8.01456L13.119 8.94054L13.8447 9.86422L14.9139 11.225H8Z"})}),graph:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16.7161V4H3V21H20V19H5.96436L9.56745 12.9764L10.4151 14.4418C10.7193 14.9676 11.3922 15.1473 11.9181 14.8431C12.0887 14.7444 12.2296 14.6018 12.3262 14.4299L12.3525 14.3832L14.1129 10.2754L15.2606 12.7922L15.2821 12.8303C15.5815 13.3589 16.2527 13.5448 16.7813 13.2455C16.9554 13.1469 17.0993 13.0027 17.1976 12.8284L17.2169 12.7941L20.4071 5.92101C20.6396 5.42006 20.422 4.82546 19.921 4.59294C19.4201 4.36042 18.8255 4.57803 18.593 5.07898L16.2466 10.1342L15.0659 7.54503L15.0444 7.50697C14.9456 7.3325 14.801 7.18834 14.6262 7.09009C14.0966 6.79241 13.426 6.98043 13.1283 7.51002L13.102 7.55678L11.2469 11.8855L10.5326 10.6506C10.4343 10.4808 10.2924 10.3403 10.1216 10.2438C9.59814 9.94793 8.93534 10.1276 8.63202 10.6442L5 16.7161Z"})}),hardware:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.1875 2.25H10.1875V5.125H13.8125V2.25H14.8125V5.125H16.5C17.8807 5.125 19 6.24429 19 7.625V9.3125H21.9375V10.3125H19V13.9375H21.9375V14.9375H19V16.625C19 18.0057 17.8807 19.125 16.5 19.125H14.8125V22.125H13.8125V19.125H10.1875V22.125H9.1875V19.125H7.5C6.11929 19.125 5 18.0057 5 16.625V14.9375H2.0625V13.9375H5V10.3125H2.0625V9.3125H5V7.625C5 6.24429 6.11929 5.125 7.5 5.125H9.1875V2.25ZM7 7.625C7 7.34886 7.22386 7.125 7.5 7.125H16.5C16.7761 7.125 17 7.34886 17 7.625V16.625C17 16.9011 16.7761 17.125 16.5 17.125H7.5C7.22386 17.125 7 16.9011 7 16.625V7.625Z"}),jsx("rect",{x:"10",y:"10.125",width:"4",height:"4"})]}),health:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4853 13.3276L11.3455 2.62854L7.79706 10.983H3V12.983H9.12051L10.6545 9.37142L12.5147 18.6724L16.0555 12.983H21V10.983H14.9445L13.4853 13.3276ZM21 20H3V21H21V20Z"})}),help:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.2581 8.02432C11.2969 7.85945 10.357 8.41187 10.0333 9.33185C9.85006 9.85283 9.27914 10.1266 8.75815 9.94334C8.23716 9.76006 7.96339 9.18915 8.14666 8.66816C8.79391 6.82822 10.6738 5.72337 12.5962 6.05311C14.5184 6.38282 15.9226 8.0507 15.92 10.0009C15.9195 11.5313 14.7849 12.5419 13.9747 13.0821C13.5391 13.3725 13.1105 13.586 12.7949 13.7263C12.6356 13.7971 12.5015 13.8508 12.4049 13.8876C12.3565 13.9061 12.3173 13.9203 12.2887 13.9305L12.254 13.9427L12.2429 13.9464L12.239 13.9478L12.2375 13.9483C12.2372 13.9484 12.2362 13.9487 11.92 13L12.2362 13.9487C11.7123 14.1233 11.146 13.8402 10.9713 13.3162C10.7968 12.7926 11.0794 12.2267 11.6027 12.0517C11.6028 12.0517 11.6027 12.0517 11.6027 12.0517L11.6014 12.0521C11.6014 12.0521 11.6014 12.0521 11.6027 12.0517L11.6187 12.0461C11.6341 12.0406 11.6593 12.0315 11.6929 12.0186C11.7603 11.993 11.8606 11.9529 11.9826 11.8987C12.2294 11.789 12.5509 11.6275 12.8653 11.418C13.5549 10.9582 13.92 10.4691 13.92 10L13.92 9.99851C13.9214 9.02328 13.2193 8.18919 12.2581 8.02432Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3Z"}),jsx("path",{d:"M13 17C13 17.5523 12.5523 18 12 18C11.4477 18 11 17.5523 11 17C11 16.4477 11.4477 16 12 16C12.5523 16 13 16.4477 13 17Z"})]}),hidden:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.34223 14.6222C7.16729 14.0938 6.06407 13.3052 5.03075 12.2761L2.64019 14.2682L1.35983 12.7318L3.70532 10.7772C3.1631 10.087 2.64239 9.32476 2.14288 8.49375L3.85703 7.46338C6.34318 11.5994 9.07328 13.4071 12 13.4071C14.9266 13.4071 17.6567 11.5994 20.1429 7.46338L21.857 8.49375C21.3575 9.32474 20.8368 10.087 20.2946 10.7772L22.6402 12.7318L21.3598 14.2682L18.9692 12.2761C17.9359 13.3052 16.8327 14.0938 15.6578 14.6222L16.908 17.3309L15.092 18.169L13.7392 15.238C13.1743 15.3501 12.5946 15.4071 12 15.4071C11.4053 15.4071 10.8256 15.3501 10.2608 15.238L8.90796 18.169L7.09204 17.3309L8.34223 14.6222Z"})}),image:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 6V13.1178L8.35933 9.25848L13.0637 14.9277L16.7397 12.5955L19.5 14.0163V6H4.5ZM4.5 18.6552V14.532L8.29051 10.7415L12.5751 15.9049L12.8562 16.2436L13.2278 16.0078L16.7915 13.7468L19.5 15.141V18.6552H4.5ZM2.5 5.58621C2.5 4.71017 3.21017 4 4.08621 4H19.9138C20.7898 4 21.5 4.71017 21.5 5.58621V19.069C21.5 19.945 20.7898 20.6552 19.9138 20.6552H4.08621C3.21017 20.6552 2.5 19.945 2.5 19.069V5.58621ZM14.2587 9.39656C14.2587 8.70144 14.8222 8.13794 15.5173 8.13794C16.2124 8.13794 16.7759 8.70144 16.7759 9.39656C16.7759 10.0917 16.2124 10.6552 15.5173 10.6552C14.8222 10.6552 14.2587 10.0917 14.2587 9.39656ZM15.5173 7.13794C14.2699 7.13794 13.2587 8.14916 13.2587 9.39656C13.2587 10.644 14.2699 11.6552 15.5173 11.6552C16.7647 11.6552 17.7759 10.644 17.7759 9.39656C17.7759 8.14916 16.7647 7.13794 15.5173 7.13794Z"})}),indicator:jsx(Fragment,{children:jsx("path",{d:"M9.5 9.125C9.5 7.74429 10.6193 6.625 12 6.625C13.3807 6.625 14.5 7.74429 14.5 9.125V15.125C14.5 16.5057 13.3807 17.625 12 17.625C10.6193 17.625 9.5 16.5057 9.5 15.125V9.125Z"})}),info:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.40002 12C5.40002 8.35492 8.35494 5.4 12 5.4C15.6451 5.4 18.6 8.35492 18.6 12C18.6 15.6451 15.6451 18.6 12 18.6C8.35494 18.6 5.40002 15.6451 5.40002 12ZM12 6.6C9.01769 6.6 6.60002 9.01766 6.60002 12C6.60002 14.9823 9.01769 17.4 12 17.4C14.9824 17.4 17.4 14.9823 17.4 12C17.4 9.01766 14.9824 6.6 12 6.6Z"}),jsx("path",{d:"M14.0835 9.38182C14.0835 9.92406 13.6439 10.3636 13.1017 10.3636C12.5594 10.3636 12.1199 9.92406 12.1199 9.38182C12.1199 8.83958 12.5594 8.4 13.1017 8.4C13.6439 8.4 14.0835 8.83958 14.0835 9.38182Z"}),jsx("path",{d:"M12 11.4H13.2L12 15.6H10.8L12 11.4Z"})]}),Integration:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.6167 6.0765L17.8015 1.26134L15.8807 3.17985C13.3592 2.32045 10.7262 3.23365 8.80305 5.15684L9.51001 5.8638L9.50746 5.86635L11.3516 7.71044L9.44079 9.6212L10.855 11.0354L12.7658 9.12465L14.753 11.1119L12.8422 13.0226L14.2564 14.4368L16.1672 12.5261L18.011 14.3699L18.0135 14.3673L18.7208 15.0746C20.6848 13.1105 21.5219 10.4452 20.6964 7.99699L22.6167 6.0765ZM17.9599 12.9045C19.0883 11.3782 19.3049 9.6354 18.6186 8.18406L18.3176 7.54746L19.7883 6.07657L17.8007 4.0889L16.3286 5.55913L15.6925 5.25851C14.1847 4.54596 12.47 4.79998 10.9717 5.91635L17.9599 12.9045ZM1.28945 17.7726L6.10461 22.5878L8.02547 20.6693C10.5469 21.5287 13.1799 20.6155 15.1031 18.6923L13.6889 17.2781L13.6765 17.2903L6.58727 10.2011L6.59956 10.1887L5.18535 8.77453C4.01642 9.94346 3.26767 11.2216 2.98003 12.5652C2.74106 13.6816 2.83142 14.7932 3.20584 15.856L1.28945 17.7726ZM8.21364 18.5906C9.71573 19.3004 11.4231 19.051 12.9174 17.9454L5.92478 10.9528C5.39002 11.648 5.07543 12.3313 4.93572 12.9839C4.74671 13.8669 4.86193 14.765 5.28753 15.665L5.58856 16.3016L4.11781 17.7725L6.10548 19.7602L7.57751 18.29L8.21364 18.5906Z"})}),"joystcik off":jsxs(Fragment,{children:[jsx("rect",{x:"17.4205",y:"8.40125",width:"1.5",height:"1.5",rx:"0.75"}),jsx("rect",{x:"13.858",y:"8.39807",width:"1.5",height:"1.5",rx:"0.75"}),jsx("rect",{x:"15.6476",y:"8.20374",width:"1.5",height:"1.5",rx:"0.75",transform:"rotate(-90 15.6476 8.20374)"}),jsx("rect",{x:"15.6476",y:"11.6036",width:"1.5",height:"1.5",rx:"0.75",transform:"rotate(-90 15.6476 11.6036)"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.92706 1.01209L21.3051 19.3901L21.2763 19.4189L21.981 20.1236L22.8968 19.2077L21.8929 18.2037H22.7158C23.3206 18.2037 23.787 17.6711 23.707 17.0716L22.4365 7.54292C22.1053 5.05889 19.9864 3.20374 17.4804 3.20374H6.89288L3.81415 0.125L2.92706 1.01209ZM15.3339 15.2037L13.3339 13.2037H8.2722C7.47655 13.2037 6.71349 13.5198 6.15088 14.0824L4.02956 16.2037H2.14235L3.26188 7.80724C3.42434 6.58883 4.30364 5.62258 5.44065 5.31048L3.90811 3.77794C2.51443 4.51193 1.5001 5.88783 1.27943 7.54292L0.00893788 17.0716C-0.0709933 17.6711 0.395376 18.2037 1.00017 18.2037H4.44377C4.70899 18.2037 4.96334 18.0984 5.15088 17.9108L7.56509 15.4966C7.75263 15.3091 8.00698 15.2037 8.2722 15.2037H15.3339ZM6.8339 6.70374H6.78668V8.6637H4.82672V9.64369H6.78668V11.6037H7.76667V9.64369H9.72668V9.59652L8.79386 8.6637H7.76667V7.63651L6.8339 6.70374ZM20.0978 16.2037L18.6632 14.974L8.89288 5.20374H17.4804C18.984 5.20374 20.2554 6.31683 20.4541 7.80724L21.5736 16.2037H20.0978Z"})]}),"joystick-star":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53618 16.721L0.95879 12.5768L8.53618 8.43255L12.6804 0.855164L16.8246 8.43255L24.402 12.5768L16.8246 16.721L12.6804 24.2984L8.53618 16.721Z"})}),joystick:jsxs(Fragment,{children:[jsx("path",{d:"M2.41267 9.59634C2.67763 7.60912 4.37277 6.125 6.37758 6.125H17.6224C19.6272 6.125 21.3224 7.60912 21.5873 9.59635L22.8578 19.125L19.8699 19.125L16.9317 16.6065C16.5692 16.2958 16.1075 16.125 15.6301 16.125H8.41421C7.88378 16.125 7.37507 16.3357 7 16.7108L4.58579 19.125H1.14218L2.41267 9.59634Z",stroke:"white","stroke-width":"2"}),jsx("rect",{x:"6.92871",y:"8.625",width:"0.979993",height:"4.89996"}),jsx("rect",{x:"9.86871",y:"10.585",width:"0.979993",height:"4.89996",transform:"rotate(90 9.86871 10.585)"}),jsx("rect",{x:"17.5625",y:"10.3225",width:"1.5",height:"1.5",rx:"0.75"}),jsx("rect",{x:"14",y:"10.3193",width:"1.5",height:"1.5",rx:"0.75"}),jsx("rect",{x:"15.7897",y:"10.125",width:"1.5",height:"1.5",rx:"0.75",transform:"rotate(-90 15.7897 10.125)"}),jsx("rect",{x:"15.7897",y:"13.525",width:"1.5",height:"1.5",rx:"0.75",transform:"rotate(-90 15.7897 13.525)"})]}),json:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 2.77777C5.02026 2.77777 3.50052 4.42243 3.45891 6.35552L3.39632 9.26404C3.39192 9.46852 3.22121 9.84887 2.64753 10.2485C2.09608 10.6326 1.43895 10.8361 1 10.8361V13.2806C1.43908 13.2806 2.09635 13.4841 2.64795 13.8682C3.22177 14.2679 3.39273 14.6483 3.3972 14.853L3.45817 17.6449C3.50038 19.578 5.02031 21.2222 7 21.2222V18.7778C6.45799 18.7778 5.91765 18.3068 5.90203 17.5915L5.84106 14.7997C5.8149 13.6015 5.08154 12.67 4.30865 12.0582C5.08133 11.4463 5.81441 10.5148 5.84019 9.31664L5.90279 6.40811C5.91818 5.69307 6.45829 5.22222 7 5.22222V2.77777ZM17 2.77777C18.9797 2.77777 20.4995 4.42243 20.5411 6.35552L20.6037 9.26404C20.6081 9.46852 20.7788 9.84887 21.3525 10.2485C21.9039 10.6326 22.5611 10.8361 23 10.8361V13.2806C22.5609 13.2806 21.9037 13.4841 21.3521 13.8682C20.7782 14.2679 20.6073 14.6483 20.6028 14.853L20.5418 17.6449C20.4996 19.578 18.9797 21.2222 17 21.2222V18.7778C17.542 18.7778 18.0823 18.3068 18.098 17.5915L18.1589 14.7997C18.1851 13.6015 18.9185 12.67 19.6913 12.0582C18.9187 11.4463 18.1856 10.5148 18.1598 9.31664L18.0972 6.40811C18.0818 5.69307 17.5417 5.22222 17 5.22222V2.77777ZM12 9.5C12.6213 9.5 13.125 8.99632 13.125 8.375C13.125 7.75368 12.6213 7.25 12 7.25C11.3787 7.25 10.875 7.75368 10.875 8.375C10.875 8.99632 11.3787 9.5 12 9.5ZM13 11.75C13 11.1977 12.5523 10.75 12 10.75C11.4477 10.75 11 11.1977 11 11.75V15.171C11 15.7233 11.4477 16.171 12 16.171C12.5523 16.171 13 15.7233 13 15.171V11.75Z"})}),"jump-to":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 6H4V4H20V6ZM15.4108 10.7385C14.0003 10.7385 12.8569 11.8819 12.8569 13.2923C12.8569 14.7028 14.0003 15.8462 15.4108 15.8462C16.8212 15.8462 17.9646 14.7028 17.9646 13.2923C17.9646 11.8819 16.8212 10.7385 15.4108 10.7385ZM10.8569 13.2923C10.8569 10.7773 12.8958 8.73846 15.4108 8.73846C17.9258 8.73846 19.9646 10.7773 19.9646 13.2923C19.9646 14.383 19.5812 15.3842 18.9417 16.1683L20.8997 18.3914L19.3988 19.7133L17.3666 17.4059C16.7741 17.6882 16.1109 17.8462 15.4108 17.8462C12.8958 17.8462 10.8569 15.8073 10.8569 13.2923ZM4 20H11V18H4V20ZM4 13H9V11H4V13Z"})}),label:jsxs(Fragment,{children:[jsx("rect",{x:"2.5",y:"5.5",width:"19",height:"14",rx:"0.5",stroke:"white"}),jsx("rect",{x:"5",y:"8",width:"2",height:"8"}),jsx("rect",{x:"9",y:"8",width:"2",height:"6"}),jsx("rect",{x:"13",y:"8",width:"2",height:"6"}),jsx("rect",{x:"17",y:"8",width:"2",height:"8"})]}),layers:jsxs(Fragment,{children:[jsx("path",{d:"M12 15.1277L5.28326 9.5285L12 3.92926L18.7168 9.5285L12 15.1277Z",stroke:"white","stroke-width":"2"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.35549 14.8062L3.6097 15.0181L11.3597 21.4787L12.0001 22.0125L12.6404 21.4787L20.3904 15.0181L20.6446 14.8062L19.0829 13.5043L12 19.4087L4.91722 13.5043L3.35549 14.8062Z"})]}),link:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.9227 4.34042C14.7964 2.5308 17.7746 2.55668 19.6165 4.39859C21.4584 6.2405 21.4843 9.21875 19.6747 11.0924L19.6625 11.1048L17.3976 13.3697C16.4181 14.3496 15.0613 14.8557 13.6794 14.7567C12.2975 14.6577 11.0266 13.9634 10.1968 12.854L11.7983 11.656C12.2806 12.3008 13.0191 12.7043 13.8223 12.7618C14.6254 12.8193 15.4139 12.5252 15.9831 11.9557L15.9833 11.9556L18.2417 9.69719C19.2877 8.60797 19.2709 6.88136 18.2023 5.8128C17.1335 4.74394 15.4061 4.72737 14.317 5.77436L13.0239 7.05995L11.6138 5.64162L12.9124 4.35055L12.9227 4.34042Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.61771 9.39909C8.5972 8.41932 9.95393 7.91325 11.3358 8.01221C12.7177 8.11119 13.9885 8.80549 14.8184 9.91492L13.2169 11.1129C12.7346 10.4681 11.9961 10.0646 11.1929 10.0071C10.3898 9.94959 9.6013 10.2437 9.03206 10.8132L9.03193 10.8133L6.77349 13.0717C5.72744 14.161 5.74432 15.8876 6.81286 16.9561C7.88141 18.0247 9.60802 18.0415 10.6972 16.9955L11.9817 15.711L13.3959 17.1252L12.1048 18.4163L12.0925 18.4285C10.2188 20.2381 7.24056 20.2122 5.39865 18.3703C3.55674 16.5284 3.53086 13.5502 5.34048 11.6765L5.35267 11.6641L7.61759 9.39922C7.61763 9.39917 7.61767 9.39913 7.61771 9.39909Z"})]}),list:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 6H6.27008V4H3V6ZM9.55652 6H21V4H9.55652V6ZM21 13.25H9.54016V11.25H21V13.25ZM3 13.25H6.27008V11.25H3V13.25ZM21 20.5H9.54016V18.5H21V20.5ZM3 20.5H6.27008V18.5H3V20.5Z"})}),localization:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.70761 2.97959C11.3241 2.65804 12.9997 2.82307 14.5224 3.4538C16.0451 4.08453 17.3466 5.15264 18.2623 6.52306C19.178 7.89348 19.6667 9.50465 19.6667 11.1528H17.6667C17.6667 9.90021 17.2953 8.67572 16.5994 7.6342C15.9035 6.59268 14.9143 5.78092 13.757 5.30156C12.5998 4.8222 11.3263 4.69678 10.0978 4.94116C8.86924 5.18553 7.74074 5.78873 6.85501 6.67446C5.96927 7.5602 5.36607 8.6887 5.1217 9.91725C4.87732 11.1458 5.00274 12.4192 5.4821 13.5765C5.96146 14.7338 6.77323 15.7229 7.81474 16.4188C8.85626 17.1148 10.0808 17.4862 11.3334 17.4862L11.3334 19.4862C9.68519 19.4862 8.07402 18.9975 6.7036 18.0818C5.33319 17.1661 4.26508 15.8646 3.63434 14.3419C3.00361 12.8191 2.83858 11.1436 3.16013 9.52707C3.48167 7.91056 4.27535 6.42569 5.44079 5.26025C6.60623 4.09481 8.0911 3.30113 9.70761 2.97959ZM16.6667 13.6158C15.1018 13.6158 13.8333 14.8843 13.8333 16.4491C13.8333 17.5445 14.5495 18.6263 15.363 19.4849C15.7595 19.9034 16.1577 20.2465 16.4573 20.4851C16.5345 20.5466 16.6049 20.6009 16.6667 20.6476C16.7285 20.6009 16.7988 20.5466 16.876 20.4851C17.1757 20.2465 17.5739 19.9034 17.9704 19.4849C18.7838 18.6263 19.5 17.5445 19.5 16.4491C19.5 14.8843 18.2315 13.6158 16.6667 13.6158ZM16.3891 21.6798C16.3892 21.6799 16.3893 21.68 16.6667 21.264L16.3891 21.6798ZM16.9446 21.6796L16.9455 21.679L16.9482 21.6772L16.9572 21.6711L16.9888 21.6494C17.0158 21.6307 17.0543 21.6037 17.1026 21.5688C17.1994 21.4989 17.3359 21.3972 17.499 21.2674C17.8243 21.0083 18.2595 20.6338 18.6963 20.1727C19.5495 19.272 20.5 17.9464 20.5 16.4491C20.5 14.332 18.7838 12.6158 16.6667 12.6158C14.5496 12.6158 12.8333 14.332 12.8333 16.4491C12.8333 17.9464 13.7838 19.272 14.637 20.1727C15.0739 20.6338 15.509 21.0083 15.8344 21.2674C15.9974 21.3972 16.134 21.4989 16.2307 21.5688C16.2791 21.6037 16.3176 21.6307 16.3445 21.6494L16.3762 21.6711L16.3851 21.6772L16.3878 21.679L16.3891 21.6798L16.6667 21.8649L16.9446 21.6796ZM16.6667 21.264L16.9446 21.6796C16.9445 21.6797 16.944 21.68 16.6667 21.264ZM17.7779 16.4491C17.7779 17.0628 17.2804 17.5602 16.6668 17.5602C16.0531 17.5602 15.5557 17.0628 15.5557 16.4491C15.5557 15.8355 16.0531 15.338 16.6668 15.338C17.2804 15.338 17.7779 15.8355 17.7779 16.4491Z"})}),"localization-arrow":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.3108 3.22128L2.13709 10.9853C1.72213 11.1626 1.73577 11.7554 2.15844 11.9134L8.61753 14.328C8.88874 14.4293 9.1027 14.6433 9.20408 14.9145L11.6185 21.3735C11.7765 21.7962 12.3694 21.8098 12.5466 21.3948L20.3108 3.22128ZM16.5137 7.01829L6.36898 11.3522L9.31784 12.4546C10.1315 12.7587 10.7733 13.4006 11.0775 14.2142L12.1797 17.1629L16.5137 7.01829Z"})}),"localization-arrow-off":jsxs(Fragment,{children:[jsx("mask",{id:"path-1-inside-1_2014_174",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.60293 9.32073L19.3417 21.0595L20.122 20.2791L15.1936 15.3507L20.5291 3.5022L8.30121 8.45831L3.86316 4.02026L3.08281 4.80061L7.19064 8.90844L7.17503 8.91477L7.60293 9.32073ZM12.3544 21.656L14.3568 17.2091L6.0815 9.35799L1.39434 11.2578C0.968607 11.4303 0.982603 12.0074 1.41625 12.1612L8.24703 14.5837C8.52528 14.6824 8.74478 14.8907 8.84879 15.1547L11.4021 21.6352C11.5642 22.0466 12.1725 22.0599 12.3544 21.656Z"})}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.60293 9.32073L19.3417 21.0595L20.122 20.2791L15.1936 15.3507L20.5291 3.5022L8.30121 8.45831L3.86316 4.02026L3.08281 4.80061L7.19064 8.90844L7.17503 8.91477L7.60293 9.32073ZM12.3544 21.656L14.3568 17.2091L6.0815 9.35799L1.39434 11.2578C0.968607 11.4303 0.982603 12.0074 1.41625 12.1612L8.24703 14.5837C8.52528 14.6824 8.74478 14.8907 8.84879 15.1547L11.4021 21.6352C11.5642 22.0466 12.1725 22.0599 12.3544 21.656Z"}),jsx("path",{d:"M7.60293 9.32073L9.01714 7.90652L8.99855 7.88792L8.97947 7.86982L7.60293 9.32073ZM19.3417 21.0595L17.9275 22.4737L19.3417 23.8879L20.7559 22.4737L19.3417 21.0595ZM20.122 20.2791L21.5363 21.6934L22.9505 20.2791L21.5363 18.8649L20.122 20.2791ZM15.1936 15.3507L13.37 14.5296L12.8031 15.7886L13.7794 16.765L15.1936 15.3507ZM20.5291 3.5022L22.3527 4.32339L24.401 -0.225153L19.7778 1.64866L20.5291 3.5022ZM8.30121 8.45831L6.887 9.87253L7.82417 10.8097L9.05247 10.3119L8.30121 8.45831ZM3.86316 4.02026L5.27737 2.60605L3.86316 1.19184L2.44895 2.60605L3.86316 4.02026ZM3.08281 4.80061L1.6686 3.3864L0.254383 4.80061L1.6686 6.21483L3.08281 4.80061ZM7.19064 8.90844L7.9419 10.762L10.7389 9.62831L8.60485 7.49423L7.19064 8.90844ZM7.17503 8.91477L6.42377 7.06123L3.54524 8.22793L5.79849 10.3657L7.17503 8.91477ZM14.3568 17.2091L16.1804 18.0303L16.7635 16.7355L15.7334 15.7582L14.3568 17.2091ZM12.3544 21.656L10.5307 20.8348L10.5307 20.8348L12.3544 21.656ZM6.0815 9.35799L7.45804 7.90708L6.52377 7.0207L5.33024 7.50445L6.0815 9.35799ZM1.39434 11.2578L2.1456 13.1113H2.1456L1.39434 11.2578ZM1.41625 12.1612L0.747734 14.0461L0.747735 14.0461L1.41625 12.1612ZM8.24703 14.5837L7.57852 16.4687H7.57852L8.24703 14.5837ZM8.84879 15.1547L6.98802 15.8878L6.98802 15.8878L8.84879 15.1547ZM11.4021 21.6352L9.54137 22.3683L9.54137 22.3683L11.4021 21.6352ZM6.18872 10.7349L17.9275 22.4737L20.7559 19.6453L9.01714 7.90652L6.18872 10.7349ZM20.7559 22.4737L21.5363 21.6934L18.7078 18.8649L17.9275 19.6453L20.7559 22.4737ZM21.5363 18.8649L16.6079 13.9365L13.7794 16.765L18.7078 21.6934L21.5363 18.8649ZM17.0173 16.1719L22.3527 4.32339L18.7055 2.68101L13.37 14.5296L17.0173 16.1719ZM19.7778 1.64866L7.54995 6.60478L9.05247 10.3119L21.2804 5.35574L19.7778 1.64866ZM9.71542 7.0441L5.27737 2.60605L2.44895 5.43448L6.887 9.87253L9.71542 7.0441ZM2.44895 2.60605L1.6686 3.3864L4.49702 6.21483L5.27737 5.43448L2.44895 2.60605ZM1.6686 6.21483L5.77643 10.3227L8.60485 7.49423L4.49702 3.3864L1.6686 6.21483ZM6.43938 7.0549L6.42377 7.06123L7.92629 10.7683L7.9419 10.762L6.43938 7.0549ZM5.79849 10.3657L6.22639 10.7716L8.97947 7.86982L8.55157 7.46386L5.79849 10.3657ZM12.5332 16.3879L10.5307 20.8348L14.178 22.4771L16.1804 18.0303L12.5332 16.3879ZM4.70497 10.8089L12.9803 18.66L15.7334 15.7582L7.45804 7.90708L4.70497 10.8089ZM2.1456 13.1113L6.83277 11.2115L5.33024 7.50445L0.643074 9.40422L2.1456 13.1113ZM2.08476 10.2762C3.37007 10.7321 3.43965 12.5868 2.1456 13.1113L0.643074 9.40422C-1.50243 10.2738 -1.40486 13.2827 0.747734 14.0461L2.08476 10.2762ZM8.91554 12.6988L2.08476 10.2762L0.747735 14.0461L7.57852 16.4687L8.91554 12.6988ZM10.7096 14.4215C10.3838 13.5948 9.7139 12.9819 8.91554 12.6988L7.57852 16.4687C7.33666 16.3829 7.10572 16.1866 6.98802 15.8878L10.7096 14.4215ZM13.2629 20.902L10.7096 14.4215L6.98802 15.8878L9.54137 22.3683L13.2629 20.902ZM10.5307 20.8348C10.8198 20.1929 11.4373 19.9414 11.9145 19.9518C12.392 19.9622 13.0028 20.2417 13.2629 20.902L9.54137 22.3683C10.3572 24.4389 13.2755 24.4814 14.178 22.4771L10.5307 20.8348Z",mask:"url(#path-1-inside-1_2014_174)"})]}),lock:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 12C3 11.0059 3.80589 10.2 4.8 10.2H19.2C20.1941 10.2 21 11.0059 21 12V20.1C21 21.0941 20.1941 21.9 19.2 21.9H4.8C3.80589 21.9 3 21.0941 3 20.1V12ZM19.2 12L4.8 12V20.1L19.2 20.1V12Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.9C10.0118 3.9 8.39998 5.51177 8.39998 7.5V11.1C8.39998 11.5971 7.99703 12 7.49998 12C7.00292 12 6.59998 11.5971 6.59998 11.1V7.5C6.59998 4.51766 9.01764 2.1 12 2.1C14.9823 2.1 17.4 4.51766 17.4 7.5V11.1C17.4 11.5971 16.997 12 16.5 12C16.0029 12 15.6 11.5971 15.6 11.1V7.5C15.6 5.51177 13.9882 3.9 12 3.9Z"}),jsx("rect",{x:"11",y:"14",width:"2",height:"4"})]}),logfile:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.0667 3H5L5.00003 21H19V10.9333H19V8.93333H19V8.12261L13.7666 3H13.0667H11.0667ZM11.0667 5H7L7.00003 19H17V10.9333H11.0667V5ZM16.9691 8.93333L13.0667 5.11355V8.93333H16.9691Z"})}),map:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7837 3.91547L21.29 6.52841V18.5193L14.7947 16.7683L8.96916 19.072L2.72583 16.7168V4.49317L8.95982 6.47238L14.7837 3.91547ZM14.2487 6.33463L9.76711 8.30221V16.6058L14.2487 14.8336V6.33463ZM15.391 6.31463V14.8577L19.29 15.9088V7.88046L15.391 6.31463ZM4.72583 7.22652L8.62476 8.46438V16.8045L4.72583 15.3337V7.22652Z"})}),"mark as read":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 7.5L12.2318 16L9 12.5641L9.80518 11.7599L12.2318 14.3398L19.1948 6.69582L20 7.5Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3.06633C14.5124 3.26867 15.8762 3.92362 16.9213 4.88915C17.4442 5.37233 17.8885 5.93485 18.2304 6.5572L16.749 8.11867C16.5076 7.45417 16.1002 6.85356 15.564 6.35814C14.6634 5.52606 13.4059 5 12 5C10.5941 5 9.33658 5.52606 8.43597 6.35814C7.5367 7.18899 7 8.31569 7 9.54348V18H17V13.7717V12.3901L19 10.2637V12.1576V14.7717V18.15H20V20.15H13.5V20.5C13.5 21.3284 12.8284 22 12 22C11.1716 22 10.5 21.3284 10.5 20.5V20.15H4V18.15H5V9.54348C5 7.70969 5.80644 6.06465 7.07875 4.88915C8.12379 3.92362 9.4876 3.26867 11 3.06633V1.71429H13V3.06633Z"})]}),metric:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.998 2.09955H11.0978V12.902H21.9002V12.0018C21.9002 9.37554 20.8569 6.85687 18.9999 4.99984C17.1429 3.14282 14.6242 2.09955 11.998 2.09955ZM12.8982 11.1016V3.95009C14.7157 4.15324 16.4212 4.96724 17.7268 6.27292C19.0325 7.5786 19.8465 9.28404 20.0497 11.1016H12.8982ZM3.97614 13.1358C3.46462 9.53121 5.42036 6.02808 8.75719 4.57194L8.0371 2.92181C3.95875 4.70154 1.56841 8.98314 2.19359 13.3888C2.81877 17.7944 6.30592 21.2419 10.7184 21.8168C15.1309 22.3916 19.3849 19.9525 21.1179 15.8541L19.4597 15.1529C18.0418 18.5062 14.5612 20.5018 10.951 20.0315C7.34077 19.5611 4.48765 16.7404 3.97614 13.1358Z"})}),mic:jsxs(Fragment,{children:[jsx("rect",{x:"9.57037",y:"2.875",width:"4.81699",height:"11.7446",rx:"2.4085",stroke:"white"}),jsx("path",{d:"M6.9198 11.5942V12.3376C6.9198 15.1316 9.18484 17.3967 11.9789 17.3967V17.3967C14.773 17.3967 17.038 15.1316 17.038 12.3376V11.5942",stroke:"white","stroke-width":"2"}),jsx("path",{d:"M11.9375 17.3967L11.9375 22.0245",stroke:"white","stroke-width":"2"})]}),minus:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 13L3 13V11L21 11V13Z"})}),mobile:jsxs(Fragment,{children:[jsx("rect",{x:"17.8839",y:"1.10022",width:"21.946",height:"11.9531",rx:"1.3",transform:"rotate(90 17.8839 1.10022)",stroke:"white","stroke-width":"2"}),jsx("path",{d:"M14.4464 2.10046L14.4464 2.58575C14.4464 2.86853 14.2172 3.09776 13.9344 3.09776L9.86468 3.09776C9.5819 3.09776 9.35266 2.86853 9.35266 2.58575L9.35266 2.10046L14.4464 2.10046Z"})]}),module:jsxs(Fragment,{children:[jsxs("mask",{id:"path-1-outside-1_2726_42434",maskUnits:"userSpaceOnUse",x:"1.40625",y:"0.255005",width:"22",height:"23",fill:"black",children:[jsx("rect",{x:"1.40625",y:"0.255005",width:"22",height:"23"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0087 3.255L16.5305 5.37097L16.5305 10.7714L20.625 12.6875L20.625 18.6507L16.1033 20.7667L12.0156 18.8538L7.92796 20.7667L3.40625 18.6507L3.40625 12.6875L7.48704 10.7779L7.48704 5.37097L12.0087 3.255Z"})]}),jsx("path",{d:"M16.5305 5.37097L18.5305 5.37097V4.09874L17.3781 3.5595L16.5305 5.37097ZM12.0087 3.255L12.8564 1.44354L12.0087 1.04685L11.1611 1.44354L12.0087 3.255ZM16.5305 10.7714L14.5305 10.7714V12.0437L15.6828 12.5829L16.5305 10.7714ZM20.625 12.6875L22.625 12.6875V11.4153L21.4727 10.876L20.625 12.6875ZM20.625 18.6507L21.4727 20.4622L22.625 19.9229V18.6507L20.625 18.6507ZM16.1033 20.7667L15.2556 22.5781L16.1033 22.9748L16.951 22.5781L16.1033 20.7667ZM12.0156 18.8538L12.8633 17.0423L12.0156 16.6457L11.1679 17.0423L12.0156 18.8538ZM7.92796 20.7667L7.08027 22.5781L7.92796 22.9748L8.77565 22.5781L7.92796 20.7667ZM3.40625 18.6507L1.40625 18.6507L1.40625 19.9229L2.55856 20.4622L3.40625 18.6507ZM3.40625 12.6875L2.55856 10.876L1.40625 11.4153L1.40625 12.6875L3.40625 12.6875ZM7.48704 10.7779L8.33473 12.5893L9.48704 12.0501L9.48704 10.7779L7.48704 10.7779ZM7.48704 5.37097L6.63935 3.5595L5.48704 4.09874L5.48704 5.37097L7.48704 5.37097ZM17.3781 3.5595L12.8564 1.44354L11.1611 5.06647L15.6828 7.18244L17.3781 3.5595ZM18.5305 10.7714L18.5305 5.37097L14.5305 5.37097L14.5305 10.7714L18.5305 10.7714ZM15.6828 12.5829L19.7773 14.499L21.4727 10.876L17.3781 8.95997L15.6828 12.5829ZM18.625 12.6875L18.625 18.6507L22.625 18.6507L22.625 12.6875L18.625 12.6875ZM19.7773 16.8392L15.2556 18.9552L16.951 22.5781L21.4727 20.4622L19.7773 16.8392ZM16.951 18.9552L12.8633 17.0423L11.1679 20.6653L15.2556 22.5781L16.951 18.9552ZM8.77565 22.5781L12.8633 20.6653L11.1679 17.0423L7.08027 18.9552L8.77565 22.5781ZM2.55856 20.4622L7.08027 22.5781L8.77565 18.9552L4.25394 16.8392L2.55856 20.4622ZM1.40625 12.6875L1.40625 18.6507L5.40625 18.6507L5.40625 12.6875L1.40625 12.6875ZM6.63934 8.96641L2.55856 10.876L4.25394 14.499L8.33473 12.5893L6.63934 8.96641ZM5.48704 5.37097L5.48704 10.7779L9.48704 10.7779L9.48704 5.37097L5.48704 5.37097ZM11.1611 1.44354L6.63935 3.5595L8.33473 7.18244L12.8564 5.06647L11.1611 1.44354Z",mask:"url(#path-1-outside-1_2726_42434)"}),jsx("path",{d:"M12.0642 7.53125L7.45059 5.39443L12.0642 3.21875L16.5807 5.33615L12.0642 7.53125Z"}),jsx("path",{d:"M16.5329 15.0625L11.9193 12.9257L16.5329 10.75L21.0494 12.8674L16.5329 15.0625Z"}),jsx("path",{d:"M7.50169 15.0625L2.88809 12.9257L7.50169 10.75L12.0182 12.8674L7.50169 15.0625Z"}),jsx("path",{d:"M7.94755 14.4911L4.92119 13.0895L7.94755 11.6623L10.9102 13.0512L7.94755 14.4911Z"})]}),more:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20 14C21.1046 14 22 13.1046 22 12C22 10.8954 21.1046 10 20 10C18.8954 10 18 10.8954 18 12C18 13.1046 18.8954 14 20 14Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 14C5.10457 14 6 13.1046 6 12C6 10.8954 5.10457 10 4 10C2.89543 10 2 10.8954 2 12C2 13.1046 2.89543 14 4 14Z"})]}),"non-constrain":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.33333 17.5C8.33333 19.525 9.97496 21.1667 12 21.1667C12.9725 21.1667 13.9051 20.7804 14.5927 20.0927C15.2804 19.4051 15.6667 18.4725 15.6667 17.5L15.6667 14.75L17.5 14.75L17.5 17.5C17.5 18.9587 16.9205 20.3576 15.8891 21.3891C14.8576 22.4205 13.4587 23 12 23C8.96243 23 6.5 20.5376 6.5 17.5L6.5 14.75L8.33333 14.75L8.33333 17.5ZM8.33333 6.5L8.33333 9.25L6.5 9.25L6.5 6.5C6.5 5.04131 7.07946 3.64236 8.11091 2.61091C9.14236 1.57946 10.5413 1 12 1C15.0376 1 17.5 3.46243 17.5 6.5L17.5 9.25L15.6667 9.25L15.6667 6.5C15.6667 4.47496 14.025 2.83333 12 2.83333C11.0275 2.83333 10.0949 3.21964 9.40727 3.90728C8.71964 4.59491 8.33333 5.52754 8.33333 6.5Z"})}),organization:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 5C13 5.55228 12.5523 6 12 6C11.4477 6 11 5.55228 11 5C11 4.44772 11.4477 4 12 4C12.5523 4 13 4.44772 13 5ZM15 5C15 5.61838 14.8129 6.19306 14.4922 6.67053L17.3295 9.50777C17.8069 9.1871 18.3816 9 19 9C20.6569 9 22 10.3431 22 12C22 13.6569 20.6569 15 19 15C18.2835 15 17.6256 14.7488 17.1097 14.3297L14.3297 17.1097C14.7488 17.6256 15 18.2835 15 19C15 20.6569 13.6569 22 12 22C10.3431 22 9 20.6569 9 19C9 18.1829 9.32666 17.4421 9.85651 16.9011L7.09892 14.1435C6.55789 14.6733 5.81709 15 5 15C3.34315 15 2 13.6569 2 12C2 10.3431 3.34315 9 5 9C5.7197 9 6.38021 9.25343 6.89716 9.67592L9.67592 6.89716C9.25343 6.38021 9 5.7197 9 5C9 3.34315 10.3431 2 12 2C13.6569 2 15 3.34315 15 5ZM13.5774 16.4477L16.4477 13.5774C16.1639 13.1191 16 12.5787 16 12C16 11.3227 16.2245 10.6978 16.6031 10.1956L13.8044 7.39691C13.3022 7.77553 12.6773 8 12 8C11.4245 8 10.8869 7.83797 10.4303 7.55704L7.55704 10.4303C7.83797 10.8869 8 11.4245 8 12C8 12.475 7.8896 12.9242 7.69306 13.3234L10.6766 16.3069C11.0758 16.1104 11.525 16 12 16C12.5787 16 13.1191 16.1639 13.5774 16.4477ZM13 19C13 19.5523 12.5523 20 12 20C11.4477 20 11 19.5523 11 19C11 18.4477 11.4477 18 12 18C12.5523 18 13 18.4477 13 19ZM19 13C19.5523 13 20 12.5523 20 12C20 11.4477 19.5523 11 19 11C18.4477 11 18 11.4477 18 12C18 12.5523 18.4477 13 19 13ZM6 12C6 12.5523 5.55228 13 5 13C4.44772 13 4 12.5523 4 12C4 11.4477 4.44772 11 5 11C5.55228 11 6 11.4477 6 12Z"})}),overview:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0018 2.84033L20 7.53833V20H4V7.53832L12.0018 2.84033ZM6 8.68332V18H18V8.68307L12.0015 5.1597L6 8.68332Z"})}),path:jsxs(Fragment,{children:[jsx("circle",{r:"2",transform:"matrix(-1 0 0 1 20.9594 7.76562)",stroke:"white"}),jsx("circle",{r:"2",transform:"matrix(-1 0 0 1 15.1151 16.3842)",stroke:"white"}),jsx("path",{d:"M19.6875 9.69806L16.3438 14.4629",stroke:"white","stroke-linecap":"round"}),jsx("path",{d:"M8.0625 9.69806L4.71875 14.4629",stroke:"white","stroke-linecap":"round"}),jsx("path",{d:"M10.2812 9.69806L13.625 14.4629",stroke:"white","stroke-linecap":"round"}),jsx("circle",{r:"2",transform:"matrix(-1 0 0 1 9.27087 7.76562)",stroke:"white"}),jsx("circle",{r:"2",transform:"matrix(-1 0 0 1 3.42664 16.3842)",stroke:"white"})]}),pause:jsxs(Fragment,{children:[jsx("path",{d:"M9.6 5.5H6.4C5.90294 5.5 5.5 5.90294 5.5 6.4V17.6C5.5 18.0971 5.90294 18.5 6.4 18.5H9.6C10.0971 18.5 10.5 18.0971 10.5 17.6V6.4C10.5 5.90294 10.0971 5.5 9.6 5.5Z"}),jsx("path",{d:"M17.6 5.5H14.4C13.9029 5.5 13.5 5.90294 13.5 6.4V17.6C13.5 18.0971 13.9029 18.5 14.4 18.5H17.6C18.0971 18.5 18.5 18.0971 18.5 17.6V6.4C18.5 5.90294 18.0971 5.5 17.6 5.5Z"})]}),ping:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.4375 12.125C2.4375 6.84378 6.71878 2.5625 12 2.5625C17.2812 2.5625 21.5625 6.84378 21.5625 12.125C21.5625 17.4062 17.2812 21.6875 12 21.6875C6.71878 21.6875 2.4375 17.4062 2.4375 12.125ZM12 4.30114C7.679 4.30114 4.17614 7.804 4.17614 12.125C4.17614 16.446 7.679 19.9489 12 19.9489C16.321 19.9489 19.8239 16.446 19.8239 12.125C19.8239 7.804 16.321 4.30114 12 4.30114Z"}),jsx("path",{d:"M12 6.20278C13.1713 6.20278 14.3163 6.55011 15.2902 7.20086C16.2641 7.8516 17.0232 8.77653 17.4714 9.85867C17.9197 10.9408 18.0369 12.1316 17.8084 13.2804C17.5799 14.4292 17.0159 15.4844 16.1876 16.3127C15.3594 17.1409 14.3042 17.7049 13.1554 17.9334C12.0066 18.162 10.8158 18.0447 9.73365 17.5964C8.6515 17.1482 7.72658 16.3891 7.07583 15.4152C6.42509 14.4413 6.07776 13.2963 6.07776 12.125L12 12.125L12 6.20278Z"})]}),play:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.5572 12.8655L9.52072 18.3772C9.04922 18.6648 8.43386 18.5157 8.14627 18.0442C8.05061 17.8873 8 17.7072 8 17.5235V6.5C8 5.94772 8.44772 5.5 9 5.5C9.18371 5.5 9.36388 5.55061 9.52072 5.64627L18.5572 11.158C19.0287 11.4456 19.1778 12.0609 18.8902 12.5324C18.8073 12.6684 18.6932 12.7825 18.5572 12.8655Z"})}),playback:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 7L7 13H1L4 7Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7711 12.4088L10.772 14.922C10.5399 15.0679 10.2301 15.0031 10.0801 14.7773C10.0278 14.6986 10 14.6069 10 14.5132V9.48676C10 9.21793 10.2241 9 10.5004 9C10.5968 9 10.6911 9.02705 10.772 9.07791L14.7711 11.5911C15.0032 11.737 15.0698 12.0383 14.9198 12.2641C14.8814 12.3221 14.8306 12.3714 14.7711 12.4088Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12H5C5 15.866 8.13401 19 12 19C15.866 19 19 15.866 19 12C19 8.13401 15.866 5 12 5V3Z"})]}),"point cloud":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1148 3.31226L5.50577 7.03017L12.0958 10.4669L18.4753 6.89267L12.1148 3.31226ZM4.49636 16.3848V8.66359L11.1547 12.1359V20.229L4.49636 16.3848ZM13.0697 20.229L19.728 16.3848V8.38597L13.0697 12.1164V20.229ZM12.7112 1.45036C12.3417 1.23989 11.8884 1.23986 11.5188 1.45026L2.5813 6.47803V17.4905L11.5097 22.6453C11.8825 22.8606 12.3419 22.8606 12.7147 22.6453L21.6431 17.4905V6.47821L12.7112 1.45036Z"})}),point:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.1153 13.4579C13.4132 13.4579 14.4654 12.4057 14.4654 11.1078C14.4654 9.80986 13.4132 8.75769 12.1153 8.75769C10.8174 8.75769 9.7652 9.80986 9.7652 11.1078C9.7652 12.4057 10.8174 13.4579 12.1153 13.4579Z"}),jsx("path",{d:"M7.0637 6.12321C9.85362 3.3333 14.377 3.3333 17.1669 6.12321C19.9568 8.91313 19.9568 13.4365 17.1669 16.2264L12.1153 21.278L7.0637 16.2264C4.27379 13.4365 4.27379 8.91313 7.0637 6.12321Z",stroke:"white","stroke-width":"2"})]}),"rate limit":jsxs(Fragment,{children:[jsx("path",{d:"M3 7L3 8L4 8L4 7L3 7Z"}),jsx("path",{d:"M5 7L5 8L6 8L6 7L5 7Z"}),jsx("path",{d:"M7 7L7 8L8 8L8 7L7 7Z"}),jsx("path",{d:"M3 5L3 6L4 6L4 5L3 5Z"}),jsx("path",{d:"M5 5L5 6L6 6L6 5L5 5Z"}),jsx("path",{d:"M13 3L13 4L14 4L14 3L13 3Z"}),jsx("path",{d:"M11 3L11 4L12 4L12 3L11 3Z"}),jsx("path",{d:"M9 3L9 4L10 4L10 3L9 3Z"}),jsx("path",{d:"M9 5L9 6L10 6L10 5L9 5Z"}),jsx("path",{d:"M9 7L9 8L10 8L10 7L9 7Z"}),jsx("path",{d:"M7 3L7 4L8 4L8 3L7 3Z"}),jsx("path",{d:"M7 5L7 6L8 6L8 5L7 5Z"}),jsx("path",{d:"M5 3L5 4L6 4L6 3L5 3Z"}),jsx("path",{d:"M3 3L3 4L4 4L4 3L3 3Z"}),jsx("path",{d:"M3 9L3 10L4 10L4 9L3 9Z"}),jsx("path",{d:"M5 9L5 10L6 10L6 9L5 9Z"}),jsx("path",{d:"M7 9L7 10L8 10L8 9L7 9Z"}),jsx("path",{d:"M9 9L9 10L10 10L10 9L9 9Z"}),jsx("path",{d:"M3 11L3 12L4 12L4 11L3 11Z"}),jsx("path",{d:"M3 13L3 14L4 14L4 13L3 13Z"}),jsx("path",{d:"M11.5 20L11.5 21L12.5 21L12.5 20L11.5 20Z"}),jsx("path",{d:"M18 8H19V7V4H20V20H4V19H7H8V18V14H13H14V13V8H18Z",stroke:"white","stroke-width":"2"})]}),refresh:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4721 4.39157C10.2701 3.02625 5.75683 5.32586 4.39151 9.52789C3.02619 13.7299 5.32579 18.2432 9.52783 19.6085C13.7299 20.9738 18.2431 18.6742 19.6084 14.4722L17.7063 13.8541C16.6823 17.0056 13.2974 18.7304 10.1459 17.7064C6.99434 16.6824 5.26963 13.2974 6.29362 10.1459C7.31762 6.9944 10.7025 5.26969 13.8541 6.29368C14.7489 6.58444 15.5287 7.06526 16.1634 7.6774L14.2 9.2194L20.2 11L19.5725 5L17.7475 6.43331C16.8681 5.52382 15.7594 4.80983 14.4721 4.39157Z"})}),relocalization:jsxs(Fragment,{children:[jsx("rect",{x:"9.76575",y:"9.89075",width:"4.46853",height:"4.46853",rx:"2.23427"}),jsx("circle",{cx:"12",cy:"12.125",r:"6.43592",stroke:"white","stroke-width":"2"}),jsx("path",{d:"M12 4.79382V2.14062",stroke:"white"}),jsx("path",{d:"M12 22.1094V19.0024",stroke:"white"}),jsx("path",{d:"M18.9628 12.125L22 12.125",stroke:"white"}),jsx("path",{d:"M2.03126 12.125L4.68445 12.125",stroke:"white"})]}),remove:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z"}),jsx("path",{d:"M17 11H7V13H17V11Z"})]}),reprovision:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.84384 3.61254L5.20655 3.91755L5.70615 4.41712L8.70711 7.41789L7.29289 8.83211L4.29165 5.83191L3.79198 5.33241L3.4871 5.96976C3.17463 6.62301 3 7.35434 3 8.125C3 9.50557 3.56019 10.7563 4.46447 11.6605C5.36874 12.5648 6.61943 13.125 8 13.125C8.64417 13.125 9.26095 13.0031 9.82764 12.7804L11.514 14.467L11.4905 14.4905L17.1598 20.1598C17.5503 20.5503 18.1835 20.5503 18.574 20.1598L20.0348 18.699C20.4253 18.3085 20.4253 17.6753 20.0348 17.2848L14.3655 11.6155L14.3425 11.6385L12.6558 9.95162C12.8782 9.38521 13 8.76878 13 8.125C13 6.74443 12.4398 5.49374 11.5355 4.58947C10.6313 3.68519 9.38057 3.125 8 3.125C7.22898 3.125 6.49732 3.29979 5.84384 3.61254ZM13.6354 12.3456L11.7082 10.4182L11.458 10.168L11.6108 9.84879C11.8602 9.32755 12 8.74336 12 8.125C12 7.02029 11.5528 6.02098 10.8284 5.29657C10.104 4.57217 9.10471 4.125 8 4.125C7.6412 4.125 7.29388 4.1721 6.96365 4.26037L9.76777 7.06432L10.1213 7.41787L9.76778 7.77144L7.64651 9.89271L7.29302 10.2462L6.93946 9.89277L4.13516 7.08944C4.04702 7.41943 4 7.76648 4 8.125C4 9.22971 4.44717 10.229 5.17157 10.9534C5.89598 11.6778 6.89529 12.125 8 12.125C8.61871 12.125 9.20321 11.9851 9.72468 11.7354L10.0439 11.5825L10.2942 11.8328L12.2211 13.7599L13.6354 12.3456Z"})}),retrieve:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.56682 5.7683C9.73734 5.7683 10.6862 4.8194 10.6862 3.64888C10.6862 2.47835 9.73734 1.52945 8.56682 1.52945C7.39629 1.52945 6.44739 2.47835 6.44739 3.64888C6.44739 3.67588 6.44789 3.70276 6.44889 3.72951C3.75199 5.50914 1.96973 8.56812 1.96973 12.0446C1.96973 13.6232 2.33789 15.1187 2.99397 16.4473L4.78724 15.5618C4.26413 14.5025 3.96973 13.3093 3.96973 12.0446C3.96973 9.30638 5.35277 6.89005 7.46202 5.45793C7.78373 5.65482 8.16202 5.7683 8.56682 5.7683ZM7.67793 4.32942C7.88254 4.59626 8.20458 4.7683 8.56682 4.7683C9.18506 4.7683 9.68624 4.26712 9.68624 3.64888C9.68624 3.03063 9.18506 2.52945 8.56682 2.52945C7.94857 2.52945 7.44739 3.03063 7.44739 3.64888C7.44739 3.78511 7.47172 3.91566 7.51629 4.03642L7.67793 4.32942ZM20.8847 12.0446H20.8764C20.26 12.0468 19.7611 12.5471 19.7611 13.164C19.7611 13.7822 20.2623 14.2834 20.8805 14.2834C21.4988 14.2834 22 13.7822 22 13.164C22 12.5471 21.501 12.0468 20.8847 12.0446ZM21.8524 11.28C21.4737 6.15472 17.3178 2 12 2V4C16.1734 4 19.4914 7.22984 19.8487 11.3123C19.1998 11.6746 18.7611 12.3681 18.7611 13.164C18.7611 14.3345 19.71 15.2834 20.8805 15.2834C22.0511 15.2834 23 14.3345 23 13.164C23 12.3438 22.534 11.6324 21.8524 11.28ZM11.9251 22C15.6586 22 18.6696 19.9863 20.3695 16.9939L18.6305 16.0061C17.2512 18.4341 14.8712 20 11.9251 20C10.6602 20 9.4661 19.7055 8.40572 19.1814C8.43304 19.0456 8.44738 18.905 8.44738 18.7612C8.44738 17.5906 7.49848 16.6417 6.32795 16.6417C5.15743 16.6417 4.20853 17.5906 4.20853 18.7612C4.20853 19.9317 5.15743 20.8806 6.32795 20.8806C6.5928 20.8806 6.84629 20.832 7.08002 20.7433C8.51463 21.5439 10.1679 22 11.9251 22ZM6.32795 19.8806C6.9462 19.8806 7.44738 19.3794 7.44738 18.7612C7.44738 18.1429 6.9462 17.6417 6.32795 17.6417C5.70971 17.6417 5.20853 18.1429 5.20853 18.7612C5.20853 19.3794 5.70971 19.8806 6.32795 19.8806Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 7.67273L15.7475 9.83637V14.1636L12 16.3273L8.25247 14.1636V9.83637L12 7.67273ZM9.74755 10.6996V13.3005L12 14.6009L14.2524 13.3005V10.6996L12 9.3991L9.74755 10.6996Z"})]}),right:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.7676 16.3103C13.7676 16.5226 13.6397 16.7141 13.4435 16.7953C13.2473 16.8766 13.0215 16.8317 12.8714 16.6815L8.62874 12.4389C8.42372 12.2338 8.42372 11.9014 8.62874 11.6964L12.8714 7.45377C13.0215 7.30362 13.2473 7.25871 13.4435 7.33997C13.6397 7.42123 13.7676 7.61266 13.7676 7.825L13.7676 16.3103Z"})}),"ros topic":jsxs(Fragment,{children:[jsx("circle",{cx:"6.4",cy:"6.4",r:"1.4"}),jsx("circle",{cx:"6.4",cy:"12",r:"1.4"}),jsx("circle",{cx:"6.4",cy:"17.6",r:"1.4"}),jsx("circle",{cx:"12",cy:"6.4",r:"1.4"}),jsx("circle",{cx:"12",cy:"12",r:"1.4"}),jsx("circle",{cx:"12",cy:"17.6",r:"1.4"}),jsx("circle",{cx:"17.6",cy:"6.4",r:"1.4"}),jsx("circle",{cx:"17.6",cy:"12",r:"1.4"}),jsx("circle",{cx:"17.6",cy:"17.6",r:"1.4"})]}),search:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.3461 5.15385C7.4785 5.15385 5.15382 7.47853 5.15382 10.3462C5.15382 13.2138 7.4785 15.5385 10.3461 15.5385C13.2138 15.5385 15.5384 13.2138 15.5384 10.3462C15.5384 7.47853 13.2138 5.15385 10.3461 5.15385ZM2.84613 10.3462C2.84613 6.20403 6.20399 2.84616 10.3461 2.84616C14.4883 2.84616 17.8461 6.20403 17.8461 10.3462C17.8461 14.4883 14.4883 17.8462 10.3461 17.8462C6.20399 17.8462 2.84613 14.4883 2.84613 10.3462Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.2929 20.7071L14.8314 16.2456L16.2456 14.8314L20.7071 19.2929L19.2929 20.7071Z"})]}),"seek back":jsxs(Fragment,{children:[jsx("path",{d:"M8 12L17.75 5.93782L17.75 18.0622L8 12Z"}),jsx("rect",{x:"6",y:"6",width:"2",height:"12"})]}),"seek forward":jsxs(Fragment,{children:[jsx("path",{d:"M16 12L6.25 5.93782L6.25 18.0622L16 12Z"}),jsx("rect",{width:"2",height:"12",transform:"matrix(-1 -8.74228e-08 -8.74228e-08 1 18 6)"})]}),"seek to":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4ZM2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.7289 11.5912L14.728 9.07797C14.9601 8.93208 15.2699 8.99686 15.4199 9.22266C15.4722 9.30138 15.5 9.3931 15.5 9.48682L15.5 14.5132C15.5 14.7821 15.2759 15 14.9996 15C14.9032 15 14.8089 14.9729 14.728 14.9221L10.7289 12.4089C10.4968 12.263 10.4302 11.9617 10.5802 11.7359C10.6186 11.6779 10.6694 11.6286 10.7289 11.5912Z"}),jsx("rect",{x:"8.5",y:"9",width:"2",height:"6"})]}),settings:jsxs(Fragment,{children:[jsx("mask",{id:"mask0_23_172",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"24",height:"24",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 0H24V24H0V0Z",fill:"#BAC4E2"})}),jsxs("g",{mask:"url(#mask0_23_172)",children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.28363 5.6164L4.95667 7.56786C5.1225 8.04868 5.11022 8.57305 4.92206 9.04557C4.73447 9.51666 4.3771 9.90031 3.92048 10.1208L2.04216 11.0278V12.9722L3.90021 13.8761C4.35897 14.0993 4.71825 14.4852 4.90806 14.9587C5.09836 15.4335 5.11201 15.9607 4.94655 16.4447L4.28363 18.3836L5.65856 19.7585L7.58883 19.0989C8.07525 18.9327 8.60539 18.9481 9.0813 19.1424C9.55669 19.3365 9.94408 19.6986 10.1697 20.1598L11.0699 22L13.0144 22L13.9175 20.146C14.1411 19.6868 14.5267 19.3264 15 19.1343C15.474 18.9418 16.0016 18.9272 16.4856 19.0932L18.4258 19.7585L19.8007 18.3836L19.1519 16.4691C18.9855 15.9779 19.0048 15.4427 19.2063 14.9648C19.408 14.4863 19.775 14.0961 20.2403 13.8655L22.0422 12.9722V11.0278L20.2269 10.1315C19.7635 9.90269 19.3982 9.51424 19.1982 9.03759C18.9985 8.56142 18.98 8.02857 19.1463 7.53971L19.8007 5.6164L18.4258 4.24147L16.5098 4.89243C16.0187 5.05927 15.4834 5.03894 15.0064 4.83534C14.5282 4.63125 14.1386 4.26336 13.9073 3.79776L13.0144 2L11.0699 2L10.1823 3.77678C9.94821 4.24534 9.55567 4.6158 9.07436 4.82238C8.59438 5.0284 8.05525 5.05 7.56033 4.88303L5.65856 4.24147L4.28363 5.6164ZM12.0398 4.53383L11.9714 4.67061C11.526 5.56221 10.7791 6.26714 9.8632 6.66025C8.93047 7.06059 7.88279 7.10256 6.92103 6.7781L6.78395 6.73186L6.84738 6.91577C7.16942 7.84951 7.14556 8.86783 6.78017 9.78546C6.40745 10.7215 5.69739 11.4837 4.79013 11.9218L4.62189 12.0031L4.77511 12.0776C5.68064 12.5181 6.3898 13.2799 6.76447 14.2146C7.13293 15.1338 7.15937 16.1547 6.83899 17.0917L6.78098 17.2614L6.94207 17.2063C7.88564 16.8839 8.91404 16.9139 9.83722 17.2908C10.7671 17.6704 11.5249 18.3787 11.9663 19.281L12.0404 19.4324L12.1194 19.2702C12.5592 18.3674 13.3172 17.659 14.2476 17.2812C15.1687 16.9072 16.194 16.8789 17.1343 17.2013L17.3086 17.2611L17.2577 17.111C16.9343 16.1565 16.9719 15.1165 17.3634 14.1879C17.7514 13.2675 18.4571 12.5172 19.352 12.0736L19.4971 12.0017L19.3415 11.9249C18.446 11.4827 17.7402 10.7322 17.3539 9.81126C16.9651 8.88435 16.9292 7.84712 17.2529 6.89552L17.308 6.73351L17.1532 6.78611C16.1955 7.11149 15.1515 7.07184 14.2212 6.67477C13.3054 6.28386 12.559 5.57922 12.1161 4.68743L12.0398 4.53383Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 14C12.5557 14 13.0443 13.7891 13.3976 13.4439C13.767 13.0829 14 12.5656 14 12C14 11.4703 13.7962 10.9731 13.4777 10.6242C13.1259 10.2388 12.6079 10 12 10C11.4553 10 10.9392 10.2453 10.5574 10.6427C10.204 11.0107 10 11.4718 10 12C10 12.5652 10.2335 13.0662 10.6208 13.4351C10.9892 13.7861 11.4761 14 12 14ZM14.0964 14.1592C13.5556 14.6876 12.8158 15 12 15C11.1979 15 10.4693 14.672 9.931 14.1592C9.35744 13.6127 9 12.8547 9 12C9 11.1934 9.31835 10.4891 9.83627 9.94996C10.3822 9.38169 11.1498 9 12 9C12.8778 9 13.6676 9.34901 14.2162 9.94996C14.7031 10.4833 15 11.221 15 12C15 12.841 14.6539 13.6144 14.0964 14.1592Z"})]})]}),share:jsxs(Fragment,{children:[jsxs("g",{filter:"url(#filter0_d_25_547)",children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 1.67364L17.5217 6.10558L16.0933 7.50555L13 4.47358L9.90666 7.50555L8.47835 6.10558L13 1.67364Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 15.25V3.6389H14V15.25H12Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 12V19H20V12H17.5714V10H19.9994C21.1033 10 22 10.8947 22 12V19C22 20.1046 21.1046 21 20 21H6C4.89543 21 4 20.1046 4 19V12C4 10.8947 4.89674 10 6.00057 10H8.42857V12H6Z"})]}),jsx("defs",{children:jsxs("filter",{id:"filter0_d_25_547",x:"-3",y:"0",width:"32",height:"32",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB",children:[jsx("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),jsx("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),jsx("feOffset",{dy:"4"}),jsx("feGaussianBlur",{stdDeviation:"2"}),jsx("feComposite",{in2:"hardAlpha",operator:"out"}),jsx("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"}),jsx("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_25_547"}),jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_25_547",result:"shape"})]})})]}),"shift key":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3.11557L21.0302 12.5H15.9999V20H7.99991V12.5H2.96979L12 3.11557ZM9.99991 18H13.9999V10.5H16.3301L12 6.00001L7.66984 10.5H9.99991V18Z"})}),stop:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M22.0517 7.96541L16.1674 2.10687L7.86386 2.12515L2.00533 8.00953L2.0236 16.313L7.90798 22.1716L16.2115 22.1533L22.07 16.2689L22.0517 7.96541ZM7.00001 11.125H17V13.125H7.00001V11.125Z"})}),stream:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.30442 8.47147C3.15092 7.55616 4.35302 7.02777 5.75231 7.02777C7.45551 7.02777 9.01665 7.8054 10.4219 9.17682L9.06376 10.5684C7.91065 9.44299 6.81145 8.97222 5.75231 8.97222C4.86371 8.97222 4.18965 9.2968 3.73197 9.79169C3.26689 10.2946 2.97222 11.0326 2.97222 11.9349C2.97222 13.6031 4.3618 14.8055 5.75231 14.8055C6.85958 14.8055 7.95018 14.322 9.04095 13.184L9.07076 13.1529L14.1648 8.70308L14.1667 8.70147C15.3977 7.63161 16.7465 7.02777 18.1971 7.02777C20.9595 7.02777 22.9722 9.09874 22.9722 11.9349C22.9722 14.8655 20.4659 16.75 18.1971 16.75C16.3963 16.75 14.8368 16.0117 13.5576 14.6253L14.9867 13.3068C15.9363 14.336 16.9935 14.8055 18.1971 14.8055C19.5386 14.8055 21.0278 13.6507 21.0278 11.9349C21.0278 10.1246 19.8382 8.97222 18.1971 8.97222C17.3263 8.97222 16.4136 9.32505 15.443 10.1684C15.4427 10.1686 15.4424 10.1689 15.4422 10.1691L10.414 14.5614C9.05683 15.9648 7.49743 16.75 5.75231 16.75C3.33613 16.75 1.02777 14.7246 1.02777 11.9349C1.02777 10.6082 1.46531 9.37879 2.30442 8.47147Z"})}),tag:jsxs(Fragment,{children:[jsx("path",{d:"M10.5808 19.7727L10.5811 19.7731C10.7262 19.9184 10.9231 20 11.1283 20C11.3335 20 11.5303 19.9184 11.6754 19.7731L11.6762 19.7723L19 12.4551V5H11.547L4.22501 12.3239C4.22473 12.3242 4.22446 12.3245 4.22418 12.3247C3.92523 12.6264 3.92527 13.1129 4.22429 13.4146C4.22453 13.4148 4.22477 13.4151 4.22501 13.4153L10.5808 19.7727Z",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),jsx("path",{d:"M14.6923 10.3846C15.287 10.3846 15.7692 9.90247 15.7692 9.3077C15.7692 8.71293 15.287 8.23077 14.6923 8.23077C14.0975 8.23077 13.6154 8.71293 13.6154 9.3077C13.6154 9.90247 14.0975 10.3846 14.6923 10.3846Z"})]}),teams:jsxs(Fragment,{children:[jsx("circle",{cx:"7.63582",cy:"12.1384",r:"6.14418",stroke:"white","stroke-width":"2"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.08411 10.4105C2.08411 10.4105 5.61813 9.94552 6.06215 7.13997C7.09698 7.79701 7.76407 10.6227 13.1875 9.49477C12.7863 8.96677 12.8637 7.49383 11.7384 6.70066C11.1207 6.26529 9.14009 5.50397 7.79431 5.50397C6.44852 5.50397 5.02289 5.92103 3.65883 6.70066C2.29477 7.4803 2.08411 10.4105 2.08411 10.4105Z"}),jsx("path",{d:"M10.0901 13.5877C10.6989 13.5877 11.1924 13.0942 11.1924 12.4854C11.1924 11.8766 10.6989 11.3831 10.0901 11.3831C9.48132 11.3831 8.98779 11.8766 8.98779 12.4854C8.98779 13.0942 9.48132 13.5877 10.0901 13.5877Z"}),jsx("path",{d:"M5.68082 13.5877C6.28961 13.5877 6.78314 13.0942 6.78314 12.4854C6.78314 11.8766 6.28961 11.3831 5.68082 11.3831C5.07202 11.3831 4.57849 11.8766 4.57849 12.4854C4.57849 13.0942 5.07202 13.5877 5.68082 13.5877Z"}),jsx("path",{d:"M18.4339 13.5877C19.0427 13.5877 19.5362 13.0942 19.5362 12.4854C19.5362 11.8766 19.0427 11.3831 18.4339 11.3831C17.8251 11.3831 17.3315 11.8766 17.3315 12.4854C17.3315 13.0942 17.8251 13.5877 18.4339 13.5877Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.2059 7.97059C17.611 8.8466 18.1261 9.96024 20.8144 9.72465C21.2368 10.4708 21.4779 11.3331 21.4779 12.2517C21.4779 15.0892 19.1776 17.3894 16.3401 17.3894C15.5548 17.3894 14.8118 17.2138 14.1471 16.8995C13.6827 17.5049 13.177 18.0001 12.7171 18.4027C13.7794 19.0296 15.0187 19.3894 16.3401 19.3894C20.2822 19.3894 23.4779 16.1938 23.4779 12.2517C23.4779 10.2622 22.6639 8.46286 21.3509 7.16843C21.219 6.99761 21.0594 6.83882 20.8634 6.70066C20.8118 6.66426 20.7506 6.62557 20.6811 6.58524C19.4783 5.66243 17.9732 5.11395 16.3401 5.11395C15.1102 5.11395 13.9517 5.42567 12.9408 5.97407C13.4424 6.45341 14.0143 7.14799 14.5084 7.98284C14.6929 8.29464 14.8686 8.62931 15.0266 8.98319C15.8297 8.70138 16.625 8.25088 16.625 7.125C16.8937 7.29558 17.0406 7.61332 17.2059 7.97059ZM14.0665 9.28738C13.9381 9.01009 13.797 8.74425 13.6478 8.49217C13.1233 7.60589 12.5182 6.92161 12.0694 6.53214C11.9932 6.58909 11.9182 6.64753 11.8444 6.7074L12.0731 6.98908C11.6544 7.17418 11.3279 7.46795 11.6729 8.25278C12.0319 9.0697 12.1548 9.09467 12.5921 9.18355C12.8197 9.2298 13.1324 9.29335 13.6077 9.49477C13.7262 9.41554 13.8843 9.34981 14.0665 9.28738ZM11.8744 17.8069C12.3322 17.4192 12.8342 16.9496 13.2888 16.374L13.2797 16.3789L13.2659 16.3687L13.2439 16.3982L11.5942 17.2867L11.8744 17.8069Z"})]}),text:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 4.01562H3V19.9844H21V4.01562ZM3 3.01562C2.44772 3.01562 2 3.46334 2 4.01563V19.9844C2 20.5367 2.44772 20.9844 3 20.9844H21C21.5523 20.9844 22 20.5367 22 19.9844V4.01562C22 3.46334 21.5523 3.01562 21 3.01562H3Z"}),jsx("path",{d:"M8.78403 16.9641L10.1949 17.4413V18.375H5.63031V17.4621L7.10343 16.9434L11.0248 5.63563L12.6432 5.36591L16.8966 16.9434L18.3697 17.4413V18.375H12.6017V17.4413L13.9503 17.0264L13.3486 15.2005H9.36498L8.78403 16.9641ZM11.2738 9.59853L9.7592 14.0801H12.9337L11.2738 9.59853Z"})]}),timestamp:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 12C19 15.866 15.866 19 12 19C8.13401 19 5 15.866 5 12C5 8.13401 8.13401 5 12 5C15.866 5 19 8.13401 19 12ZM21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12ZM7 12.8892V11.8591L11.5502 11.6368L11.8007 7H12.9987L13.2943 12.2667C13.2981 12.3 13.3 12.3339 13.3 12.3683C13.3 12.3683 13.3 12.3683 13.3 12.3683C13.3 12.8624 12.8995 13.263 12.4053 13.263C12.2269 13.263 12.0607 13.2107 11.9211 13.1207L7 12.8892Z"})}),"transform tree":jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.8355 8.54178L20.719 4.40527L16.2797 5.38042L16.9164 6.16795L12.0233 9.93963L6.99669 6.16851L7.62501 5.39133L3.13615 4.40529L5.04063 8.588L5.73847 7.72483L11.0315 11.6958V20H13.0315V11.6877L18.1741 7.72366L18.8355 8.54178Z"})}),tune:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 14.0909L20.1818 14.0909L20.1818 15.9091L12 15.9091L12 14.0909Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.81818 14.0909L8.36363 14.0909L8.36363 15.9091L3.81818 15.9091L3.81818 14.0909Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.6364 6.81822L20.1818 6.81822L20.1818 8.6364L15.6364 8.6364L15.6364 6.81822Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.81818 6.81822L12 6.81822L12 8.6364L3.81818 8.6364L3.81818 6.81822Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.27268 12.2727L9.27268 17.7273L7.4545 17.7273L7.4545 12.2727L9.27268 12.2727Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.5454 5L16.5454 10.4545L14.7273 10.4545L14.7273 5L16.5454 5Z"})]}),undo:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.41421 9L9.70711 4.70711L8.29289 3.29289L3.29289 8.29289C2.90237 8.68342 2.90237 9.31658 3.29289 9.70711L8.29289 14.7071L9.70711 13.2929L5.41421 9Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4 8H16C18.7614 8 21 10.2386 21 13V20H19V13C19 11.3431 17.6569 10 16 10H4V8Z"})]}),unlock:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.89978 12.0024C3.89978 11.5055 4.30262 11.1026 4.79954 11.1026H19.1957C19.6926 11.1026 20.0955 11.5055 20.0955 12.0024V20.1002C20.0955 20.5972 19.6926 21 19.1957 21H4.79954C4.30262 21 3.89978 20.5972 3.89978 20.1002V12.0024Z",stroke:"white","stroke-width":"1.79952","stroke-linecap":"round","stroke-linejoin":"round"}),jsx("rect",{x:"11",y:"14",width:"2",height:"4"}),jsx("path",{d:"M7.49884 11.1026V7.50358C7.49652 5.19231 9.24595 3.25531 11.5455 3.02303C13.8451 2.79075 15.9465 4.33877 16.4065 6.60382",stroke:"white","stroke-width":"1.79952","stroke-linejoin":"round"})]}),up:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3103 14.525C16.5226 14.525 16.7141 14.3971 16.7953 14.2009C16.8766 14.0047 16.8317 13.7789 16.6815 13.6288L12.4389 9.38613C12.2338 9.1811 11.9014 9.1811 11.6964 9.38613L7.45377 13.6288C7.30362 13.7789 7.25871 14.0047 7.33997 14.2009C7.42123 14.3971 7.61266 14.525 7.825 14.525H16.3103Z"})}),update:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.4722 4.19518C10.593 2.93475 6.45011 4.79732 4.76096 8.39669L6.57151 9.24635C7.8376 6.54846 10.946 5.15238 13.8542 6.0973C14.749 6.38805 15.5288 6.86886 16.1634 7.48099L14.2 9.02305L20.2 10.8037L19.5725 4.80366L17.7475 6.2369C16.8682 5.32742 15.7595 4.61344 14.4722 4.19518ZM9.52793 19.4121C13.73 20.7774 18.2432 18.4778 19.6085 14.2758L17.7064 13.6577C16.6824 16.8093 13.2975 18.534 10.146 17.51C8.81445 17.0773 7.73766 16.2239 7.01494 15.1433L9 13.5843L3 11.8037L3.62747 17.8037L5.43872 16.3812C6.40028 17.7614 7.80402 18.852 9.52793 19.4121Z"})}),URDF:jsxs(Fragment,{children:[jsx("path",{d:"M17.3221 4.95782H5V17.7116",stroke:"white","stroke-linecap":"round"}),jsx("path",{d:"M14.8691 7.22437H7.30243V15.0561",stroke:"white","stroke-linecap":"round"}),jsx("path",{d:"M13.2807 9.50891H9.65198V13.2648",stroke:"white","stroke-linecap":"round"}),jsx("path",{d:"M18.6147 6.90211C18.9304 6.58959 19.4665 6.81322 19.4665 7.25745V19.8125H6.78843C6.34175 19.8125 6.11923 19.2714 6.43667 18.9572L18.6147 6.90211Z"})]}),user:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.20502 9.89689C4.99954 10.5615 4.88889 11.2679 4.88889 12C4.88889 15.9274 8.07265 19.1111 12 19.1111C15.9274 19.1111 19.1111 15.9274 19.1111 12C19.1111 10.8633 18.8444 9.78895 18.3702 8.83602C13.2499 9.88865 11.6533 8.0153 10.5989 6.77819C10.3106 6.43988 10.0628 6.14914 9.79458 5.97885C9.33145 8.90517 6.08902 9.72627 5.20502 9.89689ZM12 3.11111C7.09081 3.11111 3.11111 7.09081 3.11111 12C3.11111 16.9092 7.09081 20.8889 12 20.8889C16.9092 20.8889 20.8889 16.9092 20.8889 12C20.8889 7.09081 16.9092 3.11111 12 3.11111Z"}),jsx("path",{d:"M14.6667 13.7778C15.4031 13.7778 16 13.1808 16 12.4444C16 11.7081 15.4031 11.1111 14.6667 11.1111C13.9303 11.1111 13.3334 11.7081 13.3334 12.4444C13.3334 13.1808 13.9303 13.7778 14.6667 13.7778Z"}),jsx("path",{d:"M9.33333 13.7778C10.0697 13.7778 10.6667 13.1808 10.6667 12.4444C10.6667 11.7081 10.0697 11.1111 9.33333 11.1111C8.59695 11.1111 8 11.7081 8 12.4444C8 13.1808 8.59695 13.7778 9.33333 13.7778Z"})]}),utilities:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 4C3 3.44772 3.44772 3 4 3H10C10.5523 3 11 3.44772 11 4V10C11 10.5523 10.5523 11 10 11H4C3.44772 11 3 10.5523 3 10V4ZM5 5V9H9V5H5Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 4C13 3.44772 13.4477 3 14 3H20C20.5523 3 21 3.44772 21 4V10C21 10.5523 20.5523 11 20 11H14C13.4477 11 13 10.5523 13 10V4ZM15 5V9H19V5H15Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 14C13 13.4477 13.4477 13 14 13H20C20.5523 13 21 13.4477 21 14V20C21 20.5523 20.5523 21 20 21H14C13.4477 21 13 20.5523 13 20V14ZM15 15V19H19V15H15Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 14C3 13.4477 3.44772 13 4 13H10C10.5523 13 11 13.4477 11 14V20C11 20.5523 10.5523 21 10 21H4C3.44772 21 3 20.5523 3 20V14ZM5 15V19H9V15H5Z"})]}),"video off":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8171 14.1349V10.6809L19.3597 8.1474C20.0336 7.66549 20.9705 7.82108 21.4524 8.49492C21.6344 8.74946 21.7323 9.05456 21.7323 9.36749V15.3945C21.7323 16.2229 21.0607 16.8945 20.2323 16.8945C19.9245 16.8945 19.6242 16.7998 19.3721 16.6233L15.8171 14.1349ZM17.8171 13.0935L19.7323 14.4342V10.3398L17.8171 11.7094V13.0935Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.74457 3.4985L1.9437 4.29938L18.6302 20.9859L19.4311 20.185L2.74457 3.4985Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.13535 7.00145C3.04844 7.19134 3 7.40251 3 7.625V17.125C3 17.9534 3.67157 18.625 4.5 18.625H14.7589L12.7589 16.625H5V8.8661L3.13535 7.00145ZM5.8196 8.125L3.9312 6.2366C4.10661 6.16466 4.29867 6.125 4.5 6.125H16C16.8284 6.125 17.5 6.79657 17.5 7.625V17.125C17.5 17.8537 16.9803 18.4611 16.2913 18.5967L14.3196 16.625H15.5V8.125H5.8196Z"})]}),video:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16.5V8H15.5V16.5H5ZM4.5 6C3.67157 6 3 6.67157 3 7.5V17C3 17.8284 3.67157 18.5 4.5 18.5H16C16.8284 18.5 17.5 17.8284 17.5 17V15.1878L19.3721 16.4983C19.6242 16.6748 19.9245 16.7695 20.2323 16.7695C21.0607 16.7695 21.7323 16.0979 21.7323 15.2695V9.24247C21.7323 8.92954 21.6344 8.62444 21.4524 8.3699C20.9705 7.69606 20.0336 7.54048 19.3597 8.02238L17.5 9.3524V7.5C17.5 6.67157 16.8284 6 16 6H4.5ZM19.7323 14.3091L17.8171 12.9685V11.5844L19.7323 10.2148V14.3091Z"})}),"view all":jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.42862 8.1429V3H10.4286V8.1429C10.4286 9.40527 9.40527 10.4286 8.1429 10.4286H3V8.42862H8.1429C8.3007 8.42862 8.42862 8.3007 8.42862 8.1429Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.1429 15.5715H3V13.5715H8.1429C9.40527 13.5715 10.4286 14.5949 10.4286 15.8572V21.0001H8.42862V15.8572C8.42862 15.6994 8.3007 15.5715 8.1429 15.5715Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.5714 3V8.1429C15.5714 8.3007 15.6993 8.42862 15.8571 8.42862H21V10.4286H15.8571C14.5947 10.4286 13.5714 9.40527 13.5714 8.1429V3H15.5714Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.8571 15.5715C15.6993 15.5715 15.5714 15.6994 15.5714 15.8572V21.0001H13.5714V15.8572C13.5714 14.5949 14.5947 13.5715 15.8571 13.5715H21V15.5715H15.8571Z"})]}),view:jsxs(Fragment,{children:[jsx("path",{d:"M17 9H7V11H17V9Z"}),jsx("path",{d:"M10 13H7V17H10V13Z"}),jsx("path",{d:"M17 13H12V17H17V13Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 4H21V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V4ZM5 6V19H19V6H5Z"})]}),visible:jsxs(Fragment,{children:[jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.14398 11.4616C4.82104 7.02853 8.09047 4.54999 12 4.54999C15.9095 4.54999 19.179 7.02853 21.856 11.4616C22.0476 11.7789 22.048 12.1761 21.8571 12.4937C19.191 16.9292 15.921 19.4071 12 19.4071C8.07895 19.4071 4.80905 16.9292 2.14292 12.4937C1.95198 12.1761 1.95239 11.7789 2.14398 11.4616ZM4.17638 11.9797C6.57637 15.7502 9.1981 17.4071 12 17.4071C14.8019 17.4071 17.4236 15.7502 19.8236 11.9797C17.4121 8.20659 14.7903 6.54999 12 6.54999C9.20971 6.54999 6.58787 8.20659 4.17638 11.9797Z"}),jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.0644 14.9358C13.662 14.9358 14.9572 13.6406 14.9572 12.0429C14.9572 11.1993 14.5961 10.44 14.02 9.91118C13.505 9.43857 12.8184 9.15009 12.0644 9.15009C10.4667 9.15009 9.17151 10.4453 9.17151 12.0429C9.17151 13.6406 10.4667 14.9358 12.0644 14.9358Z"})]}),warning:jsx(Fragment,{children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12ZM12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3ZM12 7C12.5523 7 13 7.44772 13 8V12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12V8C11 7.44772 11.4477 7 12 7ZM12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z"})})},Icon=function(e){var i=e.name,o=e.size,c=e.color;return jsx("svg",{className:styles$3.icon,fill:c||"white",color:c||"white",width:o==="large"?48:o==="small"?18:24,height:o==="large"?48:o==="small"?18:24,viewBox:o==="large"?"0 0 40 40":"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:icons[i]})},css_248z$2=`@import url("https://fonts.googleapis.com/css2?family=Work+Sans:wght@300&display=swap");
.EventAlert-module_slide-right__ubyZJ {
  -webkit-animation: EventAlert-module_slide-right__ubyZJ 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  animation: EventAlert-module_slide-right__ubyZJ 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
}

@-webkit-keyframes EventAlert-module_slide-right__ubyZJ {
  0% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
  100% {
    -webkit-transform: translateX(500px);
    transform: translateX(500px);
  }
}
@keyframes EventAlert-module_slide-right__ubyZJ {
  0% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
  100% {
    -webkit-transform: translateX(500px);
    transform: translateX(500px);
  }
}
.EventAlert-module_slide-left__2kcwo {
  -webkit-animation: EventAlert-module_slide-left__2kcwo 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  animation: EventAlert-module_slide-left__2kcwo 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
}

@-webkit-keyframes EventAlert-module_slide-left__2kcwo {
  0% {
    -webkit-transform: translateX(500px);
    transform: translateX(500px);
  }
  100% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}
@keyframes EventAlert-module_slide-left__2kcwo {
  0% {
    -webkit-transform: translateX(500px);
    transform: translateX(500px);
  }
  100% {
    -webkit-transform: translateX(0);
    transform: translateX(0);
  }
}
.EventAlert-module_event-alert__2A1Tf {
  height: 6.4rem;
  min-width: 40rem;
  max-width: 44rem;
  background-color: #3b4668;
  border-radius: 0.6rem;
  box-shadow: 0px 10px 10px rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: space-between;
  align-items: center;
  position: absolute;
  bottom: 3rem;
  right: 3rem;
  padding-right: 1rem;
  transform: translateX(500px);
}
.EventAlert-module_event-alert-icon__1zr2Z {
  margin-left: 1.6rem;
  margin-right: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.EventAlert-module_event-alert-icon__1zr2Z span {
  margin-left: 10px;
}
.EventAlert-module_event-alert-close__1bZsB {
  display: flex;
  margin-left: 8px;
}
.EventAlert-module_event-alert-close__1bZsB:hover {
  cursor: pointer;
}
.EventAlert-module_event-alert-open__2OgSI::before {
  background-color: #2ec495;
}
.EventAlert-module_event-alert-info__3KrCb::before {
  background-color: #18d2ff;
}
.EventAlert-module_event-alert-warning__3PhIU::before {
  background-color: #a961e4;
}
.EventAlert-module_event-alert-error__2H-05::before {
  background-color: #f89973;
}
.EventAlert-module_event-alert-critical__PjTUW::before {
  background-color: #ea719d;
}
.EventAlert-module_event-alert__2A1Tf::before {
  content: "";
  position: absolute;
  height: 36px;
  width: 5px;
  border-top-right-radius: 6px;
  border-bottom-right-radius: 6px;
}`;styleInject(css_248z$2);var css_248z$1=`@import url("https://fonts.googleapis.com/css2?family=Work+Sans:wght@300&display=swap");
.Typography-module_typography__1heOz {
  color: white;
  font-family: "Work Sans", sans-serif;
  -webkit-font-smoothing: "antialiased";
}
.Typography-module_typography-display__1y533 {
  font-size: 5rem;
  line-height: 6rem;
  font-weight: 300;
}
.Typography-module_typography-h1__FsFYZ {
  font-size: 3.2rem;
  line-height: 4rem;
}
.Typography-module_typography-h2__1ONth {
  font-size: 2.4rem;
  line-height: 3.4rem;
  letter-spacing: 1px;
}
.Typography-module_typography-h3__2nc_N {
  font-size: 1.8rem;
  line-height: 2.7rem;
  letter-spacing: 0.5px;
  font-weight: 400;
}
.Typography-module_typography-h4__6-1Zt {
  font-size: 1.3rem;
  line-height: 2.2rem;
  letter-spacing: 1px;
  font-weight: 400;
}
.Typography-module_typography-body__taO92 {
  font-size: 1.6rem;
  line-height: 2.7rem;
  letter-spacing: 1px;
}
.Typography-module_typography-list__2bQlu {
  font-size: 1.3rem;
  line-height: 2rem;
  letter-spacing: 0.5px;
  color: #bac4e2;
}
.Typography-module_typography-label__1_6Jx {
  font-size: 1rem;
  line-height: 1.8rem;
  letter-spacing: 1px;
  font-weight: 600;
  color: #bac4e2;
}
.Typography-module_typography-minimum__Rl5zW {
  font-size: 1rem;
  line-height: 1.5rem;
  letter-spacing: 1px;
  font-weight: 400;
  color: #bac4e2;
}`,styles$1={typography:"Typography-module_typography__1heOz","typography-display":"Typography-module_typography-display__1y533","typography-h1":"Typography-module_typography-h1__FsFYZ","typography-h2":"Typography-module_typography-h2__1ONth","typography-h3":"Typography-module_typography-h3__2nc_N","typography-h4":"Typography-module_typography-h4__6-1Zt","typography-body":"Typography-module_typography-body__taO92","typography-list":"Typography-module_typography-list__2bQlu","typography-label":"Typography-module_typography-label__1_6Jx","typography-minimum":"Typography-module_typography-minimum__Rl5zW"};styleInject(css_248z$1);var Typography=function(e){var i=e.type,o=e.children;return jsx("span",{className:"".concat(styles$1.typography," ").concat(styles$1["typography-".concat(i)]),children:o})},css_248z=`@import url("https://fonts.googleapis.com/css2?family=Work+Sans:wght@300&display=swap");
.Input-module_field__32qKx {
  box-sizing: border-box;
  font-family: "Work Sans", sans-serif;
  color: white;
  letter-spacing: 0.5px;
  font-size: 1.6rem;
  display: flex;
  align-items: center;
  position: relative;
  border-bottom: dotted 0.063rem #bac4e2;
  max-height: 6.1rem;
  min-width: 25rem;
  width: 100%;
}
.Input-module_field__32qKx:focus-within {
  border-bottom: none;
}
.Input-module_field-error__1Fmpi {
  border-bottom: none;
}
.Input-module_field-error__1Fmpi label {
  color: #ea719d !important;
}
.Input-module_field-error__1Fmpi input {
  border: 1px solid #ea719d;
}
.Input-module_field-error__1Fmpi input:focus {
  border: 1px solid #ea719d;
}
.Input-module_field-input__2l4Bq {
  box-sizing: border-box;
  letter-spacing: inherit;
  height: 6rem;
  max-height: 6rem;
  padding: 1.8rem 2rem 0px;
  background-color: #3b4668;
  color: inherit;
  line-height: 4rem;
  font-size: inherit;
  border-radius: 0.4rem;
  border-bottom-left-radius: 0;
  border-bottom-right-radius: 0;
  flex: 1;
  border: 0.063rem solid #3b4668;
  -webkit-transition: border-color 200ms ease-in-out 0ms, color 200ms ease-in-out 0ms, background-color 200ms ease-in-out 0ms, padding 200ms ease-in-out 0ms;
  will-change: border-color, color, background-color, padding;
}
.Input-module_field-input__2l4Bq:focus {
  border: solid 1px #18d2ff;
  background: #000000;
  border-radius: 0.4rem;
  outline: none;
}
.Input-module_field-input-large__wP5u0 {
  height: 6rem;
}
.Input-module_field-input-small__3OkI1 {
  height: 4rem;
  padding: 0 1.5rem;
}
.Input-module_field-label__-VYLL {
  background: none;
  top: 2rem;
  font-size: 1.9rem;
  left: 2rem;
  color: #bac4e2;
  position: absolute;
  -webkit-transition: top 100ms ease-in-out 0ms;
  will-change: top;
}
.Input-module_field-label__-VYLL:hover {
  cursor: text;
}
.Input-module_field-label-small__3ALdk {
  top: 1rem;
  font-size: 1.5rem;
  left: 1.3rem;
  padding: 0.2rem 0.6rem;
}

.Input-module_field-input__2l4Bq:focus ~ .Input-module_field-label__-VYLL {
  color: #18d2ff;
}

.Input-module_field-input__2l4Bq:focus ~ .Input-module_field-label__-VYLL,
.Input-module_field-input__2l4Bq:not(:placeholder-shown).Input-module_field-input__2l4Bq:not(:focus) ~ .Input-module_field-label__-VYLL {
  top: 0.8rem;
  font-size: 1.3rem;
  text-align: left;
  pointer-events: none;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
}

.Input-module_field-input__2l4Bq:focus ~ .Input-module_field-label-small__3ALdk,
.Input-module_field-input__2l4Bq:not(:placeholder-shown).Input-module_field-input__2l4Bq:not(:focus) ~ .Input-module_field-label-small__3ALdk {
  left: 1.5rem;
  top: -0.8rem;
  font-size: 1rem;
  margin: 0 -0.5rem;
  text-align: left;
  pointer-events: none;
  white-space: nowrap;
  text-overflow: ellipsis;
  overflow: hidden;
  background-color: #2d3855;
  border-radius: 0.6rem;
}

.Input-module_simple__2vQ49 {
  font-family: "Work Sans", sans-serif;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.Input-module_simple-input__3Qi5Z {
  font-family: inherit;
  font-size: 3.5rem;
  border: none;
  outline: none;
  border-bottom: 0.063rem dotted #bac4e2;
  background-color: transparent;
  color: white;
  line-height: 4rem;
  margin-bottom: 1rem;
}
.Input-module_simple-input-error__19Jho {
  border-bottom: 0.063rem solid #ea719d !important;
}
.Input-module_simple-input-error__19Jho:focus {
  border-bottom: 0.063rem dotted #ea719d !important;
}
.Input-module_simple-input__3Qi5Z:focus {
  border-bottom: 0.063rem solid #18d2ff;
}
.Input-module_simple-input__3Qi5Z::placeholder {
  font-family: inherit;
  color: #bac4e2;
}
.Input-module_simple__2vQ49 span {
  font-family: inherit;
  color: #bac4e2;
  font-style: italic;
  font-size: 1.6rem;
  letter-spacing: 0.5px;
  font-weight: 400;
}`;styleInject(css_248z);var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(e,i,o)=>i in e?__defProp(e,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[i]=o,__spreadValues=(e,i)=>{for(var o in i||(i={}))__hasOwnProp.call(i,o)&&__defNormalProp(e,o,i[o]);if(__getOwnPropSymbols)for(var o of __getOwnPropSymbols(i))__propIsEnum.call(i,o)&&__defNormalProp(e,o,i[o]);return e},__publicField=(e,i,o)=>(__defNormalProp(e,typeof i!="symbol"?i+"":i,o),o),dist={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(module,exports){(function(e,i){module.exports=i()})(window,function(){return function(e){function i(et){for(var ut,gt,lt=et[0],ft=et[1],ot=0,yt=[];ot<lt.length;ot++)gt=lt[ot],Object.prototype.hasOwnProperty.call(c,gt)&&c[gt]&&yt.push(c[gt][0]),c[gt]=0;for(ut in ft)Object.prototype.hasOwnProperty.call(ft,ut)&&(e[ut]=ft[ut]);for($&&$(et);yt.length;)yt.shift()()}var o={},c={0:0};function d(et){if(o[et])return o[et].exports;var ut=o[et]={i:et,l:!1,exports:{}};return e[et].call(ut.exports,ut,ut.exports,d),ut.l=!0,ut.exports}d.e=function(){return Promise.resolve()},d.m=e,d.c=o,d.d=function(et,ut,gt){d.o(et,ut)||Object.defineProperty(et,ut,{enumerable:!0,get:gt})},d.r=function(et){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(et,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(et,"__esModule",{value:!0})},d.t=function(et,ut){if(1&ut&&(et=d(et)),8&ut||4&ut&&typeof et=="object"&&et&&et.__esModule)return et;var gt=Object.create(null);if(d.r(gt),Object.defineProperty(gt,"default",{enumerable:!0,value:et}),2&ut&&typeof et!="string")for(var lt in et)d.d(gt,lt,function(ft){return et[ft]}.bind(null,lt));return gt},d.n=function(et){var ut=et&&et.__esModule?function(){return et.default}:function(){return et};return d.d(ut,"a",ut),ut},d.o=function(et,ut){return Object.prototype.hasOwnProperty.call(et,ut)},d.p="",d.oe=function(et){throw console.error(et),et};var j=window.webpackJsonpFormantRealtimeSDK=window.webpackJsonpFormantRealtimeSDK||[],Z=j.push.bind(j);j.push=i,j=j.slice();for(var s=0;s<j.length;s++)i(j[s]);var $=Z;return d(d.s=228)}([function(e,i,o){o.d(i,"a",function(){return zt});const c=Math.pow(2,20),d=c;var j=o(54),Z=o(15),s=o(53),$=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),et=new Uint8Array(16);function ut(){if(!$)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return $(et)}for(var gt=[],lt=0;lt<256;++lt)gt[lt]=(lt+256).toString(16).substr(1);var ft=function(St,Dt){var Nt=Dt||0,_t=gt;return[_t[St[Nt++]],_t[St[Nt++]],_t[St[Nt++]],_t[St[Nt++]],"-",_t[St[Nt++]],_t[St[Nt++]],"-",_t[St[Nt++]],_t[St[Nt++]],"-",_t[St[Nt++]],_t[St[Nt++]],"-",_t[St[Nt++]],_t[St[Nt++]],_t[St[Nt++]],_t[St[Nt++]],_t[St[Nt++]],_t[St[Nt++]]].join("")},ot=function(St,Dt,Nt){var _t=Dt&&Nt||0;typeof St=="string"&&(Dt=St==="binary"?new Array(16):null,St=null);var at=(St=St||{}).random||(St.rng||ut)();if(at[6]=15&at[6]|64,at[8]=63&at[8]|128,Dt)for(var Bt=0;Bt<16;++Bt)Dt[_t+Bt]=at[Bt];return Dt||ft(at)},yt=o(16),wt=o(7),Rt=o(21),Mt=o(30),Tt=function(St,Dt){var Nt={};for(var _t in St)Object.prototype.hasOwnProperty.call(St,_t)&&Dt.indexOf(_t)<0&&(Nt[_t]=St[_t]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function"){var at=0;for(_t=Object.getOwnPropertySymbols(St);at<_t.length;at++)Dt.indexOf(_t[at])<0&&Object.prototype.propertyIsEnumerable.call(St,_t[at])&&(Nt[_t[at]]=St[_t[at]])}return Nt};function Ct(St,Dt={}){const Nt=Qt=>Dt.redacted!==!1?Object(Mt.a)(Qt):Qt;if(!St.stack)return{message:Rt(Nt(St),{cycles:!0})};const{name:_t,message:at,stack:Bt}=St,Vt=Tt(St,["name","message","stack"]);return{name:_t,message:at!==void 0?at:Rt(Nt(St),{cycles:!0}),stack:Bt,meta:Vt&&Object.keys(Vt).length===0?void 0:Nt(Vt)}}function ct(St,Dt={}){const{message:Nt,stack:_t,meta:at}=Ct(St,Dt);return`${_t||Nt||""}${at&&Object.keys(at).length>0?` -- ${Rt(at,{cycles:!0})}`:""}`}var Lt=o(99),Kt=function(St,Dt,Nt,_t){return new(Nt||(Nt=Promise))(function(at,Bt){function Vt(ar){try{or(_t.next(ar))}catch(qt){Bt(qt)}}function Qt(ar){try{or(_t.throw(ar))}catch(qt){Bt(qt)}}function or(ar){var qt;ar.done?at(ar.value):(qt=ar.value,qt instanceof Nt?qt:new Nt(function(Gt){Gt(qt)})).then(Vt,Qt)}or((_t=_t.apply(St,Dt||[])).next())})},Yt=function(St,Dt){var Nt={};for(var _t in St)Object.prototype.hasOwnProperty.call(St,_t)&&Dt.indexOf(_t)<0&&(Nt[_t]=St[_t]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function"){var at=0;for(_t=Object.getOwnPropertySymbols(St);at<_t.length;at++)Dt.indexOf(_t[at])<0&&Object.prototype.propertyIsEnumerable.call(St,_t[at])&&(Nt[_t[at]]=St[_t[at]])}return Nt};class pt extends Lt{constructor(Dt,Nt){super(),this.endpoint=Dt,this.meta=Nt,this.logClient=this.getLogClient()}getLogClient(){return Kt(this,void 0,void 0,function*(){const{LogClient:Dt}=yield Promise.resolve().then(o.bind(null,230));return new Dt(this.endpoint)})}log(Dt,Nt){return Kt(this,void 0,void 0,function*(){const{level:_t,message:at,error:Bt}=Dt,Vt=Yt(Dt,["level","message","error"]);this.emit("logged");try{yield(yield this.logClient).log([{timestamp:new Date().toISOString(),level:_t,message:at.substring(0,1e3),error:Bt!==void 0?Ct(Bt):void 0,meta:Object.assign(Object.assign({},Vt),this.meta())}])}catch(Qt){console.error(`Failed to log to log-api: ${ct(Qt)}`)}Nt()})}}var dt=function(St,Dt){var Nt={};for(var _t in St)Object.prototype.hasOwnProperty.call(St,_t)&&Dt.indexOf(_t)<0&&(Nt[_t]=St[_t]);if(St!=null&&typeof Object.getOwnPropertySymbols=="function"){var at=0;for(_t=Object.getOwnPropertySymbols(St);at<_t.length;at++)Dt.indexOf(_t[at])<0&&Object.prototype.propertyIsEnumerable.call(St,_t[at])&&(Nt[_t[at]]=St[_t[at]])}return Nt};const bt={app:wt.a,namespace:wt.i,buildTag:wt.b,instanceId:ot()};let mt={};const jt=wt.e?yt.format.printf(St=>{var{timestamp:Dt,level:Nt,message:_t,error:at}=St,Bt=dt(St,["timestamp","level","message","error"]);const Vt=Object.assign(Object.assign({timestamp:Dt?new Date(Dt).getTime():new Date().getTime(),level:Nt.toUpperCase(),message:_t},at?{error:Ct(at)}:{}),{meta:Object.assign(Object.assign(Object.assign({},bt),mt),Bt)});try{return JSON.stringify(Vt)}catch{return j(Vt)}}):yt.format.printf(St=>{var{timestamp:Dt,level:Nt,message:_t,error:at}=St,Bt=dt(St,["timestamp","level","message","error"]);let Vt=`${Dt||new Date().toISOString()} ${Nt.toUpperCase()}: ${_t} `;if(Object.keys(Bt).length>0)try{Vt+=JSON.stringify(Bt)}catch{Vt+=j(Bt)}return at&&(Vt+=`
${ct(at)}`),Vt}),zt=Object(yt.createLogger)({level:wt.f});if(wt.g&&zt.add(new yt.transports.Console({format:jt,level:"debug"})),wt.d&&zt.add(new pt(wt.d,()=>Object.assign(Object.assign(Object.assign({},bt),mt),{level:"debug"}))),wt.h){const St=s.resolve(Z.tmpdir(),`silly-${wt.a}.log`);zt.debug("Logging silly logs to file",{filename:St}),zt.add(new yt.transports.File({filename:St,maxsize:1*d,maxFiles:10,format:yt.format.combine((kt="silly",Object(yt.format)(Dt=>Dt.level===kt&&Dt)()),jt),level:"silly"}))}var kt},function(e,i,o){o.d(i,"a",function(){return c});const c={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,year:31536e6}},function(e,i){var o,c,d=e.exports={};function j(){throw new Error("setTimeout has not been defined")}function Z(){throw new Error("clearTimeout has not been defined")}function s(wt){if(o===setTimeout)return setTimeout(wt,0);if((o===j||!o)&&setTimeout)return o=setTimeout,setTimeout(wt,0);try{return o(wt,0)}catch{try{return o.call(null,wt,0)}catch{return o.call(this,wt,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:j}catch{o=j}try{c=typeof clearTimeout=="function"?clearTimeout:Z}catch{c=Z}})();var $,et=[],ut=!1,gt=-1;function lt(){ut&&$&&(ut=!1,$.length?et=$.concat(et):gt=-1,et.length&&ft())}function ft(){if(!ut){var wt=s(lt);ut=!0;for(var Rt=et.length;Rt;){for($=et,et=[];++gt<Rt;)$&&$[gt].run();gt=-1,Rt=et.length}$=null,ut=!1,function(Mt){if(c===clearTimeout)return clearTimeout(Mt);if((c===Z||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(Mt);try{c(Mt)}catch{try{return c.call(null,Mt)}catch{return c.call(this,Mt)}}}(wt)}}function ot(wt,Rt){this.fun=wt,this.array=Rt}function yt(){}d.nextTick=function(wt){var Rt=new Array(arguments.length-1);if(arguments.length>1)for(var Mt=1;Mt<arguments.length;Mt++)Rt[Mt-1]=arguments[Mt];et.push(new ot(wt,Rt)),et.length!==1||ut||s(ft)},ot.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=yt,d.addListener=yt,d.once=yt,d.off=yt,d.removeListener=yt,d.removeAllListeners=yt,d.emit=yt,d.prependListener=yt,d.prependOnceListener=yt,d.listeners=function(wt){return[]},d.binding=function(wt){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(wt){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,i,o){Object.defineProperty(i,"LEVEL",{value:Symbol.for("level")}),Object.defineProperty(i,"MESSAGE",{value:Symbol.for("message")}),Object.defineProperty(i,"SPLAT",{value:Symbol.for("splat")}),Object.defineProperty(i,"configs",{value:o(117)})},function(e,i,o){(function(c){var d=o(125),j=o(126),Z=o(38);function s(){return et.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function $(vt,At){if(s()<At)throw new RangeError("Invalid typed array length");return et.TYPED_ARRAY_SUPPORT?(vt=new Uint8Array(At)).__proto__=et.prototype:(vt===null&&(vt=new et(At)),vt.length=At),vt}function et(vt,At,It){if(!(et.TYPED_ARRAY_SUPPORT||this instanceof et))return new et(vt,At,It);if(typeof vt=="number"){if(typeof At=="string")throw new Error("If encoding is specified then the first argument must be a string");return lt(this,vt)}return ut(this,vt,At,It)}function ut(vt,At,It,Ht){if(typeof At=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&At instanceof ArrayBuffer?function(Zt,rr,pr,_r){if(rr.byteLength,pr<0||rr.byteLength<pr)throw new RangeError("'offset' is out of bounds");if(rr.byteLength<pr+(_r||0))throw new RangeError("'length' is out of bounds");return rr=pr===void 0&&_r===void 0?new Uint8Array(rr):_r===void 0?new Uint8Array(rr,pr):new Uint8Array(rr,pr,_r),et.TYPED_ARRAY_SUPPORT?(Zt=rr).__proto__=et.prototype:Zt=ft(Zt,rr),Zt}(vt,At,It,Ht):typeof At=="string"?function(Zt,rr,pr){if(typeof pr=="string"&&pr!==""||(pr="utf8"),!et.isEncoding(pr))throw new TypeError('"encoding" must be a valid string encoding');var _r=0|yt(rr,pr),ir=(Zt=$(Zt,_r)).write(rr,pr);return ir!==_r&&(Zt=Zt.slice(0,ir)),Zt}(vt,At,It):function(Zt,rr){if(et.isBuffer(rr)){var pr=0|ot(rr.length);return(Zt=$(Zt,pr)).length===0||rr.copy(Zt,0,0,pr),Zt}if(rr){if(typeof ArrayBuffer!="undefined"&&rr.buffer instanceof ArrayBuffer||"length"in rr)return typeof rr.length!="number"||(_r=rr.length)!=_r?$(Zt,0):ft(Zt,rr);if(rr.type==="Buffer"&&Z(rr.data))return ft(Zt,rr.data)}var _r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(vt,At)}function gt(vt){if(typeof vt!="number")throw new TypeError('"size" argument must be a number');if(vt<0)throw new RangeError('"size" argument must not be negative')}function lt(vt,At){if(gt(At),vt=$(vt,At<0?0:0|ot(At)),!et.TYPED_ARRAY_SUPPORT)for(var It=0;It<At;++It)vt[It]=0;return vt}function ft(vt,At){var It=At.length<0?0:0|ot(At.length);vt=$(vt,It);for(var Ht=0;Ht<It;Ht+=1)vt[Ht]=255&At[Ht];return vt}function ot(vt){if(vt>=s())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s().toString(16)+" bytes");return 0|vt}function yt(vt,At){if(et.isBuffer(vt))return vt.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(vt)||vt instanceof ArrayBuffer))return vt.byteLength;typeof vt!="string"&&(vt=""+vt);var It=vt.length;if(It===0)return 0;for(var Ht=!1;;)switch(At){case"ascii":case"latin1":case"binary":return It;case"utf8":case"utf-8":case void 0:return ar(vt).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*It;case"hex":return It>>>1;case"base64":return qt(vt).length;default:if(Ht)return ar(vt).length;At=(""+At).toLowerCase(),Ht=!0}}function wt(vt,At,It){var Ht=!1;if((At===void 0||At<0)&&(At=0),At>this.length||((It===void 0||It>this.length)&&(It=this.length),It<=0)||(It>>>=0)<=(At>>>=0))return"";for(vt||(vt="utf8");;)switch(vt){case"hex":return zt(this,At,It);case"utf8":case"utf-8":return bt(this,At,It);case"ascii":return mt(this,At,It);case"latin1":case"binary":return jt(this,At,It);case"base64":return dt(this,At,It);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return kt(this,At,It);default:if(Ht)throw new TypeError("Unknown encoding: "+vt);vt=(vt+"").toLowerCase(),Ht=!0}}function Rt(vt,At,It){var Ht=vt[At];vt[At]=vt[It],vt[It]=Ht}function Mt(vt,At,It,Ht,Zt){if(vt.length===0)return-1;if(typeof It=="string"?(Ht=It,It=0):It>2147483647?It=2147483647:It<-2147483648&&(It=-2147483648),It=+It,isNaN(It)&&(It=Zt?0:vt.length-1),It<0&&(It=vt.length+It),It>=vt.length){if(Zt)return-1;It=vt.length-1}else if(It<0){if(!Zt)return-1;It=0}if(typeof At=="string"&&(At=et.from(At,Ht)),et.isBuffer(At))return At.length===0?-1:Tt(vt,At,It,Ht,Zt);if(typeof At=="number")return At&=255,et.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Zt?Uint8Array.prototype.indexOf.call(vt,At,It):Uint8Array.prototype.lastIndexOf.call(vt,At,It):Tt(vt,[At],It,Ht,Zt);throw new TypeError("val must be string, number or Buffer")}function Tt(vt,At,It,Ht,Zt){var rr,pr=1,_r=vt.length,ir=At.length;if(Ht!==void 0&&((Ht=String(Ht).toLowerCase())==="ucs2"||Ht==="ucs-2"||Ht==="utf16le"||Ht==="utf-16le")){if(vt.length<2||At.length<2)return-1;pr=2,_r/=2,ir/=2,It/=2}function cr(Yr,an){return pr===1?Yr[an]:Yr.readUInt16BE(an*pr)}if(Zt){var mr=-1;for(rr=It;rr<_r;rr++)if(cr(vt,rr)===cr(At,mr===-1?0:rr-mr)){if(mr===-1&&(mr=rr),rr-mr+1===ir)return mr*pr}else mr!==-1&&(rr-=rr-mr),mr=-1}else for(It+ir>_r&&(It=_r-ir),rr=It;rr>=0;rr--){for(var Cr=!0,Mr=0;Mr<ir;Mr++)if(cr(vt,rr+Mr)!==cr(At,Mr)){Cr=!1;break}if(Cr)return rr}return-1}function Ct(vt,At,It,Ht){It=Number(It)||0;var Zt=vt.length-It;Ht?(Ht=Number(Ht))>Zt&&(Ht=Zt):Ht=Zt;var rr=At.length;if(rr%2!=0)throw new TypeError("Invalid hex string");Ht>rr/2&&(Ht=rr/2);for(var pr=0;pr<Ht;++pr){var _r=parseInt(At.substr(2*pr,2),16);if(isNaN(_r))return pr;vt[It+pr]=_r}return pr}function ct(vt,At,It,Ht){return Gt(ar(At,vt.length-It),vt,It,Ht)}function Lt(vt,At,It,Ht){return Gt(function(Zt){for(var rr=[],pr=0;pr<Zt.length;++pr)rr.push(255&Zt.charCodeAt(pr));return rr}(At),vt,It,Ht)}function Kt(vt,At,It,Ht){return Lt(vt,At,It,Ht)}function Yt(vt,At,It,Ht){return Gt(qt(At),vt,It,Ht)}function pt(vt,At,It,Ht){return Gt(function(Zt,rr){for(var pr,_r,ir,cr=[],mr=0;mr<Zt.length&&!((rr-=2)<0);++mr)pr=Zt.charCodeAt(mr),_r=pr>>8,ir=pr%256,cr.push(ir),cr.push(_r);return cr}(At,vt.length-It),vt,It,Ht)}function dt(vt,At,It){return At===0&&It===vt.length?d.fromByteArray(vt):d.fromByteArray(vt.slice(At,It))}function bt(vt,At,It){It=Math.min(vt.length,It);for(var Ht=[],Zt=At;Zt<It;){var rr,pr,_r,ir,cr=vt[Zt],mr=null,Cr=cr>239?4:cr>223?3:cr>191?2:1;if(Zt+Cr<=It)switch(Cr){case 1:cr<128&&(mr=cr);break;case 2:(192&(rr=vt[Zt+1]))==128&&(ir=(31&cr)<<6|63&rr)>127&&(mr=ir);break;case 3:rr=vt[Zt+1],pr=vt[Zt+2],(192&rr)==128&&(192&pr)==128&&(ir=(15&cr)<<12|(63&rr)<<6|63&pr)>2047&&(ir<55296||ir>57343)&&(mr=ir);break;case 4:rr=vt[Zt+1],pr=vt[Zt+2],_r=vt[Zt+3],(192&rr)==128&&(192&pr)==128&&(192&_r)==128&&(ir=(15&cr)<<18|(63&rr)<<12|(63&pr)<<6|63&_r)>65535&&ir<1114112&&(mr=ir)}mr===null?(mr=65533,Cr=1):mr>65535&&(mr-=65536,Ht.push(mr>>>10&1023|55296),mr=56320|1023&mr),Ht.push(mr),Zt+=Cr}return function(Mr){var Yr=Mr.length;if(Yr<=4096)return String.fromCharCode.apply(String,Mr);for(var an="",dn=0;dn<Yr;)an+=String.fromCharCode.apply(String,Mr.slice(dn,dn+=4096));return an}(Ht)}i.Buffer=et,i.SlowBuffer=function(vt){return+vt!=vt&&(vt=0),et.alloc(+vt)},i.INSPECT_MAX_BYTES=50,et.TYPED_ARRAY_SUPPORT=c.TYPED_ARRAY_SUPPORT!==void 0?c.TYPED_ARRAY_SUPPORT:function(){try{var vt=new Uint8Array(1);return vt.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},vt.foo()===42&&typeof vt.subarray=="function"&&vt.subarray(1,1).byteLength===0}catch{return!1}}(),i.kMaxLength=s(),et.poolSize=8192,et._augment=function(vt){return vt.__proto__=et.prototype,vt},et.from=function(vt,At,It){return ut(null,vt,At,It)},et.TYPED_ARRAY_SUPPORT&&(et.prototype.__proto__=Uint8Array.prototype,et.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&et[Symbol.species]===et&&Object.defineProperty(et,Symbol.species,{value:null,configurable:!0})),et.alloc=function(vt,At,It){return function(Ht,Zt,rr,pr){return gt(Zt),Zt<=0?$(Ht,Zt):rr!==void 0?typeof pr=="string"?$(Ht,Zt).fill(rr,pr):$(Ht,Zt).fill(rr):$(Ht,Zt)}(null,vt,At,It)},et.allocUnsafe=function(vt){return lt(null,vt)},et.allocUnsafeSlow=function(vt){return lt(null,vt)},et.isBuffer=function(vt){return!(vt==null||!vt._isBuffer)},et.compare=function(vt,At){if(!et.isBuffer(vt)||!et.isBuffer(At))throw new TypeError("Arguments must be Buffers");if(vt===At)return 0;for(var It=vt.length,Ht=At.length,Zt=0,rr=Math.min(It,Ht);Zt<rr;++Zt)if(vt[Zt]!==At[Zt]){It=vt[Zt],Ht=At[Zt];break}return It<Ht?-1:Ht<It?1:0},et.isEncoding=function(vt){switch(String(vt).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},et.concat=function(vt,At){if(!Z(vt))throw new TypeError('"list" argument must be an Array of Buffers');if(vt.length===0)return et.alloc(0);var It;if(At===void 0)for(At=0,It=0;It<vt.length;++It)At+=vt[It].length;var Ht=et.allocUnsafe(At),Zt=0;for(It=0;It<vt.length;++It){var rr=vt[It];if(!et.isBuffer(rr))throw new TypeError('"list" argument must be an Array of Buffers');rr.copy(Ht,Zt),Zt+=rr.length}return Ht},et.byteLength=yt,et.prototype._isBuffer=!0,et.prototype.swap16=function(){var vt=this.length;if(vt%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var At=0;At<vt;At+=2)Rt(this,At,At+1);return this},et.prototype.swap32=function(){var vt=this.length;if(vt%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var At=0;At<vt;At+=4)Rt(this,At,At+3),Rt(this,At+1,At+2);return this},et.prototype.swap64=function(){var vt=this.length;if(vt%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var At=0;At<vt;At+=8)Rt(this,At,At+7),Rt(this,At+1,At+6),Rt(this,At+2,At+5),Rt(this,At+3,At+4);return this},et.prototype.toString=function(){var vt=0|this.length;return vt===0?"":arguments.length===0?bt(this,0,vt):wt.apply(this,arguments)},et.prototype.equals=function(vt){if(!et.isBuffer(vt))throw new TypeError("Argument must be a Buffer");return this===vt||et.compare(this,vt)===0},et.prototype.inspect=function(){var vt="",At=i.INSPECT_MAX_BYTES;return this.length>0&&(vt=this.toString("hex",0,At).match(/.{2}/g).join(" "),this.length>At&&(vt+=" ... ")),"<Buffer "+vt+">"},et.prototype.compare=function(vt,At,It,Ht,Zt){if(!et.isBuffer(vt))throw new TypeError("Argument must be a Buffer");if(At===void 0&&(At=0),It===void 0&&(It=vt?vt.length:0),Ht===void 0&&(Ht=0),Zt===void 0&&(Zt=this.length),At<0||It>vt.length||Ht<0||Zt>this.length)throw new RangeError("out of range index");if(Ht>=Zt&&At>=It)return 0;if(Ht>=Zt)return-1;if(At>=It)return 1;if(this===vt)return 0;for(var rr=(Zt>>>=0)-(Ht>>>=0),pr=(It>>>=0)-(At>>>=0),_r=Math.min(rr,pr),ir=this.slice(Ht,Zt),cr=vt.slice(At,It),mr=0;mr<_r;++mr)if(ir[mr]!==cr[mr]){rr=ir[mr],pr=cr[mr];break}return rr<pr?-1:pr<rr?1:0},et.prototype.includes=function(vt,At,It){return this.indexOf(vt,At,It)!==-1},et.prototype.indexOf=function(vt,At,It){return Mt(this,vt,At,It,!0)},et.prototype.lastIndexOf=function(vt,At,It){return Mt(this,vt,At,It,!1)},et.prototype.write=function(vt,At,It,Ht){if(At===void 0)Ht="utf8",It=this.length,At=0;else if(It===void 0&&typeof At=="string")Ht=At,It=this.length,At=0;else{if(!isFinite(At))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");At|=0,isFinite(It)?(It|=0,Ht===void 0&&(Ht="utf8")):(Ht=It,It=void 0)}var Zt=this.length-At;if((It===void 0||It>Zt)&&(It=Zt),vt.length>0&&(It<0||At<0)||At>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ht||(Ht="utf8");for(var rr=!1;;)switch(Ht){case"hex":return Ct(this,vt,At,It);case"utf8":case"utf-8":return ct(this,vt,At,It);case"ascii":return Lt(this,vt,At,It);case"latin1":case"binary":return Kt(this,vt,At,It);case"base64":return Yt(this,vt,At,It);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pt(this,vt,At,It);default:if(rr)throw new TypeError("Unknown encoding: "+Ht);Ht=(""+Ht).toLowerCase(),rr=!0}},et.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function mt(vt,At,It){var Ht="";It=Math.min(vt.length,It);for(var Zt=At;Zt<It;++Zt)Ht+=String.fromCharCode(127&vt[Zt]);return Ht}function jt(vt,At,It){var Ht="";It=Math.min(vt.length,It);for(var Zt=At;Zt<It;++Zt)Ht+=String.fromCharCode(vt[Zt]);return Ht}function zt(vt,At,It){var Ht=vt.length;(!At||At<0)&&(At=0),(!It||It<0||It>Ht)&&(It=Ht);for(var Zt="",rr=At;rr<It;++rr)Zt+=or(vt[rr]);return Zt}function kt(vt,At,It){for(var Ht=vt.slice(At,It),Zt="",rr=0;rr<Ht.length;rr+=2)Zt+=String.fromCharCode(Ht[rr]+256*Ht[rr+1]);return Zt}function St(vt,At,It){if(vt%1!=0||vt<0)throw new RangeError("offset is not uint");if(vt+At>It)throw new RangeError("Trying to access beyond buffer length")}function Dt(vt,At,It,Ht,Zt,rr){if(!et.isBuffer(vt))throw new TypeError('"buffer" argument must be a Buffer instance');if(At>Zt||At<rr)throw new RangeError('"value" argument is out of bounds');if(It+Ht>vt.length)throw new RangeError("Index out of range")}function Nt(vt,At,It,Ht){At<0&&(At=65535+At+1);for(var Zt=0,rr=Math.min(vt.length-It,2);Zt<rr;++Zt)vt[It+Zt]=(At&255<<8*(Ht?Zt:1-Zt))>>>8*(Ht?Zt:1-Zt)}function _t(vt,At,It,Ht){At<0&&(At=4294967295+At+1);for(var Zt=0,rr=Math.min(vt.length-It,4);Zt<rr;++Zt)vt[It+Zt]=At>>>8*(Ht?Zt:3-Zt)&255}function at(vt,At,It,Ht,Zt,rr){if(It+Ht>vt.length)throw new RangeError("Index out of range");if(It<0)throw new RangeError("Index out of range")}function Bt(vt,At,It,Ht,Zt){return Zt||at(vt,0,It,4),j.write(vt,At,It,Ht,23,4),It+4}function Vt(vt,At,It,Ht,Zt){return Zt||at(vt,0,It,8),j.write(vt,At,It,Ht,52,8),It+8}et.prototype.slice=function(vt,At){var It,Ht=this.length;if((vt=~~vt)<0?(vt+=Ht)<0&&(vt=0):vt>Ht&&(vt=Ht),(At=At===void 0?Ht:~~At)<0?(At+=Ht)<0&&(At=0):At>Ht&&(At=Ht),At<vt&&(At=vt),et.TYPED_ARRAY_SUPPORT)(It=this.subarray(vt,At)).__proto__=et.prototype;else{var Zt=At-vt;It=new et(Zt,void 0);for(var rr=0;rr<Zt;++rr)It[rr]=this[rr+vt]}return It},et.prototype.readUIntLE=function(vt,At,It){vt|=0,At|=0,It||St(vt,At,this.length);for(var Ht=this[vt],Zt=1,rr=0;++rr<At&&(Zt*=256);)Ht+=this[vt+rr]*Zt;return Ht},et.prototype.readUIntBE=function(vt,At,It){vt|=0,At|=0,It||St(vt,At,this.length);for(var Ht=this[vt+--At],Zt=1;At>0&&(Zt*=256);)Ht+=this[vt+--At]*Zt;return Ht},et.prototype.readUInt8=function(vt,At){return At||St(vt,1,this.length),this[vt]},et.prototype.readUInt16LE=function(vt,At){return At||St(vt,2,this.length),this[vt]|this[vt+1]<<8},et.prototype.readUInt16BE=function(vt,At){return At||St(vt,2,this.length),this[vt]<<8|this[vt+1]},et.prototype.readUInt32LE=function(vt,At){return At||St(vt,4,this.length),(this[vt]|this[vt+1]<<8|this[vt+2]<<16)+16777216*this[vt+3]},et.prototype.readUInt32BE=function(vt,At){return At||St(vt,4,this.length),16777216*this[vt]+(this[vt+1]<<16|this[vt+2]<<8|this[vt+3])},et.prototype.readIntLE=function(vt,At,It){vt|=0,At|=0,It||St(vt,At,this.length);for(var Ht=this[vt],Zt=1,rr=0;++rr<At&&(Zt*=256);)Ht+=this[vt+rr]*Zt;return Ht>=(Zt*=128)&&(Ht-=Math.pow(2,8*At)),Ht},et.prototype.readIntBE=function(vt,At,It){vt|=0,At|=0,It||St(vt,At,this.length);for(var Ht=At,Zt=1,rr=this[vt+--Ht];Ht>0&&(Zt*=256);)rr+=this[vt+--Ht]*Zt;return rr>=(Zt*=128)&&(rr-=Math.pow(2,8*At)),rr},et.prototype.readInt8=function(vt,At){return At||St(vt,1,this.length),128&this[vt]?-1*(255-this[vt]+1):this[vt]},et.prototype.readInt16LE=function(vt,At){At||St(vt,2,this.length);var It=this[vt]|this[vt+1]<<8;return 32768&It?4294901760|It:It},et.prototype.readInt16BE=function(vt,At){At||St(vt,2,this.length);var It=this[vt+1]|this[vt]<<8;return 32768&It?4294901760|It:It},et.prototype.readInt32LE=function(vt,At){return At||St(vt,4,this.length),this[vt]|this[vt+1]<<8|this[vt+2]<<16|this[vt+3]<<24},et.prototype.readInt32BE=function(vt,At){return At||St(vt,4,this.length),this[vt]<<24|this[vt+1]<<16|this[vt+2]<<8|this[vt+3]},et.prototype.readFloatLE=function(vt,At){return At||St(vt,4,this.length),j.read(this,vt,!0,23,4)},et.prototype.readFloatBE=function(vt,At){return At||St(vt,4,this.length),j.read(this,vt,!1,23,4)},et.prototype.readDoubleLE=function(vt,At){return At||St(vt,8,this.length),j.read(this,vt,!0,52,8)},et.prototype.readDoubleBE=function(vt,At){return At||St(vt,8,this.length),j.read(this,vt,!1,52,8)},et.prototype.writeUIntLE=function(vt,At,It,Ht){vt=+vt,At|=0,It|=0,Ht||Dt(this,vt,At,It,Math.pow(2,8*It)-1,0);var Zt=1,rr=0;for(this[At]=255&vt;++rr<It&&(Zt*=256);)this[At+rr]=vt/Zt&255;return At+It},et.prototype.writeUIntBE=function(vt,At,It,Ht){vt=+vt,At|=0,It|=0,Ht||Dt(this,vt,At,It,Math.pow(2,8*It)-1,0);var Zt=It-1,rr=1;for(this[At+Zt]=255&vt;--Zt>=0&&(rr*=256);)this[At+Zt]=vt/rr&255;return At+It},et.prototype.writeUInt8=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,1,255,0),et.TYPED_ARRAY_SUPPORT||(vt=Math.floor(vt)),this[At]=255&vt,At+1},et.prototype.writeUInt16LE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,2,65535,0),et.TYPED_ARRAY_SUPPORT?(this[At]=255&vt,this[At+1]=vt>>>8):Nt(this,vt,At,!0),At+2},et.prototype.writeUInt16BE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,2,65535,0),et.TYPED_ARRAY_SUPPORT?(this[At]=vt>>>8,this[At+1]=255&vt):Nt(this,vt,At,!1),At+2},et.prototype.writeUInt32LE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,4,4294967295,0),et.TYPED_ARRAY_SUPPORT?(this[At+3]=vt>>>24,this[At+2]=vt>>>16,this[At+1]=vt>>>8,this[At]=255&vt):_t(this,vt,At,!0),At+4},et.prototype.writeUInt32BE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,4,4294967295,0),et.TYPED_ARRAY_SUPPORT?(this[At]=vt>>>24,this[At+1]=vt>>>16,this[At+2]=vt>>>8,this[At+3]=255&vt):_t(this,vt,At,!1),At+4},et.prototype.writeIntLE=function(vt,At,It,Ht){if(vt=+vt,At|=0,!Ht){var Zt=Math.pow(2,8*It-1);Dt(this,vt,At,It,Zt-1,-Zt)}var rr=0,pr=1,_r=0;for(this[At]=255&vt;++rr<It&&(pr*=256);)vt<0&&_r===0&&this[At+rr-1]!==0&&(_r=1),this[At+rr]=(vt/pr>>0)-_r&255;return At+It},et.prototype.writeIntBE=function(vt,At,It,Ht){if(vt=+vt,At|=0,!Ht){var Zt=Math.pow(2,8*It-1);Dt(this,vt,At,It,Zt-1,-Zt)}var rr=It-1,pr=1,_r=0;for(this[At+rr]=255&vt;--rr>=0&&(pr*=256);)vt<0&&_r===0&&this[At+rr+1]!==0&&(_r=1),this[At+rr]=(vt/pr>>0)-_r&255;return At+It},et.prototype.writeInt8=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,1,127,-128),et.TYPED_ARRAY_SUPPORT||(vt=Math.floor(vt)),vt<0&&(vt=255+vt+1),this[At]=255&vt,At+1},et.prototype.writeInt16LE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,2,32767,-32768),et.TYPED_ARRAY_SUPPORT?(this[At]=255&vt,this[At+1]=vt>>>8):Nt(this,vt,At,!0),At+2},et.prototype.writeInt16BE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,2,32767,-32768),et.TYPED_ARRAY_SUPPORT?(this[At]=vt>>>8,this[At+1]=255&vt):Nt(this,vt,At,!1),At+2},et.prototype.writeInt32LE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,4,2147483647,-2147483648),et.TYPED_ARRAY_SUPPORT?(this[At]=255&vt,this[At+1]=vt>>>8,this[At+2]=vt>>>16,this[At+3]=vt>>>24):_t(this,vt,At,!0),At+4},et.prototype.writeInt32BE=function(vt,At,It){return vt=+vt,At|=0,It||Dt(this,vt,At,4,2147483647,-2147483648),vt<0&&(vt=4294967295+vt+1),et.TYPED_ARRAY_SUPPORT?(this[At]=vt>>>24,this[At+1]=vt>>>16,this[At+2]=vt>>>8,this[At+3]=255&vt):_t(this,vt,At,!1),At+4},et.prototype.writeFloatLE=function(vt,At,It){return Bt(this,vt,At,!0,It)},et.prototype.writeFloatBE=function(vt,At,It){return Bt(this,vt,At,!1,It)},et.prototype.writeDoubleLE=function(vt,At,It){return Vt(this,vt,At,!0,It)},et.prototype.writeDoubleBE=function(vt,At,It){return Vt(this,vt,At,!1,It)},et.prototype.copy=function(vt,At,It,Ht){if(It||(It=0),Ht||Ht===0||(Ht=this.length),At>=vt.length&&(At=vt.length),At||(At=0),Ht>0&&Ht<It&&(Ht=It),Ht===It||vt.length===0||this.length===0)return 0;if(At<0)throw new RangeError("targetStart out of bounds");if(It<0||It>=this.length)throw new RangeError("sourceStart out of bounds");if(Ht<0)throw new RangeError("sourceEnd out of bounds");Ht>this.length&&(Ht=this.length),vt.length-At<Ht-It&&(Ht=vt.length-At+It);var Zt,rr=Ht-It;if(this===vt&&It<At&&At<Ht)for(Zt=rr-1;Zt>=0;--Zt)vt[Zt+At]=this[Zt+It];else if(rr<1e3||!et.TYPED_ARRAY_SUPPORT)for(Zt=0;Zt<rr;++Zt)vt[Zt+At]=this[Zt+It];else Uint8Array.prototype.set.call(vt,this.subarray(It,It+rr),At);return rr},et.prototype.fill=function(vt,At,It,Ht){if(typeof vt=="string"){if(typeof At=="string"?(Ht=At,At=0,It=this.length):typeof It=="string"&&(Ht=It,It=this.length),vt.length===1){var Zt=vt.charCodeAt(0);Zt<256&&(vt=Zt)}if(Ht!==void 0&&typeof Ht!="string")throw new TypeError("encoding must be a string");if(typeof Ht=="string"&&!et.isEncoding(Ht))throw new TypeError("Unknown encoding: "+Ht)}else typeof vt=="number"&&(vt&=255);if(At<0||this.length<At||this.length<It)throw new RangeError("Out of range index");if(It<=At)return this;var rr;if(At>>>=0,It=It===void 0?this.length:It>>>0,vt||(vt=0),typeof vt=="number")for(rr=At;rr<It;++rr)this[rr]=vt;else{var pr=et.isBuffer(vt)?vt:ar(new et(vt,Ht).toString()),_r=pr.length;for(rr=0;rr<It-At;++rr)this[rr+At]=pr[rr%_r]}return this};var Qt=/[^+\/0-9A-Za-z-_]/g;function or(vt){return vt<16?"0"+vt.toString(16):vt.toString(16)}function ar(vt,At){var It;At=At||1/0;for(var Ht=vt.length,Zt=null,rr=[],pr=0;pr<Ht;++pr){if((It=vt.charCodeAt(pr))>55295&&It<57344){if(!Zt){if(It>56319){(At-=3)>-1&&rr.push(239,191,189);continue}if(pr+1===Ht){(At-=3)>-1&&rr.push(239,191,189);continue}Zt=It;continue}if(It<56320){(At-=3)>-1&&rr.push(239,191,189),Zt=It;continue}It=65536+(Zt-55296<<10|It-56320)}else Zt&&(At-=3)>-1&&rr.push(239,191,189);if(Zt=null,It<128){if((At-=1)<0)break;rr.push(It)}else if(It<2048){if((At-=2)<0)break;rr.push(It>>6|192,63&It|128)}else if(It<65536){if((At-=3)<0)break;rr.push(It>>12|224,It>>6&63|128,63&It|128)}else{if(!(It<1114112))throw new Error("Invalid code point");if((At-=4)<0)break;rr.push(It>>18|240,It>>12&63|128,It>>6&63|128,63&It|128)}}return rr}function qt(vt){return d.toByteArray(function(At){if((At=function(It){return It.trim?It.trim():It.replace(/^\s+|\s+$/g,"")}(At).replace(Qt,"")).length<2)return"";for(;At.length%4!=0;)At+="=";return At}(vt))}function Gt(vt,At,It,Ht){for(var Zt=0;Zt<Ht&&!(Zt+It>=At.length||Zt>=vt.length);++Zt)At[Zt+It]=vt[Zt];return Zt}}).call(this,o(5))},function(e,i){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}e.exports=o},function(e,i){typeof Object.create=="function"?e.exports=function(o,c){c&&(o.super_=c,o.prototype=Object.create(c.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(o,c){if(c){o.super_=c;var d=function(){};d.prototype=c.prototype,o.prototype=new d,o.prototype.constructor=o}}},function(e,i,o){(function(c){o.d(i,"a",function(){return Z}),o.d(i,"i",function(){return s}),o.d(i,"j",function(){return $}),o.d(i,"b",function(){return et}),o.d(i,"f",function(){return ut}),o.d(i,"e",function(){return gt}),o.d(i,"g",function(){return lt}),o.d(i,"d",function(){return ft}),o.d(i,"c",function(){return ot}),o.d(i,"h",function(){return yt});var d=o(98);const j=d.from(Object.assign(Object.assign({},c.env),{ENVIRONMENT:c.env.ENV,APP:"realtime-sdk",NAMESPACE:"production",VERSION:c.env.VERSION,BUILD_TAG:c.env.BUILD_TAG,GIT_COMMIT:c.env.GIT_COMMIT,LOG_LEVEL:c.env.LOG_LEVEL,LOG_JSON:"false",LOG_API_ENDPOINT:c.env.LOG_API_ENDPOINT,JEST_WORKER_ID:c.env.JEST_WORKER_ID,ENABLE_SENTRY:c.env.ENABLE_SENTRY,SENTRY_DSN:c.env.SENTRY_DSN,STABLE_AGENT_VERSION:c.env.STABLE_AGENT_VERSION})),Z=(j.get("ENVIRONMENT").default("").asString(),j.get("APP").default("").asString()),s=(j.get("APP_PATH").default("").asString(),j.get("API_ENDPOINT").default("").asString(),j.get("NAMESPACE").default("").asString()),$=j.get("VERSION").default("").asString(),et=j.get("BUILD_TAG").default("").asString(),ut=(j.get("GIT_COMMIT").default("").asString(),j.get("ENABLE_SENTRY").default("false").asBool(),j.get("SENTRY_DSN").default("").asString(),j.get("LOG_LEVEL").default("debug").asString()),gt=j.get("LOG_JSON").default("true").asBool(),lt=j.get("LOG_TO_CONSOLE").default("true").asBool(),ft=(j.get("STABLE_AGENT_VERSION").default("").asString(),j.get("LOG_API_ENDPOINT").asString()),ot=j.get("JEST_WORKER_ID").asString(),yt=(j.get("SHEET_EXPORT_MAX_ROW_COUNT").default("10000").asIntPositive(),j.get("LOG_TO_FILE").default("false").asBoolStrict())}).call(this,o(2))},function(e,i,o){var c=o(95),d=c,j=Function("return this")(),Z=o(94);d.object.extend(proto,Z),d.exportSymbol("proto.v1.signaling.api.CreatePeerRequest",null,j),d.exportSymbol("proto.v1.signaling.api.CreatePeerResponse",null,j),d.exportSymbol("proto.v1.signaling.api.DeletePeerRequest",null,j),d.exportSymbol("proto.v1.signaling.api.DeletePeerResponse",null,j),d.exportSymbol("proto.v1.signaling.api.GetIceServersRequest",null,j),d.exportSymbol("proto.v1.signaling.api.GetIceServersResponse",null,j),d.exportSymbol("proto.v1.signaling.api.GetPeersRequest",null,j),d.exportSymbol("proto.v1.signaling.api.GetPeersResponse",null,j),d.exportSymbol("proto.v1.signaling.api.Peer",null,j),d.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamRequest",null,j),d.exportSymbol("proto.v1.signaling.api.ReceiveSignalStreamResponse",null,j),d.exportSymbol("proto.v1.signaling.api.RefreshPeerRequest",null,j),d.exportSymbol("proto.v1.signaling.api.RefreshPeerResponse",null,j),d.exportSymbol("proto.v1.signaling.api.SendSignalRequest",null,j),d.exportSymbol("proto.v1.signaling.api.SendSignalResponse",null,j),d.exportSymbol("proto.v1.signaling.api.SessionType",null,j),d.exportSymbol("proto.v1.signaling.api.Signal",null,j),proto.v1.signaling.api.Peer=function(s){c.Message.initialize(this,s,0,-1,proto.v1.signaling.api.Peer.repeatedFields_,null)},d.inherits(proto.v1.signaling.api.Peer,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Peer.displayName="proto.v1.signaling.api.Peer"),proto.v1.signaling.api.Signal=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.Signal,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.Signal.displayName="proto.v1.signaling.api.Signal"),proto.v1.signaling.api.CreatePeerRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.CreatePeerRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerRequest.displayName="proto.v1.signaling.api.CreatePeerRequest"),proto.v1.signaling.api.CreatePeerResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.CreatePeerResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.CreatePeerResponse.displayName="proto.v1.signaling.api.CreatePeerResponse"),proto.v1.signaling.api.DeletePeerRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.DeletePeerRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerRequest.displayName="proto.v1.signaling.api.DeletePeerRequest"),proto.v1.signaling.api.DeletePeerResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.DeletePeerResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.DeletePeerResponse.displayName="proto.v1.signaling.api.DeletePeerResponse"),proto.v1.signaling.api.RefreshPeerRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.RefreshPeerRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerRequest.displayName="proto.v1.signaling.api.RefreshPeerRequest"),proto.v1.signaling.api.RefreshPeerResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.RefreshPeerResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.RefreshPeerResponse.displayName="proto.v1.signaling.api.RefreshPeerResponse"),proto.v1.signaling.api.GetPeersRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.GetPeersRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersRequest.displayName="proto.v1.signaling.api.GetPeersRequest"),proto.v1.signaling.api.GetPeersResponse=function(s){c.Message.initialize(this,s,0,-1,proto.v1.signaling.api.GetPeersResponse.repeatedFields_,null)},d.inherits(proto.v1.signaling.api.GetPeersResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetPeersResponse.displayName="proto.v1.signaling.api.GetPeersResponse"),proto.v1.signaling.api.GetIceServersRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.GetIceServersRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersRequest.displayName="proto.v1.signaling.api.GetIceServersRequest"),proto.v1.signaling.api.GetIceServersResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.GetIceServersResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.GetIceServersResponse.displayName="proto.v1.signaling.api.GetIceServersResponse"),proto.v1.signaling.api.SendSignalRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.SendSignalRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalRequest.displayName="proto.v1.signaling.api.SendSignalRequest"),proto.v1.signaling.api.SendSignalResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.SendSignalResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.SendSignalResponse.displayName="proto.v1.signaling.api.SendSignalResponse"),proto.v1.signaling.api.ReceiveSignalStreamRequest=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.ReceiveSignalStreamRequest,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.displayName="proto.v1.signaling.api.ReceiveSignalStreamRequest"),proto.v1.signaling.api.ReceiveSignalStreamResponse=function(s){c.Message.initialize(this,s,0,-1,null,null)},d.inherits(proto.v1.signaling.api.ReceiveSignalStreamResponse,c.Message),d.DEBUG&&!COMPILED&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.displayName="proto.v1.signaling.api.ReceiveSignalStreamResponse"),proto.v1.signaling.api.Peer.repeatedFields_=[5],c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Peer.prototype.toObject=function(s){return proto.v1.signaling.api.Peer.toObject(s,this)},proto.v1.signaling.api.Peer.toObject=function(s,$){var et,ut={peerId:c.Message.getFieldWithDefault($,1,""),organizationId:c.Message.getFieldWithDefault($,2,""),userId:(et=$.getUserId())&&Z.StringValue.toObject(s,et),deviceId:(et=$.getDeviceId())&&Z.StringValue.toObject(s,et),sessionIdsList:(et=c.Message.getRepeatedField($,5))==null?void 0:et,peerCreatedTimestamp:(et=$.getPeerCreatedTimestamp())&&Z.Int64Value.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.Peer.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.Peer;return proto.v1.signaling.api.Peer.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.Peer.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=$.readString();s.setPeerId(et);break;case 2:et=$.readString(),s.setOrganizationId(et);break;case 3:et=new Z.StringValue,$.readMessage(et,Z.StringValue.deserializeBinaryFromReader),s.setUserId(et);break;case 4:et=new Z.StringValue,$.readMessage(et,Z.StringValue.deserializeBinaryFromReader),s.setDeviceId(et);break;case 5:et=$.readString(),s.addSessionIds(et);break;case 6:et=new Z.Int64Value,$.readMessage(et,Z.Int64Value.deserializeBinaryFromReader),s.setPeerCreatedTimestamp(et);break;default:$.skipField()}return s},proto.v1.signaling.api.Peer.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.Peer.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.Peer.serializeBinaryToWriter=function(s,$){var et=void 0;(et=s.getPeerId()).length>0&&$.writeString(1,et),(et=s.getOrganizationId()).length>0&&$.writeString(2,et),(et=s.getUserId())!=null&&$.writeMessage(3,et,Z.StringValue.serializeBinaryToWriter),(et=s.getDeviceId())!=null&&$.writeMessage(4,et,Z.StringValue.serializeBinaryToWriter),(et=s.getSessionIdsList()).length>0&&$.writeRepeatedString(5,et),(et=s.getPeerCreatedTimestamp())!=null&&$.writeMessage(6,et,Z.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.Peer.prototype.getPeerId=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.Peer.prototype.setPeerId=function(s){return c.Message.setProto3StringField(this,1,s)},proto.v1.signaling.api.Peer.prototype.getOrganizationId=function(){return c.Message.getFieldWithDefault(this,2,"")},proto.v1.signaling.api.Peer.prototype.setOrganizationId=function(s){return c.Message.setProto3StringField(this,2,s)},proto.v1.signaling.api.Peer.prototype.getUserId=function(){return c.Message.getWrapperField(this,Z.StringValue,3)},proto.v1.signaling.api.Peer.prototype.setUserId=function(s){return c.Message.setWrapperField(this,3,s)},proto.v1.signaling.api.Peer.prototype.clearUserId=function(){return this.setUserId(void 0)},proto.v1.signaling.api.Peer.prototype.hasUserId=function(){return c.Message.getField(this,3)!=null},proto.v1.signaling.api.Peer.prototype.getDeviceId=function(){return c.Message.getWrapperField(this,Z.StringValue,4)},proto.v1.signaling.api.Peer.prototype.setDeviceId=function(s){return c.Message.setWrapperField(this,4,s)},proto.v1.signaling.api.Peer.prototype.clearDeviceId=function(){return this.setDeviceId(void 0)},proto.v1.signaling.api.Peer.prototype.hasDeviceId=function(){return c.Message.getField(this,4)!=null},proto.v1.signaling.api.Peer.prototype.getSessionIdsList=function(){return c.Message.getRepeatedField(this,5)},proto.v1.signaling.api.Peer.prototype.setSessionIdsList=function(s){return c.Message.setField(this,5,s||[])},proto.v1.signaling.api.Peer.prototype.addSessionIds=function(s,$){return c.Message.addToRepeatedField(this,5,s,$)},proto.v1.signaling.api.Peer.prototype.clearSessionIdsList=function(){return this.setSessionIdsList([])},proto.v1.signaling.api.Peer.prototype.getPeerCreatedTimestamp=function(){return c.Message.getWrapperField(this,Z.Int64Value,6)},proto.v1.signaling.api.Peer.prototype.setPeerCreatedTimestamp=function(s){return c.Message.setWrapperField(this,6,s)},proto.v1.signaling.api.Peer.prototype.clearPeerCreatedTimestamp=function(){return this.setPeerCreatedTimestamp(void 0)},proto.v1.signaling.api.Peer.prototype.hasPeerCreatedTimestamp=function(){return c.Message.getField(this,6)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.Signal.prototype.toObject=function(s){return proto.v1.signaling.api.Signal.toObject(s,this)},proto.v1.signaling.api.Signal.toObject=function(s,$){var et,ut={sessionId:(et=$.getSessionId())&&Z.StringValue.toObject(s,et),sessionCreatedTimestamp:(et=$.getSessionCreatedTimestamp())&&Z.Int64Value.toObject(s,et),senderId:c.Message.getFieldWithDefault($,3,""),receiverId:c.Message.getFieldWithDefault($,4,""),payload:c.Message.getFieldWithDefault($,5,""),iceServers:c.Message.getFieldWithDefault($,6,""),iceTransportPolicy:c.Message.getFieldWithDefault($,7,""),sessionType:c.Message.getFieldWithDefault($,8,0)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.Signal.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.Signal;return proto.v1.signaling.api.Signal.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.Signal.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new Z.StringValue;$.readMessage(et,Z.StringValue.deserializeBinaryFromReader),s.setSessionId(et);break;case 2:et=new Z.Int64Value,$.readMessage(et,Z.Int64Value.deserializeBinaryFromReader),s.setSessionCreatedTimestamp(et);break;case 3:et=$.readString(),s.setSenderId(et);break;case 4:et=$.readString(),s.setReceiverId(et);break;case 5:et=$.readString(),s.setPayload(et);break;case 6:et=$.readString(),s.setIceServers(et);break;case 7:et=$.readString(),s.setIceTransportPolicy(et);break;case 8:et=$.readEnum(),s.setSessionType(et);break;default:$.skipField()}return s},proto.v1.signaling.api.Signal.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.Signal.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.Signal.serializeBinaryToWriter=function(s,$){var et=void 0;(et=s.getSessionId())!=null&&$.writeMessage(1,et,Z.StringValue.serializeBinaryToWriter),(et=s.getSessionCreatedTimestamp())!=null&&$.writeMessage(2,et,Z.Int64Value.serializeBinaryToWriter),(et=s.getSenderId()).length>0&&$.writeString(3,et),(et=s.getReceiverId()).length>0&&$.writeString(4,et),(et=s.getPayload()).length>0&&$.writeString(5,et),(et=s.getIceServers()).length>0&&$.writeString(6,et),(et=s.getIceTransportPolicy()).length>0&&$.writeString(7,et),(et=s.getSessionType())!==0&&$.writeEnum(8,et)},proto.v1.signaling.api.Signal.prototype.getSessionId=function(){return c.Message.getWrapperField(this,Z.StringValue,1)},proto.v1.signaling.api.Signal.prototype.setSessionId=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.Signal.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionId=function(){return c.Message.getField(this,1)!=null},proto.v1.signaling.api.Signal.prototype.getSessionCreatedTimestamp=function(){return c.Message.getWrapperField(this,Z.Int64Value,2)},proto.v1.signaling.api.Signal.prototype.setSessionCreatedTimestamp=function(s){return c.Message.setWrapperField(this,2,s)},proto.v1.signaling.api.Signal.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.Signal.prototype.hasSessionCreatedTimestamp=function(){return c.Message.getField(this,2)!=null},proto.v1.signaling.api.Signal.prototype.getSenderId=function(){return c.Message.getFieldWithDefault(this,3,"")},proto.v1.signaling.api.Signal.prototype.setSenderId=function(s){return c.Message.setProto3StringField(this,3,s)},proto.v1.signaling.api.Signal.prototype.getReceiverId=function(){return c.Message.getFieldWithDefault(this,4,"")},proto.v1.signaling.api.Signal.prototype.setReceiverId=function(s){return c.Message.setProto3StringField(this,4,s)},proto.v1.signaling.api.Signal.prototype.getPayload=function(){return c.Message.getFieldWithDefault(this,5,"")},proto.v1.signaling.api.Signal.prototype.setPayload=function(s){return c.Message.setProto3StringField(this,5,s)},proto.v1.signaling.api.Signal.prototype.getIceServers=function(){return c.Message.getFieldWithDefault(this,6,"")},proto.v1.signaling.api.Signal.prototype.setIceServers=function(s){return c.Message.setProto3StringField(this,6,s)},proto.v1.signaling.api.Signal.prototype.getIceTransportPolicy=function(){return c.Message.getFieldWithDefault(this,7,"")},proto.v1.signaling.api.Signal.prototype.setIceTransportPolicy=function(s){return c.Message.setProto3StringField(this,7,s)},proto.v1.signaling.api.Signal.prototype.getSessionType=function(){return c.Message.getFieldWithDefault(this,8,0)},proto.v1.signaling.api.Signal.prototype.setSessionType=function(s){return c.Message.setProto3EnumField(this,8,s)},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerRequest.prototype.toObject=function(s){return proto.v1.signaling.api.CreatePeerRequest.toObject(s,this)},proto.v1.signaling.api.CreatePeerRequest.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.CreatePeerRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.CreatePeerRequest;return proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.CreatePeerRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.CreatePeerRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.CreatePeerRequest.serializeBinaryToWriter=function(s,$){},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.CreatePeerResponse.prototype.toObject=function(s){return proto.v1.signaling.api.CreatePeerResponse.toObject(s,this)},proto.v1.signaling.api.CreatePeerResponse.toObject=function(s,$){var et,ut={peer:(et=$.getPeer())&&proto.v1.signaling.api.Peer.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.CreatePeerResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.CreatePeerResponse;return proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.CreatePeerResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Peer;$.readMessage(et,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),s.setPeer(et);break;default:$.skipField()}return s},proto.v1.signaling.api.CreatePeerResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.CreatePeerResponse.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeer())!=null&&$.writeMessage(1,et,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.CreatePeerResponse.prototype.getPeer=function(){return c.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.CreatePeerResponse.prototype.setPeer=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.CreatePeerResponse.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.CreatePeerResponse.prototype.hasPeer=function(){return c.Message.getField(this,1)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerRequest.prototype.toObject=function(s){return proto.v1.signaling.api.DeletePeerRequest.toObject(s,this)},proto.v1.signaling.api.DeletePeerRequest.toObject=function(s,$){var et={peerId:c.Message.getFieldWithDefault($,1,"")};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.DeletePeerRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.DeletePeerRequest;return proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.DeletePeerRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=$.readString();s.setPeerId(et);break;default:$.skipField()}return s},proto.v1.signaling.api.DeletePeerRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.DeletePeerRequest.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeerId()).length>0&&$.writeString(1,et)},proto.v1.signaling.api.DeletePeerRequest.prototype.getPeerId=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.DeletePeerRequest.prototype.setPeerId=function(s){return c.Message.setProto3StringField(this,1,s)},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.DeletePeerResponse.prototype.toObject=function(s){return proto.v1.signaling.api.DeletePeerResponse.toObject(s,this)},proto.v1.signaling.api.DeletePeerResponse.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.DeletePeerResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.DeletePeerResponse;return proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.DeletePeerResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.DeletePeerResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.DeletePeerResponse.serializeBinaryToWriter=function(s,$){},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerRequest.prototype.toObject=function(s){return proto.v1.signaling.api.RefreshPeerRequest.toObject(s,this)},proto.v1.signaling.api.RefreshPeerRequest.toObject=function(s,$){var et,ut={peer:(et=$.getPeer())&&proto.v1.signaling.api.Peer.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.RefreshPeerRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.RefreshPeerRequest;return proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.RefreshPeerRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Peer;$.readMessage(et,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),s.setPeer(et);break;default:$.skipField()}return s},proto.v1.signaling.api.RefreshPeerRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.RefreshPeerRequest.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeer())!=null&&$.writeMessage(1,et,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.RefreshPeerRequest.prototype.getPeer=function(){return c.Message.getWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.RefreshPeerRequest.prototype.setPeer=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.RefreshPeerRequest.prototype.clearPeer=function(){return this.setPeer(void 0)},proto.v1.signaling.api.RefreshPeerRequest.prototype.hasPeer=function(){return c.Message.getField(this,1)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.RefreshPeerResponse.prototype.toObject=function(s){return proto.v1.signaling.api.RefreshPeerResponse.toObject(s,this)},proto.v1.signaling.api.RefreshPeerResponse.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.RefreshPeerResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.RefreshPeerResponse;return proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.RefreshPeerResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.RefreshPeerResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.RefreshPeerResponse.serializeBinaryToWriter=function(s,$){},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersRequest.prototype.toObject=function(s){return proto.v1.signaling.api.GetPeersRequest.toObject(s,this)},proto.v1.signaling.api.GetPeersRequest.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.GetPeersRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.GetPeersRequest;return proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.GetPeersRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.GetPeersRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.GetPeersRequest.serializeBinaryToWriter=function(s,$){},proto.v1.signaling.api.GetPeersResponse.repeatedFields_=[1],c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetPeersResponse.prototype.toObject=function(s){return proto.v1.signaling.api.GetPeersResponse.toObject(s,this)},proto.v1.signaling.api.GetPeersResponse.toObject=function(s,$){var et={peersList:c.Message.toObjectList($.getPeersList(),proto.v1.signaling.api.Peer.toObject,s)};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.GetPeersResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.GetPeersResponse;return proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.GetPeersResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Peer;$.readMessage(et,proto.v1.signaling.api.Peer.deserializeBinaryFromReader),s.addPeers(et);break;default:$.skipField()}return s},proto.v1.signaling.api.GetPeersResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.GetPeersResponse.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeersList()).length>0&&$.writeRepeatedMessage(1,et,proto.v1.signaling.api.Peer.serializeBinaryToWriter)},proto.v1.signaling.api.GetPeersResponse.prototype.getPeersList=function(){return c.Message.getRepeatedWrapperField(this,proto.v1.signaling.api.Peer,1)},proto.v1.signaling.api.GetPeersResponse.prototype.setPeersList=function(s){return c.Message.setRepeatedWrapperField(this,1,s)},proto.v1.signaling.api.GetPeersResponse.prototype.addPeers=function(s,$){return c.Message.addToRepeatedWrapperField(this,1,s,proto.v1.signaling.api.Peer,$)},proto.v1.signaling.api.GetPeersResponse.prototype.clearPeersList=function(){return this.setPeersList([])},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersRequest.prototype.toObject=function(s){return proto.v1.signaling.api.GetIceServersRequest.toObject(s,this)},proto.v1.signaling.api.GetIceServersRequest.toObject=function(s,$){var et={};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.GetIceServersRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.GetIceServersRequest;return proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.GetIceServersRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)$.getFieldNumber(),$.skipField();return s},proto.v1.signaling.api.GetIceServersRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.GetIceServersRequest.serializeBinaryToWriter=function(s,$){},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.GetIceServersResponse.prototype.toObject=function(s){return proto.v1.signaling.api.GetIceServersResponse.toObject(s,this)},proto.v1.signaling.api.GetIceServersResponse.toObject=function(s,$){var et={iceServers:c.Message.getFieldWithDefault($,1,"")};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.GetIceServersResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.GetIceServersResponse;return proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.GetIceServersResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=$.readString();s.setIceServers(et);break;default:$.skipField()}return s},proto.v1.signaling.api.GetIceServersResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.GetIceServersResponse.serializeBinaryToWriter=function(s,$){var et;(et=s.getIceServers()).length>0&&$.writeString(1,et)},proto.v1.signaling.api.GetIceServersResponse.prototype.getIceServers=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.GetIceServersResponse.prototype.setIceServers=function(s){return c.Message.setProto3StringField(this,1,s)},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalRequest.prototype.toObject=function(s){return proto.v1.signaling.api.SendSignalRequest.toObject(s,this)},proto.v1.signaling.api.SendSignalRequest.toObject=function(s,$){var et,ut={signal:(et=$.getSignal())&&proto.v1.signaling.api.Signal.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.SendSignalRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.SendSignalRequest;return proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.SendSignalRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Signal;$.readMessage(et,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),s.setSignal(et);break;default:$.skipField()}return s},proto.v1.signaling.api.SendSignalRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.SendSignalRequest.serializeBinaryToWriter=function(s,$){var et;(et=s.getSignal())!=null&&$.writeMessage(1,et,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalRequest.prototype.getSignal=function(){return c.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.SendSignalRequest.prototype.setSignal=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.SendSignalRequest.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.SendSignalRequest.prototype.hasSignal=function(){return c.Message.getField(this,1)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.SendSignalResponse.prototype.toObject=function(s){return proto.v1.signaling.api.SendSignalResponse.toObject(s,this)},proto.v1.signaling.api.SendSignalResponse.toObject=function(s,$){var et,ut={sessionId:(et=$.getSessionId())&&Z.StringValue.toObject(s,et),sessionCreatedTimestamp:(et=$.getSessionCreatedTimestamp())&&Z.Int64Value.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.SendSignalResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.SendSignalResponse;return proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.SendSignalResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new Z.StringValue;$.readMessage(et,Z.StringValue.deserializeBinaryFromReader),s.setSessionId(et);break;case 2:et=new Z.Int64Value,$.readMessage(et,Z.Int64Value.deserializeBinaryFromReader),s.setSessionCreatedTimestamp(et);break;default:$.skipField()}return s},proto.v1.signaling.api.SendSignalResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.SendSignalResponse.serializeBinaryToWriter=function(s,$){var et=void 0;(et=s.getSessionId())!=null&&$.writeMessage(1,et,Z.StringValue.serializeBinaryToWriter),(et=s.getSessionCreatedTimestamp())!=null&&$.writeMessage(2,et,Z.Int64Value.serializeBinaryToWriter)},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionId=function(){return c.Message.getWrapperField(this,Z.StringValue,1)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionId=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionId=function(){return this.setSessionId(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionId=function(){return c.Message.getField(this,1)!=null},proto.v1.signaling.api.SendSignalResponse.prototype.getSessionCreatedTimestamp=function(){return c.Message.getWrapperField(this,Z.Int64Value,2)},proto.v1.signaling.api.SendSignalResponse.prototype.setSessionCreatedTimestamp=function(s){return c.Message.setWrapperField(this,2,s)},proto.v1.signaling.api.SendSignalResponse.prototype.clearSessionCreatedTimestamp=function(){return this.setSessionCreatedTimestamp(void 0)},proto.v1.signaling.api.SendSignalResponse.prototype.hasSessionCreatedTimestamp=function(){return c.Message.getField(this,2)!=null},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.toObject=function(s){return proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject(s,this)},proto.v1.signaling.api.ReceiveSignalStreamRequest.toObject=function(s,$){var et={peerId:c.Message.getFieldWithDefault($,1,"")};return s&&(et.$jspbMessageInstance=$),et}),proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.ReceiveSignalStreamRequest;return proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.ReceiveSignalStreamRequest.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=$.readString();s.setPeerId(et);break;default:$.skipField()}return s},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamRequest.serializeBinaryToWriter=function(s,$){var et;(et=s.getPeerId()).length>0&&$.writeString(1,et)},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.getPeerId=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.v1.signaling.api.ReceiveSignalStreamRequest.prototype.setPeerId=function(s){return c.Message.setProto3StringField(this,1,s)},c.Message.GENERATE_TO_OBJECT&&(proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.toObject=function(s){return proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject(s,this)},proto.v1.signaling.api.ReceiveSignalStreamResponse.toObject=function(s,$){var et,ut={signal:(et=$.getSignal())&&proto.v1.signaling.api.Signal.toObject(s,et)};return s&&(ut.$jspbMessageInstance=$),ut}),proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary=function(s){var $=new c.BinaryReader(s),et=new proto.v1.signaling.api.ReceiveSignalStreamResponse;return proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader(et,$)},proto.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinaryFromReader=function(s,$){for(;$.nextField()&&!$.isEndGroup();)switch($.getFieldNumber()){case 1:var et=new proto.v1.signaling.api.Signal;$.readMessage(et,proto.v1.signaling.api.Signal.deserializeBinaryFromReader),s.setSignal(et);break;default:$.skipField()}return s},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.serializeBinary=function(){var s=new c.BinaryWriter;return proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter(this,s),s.getResultBuffer()},proto.v1.signaling.api.ReceiveSignalStreamResponse.serializeBinaryToWriter=function(s,$){var et;(et=s.getSignal())!=null&&$.writeMessage(1,et,proto.v1.signaling.api.Signal.serializeBinaryToWriter)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.getSignal=function(){return c.Message.getWrapperField(this,proto.v1.signaling.api.Signal,1)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.setSignal=function(s){return c.Message.setWrapperField(this,1,s)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.clearSignal=function(){return this.setSignal(void 0)},proto.v1.signaling.api.ReceiveSignalStreamResponse.prototype.hasSignal=function(){return c.Message.getField(this,1)!=null},proto.v1.signaling.api.SessionType={UNKNOWN:0,TELEOP:1,PORT_FORWARD:2},d.object.extend(i,proto.v1.signaling.api)},function(e,i,o){function c(lt){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ft){return typeof ft}:function(ft){return ft&&typeof Symbol=="function"&&ft.constructor===Symbol&&ft!==Symbol.prototype?"symbol":typeof ft})(lt)}function d(lt,ft){return!ft||c(ft)!=="object"&&typeof ft!="function"?j(lt):ft}function j(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}function Z(lt){var ft=typeof Map=="function"?new Map:void 0;return(Z=function(ot){if(ot===null||(yt=ot,Function.toString.call(yt).indexOf("[native code]")===-1))return ot;var yt;if(typeof ot!="function")throw new TypeError("Super expression must either be null or a function");if(ft!==void 0){if(ft.has(ot))return ft.get(ot);ft.set(ot,wt)}function wt(){return s(ot,arguments,ut(this).constructor)}return wt.prototype=Object.create(ot.prototype,{constructor:{value:wt,enumerable:!1,writable:!0,configurable:!0}}),et(wt,ot)})(lt)}function s(lt,ft,ot){return(s=$()?Reflect.construct:function(yt,wt,Rt){var Mt=[null];Mt.push.apply(Mt,wt);var Tt=new(Function.bind.apply(yt,Mt));return Rt&&et(Tt,Rt.prototype),Tt}).apply(null,arguments)}function $(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function et(lt,ft){return(et=Object.setPrototypeOf||function(ot,yt){return ot.__proto__=yt,ot})(lt,ft)}function ut(lt){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(ft){return ft.__proto__||Object.getPrototypeOf(ft)})(lt)}var gt=function(lt){(function(Rt,Mt){if(typeof Mt!="function"&&Mt!==null)throw new TypeError("Super expression must either be null or a function");Rt.prototype=Object.create(Mt&&Mt.prototype,{constructor:{value:Rt,writable:!0,configurable:!0}}),Mt&&et(Rt,Mt)})(wt,lt);var ft,ot,yt=(ft=wt,ot=$(),function(){var Rt,Mt=ut(ft);if(ot){var Tt=ut(this).constructor;Rt=Reflect.construct(Mt,arguments,Tt)}else Rt=Mt.apply(this,arguments);return d(this,Rt)});function wt(Rt){var Mt;return function(Tt,Ct){if(!(Tt instanceof Ct))throw new TypeError("Cannot call a class as a function")}(this,wt),Mt=yt.call(this,`Format functions must be synchronous taking a two arguments: (info, opts)
Found: `.concat(Rt.toString().split(`
`)[0],`
`)),Error.captureStackTrace(j(Mt),wt),Mt}return wt}(Z(Error));e.exports=function(lt){if(lt.length>2)throw new gt(lt);function ft(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=yt}function ot(yt){return new ft(yt)}return ft.prototype.transform=lt,ot.Format=ft,ot}},function(e,i,o){(function(c){var d=Object.getOwnPropertyDescriptors||function(St){for(var Dt=Object.keys(St),Nt={},_t=0;_t<Dt.length;_t++)Nt[Dt[_t]]=Object.getOwnPropertyDescriptor(St,Dt[_t]);return Nt},j=/%[sdj%]/g;i.format=function(St){if(!Mt(St)){for(var Dt=[],Nt=0;Nt<arguments.length;Nt++)Dt.push($(arguments[Nt]));return Dt.join(" ")}Nt=1;for(var _t=arguments,at=_t.length,Bt=String(St).replace(j,function(Qt){if(Qt==="%%")return"%";if(Nt>=at)return Qt;switch(Qt){case"%s":return String(_t[Nt++]);case"%d":return Number(_t[Nt++]);case"%j":try{return JSON.stringify(_t[Nt++])}catch{return"[Circular]"}default:return Qt}}),Vt=_t[Nt];Nt<at;Vt=_t[++Nt])wt(Vt)||!ct(Vt)?Bt+=" "+Vt:Bt+=" "+$(Vt);return Bt},i.deprecate=function(St,Dt){if(c!==void 0&&c.noDeprecation===!0)return St;if(c===void 0)return function(){return i.deprecate(St,Dt).apply(this,arguments)};var Nt=!1;return function(){if(!Nt){if(c.throwDeprecation)throw new Error(Dt);c.traceDeprecation?console.trace(Dt):console.error(Dt),Nt=!0}return St.apply(this,arguments)}};var Z,s={};function $(St,Dt){var Nt={seen:[],stylize:ut};return arguments.length>=3&&(Nt.depth=arguments[2]),arguments.length>=4&&(Nt.colors=arguments[3]),yt(Dt)?Nt.showHidden=Dt:Dt&&i._extend(Nt,Dt),Tt(Nt.showHidden)&&(Nt.showHidden=!1),Tt(Nt.depth)&&(Nt.depth=2),Tt(Nt.colors)&&(Nt.colors=!1),Tt(Nt.customInspect)&&(Nt.customInspect=!0),Nt.colors&&(Nt.stylize=et),gt(Nt,St,Nt.depth)}function et(St,Dt){var Nt=$.styles[Dt];return Nt?"\x1B["+$.colors[Nt][0]+"m"+St+"\x1B["+$.colors[Nt][1]+"m":St}function ut(St,Dt){return St}function gt(St,Dt,Nt){if(St.customInspect&&Dt&&Yt(Dt.inspect)&&Dt.inspect!==i.inspect&&(!Dt.constructor||Dt.constructor.prototype!==Dt)){var _t=Dt.inspect(Nt,St);return Mt(_t)||(_t=gt(St,_t,Nt)),_t}var at=function(vt,At){if(Tt(At))return vt.stylize("undefined","undefined");if(Mt(At)){var It="'"+JSON.stringify(At).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return vt.stylize(It,"string")}if(Rt(At))return vt.stylize(""+At,"number");if(yt(At))return vt.stylize(""+At,"boolean");if(wt(At))return vt.stylize("null","null")}(St,Dt);if(at)return at;var Bt=Object.keys(Dt),Vt=function(vt){var At={};return vt.forEach(function(It,Ht){At[It]=!0}),At}(Bt);if(St.showHidden&&(Bt=Object.getOwnPropertyNames(Dt)),Kt(Dt)&&(Bt.indexOf("message")>=0||Bt.indexOf("description")>=0))return lt(Dt);if(Bt.length===0){if(Yt(Dt)){var Qt=Dt.name?": "+Dt.name:"";return St.stylize("[Function"+Qt+"]","special")}if(Ct(Dt))return St.stylize(RegExp.prototype.toString.call(Dt),"regexp");if(Lt(Dt))return St.stylize(Date.prototype.toString.call(Dt),"date");if(Kt(Dt))return lt(Dt)}var or,ar="",qt=!1,Gt=["{","}"];return ot(Dt)&&(qt=!0,Gt=["[","]"]),Yt(Dt)&&(ar=" [Function"+(Dt.name?": "+Dt.name:"")+"]"),Ct(Dt)&&(ar=" "+RegExp.prototype.toString.call(Dt)),Lt(Dt)&&(ar=" "+Date.prototype.toUTCString.call(Dt)),Kt(Dt)&&(ar=" "+lt(Dt)),Bt.length!==0||qt&&Dt.length!=0?Nt<0?Ct(Dt)?St.stylize(RegExp.prototype.toString.call(Dt),"regexp"):St.stylize("[Object]","special"):(St.seen.push(Dt),or=qt?function(vt,At,It,Ht,Zt){for(var rr=[],pr=0,_r=At.length;pr<_r;++pr)jt(At,String(pr))?rr.push(ft(vt,At,It,Ht,String(pr),!0)):rr.push("");return Zt.forEach(function(ir){ir.match(/^\d+$/)||rr.push(ft(vt,At,It,Ht,ir,!0))}),rr}(St,Dt,Nt,Vt,Bt):Bt.map(function(vt){return ft(St,Dt,Nt,Vt,vt,qt)}),St.seen.pop(),function(vt,At,It){return vt.reduce(function(Ht,Zt){return Zt.indexOf(`
`)>=0,Ht+Zt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?It[0]+(At===""?"":At+`
 `)+" "+vt.join(`,
  `)+" "+It[1]:It[0]+At+" "+vt.join(", ")+" "+It[1]}(or,ar,Gt)):Gt[0]+ar+Gt[1]}function lt(St){return"["+Error.prototype.toString.call(St)+"]"}function ft(St,Dt,Nt,_t,at,Bt){var Vt,Qt,or;if((or=Object.getOwnPropertyDescriptor(Dt,at)||{value:Dt[at]}).get?Qt=or.set?St.stylize("[Getter/Setter]","special"):St.stylize("[Getter]","special"):or.set&&(Qt=St.stylize("[Setter]","special")),jt(_t,at)||(Vt="["+at+"]"),Qt||(St.seen.indexOf(or.value)<0?(Qt=wt(Nt)?gt(St,or.value,null):gt(St,or.value,Nt-1)).indexOf(`
`)>-1&&(Qt=Bt?Qt.split(`
`).map(function(ar){return"  "+ar}).join(`
`).substr(2):`
`+Qt.split(`
`).map(function(ar){return"   "+ar}).join(`
`)):Qt=St.stylize("[Circular]","special")),Tt(Vt)){if(Bt&&at.match(/^\d+$/))return Qt;(Vt=JSON.stringify(""+at)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Vt=Vt.substr(1,Vt.length-2),Vt=St.stylize(Vt,"name")):(Vt=Vt.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Vt=St.stylize(Vt,"string"))}return Vt+": "+Qt}function ot(St){return Array.isArray(St)}function yt(St){return typeof St=="boolean"}function wt(St){return St===null}function Rt(St){return typeof St=="number"}function Mt(St){return typeof St=="string"}function Tt(St){return St===void 0}function Ct(St){return ct(St)&&pt(St)==="[object RegExp]"}function ct(St){return typeof St=="object"&&St!==null}function Lt(St){return ct(St)&&pt(St)==="[object Date]"}function Kt(St){return ct(St)&&(pt(St)==="[object Error]"||St instanceof Error)}function Yt(St){return typeof St=="function"}function pt(St){return Object.prototype.toString.call(St)}function dt(St){return St<10?"0"+St.toString(10):St.toString(10)}i.debuglog=function(St){if(Tt(Z)&&(Z=c.env.NODE_DEBUG||""),St=St.toUpperCase(),!s[St])if(new RegExp("\\b"+St+"\\b","i").test(Z)){var Dt=c.pid;s[St]=function(){var Nt=i.format.apply(i,arguments);console.error("%s %d: %s",St,Dt,Nt)}}else s[St]=function(){};return s[St]},i.inspect=$,$.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},$.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=ot,i.isBoolean=yt,i.isNull=wt,i.isNullOrUndefined=function(St){return St==null},i.isNumber=Rt,i.isString=Mt,i.isSymbol=function(St){return typeof St=="symbol"},i.isUndefined=Tt,i.isRegExp=Ct,i.isObject=ct,i.isDate=Lt,i.isError=Kt,i.isFunction=Yt,i.isPrimitive=function(St){return St===null||typeof St=="boolean"||typeof St=="number"||typeof St=="string"||typeof St=="symbol"||St===void 0},i.isBuffer=o(106);var bt=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function mt(){var St=new Date,Dt=[dt(St.getHours()),dt(St.getMinutes()),dt(St.getSeconds())].join(":");return[St.getDate(),bt[St.getMonth()],Dt].join(" ")}function jt(St,Dt){return Object.prototype.hasOwnProperty.call(St,Dt)}i.log=function(){console.log("%s - %s",mt(),i.format.apply(i,arguments))},i.inherits=o(107),i._extend=function(St,Dt){if(!Dt||!ct(Dt))return St;for(var Nt=Object.keys(Dt),_t=Nt.length;_t--;)St[Nt[_t]]=Dt[Nt[_t]];return St};var zt=typeof Symbol!="undefined"?Symbol("util.promisify.custom"):void 0;function kt(St,Dt){if(!St){var Nt=new Error("Promise was rejected with a falsy value");Nt.reason=St,St=Nt}return Dt(St)}i.promisify=function(St){if(typeof St!="function")throw new TypeError('The "original" argument must be of type Function');if(zt&&St[zt]){var Dt;if(typeof(Dt=St[zt])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Dt,zt,{value:Dt,enumerable:!1,writable:!1,configurable:!0}),Dt}function Dt(){for(var Nt,_t,at=new Promise(function(Qt,or){Nt=Qt,_t=or}),Bt=[],Vt=0;Vt<arguments.length;Vt++)Bt.push(arguments[Vt]);Bt.push(function(Qt,or){Qt?_t(Qt):Nt(or)});try{St.apply(this,Bt)}catch(Qt){_t(Qt)}return at}return Object.setPrototypeOf(Dt,Object.getPrototypeOf(St)),zt&&Object.defineProperty(Dt,zt,{value:Dt,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Dt,d(St))},i.promisify.custom=zt,i.callbackify=function(St){if(typeof St!="function")throw new TypeError('The "original" argument must be of type Function');function Dt(){for(var Nt=[],_t=0;_t<arguments.length;_t++)Nt.push(arguments[_t]);var at=Nt.pop();if(typeof at!="function")throw new TypeError("The last argument must be of type Function");var Bt=this,Vt=function(){return at.apply(Bt,arguments)};St.apply(this,Nt).then(function(Qt){c.nextTick(Vt,null,Qt)},function(Qt){c.nextTick(kt,Qt,Vt)})}return Object.setPrototypeOf(Dt,Object.getPrototypeOf(St)),Object.defineProperties(Dt,d(St)),Dt}}).call(this,o(2))},function(e,i,o){o.d(i,"a",function(){return c});const c=d=>new Promise(j=>setTimeout(j,d||0))},function(e,i,o){(function(c){var d=c!==void 0&&c||typeof self!="undefined"&&self||window,j=Function.prototype.apply;function Z(s,$){this._id=s,this._clearFn=$}i.setTimeout=function(){return new Z(j.call(setTimeout,d,arguments),clearTimeout)},i.setInterval=function(){return new Z(j.call(setInterval,d,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(s){s&&s.close()},Z.prototype.unref=Z.prototype.ref=function(){},Z.prototype.close=function(){this._clearFn.call(d,this._id)},i.enroll=function(s,$){clearTimeout(s._idleTimeoutId),s._idleTimeout=$},i.unenroll=function(s){clearTimeout(s._idleTimeoutId),s._idleTimeout=-1},i._unrefActive=i.active=function(s){clearTimeout(s._idleTimeoutId);var $=s._idleTimeout;$>=0&&(s._idleTimeoutId=setTimeout(function(){s._onTimeout&&s._onTimeout()},$))},o(140),i.setImmediate=typeof self!="undefined"&&self.setImmediate||c!==void 0&&c.setImmediate||this&&this.setImmediate,i.clearImmediate=typeof self!="undefined"&&self.clearImmediate||c!==void 0&&c.clearImmediate||this&&this.clearImmediate}).call(this,o(5))},function(e,i,o){(function(c){c===void 0||!c.version||c.version.indexOf("v0.")===0||c.version.indexOf("v1.")===0&&c.version.indexOf("v1.8.")!==0?e.exports={nextTick:function(d,j,Z,s){if(typeof d!="function")throw new TypeError('"callback" argument must be a function');var $,et,ut=arguments.length;switch(ut){case 0:case 1:return c.nextTick(d);case 2:return c.nextTick(function(){d.call(null,j)});case 3:return c.nextTick(function(){d.call(null,j,Z)});case 4:return c.nextTick(function(){d.call(null,j,Z,s)});default:for($=new Array(ut-1),et=0;et<$.length;)$[et++]=arguments[et];return c.nextTick(function(){d.apply(null,$)})}}}:e.exports=c}).call(this,o(2))},function(e,i,o){(function(c){function d(j){return Object.prototype.toString.call(j)}i.isArray=function(j){return Array.isArray?Array.isArray(j):d(j)==="[object Array]"},i.isBoolean=function(j){return typeof j=="boolean"},i.isNull=function(j){return j===null},i.isNullOrUndefined=function(j){return j==null},i.isNumber=function(j){return typeof j=="number"},i.isString=function(j){return typeof j=="string"},i.isSymbol=function(j){return typeof j=="symbol"},i.isUndefined=function(j){return j===void 0},i.isRegExp=function(j){return d(j)==="[object RegExp]"},i.isObject=function(j){return typeof j=="object"&&j!==null},i.isDate=function(j){return d(j)==="[object Date]"},i.isError=function(j){return d(j)==="[object Error]"||j instanceof Error},i.isFunction=function(j){return typeof j=="function"},i.isPrimitive=function(j){return j===null||typeof j=="boolean"||typeof j=="number"||typeof j=="string"||typeof j=="symbol"||j===void 0},i.isBuffer=c.isBuffer}).call(this,o(4).Buffer)},function(e,i){i.endianness=function(){return"LE"},i.hostname=function(){return typeof location!="undefined"?location.hostname:""},i.loadavg=function(){return[]},i.uptime=function(){return 0},i.freemem=function(){return Number.MAX_VALUE},i.totalmem=function(){return Number.MAX_VALUE},i.cpus=function(){return[]},i.type=function(){return"Browser"},i.release=function(){return typeof navigator!="undefined"?navigator.appVersion:""},i.networkInterfaces=i.getNetworkInterfaces=function(){return{}},i.arch=function(){return"javascript"},i.platform=function(){return"browser"},i.tmpdir=i.tmpDir=function(){return"/tmp"},i.EOL=`
`,i.homedir=function(){return"/"}},function(e,i,o){var c=o(56),d=o(59).warn,j=i;j.version=o(137).version,j.transports=o(138),j.config=o(47),j.addColors=c.levels,j.format=c.format,j.createLogger=o(85),j.ExceptionHandler=o(86),j.RejectionHandler=o(90),j.Container=o(209),j.Transport=o(17),j.loggers=new j.Container;var Z=j.createLogger();Object.keys(j.config.npm.levels).concat(["log","query","stream","add","remove","clear","profile","startTimer","handleExceptions","unhandleExceptions","handleRejections","unhandleRejections","configure","child"]).forEach(function(s){return j[s]=function(){return Z[s].apply(Z,arguments)}}),Object.defineProperty(j,"level",{get:function(){return Z.level},set:function(s){Z.level=s}}),Object.defineProperty(j,"exceptions",{get:function(){return Z.exceptions}}),["exitOnError"].forEach(function(s){Object.defineProperty(j,s,{get:function(){return Z[s]},set:function($){Z[s]=$}})}),Object.defineProperty(j,"default",{get:function(){return{exceptionHandlers:Z.exceptionHandlers,rejectionHandlers:Z.rejectionHandlers,transports:Z.transports}}}),d.deprecated(j,"setLevels"),d.forFunctions(j,"useFormat",["cli"]),d.forProperties(j,"useFormat",["padLevels","stripColors"]),d.forFunctions(j,"deprecated",["addRewriter","addFilter","clone","extend"]),d.forProperties(j,"deprecated",["emitErrs","levelLength"]),d.moved(j,"createLogger","Logger")},function(e,i,o){var c=o(10),d=o(141),j=o(3).LEVEL,Z=e.exports=function(){var s=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d.call(this,{objectMode:!0,highWaterMark:$.highWaterMark}),this.format=$.format,this.level=$.level,this.handleExceptions=$.handleExceptions,this.handleRejections=$.handleRejections,this.silent=$.silent,$.log&&(this.log=$.log),$.logv&&(this.logv=$.logv),$.close&&(this.close=$.close),this.once("pipe",function(et){s.levels=et.levels,s.parent=et}),this.once("unpipe",function(et){et===s.parent&&(s.parent=null,s.close&&s.close())})};c.inherits(Z,d),Z.prototype._write=function(s,$,et){if(this.silent||s.exception===!0&&!this.handleExceptions)return et(null);var ut=this.level||this.parent&&this.parent.level;if(!ut||this.levels[ut]>=this.levels[s[j]]){if(s&&!this.format)return this.log(s,et);var gt=void 0,lt=void 0;try{lt=this.format.transform(Object.assign({},s),this.format.options)}catch(ft){gt=ft}if(gt||!lt){if(et(),gt)throw gt;return}return this.log(lt,et)}return et(null)},Z.prototype._writev=function(s,$){if(this.logv){var et=s.filter(this._accept,this);return et.length?this.logv(et,$):$(null)}for(var ut=0;ut<s.length;ut++)if(this._accept(s[ut]))if(!s[ut].chunk||this.format){var gt=void 0,lt=void 0;try{lt=this.format.transform(Object.assign({},s[ut].chunk),this.format.options)}catch(ft){gt=ft}if(gt||!lt){if(s[ut].callback(),gt)throw $(null),gt}else this.log(lt,s[ut].callback)}else this.log(s[ut].chunk,s[ut].callback);return $(null)},Z.prototype._accept=function(s){var $=s.chunk;if(this.silent)return!1;var et=this.level||this.parent&&this.parent.level;return!($.exception!==!0&&et&&!(this.levels[et]>=this.levels[$[j]])||!this.handleExceptions&&$.exception===!0)},Z.prototype._nop=function(){},e.exports.LegacyTransportStream=o(147)},function(e,i,o){var c,d=typeof Reflect=="object"?Reflect:null,j=d&&typeof d.apply=="function"?d.apply:function(wt,Rt,Mt){return Function.prototype.apply.call(wt,Rt,Mt)};c=d&&typeof d.ownKeys=="function"?d.ownKeys:Object.getOwnPropertySymbols?function(wt){return Object.getOwnPropertyNames(wt).concat(Object.getOwnPropertySymbols(wt))}:function(wt){return Object.getOwnPropertyNames(wt)};var Z=Number.isNaN||function(wt){return wt!=wt};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var $=10;function et(wt){return wt._maxListeners===void 0?s.defaultMaxListeners:wt._maxListeners}function ut(wt,Rt,Mt,Tt){var Ct,ct,Lt,Kt;if(typeof Mt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Mt);if((ct=wt._events)===void 0?(ct=wt._events=Object.create(null),wt._eventsCount=0):(ct.newListener!==void 0&&(wt.emit("newListener",Rt,Mt.listener?Mt.listener:Mt),ct=wt._events),Lt=ct[Rt]),Lt===void 0)Lt=ct[Rt]=Mt,++wt._eventsCount;else if(typeof Lt=="function"?Lt=ct[Rt]=Tt?[Mt,Lt]:[Lt,Mt]:Tt?Lt.unshift(Mt):Lt.push(Mt),(Ct=et(wt))>0&&Lt.length>Ct&&!Lt.warned){Lt.warned=!0;var Yt=new Error("Possible EventEmitter memory leak detected. "+Lt.length+" "+String(Rt)+" listeners added. Use emitter.setMaxListeners() to increase limit");Yt.name="MaxListenersExceededWarning",Yt.emitter=wt,Yt.type=Rt,Yt.count=Lt.length,Kt=Yt,console&&console.warn&&console.warn(Kt)}return wt}function gt(){for(var wt=[],Rt=0;Rt<arguments.length;Rt++)wt.push(arguments[Rt]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,j(this.listener,this.target,wt))}function lt(wt,Rt,Mt){var Tt={fired:!1,wrapFn:void 0,target:wt,type:Rt,listener:Mt},Ct=gt.bind(Tt);return Ct.listener=Mt,Tt.wrapFn=Ct,Ct}function ft(wt,Rt,Mt){var Tt=wt._events;if(Tt===void 0)return[];var Ct=Tt[Rt];return Ct===void 0?[]:typeof Ct=="function"?Mt?[Ct.listener||Ct]:[Ct]:Mt?function(ct){for(var Lt=new Array(ct.length),Kt=0;Kt<Lt.length;++Kt)Lt[Kt]=ct[Kt].listener||ct[Kt];return Lt}(Ct):yt(Ct,Ct.length)}function ot(wt){var Rt=this._events;if(Rt!==void 0){var Mt=Rt[wt];if(typeof Mt=="function")return 1;if(Mt!==void 0)return Mt.length}return 0}function yt(wt,Rt){for(var Mt=new Array(Rt),Tt=0;Tt<Rt;++Tt)Mt[Tt]=wt[Tt];return Mt}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return $},set:function(wt){if(typeof wt!="number"||wt<0||Z(wt))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+wt+".");$=wt}}),s.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(wt){if(typeof wt!="number"||wt<0||Z(wt))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+wt+".");return this._maxListeners=wt,this},s.prototype.getMaxListeners=function(){return et(this)},s.prototype.emit=function(wt){for(var Rt=[],Mt=1;Mt<arguments.length;Mt++)Rt.push(arguments[Mt]);var Tt=wt==="error",Ct=this._events;if(Ct!==void 0)Tt=Tt&&Ct.error===void 0;else if(!Tt)return!1;if(Tt){var ct;if(Rt.length>0&&(ct=Rt[0]),ct instanceof Error)throw ct;var Lt=new Error("Unhandled error."+(ct?" ("+ct.message+")":""));throw Lt.context=ct,Lt}var Kt=Ct[wt];if(Kt===void 0)return!1;if(typeof Kt=="function")j(Kt,this,Rt);else{var Yt=Kt.length,pt=yt(Kt,Yt);for(Mt=0;Mt<Yt;++Mt)j(pt[Mt],this,Rt)}return!0},s.prototype.addListener=function(wt,Rt){return ut(this,wt,Rt,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(wt,Rt){return ut(this,wt,Rt,!0)},s.prototype.once=function(wt,Rt){if(typeof Rt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Rt);return this.on(wt,lt(this,wt,Rt)),this},s.prototype.prependOnceListener=function(wt,Rt){if(typeof Rt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Rt);return this.prependListener(wt,lt(this,wt,Rt)),this},s.prototype.removeListener=function(wt,Rt){var Mt,Tt,Ct,ct,Lt;if(typeof Rt!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof Rt);if((Tt=this._events)===void 0)return this;if((Mt=Tt[wt])===void 0)return this;if(Mt===Rt||Mt.listener===Rt)--this._eventsCount==0?this._events=Object.create(null):(delete Tt[wt],Tt.removeListener&&this.emit("removeListener",wt,Mt.listener||Rt));else if(typeof Mt!="function"){for(Ct=-1,ct=Mt.length-1;ct>=0;ct--)if(Mt[ct]===Rt||Mt[ct].listener===Rt){Lt=Mt[ct].listener,Ct=ct;break}if(Ct<0)return this;Ct===0?Mt.shift():function(Kt,Yt){for(;Yt+1<Kt.length;Yt++)Kt[Yt]=Kt[Yt+1];Kt.pop()}(Mt,Ct),Mt.length===1&&(Tt[wt]=Mt[0]),Tt.removeListener!==void 0&&this.emit("removeListener",wt,Lt||Rt)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(wt){var Rt,Mt,Tt;if((Mt=this._events)===void 0)return this;if(Mt.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):Mt[wt]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete Mt[wt]),this;if(arguments.length===0){var Ct,ct=Object.keys(Mt);for(Tt=0;Tt<ct.length;++Tt)(Ct=ct[Tt])!=="removeListener"&&this.removeAllListeners(Ct);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(Rt=Mt[wt])=="function")this.removeListener(wt,Rt);else if(Rt!==void 0)for(Tt=Rt.length-1;Tt>=0;Tt--)this.removeListener(wt,Rt[Tt]);return this},s.prototype.listeners=function(wt){return ft(this,wt,!0)},s.prototype.rawListeners=function(wt){return ft(this,wt,!1)},s.listenerCount=function(wt,Rt){return typeof wt.listenerCount=="function"?wt.listenerCount(Rt):ot.call(wt,Rt)},s.prototype.listenerCount=ot,s.prototype.eventNames=function(){return this._eventsCount>0?c(this._events):[]}},function(e,i,o){var c=o(146).Buffer,d=c.isEncoding||function(ot){switch((ot=""+ot)&&ot.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function j(ot){var yt;switch(this.encoding=function(wt){var Rt=function(Mt){if(!Mt)return"utf8";for(var Tt;;)switch(Mt){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return Mt;default:if(Tt)return;Mt=(""+Mt).toLowerCase(),Tt=!0}}(wt);if(typeof Rt!="string"&&(c.isEncoding===d||!d(wt)))throw new Error("Unknown encoding: "+wt);return Rt||wt}(ot),this.encoding){case"utf16le":this.text=$,this.end=et,yt=4;break;case"utf8":this.fillLast=s,yt=4;break;case"base64":this.text=ut,this.end=gt,yt=3;break;default:return this.write=lt,void(this.end=ft)}this.lastNeed=0,this.lastTotal=0,this.lastChar=c.allocUnsafe(yt)}function Z(ot){return ot<=127?0:ot>>5==6?2:ot>>4==14?3:ot>>3==30?4:ot>>6==2?-1:-2}function s(ot){var yt=this.lastTotal-this.lastNeed,wt=function(Rt,Mt,Tt){if((192&Mt[0])!=128)return Rt.lastNeed=0,"\uFFFD";if(Rt.lastNeed>1&&Mt.length>1){if((192&Mt[1])!=128)return Rt.lastNeed=1,"\uFFFD";if(Rt.lastNeed>2&&Mt.length>2&&(192&Mt[2])!=128)return Rt.lastNeed=2,"\uFFFD"}}(this,ot);return wt!==void 0?wt:this.lastNeed<=ot.length?(ot.copy(this.lastChar,yt,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(ot.copy(this.lastChar,yt,0,ot.length),void(this.lastNeed-=ot.length))}function $(ot,yt){if((ot.length-yt)%2==0){var wt=ot.toString("utf16le",yt);if(wt){var Rt=wt.charCodeAt(wt.length-1);if(Rt>=55296&&Rt<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=ot[ot.length-2],this.lastChar[1]=ot[ot.length-1],wt.slice(0,-1)}return wt}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=ot[ot.length-1],ot.toString("utf16le",yt,ot.length-1)}function et(ot){var yt=ot&&ot.length?this.write(ot):"";if(this.lastNeed){var wt=this.lastTotal-this.lastNeed;return yt+this.lastChar.toString("utf16le",0,wt)}return yt}function ut(ot,yt){var wt=(ot.length-yt)%3;return wt===0?ot.toString("base64",yt):(this.lastNeed=3-wt,this.lastTotal=3,wt===1?this.lastChar[0]=ot[ot.length-1]:(this.lastChar[0]=ot[ot.length-2],this.lastChar[1]=ot[ot.length-1]),ot.toString("base64",yt,ot.length-wt))}function gt(ot){var yt=ot&&ot.length?this.write(ot):"";return this.lastNeed?yt+this.lastChar.toString("base64",0,3-this.lastNeed):yt}function lt(ot){return ot.toString(this.encoding)}function ft(ot){return ot&&ot.length?this.write(ot):""}i.StringDecoder=j,j.prototype.write=function(ot){if(ot.length===0)return"";var yt,wt;if(this.lastNeed){if((yt=this.fillLast(ot))===void 0)return"";wt=this.lastNeed,this.lastNeed=0}else wt=0;return wt<ot.length?yt?yt+this.text(ot,wt):this.text(ot,wt):yt||""},j.prototype.end=function(ot){var yt=ot&&ot.length?this.write(ot):"";return this.lastNeed?yt+"\uFFFD":yt},j.prototype.text=function(ot,yt){var wt=function(Mt,Tt,Ct){var ct=Tt.length-1;if(ct<Ct)return 0;var Lt=Z(Tt[ct]);return Lt>=0?(Lt>0&&(Mt.lastNeed=Lt-1),Lt):--ct<Ct||Lt===-2?0:(Lt=Z(Tt[ct]))>=0?(Lt>0&&(Mt.lastNeed=Lt-2),Lt):--ct<Ct||Lt===-2?0:(Lt=Z(Tt[ct]))>=0?(Lt>0&&(Lt===2?Lt=0:Mt.lastNeed=Lt-3),Lt):0}(this,ot,yt);if(!this.lastNeed)return ot.toString("utf8",yt);this.lastTotal=wt;var Rt=ot.length-(wt-this.lastNeed);return ot.copy(this.lastChar,0,Rt),ot.toString("utf8",yt,Rt)},j.prototype.fillLast=function(ot){if(this.lastNeed<=ot.length)return ot.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);ot.copy(this.lastChar,this.lastTotal-this.lastNeed,0,ot.length),this.lastNeed-=ot.length}},function(e,i,o){var c=o(13),d=Object.keys||function(ot){var yt=[];for(var wt in ot)yt.push(wt);return yt};e.exports=gt;var j=o(14);j.inherits=o(6);var Z=o(67),s=o(44);j.inherits(gt,Z);for(var $=d(s.prototype),et=0;et<$.length;et++){var ut=$[et];gt.prototype[ut]||(gt.prototype[ut]=s.prototype[ut])}function gt(ot){if(!(this instanceof gt))return new gt(ot);Z.call(this,ot),s.call(this,ot),ot&&ot.readable===!1&&(this.readable=!1),ot&&ot.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ot&&ot.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",lt)}function lt(){this.allowHalfOpen||this._writableState.ended||c.nextTick(ft,this)}function ft(ot){ot.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ot){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ot,this._writableState.destroyed=ot)}}),gt.prototype._destroy=function(ot,yt){this.push(null),this.end(),c.nextTick(yt,ot)}},function(e,i,o){e.exports=function(c,d){d||(d={}),typeof d=="function"&&(d={cmp:d});var j,Z=typeof d.cycles=="boolean"&&d.cycles,s=d.cmp&&(j=d.cmp,function(et){return function(ut,gt){var lt={key:ut,value:et[ut]},ft={key:gt,value:et[gt]};return j(lt,ft)}}),$=[];return function et(ut){if(ut&&ut.toJSON&&typeof ut.toJSON=="function"&&(ut=ut.toJSON()),ut!==void 0){if(typeof ut=="number")return isFinite(ut)?""+ut:"null";if(typeof ut!="object")return JSON.stringify(ut);var gt,lt;if(Array.isArray(ut)){for(lt="[",gt=0;gt<ut.length;gt++)gt&&(lt+=","),lt+=et(ut[gt])||"null";return lt+"]"}if(ut===null)return"null";if($.indexOf(ut)!==-1){if(Z)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var ft=$.push(ut)-1,ot=Object.keys(ut).sort(s&&s(ut));for(lt="",gt=0;gt<ot.length;gt++){var yt=ot[gt],wt=et(ut[yt]);wt&&(lt&&(lt+=","),lt+=JSON.stringify(yt)+":"+wt)}return $.splice(ft,1),"{"+lt+"}"}}(c)}},function(e,i,o){(function(c){function d(Xt){var hr=0;return function(){return hr<Xt.length?{done:!1,value:Xt[hr++]}:{done:!0}}}var j=typeof Object.defineProperties=="function"?Object.defineProperty:function(Xt,hr,Sr){Xt!=Array.prototype&&Xt!=Object.prototype&&(Xt[hr]=Sr.value)},Z=function(Xt){Xt=[typeof window=="object"&&window,typeof self=="object"&&self,typeof c=="object"&&c,Xt];for(var hr=0;hr<Xt.length;++hr){var Sr=Xt[hr];if(Sr&&Sr.Math==Math)return Sr}throw Error("Cannot find global object")}(this);function s(Xt,hr){if(hr){var Sr=Z;Xt=Xt.split(".");for(var zr=0;zr<Xt.length-1;zr++){var Xr=Xt[zr];Xr in Sr||(Sr[Xr]={}),Sr=Sr[Xr]}(hr=hr(zr=Sr[Xt=Xt[Xt.length-1]]))!=zr&&hr!=null&&j(Sr,Xt,{configurable:!0,writable:!0,value:hr})}}function $(Xt){var hr=typeof Symbol!="undefined"&&Symbol.iterator&&Xt[Symbol.iterator];return hr?hr.call(Xt):{next:d(Xt)}}s("Object.is",function(Xt){return Xt||function(hr,Sr){return hr===Sr?hr!==0||1/hr==1/Sr:hr!=hr&&Sr!=Sr}}),s("Array.prototype.includes",function(Xt){return Xt||function(hr,Sr){var zr=this;zr instanceof String&&(zr=String(zr));var Xr=zr.length;for(0>(Sr=Sr||0)&&(Sr=Math.max(Sr+Xr,0));Sr<Xr;Sr++){var hn=zr[Sr];if(hn===hr||Object.is(hn,hr))return!0}return!1}}),s("Promise",function(Xt){function hr(Fr){this.b=0,this.c=void 0,this.a=[];var nn=this.f();try{Fr(nn.resolve,nn.reject)}catch(Sn){nn.reject(Sn)}}function Sr(){this.a=null}function zr(Fr){return Fr instanceof hr?Fr:new hr(function(nn){nn(Fr)})}if(Xt)return Xt;Sr.prototype.b=function(Fr){if(this.a==null){this.a=[];var nn=this;this.c(function(){nn.g()})}this.a.push(Fr)};var Xr=Z.setTimeout;Sr.prototype.c=function(Fr){Xr(Fr,0)},Sr.prototype.g=function(){for(;this.a&&this.a.length;){var Fr=this.a;this.a=[];for(var nn=0;nn<Fr.length;++nn){var Sn=Fr[nn];Fr[nn]=null;try{Sn()}catch(In){this.f(In)}}}this.a=null},Sr.prototype.f=function(Fr){this.c(function(){throw Fr})},hr.prototype.f=function(){function Fr(In){return function(Zn){Sn||(Sn=!0,In.call(nn,Zn))}}var nn=this,Sn=!1;return{resolve:Fr(this.m),reject:Fr(this.g)}},hr.prototype.m=function(Fr){if(Fr===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(Fr instanceof hr)this.o(Fr);else{e:switch(typeof Fr){case"object":var nn=Fr!=null;break e;case"function":nn=!0;break e;default:nn=!1}nn?this.l(Fr):this.h(Fr)}},hr.prototype.l=function(Fr){var nn=void 0;try{nn=Fr.then}catch(Sn){return void this.g(Sn)}typeof nn=="function"?this.u(nn,Fr):this.h(Fr)},hr.prototype.g=function(Fr){this.i(2,Fr)},hr.prototype.h=function(Fr){this.i(1,Fr)},hr.prototype.i=function(Fr,nn){if(this.b!=0)throw Error("Cannot settle("+Fr+", "+nn+"): Promise already settled in state"+this.b);this.b=Fr,this.c=nn,this.j()},hr.prototype.j=function(){if(this.a!=null){for(var Fr=0;Fr<this.a.length;++Fr)hn.b(this.a[Fr]);this.a=null}};var hn=new Sr;return hr.prototype.o=function(Fr){var nn=this.f();Fr.w(nn.resolve,nn.reject)},hr.prototype.u=function(Fr,nn){var Sn=this.f();try{Fr.call(nn,Sn.resolve,Sn.reject)}catch(In){Sn.reject(In)}},hr.prototype.then=function(Fr,nn){function Sn(ao,bo){return typeof ao=="function"?function(Mo){try{In(ao(Mo))}catch(jo){Zn(jo)}}:bo}var In,Zn,Ro=new hr(function(ao,bo){In=ao,Zn=bo});return this.w(Sn(Fr,In),Sn(nn,Zn)),Ro},hr.prototype.catch=function(Fr){return this.then(void 0,Fr)},hr.prototype.w=function(Fr,nn){function Sn(){switch(In.b){case 1:Fr(In.c);break;case 2:nn(In.c);break;default:throw Error("Unexpected state: "+In.b)}}var In=this;this.a==null?hn.b(Sn):this.a.push(Sn)},hr.resolve=zr,hr.reject=function(Fr){return new hr(function(nn,Sn){Sn(Fr)})},hr.race=function(Fr){return new hr(function(nn,Sn){for(var In=$(Fr),Zn=In.next();!Zn.done;Zn=In.next())zr(Zn.value).w(nn,Sn)})},hr.all=function(Fr){var nn=$(Fr),Sn=nn.next();return Sn.done?zr([]):new hr(function(In,Zn){function Ro(Mo){return function(jo){ao[Mo]=jo,--bo==0&&In(ao)}}var ao=[],bo=0;do ao.push(void 0),bo++,zr(Sn.value).w(Ro(ao.length-1),Zn),Sn=nn.next();while(!Sn.done)})},hr});var et=et||{},ut=this||self;function gt(Xt,hr){Xt=Xt.split("."),hr=hr||ut;for(var Sr=0;Sr<Xt.length;Sr++)if((hr=hr[Xt[Sr]])==null)return null;return hr}function lt(){}function ft(Xt){var hr=typeof Xt;if(hr=="object"){if(!Xt)return"null";if(Xt instanceof Array)return"array";if(Xt instanceof Object)return hr;var Sr=Object.prototype.toString.call(Xt);if(Sr=="[object Window]")return"object";if(Sr=="[object Array]"||typeof Xt.length=="number"&&Xt.splice!==void 0&&Xt.propertyIsEnumerable!==void 0&&!Xt.propertyIsEnumerable("splice"))return"array";if(Sr=="[object Function]"||Xt.call!==void 0&&Xt.propertyIsEnumerable!==void 0&&!Xt.propertyIsEnumerable("call"))return"function"}else if(hr=="function"&&Xt.call===void 0)return"object";return hr}function ot(Xt){var hr=typeof Xt;return hr=="object"&&Xt!=null||hr=="function"}function yt(Xt,hr,Sr){return Xt.call.apply(Xt.bind,arguments)}function wt(Xt,hr,Sr){if(!Xt)throw Error();if(2<arguments.length){var zr=Array.prototype.slice.call(arguments,2);return function(){var Xr=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Xr,zr),Xt.apply(hr,Xr)}}return function(){return Xt.apply(hr,arguments)}}function Rt(Xt,hr,Sr){return(Rt=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?yt:wt).apply(null,arguments)}function Mt(Xt,hr){function Sr(){}Sr.prototype=hr.prototype,Xt.S=hr.prototype,Xt.prototype=new Sr,Xt.prototype.constructor=Xt}function Tt(){this.a={}}function Ct(Xt,hr,Sr,zr){this.f=Xt,this.c=hr,this.b=Sr,this.a=zr}function ct(Xt,hr,Sr,zr){Sr=Sr===void 0?{}:Sr,this.c=Xt,this.a=Sr,this.b=hr,this.f=zr===void 0?null:zr}function Lt(Xt,hr,Sr,zr,Xr,hn){this.name=Xt,this.a=Xr,this.b=hn}function Kt(Xt,hr,Sr){Sr=Sr===void 0?{}:Sr;var zr=zr===void 0?new Tt:zr;return new Ct(hr,Xt,Sr,zr)}function Yt(Xt,hr,Sr,zr){return zr instanceof Lt?zr:new Lt(Xt,Sr,zr.b||hr.constructor,zr.f,zr.a,zr.c)}function pt(Xt){this.a=Xt}function dt(Xt){switch(Xt){case 0:return"No Error";case 1:return"Access denied to content document";case 2:return"File not found";case 3:return"Firefox silently errored";case 4:return"Application custom error";case 5:return"An exception occurred";case 6:return"Http response at 400 or 500 level";case 7:return"Request was aborted";case 8:return"Request timed out";case 9:return"The resource is not available offline";default:return"Unrecognized error code"}}function bt(Xt){if(Error.captureStackTrace)Error.captureStackTrace(this,bt);else{var hr=Error().stack;hr&&(this.stack=hr)}Xt&&(this.message=String(Xt))}function mt(Xt,hr){for(var Sr="",zr=(Xt=Xt.split("%s")).length-1,Xr=0;Xr<zr;Xr++)Sr+=Xt[Xr]+(Xr<hr.length?hr[Xr]:"%s");bt.call(this,Sr+Xt[zr])}function jt(){this.j=null,this.i=[],this.l=0,this.b=zt,this.f=this.a=this.h=0,this.c=null,this.g=0}Tt.prototype.get=function(Xt){return this.a[Xt]},Tt.prototype.f=function(){return Object.keys(this.a)},Ct.prototype.getRequestMessage=function(){return this.f},Ct.prototype.getMethodDescriptor=function(){return this.c},Ct.prototype.getMetadata=function(){return this.b},Ct.prototype.getCallOptions=function(){return this.a},ct.prototype.getResponseMessage=function(){return this.c},ct.prototype.getMetadata=function(){return this.a},ct.prototype.getMethodDescriptor=function(){return this.b},ct.prototype.getStatus=function(){return this.f},pt.prototype.on=function(Xt,hr){return Xt=="data"||Xt=="error"?this:this.a.on(Xt,hr)},pt.prototype.removeListener=function(Xt,hr){return this.a.removeListener(Xt,hr)},pt.prototype.cancel=function(){this.a.cancel()},Mt(bt,Error),bt.prototype.name="CustomError",Mt(mt,bt),mt.prototype.name="AssertionError";var zt=0,kt=1,St=2,Dt=3,Nt=0,_t=128;function at(Xt,hr,Sr,zr){throw Xt.b=Dt,Xt.j="The stream is broken @"+Xt.l+"/"+Sr+". Error: "+zr+`. With input:
`+hr,Error(Xt.j)}var Bt=Array.prototype.indexOf?function(Xt,hr){return Array.prototype.indexOf.call(Xt,hr,void 0)}:function(Xt,hr){if(typeof Xt=="string")return typeof hr!="string"||hr.length!=1?-1:Xt.indexOf(hr,0);for(var Sr=0;Sr<Xt.length;Sr++)if(Sr in Xt&&Xt[Sr]===hr)return Sr;return-1},Vt,Qt=String.prototype.trim?function(Xt){return Xt.trim()}:function(Xt){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(Xt)[1]};function or(Xt,hr){return Xt.indexOf(hr)!=-1}function ar(Xt,hr){return Xt<hr?-1:Xt>hr?1:0}e:{var qt=ut.navigator;if(qt){var Gt=qt.userAgent;if(Gt){Vt=Gt;break e}}Vt=""}var vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function At(Xt){var hr=1;Xt=Xt.split(":");for(var Sr=[];0<hr&&Xt.length;)Sr.push(Xt.shift()),hr--;return Xt.length&&Sr.push(Xt.join(":")),Sr}function It(Xt){return It[" "](Xt),Xt}It[" "]=lt;var Ht,Zt,rr=or(Vt,"Opera"),pr=or(Vt,"Trident")||or(Vt,"MSIE"),_r=or(Vt,"Edge"),ir=or(Vt,"Gecko")&&!(or(Vt.toLowerCase(),"webkit")&&!or(Vt,"Edge"))&&!(or(Vt,"Trident")||or(Vt,"MSIE"))&&!or(Vt,"Edge"),cr=or(Vt.toLowerCase(),"webkit")&&!or(Vt,"Edge");function mr(){var Xt=ut.document;return Xt?Xt.documentMode:void 0}e:{var Cr="",Mr=(Zt=Vt,ir?/rv:([^\);]+)(\)|;)/.exec(Zt):_r?/Edge\/([\d\.]+)/.exec(Zt):pr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Zt):cr?/WebKit\/(\S+)/.exec(Zt):rr?/(?:Version)[ \/]?(\S+)/.exec(Zt):void 0);if(Mr&&(Cr=Mr?Mr[1]:""),pr){var Yr=mr();if(Yr!=null&&Yr>parseFloat(Cr)){Ht=String(Yr);break e}}Ht=Cr}var an,dn={};function rn(Xt){return function(hr,Sr){var zr=dn;return Object.prototype.hasOwnProperty.call(zr,hr)?zr[hr]:zr[hr]=Sr(hr)}(Xt,function(){for(var hr=0,Sr=Qt(String(Ht)).split("."),zr=Qt(String(Xt)).split("."),Xr=Math.max(Sr.length,zr.length),hn=0;hr==0&&hn<Xr;hn++){var Fr=Sr[hn]||"",nn=zr[hn]||"";do{if(Fr=/(\d*)(\D*)(.*)/.exec(Fr)||["","","",""],nn=/(\d*)(\D*)(.*)/.exec(nn)||["","","",""],Fr[0].length==0&&nn[0].length==0)break;hr=ar(Fr[1].length==0?0:parseInt(Fr[1],10),nn[1].length==0?0:parseInt(nn[1],10))||ar(Fr[2].length==0,nn[2].length==0)||ar(Fr[2],nn[2]),Fr=Fr[3],nn=nn[3]}while(hr==0)}return 0<=hr})}if(ut.document&&pr){var tn=mr();an=tn||parseInt(Ht,10)||void 0}else an=void 0;var Hn=an;function Qn(){this.F=this.F}Qn.prototype.F=!1;var io,yo=Object.freeze||function(Xt){return Xt};(io=!pr)||(io=9<=Number(Hn));var ko=io,Ho=pr&&!rn("9"),qo=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var Xt=!1,hr=Object.defineProperty({},"passive",{get:function(){Xt=!0}});try{ut.addEventListener("test",lt,hr),ut.removeEventListener("test",lt,hr)}catch{}return Xt}();function Fo(Xt,hr){this.type=Xt,this.a=this.target=hr,this.defaultPrevented=!1}function Vo(Xt,hr){if(Fo.call(this,Xt?Xt.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,Xt){var Sr=this.type=Xt.type,zr=Xt.changedTouches&&Xt.changedTouches.length?Xt.changedTouches[0]:null;if(this.target=Xt.target||Xt.srcElement,this.a=hr,hr=Xt.relatedTarget){if(ir){e:{try{It(hr.nodeName);var Xr=!0;break e}catch{}Xr=!1}Xr||(hr=null)}}else Sr=="mouseover"?hr=Xt.fromElement:Sr=="mouseout"&&(hr=Xt.toElement);this.relatedTarget=hr,zr?(this.clientX=zr.clientX!==void 0?zr.clientX:zr.pageX,this.clientY=zr.clientY!==void 0?zr.clientY:zr.pageY,this.screenX=zr.screenX||0,this.screenY=zr.screenY||0):(this.clientX=Xt.clientX!==void 0?Xt.clientX:Xt.pageX,this.clientY=Xt.clientY!==void 0?Xt.clientY:Xt.pageY,this.screenX=Xt.screenX||0,this.screenY=Xt.screenY||0),this.button=Xt.button,this.key=Xt.key||"",this.ctrlKey=Xt.ctrlKey,this.altKey=Xt.altKey,this.shiftKey=Xt.shiftKey,this.metaKey=Xt.metaKey,this.pointerId=Xt.pointerId||0,this.pointerType=typeof Xt.pointerType=="string"?Xt.pointerType:ss[Xt.pointerType]||"",this.c=Xt,Xt.defaultPrevented&&this.b()}}Fo.prototype.b=function(){this.defaultPrevented=!0},Mt(Vo,Fo);var ss=yo({2:"touch",3:"pen",4:"mouse"});Vo.prototype.b=function(){Vo.S.b.call(this);var Xt=this.c;if(Xt.preventDefault)Xt.preventDefault();else if(Xt.returnValue=!1,Ho)try{(Xt.ctrlKey||112<=Xt.keyCode&&123>=Xt.keyCode)&&(Xt.keyCode=-1)}catch{}};var ds="closure_listenable_"+(1e6*Math.random()|0),fs=0;function Ul(Xt,hr,Sr,zr,Xr){this.listener=Xt,this.proxy=null,this.src=hr,this.type=Sr,this.capture=!!zr,this.A=Xr,this.key=++fs,this.s=this.v=!1}function As(Xt){Xt.s=!0,Xt.listener=null,Xt.proxy=null,Xt.src=null,Xt.A=null}function xl(Xt){this.src=Xt,this.a={},this.b=0}function bs(Xt,hr){var Sr=hr.type;if(Sr in Xt.a){var zr,Xr=Xt.a[Sr],hn=Bt(Xr,hr);(zr=0<=hn)&&Array.prototype.splice.call(Xr,hn,1),zr&&(As(hr),Xt.a[Sr].length==0&&(delete Xt.a[Sr],Xt.b--))}}function Ps(Xt,hr,Sr,zr){for(var Xr=0;Xr<Xt.length;++Xr){var hn=Xt[Xr];if(!hn.s&&hn.listener==hr&&hn.capture==!!Sr&&hn.A==zr)return Xr}return-1}xl.prototype.add=function(Xt,hr,Sr,zr,Xr){var hn=Xt.toString();(Xt=this.a[hn])||(Xt=this.a[hn]=[],this.b++);var Fr=Ps(Xt,hr,zr,Xr);return-1<Fr?(hr=Xt[Fr],Sr||(hr.v=!1)):((hr=new Ul(hr,this.src,hn,!!zr,Xr)).v=Sr,Xt.push(hr)),hr};var Ns="closure_lm_"+(1e6*Math.random()|0),Fs={};function Ys(Xt,hr,Sr,zr,Xr){if(zr&&zr.once)(function Fr(nn,Sn,In,Zn,Ro){if(Array.isArray(Sn))for(var ao=0;ao<Sn.length;ao++)Fr(nn,Sn[ao],In,Zn,Ro);else In=en(In),nn&&nn[ds]?nn.f.add(String(Sn),In,!0,ot(Zn)?!!Zn.capture:!!Zn,Ro):Xs(nn,Sn,In,!0,Zn,Ro)})(Xt,hr,Sr,zr,Xr);else if(Array.isArray(hr))for(var hn=0;hn<hr.length;hn++)Ys(Xt,hr[hn],Sr,zr,Xr);else Sr=en(Sr),Xt&&Xt[ds]?Xt.f.add(String(hr),Sr,!1,ot(zr)?!!zr.capture:!!zr,Xr):Xs(Xt,hr,Sr,!1,zr,Xr)}function Xs(Xt,hr,Sr,zr,Xr,hn){if(!hr)throw Error("Invalid event type");var Fr=ot(Xr)?!!Xr.capture:!!Xr,nn=Br(Xt);if(nn||(Xt[Ns]=nn=new xl(Xt)),!(Sr=nn.add(hr,Sr,zr,Fr,hn)).proxy)if(zr=function(){var Sn=Rr,In=ko?function(Zn){return Sn.call(In.src,In.listener,Zn)}:function(Zn){if(!(Zn=Sn.call(In.src,In.listener,Zn)))return Zn};return In}(),Sr.proxy=zr,zr.src=Xt,zr.listener=Sr,Xt.addEventListener)qo||(Xr=Fr),Xr===void 0&&(Xr=!1),Xt.addEventListener(hr.toString(),zr,Xr);else if(Xt.attachEvent)Xt.attachEvent(Ir(hr.toString()),zr);else{if(!Xt.addListener||!Xt.removeListener)throw Error("addEventListener and attachEvent are unavailable.");Xt.addListener(zr)}}function Ks(Xt){if(typeof Xt!="number"&&Xt&&!Xt.s){var hr=Xt.src;if(hr&&hr[ds])bs(hr.f,Xt);else{var Sr=Xt.type,zr=Xt.proxy;hr.removeEventListener?hr.removeEventListener(Sr,zr,Xt.capture):hr.detachEvent?hr.detachEvent(Ir(Sr),zr):hr.addListener&&hr.removeListener&&hr.removeListener(zr),(Sr=Br(hr))?(bs(Sr,Xt),Sr.b==0&&(Sr.src=null,hr[Ns]=null)):As(Xt)}}}function Ir(Xt){return Xt in Fs?Fs[Xt]:Fs[Xt]="on"+Xt}function dr(Xt,hr,Sr,zr){var Xr=!0;if((Xt=Br(Xt))&&(hr=Xt.a[hr.toString()]))for(hr=hr.concat(),Xt=0;Xt<hr.length;Xt++){var hn=hr[Xt];hn&&hn.capture==Sr&&!hn.s&&(hn=yr(hn,zr),Xr=Xr&&hn!==!1)}return Xr}function yr(Xt,hr){var Sr=Xt.listener,zr=Xt.A||Xt.src;return Xt.v&&Ks(Xt),Sr.call(zr,hr)}function Rr(Xt,hr){if(Xt.s)return!0;if(!ko){var Sr=hr||gt("window.event");hr=new Vo(Sr,this);var zr=!0;if(!(0>Sr.keyCode||Sr.returnValue!=null)){e:{var Xr=!1;if(Sr.keyCode==0)try{Sr.keyCode=-1;break e}catch{Xr=!0}(Xr||Sr.returnValue==null)&&(Sr.returnValue=!0)}for(Sr=[],Xr=hr.a;Xr;Xr=Xr.parentNode)Sr.push(Xr);for(Xt=Xt.type,Xr=Sr.length-1;0<=Xr;Xr--){hr.a=Sr[Xr];var hn=dr(Sr[Xr],Xt,!0,hr);zr=zr&&hn}for(Xr=0;Xr<Sr.length;Xr++)hr.a=Sr[Xr],hn=dr(Sr[Xr],Xt,!1,hr),zr=zr&&hn}return zr}return yr(Xt,new Vo(hr,this))}function Br(Xt){return(Xt=Xt[Ns])instanceof xl?Xt:null}var Hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function en(Xt){return ft(Xt)=="function"?Xt:(Xt[Hr]||(Xt[Hr]=function(hr){return Xt.handleEvent(hr)}),Xt[Hr])}function Qr(){Qn.call(this),this.f=new xl(this),this.N=this}function Gr(Xt,hr){Xt=Xt.N;var Sr=hr.type||hr;if(typeof hr=="string")hr=new Fo(hr,Xt);else if(hr instanceof Fo)hr.target=hr.target||Xt;else{var zr=hr;(function(Xr,hn){for(var Fr,nn,Sn=1;Sn<arguments.length;Sn++){for(Fr in nn=arguments[Sn])Xr[Fr]=nn[Fr];for(var In=0;In<vt.length;In++)Fr=vt[In],Object.prototype.hasOwnProperty.call(nn,Fr)&&(Xr[Fr]=nn[Fr])}})(hr=new Fo(Sr,Xt),zr)}ln(Xt=hr.a=Xt,Sr,!0,hr),ln(Xt,Sr,!1,hr)}function ln(Xt,hr,Sr,zr){if(hr=Xt.f.a[String(hr)]){hr=hr.concat();for(var Xr=!0,hn=0;hn<hr.length;++hn){var Fr=hr[hn];if(Fr&&!Fr.s&&Fr.capture==Sr){var nn=Fr.listener,Sn=Fr.A||Fr.src;Fr.v&&bs(Xt.f,Fr),Xr=nn.call(Sn,zr)!==!1&&Xr}}}}function En(Xt,hr,Sr){if(ft(Xt)=="function")Sr&&(Xt=Rt(Xt,Sr));else{if(!Xt||typeof Xt.handleEvent!="function")throw Error("Invalid listener argument");Xt=Rt(Xt.handleEvent,Xt)}return 2147483647<Number(hr)?-1:ut.setTimeout(Xt,hr||0)}function Nn(Xt,hr,Sr){this.reset(Xt,hr,Sr,void 0,void 0)}Mt(Qr,Qn),Qr.prototype[ds]=!0,Qr.prototype.addEventListener=function(Xt,hr,Sr,zr){Ys(this,Xt,hr,Sr,zr)},Qr.prototype.removeEventListener=function(Xt,hr,Sr,zr){(function Xr(hn,Fr,nn,Sn,In){if(Array.isArray(Fr))for(var Zn=0;Zn<Fr.length;Zn++)Xr(hn,Fr[Zn],nn,Sn,In);else Sn=ot(Sn)?!!Sn.capture:!!Sn,nn=en(nn),hn&&hn[ds]?(hn=hn.f,(Fr=String(Fr).toString())in hn.a&&-1<(nn=Ps(Zn=hn.a[Fr],nn,Sn,In))&&(As(Zn[nn]),Array.prototype.splice.call(Zn,nn,1),Zn.length==0&&(delete hn.a[Fr],hn.b--))):hn&&(hn=Br(hn))&&(Fr=hn.a[Fr.toString()],hn=-1,Fr&&(hn=Ps(Fr,nn,Sn,In)),(nn=-1<hn?Fr[hn]:null)&&Ks(nn))})(this,Xt,hr,Sr,zr)},Nn.prototype.a=null;function Cn(Xt){this.f=Xt,this.b=this.c=this.a=null}function Jn(Xt,hr){this.name=Xt,this.value=hr}Nn.prototype.reset=function(Xt,hr,Sr,zr,Xr){delete this.a},Jn.prototype.toString=function(){return this.name};var Xn=new Jn("SEVERE",1e3),Wn=new Jn("CONFIG",700),ro=new Jn("FINE",500);function un(Xt){return Xt.c?Xt.c:Xt.a?un(Xt.a):(function(hr,Sr){throw new mt("Failure"+(hr?": "+hr:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)}Cn.prototype.log=function(Xt,hr,Sr){if(Xt.value>=un(this).value)for(ft(hr)=="function"&&(hr=hr()),Xt=new Nn(Xt,String(hr),this.f),Sr&&(Xt.a=Sr),Sr=this;Sr;)Sr=Sr.a};var xo,Un={},vo=null;function so(Xt,hr){Xt&&Xt.log(ro,hr,void 0)}function Us(){}function ks(Xt){var hr;return(hr=Xt.a)||(hr={},lo(Xt)&&(hr[0]=!0,hr[1]=!0),hr=Xt.a=hr),hr}function Pn(){}function _o(Xt){return(Xt=lo(Xt))?new ActiveXObject(Xt):new XMLHttpRequest}function lo(Xt){if(!Xt.b&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var hr=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],Sr=0;Sr<hr.length;Sr++){var zr=hr[Sr];try{return new ActiveXObject(zr),Xt.b=zr}catch{}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return Xt.b}function as(Xt,hr){this.b={},this.a=[],this.c=0;var Sr=arguments.length;if(1<Sr){if(Sr%2)throw Error("Uneven number of arguments");for(var zr=0;zr<Sr;zr+=2)this.set(arguments[zr],arguments[zr+1])}else Xt&&mo(this,Xt)}function Js(Xt){if(Xt.c!=Xt.a.length){for(var hr=0,Sr=0;hr<Xt.a.length;){var zr=Xt.a[hr];Cs(Xt.b,zr)&&(Xt.a[Sr++]=zr),hr++}Xt.a.length=Sr}if(Xt.c!=Xt.a.length){var Xr={};for(Sr=hr=0;hr<Xt.a.length;)Cs(Xr,zr=Xt.a[hr])||(Xt.a[Sr++]=zr,Xr[zr]=1),hr++;Xt.a.length=Sr}}function mo(Xt,hr){if(hr instanceof as)for(var Sr=hr.f(),zr=0;zr<Sr.length;zr++)Xt.set(Sr[zr],hr.get(Sr[zr]));else for(Sr in hr)Xt.set(Sr,hr[Sr])}function Cs(Xt,hr){return Object.prototype.hasOwnProperty.call(Xt,hr)}Us.prototype.a=null,Mt(Pn,Us),xo=new Pn,as.prototype.f=function(){return Js(this),this.a.concat()},as.prototype.get=function(Xt,hr){return Cs(this.b,Xt)?this.b[Xt]:hr},as.prototype.set=function(Xt,hr){Cs(this.b,Xt)||(this.c++,this.a.push(Xt)),this.b[Xt]=hr},as.prototype.forEach=function(Xt,hr){for(var Sr=this.f(),zr=0;zr<Sr.length;zr++){var Xr=Sr[zr],hn=this.get(Xr);Xt.call(hr,hn,Xr,this)}};var zl=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yo(Xt){Qr.call(this),this.headers=new as,this.D=Xt||null,this.c=!1,this.C=this.a=null,this.J=this.o="",this.g=0,this.i="",this.h=this.I=this.m=this.G=!1,this.l=0,this.u=null,this.j=ws,this.B=this.H=!1}Mt(Yo,Qr);var ws="",Uo=Yo.prototype,Pu=function Xt(hr){var Sr;if(vo||(vo=new Cn(""),Un[""]=vo,vo.c=Wn),!(Sr=Un[hr])){Sr=new Cn(hr);var zr=hr.lastIndexOf("."),Xr=hr.substr(zr+1);(zr=Xt(hr.substr(0,zr))).b||(zr.b={}),zr.b[Xr]=Sr,Sr.a=zr,Un[hr]=Sr}return Sr}("goog.net.XhrIo");Uo.b=Pu;var Dl=/^https?$/i,$l=["POST","PUT"];function Rs(Xt,hr,Sr){if(Xt.a)throw Error("[goog.net.XhrIo] Object is active with another request="+Xt.o+"; newUri="+hr);Xt.o=hr,Xt.i="",Xt.g=0,Xt.J="POST",Xt.G=!1,Xt.c=!0,Xt.a=Xt.D?_o(Xt.D):_o(xo),Xt.C=Xt.D?ks(Xt.D):ks(xo),Xt.a.onreadystatechange=Rt(Xt.K,Xt);try{so(Xt.b,ls(Xt,"Opening Xhr")),Xt.I=!0,Xt.a.open("POST",String(hr),!0),Xt.I=!1}catch(hn){return so(Xt.b,ls(Xt,"Error opening Xhr: "+hn.message)),void Ms(Xt,hn)}hr=Sr||"";var zr=function(hn){e:{for(var Fr=Yl,nn=hn.length,Sn=typeof hn=="string"?hn.split(""):hn,In=0;In<nn;In++)if(In in Sn&&Fr.call(void 0,Sn[In],In,hn)){Fr=In;break e}Fr=-1}return 0>Fr?null:typeof hn=="string"?hn.charAt(Fr):hn[Fr]}((Sr=new as(Xt.headers)).f()),Xr=ut.FormData&&hr instanceof ut.FormData;!(0<=Bt($l,"POST"))||zr||Xr||Sr.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),Sr.forEach(function(hn,Fr){this.a.setRequestHeader(Fr,hn)},Xt),Xt.j&&(Xt.a.responseType=Xt.j),"withCredentials"in Xt.a&&Xt.a.withCredentials!==Xt.H&&(Xt.a.withCredentials=Xt.H);try{Ko(Xt),0<Xt.l&&(Xt.B=function(hn){return pr&&rn(9)&&typeof hn.timeout=="number"&&hn.ontimeout!==void 0}(Xt.a),so(Xt.b,ls(Xt,"Will abort after "+Xt.l+"ms if incomplete, xhr2 "+Xt.B)),Xt.B?(Xt.a.timeout=Xt.l,Xt.a.ontimeout=Rt(Xt.L,Xt)):Xt.u=En(Xt.L,Xt.l,Xt)),so(Xt.b,ls(Xt,"Sending request")),Xt.m=!0,Xt.a.send(hr),Xt.m=!1}catch(hn){so(Xt.b,ls(Xt,"Send error: "+hn.message)),Ms(Xt,hn)}}function Yl(Xt){return Xt.toLowerCase()=="content-type"}function Ms(Xt,hr){Xt.c=!1,Xt.a&&(Xt.h=!0,Xt.a.abort(),Xt.h=!1),Xt.i=hr,Xt.g=5,So(Xt),Vl(Xt)}function So(Xt){Xt.G||(Xt.G=!0,Gr(Xt,"complete"),Gr(Xt,"error"))}function Ds(Xt){if(Xt.c&&et!==void 0){if(Xt.C[1]&&Do(Xt)==4&&Xt.getStatus()==2)so(Xt.b,ls(Xt,"Local request error detected and ignored"));else if(Xt.m&&Do(Xt)==4)En(Xt.K,0,Xt);else if(Gr(Xt,"readystatechange"),Do(Xt)==4){so(Xt.b,ls(Xt,"Request complete")),Xt.c=!1;try{var hr,Sr=Xt.getStatus();e:switch(Sr){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var zr=!0;break e;default:zr=!1}if(!(hr=zr)){var Xr;if(Xr=Sr===0){var hn=String(Xt.o).match(zl)[1]||null;if(!hn&&ut.self&&ut.self.location){var Fr=ut.self.location.protocol;hn=Fr.substr(0,Fr.length-1)}Xr=!Dl.test(hn?hn.toLowerCase():"")}hr=Xr}if(hr)Gr(Xt,"complete"),Gr(Xt,"success");else{Xt.g=6;try{var nn=2<Do(Xt)?Xt.a.statusText:""}catch(Sn){so(Xt.b,"Can not get status: "+Sn.message),nn=""}Xt.i=nn+" ["+Xt.getStatus()+"]",So(Xt)}}finally{Vl(Xt)}}}}function Vl(Xt){if(Xt.a){Ko(Xt);var hr=Xt.a,Sr=Xt.C[0]?lt:null;Xt.a=null,Xt.C=null,Gr(Xt,"ready");try{hr.onreadystatechange=Sr}catch(zr){(Xt=Xt.b)&&Xt.log(Xn,"Problem encountered resetting onreadystatechange: "+zr.message,void 0)}}}function Ko(Xt){Xt.a&&Xt.B&&(Xt.a.ontimeout=null),Xt.u&&(ut.clearTimeout(Xt.u),Xt.u=null)}function Do(Xt){return Xt.a?Xt.a.readyState:0}function ps(Xt,hr){if(Xt.a&&Do(Xt)==4)return(Xt=Xt.a.getResponseHeader(hr))===null?void 0:Xt}function ls(Xt,hr){return hr+" ["+Xt.J+" "+Xt.o+" "+Xt.getStatus()+"]"}Yo.prototype.L=function(){et!==void 0&&this.a&&(this.i="Timed out after "+this.l+"ms, aborting",this.g=8,so(this.b,ls(this,this.i)),Gr(this,"timeout"),this.abort(8))},Yo.prototype.abort=function(Xt){this.a&&this.c&&(so(this.b,ls(this,"Aborting")),this.c=!1,this.h=!0,this.a.abort(),this.h=!1,this.g=Xt||7,Gr(this,"complete"),Gr(this,"abort"),Vl(this))},Yo.prototype.K=function(){this.F||(this.I||this.m||this.h?Ds(this):this.O())},Yo.prototype.O=function(){Ds(this)},Yo.prototype.getStatus=function(){try{return 2<Do(this)?this.a.status:-1}catch{return-1}};var Co={},_s=null;function zs(Xt){var hr=Xt.length,Sr=3*hr/4;Sr%3?Sr=Math.floor(Sr):or("=.",Xt[hr-1])&&(Sr=or("=.",Xt[hr-2])?Sr-2:Sr-1);var zr=new Uint8Array(Sr),Xr=0;return function(hn,Fr){function nn(bo){for(;Sn<hn.length;){var Mo=hn.charAt(Sn++),jo=_s[Mo];if(jo!=null)return jo;if(!/^[\s\xa0]*$/.test(Mo))throw Error("Unknown base64 encoding at char: "+Mo)}return bo}es();for(var Sn=0;;){var In=nn(-1),Zn=nn(0),Ro=nn(64),ao=nn(64);if(ao===64&&In===-1)break;Fr(In<<2|Zn>>4),Ro!=64&&(Fr(Zn<<4&240|Ro>>2),ao!=64&&Fr(Ro<<6&192|ao))}}(Xt,function(hn){zr[Xr++]=hn}),zr.subarray(0,Xr)}function es(){if(!_s){_s={};for(var Xt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),hr=["+/=","+/","-_=","-_.","-_"],Sr=0;5>Sr;Sr++){var zr=Xt.concat(hr[Sr].split(""));Co[Sr]=zr;for(var Xr=0;Xr<zr.length;Xr++){var hn=zr[Xr];_s[hn]===void 0&&(_s[hn]=Xr)}}}}var lr=["content-type","grpc-status","grpc-message"];function vr(Xt){this.a=Xt.T,this.l=null,this.b=[],this.h=[],this.g=[],this.f=[],this.c=[],this.j=!1,this.i=0,this.m=new jt;var hr=this;Ys(this.a,"readystatechange",function(){var Sr=hr.a;if(Sr=Sr.a?Sr.a.getResponseHeader("Content-Type"):null){if((Sr=Sr.toLowerCase()).lastIndexOf("application/grpc-web-text",0)==0){Sr=hr.a;try{var zr=Sr.a?Sr.a.responseText:""}catch(In){so(Sr.b,"Can not get responseText: "+In.message),zr=""}if(zr=(Sr=zr||"").length-Sr.length%4,(Sr=Sr.substr(hr.i,zr-hr.i)).length==0)return;hr.i=zr,Sr=zs(Sr)}else{if(Sr.lastIndexOf("application/grpc",0)!=0)return void $r(hr,{code:2,message:"Unknown Content-type received.",metadata:{}});Sr=new Uint8Array(function(In){try{if(!In.a)return null;if("response"in In.a)return In.a.response;switch(In.j){case ws:case"text":return In.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in In.a)return In.a.mozResponseArrayBuffer}var Zn=In.b;return Zn&&Zn.log(Xn,"Response type "+In.j+" is not supported on this browser",void 0),null}catch(Ro){return so(In.b,"Can not get response: "+Ro.message),null}}(hr.a))}zr=null;try{zr=function(In,Zn){function Ro(Vs){ho.f++,ho.a=(ho.a<<8)+Vs,ho.f==4&&(ho.b=St,ho.g=0,typeof Uint8Array!="undefined"?ho.c=new Uint8Array(ho.a):ho.c=Array(ho.a),ho.a==0&&bo())}function ao(Vs){ho.c[ho.g++]=Vs,ho.g==ho.a&&bo()}function bo(){var Vs={};Vs[ho.h]=ho.c,ho.i.push(Vs),ho.b=zt}var Mo,jo,ho=In,Qs=0;for(Mo=Zn instanceof Uint8Array||Zn instanceof Array?Zn:new Uint8Array(Zn);Qs<Mo.length;){switch(ho.b){case Dt:at(ho,Mo,Qs,"stream already broken");break;case zt:(jo=Mo[Qs])==Nt||jo==_t?ho.h=jo:at(ho,Mo,Qs,"invalid frame byte"),ho.b=kt,ho.a=0,ho.f=0;break;case kt:Ro(Mo[Qs]);break;case St:ao(Mo[Qs]);break;default:throw Error("unexpected parser state: "+ho.b)}ho.l++,Qs++}return In=ho.i,ho.i=[],0<In.length?In:null}(hr.m,Sr)}catch{$r(hr,{code:2,message:"Error in parsing response body",metadata:{}})}if(zr)for(Sr=0;Sr<zr.length;Sr++){if(Nt in zr[Sr]){var Xr=zr[Sr][Nt];if(Xr)try{var hn=hr.l(Xr);if(hn){Xr=hr;for(var Fr=hn,nn=0;nn<Xr.b.length;nn++)Xr.b[nn](Fr)}}catch{$r(hr,{code:2,message:"Error in response deserializer function.",metadata:{}})}}if(_t in zr[Sr]&&0<zr[Sr][_t].length){for(Xr="",Fr=0;Fr<zr[Sr][_t].length;Fr++)Xr+=String.fromCharCode(zr[Sr][_t][Fr]);for(Xr=Xr.trim().split(`\r
`),Fr={},nn=0;nn<Xr.length;nn++){var Sn=Xr[nn].indexOf(":");Fr[Xr[nn].substring(0,Sn).trim()]=Xr[nn].substring(Sn+1).trim()}Xr=Fr,Fr=0,nn="","grpc-status"in Xr&&(Fr=Xr["grpc-status"],delete Xr["grpc-status"]),"grpc-message"in Xr&&(nn=Xr["grpc-message"],delete Xr["grpc-message"]),$r(hr,{code:Number(Fr),message:nn,metadata:Xr})}}}}),Ys(this.a,"complete",function(){var Sr=hr.a.g,zr="",Xr={},hn=function(nn){var Sn={};nn=(nn.a&&Do(nn)==4&&nn.a.getAllResponseHeaders()||"").split(`\r
`);for(var In=0;In<nn.length;In++)if(!/^[\s\xa0]*$/.test(nn[In])){var Zn=At(nn[In]),Ro=Zn[0];if(typeof(Zn=Zn[1])=="string"){Zn=Zn.trim();var ao=Sn[Ro]||[];Sn[Ro]=ao,ao.push(Zn)}}return function(bo,Mo){var jo,ho={};for(jo in bo)ho[jo]=Mo.call(void 0,bo[jo],jo,bo);return ho}(Sn,function(bo){return bo.join(", ")})}(hr.a);if(Object.keys(hn).forEach(function(nn){lr.includes(nn)||(Xr[nn]=hn[nn])}),function(nn,Sn){for(var In=0;In<nn.g.length;In++)nn.g[In](Sn)}(hr,Xr),Sr!=0){switch(Sr){case 7:var Fr=10;break;case 8:Fr=4;break;case 6:Fr=function(nn){switch(nn){case 200:return 0;case 400:return 3;case 401:return 16;case 403:return 7;case 404:return 5;case 409:return 10;case 412:return 9;case 429:return 8;case 499:return 1;case 500:return 2;case 501:return 12;case 503:return 14;case 504:return 4;default:return 2}}(hr.a.getStatus());break;default:Fr=14}Fr==10&&hr.j||$r(hr,{code:Fr,message:dt(Sr),metadata:{}})}else Sr=!1,"grpc-status"in hn&&(Fr=ps(hr.a,"grpc-status"),"grpc-message"in hn&&(zr=ps(hr.a,"grpc-message")),Number(Fr)!=0&&($r(hr,{code:Number(Fr),message:zr,metadata:hn}),Sr=!0)),Sr||function(nn){for(var Sn=0;Sn<nn.c.length;Sn++)nn.c[Sn]()}(hr)})}function Pr(Xt,hr){-1<(hr=Xt.indexOf(hr))&&Xt.splice(hr,1)}function $r(Xt,hr){if(hr.code!=0)for(var Sr={code:hr.code,message:decodeURIComponent(hr.message||""),metadata:hr.metadata},zr=0;zr<Xt.f.length;zr++)Xt.f[zr](Sr);for(hr={code:hr.code,details:decodeURIComponent(hr.message||""),metadata:hr.metadata},Sr=0;Sr<Xt.h.length;Sr++)Xt.h[Sr](hr)}function cn(Xt){this.a=gt("format",Xt)||"text",this.f=gt("suppressCorsPreflight",Xt)||!1,this.c=gt("withCredentials",Xt)||!1,this.b=gt("streamInterceptors",Xt)||[],this.g=gt("unaryInterceptors",Xt)||[]}function An(Xt,hr,Sr){var zr=hr.getMethodDescriptor(),Xr=Sr+zr.name;(Sr=new Yo).H=Xt.c;var hn=new vr({T:Sr});if(hn.l=zr.b,mo(Sr.headers,hr.getMetadata()),Xt.a=="text"?(Sr.headers.set("Content-Type","application/grpc-web-text"),Sr.headers.set("Accept","application/grpc-web-text")):Sr.headers.set("Content-Type","application/grpc-web+proto"),Sr.headers.set("X-User-Agent","grpc-web-javascript/0.1"),Sr.headers.set("X-Grpc-Web","1"),Cs(Sr.headers.b,"deadline")){var Fr=Sr.headers.get("deadline");Fr=Math.round(Fr-new Date().getTime());var nn=Sr.headers;Cs(nn.b,"deadline")&&(delete nn.b.deadline,nn.c--,nn.a.length>2*nn.c&&Js(nn)),1/0===Fr&&(Fr=0),0<Fr&&Sr.headers.set("grpc-timeout",Fr+"m")}if(Xt.f){Js(nn=Sr.headers),Fr={};for(var Sn=0;Sn<nn.a.length;Sn++){var In=nn.a[Sn];Fr[In]=nn.b[In]}(nn=Sr.headers).b={},nn.a.length=0,nn.c=0;e:{for(Zn in Fr){var Zn=!1;break e}Zn=!0}Zn||(Fr=function(bo){var Mo="";return function(jo,ho){for(var Qs in jo)ho.call(void 0,jo[Qs],Qs,jo)}(bo,function(jo,ho){Mo+=ho,Mo+=":",Mo+=jo,Mo+=`\r
`}),Mo}(Fr),typeof Xr=="string"?(Zn=encodeURIComponent("$httpHeaders"),(Zn+=Fr=Fr!=null?"="+encodeURIComponent(String(Fr)):"")&&(0>(Fr=Xr.indexOf("#"))&&(Fr=Xr.length),0>(nn=Xr.indexOf("?"))||nn>Fr?(nn=Fr,Sn=""):Sn=Xr.substring(nn+1,Fr),Fr=(Xr=[Xr.substr(0,nn),Sn,Xr.substr(Fr)])[1],Xr[1]=Zn?Fr?Fr+"&"+Zn:Zn:Fr,Xr=Xr[0]+(Xr[1]?"?"+Xr[1]:"")+Xr[2])):Xr.a("$httpHeaders",Fr))}for(zr=(hr=(0,zr.a)(hr.getRequestMessage())).length,Zn=[0,0,0,0],Fr=new Uint8Array(5+zr),nn=3;0<=nn;nn--)Zn[nn]=zr%256,zr>>>=8;if(Fr.set(new Uint8Array(Zn),1),Fr.set(hr,5),hr=Fr,Xt.a=="text"){var Ro;for(Xt=hr,Ro===void 0&&(Ro=0),es(),Ro=Co[Ro],hr=[],zr=0;zr<Xt.length;zr+=3){In=Xt[zr];var ao=(Zn=zr+1<Xt.length)?Xt[zr+1]:0;nn=In>>2,In=(3&In)<<4|ao>>4,ao=(15&ao)<<2|(Sn=(Fr=zr+2<Xt.length)?Xt[zr+2]:0)>>6,Sn&=63,Fr||(Sn=64,Zn||(ao=64)),hr.push(Ro[nn],Ro[In],Ro[ao]||"",Ro[Sn]||"")}hr=hr.join("")}else Xt.a=="binary"&&(Sr.j="arraybuffer");return Rs(Sr,Xr,hr),hn}function wn(Xt,hr,Sr){var zr=null,Xr=!1;Xt.on("data",function(hn){zr=hn}),Xt.on("error",function(hn){hn.code==0||Xr||(Xr=!0,hr(hn,null))}),Xt.on("status",function(hn){hn.code==0||Xr?Sr&&hr(null,null,hn):(Xr=!0,hr({code:hn.code,message:hn.details,metadata:hn.metadata},null))}),Sr&&Xt.on("metadata",function(hn){hr(null,null,null,hn)}),Xt.on("end",function(){Xr||(zr==null?hr({code:2,message:"Incomplete response"}):hr(null,zr)),Sr&&hr(null,null)})}function gn(Xt,hr){var Sr=Xt;return hr.forEach(function(zr){var Xr=Sr;Sr=function(hn){return zr.intercept(hn,Xr)}}),Sr}vr.prototype.on=function(Xt,hr){return Xt=="data"?this.b.push(hr):Xt=="status"?this.h.push(hr):Xt=="metadata"?this.g.push(hr):Xt=="end"?this.c.push(hr):Xt=="error"&&this.f.push(hr),this},vr.prototype.removeListener=function(Xt,hr){return Xt=="data"?Pr(this.b,hr):Xt=="status"?Pr(this.h,hr):Xt=="metadata"?Pr(this.g,hr):Xt=="end"?Pr(this.c,hr):Xt=="error"&&Pr(this.f,hr),this},vr.prototype.cancel=function(){this.j=!0,this.a.abort()},vr.prototype.cancel=vr.prototype.cancel,vr.prototype.removeListener=vr.prototype.removeListener,vr.prototype.on=vr.prototype.on,cn.prototype.P=function(Xt,hr,Sr,zr,Xr){var hn=this;zr=Yt(Xt,hr,"unary",zr);var Fr=Xt.substr(0,Xt.length-zr.name.length);return wn(Xt=gn(function(nn){return An(hn,nn,Fr)},this.b).call(this,Kt(zr,hr,Sr)),Xr,!1),new pt(Xt)},cn.prototype.M=function(Xt,hr,Sr,zr){var Xr=this;zr=Yt(Xt,hr,"unary",zr);var hn=Xt.substr(0,Xt.length-zr.name.length);return gn(function(Fr){return new Promise(function(nn,Sn){var In,Zn,Ro;wn(An(Xr,Fr,hn),function(ao,bo,Mo,jo){ao?Sn(ao):bo?Ro=bo:Mo?Zn=Mo:jo?In=jo:(ao=Fr.getMethodDescriptor(),nn(new ct(Ro,ao,bo=(bo=In)===void 0?{}:bo,Zn===void 0?null:Zn)))},!0)})},this.g).call(this,Kt(zr,hr,Sr)).then(function(Fr){return Fr.getResponseMessage()})},cn.prototype.unaryCall=function(Xt,hr,Sr,zr){return this.M(Xt,hr,Sr,zr)},cn.prototype.R=function(Xt,hr,Sr,zr){var Xr=this;zr=Yt(Xt,hr,"server_streaming",zr);var hn=Xt.substr(0,Xt.length-zr.name.length);return gn(function(Fr){return An(Xr,Fr,hn)},this.b).call(this,Kt(zr,hr,Sr))},cn.prototype.serverStreaming=cn.prototype.R,cn.prototype.unaryCall=cn.prototype.unaryCall,cn.prototype.thenableCall=cn.prototype.M,cn.prototype.rpcCall=cn.prototype.P,e.exports.AbstractClientBase={MethodInfo:function(Xt,hr,Sr,zr,Xr){this.name=zr,this.b=Xr,this.f=Xt,this.a=hr,this.c=Sr}},e.exports.GrpcWebClientBase=cn,e.exports.StatusCode={OK:0,CANCELLED:1,UNKNOWN:2,INVALID_ARGUMENT:3,DEADLINE_EXCEEDED:4,NOT_FOUND:5,ALREADY_EXISTS:6,PERMISSION_DENIED:7,UNAUTHENTICATED:16,RESOURCE_EXHAUSTED:8,FAILED_PRECONDITION:9,ABORTED:10,OUT_OF_RANGE:11,UNIMPLEMENTED:12,INTERNAL:13,UNAVAILABLE:14,DATA_LOSS:15},e.exports.MethodDescriptor=Lt,e.exports.MethodType={UNARY:"unary",SERVER_STREAMING:"server_streaming"}}).call(this,o(5))},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.isAsyncIterable=i.isAsyncGenerator=i.isAsync=void 0;var c,d=o(151),j=(c=d)&&c.__esModule?c:{default:c};function Z(s){return s[Symbol.toStringTag]==="AsyncFunction"}i.default=function(s){if(typeof s!="function")throw new Error("expected a function");return Z(s)?(0,j.default)(s):s},i.isAsync=Z,i.isAsyncGenerator=function(s){return s[Symbol.toStringTag]==="AsyncGenerator"},i.isAsyncIterable=function(s){return typeof s[Symbol.asyncIterator]=="function"}},function(e,i,o){var c={};function d(Z,s,$){$||($=Error);var et=function(ut){var gt,lt;function ft(ot,yt,wt){return ut.call(this,function(Rt,Mt,Tt){return typeof s=="string"?s:s(Rt,Mt,Tt)}(ot,yt,wt))||this}return lt=ut,(gt=ft).prototype=Object.create(lt.prototype),gt.prototype.constructor=gt,gt.__proto__=lt,ft}($);et.prototype.name=$.name,et.prototype.code=Z,c[Z]=et}function j(Z,s){if(Array.isArray(Z)){var $=Z.length;return Z=Z.map(function(et){return String(et)}),$>2?"one of ".concat(s," ").concat(Z.slice(0,$-1).join(", "),", or ")+Z[$-1]:$===2?"one of ".concat(s," ").concat(Z[0]," or ").concat(Z[1]):"of ".concat(s," ").concat(Z[0])}return"of ".concat(s," ").concat(String(Z))}d("ERR_INVALID_OPT_VALUE",function(Z,s){return'The value "'+s+'" is invalid for option "'+Z+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(Z,s,$){var et,ut,gt;if(typeof s=="string"&&(ut="not ",s.substr(0,ut.length)===ut)?(et="must not be",s=s.replace(/^not /,"")):et="must be",function(ft,ot,yt){return(yt===void 0||yt>ft.length)&&(yt=ft.length),ft.substring(yt-ot.length,yt)===ot}(Z," argument"))gt="The ".concat(Z," ").concat(et," ").concat(j(s,"type"));else{var lt=function(ft,ot,yt){return typeof yt!="number"&&(yt=0),!(yt+ot.length>ft.length)&&ft.indexOf(ot,yt)!==-1}(Z,".")?"property":"argument";gt='The "'.concat(Z,'" ').concat(lt," ").concat(et," ").concat(j(s,"type"))}return gt+=". Received type ".concat(typeof $)},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(Z){return"The "+Z+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(Z){return"Cannot call "+Z+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(Z){return"Unknown encoding: "+Z},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.codes=c},function(e,i,o){(function(c){var d=Object.keys||function(ft){var ot=[];for(var yt in ft)ot.push(yt);return ot};e.exports=ut;var j=o(75),Z=o(79);o(6)(ut,j);for(var s=d(Z.prototype),$=0;$<s.length;$++){var et=s[$];ut.prototype[et]||(ut.prototype[et]=Z.prototype[et])}function ut(ft){if(!(this instanceof ut))return new ut(ft);j.call(this,ft),Z.call(this,ft),this.allowHalfOpen=!0,ft&&(ft.readable===!1&&(this.readable=!1),ft.writable===!1&&(this.writable=!1),ft.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",gt)))}function gt(){this._writableState.ended||c.nextTick(lt,this)}function lt(ft){ft.end()}Object.defineProperty(ut.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(ut.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(ut.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(ut.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ft){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ft,this._writableState.destroyed=ft)}})}).call(this,o(2))},function(e,i,o){o.d(i,"a",function(){return Z});var c=o(36),d=o(7);const j={"app-id":["app-id must match formant/*"]};class Z extends c.a{constructor($,et={}){super($,Object.assign({validateHeaders:ut=>`${ut.get("app-id")}`.startsWith("formant/")?{}:j,headers:Object.assign(Object.assign({},Z.headers),{"App-ID":`formant/${d.a}`,"App-Version":d.j})},et)),this.endpoint=$}}Z.headers={}},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c,d=c.length){if(!d)throw new Error("arity is undefined");return function(...j){return typeof j[d-1]=="function"?c.apply(this,j):new Promise((Z,s)=>{j[d-1]=($,...et)=>{if($)return s($);Z(et.length>1?et:et[0])},c.apply(this,j)})}},e.exports=i.default},function(e,i,o){(i=e.exports=o(67)).Stream=i,i.Readable=i,i.Writable=o(44),i.Duplex=o(20),i.Transform=o(70),i.PassThrough=o(164)},function(e,i,o){(i=e.exports=o(75)).Stream=i,i.Readable=i,i.Writable=o(79),i.Duplex=o(25),i.Transform=o(80),i.PassThrough=o(183),i.finished=o(45),i.pipeline=o(184)},function(e,i,o){o.d(i,"a",function(){return d});const c=["password","secret","token","key","buffer"];function d(j,Z=new Set){return Z.has(j)?"[ RECURSIVE ]":!(s=j)||typeof s!="object"&&typeof s!="function"?j:(Z.add(j),Object.keys(j).reduce(($,et)=>($[et]=c.some(ut=>et.toLowerCase().includes(ut.toLowerCase()))?"[ REDACTED ]":d(j[et],Z),$),{}));var s}},function(e,i){e.exports=c,c.default=c,c.stable=j,c.stableStringify=j;var o=[];function c(Z,s,$){(function gt(lt,ft,ot,yt){var wt;if(typeof lt=="object"&&lt!==null){for(wt=0;wt<ot.length;wt++)if(ot[wt]===lt)return yt[ft]="[Circular]",void o.push([yt,ft,lt]);if(ot.push(lt),Array.isArray(lt))for(wt=0;wt<lt.length;wt++)gt(lt[wt],wt,ot,lt);else{var Rt=Object.keys(lt);for(wt=0;wt<Rt.length;wt++){var Mt=Rt[wt];gt(lt[Mt],Mt,ot,lt)}}ot.pop()}})(Z,"",[],void 0);for(var et=JSON.stringify(Z,s,$);o.length!==0;){var ut=o.pop();ut[0][ut[1]]=ut[2]}return et}function d(Z,s){return Z<s?-1:Z>s?1:0}function j(Z,s,$){for(var et=function lt(ft,ot,yt,wt){var Rt;if(typeof ft=="object"&&ft!==null){for(Rt=0;Rt<yt.length;Rt++)if(yt[Rt]===ft)return wt[ot]="[Circular]",void o.push([wt,ot,ft]);if(typeof ft.toJSON=="function")return;if(yt.push(ft),Array.isArray(ft))for(Rt=0;Rt<ft.length;Rt++)lt(ft[Rt],Rt,yt,ft);else{var Mt={},Tt=Object.keys(ft).sort(d);for(Rt=0;Rt<Tt.length;Rt++){var Ct=Tt[Rt];lt(ft[Ct],Ct,yt,ft),Mt[Ct]=ft[Ct]}if(wt===void 0)return Mt;o.push([wt,ot,ft]),wt[ot]=Mt}yt.pop()}}(Z,"",[],void 0)||Z,ut=JSON.stringify(et,s,$);o.length!==0;){var gt=o.pop();gt[0][gt[1]]=gt[2]}return ut}},function(e,i,o){var c=o(13),d=Object.keys||function(ot){var yt=[];for(var wt in ot)yt.push(wt);return yt};e.exports=gt;var j=Object.create(o(14));j.inherits=o(6);var Z=o(142),s=o(60);j.inherits(gt,Z);for(var $=d(s.prototype),et=0;et<$.length;et++){var ut=$[et];gt.prototype[ut]||(gt.prototype[ut]=s.prototype[ut])}function gt(ot){if(!(this instanceof gt))return new gt(ot);Z.call(this,ot),s.call(this,ot),ot&&ot.readable===!1&&(this.readable=!1),ot&&ot.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,ot&&ot.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",lt)}function lt(){this.allowHalfOpen||this._writableState.ended||c.nextTick(ft,this)}function ft(ot){ot.end()}Object.defineProperty(gt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(gt.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(ot){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=ot,this._writableState.destroyed=ot)}}),gt.prototype._destroy=function(ot,yt){this.push(null),this.end(),c.nextTick(yt,ot)}},function(e,i,o){var c=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";function d(s,$){return Object.prototype.hasOwnProperty.call(s,$)}i.assign=function(s){for(var $=Array.prototype.slice.call(arguments,1);$.length;){var et=$.shift();if(et){if(typeof et!="object")throw new TypeError(et+"must be non-object");for(var ut in et)d(et,ut)&&(s[ut]=et[ut])}}return s},i.shrinkBuf=function(s,$){return s.length===$?s:s.subarray?s.subarray(0,$):(s.length=$,s)};var j={arraySet:function(s,$,et,ut,gt){if($.subarray&&s.subarray)s.set($.subarray(et,et+ut),gt);else for(var lt=0;lt<ut;lt++)s[gt+lt]=$[et+lt]},flattenChunks:function(s){var $,et,ut,gt,lt,ft;for(ut=0,$=0,et=s.length;$<et;$++)ut+=s[$].length;for(ft=new Uint8Array(ut),gt=0,$=0,et=s.length;$<et;$++)lt=s[$],ft.set(lt,gt),gt+=lt.length;return ft}},Z={arraySet:function(s,$,et,ut,gt){for(var lt=0;lt<ut;lt++)s[gt+lt]=$[et+lt]},flattenChunks:function(s){return[].concat.apply([],s)}};i.setTyped=function(s){s?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,j)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,Z))},i.setTyped(c)},function(e,i,o){e.exports=o(185)},function(e,i,o){e.exports=function(c){return c}},function(e,i,o){o.d(i,"a",function(){return Rt});var c=o(11),d=o(0);function j(Mt,Tt,Ct=()=>!0){if(Mt instanceof Tt&&Ct(Mt))return Mt;throw Mt}var Z=o(1),s=o(100),$=o.n(s),et=o(101),ut=o.n(et);class gt extends Error{constructor(Tt,Ct,ct){super(`Connection failure: ${Tt.message}`),this.cause=Tt,this.url=Ct,this.retryable=ct}}var lt=o(30);class ft extends Error{constructor(Tt,Ct,ct,Lt,Kt={},Yt){super(`Unexpected response (${ct}) for ${Tt} ${Ct}: ${JSON.stringify(Yt?Object(lt.a)([...Yt.entries()].reduce((pt,[dt,bt])=>(pt[dt]=bt,pt),{})):{})} -- ${JSON.stringify(Object(lt.a)(Lt))}`),this.method=Tt,this.url=Ct,this.statusCode=ct,this.body=Lt,this.validationErrors=Kt,this.headers=Yt}}class ot extends Error{constructor(Tt,Ct){super(`Invalid headers (${JSON.stringify(Tt)}) for response: ${Ct.message}`),this.validationErrors=Tt,this.responseError=Ct}}var yt=function(Mt,Tt,Ct,ct){return new(Ct||(Ct=Promise))(function(Lt,Kt){function Yt(bt){try{dt(ct.next(bt))}catch(mt){Kt(mt)}}function pt(bt){try{dt(ct.throw(bt))}catch(mt){Kt(mt)}}function dt(bt){var mt;bt.done?Lt(bt.value):(mt=bt.value,mt instanceof Ct?mt:new Ct(function(jt){jt(mt)})).then(Yt,pt)}dt((ct=ct.apply(Mt,Tt||[])).next())})},wt=function(Mt,Tt){var Ct={};for(var ct in Mt)Object.prototype.hasOwnProperty.call(Mt,ct)&&Tt.indexOf(ct)<0&&(Ct[ct]=Mt[ct]);if(Mt!=null&&typeof Object.getOwnPropertySymbols=="function"){var Lt=0;for(ct=Object.getOwnPropertySymbols(Mt);Lt<ct.length;Lt++)Tt.indexOf(ct[Lt])<0&&Object.prototype.propertyIsEnumerable.call(Mt,ct[Lt])&&(Ct[ct[Lt]]=Mt[ct[Lt]])}return Ct};class Rt{constructor(Tt,Ct={}){if(this.endpoint=Tt,this.validateHeaders=ct=>Ct.validateHeaders?Ct.validateHeaders(ct):{},this.verbose=Ct.verbose!==!1,this.retries=Ct.retries!==void 0?Ct.retries:Rt.retries,this.headers=Ct.headers||{},this.timeoutMs=Ct.timeoutMs,!(this.retries>=0))throw new Error("retries must be positive or zero");if(this.timeoutMs!==void 0&&!(this.timeoutMs>0))throw new Error("timeoutMs must be positive")}fetch(Tt,Ct={}){return yt(this,void 0,void 0,function*(){return(yield this.fetchVerbose(Tt,Ct)).body})}fetchVerbose(Tt,Ct={}){return yt(this,void 0,void 0,function*(){let ct=100*Z.a.millisecond,Lt=0;const Kt=this.timeoutMs!==void 0?new Date().getTime()+this.timeoutMs:void 0,Yt=Kt?()=>Math.max(Kt-new Date().getTime(),0):void 0;for(;;)try{return yield this.doFetch(Tt,Ct,Yt)}catch(pt){const dt=j(pt,gt);if((Yt==null?void 0:Yt())===0||Lt===this.retries||!dt.retryable&&!Ct.allowUnsafeRetries)throw dt;Lt++,ct*=2+.1*(Math.random()-.5),yield Object(c.a)(Yt?Math.min(ct,Yt()):ct),this.verbose&&d.a.warn(`Connection failure, retrying. Error: ${pt.cause.message}`,{url:pt.url,error:pt.cause})}})}doFetch(Tt,Ct,ct){return yt(this,void 0,void 0,function*(){const{token:Lt,json:Kt}=Ct,Yt=wt(Ct,["token","json"]),pt=(Yt.method||"GET").toUpperCase(),dt=pt!=="POST"&&pt!=="PATCH",bt=this.endpoint!==void 0?`${this.endpoint}${Tt?`/${Tt}`:""}`:Tt,mt=new $.a;let jt;if(ct){const zt=ct();zt>0?jt=setTimeout(()=>{mt.abort()},zt):mt.abort()}try{let zt;yield Promise.race([Rt.waitForConnectivity(),new Promise(Bt=>{zt=setTimeout(Bt,ct?Math.min(Z.a.minute,ct()):Z.a.minute)})]),zt&&clearTimeout(zt);const kt=yield ut()(bt,Object.assign(Object.assign({},Yt),{headers:Object.assign(Object.assign(Object.assign(Object.assign({},Kt!==!1?{"Content-Type":"application/json"}:{}),this.headers),Yt.headers||{}),Lt!==void 0?{Authorization:`Bearer ${Lt}`}:{}),signal:mt.signal})),St=kt.headers.get("content-type")||"",Dt=St&&St.startsWith("application/json"),Nt=Dt?yield kt.json():yield kt.text(),_t=()=>new ft(pt,bt,kt.status,Nt,Nt&&Nt.validationErrors||{},kt.headers);if(!kt.ok)throw this.verbose&&d.a[kt.status>=500?"warn":"info"]("Response error",{method:pt,url:bt,statusCode:kt.status}),_t();const at=this.validateHeaders(kt.headers);if(Object.keys(at).length!==0)throw new ot(at,_t());if(kt.status===204)return{body:void 0,headers:kt.headers};if(Kt&&!Dt)throw new Error(`Response is not JSON: ${JSON.stringify(Nt)}`);return{body:Nt,headers:kt.headers}}catch(zt){if(zt.message==="Network request failed")throw new gt(zt,bt,dt);if(zt.type==="system"&&["EAI_AGAIN","ECONNREFUSED","EHOSTUNREACH","ENOTFOUND"].find(Nt=>Nt===zt.code))throw new gt(zt,bt,!0);if(zt.type==="system"&&["ETIMEDOUT","ECONNRESET","ESOCKETTIMEDOUT","EPIPE"].find(Nt=>Nt===zt.code))throw new gt(zt,bt,dt);if(zt.name==="AbortError")throw new gt(zt,bt,dt);const kt=j(zt,ft),{statusCode:St}=kt;if(St===408||St===429||St===502||St===503||St===504)throw this.verbose&&!dt&&d.a.warn("Potentially unsafe retry"),new gt(zt,bt,!0);const Dt=this.validateHeaders(kt.headers);throw Object.keys(Dt).length!==0?new ot(Dt,kt):(yield Rt.onResponseError(kt),zt)}finally{jt&&clearTimeout(jt)}})}}Rt.retries=8,Rt.waitForConnectivity=()=>yt(void 0,void 0,void 0,function*(){}),Rt.onResponseError=()=>yt(void 0,void 0,void 0,function*(){})},function(e,i,o){function c(gt,lt){if(!(gt instanceof lt))throw new TypeError("Cannot call a class as a function")}function d(gt,lt){for(var ft=0;ft<lt.length;ft++){var ot=lt[ft];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(gt,ot.key,ot)}}var j=o(57),Z=o(3),s=Z.LEVEL,$=Z.MESSAGE;j.enabled=!0;var et=/\s+/,ut=function(){function gt(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c(this,gt),yt.colors&&this.addColors(yt.colors),this.options=yt}var lt,ft,ot;return lt=gt,ot=[{key:"addColors",value:function(yt){var wt=Object.keys(yt).reduce(function(Rt,Mt){return Rt[Mt]=et.test(yt[Mt])?yt[Mt].split(et):yt[Mt],Rt},{});return gt.allColors=Object.assign({},gt.allColors||{},wt),gt.allColors}}],(ft=[{key:"addColors",value:function(yt){return gt.addColors(yt)}},{key:"colorize",value:function(yt,wt,Rt){if(Rt===void 0&&(Rt=wt),!Array.isArray(gt.allColors[yt]))return j[gt.allColors[yt]](Rt);for(var Mt=0,Tt=gt.allColors[yt].length;Mt<Tt;Mt++)Rt=j[gt.allColors[yt][Mt]](Rt);return Rt}},{key:"transform",value:function(yt,wt){return wt.all&&typeof yt[$]=="string"&&(yt[$]=this.colorize(yt[s],yt.level,yt[$])),(wt.level||wt.all||!wt.message)&&(yt.level=this.colorize(yt[s],yt.level)),(wt.all||wt.message)&&(yt.message=this.colorize(yt[s],yt.level,yt.message)),yt}}])&&d(lt.prototype,ft),ot&&d(lt,ot),gt}();e.exports=function(gt){return new ut(gt)},e.exports.Colorizer=e.exports.Format=ut},function(e,i){var o={}.toString;e.exports=Array.isArray||function(c){return o.call(c)=="[object Array]"}},function(e,i,o){(function(c){function d(j){try{if(!c.localStorage)return!1}catch{return!1}var Z=c.localStorage[j];return Z!=null&&String(Z).toLowerCase()==="true"}e.exports=function(j,Z){if(d("noDeprecation"))return j;var s=!1;return function(){if(!s){if(d("throwDeprecation"))throw new Error(Z);d("traceDeprecation")?console.trace(Z):console.warn(Z),s=!0}return j.apply(this,arguments)}}}).call(this,o(5))},function(e,i,o){var c=o(4),d=c.Buffer;function j(s,$){for(var et in s)$[et]=s[et]}function Z(s,$,et){return d(s,$,et)}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(j(c,i),i.Buffer=Z),j(d,Z),Z.from=function(s,$,et){if(typeof s=="number")throw new TypeError("Argument must not be a number");return d(s,$,et)},Z.alloc=function(s,$,et){if(typeof s!="number")throw new TypeError("Argument must be a number");var ut=d(s);return $!==void 0?typeof et=="string"?ut.fill($,et):ut.fill($):ut.fill(0),ut},Z.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return d(s)},Z.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(s)}},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return c&&typeof c.length=="number"&&c.length>=0&&c.length%1==0},e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default={},e.exports=i.default},function(e,i,o){var c=o(4),d=c.Buffer;function j(s,$){for(var et in s)$[et]=s[et]}function Z(s,$,et){return d(s,$,et)}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(j(c,i),i.Buffer=Z),j(d,Z),Z.from=function(s,$,et){if(typeof s=="number")throw new TypeError("Argument must not be a number");return d(s,$,et)},Z.alloc=function(s,$,et){if(typeof s!="number")throw new TypeError("Argument must be a number");var ut=d(s);return $!==void 0?typeof et=="string"?ut.fill($,et):ut.fill($):ut.fill(0),ut},Z.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return d(s)},Z.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(s)}},function(e,i,o){(function(c,d,j){var Z=o(13);function s(dt){var bt=this;this.next=null,this.entry=null,this.finish=function(){(function(mt,jt,zt){var kt=mt.entry;for(mt.entry=null;kt;){var St=kt.callback;jt.pendingcb--,St(zt),kt=kt.next}jt.corkedRequestsFree?jt.corkedRequestsFree.next=mt:jt.corkedRequestsFree=mt})(bt,dt)}}e.exports=Tt;var $,et=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?d:Z.nextTick;Tt.WritableState=Mt;var ut=o(14);ut.inherits=o(6);var gt={deprecate:o(39)},lt=o(68),ft=o(43).Buffer,ot=j.Uint8Array||function(){},yt,wt=o(69);function Rt(){}function Mt(dt,bt){$=$||o(20),dt=dt||{};var mt=bt instanceof $;this.objectMode=!!dt.objectMode,mt&&(this.objectMode=this.objectMode||!!dt.writableObjectMode);var jt=dt.highWaterMark,zt=dt.writableHighWaterMark,kt=this.objectMode?16:16384;this.highWaterMark=jt||jt===0?jt:mt&&(zt||zt===0)?zt:kt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var St=dt.decodeStrings===!1;this.decodeStrings=!St,this.defaultEncoding=dt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Dt){(function(Nt,_t){var at=Nt._writableState,Bt=at.sync,Vt=at.writecb;if(function(or){or.writing=!1,or.writecb=null,or.length-=or.writelen,or.writelen=0}(at),_t)(function(or,ar,qt,Gt,vt){--ar.pendingcb,qt?(Z.nextTick(vt,Gt),Z.nextTick(pt,or,ar),or._writableState.errorEmitted=!0,or.emit("error",Gt)):(vt(Gt),or._writableState.errorEmitted=!0,or.emit("error",Gt),pt(or,ar))})(Nt,at,Bt,_t,Vt);else{var Qt=Kt(at);Qt||at.corked||at.bufferProcessing||!at.bufferedRequest||Lt(Nt,at),Bt?et(ct,Nt,at,Qt,Vt):ct(Nt,at,Qt,Vt)}})(bt,Dt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function Tt(dt){if($=$||o(20),!(yt.call(Tt,this)||this instanceof $))return new Tt(dt);this._writableState=new Mt(dt,this),this.writable=!0,dt&&(typeof dt.write=="function"&&(this._write=dt.write),typeof dt.writev=="function"&&(this._writev=dt.writev),typeof dt.destroy=="function"&&(this._destroy=dt.destroy),typeof dt.final=="function"&&(this._final=dt.final)),lt.call(this)}function Ct(dt,bt,mt,jt,zt,kt,St){bt.writelen=jt,bt.writecb=St,bt.writing=!0,bt.sync=!0,mt?dt._writev(zt,bt.onwrite):dt._write(zt,kt,bt.onwrite),bt.sync=!1}function ct(dt,bt,mt,jt){mt||function(zt,kt){kt.length===0&&kt.needDrain&&(kt.needDrain=!1,zt.emit("drain"))}(dt,bt),bt.pendingcb--,jt(),pt(dt,bt)}function Lt(dt,bt){bt.bufferProcessing=!0;var mt=bt.bufferedRequest;if(dt._writev&&mt&&mt.next){var jt=bt.bufferedRequestCount,zt=new Array(jt),kt=bt.corkedRequestsFree;kt.entry=mt;for(var St=0,Dt=!0;mt;)zt[St]=mt,mt.isBuf||(Dt=!1),mt=mt.next,St+=1;zt.allBuffers=Dt,Ct(dt,bt,!0,bt.length,zt,"",kt.finish),bt.pendingcb++,bt.lastBufferedRequest=null,kt.next?(bt.corkedRequestsFree=kt.next,kt.next=null):bt.corkedRequestsFree=new s(bt),bt.bufferedRequestCount=0}else{for(;mt;){var Nt=mt.chunk,_t=mt.encoding,at=mt.callback;if(Ct(dt,bt,!1,bt.objectMode?1:Nt.length,Nt,_t,at),mt=mt.next,bt.bufferedRequestCount--,bt.writing)break}mt===null&&(bt.lastBufferedRequest=null)}bt.bufferedRequest=mt,bt.bufferProcessing=!1}function Kt(dt){return dt.ending&&dt.length===0&&dt.bufferedRequest===null&&!dt.finished&&!dt.writing}function Yt(dt,bt){dt._final(function(mt){bt.pendingcb--,mt&&dt.emit("error",mt),bt.prefinished=!0,dt.emit("prefinish"),pt(dt,bt)})}function pt(dt,bt){var mt=Kt(bt);return mt&&(function(jt,zt){zt.prefinished||zt.finalCalled||(typeof jt._final=="function"?(zt.pendingcb++,zt.finalCalled=!0,Z.nextTick(Yt,jt,zt)):(zt.prefinished=!0,jt.emit("prefinish")))}(dt,bt),bt.pendingcb===0&&(bt.finished=!0,dt.emit("finish"))),mt}ut.inherits(Tt,lt),Mt.prototype.getBuffer=function(){for(var dt=this.bufferedRequest,bt=[];dt;)bt.push(dt),dt=dt.next;return bt},function(){try{Object.defineProperty(Mt.prototype,"buffer",{get:gt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Tt,Symbol.hasInstance,{value:function(dt){return!!yt.call(this,dt)||this===Tt&&dt&&dt._writableState instanceof Mt}})):yt=function(dt){return dt instanceof this},Tt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Tt.prototype.write=function(dt,bt,mt){var jt,zt=this._writableState,kt=!1,St=!zt.objectMode&&(jt=dt,ft.isBuffer(jt)||jt instanceof ot);return St&&!ft.isBuffer(dt)&&(dt=function(Dt){return ft.from(Dt)}(dt)),typeof bt=="function"&&(mt=bt,bt=null),St?bt="buffer":bt||(bt=zt.defaultEncoding),typeof mt!="function"&&(mt=Rt),zt.ended?function(Dt,Nt){var _t=new Error("write after end");Dt.emit("error",_t),Z.nextTick(Nt,_t)}(this,mt):(St||function(Dt,Nt,_t,at){var Bt=!0,Vt=!1;return _t===null?Vt=new TypeError("May not write null values to stream"):typeof _t=="string"||_t===void 0||Nt.objectMode||(Vt=new TypeError("Invalid non-string/buffer chunk")),Vt&&(Dt.emit("error",Vt),Z.nextTick(at,Vt),Bt=!1),Bt}(this,zt,dt,mt))&&(zt.pendingcb++,kt=function(Dt,Nt,_t,at,Bt,Vt){if(!_t){var Qt=function(Gt,vt,At){return Gt.objectMode||Gt.decodeStrings===!1||typeof vt!="string"||(vt=ft.from(vt,At)),vt}(Nt,at,Bt);at!==Qt&&(_t=!0,Bt="buffer",at=Qt)}var or=Nt.objectMode?1:at.length;Nt.length+=or;var ar=Nt.length<Nt.highWaterMark;if(ar||(Nt.needDrain=!0),Nt.writing||Nt.corked){var qt=Nt.lastBufferedRequest;Nt.lastBufferedRequest={chunk:at,encoding:Bt,isBuf:_t,callback:Vt,next:null},qt?qt.next=Nt.lastBufferedRequest:Nt.bufferedRequest=Nt.lastBufferedRequest,Nt.bufferedRequestCount+=1}else Ct(Dt,Nt,!1,or,at,Bt,Vt);return ar}(this,zt,St,dt,bt,mt)),kt},Tt.prototype.cork=function(){this._writableState.corked++},Tt.prototype.uncork=function(){var dt=this._writableState;dt.corked&&(dt.corked--,dt.writing||dt.corked||dt.finished||dt.bufferProcessing||!dt.bufferedRequest||Lt(this,dt))},Tt.prototype.setDefaultEncoding=function(dt){if(typeof dt=="string"&&(dt=dt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((dt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+dt);return this._writableState.defaultEncoding=dt,this},Object.defineProperty(Tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Tt.prototype._write=function(dt,bt,mt){mt(new Error("_write() is not implemented"))},Tt.prototype._writev=null,Tt.prototype.end=function(dt,bt,mt){var jt=this._writableState;typeof dt=="function"?(mt=dt,dt=null,bt=null):typeof bt=="function"&&(mt=bt,bt=null),dt!=null&&this.write(dt,bt),jt.corked&&(jt.corked=1,this.uncork()),jt.ending||jt.finished||function(zt,kt,St){kt.ending=!0,pt(zt,kt),St&&(kt.finished?Z.nextTick(St):zt.once("finish",St)),kt.ended=!0,zt.writable=!1}(this,jt,mt)},Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(dt){this._writableState&&(this._writableState.destroyed=dt)}}),Tt.prototype.destroy=wt.destroy,Tt.prototype._undestroy=wt.undestroy,Tt.prototype._destroy=function(dt,bt){this.end(),bt(dt)}}).call(this,o(2),o(12).setImmediate,o(5))},function(e,i,o){var c=o(24).codes.ERR_STREAM_PREMATURE_CLOSE;function d(){}e.exports=function j(Z,s,$){if(typeof s=="function")return j(Z,null,s);s||(s={}),$=function(Tt){var Ct=!1;return function(){if(!Ct){Ct=!0;for(var ct=arguments.length,Lt=new Array(ct),Kt=0;Kt<ct;Kt++)Lt[Kt]=arguments[Kt];Tt.apply(this,Lt)}}}($||d);var et=s.readable||s.readable!==!1&&Z.readable,ut=s.writable||s.writable!==!1&&Z.writable,gt=function(){Z.writable||ft()},lt=Z._writableState&&Z._writableState.finished,ft=function(){ut=!1,lt=!0,et||$.call(Z)},ot=Z._readableState&&Z._readableState.endEmitted,yt=function(){et=!1,ot=!0,ut||$.call(Z)},wt=function(Tt){$.call(Z,Tt)},Rt=function(){var Tt;return et&&!ot?(Z._readableState&&Z._readableState.ended||(Tt=new c),$.call(Z,Tt)):ut&&!lt?(Z._writableState&&Z._writableState.ended||(Tt=new c),$.call(Z,Tt)):void 0},Mt=function(){Z.req.on("finish",ft)};return function(Tt){return Tt.setHeader&&typeof Tt.abort=="function"}(Z)?(Z.on("complete",ft),Z.on("abort",Rt),Z.req?Mt():Z.on("request",Mt)):ut&&!Z._writableState&&(Z.on("end",gt),Z.on("close",gt)),Z.on("end",yt),Z.on("finish",ft),s.error!==!1&&Z.on("error",wt),Z.on("close",Rt),function(){Z.removeListener("complete",ft),Z.removeListener("abort",Rt),Z.removeListener("request",Mt),Z.req&&Z.req.removeListener("finish",ft),Z.removeListener("end",gt),Z.removeListener("close",gt),Z.removeListener("finish",ft),Z.removeListener("end",yt),Z.removeListener("error",wt),Z.removeListener("close",Rt)}}},function(e,i,o){var c=o(193),d=o(195);function j(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}i.parse=Tt,i.resolve=function(Ct,ct){return Tt(Ct,!1,!0).resolve(ct)},i.resolveObject=function(Ct,ct){return Ct?Tt(Ct,!1,!0).resolveObject(ct):ct},i.format=function(Ct){return d.isString(Ct)&&(Ct=Tt(Ct)),Ct instanceof j?Ct.format():j.prototype.format.call(Ct)},i.Url=j;var Z=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,$=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,et=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),ut=["'"].concat(et),gt=["%","/","?",";","#"].concat(ut),lt=["/","?","#"],ft=/^[+a-z0-9A-Z_-]{0,63}$/,ot=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,yt={javascript:!0,"javascript:":!0},wt={javascript:!0,"javascript:":!0},Rt={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Mt=o(196);function Tt(Ct,ct,Lt){if(Ct&&d.isObject(Ct)&&Ct instanceof j)return Ct;var Kt=new j;return Kt.parse(Ct,ct,Lt),Kt}j.prototype.parse=function(Ct,ct,Lt){if(!d.isString(Ct))throw new TypeError("Parameter 'url' must be a string, not "+typeof Ct);var Kt=Ct.indexOf("?"),Yt=Kt!==-1&&Kt<Ct.indexOf("#")?"?":"#",pt=Ct.split(Yt);pt[0]=pt[0].replace(/\\/g,"/");var dt=Ct=pt.join(Yt);if(dt=dt.trim(),!Lt&&Ct.split("#").length===1){var bt=$.exec(dt);if(bt)return this.path=dt,this.href=dt,this.pathname=bt[1],bt[2]?(this.search=bt[2],this.query=ct?Mt.parse(this.search.substr(1)):this.search.substr(1)):ct&&(this.search="",this.query={}),this}var mt=Z.exec(dt);if(mt){var jt=(mt=mt[0]).toLowerCase();this.protocol=jt,dt=dt.substr(mt.length)}if(Lt||mt||dt.match(/^\/\/[^@\/]+@[^@\/]+/)){var zt=dt.substr(0,2)==="//";!zt||mt&&wt[mt]||(dt=dt.substr(2),this.slashes=!0)}if(!wt[mt]&&(zt||mt&&!Rt[mt])){for(var kt,St,Dt=-1,Nt=0;Nt<lt.length;Nt++)(_t=dt.indexOf(lt[Nt]))!==-1&&(Dt===-1||_t<Dt)&&(Dt=_t);for((St=Dt===-1?dt.lastIndexOf("@"):dt.lastIndexOf("@",Dt))!==-1&&(kt=dt.slice(0,St),dt=dt.slice(St+1),this.auth=decodeURIComponent(kt)),Dt=-1,Nt=0;Nt<gt.length;Nt++){var _t;(_t=dt.indexOf(gt[Nt]))!==-1&&(Dt===-1||_t<Dt)&&(Dt=_t)}Dt===-1&&(Dt=dt.length),this.host=dt.slice(0,Dt),dt=dt.slice(Dt),this.parseHost(),this.hostname=this.hostname||"";var at=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!at)for(var Bt=this.hostname.split(/\./),Vt=(Nt=0,Bt.length);Nt<Vt;Nt++){var Qt=Bt[Nt];if(Qt&&!Qt.match(ft)){for(var or="",ar=0,qt=Qt.length;ar<qt;ar++)Qt.charCodeAt(ar)>127?or+="x":or+=Qt[ar];if(!or.match(ft)){var Gt=Bt.slice(0,Nt),vt=Bt.slice(Nt+1),At=Qt.match(ot);At&&(Gt.push(At[1]),vt.unshift(At[2])),vt.length&&(dt="/"+vt.join(".")+dt),this.hostname=Gt.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),at||(this.hostname=c.toASCII(this.hostname));var It=this.port?":"+this.port:"",Ht=this.hostname||"";this.host=Ht+It,this.href+=this.host,at&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),dt[0]!=="/"&&(dt="/"+dt))}if(!yt[jt])for(Nt=0,Vt=ut.length;Nt<Vt;Nt++){var Zt=ut[Nt];if(dt.indexOf(Zt)!==-1){var rr=encodeURIComponent(Zt);rr===Zt&&(rr=escape(Zt)),dt=dt.split(Zt).join(rr)}}var pr=dt.indexOf("#");pr!==-1&&(this.hash=dt.substr(pr),dt=dt.slice(0,pr));var _r=dt.indexOf("?");if(_r!==-1?(this.search=dt.substr(_r),this.query=dt.substr(_r+1),ct&&(this.query=Mt.parse(this.query)),dt=dt.slice(0,_r)):ct&&(this.search="",this.query={}),dt&&(this.pathname=dt),Rt[jt]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){It=this.pathname||"";var ir=this.search||"";this.path=It+ir}return this.href=this.format(),this},j.prototype.format=function(){var Ct=this.auth||"";Ct&&(Ct=(Ct=encodeURIComponent(Ct)).replace(/%3A/i,":"),Ct+="@");var ct=this.protocol||"",Lt=this.pathname||"",Kt=this.hash||"",Yt=!1,pt="";this.host?Yt=Ct+this.host:this.hostname&&(Yt=Ct+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Yt+=":"+this.port)),this.query&&d.isObject(this.query)&&Object.keys(this.query).length&&(pt=Mt.stringify(this.query));var dt=this.search||pt&&"?"+pt||"";return ct&&ct.substr(-1)!==":"&&(ct+=":"),this.slashes||(!ct||Rt[ct])&&Yt!==!1?(Yt="//"+(Yt||""),Lt&&Lt.charAt(0)!=="/"&&(Lt="/"+Lt)):Yt||(Yt=""),Kt&&Kt.charAt(0)!=="#"&&(Kt="#"+Kt),dt&&dt.charAt(0)!=="?"&&(dt="?"+dt),ct+Yt+(Lt=Lt.replace(/[?#]/g,function(bt){return encodeURIComponent(bt)}))+(dt=dt.replace("#","%23"))+Kt},j.prototype.resolve=function(Ct){return this.resolveObject(Tt(Ct,!1,!0)).format()},j.prototype.resolveObject=function(Ct){if(d.isString(Ct)){var ct=new j;ct.parse(Ct,!1,!0),Ct=ct}for(var Lt=new j,Kt=Object.keys(this),Yt=0;Yt<Kt.length;Yt++){var pt=Kt[Yt];Lt[pt]=this[pt]}if(Lt.hash=Ct.hash,Ct.href==="")return Lt.href=Lt.format(),Lt;if(Ct.slashes&&!Ct.protocol){for(var dt=Object.keys(Ct),bt=0;bt<dt.length;bt++){var mt=dt[bt];mt!=="protocol"&&(Lt[mt]=Ct[mt])}return Rt[Lt.protocol]&&Lt.hostname&&!Lt.pathname&&(Lt.path=Lt.pathname="/"),Lt.href=Lt.format(),Lt}if(Ct.protocol&&Ct.protocol!==Lt.protocol){if(!Rt[Ct.protocol]){for(var jt=Object.keys(Ct),zt=0;zt<jt.length;zt++){var kt=jt[zt];Lt[kt]=Ct[kt]}return Lt.href=Lt.format(),Lt}if(Lt.protocol=Ct.protocol,Ct.host||wt[Ct.protocol])Lt.pathname=Ct.pathname;else{for(var St=(Ct.pathname||"").split("/");St.length&&!(Ct.host=St.shift()););Ct.host||(Ct.host=""),Ct.hostname||(Ct.hostname=""),St[0]!==""&&St.unshift(""),St.length<2&&St.unshift(""),Lt.pathname=St.join("/")}if(Lt.search=Ct.search,Lt.query=Ct.query,Lt.host=Ct.host||"",Lt.auth=Ct.auth,Lt.hostname=Ct.hostname||Ct.host,Lt.port=Ct.port,Lt.pathname||Lt.search){var Dt=Lt.pathname||"",Nt=Lt.search||"";Lt.path=Dt+Nt}return Lt.slashes=Lt.slashes||Ct.slashes,Lt.href=Lt.format(),Lt}var _t=Lt.pathname&&Lt.pathname.charAt(0)==="/",at=Ct.host||Ct.pathname&&Ct.pathname.charAt(0)==="/",Bt=at||_t||Lt.host&&Ct.pathname,Vt=Bt,Qt=Lt.pathname&&Lt.pathname.split("/")||[],or=(St=Ct.pathname&&Ct.pathname.split("/")||[],Lt.protocol&&!Rt[Lt.protocol]);if(or&&(Lt.hostname="",Lt.port=null,Lt.host&&(Qt[0]===""?Qt[0]=Lt.host:Qt.unshift(Lt.host)),Lt.host="",Ct.protocol&&(Ct.hostname=null,Ct.port=null,Ct.host&&(St[0]===""?St[0]=Ct.host:St.unshift(Ct.host)),Ct.host=null),Bt=Bt&&(St[0]===""||Qt[0]==="")),at)Lt.host=Ct.host||Ct.host===""?Ct.host:Lt.host,Lt.hostname=Ct.hostname||Ct.hostname===""?Ct.hostname:Lt.hostname,Lt.search=Ct.search,Lt.query=Ct.query,Qt=St;else if(St.length)Qt||(Qt=[]),Qt.pop(),Qt=Qt.concat(St),Lt.search=Ct.search,Lt.query=Ct.query;else if(!d.isNullOrUndefined(Ct.search))return or&&(Lt.hostname=Lt.host=Qt.shift(),(At=!!(Lt.host&&Lt.host.indexOf("@")>0)&&Lt.host.split("@"))&&(Lt.auth=At.shift(),Lt.host=Lt.hostname=At.shift())),Lt.search=Ct.search,Lt.query=Ct.query,d.isNull(Lt.pathname)&&d.isNull(Lt.search)||(Lt.path=(Lt.pathname?Lt.pathname:"")+(Lt.search?Lt.search:"")),Lt.href=Lt.format(),Lt;if(!Qt.length)return Lt.pathname=null,Lt.search?Lt.path="/"+Lt.search:Lt.path=null,Lt.href=Lt.format(),Lt;for(var ar=Qt.slice(-1)[0],qt=(Lt.host||Ct.host||Qt.length>1)&&(ar==="."||ar==="..")||ar==="",Gt=0,vt=Qt.length;vt>=0;vt--)(ar=Qt[vt])==="."?Qt.splice(vt,1):ar===".."?(Qt.splice(vt,1),Gt++):Gt&&(Qt.splice(vt,1),Gt--);if(!Bt&&!Vt)for(;Gt--;Gt)Qt.unshift("..");!Bt||Qt[0]===""||Qt[0]&&Qt[0].charAt(0)==="/"||Qt.unshift(""),qt&&Qt.join("/").substr(-1)!=="/"&&Qt.push("");var At,It=Qt[0]===""||Qt[0]&&Qt[0].charAt(0)==="/";return or&&(Lt.hostname=Lt.host=It?"":Qt.length?Qt.shift():"",(At=!!(Lt.host&&Lt.host.indexOf("@")>0)&&Lt.host.split("@"))&&(Lt.auth=At.shift(),Lt.host=Lt.hostname=At.shift())),(Bt=Bt||Lt.host&&Qt.length)&&!It&&Qt.unshift(""),Qt.length?Lt.pathname=Qt.join("/"):(Lt.pathname=null,Lt.path=null),d.isNull(Lt.pathname)&&d.isNull(Lt.search)||(Lt.path=(Lt.pathname?Lt.pathname:"")+(Lt.search?Lt.search:"")),Lt.auth=Ct.auth||Lt.auth,Lt.slashes=Lt.slashes||Ct.slashes,Lt.href=Lt.format(),Lt},j.prototype.parseHost=function(){var Ct=this.host,ct=s.exec(Ct);ct&&((ct=ct[0])!==":"&&(this.port=ct.substr(1)),Ct=Ct.substr(0,Ct.length-ct.length)),Ct&&(this.hostname=Ct)}},function(e,i,o){var c=o(56),d=o(3).configs;i.cli=c.levels(d.cli),i.npm=c.levels(d.npm),i.syslog=c.levels(d.syslog),i.addColors=c.levels},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=s(o(202)),d=s(o(203)),j=s(o(23)),Z=s(o(27));function s($){return $&&$.__esModule?$:{default:$}}i.default=(0,Z.default)(function($,et,ut){return(0,c.default)($,(0,d.default)((0,j.default)(et)),ut)},3),e.exports=i.default},function(e,i,o){function c(d){Error.captureStackTrace(this,this.constructor),this.name="EnvVarError",this.message=`env-var: ${d}`}(0,o(10).inherits)(c,Error),e.exports=c},function(e,i,o){e.exports=function(c){const d=parseInt(c,10);if(isNaN(d)||c.toString().indexOf(".")!==-1)throw new Error("should be a valid integer");return d}},function(e,i,o){e.exports=function(c){const d=parseFloat(c);if(isNaN(d))throw new Error("should be a valid float");return d}},function(e,i,o){e.exports=function(c){try{return JSON.parse(c)}catch{throw new Error("should be valid (parseable) JSON")}}},function(e,i,o){(function(c){function d(s,$){for(var et=0,ut=s.length-1;ut>=0;ut--){var gt=s[ut];gt==="."?s.splice(ut,1):gt===".."?(s.splice(ut,1),et++):et&&(s.splice(ut,1),et--)}if($)for(;et--;et)s.unshift("..");return s}function j(s,$){if(s.filter)return s.filter($);for(var et=[],ut=0;ut<s.length;ut++)$(s[ut],ut,s)&&et.push(s[ut]);return et}i.resolve=function(){for(var s="",$=!1,et=arguments.length-1;et>=-1&&!$;et--){var ut=et>=0?arguments[et]:c.cwd();if(typeof ut!="string")throw new TypeError("Arguments to path.resolve must be strings");ut&&(s=ut+"/"+s,$=ut.charAt(0)==="/")}return($?"/":"")+(s=d(j(s.split("/"),function(gt){return!!gt}),!$).join("/"))||"."},i.normalize=function(s){var $=i.isAbsolute(s),et=Z(s,-1)==="/";return(s=d(j(s.split("/"),function(ut){return!!ut}),!$).join("/"))||$||(s="."),s&&et&&(s+="/"),($?"/":"")+s},i.isAbsolute=function(s){return s.charAt(0)==="/"},i.join=function(){var s=Array.prototype.slice.call(arguments,0);return i.normalize(j(s,function($,et){if(typeof $!="string")throw new TypeError("Arguments to path.join must be strings");return $}).join("/"))},i.relative=function(s,$){function et(wt){for(var Rt=0;Rt<wt.length&&wt[Rt]==="";Rt++);for(var Mt=wt.length-1;Mt>=0&&wt[Mt]==="";Mt--);return Rt>Mt?[]:wt.slice(Rt,Mt-Rt+1)}s=i.resolve(s).substr(1),$=i.resolve($).substr(1);for(var ut=et(s.split("/")),gt=et($.split("/")),lt=Math.min(ut.length,gt.length),ft=lt,ot=0;ot<lt;ot++)if(ut[ot]!==gt[ot]){ft=ot;break}var yt=[];for(ot=ft;ot<ut.length;ot++)yt.push("..");return(yt=yt.concat(gt.slice(ft))).join("/")},i.sep="/",i.delimiter=":",i.dirname=function(s){if(typeof s!="string"&&(s+=""),s.length===0)return".";for(var $=s.charCodeAt(0),et=$===47,ut=-1,gt=!0,lt=s.length-1;lt>=1;--lt)if(($=s.charCodeAt(lt))===47){if(!gt){ut=lt;break}}else gt=!1;return ut===-1?et?"/":".":et&&ut===1?"/":s.slice(0,ut)},i.basename=function(s,$){var et=function(ut){typeof ut!="string"&&(ut+="");var gt,lt=0,ft=-1,ot=!0;for(gt=ut.length-1;gt>=0;--gt)if(ut.charCodeAt(gt)===47){if(!ot){lt=gt+1;break}}else ft===-1&&(ot=!1,ft=gt+1);return ft===-1?"":ut.slice(lt,ft)}(s);return $&&et.substr(-1*$.length)===$&&(et=et.substr(0,et.length-$.length)),et},i.extname=function(s){typeof s!="string"&&(s+="");for(var $=-1,et=0,ut=-1,gt=!0,lt=0,ft=s.length-1;ft>=0;--ft){var ot=s.charCodeAt(ft);if(ot!==47)ut===-1&&(gt=!1,ut=ft+1),ot===46?$===-1?$=ft:lt!==1&&(lt=1):$!==-1&&(lt=-1);else if(!gt){et=ft+1;break}}return $===-1||ut===-1||lt===0||lt===1&&$===ut-1&&$===et+1?"":s.slice($,ut)};var Z="ab".substr(-1)==="b"?function(s,$,et){return s.substr($,et)}:function(s,$,et){return $<0&&($=s.length+$),s.substr($,et)}}).call(this,o(2))},function(e,i){function o(c,d){var j=[],Z=[];return d==null&&(d=function(s,$){return j[0]===$?"[Circular ~]":"[Circular ~."+Z.slice(0,j.indexOf($)).join(".")+"]"}),function(s,$){if(j.length>0){var et=j.indexOf(this);~et?j.splice(et+1):j.push(this),~et?Z.splice(et,1/0,s):Z.push(s),~j.indexOf($)&&($=d.call(this,s,$))}else j.push($);return c==null?$:c.call(this,s,$)}}(e.exports=function(c,d,j,Z){return JSON.stringify(c,o(d,Z),j)}).getSerialize=o},function(e,i,o){o(227),e.exports={encode:c=>new TextEncoder().encode(c),decode:c=>new TextDecoder().decode(c)}},function(e,i,o){var c=i.format=o(9);i.levels=o(104),Object.defineProperty(c,"align",{value:o(121)}),Object.defineProperty(c,"cli",{value:o(122)}),Object.defineProperty(c,"combine",{value:o(123)}),Object.defineProperty(c,"colorize",{value:o(37)}),Object.defineProperty(c,"json",{value:o(124)}),Object.defineProperty(c,"label",{value:o(127)}),Object.defineProperty(c,"logstash",{value:o(128)}),Object.defineProperty(c,"metadata",{value:o(129)}),Object.defineProperty(c,"padLevels",{value:o(58)}),Object.defineProperty(c,"prettyPrint",{value:o(130)}),Object.defineProperty(c,"printf",{value:o(131)}),Object.defineProperty(c,"simple",{value:o(132)}),Object.defineProperty(c,"splat",{value:o(133)}),Object.defineProperty(c,"timestamp",{value:o(134)}),Object.defineProperty(c,"uncolorize",{value:o(136)})},function(e,i,o){var c=o(105);e.exports=c},function(e,i,o){function c(lt){return function(ft){if(Array.isArray(ft))return d(ft)}(lt)||function(ft){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(ft))return Array.from(ft)}(lt)||function(ft,ot){if(!!ft){if(typeof ft=="string")return d(ft,ot);var yt=Object.prototype.toString.call(ft).slice(8,-1);if(yt==="Object"&&ft.constructor&&(yt=ft.constructor.name),yt==="Map"||yt==="Set")return Array.from(ft);if(yt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yt))return d(ft,ot)}}(lt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(lt,ft){(ft==null||ft>lt.length)&&(ft=lt.length);for(var ot=0,yt=new Array(ft);ot<ft;ot++)yt[ot]=lt[ot];return yt}function j(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")}function Z(lt,ft){for(var ot=0;ot<ft.length;ot++){var yt=ft[ot];yt.enumerable=yt.enumerable||!1,yt.configurable=!0,"value"in yt&&(yt.writable=!0),Object.defineProperty(lt,yt.key,yt)}}var s=o(3),$=s.configs,et=s.LEVEL,ut=s.MESSAGE,gt=function(){function lt(){var wt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{levels:$.npm.levels};j(this,lt),this.paddings=lt.paddingForLevels(wt.levels,wt.filler),this.options=wt}var ft,ot,yt;return ft=lt,yt=[{key:"getLongestLevel",value:function(wt){var Rt=Object.keys(wt).map(function(Mt){return Mt.length});return Math.max.apply(Math,c(Rt))}},{key:"paddingForLevel",value:function(wt,Rt,Mt){var Tt=Mt+1-wt.length,Ct=Math.floor(Tt/Rt.length);return"".concat(Rt).concat(Rt.repeat(Ct)).slice(0,Tt)}},{key:"paddingForLevels",value:function(wt){var Rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:" ",Mt=lt.getLongestLevel(wt);return Object.keys(wt).reduce(function(Tt,Ct){return Tt[Ct]=lt.paddingForLevel(Ct,Rt,Mt),Tt},{})}}],(ot=[{key:"transform",value:function(wt,Rt){return wt.message="".concat(this.paddings[wt[et]]).concat(wt.message),wt[ut]&&(wt[ut]="".concat(this.paddings[wt[et]]).concat(wt[ut])),wt}}])&&Z(ft.prototype,ot),yt&&Z(ft,yt),lt}();e.exports=function(lt){return new gt(lt)},e.exports.Padder=e.exports.Format=gt},function(e,i,o){var c=o(10).format;i.warn={deprecated:function(d){return function(){throw new Error(c("{ %s } was removed in winston@3.0.0.",d))}},useFormat:function(d){return function(){throw new Error([c("{ %s } was removed in winston@3.0.0.",d),"Use a custom winston.format = winston.format(function) instead."].join(`
`))}},forFunctions:function(d,j,Z){Z.forEach(function(s){d[s]=i.warn[j](s)})},moved:function(d,j,Z){function s(){return function(){throw new Error([c("winston.%s was moved in winston@3.0.0.",Z),c("Use a winston.%s instead.",j)].join(`
`))}}Object.defineProperty(d,Z,{get:s,set:s})},forProperties:function(d,j,Z){Z.forEach(function(s){var $=i.warn[j](s);Object.defineProperty(d,s,{get:$,set:$})})}}},function(e,i,o){(function(c,d,j){var Z=o(13);function s(dt){var bt=this;this.next=null,this.entry=null,this.finish=function(){(function(mt,jt,zt){var kt=mt.entry;for(mt.entry=null;kt;){var St=kt.callback;jt.pendingcb--,St(zt),kt=kt.next}jt.corkedRequestsFree?jt.corkedRequestsFree.next=mt:jt.corkedRequestsFree=mt})(bt,dt)}}e.exports=Tt;var $,et=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?d:Z.nextTick;Tt.WritableState=Mt;var ut=Object.create(o(14));ut.inherits=o(6);var gt={deprecate:o(39)},lt=o(61),ft=o(40).Buffer,ot=j.Uint8Array||function(){},yt,wt=o(62);function Rt(){}function Mt(dt,bt){$=$||o(32),dt=dt||{};var mt=bt instanceof $;this.objectMode=!!dt.objectMode,mt&&(this.objectMode=this.objectMode||!!dt.writableObjectMode);var jt=dt.highWaterMark,zt=dt.writableHighWaterMark,kt=this.objectMode?16:16384;this.highWaterMark=jt||jt===0?jt:mt&&(zt||zt===0)?zt:kt,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var St=dt.decodeStrings===!1;this.decodeStrings=!St,this.defaultEncoding=dt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Dt){(function(Nt,_t){var at=Nt._writableState,Bt=at.sync,Vt=at.writecb;if(function(or){or.writing=!1,or.writecb=null,or.length-=or.writelen,or.writelen=0}(at),_t)(function(or,ar,qt,Gt,vt){--ar.pendingcb,qt?(Z.nextTick(vt,Gt),Z.nextTick(pt,or,ar),or._writableState.errorEmitted=!0,or.emit("error",Gt)):(vt(Gt),or._writableState.errorEmitted=!0,or.emit("error",Gt),pt(or,ar))})(Nt,at,Bt,_t,Vt);else{var Qt=Kt(at);Qt||at.corked||at.bufferProcessing||!at.bufferedRequest||Lt(Nt,at),Bt?et(ct,Nt,at,Qt,Vt):ct(Nt,at,Qt,Vt)}})(bt,Dt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function Tt(dt){if($=$||o(32),!(yt.call(Tt,this)||this instanceof $))return new Tt(dt);this._writableState=new Mt(dt,this),this.writable=!0,dt&&(typeof dt.write=="function"&&(this._write=dt.write),typeof dt.writev=="function"&&(this._writev=dt.writev),typeof dt.destroy=="function"&&(this._destroy=dt.destroy),typeof dt.final=="function"&&(this._final=dt.final)),lt.call(this)}function Ct(dt,bt,mt,jt,zt,kt,St){bt.writelen=jt,bt.writecb=St,bt.writing=!0,bt.sync=!0,mt?dt._writev(zt,bt.onwrite):dt._write(zt,kt,bt.onwrite),bt.sync=!1}function ct(dt,bt,mt,jt){mt||function(zt,kt){kt.length===0&&kt.needDrain&&(kt.needDrain=!1,zt.emit("drain"))}(dt,bt),bt.pendingcb--,jt(),pt(dt,bt)}function Lt(dt,bt){bt.bufferProcessing=!0;var mt=bt.bufferedRequest;if(dt._writev&&mt&&mt.next){var jt=bt.bufferedRequestCount,zt=new Array(jt),kt=bt.corkedRequestsFree;kt.entry=mt;for(var St=0,Dt=!0;mt;)zt[St]=mt,mt.isBuf||(Dt=!1),mt=mt.next,St+=1;zt.allBuffers=Dt,Ct(dt,bt,!0,bt.length,zt,"",kt.finish),bt.pendingcb++,bt.lastBufferedRequest=null,kt.next?(bt.corkedRequestsFree=kt.next,kt.next=null):bt.corkedRequestsFree=new s(bt),bt.bufferedRequestCount=0}else{for(;mt;){var Nt=mt.chunk,_t=mt.encoding,at=mt.callback;if(Ct(dt,bt,!1,bt.objectMode?1:Nt.length,Nt,_t,at),mt=mt.next,bt.bufferedRequestCount--,bt.writing)break}mt===null&&(bt.lastBufferedRequest=null)}bt.bufferedRequest=mt,bt.bufferProcessing=!1}function Kt(dt){return dt.ending&&dt.length===0&&dt.bufferedRequest===null&&!dt.finished&&!dt.writing}function Yt(dt,bt){dt._final(function(mt){bt.pendingcb--,mt&&dt.emit("error",mt),bt.prefinished=!0,dt.emit("prefinish"),pt(dt,bt)})}function pt(dt,bt){var mt=Kt(bt);return mt&&(function(jt,zt){zt.prefinished||zt.finalCalled||(typeof jt._final=="function"?(zt.pendingcb++,zt.finalCalled=!0,Z.nextTick(Yt,jt,zt)):(zt.prefinished=!0,jt.emit("prefinish")))}(dt,bt),bt.pendingcb===0&&(bt.finished=!0,dt.emit("finish"))),mt}ut.inherits(Tt,lt),Mt.prototype.getBuffer=function(){for(var dt=this.bufferedRequest,bt=[];dt;)bt.push(dt),dt=dt.next;return bt},function(){try{Object.defineProperty(Mt.prototype,"buffer",{get:gt.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(yt=Function.prototype[Symbol.hasInstance],Object.defineProperty(Tt,Symbol.hasInstance,{value:function(dt){return!!yt.call(this,dt)||this===Tt&&dt&&dt._writableState instanceof Mt}})):yt=function(dt){return dt instanceof this},Tt.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Tt.prototype.write=function(dt,bt,mt){var jt,zt=this._writableState,kt=!1,St=!zt.objectMode&&(jt=dt,ft.isBuffer(jt)||jt instanceof ot);return St&&!ft.isBuffer(dt)&&(dt=function(Dt){return ft.from(Dt)}(dt)),typeof bt=="function"&&(mt=bt,bt=null),St?bt="buffer":bt||(bt=zt.defaultEncoding),typeof mt!="function"&&(mt=Rt),zt.ended?function(Dt,Nt){var _t=new Error("write after end");Dt.emit("error",_t),Z.nextTick(Nt,_t)}(this,mt):(St||function(Dt,Nt,_t,at){var Bt=!0,Vt=!1;return _t===null?Vt=new TypeError("May not write null values to stream"):typeof _t=="string"||_t===void 0||Nt.objectMode||(Vt=new TypeError("Invalid non-string/buffer chunk")),Vt&&(Dt.emit("error",Vt),Z.nextTick(at,Vt),Bt=!1),Bt}(this,zt,dt,mt))&&(zt.pendingcb++,kt=function(Dt,Nt,_t,at,Bt,Vt){if(!_t){var Qt=function(Gt,vt,At){return Gt.objectMode||Gt.decodeStrings===!1||typeof vt!="string"||(vt=ft.from(vt,At)),vt}(Nt,at,Bt);at!==Qt&&(_t=!0,Bt="buffer",at=Qt)}var or=Nt.objectMode?1:at.length;Nt.length+=or;var ar=Nt.length<Nt.highWaterMark;if(ar||(Nt.needDrain=!0),Nt.writing||Nt.corked){var qt=Nt.lastBufferedRequest;Nt.lastBufferedRequest={chunk:at,encoding:Bt,isBuf:_t,callback:Vt,next:null},qt?qt.next=Nt.lastBufferedRequest:Nt.bufferedRequest=Nt.lastBufferedRequest,Nt.bufferedRequestCount+=1}else Ct(Dt,Nt,!1,or,at,Bt,Vt);return ar}(this,zt,St,dt,bt,mt)),kt},Tt.prototype.cork=function(){this._writableState.corked++},Tt.prototype.uncork=function(){var dt=this._writableState;dt.corked&&(dt.corked--,dt.writing||dt.corked||dt.finished||dt.bufferProcessing||!dt.bufferedRequest||Lt(this,dt))},Tt.prototype.setDefaultEncoding=function(dt){if(typeof dt=="string"&&(dt=dt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((dt+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+dt);return this._writableState.defaultEncoding=dt,this},Object.defineProperty(Tt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Tt.prototype._write=function(dt,bt,mt){mt(new Error("_write() is not implemented"))},Tt.prototype._writev=null,Tt.prototype.end=function(dt,bt,mt){var jt=this._writableState;typeof dt=="function"?(mt=dt,dt=null,bt=null):typeof bt=="function"&&(mt=bt,bt=null),dt!=null&&this.write(dt,bt),jt.corked&&(jt.corked=1,this.uncork()),jt.ending||jt.finished||function(zt,kt,St){kt.ending=!0,pt(zt,kt),St&&(kt.finished?Z.nextTick(St):zt.once("finish",St)),kt.ended=!0,zt.writable=!1}(this,jt,mt)},Object.defineProperty(Tt.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(dt){this._writableState&&(this._writableState.destroyed=dt)}}),Tt.prototype.destroy=wt.destroy,Tt.prototype._undestroy=wt.undestroy,Tt.prototype._destroy=function(dt,bt){this.end(),bt(dt)}}).call(this,o(2),o(12).setImmediate,o(5))},function(e,i,o){e.exports=o(18).EventEmitter},function(e,i,o){var c=o(13);function d(j,Z){j.emit("error",Z)}e.exports={destroy:function(j,Z){var s=this,$=this._readableState&&this._readableState.destroyed,et=this._writableState&&this._writableState.destroyed;return $||et?(Z?Z(j):!j||this._writableState&&this._writableState.errorEmitted||c.nextTick(d,this,j),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(ut){!Z&&ut?(c.nextTick(d,s,ut),s._writableState&&(s._writableState.errorEmitted=!0)):Z&&Z(ut)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,i){},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=Z(o(155)),d=Z(o(23)),j=Z(o(27));function Z(s){return s&&s.__esModule?s:{default:s}}i.default=(0,j.default)(function(s,$,et,ut){return(0,c.default)($)(s,(0,d.default)(et),ut)},4),e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){function d(...j){if(c!==null){var Z=c;c=null,Z.apply(this,j)}}return Object.assign(d,c),d},e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return function(...d){if(c===null)throw new Error("Callback was already called.");var j=c;c=null,j.apply(this,d)}},e.exports=i.default},function(e,i,o){(function(c,d){var j=o(13);e.exports=Ct;var Z,s=o(38);Ct.ReadableState=Tt,o(18).EventEmitter;var $=function(_t,at){return _t.listeners(at).length},et=o(68),ut=o(43).Buffer,gt=c.Uint8Array||function(){},lt=o(14);lt.inherits=o(6);var ft=o(161),ot=void 0;ot=ft&&ft.debuglog?ft.debuglog("stream"):function(){};var yt,wt=o(162),Rt=o(69);lt.inherits(Ct,et);var Mt=["error","close","destroy","pause","resume"];function Tt(_t,at){_t=_t||{};var Bt=at instanceof(Z=Z||o(20));this.objectMode=!!_t.objectMode,Bt&&(this.objectMode=this.objectMode||!!_t.readableObjectMode);var Vt=_t.highWaterMark,Qt=_t.readableHighWaterMark,or=this.objectMode?16:16384;this.highWaterMark=Vt||Vt===0?Vt:Bt&&(Qt||Qt===0)?Qt:or,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_t.encoding&&(yt||(yt=o(19).StringDecoder),this.decoder=new yt(_t.encoding),this.encoding=_t.encoding)}function Ct(_t){if(Z=Z||o(20),!(this instanceof Ct))return new Ct(_t);this._readableState=new Tt(_t,this),this.readable=!0,_t&&(typeof _t.read=="function"&&(this._read=_t.read),typeof _t.destroy=="function"&&(this._destroy=_t.destroy)),et.call(this)}function ct(_t,at,Bt,Vt,Qt){var or,ar=_t._readableState;return at===null?(ar.reading=!1,function(qt,Gt){if(!Gt.ended){if(Gt.decoder){var vt=Gt.decoder.end();vt&&vt.length&&(Gt.buffer.push(vt),Gt.length+=Gt.objectMode?1:vt.length)}Gt.ended=!0,Yt(qt)}}(_t,ar)):(Qt||(or=function(qt,Gt){var vt;At=Gt,ut.isBuffer(At)||At instanceof gt||typeof Gt=="string"||Gt===void 0||qt.objectMode||(vt=new TypeError("Invalid non-string/buffer chunk"));var At;return vt}(ar,at)),or?_t.emit("error",or):ar.objectMode||at&&at.length>0?(typeof at=="string"||ar.objectMode||Object.getPrototypeOf(at)===ut.prototype||(at=function(qt){return ut.from(qt)}(at)),Vt?ar.endEmitted?_t.emit("error",new Error("stream.unshift() after end event")):Lt(_t,ar,at,!0):ar.ended?_t.emit("error",new Error("stream.push() after EOF")):(ar.reading=!1,ar.decoder&&!Bt?(at=ar.decoder.write(at),ar.objectMode||at.length!==0?Lt(_t,ar,at,!1):dt(_t,ar)):Lt(_t,ar,at,!1))):Vt||(ar.reading=!1)),function(qt){return!qt.ended&&(qt.needReadable||qt.length<qt.highWaterMark||qt.length===0)}(ar)}function Lt(_t,at,Bt,Vt){at.flowing&&at.length===0&&!at.sync?(_t.emit("data",Bt),_t.read(0)):(at.length+=at.objectMode?1:Bt.length,Vt?at.buffer.unshift(Bt):at.buffer.push(Bt),at.needReadable&&Yt(_t)),dt(_t,at)}Object.defineProperty(Ct.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(_t){this._readableState&&(this._readableState.destroyed=_t)}}),Ct.prototype.destroy=Rt.destroy,Ct.prototype._undestroy=Rt.undestroy,Ct.prototype._destroy=function(_t,at){this.push(null),at(_t)},Ct.prototype.push=function(_t,at){var Bt,Vt=this._readableState;return Vt.objectMode?Bt=!0:typeof _t=="string"&&((at=at||Vt.defaultEncoding)!==Vt.encoding&&(_t=ut.from(_t,at),at=""),Bt=!0),ct(this,_t,at,!1,Bt)},Ct.prototype.unshift=function(_t){return ct(this,_t,null,!0,!1)},Ct.prototype.isPaused=function(){return this._readableState.flowing===!1},Ct.prototype.setEncoding=function(_t){return yt||(yt=o(19).StringDecoder),this._readableState.decoder=new yt(_t),this._readableState.encoding=_t,this};function Kt(_t,at){return _t<=0||at.length===0&&at.ended?0:at.objectMode?1:_t!=_t?at.flowing&&at.length?at.buffer.head.data.length:at.length:(_t>at.highWaterMark&&(at.highWaterMark=function(Bt){return Bt>=8388608?Bt=8388608:(Bt--,Bt|=Bt>>>1,Bt|=Bt>>>2,Bt|=Bt>>>4,Bt|=Bt>>>8,Bt|=Bt>>>16,Bt++),Bt}(_t)),_t<=at.length?_t:at.ended?at.length:(at.needReadable=!0,0))}function Yt(_t){var at=_t._readableState;at.needReadable=!1,at.emittedReadable||(ot("emitReadable",at.flowing),at.emittedReadable=!0,at.sync?j.nextTick(pt,_t):pt(_t))}function pt(_t){ot("emit readable"),_t.emit("readable"),zt(_t)}function dt(_t,at){at.readingMore||(at.readingMore=!0,j.nextTick(bt,_t,at))}function bt(_t,at){for(var Bt=at.length;!at.reading&&!at.flowing&&!at.ended&&at.length<at.highWaterMark&&(ot("maybeReadMore read 0"),_t.read(0),Bt!==at.length);)Bt=at.length;at.readingMore=!1}function mt(_t){ot("readable nexttick read 0"),_t.read(0)}function jt(_t,at){at.reading||(ot("resume read 0"),_t.read(0)),at.resumeScheduled=!1,at.awaitDrain=0,_t.emit("resume"),zt(_t),at.flowing&&!at.reading&&_t.read(0)}function zt(_t){var at=_t._readableState;for(ot("flow",at.flowing);at.flowing&&_t.read()!==null;);}function kt(_t,at){return at.length===0?null:(at.objectMode?Bt=at.buffer.shift():!_t||_t>=at.length?(Bt=at.decoder?at.buffer.join(""):at.buffer.length===1?at.buffer.head.data:at.buffer.concat(at.length),at.buffer.clear()):Bt=function(Vt,Qt,or){var ar;return Vt<Qt.head.data.length?(ar=Qt.head.data.slice(0,Vt),Qt.head.data=Qt.head.data.slice(Vt)):ar=Vt===Qt.head.data.length?Qt.shift():or?function(qt,Gt){var vt=Gt.head,At=1,It=vt.data;for(qt-=It.length;vt=vt.next;){var Ht=vt.data,Zt=qt>Ht.length?Ht.length:qt;if(Zt===Ht.length?It+=Ht:It+=Ht.slice(0,qt),(qt-=Zt)===0){Zt===Ht.length?(++At,vt.next?Gt.head=vt.next:Gt.head=Gt.tail=null):(Gt.head=vt,vt.data=Ht.slice(Zt));break}++At}return Gt.length-=At,It}(Vt,Qt):function(qt,Gt){var vt=ut.allocUnsafe(qt),At=Gt.head,It=1;for(At.data.copy(vt),qt-=At.data.length;At=At.next;){var Ht=At.data,Zt=qt>Ht.length?Ht.length:qt;if(Ht.copy(vt,vt.length-qt,0,Zt),(qt-=Zt)===0){Zt===Ht.length?(++It,At.next?Gt.head=At.next:Gt.head=Gt.tail=null):(Gt.head=At,At.data=Ht.slice(Zt));break}++It}return Gt.length-=It,vt}(Vt,Qt),ar}(_t,at.buffer,at.decoder),Bt);var Bt}function St(_t){var at=_t._readableState;if(at.length>0)throw new Error('"endReadable()" called on non-empty stream');at.endEmitted||(at.ended=!0,j.nextTick(Dt,at,_t))}function Dt(_t,at){_t.endEmitted||_t.length!==0||(_t.endEmitted=!0,at.readable=!1,at.emit("end"))}function Nt(_t,at){for(var Bt=0,Vt=_t.length;Bt<Vt;Bt++)if(_t[Bt]===at)return Bt;return-1}Ct.prototype.read=function(_t){ot("read",_t),_t=parseInt(_t,10);var at=this._readableState,Bt=_t;if(_t!==0&&(at.emittedReadable=!1),_t===0&&at.needReadable&&(at.length>=at.highWaterMark||at.ended))return ot("read: emitReadable",at.length,at.ended),at.length===0&&at.ended?St(this):Yt(this),null;if((_t=Kt(_t,at))===0&&at.ended)return at.length===0&&St(this),null;var Vt,Qt=at.needReadable;return ot("need readable",Qt),(at.length===0||at.length-_t<at.highWaterMark)&&ot("length less than watermark",Qt=!0),at.ended||at.reading?ot("reading or ended",Qt=!1):Qt&&(ot("do read"),at.reading=!0,at.sync=!0,at.length===0&&(at.needReadable=!0),this._read(at.highWaterMark),at.sync=!1,at.reading||(_t=Kt(Bt,at))),(Vt=_t>0?kt(_t,at):null)===null?(at.needReadable=!0,_t=0):at.length-=_t,at.length===0&&(at.ended||(at.needReadable=!0),Bt!==_t&&at.ended&&St(this)),Vt!==null&&this.emit("data",Vt),Vt},Ct.prototype._read=function(_t){this.emit("error",new Error("_read() is not implemented"))},Ct.prototype.pipe=function(_t,at){var Bt=this,Vt=this._readableState;switch(Vt.pipesCount){case 0:Vt.pipes=_t;break;case 1:Vt.pipes=[Vt.pipes,_t];break;default:Vt.pipes.push(_t)}Vt.pipesCount+=1,ot("pipe count=%d opts=%j",Vt.pipesCount,at);var Qt=(!at||at.end!==!1)&&_t!==d.stdout&&_t!==d.stderr?ar:rr;function or(pr,_r){ot("onunpipe"),pr===Bt&&_r&&_r.hasUnpiped===!1&&(_r.hasUnpiped=!0,ot("cleanup"),_t.removeListener("close",Ht),_t.removeListener("finish",Zt),_t.removeListener("drain",qt),_t.removeListener("error",It),_t.removeListener("unpipe",or),Bt.removeListener("end",ar),Bt.removeListener("end",rr),Bt.removeListener("data",At),Gt=!0,!Vt.awaitDrain||_t._writableState&&!_t._writableState.needDrain||qt())}function ar(){ot("onend"),_t.end()}Vt.endEmitted?j.nextTick(Qt):Bt.once("end",Qt),_t.on("unpipe",or);var qt=function(pr){return function(){var _r=pr._readableState;ot("pipeOnDrain",_r.awaitDrain),_r.awaitDrain&&_r.awaitDrain--,_r.awaitDrain===0&&$(pr,"data")&&(_r.flowing=!0,zt(pr))}}(Bt);_t.on("drain",qt);var Gt=!1,vt=!1;function At(pr){ot("ondata"),vt=!1,_t.write(pr)!==!1||vt||((Vt.pipesCount===1&&Vt.pipes===_t||Vt.pipesCount>1&&Nt(Vt.pipes,_t)!==-1)&&!Gt&&(ot("false write response, pause",Bt._readableState.awaitDrain),Bt._readableState.awaitDrain++,vt=!0),Bt.pause())}function It(pr){ot("onerror",pr),rr(),_t.removeListener("error",It),$(_t,"error")===0&&_t.emit("error",pr)}function Ht(){_t.removeListener("finish",Zt),rr()}function Zt(){ot("onfinish"),_t.removeListener("close",Ht),rr()}function rr(){ot("unpipe"),Bt.unpipe(_t)}return Bt.on("data",At),function(pr,_r,ir){if(typeof pr.prependListener=="function")return pr.prependListener(_r,ir);pr._events&&pr._events[_r]?s(pr._events[_r])?pr._events[_r].unshift(ir):pr._events[_r]=[ir,pr._events[_r]]:pr.on(_r,ir)}(_t,"error",It),_t.once("close",Ht),_t.once("finish",Zt),_t.emit("pipe",Bt),Vt.flowing||(ot("pipe resume"),Bt.resume()),_t},Ct.prototype.unpipe=function(_t){var at=this._readableState,Bt={hasUnpiped:!1};if(at.pipesCount===0)return this;if(at.pipesCount===1)return _t&&_t!==at.pipes||(_t||(_t=at.pipes),at.pipes=null,at.pipesCount=0,at.flowing=!1,_t&&_t.emit("unpipe",this,Bt)),this;if(!_t){var Vt=at.pipes,Qt=at.pipesCount;at.pipes=null,at.pipesCount=0,at.flowing=!1;for(var or=0;or<Qt;or++)Vt[or].emit("unpipe",this,Bt);return this}var ar=Nt(at.pipes,_t);return ar===-1||(at.pipes.splice(ar,1),at.pipesCount-=1,at.pipesCount===1&&(at.pipes=at.pipes[0]),_t.emit("unpipe",this,Bt)),this},Ct.prototype.on=function(_t,at){var Bt=et.prototype.on.call(this,_t,at);if(_t==="data")this._readableState.flowing!==!1&&this.resume();else if(_t==="readable"){var Vt=this._readableState;Vt.endEmitted||Vt.readableListening||(Vt.readableListening=Vt.needReadable=!0,Vt.emittedReadable=!1,Vt.reading?Vt.length&&Yt(this):j.nextTick(mt,this))}return Bt},Ct.prototype.addListener=Ct.prototype.on,Ct.prototype.resume=function(){var _t=this._readableState;return _t.flowing||(ot("resume"),_t.flowing=!0,function(at,Bt){Bt.resumeScheduled||(Bt.resumeScheduled=!0,j.nextTick(jt,at,Bt))}(this,_t)),this},Ct.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ct.prototype.wrap=function(_t){var at=this,Bt=this._readableState,Vt=!1;for(var Qt in _t.on("end",function(){if(ot("wrapped end"),Bt.decoder&&!Bt.ended){var ar=Bt.decoder.end();ar&&ar.length&&at.push(ar)}at.push(null)}),_t.on("data",function(ar){ot("wrapped data"),Bt.decoder&&(ar=Bt.decoder.write(ar)),Bt.objectMode&&ar==null||(Bt.objectMode||ar&&ar.length)&&(at.push(ar)||(Vt=!0,_t.pause()))}),_t)this[Qt]===void 0&&typeof _t[Qt]=="function"&&(this[Qt]=function(ar){return function(){return _t[ar].apply(_t,arguments)}}(Qt));for(var or=0;or<Mt.length;or++)_t.on(Mt[or],this.emit.bind(this,Mt[or]));return this._read=function(ar){ot("wrapped _read",ar),Vt&&(Vt=!1,_t.resume())},this},Object.defineProperty(Ct.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Ct._fromList=kt}).call(this,o(5),o(2))},function(e,i,o){e.exports=o(18).EventEmitter},function(e,i,o){var c=o(13);function d(j,Z){j.emit("error",Z)}e.exports={destroy:function(j,Z){var s=this,$=this._readableState&&this._readableState.destroyed,et=this._writableState&&this._writableState.destroyed;return $||et?(Z?Z(j):!j||this._writableState&&this._writableState.errorEmitted||c.nextTick(d,this,j),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(j||null,function(ut){!Z&&ut?(c.nextTick(d,s,ut),s._writableState&&(s._writableState.errorEmitted=!0)):Z&&Z(ut)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(e,i,o){e.exports=Z;var c=o(20),d=o(14);function j(et,ut){var gt=this._transformState;gt.transforming=!1;var lt=gt.writecb;if(!lt)return this.emit("error",new Error("write callback called multiple times"));gt.writechunk=null,gt.writecb=null,ut!=null&&this.push(ut),lt(et);var ft=this._readableState;ft.reading=!1,(ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}function Z(et){if(!(this instanceof Z))return new Z(et);c.call(this,et),this._transformState={afterTransform:j.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,et&&(typeof et.transform=="function"&&(this._transform=et.transform),typeof et.flush=="function"&&(this._flush=et.flush)),this.on("prefinish",s)}function s(){var et=this;typeof this._flush=="function"?this._flush(function(ut,gt){$(et,ut,gt)}):$(this,null,null)}function $(et,ut,gt){if(ut)return et.emit("error",ut);if(gt!=null&&et.push(gt),et._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(et._transformState.transforming)throw new Error("Calling transform done when still transforming");return et.push(null)}d.inherits=o(6),d.inherits(Z,c),Z.prototype.push=function(et,ut){return this._transformState.needTransform=!1,c.prototype.push.call(this,et,ut)},Z.prototype._transform=function(et,ut,gt){throw new Error("_transform() is not implemented")},Z.prototype._write=function(et,ut,gt){var lt=this._transformState;if(lt.writecb=gt,lt.writechunk=et,lt.writeencoding=ut,!lt.transforming){var ft=this._readableState;(lt.needTransform||ft.needReadable||ft.length<ft.highWaterMark)&&this._read(ft.highWaterMark)}},Z.prototype._read=function(et){var ut=this._transformState;ut.writechunk!==null&&ut.writecb&&!ut.transforming?(ut.transforming=!0,this._transform(ut.writechunk,ut.writeencoding,ut.afterTransform)):ut.needTransform=!0},Z.prototype._destroy=function(et,ut){var gt=this;c.prototype._destroy.call(this,et,function(lt){ut(lt),gt.emit("close")})}},function(e,i,o){e.exports=o(44)},function(e,i,o){(function(c){var d=o(169);function j(pt,dt){if(pt===dt)return 0;for(var bt=pt.length,mt=dt.length,jt=0,zt=Math.min(bt,mt);jt<zt;++jt)if(pt[jt]!==dt[jt]){bt=pt[jt],mt=dt[jt];break}return bt<mt?-1:mt<bt?1:0}function Z(pt){return c.Buffer&&typeof c.Buffer.isBuffer=="function"?c.Buffer.isBuffer(pt):!(pt==null||!pt._isBuffer)}var s=o(10),$=Object.prototype.hasOwnProperty,et=Array.prototype.slice,ut=function(){}.name==="foo";function gt(pt){return Object.prototype.toString.call(pt)}function lt(pt){return!Z(pt)&&typeof c.ArrayBuffer=="function"&&(typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(pt):!!pt&&(pt instanceof DataView||!!(pt.buffer&&pt.buffer instanceof ArrayBuffer)))}var ft=e.exports=Tt,ot=/\s*function\s+([^\(\s]*)\s*/;function yt(pt){if(s.isFunction(pt)){if(ut)return pt.name;var dt=pt.toString().match(ot);return dt&&dt[1]}}function wt(pt,dt){return typeof pt=="string"?pt.length<dt?pt:pt.slice(0,dt):pt}function Rt(pt){if(ut||!s.isFunction(pt))return s.inspect(pt);var dt=yt(pt);return"[Function"+(dt?": "+dt:"")+"]"}function Mt(pt,dt,bt,mt,jt){throw new ft.AssertionError({message:bt,actual:pt,expected:dt,operator:mt,stackStartFunction:jt})}function Tt(pt,dt){pt||Mt(pt,!0,dt,"==",ft.ok)}function Ct(pt,dt,bt,mt){if(pt===dt)return!0;if(Z(pt)&&Z(dt))return j(pt,dt)===0;if(s.isDate(pt)&&s.isDate(dt))return pt.getTime()===dt.getTime();if(s.isRegExp(pt)&&s.isRegExp(dt))return pt.source===dt.source&&pt.global===dt.global&&pt.multiline===dt.multiline&&pt.lastIndex===dt.lastIndex&&pt.ignoreCase===dt.ignoreCase;if(pt!==null&&typeof pt=="object"||dt!==null&&typeof dt=="object"){if(lt(pt)&&lt(dt)&&gt(pt)===gt(dt)&&!(pt instanceof Float32Array||pt instanceof Float64Array))return j(new Uint8Array(pt.buffer),new Uint8Array(dt.buffer))===0;if(Z(pt)!==Z(dt))return!1;var jt=(mt=mt||{actual:[],expected:[]}).actual.indexOf(pt);return jt!==-1&&jt===mt.expected.indexOf(dt)||(mt.actual.push(pt),mt.expected.push(dt),function(zt,kt,St,Dt){if(zt==null||kt==null)return!1;if(s.isPrimitive(zt)||s.isPrimitive(kt))return zt===kt;if(St&&Object.getPrototypeOf(zt)!==Object.getPrototypeOf(kt))return!1;var Nt=ct(zt),_t=ct(kt);if(Nt&&!_t||!Nt&&_t)return!1;if(Nt)return zt=et.call(zt),kt=et.call(kt),Ct(zt,kt,St);var at,Bt,Vt=Yt(zt),Qt=Yt(kt);if(Vt.length!==Qt.length)return!1;for(Vt.sort(),Qt.sort(),Bt=Vt.length-1;Bt>=0;Bt--)if(Vt[Bt]!==Qt[Bt])return!1;for(Bt=Vt.length-1;Bt>=0;Bt--)if(at=Vt[Bt],!Ct(zt[at],kt[at],St,Dt))return!1;return!0}(pt,dt,bt,mt))}return bt?pt===dt:pt==dt}function ct(pt){return Object.prototype.toString.call(pt)=="[object Arguments]"}function Lt(pt,dt){if(!pt||!dt)return!1;if(Object.prototype.toString.call(dt)=="[object RegExp]")return dt.test(pt);try{if(pt instanceof dt)return!0}catch{}return!Error.isPrototypeOf(dt)&&dt.call({},pt)===!0}function Kt(pt,dt,bt,mt){var jt;if(typeof dt!="function")throw new TypeError('"block" argument must be a function');typeof bt=="string"&&(mt=bt,bt=null),jt=function(St){var Dt;try{St()}catch(Nt){Dt=Nt}return Dt}(dt),mt=(bt&&bt.name?" ("+bt.name+").":".")+(mt?" "+mt:"."),pt&&!jt&&Mt(jt,bt,"Missing expected exception"+mt);var zt=typeof mt=="string",kt=!pt&&jt&&!bt;if((!pt&&s.isError(jt)&&zt&&Lt(jt,bt)||kt)&&Mt(jt,bt,"Got unwanted exception"+mt),pt&&jt&&bt&&!Lt(jt,bt)||!pt&&jt)throw jt}ft.AssertionError=function(pt){this.name="AssertionError",this.actual=pt.actual,this.expected=pt.expected,this.operator=pt.operator,pt.message?(this.message=pt.message,this.generatedMessage=!1):(this.message=function(St){return wt(Rt(St.actual),128)+" "+St.operator+" "+wt(Rt(St.expected),128)}(this),this.generatedMessage=!0);var dt=pt.stackStartFunction||Mt;if(Error.captureStackTrace)Error.captureStackTrace(this,dt);else{var bt=new Error;if(bt.stack){var mt=bt.stack,jt=yt(dt),zt=mt.indexOf(`
`+jt);if(zt>=0){var kt=mt.indexOf(`
`,zt+1);mt=mt.substring(kt+1)}this.stack=mt}}},s.inherits(ft.AssertionError,Error),ft.fail=Mt,ft.ok=Tt,ft.equal=function(pt,dt,bt){pt!=dt&&Mt(pt,dt,bt,"==",ft.equal)},ft.notEqual=function(pt,dt,bt){pt==dt&&Mt(pt,dt,bt,"!=",ft.notEqual)},ft.deepEqual=function(pt,dt,bt){Ct(pt,dt,!1)||Mt(pt,dt,bt,"deepEqual",ft.deepEqual)},ft.deepStrictEqual=function(pt,dt,bt){Ct(pt,dt,!0)||Mt(pt,dt,bt,"deepStrictEqual",ft.deepStrictEqual)},ft.notDeepEqual=function(pt,dt,bt){Ct(pt,dt,!1)&&Mt(pt,dt,bt,"notDeepEqual",ft.notDeepEqual)},ft.notDeepStrictEqual=function pt(dt,bt,mt){Ct(dt,bt,!0)&&Mt(dt,bt,mt,"notDeepStrictEqual",pt)},ft.strictEqual=function(pt,dt,bt){pt!==dt&&Mt(pt,dt,bt,"===",ft.strictEqual)},ft.notStrictEqual=function(pt,dt,bt){pt===dt&&Mt(pt,dt,bt,"!==",ft.notStrictEqual)},ft.throws=function(pt,dt,bt){Kt(!0,pt,dt,bt)},ft.doesNotThrow=function(pt,dt,bt){Kt(!1,pt,dt,bt)},ft.ifError=function(pt){if(pt)throw pt},ft.strict=d(function pt(dt,bt){dt||Mt(dt,!0,bt,"==",pt)},ft,{equal:ft.strictEqual,deepEqual:ft.deepStrictEqual,notEqual:ft.notStrictEqual,notDeepEqual:ft.notDeepStrictEqual}),ft.strict.strict=ft.strict;var Yt=Object.keys||function(pt){var dt=[];for(var bt in pt)$.call(pt,bt)&&dt.push(bt);return dt}}).call(this,o(5))},function(e,i,o){e.exports=function(c,d,j,Z){for(var s=65535&c|0,$=c>>>16&65535|0,et=0;j!==0;){j-=et=j>2e3?2e3:j;do $=$+(s=s+d[Z++]|0)|0;while(--et);s%=65521,$%=65521}return s|$<<16|0}},function(e,i,o){var c=function(){for(var d,j=[],Z=0;Z<256;Z++){d=Z;for(var s=0;s<8;s++)d=1&d?3988292384^d>>>1:d>>>1;j[Z]=d}return j}();e.exports=function(d,j,Z,s){var $=c,et=s+Z;d^=-1;for(var ut=s;ut<et;ut++)d=d>>>8^$[255&(d^j[ut])];return-1^d}},function(e,i,o){(function(c,d){var j;e.exports=dt,dt.ReadableState=pt,o(18).EventEmitter;var Z=function(qt,Gt){return qt.listeners(Gt).length},s=o(76),$=o(4).Buffer,et=c.Uint8Array||function(){},ut,gt=o(178);ut=gt&&gt.debuglog?gt.debuglog("stream"):function(){};var lt,ft,ot,yt=o(179),wt=o(77),Rt=o(78).getHighWaterMark,Mt=o(24).codes,Tt=Mt.ERR_INVALID_ARG_TYPE,Ct=Mt.ERR_STREAM_PUSH_AFTER_EOF,ct=Mt.ERR_METHOD_NOT_IMPLEMENTED,Lt=Mt.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;o(6)(dt,s);var Kt=wt.errorOrDestroy,Yt=["error","close","destroy","pause","resume"];function pt(qt,Gt,vt){j=j||o(25),qt=qt||{},typeof vt!="boolean"&&(vt=Gt instanceof j),this.objectMode=!!qt.objectMode,vt&&(this.objectMode=this.objectMode||!!qt.readableObjectMode),this.highWaterMark=Rt(this,qt,"readableHighWaterMark",vt),this.buffer=new yt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=qt.emitClose!==!1,this.autoDestroy=!!qt.autoDestroy,this.destroyed=!1,this.defaultEncoding=qt.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,qt.encoding&&(lt||(lt=o(19).StringDecoder),this.decoder=new lt(qt.encoding),this.encoding=qt.encoding)}function dt(qt){if(j=j||o(25),!(this instanceof dt))return new dt(qt);var Gt=this instanceof j;this._readableState=new pt(qt,this,Gt),this.readable=!0,qt&&(typeof qt.read=="function"&&(this._read=qt.read),typeof qt.destroy=="function"&&(this._destroy=qt.destroy)),s.call(this)}function bt(qt,Gt,vt,At,It){ut("readableAddChunk",Gt);var Ht,Zt=qt._readableState;if(Gt===null)Zt.reading=!1,function(rr,pr){if(ut("onEofChunk"),!pr.ended){if(pr.decoder){var _r=pr.decoder.end();_r&&_r.length&&(pr.buffer.push(_r),pr.length+=pr.objectMode?1:_r.length)}pr.ended=!0,pr.sync?zt(rr):(pr.needReadable=!1,pr.emittedReadable||(pr.emittedReadable=!0,kt(rr)))}}(qt,Zt);else if(It||(Ht=function(rr,pr){var _r;ir=pr,$.isBuffer(ir)||ir instanceof et||typeof pr=="string"||pr===void 0||rr.objectMode||(_r=new Tt("chunk",["string","Buffer","Uint8Array"],pr));var ir;return _r}(Zt,Gt)),Ht)Kt(qt,Ht);else if(Zt.objectMode||Gt&&Gt.length>0)if(typeof Gt=="string"||Zt.objectMode||Object.getPrototypeOf(Gt)===$.prototype||(Gt=function(rr){return $.from(rr)}(Gt)),At)Zt.endEmitted?Kt(qt,new Lt):mt(qt,Zt,Gt,!0);else if(Zt.ended)Kt(qt,new Ct);else{if(Zt.destroyed)return!1;Zt.reading=!1,Zt.decoder&&!vt?(Gt=Zt.decoder.write(Gt),Zt.objectMode||Gt.length!==0?mt(qt,Zt,Gt,!1):St(qt,Zt)):mt(qt,Zt,Gt,!1)}else At||(Zt.reading=!1,St(qt,Zt));return!Zt.ended&&(Zt.length<Zt.highWaterMark||Zt.length===0)}function mt(qt,Gt,vt,At){Gt.flowing&&Gt.length===0&&!Gt.sync?(Gt.awaitDrain=0,qt.emit("data",vt)):(Gt.length+=Gt.objectMode?1:vt.length,At?Gt.buffer.unshift(vt):Gt.buffer.push(vt),Gt.needReadable&&zt(qt)),St(qt,Gt)}Object.defineProperty(dt.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(qt){this._readableState&&(this._readableState.destroyed=qt)}}),dt.prototype.destroy=wt.destroy,dt.prototype._undestroy=wt.undestroy,dt.prototype._destroy=function(qt,Gt){Gt(qt)},dt.prototype.push=function(qt,Gt){var vt,At=this._readableState;return At.objectMode?vt=!0:typeof qt=="string"&&((Gt=Gt||At.defaultEncoding)!==At.encoding&&(qt=$.from(qt,Gt),Gt=""),vt=!0),bt(this,qt,Gt,!1,vt)},dt.prototype.unshift=function(qt){return bt(this,qt,null,!0,!1)},dt.prototype.isPaused=function(){return this._readableState.flowing===!1},dt.prototype.setEncoding=function(qt){lt||(lt=o(19).StringDecoder);var Gt=new lt(qt);this._readableState.decoder=Gt,this._readableState.encoding=this._readableState.decoder.encoding;for(var vt=this._readableState.buffer.head,At="";vt!==null;)At+=Gt.write(vt.data),vt=vt.next;return this._readableState.buffer.clear(),At!==""&&this._readableState.buffer.push(At),this._readableState.length=At.length,this};function jt(qt,Gt){return qt<=0||Gt.length===0&&Gt.ended?0:Gt.objectMode?1:qt!=qt?Gt.flowing&&Gt.length?Gt.buffer.head.data.length:Gt.length:(qt>Gt.highWaterMark&&(Gt.highWaterMark=function(vt){return vt>=1073741824?vt=1073741824:(vt--,vt|=vt>>>1,vt|=vt>>>2,vt|=vt>>>4,vt|=vt>>>8,vt|=vt>>>16,vt++),vt}(qt)),qt<=Gt.length?qt:Gt.ended?Gt.length:(Gt.needReadable=!0,0))}function zt(qt){var Gt=qt._readableState;ut("emitReadable",Gt.needReadable,Gt.emittedReadable),Gt.needReadable=!1,Gt.emittedReadable||(ut("emitReadable",Gt.flowing),Gt.emittedReadable=!0,d.nextTick(kt,qt))}function kt(qt){var Gt=qt._readableState;ut("emitReadable_",Gt.destroyed,Gt.length,Gt.ended),Gt.destroyed||!Gt.length&&!Gt.ended||(qt.emit("readable"),Gt.emittedReadable=!1),Gt.needReadable=!Gt.flowing&&!Gt.ended&&Gt.length<=Gt.highWaterMark,Bt(qt)}function St(qt,Gt){Gt.readingMore||(Gt.readingMore=!0,d.nextTick(Dt,qt,Gt))}function Dt(qt,Gt){for(;!Gt.reading&&!Gt.ended&&(Gt.length<Gt.highWaterMark||Gt.flowing&&Gt.length===0);){var vt=Gt.length;if(ut("maybeReadMore read 0"),qt.read(0),vt===Gt.length)break}Gt.readingMore=!1}function Nt(qt){var Gt=qt._readableState;Gt.readableListening=qt.listenerCount("readable")>0,Gt.resumeScheduled&&!Gt.paused?Gt.flowing=!0:qt.listenerCount("data")>0&&qt.resume()}function _t(qt){ut("readable nexttick read 0"),qt.read(0)}function at(qt,Gt){ut("resume",Gt.reading),Gt.reading||qt.read(0),Gt.resumeScheduled=!1,qt.emit("resume"),Bt(qt),Gt.flowing&&!Gt.reading&&qt.read(0)}function Bt(qt){var Gt=qt._readableState;for(ut("flow",Gt.flowing);Gt.flowing&&qt.read()!==null;);}function Vt(qt,Gt){return Gt.length===0?null:(Gt.objectMode?vt=Gt.buffer.shift():!qt||qt>=Gt.length?(vt=Gt.decoder?Gt.buffer.join(""):Gt.buffer.length===1?Gt.buffer.first():Gt.buffer.concat(Gt.length),Gt.buffer.clear()):vt=Gt.buffer.consume(qt,Gt.decoder),vt);var vt}function Qt(qt){var Gt=qt._readableState;ut("endReadable",Gt.endEmitted),Gt.endEmitted||(Gt.ended=!0,d.nextTick(or,Gt,qt))}function or(qt,Gt){if(ut("endReadableNT",qt.endEmitted,qt.length),!qt.endEmitted&&qt.length===0&&(qt.endEmitted=!0,Gt.readable=!1,Gt.emit("end"),qt.autoDestroy)){var vt=Gt._writableState;(!vt||vt.autoDestroy&&vt.finished)&&Gt.destroy()}}function ar(qt,Gt){for(var vt=0,At=qt.length;vt<At;vt++)if(qt[vt]===Gt)return vt;return-1}dt.prototype.read=function(qt){ut("read",qt),qt=parseInt(qt,10);var Gt=this._readableState,vt=qt;if(qt!==0&&(Gt.emittedReadable=!1),qt===0&&Gt.needReadable&&((Gt.highWaterMark!==0?Gt.length>=Gt.highWaterMark:Gt.length>0)||Gt.ended))return ut("read: emitReadable",Gt.length,Gt.ended),Gt.length===0&&Gt.ended?Qt(this):zt(this),null;if((qt=jt(qt,Gt))===0&&Gt.ended)return Gt.length===0&&Qt(this),null;var At,It=Gt.needReadable;return ut("need readable",It),(Gt.length===0||Gt.length-qt<Gt.highWaterMark)&&ut("length less than watermark",It=!0),Gt.ended||Gt.reading?ut("reading or ended",It=!1):It&&(ut("do read"),Gt.reading=!0,Gt.sync=!0,Gt.length===0&&(Gt.needReadable=!0),this._read(Gt.highWaterMark),Gt.sync=!1,Gt.reading||(qt=jt(vt,Gt))),(At=qt>0?Vt(qt,Gt):null)===null?(Gt.needReadable=Gt.length<=Gt.highWaterMark,qt=0):(Gt.length-=qt,Gt.awaitDrain=0),Gt.length===0&&(Gt.ended||(Gt.needReadable=!0),vt!==qt&&Gt.ended&&Qt(this)),At!==null&&this.emit("data",At),At},dt.prototype._read=function(qt){Kt(this,new ct("_read()"))},dt.prototype.pipe=function(qt,Gt){var vt=this,At=this._readableState;switch(At.pipesCount){case 0:At.pipes=qt;break;case 1:At.pipes=[At.pipes,qt];break;default:At.pipes.push(qt)}At.pipesCount+=1,ut("pipe count=%d opts=%j",At.pipesCount,Gt);var It=(!Gt||Gt.end!==!1)&&qt!==d.stdout&&qt!==d.stderr?Zt:Cr;function Ht(Mr,Yr){ut("onunpipe"),Mr===vt&&Yr&&Yr.hasUnpiped===!1&&(Yr.hasUnpiped=!0,ut("cleanup"),qt.removeListener("close",cr),qt.removeListener("finish",mr),qt.removeListener("drain",rr),qt.removeListener("error",ir),qt.removeListener("unpipe",Ht),vt.removeListener("end",Zt),vt.removeListener("end",Cr),vt.removeListener("data",_r),pr=!0,!At.awaitDrain||qt._writableState&&!qt._writableState.needDrain||rr())}function Zt(){ut("onend"),qt.end()}At.endEmitted?d.nextTick(It):vt.once("end",It),qt.on("unpipe",Ht);var rr=function(Mr){return function(){var Yr=Mr._readableState;ut("pipeOnDrain",Yr.awaitDrain),Yr.awaitDrain&&Yr.awaitDrain--,Yr.awaitDrain===0&&Z(Mr,"data")&&(Yr.flowing=!0,Bt(Mr))}}(vt);qt.on("drain",rr);var pr=!1;function _r(Mr){ut("ondata");var Yr=qt.write(Mr);ut("dest.write",Yr),Yr===!1&&((At.pipesCount===1&&At.pipes===qt||At.pipesCount>1&&ar(At.pipes,qt)!==-1)&&!pr&&(ut("false write response, pause",At.awaitDrain),At.awaitDrain++),vt.pause())}function ir(Mr){ut("onerror",Mr),Cr(),qt.removeListener("error",ir),Z(qt,"error")===0&&Kt(qt,Mr)}function cr(){qt.removeListener("finish",mr),Cr()}function mr(){ut("onfinish"),qt.removeListener("close",cr),Cr()}function Cr(){ut("unpipe"),vt.unpipe(qt)}return vt.on("data",_r),function(Mr,Yr,an){if(typeof Mr.prependListener=="function")return Mr.prependListener(Yr,an);Mr._events&&Mr._events[Yr]?Array.isArray(Mr._events[Yr])?Mr._events[Yr].unshift(an):Mr._events[Yr]=[an,Mr._events[Yr]]:Mr.on(Yr,an)}(qt,"error",ir),qt.once("close",cr),qt.once("finish",mr),qt.emit("pipe",vt),At.flowing||(ut("pipe resume"),vt.resume()),qt},dt.prototype.unpipe=function(qt){var Gt=this._readableState,vt={hasUnpiped:!1};if(Gt.pipesCount===0)return this;if(Gt.pipesCount===1)return qt&&qt!==Gt.pipes||(qt||(qt=Gt.pipes),Gt.pipes=null,Gt.pipesCount=0,Gt.flowing=!1,qt&&qt.emit("unpipe",this,vt)),this;if(!qt){var At=Gt.pipes,It=Gt.pipesCount;Gt.pipes=null,Gt.pipesCount=0,Gt.flowing=!1;for(var Ht=0;Ht<It;Ht++)At[Ht].emit("unpipe",this,{hasUnpiped:!1});return this}var Zt=ar(Gt.pipes,qt);return Zt===-1||(Gt.pipes.splice(Zt,1),Gt.pipesCount-=1,Gt.pipesCount===1&&(Gt.pipes=Gt.pipes[0]),qt.emit("unpipe",this,vt)),this},dt.prototype.on=function(qt,Gt){var vt=s.prototype.on.call(this,qt,Gt),At=this._readableState;return qt==="data"?(At.readableListening=this.listenerCount("readable")>0,At.flowing!==!1&&this.resume()):qt==="readable"&&(At.endEmitted||At.readableListening||(At.readableListening=At.needReadable=!0,At.flowing=!1,At.emittedReadable=!1,ut("on readable",At.length,At.reading),At.length?zt(this):At.reading||d.nextTick(_t,this))),vt},dt.prototype.addListener=dt.prototype.on,dt.prototype.removeListener=function(qt,Gt){var vt=s.prototype.removeListener.call(this,qt,Gt);return qt==="readable"&&d.nextTick(Nt,this),vt},dt.prototype.removeAllListeners=function(qt){var Gt=s.prototype.removeAllListeners.apply(this,arguments);return qt!=="readable"&&qt!==void 0||d.nextTick(Nt,this),Gt},dt.prototype.resume=function(){var qt=this._readableState;return qt.flowing||(ut("resume"),qt.flowing=!qt.readableListening,function(Gt,vt){vt.resumeScheduled||(vt.resumeScheduled=!0,d.nextTick(at,Gt,vt))}(this,qt)),qt.paused=!1,this},dt.prototype.pause=function(){return ut("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ut("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},dt.prototype.wrap=function(qt){var Gt=this,vt=this._readableState,At=!1;for(var It in qt.on("end",function(){if(ut("wrapped end"),vt.decoder&&!vt.ended){var Zt=vt.decoder.end();Zt&&Zt.length&&Gt.push(Zt)}Gt.push(null)}),qt.on("data",function(Zt){ut("wrapped data"),vt.decoder&&(Zt=vt.decoder.write(Zt)),vt.objectMode&&Zt==null||(vt.objectMode||Zt&&Zt.length)&&(Gt.push(Zt)||(At=!0,qt.pause()))}),qt)this[It]===void 0&&typeof qt[It]=="function"&&(this[It]=function(Zt){return function(){return qt[Zt].apply(qt,arguments)}}(It));for(var Ht=0;Ht<Yt.length;Ht++)qt.on(Yt[Ht],this.emit.bind(this,Yt[Ht]));return this._read=function(Zt){ut("wrapped _read",Zt),At&&(At=!1,qt.resume())},this},typeof Symbol=="function"&&(dt.prototype[Symbol.asyncIterator]=function(){return ft===void 0&&(ft=o(181)),ft(this)}),Object.defineProperty(dt.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(dt.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(dt.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(qt){this._readableState&&(this._readableState.flowing=qt)}}),dt._fromList=Vt,Object.defineProperty(dt.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(dt.from=function(qt,Gt){return ot===void 0&&(ot=o(182)),ot(dt,qt,Gt)})}).call(this,o(5),o(2))},function(e,i,o){e.exports=o(18).EventEmitter},function(e,i,o){(function(c){function d(s,$){Z(s,$),j(s)}function j(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function Z(s,$){s.emit("error",$)}e.exports={destroy:function(s,$){var et=this,ut=this._readableState&&this._readableState.destroyed,gt=this._writableState&&this._writableState.destroyed;return ut||gt?($?$(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,c.nextTick(Z,this,s)):c.nextTick(Z,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(lt){!$&&lt?et._writableState?et._writableState.errorEmitted?c.nextTick(j,et):(et._writableState.errorEmitted=!0,c.nextTick(d,et,lt)):c.nextTick(d,et,lt):$?(c.nextTick(j,et),$(lt)):c.nextTick(j,et)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(s,$){var et=s._readableState,ut=s._writableState;et&&et.autoDestroy||ut&&ut.autoDestroy?s.destroy($):s.emit("error",$)}}}).call(this,o(2))},function(e,i,o){var c=o(24).codes.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(d,j,Z,s){var $=function(et,ut,gt){return et.highWaterMark!=null?et.highWaterMark:ut?et[gt]:null}(j,s,Z);if($!=null){if(!isFinite($)||Math.floor($)!==$||$<0)throw new c(s?Z:"highWaterMark",$);return Math.floor($)}return d.objectMode?16:16384}}},function(e,i,o){(function(c,d){function j(Dt){var Nt=this;this.next=null,this.entry=null,this.finish=function(){(function(_t,at,Bt){var Vt=_t.entry;for(_t.entry=null;Vt;){var Qt=Vt.callback;at.pendingcb--,Qt(Bt),Vt=Vt.next}at.corkedRequestsFree.next=_t})(Nt,Dt)}}var Z;e.exports=dt,dt.WritableState=pt;var s={deprecate:o(39)},$=o(76),et=o(4).Buffer,ut=c.Uint8Array||function(){},gt,lt=o(77),ft=o(78).getHighWaterMark,ot=o(24).codes,yt=ot.ERR_INVALID_ARG_TYPE,wt=ot.ERR_METHOD_NOT_IMPLEMENTED,Rt=ot.ERR_MULTIPLE_CALLBACK,Mt=ot.ERR_STREAM_CANNOT_PIPE,Tt=ot.ERR_STREAM_DESTROYED,Ct=ot.ERR_STREAM_NULL_VALUES,ct=ot.ERR_STREAM_WRITE_AFTER_END,Lt=ot.ERR_UNKNOWN_ENCODING,Kt=lt.errorOrDestroy;function Yt(){}function pt(Dt,Nt,_t){Z=Z||o(25),Dt=Dt||{},typeof _t!="boolean"&&(_t=Nt instanceof Z),this.objectMode=!!Dt.objectMode,_t&&(this.objectMode=this.objectMode||!!Dt.writableObjectMode),this.highWaterMark=ft(this,Dt,"writableHighWaterMark",_t),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var at=Dt.decodeStrings===!1;this.decodeStrings=!at,this.defaultEncoding=Dt.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Bt){(function(Vt,Qt){var or=Vt._writableState,ar=or.sync,qt=or.writecb;if(typeof qt!="function")throw new Rt;if(function(vt){vt.writing=!1,vt.writecb=null,vt.length-=vt.writelen,vt.writelen=0}(or),Qt)(function(vt,At,It,Ht,Zt){--At.pendingcb,It?(d.nextTick(Zt,Ht),d.nextTick(St,vt,At),vt._writableState.errorEmitted=!0,Kt(vt,Ht)):(Zt(Ht),vt._writableState.errorEmitted=!0,Kt(vt,Ht),St(vt,At))})(Vt,or,ar,Qt,qt);else{var Gt=zt(or)||Vt.destroyed;Gt||or.corked||or.bufferProcessing||!or.bufferedRequest||jt(Vt,or),ar?d.nextTick(mt,Vt,or,Gt,qt):mt(Vt,or,Gt,qt)}})(Nt,Bt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Dt.emitClose!==!1,this.autoDestroy=!!Dt.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new j(this)}function dt(Dt){var Nt=this instanceof(Z=Z||o(25));if(!Nt&&!gt.call(dt,this))return new dt(Dt);this._writableState=new pt(Dt,this,Nt),this.writable=!0,Dt&&(typeof Dt.write=="function"&&(this._write=Dt.write),typeof Dt.writev=="function"&&(this._writev=Dt.writev),typeof Dt.destroy=="function"&&(this._destroy=Dt.destroy),typeof Dt.final=="function"&&(this._final=Dt.final)),$.call(this)}function bt(Dt,Nt,_t,at,Bt,Vt,Qt){Nt.writelen=at,Nt.writecb=Qt,Nt.writing=!0,Nt.sync=!0,Nt.destroyed?Nt.onwrite(new Tt("write")):_t?Dt._writev(Bt,Nt.onwrite):Dt._write(Bt,Vt,Nt.onwrite),Nt.sync=!1}function mt(Dt,Nt,_t,at){_t||function(Bt,Vt){Vt.length===0&&Vt.needDrain&&(Vt.needDrain=!1,Bt.emit("drain"))}(Dt,Nt),Nt.pendingcb--,at(),St(Dt,Nt)}function jt(Dt,Nt){Nt.bufferProcessing=!0;var _t=Nt.bufferedRequest;if(Dt._writev&&_t&&_t.next){var at=Nt.bufferedRequestCount,Bt=new Array(at),Vt=Nt.corkedRequestsFree;Vt.entry=_t;for(var Qt=0,or=!0;_t;)Bt[Qt]=_t,_t.isBuf||(or=!1),_t=_t.next,Qt+=1;Bt.allBuffers=or,bt(Dt,Nt,!0,Nt.length,Bt,"",Vt.finish),Nt.pendingcb++,Nt.lastBufferedRequest=null,Vt.next?(Nt.corkedRequestsFree=Vt.next,Vt.next=null):Nt.corkedRequestsFree=new j(Nt),Nt.bufferedRequestCount=0}else{for(;_t;){var ar=_t.chunk,qt=_t.encoding,Gt=_t.callback;if(bt(Dt,Nt,!1,Nt.objectMode?1:ar.length,ar,qt,Gt),_t=_t.next,Nt.bufferedRequestCount--,Nt.writing)break}_t===null&&(Nt.lastBufferedRequest=null)}Nt.bufferedRequest=_t,Nt.bufferProcessing=!1}function zt(Dt){return Dt.ending&&Dt.length===0&&Dt.bufferedRequest===null&&!Dt.finished&&!Dt.writing}function kt(Dt,Nt){Dt._final(function(_t){Nt.pendingcb--,_t&&Kt(Dt,_t),Nt.prefinished=!0,Dt.emit("prefinish"),St(Dt,Nt)})}function St(Dt,Nt){var _t=zt(Nt);if(_t&&(function(Bt,Vt){Vt.prefinished||Vt.finalCalled||(typeof Bt._final!="function"||Vt.destroyed?(Vt.prefinished=!0,Bt.emit("prefinish")):(Vt.pendingcb++,Vt.finalCalled=!0,d.nextTick(kt,Bt,Vt)))}(Dt,Nt),Nt.pendingcb===0&&(Nt.finished=!0,Dt.emit("finish"),Nt.autoDestroy))){var at=Dt._readableState;(!at||at.autoDestroy&&at.endEmitted)&&Dt.destroy()}return _t}o(6)(dt,$),pt.prototype.getBuffer=function(){for(var Dt=this.bufferedRequest,Nt=[];Dt;)Nt.push(Dt),Dt=Dt.next;return Nt},function(){try{Object.defineProperty(pt.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(gt=Function.prototype[Symbol.hasInstance],Object.defineProperty(dt,Symbol.hasInstance,{value:function(Dt){return!!gt.call(this,Dt)||this===dt&&Dt&&Dt._writableState instanceof pt}})):gt=function(Dt){return Dt instanceof this},dt.prototype.pipe=function(){Kt(this,new Mt)},dt.prototype.write=function(Dt,Nt,_t){var at,Bt=this._writableState,Vt=!1,Qt=!Bt.objectMode&&(at=Dt,et.isBuffer(at)||at instanceof ut);return Qt&&!et.isBuffer(Dt)&&(Dt=function(or){return et.from(or)}(Dt)),typeof Nt=="function"&&(_t=Nt,Nt=null),Qt?Nt="buffer":Nt||(Nt=Bt.defaultEncoding),typeof _t!="function"&&(_t=Yt),Bt.ending?function(or,ar){var qt=new ct;Kt(or,qt),d.nextTick(ar,qt)}(this,_t):(Qt||function(or,ar,qt,Gt){var vt;return qt===null?vt=new Ct:typeof qt=="string"||ar.objectMode||(vt=new yt("chunk",["string","Buffer"],qt)),!vt||(Kt(or,vt),d.nextTick(Gt,vt),!1)}(this,Bt,Dt,_t))&&(Bt.pendingcb++,Vt=function(or,ar,qt,Gt,vt,At){if(!qt){var It=function(pr,_r,ir){return pr.objectMode||pr.decodeStrings===!1||typeof _r!="string"||(_r=et.from(_r,ir)),_r}(ar,Gt,vt);Gt!==It&&(qt=!0,vt="buffer",Gt=It)}var Ht=ar.objectMode?1:Gt.length;ar.length+=Ht;var Zt=ar.length<ar.highWaterMark;if(Zt||(ar.needDrain=!0),ar.writing||ar.corked){var rr=ar.lastBufferedRequest;ar.lastBufferedRequest={chunk:Gt,encoding:vt,isBuf:qt,callback:At,next:null},rr?rr.next=ar.lastBufferedRequest:ar.bufferedRequest=ar.lastBufferedRequest,ar.bufferedRequestCount+=1}else bt(or,ar,!1,Ht,Gt,vt,At);return Zt}(this,Bt,Qt,Dt,Nt,_t)),Vt},dt.prototype.cork=function(){this._writableState.corked++},dt.prototype.uncork=function(){var Dt=this._writableState;Dt.corked&&(Dt.corked--,Dt.writing||Dt.corked||Dt.bufferProcessing||!Dt.bufferedRequest||jt(this,Dt))},dt.prototype.setDefaultEncoding=function(Dt){if(typeof Dt=="string"&&(Dt=Dt.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Dt+"").toLowerCase())>-1))throw new Lt(Dt);return this._writableState.defaultEncoding=Dt,this},Object.defineProperty(dt.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(dt.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),dt.prototype._write=function(Dt,Nt,_t){_t(new wt("_write()"))},dt.prototype._writev=null,dt.prototype.end=function(Dt,Nt,_t){var at=this._writableState;return typeof Dt=="function"?(_t=Dt,Dt=null,Nt=null):typeof Nt=="function"&&(_t=Nt,Nt=null),Dt!=null&&this.write(Dt,Nt),at.corked&&(at.corked=1,this.uncork()),at.ending||function(Bt,Vt,Qt){Vt.ending=!0,St(Bt,Vt),Qt&&(Vt.finished?d.nextTick(Qt):Bt.once("finish",Qt)),Vt.ended=!0,Bt.writable=!1}(this,at,_t),this},Object.defineProperty(dt.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(dt.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(Dt){this._writableState&&(this._writableState.destroyed=Dt)}}),dt.prototype.destroy=lt.destroy,dt.prototype._undestroy=lt.undestroy,dt.prototype._destroy=function(Dt,Nt){Nt(Dt)}}).call(this,o(5),o(2))},function(e,i,o){e.exports=ut;var c=o(24).codes,d=c.ERR_METHOD_NOT_IMPLEMENTED,j=c.ERR_MULTIPLE_CALLBACK,Z=c.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=c.ERR_TRANSFORM_WITH_LENGTH_0,$=o(25);function et(ft,ot){var yt=this._transformState;yt.transforming=!1;var wt=yt.writecb;if(wt===null)return this.emit("error",new j);yt.writechunk=null,yt.writecb=null,ot!=null&&this.push(ot),wt(ft);var Rt=this._readableState;Rt.reading=!1,(Rt.needReadable||Rt.length<Rt.highWaterMark)&&this._read(Rt.highWaterMark)}function ut(ft){if(!(this instanceof ut))return new ut(ft);$.call(this,ft),this._transformState={afterTransform:et.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,ft&&(typeof ft.transform=="function"&&(this._transform=ft.transform),typeof ft.flush=="function"&&(this._flush=ft.flush)),this.on("prefinish",gt)}function gt(){var ft=this;typeof this._flush!="function"||this._readableState.destroyed?lt(this,null,null):this._flush(function(ot,yt){lt(ft,ot,yt)})}function lt(ft,ot,yt){if(ot)return ft.emit("error",ot);if(yt!=null&&ft.push(yt),ft._writableState.length)throw new s;if(ft._transformState.transforming)throw new Z;return ft.push(null)}o(6)(ut,$),ut.prototype.push=function(ft,ot){return this._transformState.needTransform=!1,$.prototype.push.call(this,ft,ot)},ut.prototype._transform=function(ft,ot,yt){yt(new d("_transform()"))},ut.prototype._write=function(ft,ot,yt){var wt=this._transformState;if(wt.writecb=yt,wt.writechunk=ft,wt.writeencoding=ot,!wt.transforming){var Rt=this._readableState;(wt.needTransform||Rt.needReadable||Rt.length<Rt.highWaterMark)&&this._read(Rt.highWaterMark)}},ut.prototype._read=function(ft){var ot=this._transformState;ot.writechunk===null||ot.transforming?ot.needTransform=!0:(ot.transforming=!0,this._transform(ot.writechunk,ot.writeencoding,ot.afterTransform))},ut.prototype._destroy=function(ft,ot){$.prototype._destroy.call(this,ft,function(yt){ot(yt)})}},function(e,i,o){(function(c){var d=o(189),j=o(83),Z=o(191),s=o(192),$=o(46),et=i;et.request=function(ut,gt){ut=typeof ut=="string"?$.parse(ut):Z(ut);var lt=c.location.protocol.search(/^https?:$/)===-1?"http:":"",ft=ut.protocol||lt,ot=ut.hostname||ut.host,yt=ut.port,wt=ut.path||"/";ot&&ot.indexOf(":")!==-1&&(ot="["+ot+"]"),ut.url=(ot?ft+"//"+ot:"")+(yt?":"+yt:"")+wt,ut.method=(ut.method||"GET").toUpperCase(),ut.headers=ut.headers||{};var Rt=new d(ut);return gt&&Rt.on("response",gt),Rt},et.get=function(ut,gt){var lt=et.request(ut,gt);return lt.end(),lt},et.ClientRequest=d,et.IncomingMessage=j.IncomingMessage,et.Agent=function(){},et.Agent.defaultMaxSockets=4,et.globalAgent=new et.Agent,et.STATUS_CODES=s,et.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,o(5))},function(e,i,o){(function(c){i.fetch=et(c.fetch)&&et(c.ReadableStream),i.writableStream=et(c.WritableStream),i.abortController=et(c.AbortController),i.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),i.blobConstructor=!0}catch{}var d;function j(){if(d!==void 0)return d;if(c.XMLHttpRequest){d=new c.XMLHttpRequest;try{d.open("GET",c.XDomainRequest?"/":"https://example.com")}catch{d=null}}else d=null;return d}function Z(ut){var gt=j();if(!gt)return!1;try{return gt.responseType=ut,gt.responseType===ut}catch{}return!1}var s=c.ArrayBuffer!==void 0,$=s&&et(c.ArrayBuffer.prototype.slice);function et(ut){return typeof ut=="function"}i.arraybuffer=i.fetch||s&&Z("arraybuffer"),i.msstream=!i.fetch&&$&&Z("ms-stream"),i.mozchunkedarraybuffer=!i.fetch&&s&&Z("moz-chunked-arraybuffer"),i.overrideMimeType=i.fetch||!!j()&&et(j().overrideMimeType),i.vbArray=et(c.VBArray),d=null}).call(this,o(5))},function(e,i,o){(function(c,d,j){var Z=o(82),s=o(6),$=o(28),et=i.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},ut=i.IncomingMessage=function(gt,lt,ft,ot){var yt=this;if($.Readable.call(yt),yt._mode=ft,yt.headers={},yt.rawHeaders=[],yt.trailers={},yt.rawTrailers=[],yt.on("end",function(){c.nextTick(function(){yt.emit("close")})}),ft==="fetch"){if(yt._fetchResponse=lt,yt.url=lt.url,yt.statusCode=lt.status,yt.statusMessage=lt.statusText,lt.headers.forEach(function(Ct,ct){yt.headers[ct.toLowerCase()]=Ct,yt.rawHeaders.push(ct,Ct)}),Z.writableStream){var wt=new WritableStream({write:function(Ct){return new Promise(function(ct,Lt){yt._destroyed?Lt():yt.push(new d(Ct))?ct():yt._resumeFetch=ct})},close:function(){j.clearTimeout(ot),yt._destroyed||yt.push(null)},abort:function(Ct){yt._destroyed||yt.emit("error",Ct)}});try{return void lt.body.pipeTo(wt).catch(function(Ct){j.clearTimeout(ot),yt._destroyed||yt.emit("error",Ct)})}catch{}}var Rt=lt.body.getReader();(function Ct(){Rt.read().then(function(ct){if(!yt._destroyed){if(ct.done)return j.clearTimeout(ot),void yt.push(null);yt.push(new d(ct.value)),Ct()}}).catch(function(ct){j.clearTimeout(ot),yt._destroyed||yt.emit("error",ct)})})()}else if(yt._xhr=gt,yt._pos=0,yt.url=gt.responseURL,yt.statusCode=gt.status,yt.statusMessage=gt.statusText,gt.getAllResponseHeaders().split(/\r?\n/).forEach(function(Ct){var ct=Ct.match(/^([^:]+):\s*(.*)/);if(ct){var Lt=ct[1].toLowerCase();Lt==="set-cookie"?(yt.headers[Lt]===void 0&&(yt.headers[Lt]=[]),yt.headers[Lt].push(ct[2])):yt.headers[Lt]!==void 0?yt.headers[Lt]+=", "+ct[2]:yt.headers[Lt]=ct[2],yt.rawHeaders.push(ct[1],ct[2])}}),yt._charset="x-user-defined",!Z.overrideMimeType){var Mt=yt.rawHeaders["mime-type"];if(Mt){var Tt=Mt.match(/;\s*charset=([^;])(;|$)/);Tt&&(yt._charset=Tt[1].toLowerCase())}yt._charset||(yt._charset="utf-8")}};s(ut,$.Readable),ut.prototype._read=function(){var gt=this._resumeFetch;gt&&(this._resumeFetch=null,gt())},ut.prototype._onXHRProgress=function(){var gt=this,lt=gt._xhr,ft=null;switch(gt._mode){case"text:vbarray":if(lt.readyState!==et.DONE)break;try{ft=new j.VBArray(lt.responseBody).toArray()}catch{}if(ft!==null){gt.push(new d(ft));break}case"text":try{ft=lt.responseText}catch{gt._mode="text:vbarray";break}if(ft.length>gt._pos){var ot=ft.substr(gt._pos);if(gt._charset==="x-user-defined"){for(var yt=new d(ot.length),wt=0;wt<ot.length;wt++)yt[wt]=255&ot.charCodeAt(wt);gt.push(yt)}else gt.push(ot,gt._charset);gt._pos=ft.length}break;case"arraybuffer":if(lt.readyState!==et.DONE||!lt.response)break;ft=lt.response,gt.push(new d(new Uint8Array(ft)));break;case"moz-chunked-arraybuffer":if(ft=lt.response,lt.readyState!==et.LOADING||!ft)break;gt.push(new d(new Uint8Array(ft)));break;case"ms-stream":if(ft=lt.response,lt.readyState!==et.LOADING)break;var Rt=new j.MSStreamReader;Rt.onprogress=function(){Rt.result.byteLength>gt._pos&&(gt.push(new d(new Uint8Array(Rt.result.slice(gt._pos)))),gt._pos=Rt.result.byteLength)},Rt.onload=function(){gt.push(null)},Rt.readAsArrayBuffer(ft)}gt._xhr.readyState===et.DONE&&gt._mode!=="ms-stream"&&gt.push(null)}}).call(this,o(2),o(4).Buffer,o(5))},function(e,i,o){const c=d=>d!==null&&typeof d=="object"&&typeof d.pipe=="function";c.writable=d=>c(d)&&d.writable!==!1&&typeof d._write=="function"&&typeof d._writableState=="object",c.readable=d=>c(d)&&d.readable!==!1&&typeof d._read=="function"&&typeof d._readableState=="object",c.duplex=d=>c.writable(d)&&c.readable(d),c.transform=d=>c.duplex(d)&&typeof d._transform=="function"&&typeof d._transformState=="object",e.exports=c},function(e,i,o){function c(yt){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(yt)}function d(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function j(yt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),wt&&Z(yt,wt)}function Z(yt,wt){return(Z=Object.setPrototypeOf||function(Rt,Mt){return Rt.__proto__=Mt,Rt})(yt,wt)}function s(yt){var wt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Rt,Mt=et(yt);if(wt){var Tt=et(this).constructor;Rt=Reflect.construct(Mt,arguments,Tt)}else Rt=Mt.apply(this,arguments);return $(this,Rt)}}function $(yt,wt){return!wt||c(wt)!=="object"&&typeof wt!="function"?function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(yt):wt}function et(yt){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(yt)}var ut=o(3).LEVEL,gt=o(47),lt=o(201),ft=o(34)("winston:create-logger");function ot(yt){return"is"+yt.charAt(0).toUpperCase()+yt.slice(1)+"Enabled"}e.exports=function(){var yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};yt.levels=yt.levels||gt.npm.levels;var wt=function(Mt){j(Ct,Mt);var Tt=s(Ct);function Ct(ct){return d(this,Ct),Tt.call(this,ct)}return Ct}(lt),Rt=new wt(yt);return Object.keys(yt.levels).forEach(function(Mt){ft('Define prototype method for "%s"',Mt),Mt!=="log"?(wt.prototype[Mt]=function(){for(var Tt=this||Rt,Ct=arguments.length,ct=new Array(Ct),Lt=0;Lt<Ct;Lt++)ct[Lt]=arguments[Lt];if(ct.length===1){var Kt=ct[0],Yt=Kt&&Kt.message&&Kt||{message:Kt};return Yt.level=Yt[ut]=Mt,Tt._addDefaultMeta(Yt),Tt.write(Yt),this||Rt}return ct.length===0?(Tt.log(Mt,""),Tt):Tt.log.apply(Tt,[Mt].concat(ct))},wt.prototype[ot(Mt)]=function(){return(this||Rt).isLevelEnabled(Mt)}):console.warn('Level "log" not defined: conflicts with the method "log". Use a different level name.')}),Rt}},function(e,i,o){(function(c){function d(gt,lt){for(var ft=0;ft<lt.length;ft++){var ot=lt[ft];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(gt,ot.key,ot)}}var j=o(15),Z=o(48),s=o(34)("winston:exception"),$=o(87),et=o(88),ut=o(89);e.exports=function(){function gt(ot){if(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,gt),!ot)throw new Error("Logger is required to handle exceptions");this.logger=ot,this.handlers=new Map}var lt,ft;return lt=gt,(ft=[{key:"handle",value:function(){for(var ot=this,yt=arguments.length,wt=new Array(yt),Rt=0;Rt<yt;Rt++)wt[Rt]=arguments[Rt];wt.forEach(function(Mt){if(Array.isArray(Mt))return Mt.forEach(function(Tt){return ot._addHandler(Tt)});ot._addHandler(Mt)}),this.catcher||(this.catcher=this._uncaughtException.bind(this),c.on("uncaughtException",this.catcher))}},{key:"unhandle",value:function(){var ot=this;this.catcher&&(c.removeListener("uncaughtException",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(yt){return ot.logger.unpipe(yt)}))}},{key:"getAllInfo",value:function(ot){var yt=ot.message;return yt||typeof ot!="string"||(yt=ot),{error:ot,level:"error",message:["uncaughtException: ".concat(yt||"(no error message)"),ot.stack||"  No stack trace"].join(`
`),stack:ot.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ot)}}},{key:"getProcessInfo",value:function(){return{pid:c.pid,uid:c.getuid?c.getuid():null,gid:c.getgid?c.getgid():null,cwd:c.cwd(),execPath:c.execPath,version:c.version,argv:c.argv,memoryUsage:c.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:j.loadavg(),uptime:j.uptime()}}},{key:"getTrace",value:function(ot){return(ot?et.parse(ot):et.get()).map(function(yt){return{column:yt.getColumnNumber(),file:yt.getFileName(),function:yt.getFunctionName(),line:yt.getLineNumber(),method:yt.getMethodName(),native:yt.isNative()}})}},{key:"_addHandler",value:function(ot){if(!this.handlers.has(ot)){ot.handleExceptions=!0;var yt=new ut(ot);this.handlers.set(ot,yt),this.logger.pipe(yt)}}},{key:"_uncaughtException",value:function(ot){var yt,wt=this.getAllInfo(ot),Rt=this._getExceptionHandlers(),Mt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ot):this.logger.exitOnError;function Tt(){s("doExit",Mt),s("process._exiting",c._exiting),Mt&&!c._exiting&&(yt&&clearTimeout(yt),c.exit(1))}if(!Rt.length&&Mt&&(console.warn("winston: exitOnError cannot be true with no exception handlers."),console.warn("winston: not exiting process."),Mt=!1),!Rt||Rt.length===0)return c.nextTick(Tt);Z(Rt,function(Ct,ct){var Lt=$(ct),Kt=Ct.transport||Ct;function Yt(pt){return function(){s(pt),Lt()}}Kt._ending=!0,Kt.once("finish",Yt("finished")),Kt.once("error",Yt("error"))},function(){return Mt&&Tt()}),this.logger.log(wt),Mt&&(yt=setTimeout(Tt,3e3))}},{key:"_getExceptionHandlers",value:function(){return this.logger.transports.filter(function(ot){return(ot.transport||ot).handleExceptions})}}])&&d(lt.prototype,ft),gt}()}).call(this,o(2))},function(e,i,o){var c=o(204);e.exports=function(d){var j,Z=0;function s(){return Z||(Z=1,j=d.apply(this,arguments),d=null),j}return s.displayName=c(d),s}},function(e,i){function o(c){for(var d in c)this[d]=c[d]}i.get=function(c){var d=Error.stackTraceLimit;Error.stackTraceLimit=1/0;var j={},Z=Error.prepareStackTrace;Error.prepareStackTrace=function($,et){return et},Error.captureStackTrace(j,c||i.get);var s=j.stack;return Error.prepareStackTrace=Z,Error.stackTraceLimit=d,s},i.parse=function(c){if(!c.stack)return[];var d=this;return c.stack.split(`
`).slice(1).map(function(j){if(j.match(/^\s*[-]{4,}$/))return d._createParsedCallSite({fileName:j,lineNumber:null,functionName:null,typeName:null,methodName:null,columnNumber:null,native:null});var Z=j.match(/at (?:(.+)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/);if(Z){var s=null,$=null,et=null,ut=null,gt=null,lt=Z[5]==="native";if(Z[1]){var ft=(et=Z[1]).lastIndexOf(".");if(et[ft-1]=="."&&ft--,ft>0){s=et.substr(0,ft),$=et.substr(ft+1);var ot=s.indexOf(".Module");ot>0&&(et=et.substr(ot+1),s=s.substr(0,ot))}ut=null}$&&(ut=s,gt=$),$==="<anonymous>"&&(gt=null,et=null);var yt={fileName:Z[2]||null,lineNumber:parseInt(Z[3],10)||null,functionName:et,typeName:ut,methodName:gt,columnNumber:parseInt(Z[4],10)||null,native:lt};return d._createParsedCallSite(yt)}}).filter(function(j){return!!j})},["this","typeName","functionName","methodName","fileName","lineNumber","columnNumber","function","evalOrigin"].forEach(function(c){o.prototype[c]=null,o.prototype["get"+c[0].toUpperCase()+c.substr(1)]=function(){return this[c]}}),["topLevel","eval","native","constructor"].forEach(function(c){o.prototype[c]=!1,o.prototype["is"+c[0].toUpperCase()+c.substr(1)]=function(){return this[c]}}),i._createParsedCallSite=function(c){return new o(c)}},function(e,i,o){function c(ut){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(gt){return typeof gt}:function(gt){return gt&&typeof Symbol=="function"&&gt.constructor===Symbol&&gt!==Symbol.prototype?"symbol":typeof gt})(ut)}function d(ut,gt){for(var lt=0;lt<gt.length;lt++){var ft=gt[lt];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(ut,ft.key,ft)}}function j(ut,gt){return(j=Object.setPrototypeOf||function(lt,ft){return lt.__proto__=ft,lt})(ut,gt)}function Z(ut){var gt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var lt,ft=$(ut);if(gt){var ot=$(this).constructor;lt=Reflect.construct(ft,arguments,ot)}else lt=ft.apply(this,arguments);return s(this,lt)}}function s(ut,gt){return!gt||c(gt)!=="object"&&typeof gt!="function"?function(lt){if(lt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lt}(ut):gt}function $(ut){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(gt){return gt.__proto__||Object.getPrototypeOf(gt)})(ut)}var et=o(29).Writable;e.exports=function(ut){(function(yt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),wt&&j(yt,wt)})(ot,ut);var gt,lt,ft=Z(ot);function ot(yt){var wt;if(function(Rt,Mt){if(!(Rt instanceof Mt))throw new TypeError("Cannot call a class as a function")}(this,ot),wt=ft.call(this,{objectMode:!0}),!yt)throw new Error("ExceptionStream requires a TransportStream instance.");return wt.handleExceptions=!0,wt.transport=yt,wt}return gt=ot,(lt=[{key:"_write",value:function(yt,wt,Rt){return yt.exception?this.transport.log(yt,Rt):(Rt(),!0)}}])&&d(gt.prototype,lt),ot}(et)},function(e,i,o){(function(c){function d(gt,lt){for(var ft=0;ft<lt.length;ft++){var ot=lt[ft];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(gt,ot.key,ot)}}var j=o(15),Z=o(48),s=o(34)("winston:rejection"),$=o(87),et=o(88),ut=o(89);e.exports=function(){function gt(ot){if(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,gt),!ot)throw new Error("Logger is required to handle rejections");this.logger=ot,this.handlers=new Map}var lt,ft;return lt=gt,(ft=[{key:"handle",value:function(){for(var ot=this,yt=arguments.length,wt=new Array(yt),Rt=0;Rt<yt;Rt++)wt[Rt]=arguments[Rt];wt.forEach(function(Mt){if(Array.isArray(Mt))return Mt.forEach(function(Tt){return ot._addHandler(Tt)});ot._addHandler(Mt)}),this.catcher||(this.catcher=this._unhandledRejection.bind(this),c.on("unhandledRejection",this.catcher))}},{key:"unhandle",value:function(){var ot=this;this.catcher&&(c.removeListener("unhandledRejection",this.catcher),this.catcher=!1,Array.from(this.handlers.values()).forEach(function(yt){return ot.logger.unpipe(yt)}))}},{key:"getAllInfo",value:function(ot){var yt=ot.message;return yt||typeof ot!="string"||(yt=ot),{error:ot,level:"error",message:["unhandledRejection: ".concat(yt||"(no error message)"),ot.stack||"  No stack trace"].join(`
`),stack:ot.stack,exception:!0,date:new Date().toString(),process:this.getProcessInfo(),os:this.getOsInfo(),trace:this.getTrace(ot)}}},{key:"getProcessInfo",value:function(){return{pid:c.pid,uid:c.getuid?c.getuid():null,gid:c.getgid?c.getgid():null,cwd:c.cwd(),execPath:c.execPath,version:c.version,argv:c.argv,memoryUsage:c.memoryUsage()}}},{key:"getOsInfo",value:function(){return{loadavg:j.loadavg(),uptime:j.uptime()}}},{key:"getTrace",value:function(ot){return(ot?et.parse(ot):et.get()).map(function(yt){return{column:yt.getColumnNumber(),file:yt.getFileName(),function:yt.getFunctionName(),line:yt.getLineNumber(),method:yt.getMethodName(),native:yt.isNative()}})}},{key:"_addHandler",value:function(ot){if(!this.handlers.has(ot)){ot.handleRejections=!0;var yt=new ut(ot);this.handlers.set(ot,yt),this.logger.pipe(yt)}}},{key:"_unhandledRejection",value:function(ot){var yt,wt=this.getAllInfo(ot),Rt=this._getRejectionHandlers(),Mt=typeof this.logger.exitOnError=="function"?this.logger.exitOnError(ot):this.logger.exitOnError;function Tt(){s("doExit",Mt),s("process._exiting",c._exiting),Mt&&!c._exiting&&(yt&&clearTimeout(yt),c.exit(1))}if(!Rt.length&&Mt&&(console.warn("winston: exitOnError cannot be true with no rejection handlers."),console.warn("winston: not exiting process."),Mt=!1),!Rt||Rt.length===0)return c.nextTick(Tt);Z(Rt,function(Ct,ct){var Lt=$(ct),Kt=Ct.transport||Ct;function Yt(pt){return function(){s(pt),Lt()}}Kt._ending=!0,Kt.once("finish",Yt("finished")),Kt.once("error",Yt("error"))},function(){return Mt&&Tt()}),this.logger.log(wt),Mt&&(yt=setTimeout(Tt,3e3))}},{key:"_getRejectionHandlers",value:function(){return this.logger.transports.filter(function(ot){return(ot.transport||ot).handleRejections})}}])&&d(lt.prototype,ft),gt}()}).call(this,o(2))},function(e,i,o){const c=o(50);e.exports=function(d){const j=c(d);if(j<0)throw new Error("should be a positive integer");return j}},function(e,i,o){const c=o(46).URL,d=o(35);e.exports=function(j){const Z=d(j);try{return new c(Z)}catch{throw new Error("should be a valid URL")}}},function(e,i,o){const c={};c.web=o(22),o(94);const d={v1:{}};d.v1.signaling={},d.v1.signaling.api=o(8),d.v1.signaling.api.SignalingClient=function(lt,ft,ot){ot||(ot={}),ot.format="text",this.client_=new c.web.GrpcWebClientBase(ot),this.hostname_=lt},d.v1.signaling.api.SignalingPromiseClient=function(lt,ft,ot){ot||(ot={}),ot.format="text",this.client_=new c.web.GrpcWebClientBase(ot),this.hostname_=lt};const j=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/CreatePeer",c.web.MethodType.UNARY,d.v1.signaling.api.CreatePeerRequest,d.v1.signaling.api.CreatePeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.CreatePeerResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.CreatePeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.CreatePeerResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.createPeer=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",lt,ft||{},j,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.createPeer=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/CreatePeer",lt,ft||{},j)};const Z=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/DeletePeer",c.web.MethodType.UNARY,d.v1.signaling.api.DeletePeerRequest,d.v1.signaling.api.DeletePeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.DeletePeerResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.DeletePeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.DeletePeerResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.deletePeer=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",lt,ft||{},Z,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.deletePeer=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/DeletePeer",lt,ft||{},Z)};const s=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/RefreshPeer",c.web.MethodType.UNARY,d.v1.signaling.api.RefreshPeerRequest,d.v1.signaling.api.RefreshPeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.RefreshPeerResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.RefreshPeerResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.RefreshPeerResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.refreshPeer=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",lt,ft||{},s,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.refreshPeer=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/RefreshPeer",lt,ft||{},s)};const $=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/GetPeers",c.web.MethodType.UNARY,d.v1.signaling.api.GetPeersRequest,d.v1.signaling.api.GetPeersResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.GetPeersResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.GetPeersResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.GetPeersResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.getPeers=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",lt,ft||{},$,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.getPeers=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetPeers",lt,ft||{},$)};const et=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/GetIceServers",c.web.MethodType.UNARY,d.v1.signaling.api.GetIceServersRequest,d.v1.signaling.api.GetIceServersResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.GetIceServersResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.GetIceServersResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.GetIceServersResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.getIceServers=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",lt,ft||{},et,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.getIceServers=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/GetIceServers",lt,ft||{},et)};const ut=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/SendSignal",c.web.MethodType.UNARY,d.v1.signaling.api.SendSignalRequest,d.v1.signaling.api.SendSignalResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.SendSignalResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.SendSignalResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.SendSignalResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.sendSignal=function(lt,ft,ot){return this.client_.rpcCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",lt,ft||{},ut,ot)},d.v1.signaling.api.SignalingPromiseClient.prototype.sendSignal=function(lt,ft){return this.client_.unaryCall(this.hostname_+"/v1.signaling.api.Signaling/SendSignal",lt,ft||{},ut)};const gt=new c.web.MethodDescriptor("/v1.signaling.api.Signaling/ReceiveSignalStream",c.web.MethodType.SERVER_STREAMING,d.v1.signaling.api.ReceiveSignalStreamRequest,d.v1.signaling.api.ReceiveSignalStreamResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary);new c.web.AbstractClientBase.MethodInfo(d.v1.signaling.api.ReceiveSignalStreamResponse,function(lt){return lt.serializeBinary()},d.v1.signaling.api.ReceiveSignalStreamResponse.deserializeBinary),d.v1.signaling.api.SignalingClient.prototype.receiveSignalStream=function(lt,ft){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",lt,ft||{},gt)},d.v1.signaling.api.SignalingPromiseClient.prototype.receiveSignalStream=function(lt,ft){return this.client_.serverStreaming(this.hostname_+"/v1.signaling.api.Signaling/ReceiveSignalStream",lt,ft||{},gt)},e.exports=d.v1.signaling.api},function(e,i,o){var c=o(95),d=c,j=Function("return this")();d.exportSymbol("proto.google.protobuf.BoolValue",null,j),d.exportSymbol("proto.google.protobuf.BytesValue",null,j),d.exportSymbol("proto.google.protobuf.DoubleValue",null,j),d.exportSymbol("proto.google.protobuf.FloatValue",null,j),d.exportSymbol("proto.google.protobuf.Int32Value",null,j),d.exportSymbol("proto.google.protobuf.Int64Value",null,j),d.exportSymbol("proto.google.protobuf.StringValue",null,j),d.exportSymbol("proto.google.protobuf.UInt32Value",null,j),d.exportSymbol("proto.google.protobuf.UInt64Value",null,j),proto.google.protobuf.DoubleValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.DoubleValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.DoubleValue.displayName="proto.google.protobuf.DoubleValue"),proto.google.protobuf.FloatValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.FloatValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.FloatValue.displayName="proto.google.protobuf.FloatValue"),proto.google.protobuf.Int64Value=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.Int64Value,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.Int64Value.displayName="proto.google.protobuf.Int64Value"),proto.google.protobuf.UInt64Value=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.UInt64Value,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt64Value.displayName="proto.google.protobuf.UInt64Value"),proto.google.protobuf.Int32Value=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.Int32Value,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.Int32Value.displayName="proto.google.protobuf.Int32Value"),proto.google.protobuf.UInt32Value=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.UInt32Value,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.UInt32Value.displayName="proto.google.protobuf.UInt32Value"),proto.google.protobuf.BoolValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.BoolValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.BoolValue.displayName="proto.google.protobuf.BoolValue"),proto.google.protobuf.StringValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.StringValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.StringValue.displayName="proto.google.protobuf.StringValue"),proto.google.protobuf.BytesValue=function(Z){c.Message.initialize(this,Z,0,-1,null,null)},d.inherits(proto.google.protobuf.BytesValue,c.Message),d.DEBUG&&!COMPILED&&(proto.google.protobuf.BytesValue.displayName="proto.google.protobuf.BytesValue"),c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.DoubleValue.prototype.toObject=function(Z){return proto.google.protobuf.DoubleValue.toObject(Z,this)},proto.google.protobuf.DoubleValue.toObject=function(Z,s){var $={value:c.Message.getFloatingPointFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.DoubleValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.DoubleValue;return proto.google.protobuf.DoubleValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.DoubleValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readDouble();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.DoubleValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.DoubleValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.DoubleValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeDouble(1,$)},proto.google.protobuf.DoubleValue.prototype.getValue=function(){return c.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.DoubleValue.prototype.setValue=function(Z){return c.Message.setProto3FloatField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.FloatValue.prototype.toObject=function(Z){return proto.google.protobuf.FloatValue.toObject(Z,this)},proto.google.protobuf.FloatValue.toObject=function(Z,s){var $={value:c.Message.getFloatingPointFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.FloatValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.FloatValue;return proto.google.protobuf.FloatValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.FloatValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readFloat();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.FloatValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.FloatValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.FloatValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeFloat(1,$)},proto.google.protobuf.FloatValue.prototype.getValue=function(){return c.Message.getFloatingPointFieldWithDefault(this,1,0)},proto.google.protobuf.FloatValue.prototype.setValue=function(Z){return c.Message.setProto3FloatField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int64Value.prototype.toObject=function(Z){return proto.google.protobuf.Int64Value.toObject(Z,this)},proto.google.protobuf.Int64Value.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.Int64Value.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.Int64Value;return proto.google.protobuf.Int64Value.deserializeBinaryFromReader($,s)},proto.google.protobuf.Int64Value.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readInt64();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.Int64Value.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.Int64Value.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.Int64Value.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeInt64(1,$)},proto.google.protobuf.Int64Value.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int64Value.prototype.setValue=function(Z){return c.Message.setProto3IntField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt64Value.prototype.toObject=function(Z){return proto.google.protobuf.UInt64Value.toObject(Z,this)},proto.google.protobuf.UInt64Value.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.UInt64Value.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.UInt64Value;return proto.google.protobuf.UInt64Value.deserializeBinaryFromReader($,s)},proto.google.protobuf.UInt64Value.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readUint64();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.UInt64Value.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.UInt64Value.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.UInt64Value.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeUint64(1,$)},proto.google.protobuf.UInt64Value.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt64Value.prototype.setValue=function(Z){return c.Message.setProto3IntField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.Int32Value.prototype.toObject=function(Z){return proto.google.protobuf.Int32Value.toObject(Z,this)},proto.google.protobuf.Int32Value.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.Int32Value.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.Int32Value;return proto.google.protobuf.Int32Value.deserializeBinaryFromReader($,s)},proto.google.protobuf.Int32Value.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readInt32();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.Int32Value.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.Int32Value.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.Int32Value.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeInt32(1,$)},proto.google.protobuf.Int32Value.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.Int32Value.prototype.setValue=function(Z){return c.Message.setProto3IntField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.UInt32Value.prototype.toObject=function(Z){return proto.google.protobuf.UInt32Value.toObject(Z,this)},proto.google.protobuf.UInt32Value.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,0)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.UInt32Value.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.UInt32Value;return proto.google.protobuf.UInt32Value.deserializeBinaryFromReader($,s)},proto.google.protobuf.UInt32Value.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readUint32();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.UInt32Value.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.UInt32Value.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.UInt32Value.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())!==0&&s.writeUint32(1,$)},proto.google.protobuf.UInt32Value.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,0)},proto.google.protobuf.UInt32Value.prototype.setValue=function(Z){return c.Message.setProto3IntField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BoolValue.prototype.toObject=function(Z){return proto.google.protobuf.BoolValue.toObject(Z,this)},proto.google.protobuf.BoolValue.toObject=function(Z,s){var $={value:c.Message.getBooleanFieldWithDefault(s,1,!1)};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.BoolValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.BoolValue;return proto.google.protobuf.BoolValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.BoolValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readBool();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.BoolValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.BoolValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.BoolValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue())&&s.writeBool(1,$)},proto.google.protobuf.BoolValue.prototype.getValue=function(){return c.Message.getBooleanFieldWithDefault(this,1,!1)},proto.google.protobuf.BoolValue.prototype.setValue=function(Z){return c.Message.setProto3BooleanField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.StringValue.prototype.toObject=function(Z){return proto.google.protobuf.StringValue.toObject(Z,this)},proto.google.protobuf.StringValue.toObject=function(Z,s){var $={value:c.Message.getFieldWithDefault(s,1,"")};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.StringValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.StringValue;return proto.google.protobuf.StringValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.StringValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readString();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.StringValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.StringValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.StringValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue()).length>0&&s.writeString(1,$)},proto.google.protobuf.StringValue.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.StringValue.prototype.setValue=function(Z){return c.Message.setProto3StringField(this,1,Z)},c.Message.GENERATE_TO_OBJECT&&(proto.google.protobuf.BytesValue.prototype.toObject=function(Z){return proto.google.protobuf.BytesValue.toObject(Z,this)},proto.google.protobuf.BytesValue.toObject=function(Z,s){var $={value:s.getValue_asB64()};return Z&&($.$jspbMessageInstance=s),$}),proto.google.protobuf.BytesValue.deserializeBinary=function(Z){var s=new c.BinaryReader(Z),$=new proto.google.protobuf.BytesValue;return proto.google.protobuf.BytesValue.deserializeBinaryFromReader($,s)},proto.google.protobuf.BytesValue.deserializeBinaryFromReader=function(Z,s){for(;s.nextField()&&!s.isEndGroup();)switch(s.getFieldNumber()){case 1:var $=s.readBytes();Z.setValue($);break;default:s.skipField()}return Z},proto.google.protobuf.BytesValue.prototype.serializeBinary=function(){var Z=new c.BinaryWriter;return proto.google.protobuf.BytesValue.serializeBinaryToWriter(this,Z),Z.getResultBuffer()},proto.google.protobuf.BytesValue.serializeBinaryToWriter=function(Z,s){var $;($=Z.getValue_asU8()).length>0&&s.writeBytes(1,$)},proto.google.protobuf.BytesValue.prototype.getValue=function(){return c.Message.getFieldWithDefault(this,1,"")},proto.google.protobuf.BytesValue.prototype.getValue_asB64=function(){return c.Message.bytesAsB64(this.getValue())},proto.google.protobuf.BytesValue.prototype.getValue_asU8=function(){return c.Message.bytesAsU8(this.getValue())},proto.google.protobuf.BytesValue.prototype.setValue=function(Z){return c.Message.setProto3BytesField(this,1,Z)},d.object.extend(i,proto.google.protobuf)},function(module,exports,__webpack_require__){(function(global,Buffer){var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(e,i,o){e instanceof String&&(e=String(e));for(var c=e.length,d=0;d<c;d++){var j=e[d];if(i.call(o,j,d,e))return{i:d,v:j}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(e,i,o){e!=Array.prototype&&e!=Object.prototype&&(e[i]=o.value)},$jscomp.getGlobal=function(e){return typeof window!="undefined"&&window===e?e:global!==void 0&&global!=null?global:e},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(e,i,o,c){if(i){for(o=$jscomp.global,e=e.split("."),c=0;c<e.length-1;c++){var d=e[c];d in o||(o[d]={}),o=o[d]}(i=i(c=o[e=e[e.length-1]]))!=c&&i!=null&&$jscomp.defineProperty(o,e,{configurable:!0,writable:!0,value:i})}},$jscomp.polyfill("Array.prototype.findIndex",function(e){return e||function(i,o){return $jscomp.findInternal(this,i,o).i}},"es6","es3"),$jscomp.checkStringArgs=function(e,i,o){if(e==null)throw new TypeError("The 'this' value for String.prototype."+o+" must not be null or undefined");if(i instanceof RegExp)throw new TypeError("First argument to String.prototype."+o+" must not be a regular expression");return e+""},$jscomp.polyfill("String.prototype.endsWith",function(e){return e||function(i,o){var c=$jscomp.checkStringArgs(this,i,"endsWith");i+="",o===void 0&&(o=c.length),o=Math.max(0,Math.min(0|o,c.length));for(var d=i.length;0<d&&0<o;)if(c[--o]!=i[--d])return!1;return 0>=d}},"es6","es3"),$jscomp.polyfill("Array.prototype.find",function(e){return e||function(i,o){return $jscomp.findInternal(this,i,o).v}},"es6","es3"),$jscomp.polyfill("String.prototype.startsWith",function(e){return e||function(i,o){var c=$jscomp.checkStringArgs(this,i,"startsWith");i+="";var d=c.length,j=i.length;o=Math.max(0,Math.min(0|o,c.length));for(var Z=0;Z<j&&o<d;)if(c[o++]!=i[Z++])return!1;return Z>=j}},"es6","es3"),$jscomp.polyfill("String.prototype.repeat",function(e){return e||function(i){var o=$jscomp.checkStringArgs(this,null,"repeat");if(0>i||1342177279<i)throw new RangeError("Invalid count value");i|=0;for(var c="";i;)1&i&&(c+=o),(i>>>=1)&&(o+=o);return c}},"es6","es3");var COMPILED=!0,goog=goog||{};goog.global=this||self,goog.isDef=function(e){return e!==void 0},goog.isString=function(e){return typeof e=="string"},goog.isBoolean=function(e){return typeof e=="boolean"},goog.isNumber=function(e){return typeof e=="number"},goog.exportPath_=function(e,i,o){e=e.split("."),o=o||goog.global,e[0]in o||o.execScript===void 0||o.execScript("var "+e[0]);for(var c;e.length&&(c=e.shift());)!e.length&&goog.isDef(i)?o[c]=i:o=o[c]&&o[c]!==Object.prototype[c]?o[c]:o[c]={}},goog.define=function(e,i){return i},goog.FEATURESET_YEAR=2012,goog.DEBUG=!0,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide cannot be used within a module.");goog.constructNamespace_(e)},goog.constructNamespace_=function(e,i){goog.exportPath_(e,i)},goog.getScriptNonce=function(e){return e&&e!=goog.global?goog.getScriptNonce_(e.document):(goog.cspNonce_===null&&(goog.cspNonce_=goog.getScriptNonce_(goog.global.document)),goog.cspNonce_)},goog.NONCE_PATTERN_=/^[\w+/_-]+[=]{0,2}$/,goog.cspNonce_=null,goog.getScriptNonce_=function(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&goog.NONCE_PATTERN_.test(e)?e:""},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1)throw Error("Invalid module identifier");if(!goog.isInGoogModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly. Note, modules cannot be loaded as normal scripts. They require some kind of pre-processing step. You're likely trying to load a module via a script tag or as a part of a concatenated bundle without rewriting the module. For more info see: https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");goog.moduleLoaderState_.moduleName=e},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return null},goog.ModuleType={ES6:"es6",GOOG:"goog"},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return goog.isInGoogModuleLoader_()||goog.isInEs6ModuleLoader_()},goog.isInGoogModuleLoader_=function(){return!!goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.GOOG},goog.isInEs6ModuleLoader_=function(){if(goog.moduleLoaderState_&&goog.moduleLoaderState_.type==goog.ModuleType.ES6)return!0;var e=goog.global.$jscomp;return!!e&&typeof e.getCurrentModulePath=="function"&&!!e.getCurrentModulePath()},goog.module.declareLegacyNamespace=function(){goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.declareModuleId=function(e){if(goog.moduleLoaderState_)goog.moduleLoaderState_.moduleName=e;else{var i=goog.global.$jscomp;if(!i||typeof i.getCurrentModulePath!="function")throw Error('Module with namespace "'+e+'" has been loaded incorrectly.');i=i.require(i.getCurrentModulePath()),goog.loadedModules_[e]={exports:i,type:goog.ModuleType.ES6,moduleId:e}}},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},goog.getObjectByName=function(e,i){e=e.split("."),i=i||goog.global;for(var o=0;o<e.length;o++)if(i=i[e[o]],!goog.isDefAndNotNull(i))return null;return i},goog.globalize=function(e,i){for(var o in i=i||goog.global,e)i[o]=e[o]},goog.addDependency=function(e,i,o,c){},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){},goog.requireType=function(e){return{}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.instance_=void 0,e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED,goog.TRANSPILE="detect",goog.ASSUME_ES_MODULES_TRANSPILED=!1,goog.TRANSPILE_TO_LANGUAGE="",goog.TRANSPILER="transpile.js",goog.hasBadLetScoping=null,goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){try{var a=!eval('"use strict";let x = 1; function f() { return typeof x; };f() == "number";')}catch(e){a=!1}goog.hasBadLetScoping=a}return goog.hasBadLetScoping},goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+`
;})();
`},goog.loadModule=function(e){var i=goog.moduleLoaderState_;try{if(goog.moduleLoaderState_={moduleName:"",declareLegacyNamespace:!1,type:goog.ModuleType.GOOG},goog.isFunction(e))var o=e.call(void 0,{});else{if(!goog.isString(e))throw Error("Invalid module definition");goog.useSafari10Workaround()&&(e=goog.workaroundSafari10EvalBug(e)),o=goog.loadModuleFromSource_.call(void 0,e)}var c=goog.moduleLoaderState_.moduleName;if(!goog.isString(c)||!c)throw Error('Invalid module name "'+c+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(c,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof o=="object"&&o!=null&&Object.seal(o),goog.loadedModules_[c]={exports:o,type:goog.ModuleType.GOOG,moduleId:goog.moduleLoaderState_.moduleName}}finally{goog.moduleLoaderState_=i}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.normalizePath_=function(e){e=e.split("/");for(var i=0;i<e.length;)e[i]=="."?e.splice(i,1):i&&e[i]==".."&&e[i-1]&&e[i-1]!=".."?e.splice(--i,2):i++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);try{var i=new goog.global.XMLHttpRequest;return i.open("get",e,!1),i.send(),i.status==0||i.status==200?i.responseText:null}catch{return null}},goog.transpile_=function(e,i,o){var c=goog.global.$jscomp;c||(goog.global.$jscomp=c={});var d=c.transpile;if(!d){var j=goog.basePath+goog.TRANSPILER,Z=goog.loadFileSync_(j);if(Z){if(function(){(0,eval)(Z+`
//# sourceURL=`+j)}.call(goog.global),goog.global.$gwtExport&&goog.global.$gwtExport.$jscomp&&!goog.global.$gwtExport.$jscomp.transpile)throw Error('The transpiler did not properly export the "transpile" method. $gwtExport: '+JSON.stringify(goog.global.$gwtExport));goog.global.$jscomp.transpile=goog.global.$gwtExport.$jscomp.transpile,d=(c=goog.global.$jscomp).transpile}}return d||(d=c.transpile=function(s,$){return goog.logToConsole_($+" requires transpilation but no transpiler was found."),s}),d(e,i,o)},goog.typeOf=function(e){var i=typeof e;if(i=="object"){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return i;var o=Object.prototype.toString.call(e);if(o=="[object Window]")return"object";if(o=="[object Array]"||typeof e.length=="number"&&e.splice!==void 0&&e.propertyIsEnumerable!==void 0&&!e.propertyIsEnumerable("splice"))return"array";if(o=="[object Function]"||e.call!==void 0&&e.propertyIsEnumerable!==void 0&&!e.propertyIsEnumerable("call"))return"function"}else if(i=="function"&&e.call===void 0)return"object";return i},goog.isNull=function(e){return e===null},goog.isDefAndNotNull=function(e){return e!=null},goog.isArray=function(e){return goog.typeOf(e)=="array"},goog.isArrayLike=function(e){var i=goog.typeOf(e);return i=="array"||i=="object"&&typeof e.length=="number"},goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"},goog.isFunction=function(e){return goog.typeOf(e)=="function"},goog.isObject=function(e){var i=typeof e;return i=="object"&&e!=null||i=="function"},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){e!==null&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch{}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var i=goog.typeOf(e);if(i=="object"||i=="array"){if(typeof e.clone=="function")return e.clone();for(var o in i=i=="array"?[]:{},e)i[o]=goog.cloneObject(e[o]);return i}return e},goog.bindNative_=function(e,i,o){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,i,o){if(!e)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),e.apply(i,d)}}return function(){return e.apply(i,arguments)}},goog.bind=function(e,i,o){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,i){var o=Array.prototype.slice.call(arguments,1);return function(){var c=o.slice();return c.push.apply(c,arguments),e.apply(this,c)}},goog.mixin=function(e,i){for(var o in i)e[o]=i[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(goog.evalWorksForGlobals_==null){try{goog.global.eval("var _evalTest_ = 1;")}catch{}if(goog.global._evalTest_!==void 0){try{delete goog.global._evalTest_}catch{}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1}if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var i=goog.global.document,o=i.createElement("SCRIPT");o.type="text/javascript",o.defer=!1,o.appendChild(i.createTextNode(e)),i.head.appendChild(o),i.head.removeChild(o)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,i){if(String(e).charAt(0)==".")throw Error('className passed in goog.getCssName must not start with ".". You passed: '+e);var o=function(d){return goog.cssNameMapping_[d]||d},c=function(d){d=d.split("-");for(var j=[],Z=0;Z<d.length;Z++)j.push(o(d[Z]));return j.join("-")};return c=goog.cssNameMapping_?goog.cssNameMappingStyle_=="BY_WHOLE"?o:c:function(d){return d},e=i?e+"-"+c(i):c(e),goog.global.CLOSURE_CSS_NAME_MAP_FN?goog.global.CLOSURE_CSS_NAME_MAP_FN(e):e},goog.setCssNameMapping=function(e,i){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=i},goog.getMsg=function(e,i,o){return o&&o.html&&(e=e.replace(/</g,"&lt;")),i&&(e=e.replace(/\{\$([^}]+)}/g,function(c,d){return i!=null&&d in i?i[d]:c})),e},goog.getMsgWithFallback=function(e,i){return e},goog.exportSymbol=function(e,i,o){goog.exportPath_(e,i,o)},goog.exportProperty=function(e,i,o){e[i]=o},goog.inherits=function(e,i){function o(){}o.prototype=i.prototype,e.superClass_=i.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(c,d,j){for(var Z=Array(arguments.length-2),s=2;s<arguments.length;s++)Z[s-2]=arguments[s];return i.prototype[d].apply(c,Z)}},goog.base=function(e,i,o){var c=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!c)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(c.superClass_!==void 0){for(var d=Array(arguments.length-1),j=1;j<arguments.length;j++)d[j-1]=arguments[j];return c.superClass_.constructor.apply(e,d)}if(typeof i!="string"&&typeof i!="symbol")throw Error("method names provided to goog.base must be a string or a symbol");for(d=Array(arguments.length-2),j=2;j<arguments.length;j++)d[j-2]=arguments[j];j=!1;for(var Z=e.constructor.prototype;Z;Z=Object.getPrototypeOf(Z))if(Z[i]===c)j=!0;else if(j)return Z[i].apply(e,d);if(e[i]===c)return e.constructor.prototype[i].apply(e,d);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a module.");e.call(goog.global)},goog.defineClass=function(e,i){var o=i.constructor,c=i.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,e),e&&goog.inherits(o,e),delete i.constructor,delete i.statics,goog.defineClass.applyProperties_(o.prototype,i),c!=null&&(c instanceof Function?c(o):goog.defineClass.applyProperties_(o,c)),o},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,i){if(!goog.defineClass.SEAL_CLASS_INSTANCES)return e;var o=!goog.defineClass.isUnsealable_(i),c=function(){var d=e.apply(this,arguments)||this;return d[goog.UID_PROPERTY_]=d[goog.UID_PROPERTY_],this.constructor===c&&o&&Object.seal instanceof Function&&Object.seal(d),d};return c},goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);for(var c=0;c<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;c++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[c],Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])},goog.tagUnsealableClass=function(e){},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.TRUSTED_TYPES_POLICY_NAME="",goog.identity_=function(e){return e},goog.createTrustedTypesPolicy=function(e){var i=null;if(typeof TrustedTypes=="undefined"||!TrustedTypes.createPolicy)return i;try{i=TrustedTypes.createPolicy(e,{createHTML:goog.identity_,createScript:goog.identity_,createScriptURL:goog.identity_,createURL:goog.identity_})}catch(o){goog.logToConsole_(o.message)}return i},goog.TRUSTED_TYPES_POLICY_=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#base"):null;var jspb={BinaryConstants:{},ConstBinaryMessage:function(){},BinaryMessage:function(){}};jspb.BinaryConstants.FieldType={INVALID:-1,DOUBLE:1,FLOAT:2,INT64:3,UINT64:4,INT32:5,FIXED64:6,FIXED32:7,BOOL:8,STRING:9,GROUP:10,MESSAGE:11,BYTES:12,UINT32:13,ENUM:14,SFIXED32:15,SFIXED64:16,SINT32:17,SINT64:18,FHASH64:30,VHASH64:31},jspb.BinaryConstants.WireType={INVALID:-1,VARINT:0,FIXED64:1,DELIMITED:2,START_GROUP:3,END_GROUP:4,FIXED32:5},jspb.BinaryConstants.FieldTypeToWireType=function(e){var i=jspb.BinaryConstants.FieldType,o=jspb.BinaryConstants.WireType;switch(e){case i.INT32:case i.INT64:case i.UINT32:case i.UINT64:case i.SINT32:case i.SINT64:case i.BOOL:case i.ENUM:case i.VHASH64:return o.VARINT;case i.DOUBLE:case i.FIXED64:case i.SFIXED64:case i.FHASH64:return o.FIXED64;case i.STRING:case i.MESSAGE:case i.BYTES:return o.DELIMITED;case i.FLOAT:case i.FIXED32:case i.SFIXED32:return o.FIXED32;default:return o.INVALID}},jspb.BinaryConstants.INVALID_FIELD_NUMBER=-1,jspb.BinaryConstants.FLOAT32_EPS=1401298464324817e-60,jspb.BinaryConstants.FLOAT32_MIN=11754943508222875e-54,jspb.BinaryConstants.FLOAT32_MAX=34028234663852886e22,jspb.BinaryConstants.FLOAT64_EPS=5e-324,jspb.BinaryConstants.FLOAT64_MIN=22250738585072014e-324,jspb.BinaryConstants.FLOAT64_MAX=17976931348623157e292,jspb.BinaryConstants.TWO_TO_20=1048576,jspb.BinaryConstants.TWO_TO_23=8388608,jspb.BinaryConstants.TWO_TO_31=2147483648,jspb.BinaryConstants.TWO_TO_32=4294967296,jspb.BinaryConstants.TWO_TO_52=4503599627370496,jspb.BinaryConstants.TWO_TO_63=9223372036854776e3,jspb.BinaryConstants.TWO_TO_64=18446744073709552e3,jspb.BinaryConstants.ZERO_HASH="\0\0\0\0\0\0\0\0",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var i=Error().stack;i&&(this.stack=i)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,i){goog.debug.Error.call(this,goog.asserts.subs_(e,i)),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.subs_=function(e,i){for(var o="",c=(e=e.split("%s")).length-1,d=0;d<c;d++)o+=e[d]+(d<i.length?i[d]:"%s");return o+e[c]},goog.asserts.doAssertFailure_=function(e,i,o,c){var d="Assertion failed";if(o){d+=": "+o;var j=c}else e&&(d+=": "+e,j=i);e=new goog.asserts.AssertionError(""+d,j||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertExists=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&e==null&&goog.asserts.doAssertFailure_("Expected to exist: %s.",[e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,i){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,i,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,i,o){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,i,o,c){return!goog.asserts.ENABLE_ASSERTS||e instanceof i||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(i),goog.asserts.getType_(e)],o,Array.prototype.slice.call(arguments,3)),e},goog.asserts.assertFinite=function(e,i,o){return!goog.asserts.ENABLE_ASSERTS||typeof e=="number"&&isFinite(e)||goog.asserts.doAssertFailure_("Expected %s to be a finite number but it is not.",[e],i,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):e===null?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=2012<goog.FEATURESET_YEAR,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.indexOf.call(e,i,o)}:function(e,i,o){if(o=o==null?0:0>o?Math.max(0,e.length+o):o,goog.isString(e))return goog.isString(i)&&i.length==1?e.indexOf(i,o):-1;for(;o<e.length;o++)if(o in e&&e[o]===i)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.lastIndexOf.call(e,i,o==null?e.length-1:o)}:function(e,i,o){if(0>(o=o==null?e.length-1:o)&&(o=Math.max(0,e.length+o)),goog.isString(e))return goog.isString(i)&&i.length==1?e.lastIndexOf(i,o):-1;for(;0<=o;o--)if(o in e&&e[o]===i)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,i,o){goog.asserts.assert(e.length!=null),Array.prototype.forEach.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=goog.isString(e)?e.split(""):e,j=0;j<c;j++)j in d&&i.call(o,d[j],j,e)},goog.array.forEachRight=function(e,i,o){var c=e.length,d=goog.isString(e)?e.split(""):e;for(--c;0<=c;--c)c in d&&i.call(o,d[c],c,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.filter.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=[],j=0,Z=goog.isString(e)?e.split(""):e,s=0;s<c;s++)if(s in Z){var $=Z[s];i.call(o,$,s,e)&&(d[j++]=$)}return d},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.map.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=Array(c),j=goog.isString(e)?e.split(""):e,Z=0;Z<c;Z++)Z in j&&(d[Z]=i.call(o,j[Z],Z,e));return d},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,i,o,c){return goog.asserts.assert(e.length!=null),c&&(i=goog.bind(i,c)),Array.prototype.reduce.call(e,i,o)}:function(e,i,o,c){var d=o;return goog.array.forEach(e,function(j,Z){d=i.call(c,d,j,Z,e)}),d},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,i,o,c){return goog.asserts.assert(e.length!=null),goog.asserts.assert(i!=null),c&&(i=goog.bind(i,c)),Array.prototype.reduceRight.call(e,i,o)}:function(e,i,o,c){var d=o;return goog.array.forEachRight(e,function(j,Z){d=i.call(c,d,j,Z,e)}),d},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.some.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=goog.isString(e)?e.split(""):e,j=0;j<c;j++)if(j in d&&i.call(o,d[j],j,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,i,o){return goog.asserts.assert(e.length!=null),Array.prototype.every.call(e,i,o)}:function(e,i,o){for(var c=e.length,d=goog.isString(e)?e.split(""):e,j=0;j<c;j++)if(j in d&&!i.call(o,d[j],j,e))return!1;return!0},goog.array.count=function(e,i,o){var c=0;return goog.array.forEach(e,function(d,j,Z){i.call(o,d,j,Z)&&++c},o),c},goog.array.find=function(e,i,o){return 0>(i=goog.array.findIndex(e,i,o))?null:goog.isString(e)?e.charAt(i):e[i]},goog.array.findIndex=function(e,i,o){for(var c=e.length,d=goog.isString(e)?e.split(""):e,j=0;j<c;j++)if(j in d&&i.call(o,d[j],j,e))return j;return-1},goog.array.findRight=function(e,i,o){return 0>(i=goog.array.findIndexRight(e,i,o))?null:goog.isString(e)?e.charAt(i):e[i]},goog.array.findIndexRight=function(e,i,o){var c=e.length,d=goog.isString(e)?e.split(""):e;for(--c;0<=c;c--)if(c in d&&i.call(o,d[c],c,e))return c;return-1},goog.array.contains=function(e,i){return 0<=goog.array.indexOf(e,i)},goog.array.isEmpty=function(e){return e.length==0},goog.array.clear=function(e){if(!goog.isArray(e))for(var i=e.length-1;0<=i;i--)delete e[i];e.length=0},goog.array.insert=function(e,i){goog.array.contains(e,i)||e.push(i)},goog.array.insertAt=function(e,i,o){goog.array.splice(e,o,0,i)},goog.array.insertArrayAt=function(e,i,o){goog.partial(goog.array.splice,e,o,0).apply(null,i)},goog.array.insertBefore=function(e,i,o){var c;arguments.length==2||0>(c=goog.array.indexOf(e,o))?e.push(i):goog.array.insertAt(e,i,c)},goog.array.remove=function(e,i){var o;return(o=0<=(i=goog.array.indexOf(e,i)))&&goog.array.removeAt(e,i),o},goog.array.removeLast=function(e,i){return 0<=(i=goog.array.lastIndexOf(e,i))&&(goog.array.removeAt(e,i),!0)},goog.array.removeAt=function(e,i){return goog.asserts.assert(e.length!=null),Array.prototype.splice.call(e,i,1).length==1},goog.array.removeIf=function(e,i,o){return 0<=(i=goog.array.findIndex(e,i,o))&&(goog.array.removeAt(e,i),!0)},goog.array.removeAllIf=function(e,i,o){var c=0;return goog.array.forEachRight(e,function(d,j){i.call(o,d,j,e)&&goog.array.removeAt(e,j)&&c++}),c},goog.array.concat=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.join=function(e){return Array.prototype.concat.apply([],arguments)},goog.array.toArray=function(e){var i=e.length;if(0<i){for(var o=Array(i),c=0;c<i;c++)o[c]=e[c];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,i){for(var o=1;o<arguments.length;o++){var c=arguments[o];if(goog.isArrayLike(c)){var d=e.length||0,j=c.length||0;e.length=d+j;for(var Z=0;Z<j;Z++)e[d+Z]=c[Z]}else e.push(c)}},goog.array.splice=function(e,i,o,c){return goog.asserts.assert(e.length!=null),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,i,o){return goog.asserts.assert(e.length!=null),2>=arguments.length?Array.prototype.slice.call(e,i):Array.prototype.slice.call(e,i,o)},goog.array.removeDuplicates=function(e,i,o){i=i||e;var c=function($){return goog.isObject($)?"o"+goog.getUid($):(typeof $).charAt(0)+$};o=o||c,c={};for(var d=0,j=0;j<e.length;){var Z=e[j++],s=o(Z);Object.prototype.hasOwnProperty.call(c,s)||(c[s]=!0,i[d++]=Z)}i.length=d},goog.array.binarySearch=function(e,i,o){return goog.array.binarySearch_(e,o||goog.array.defaultCompare,!1,i)},goog.array.binarySelect=function(e,i,o){return goog.array.binarySearch_(e,i,!0,void 0,o)},goog.array.binarySearch_=function(e,i,o,c,d){for(var j,Z=0,s=e.length;Z<s;){var $=Z+s>>1,et=o?i.call(d,e[$],$,e):i(c,e[$]);0<et?Z=$+1:(s=$,j=!et)}return j?Z:~Z},goog.array.sort=function(e,i){e.sort(i||goog.array.defaultCompare)},goog.array.stableSort=function(e,i){for(var o=Array(e.length),c=0;c<e.length;c++)o[c]={index:c,value:e[c]};var d=i||goog.array.defaultCompare;for(goog.array.sort(o,function(j,Z){return d(j.value,Z.value)||j.index-Z.index}),c=0;c<e.length;c++)e[c]=o[c].value},goog.array.sortByKey=function(e,i,o){var c=o||goog.array.defaultCompare;goog.array.sort(e,function(d,j){return c(i(d),i(j))})},goog.array.sortObjectsByKey=function(e,i,o){goog.array.sortByKey(e,function(c){return c[i]},o)},goog.array.isSorted=function(e,i,o){i=i||goog.array.defaultCompare;for(var c=1;c<e.length;c++){var d=i(e[c-1],e[c]);if(0<d||d==0&&o)return!1}return!0},goog.array.equals=function(e,i,o){if(!goog.isArrayLike(e)||!goog.isArrayLike(i)||e.length!=i.length)return!1;var c=e.length;o=o||goog.array.defaultCompareEquality;for(var d=0;d<c;d++)if(!o(e[d],i[d]))return!1;return!0},goog.array.compare3=function(e,i,o){o=o||goog.array.defaultCompare;for(var c=Math.min(e.length,i.length),d=0;d<c;d++){var j=o(e[d],i[d]);if(j!=0)return j}return goog.array.defaultCompare(e.length,i.length)},goog.array.defaultCompare=function(e,i){return e>i?1:e<i?-1:0},goog.array.inverseDefaultCompare=function(e,i){return-goog.array.defaultCompare(e,i)},goog.array.defaultCompareEquality=function(e,i){return e===i},goog.array.binaryInsert=function(e,i,o){return 0>(o=goog.array.binarySearch(e,i,o))&&(goog.array.insertAt(e,i,-(o+1)),!0)},goog.array.binaryRemove=function(e,i,o){return 0<=(i=goog.array.binarySearch(e,i,o))&&goog.array.removeAt(e,i)},goog.array.bucket=function(e,i,o){for(var c={},d=0;d<e.length;d++){var j=e[d],Z=i.call(o,j,d,e);goog.isDef(Z)&&(c[Z]||(c[Z]=[])).push(j)}return c},goog.array.toObject=function(e,i,o){var c={};return goog.array.forEach(e,function(d,j){c[i.call(o,d,j,e)]=d}),c},goog.array.range=function(e,i,o){var c=[],d=0,j=e;if(i!==void 0&&(d=e,j=i),0>(o=o||1)*(j-d))return[];if(0<o)for(e=d;e<j;e+=o)c.push(e);else for(e=d;e>j;e+=o)c.push(e);return c},goog.array.repeat=function(e,i){for(var o=[],c=0;c<i;c++)o[c]=e;return o},goog.array.flatten=function(e){for(var i=[],o=0;o<arguments.length;o++){var c=arguments[o];if(goog.isArray(c))for(var d=0;d<c.length;d+=8192){var j=goog.array.slice(c,d,d+8192);j=goog.array.flatten.apply(null,j);for(var Z=0;Z<j.length;Z++)i.push(j[Z])}else i.push(c)}return i},goog.array.rotate=function(e,i){return goog.asserts.assert(e.length!=null),e.length&&(0<(i%=e.length)?Array.prototype.unshift.apply(e,e.splice(-i,i)):0>i&&Array.prototype.push.apply(e,e.splice(0,-i))),e},goog.array.moveItem=function(e,i,o){goog.asserts.assert(0<=i&&i<e.length),goog.asserts.assert(0<=o&&o<e.length),i=Array.prototype.splice.call(e,i,1),Array.prototype.splice.call(e,o,0,i[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var i=[],o=arguments[0].length,c=1;c<arguments.length;c++)arguments[c].length<o&&(o=arguments[c].length);for(c=0;c<o;c++){for(var d=[],j=0;j<arguments.length;j++)d.push(arguments[j][c]);i.push(d)}return i},goog.array.shuffle=function(e,i){i=i||Math.random;for(var o=e.length-1;0<o;o--){var c=Math.floor(i()*(o+1)),d=e[o];e[o]=e[c],e[c]=d}},goog.array.copyByIndex=function(e,i){var o=[];return goog.array.forEach(i,function(c){o.push(e[c])}),o},goog.array.concatMap=function(e,i,o){return goog.array.concat.apply([],goog.array.map(e,i,o))},goog.crypt={},goog.crypt.stringToByteArray=function(e){for(var i=[],o=0,c=0;c<e.length;c++){var d=e.charCodeAt(c);255<d&&(i[o++]=255&d,d>>=8),i[o++]=d}return i},goog.crypt.byteArrayToString=function(e){if(8192>=e.length)return String.fromCharCode.apply(null,e);for(var i="",o=0;o<e.length;o+=8192){var c=goog.array.slice(e,o,o+8192);i+=String.fromCharCode.apply(null,c)}return i},goog.crypt.byteArrayToHex=function(e,i){return goog.array.map(e,function(o){return 1<(o=o.toString(16)).length?o:"0"+o}).join(i||"")},goog.crypt.hexToByteArray=function(e){goog.asserts.assert(e.length%2==0,"Key string length must be multiple of 2");for(var i=[],o=0;o<e.length;o+=2)i.push(parseInt(e.substring(o,o+2),16));return i},goog.crypt.stringToUtf8ByteArray=function(e){for(var i=[],o=0,c=0;c<e.length;c++){var d=e.charCodeAt(c);128>d?i[o++]=d:(2048>d?i[o++]=d>>6|192:((64512&d)==55296&&c+1<e.length&&(64512&e.charCodeAt(c+1))==56320?(d=65536+((1023&d)<<10)+(1023&e.charCodeAt(++c)),i[o++]=d>>18|240,i[o++]=d>>12&63|128):i[o++]=d>>12|224,i[o++]=d>>6&63|128),i[o++]=63&d|128)}return i},goog.crypt.utf8ByteArrayToString=function(e){for(var i=[],o=0,c=0;o<e.length;){var d=e[o++];if(128>d)i[c++]=String.fromCharCode(d);else if(191<d&&224>d){var j=e[o++];i[c++]=String.fromCharCode((31&d)<<6|63&j)}else if(239<d&&365>d){j=e[o++];var Z=e[o++];d=((7&d)<<18|(63&j)<<12|(63&Z)<<6|63&e[o++])-65536,i[c++]=String.fromCharCode(55296+(d>>10)),i[c++]=String.fromCharCode(56320+(1023&d))}else j=e[o++],Z=e[o++],i[c++]=String.fromCharCode((15&d)<<12|(63&j)<<6|63&Z)}return i.join("")},goog.crypt.xorByteArray=function(e,i){goog.asserts.assert(e.length==i.length,"XOR array lengths must match");for(var o=[],c=0;c<e.length;c++)o.push(e[c]^i[c]);return o},goog.string={},goog.string.internal={},goog.string.internal.startsWith=function(e,i){return e.lastIndexOf(i,0)==0},goog.string.internal.endsWith=function(e,i){var o=e.length-i.length;return 0<=o&&e.indexOf(i,o)==o},goog.string.internal.caseInsensitiveStartsWith=function(e,i){return goog.string.internal.caseInsensitiveCompare(i,e.substr(0,i.length))==0},goog.string.internal.caseInsensitiveEndsWith=function(e,i){return goog.string.internal.caseInsensitiveCompare(i,e.substr(e.length-i.length,i.length))==0},goog.string.internal.caseInsensitiveEquals=function(e,i){return e.toLowerCase()==i.toLowerCase()},goog.string.internal.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.internal.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},goog.string.internal.caseInsensitiveCompare=function(e,i){return(e=String(e).toLowerCase())<(i=String(i).toLowerCase())?-1:e==i?0:1},goog.string.internal.newLineToBr=function(e,i){return e.replace(/(\r\n|\r|\n)/g,i?"<br />":"<br>")},goog.string.internal.htmlEscape=function(e,i){if(i)e=e.replace(goog.string.internal.AMP_RE_,"&amp;").replace(goog.string.internal.LT_RE_,"&lt;").replace(goog.string.internal.GT_RE_,"&gt;").replace(goog.string.internal.QUOT_RE_,"&quot;").replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.internal.NULL_RE_,"&#0;");else{if(!goog.string.internal.ALL_RE_.test(e))return e;e.indexOf("&")!=-1&&(e=e.replace(goog.string.internal.AMP_RE_,"&amp;")),e.indexOf("<")!=-1&&(e=e.replace(goog.string.internal.LT_RE_,"&lt;")),e.indexOf(">")!=-1&&(e=e.replace(goog.string.internal.GT_RE_,"&gt;")),e.indexOf('"')!=-1&&(e=e.replace(goog.string.internal.QUOT_RE_,"&quot;")),e.indexOf("'")!=-1&&(e=e.replace(goog.string.internal.SINGLE_QUOTE_RE_,"&#39;")),e.indexOf("\0")!=-1&&(e=e.replace(goog.string.internal.NULL_RE_,"&#0;"))}return e},goog.string.internal.AMP_RE_=/&/g,goog.string.internal.LT_RE_=/</g,goog.string.internal.GT_RE_=/>/g,goog.string.internal.QUOT_RE_=/"/g,goog.string.internal.SINGLE_QUOTE_RE_=/'/g,goog.string.internal.NULL_RE_=/\x00/g,goog.string.internal.ALL_RE_=/[\x00&<>"']/,goog.string.internal.whitespaceEscape=function(e,i){return goog.string.internal.newLineToBr(e.replace(/  /g," &#160;"),i)},goog.string.internal.contains=function(e,i){return e.indexOf(i)!=-1},goog.string.internal.caseInsensitiveContains=function(e,i){return goog.string.internal.contains(e.toLowerCase(),i.toLowerCase())},goog.string.internal.compareVersions=function(e,i){var o=0;e=goog.string.internal.trim(String(e)).split("."),i=goog.string.internal.trim(String(i)).split(".");for(var c=Math.max(e.length,i.length),d=0;o==0&&d<c;d++){var j=e[d]||"",Z=i[d]||"";do{if(j=/(\d*)(\D*)(.*)/.exec(j)||["","","",""],Z=/(\d*)(\D*)(.*)/.exec(Z)||["","","",""],j[0].length==0&&Z[0].length==0)break;o=j[1].length==0?0:parseInt(j[1],10);var s=Z[1].length==0?0:parseInt(Z[1],10);o=goog.string.internal.compareElements_(o,s)||goog.string.internal.compareElements_(j[2].length==0,Z[2].length==0)||goog.string.internal.compareElements_(j[2],Z[2]),j=j[3],Z=Z[3]}while(o==0)}return o},goog.string.internal.compareElements_=function(e,i){return e<i?-1:e>i?1:0},goog.string.TypedString=function(){},goog.string.Const=function(e,i){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e===goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_&&i||"",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return new goog.string.Const(goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_,e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.GOOG_STRING_CONSTRUCTOR_TOKEN_PRIVATE_={},goog.string.Const.EMPTY=goog.string.Const.from(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(e!=null)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return goog.fs.url.findUrlObject_()!=null},goog.html={},goog.html.trustedtypes={},goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY=goog.TRUSTED_TYPES_POLICY_NAME?goog.createTrustedTypesPolicy(goog.TRUSTED_TYPES_POLICY_NAME+"#html"):null,goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||(goog.LOCALE.substring(0,2).toLowerCase()=="ar"||goog.LOCALE.substring(0,2).toLowerCase()=="fa"||goog.LOCALE.substring(0,2).toLowerCase()=="he"||goog.LOCALE.substring(0,2).toLowerCase()=="iw"||goog.LOCALE.substring(0,2).toLowerCase()=="ps"||goog.LOCALE.substring(0,2).toLowerCase()=="sd"||goog.LOCALE.substring(0,2).toLowerCase()=="ug"||goog.LOCALE.substring(0,2).toLowerCase()=="ur"||goog.LOCALE.substring(0,2).toLowerCase()=="yi")&&(goog.LOCALE.length==2||goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")||3<=goog.LOCALE.length&&goog.LOCALE.substring(0,3).toLowerCase()=="ckb"&&(goog.LOCALE.length==3||goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")||7<=goog.LOCALE.length&&(goog.LOCALE.substring(2,3)=="-"||goog.LOCALE.substring(2,3)=="_")&&(goog.LOCALE.substring(3,7).toLowerCase()=="adlm"||goog.LOCALE.substring(3,7).toLowerCase()=="arab"||goog.LOCALE.substring(3,7).toLowerCase()=="hebr"||goog.LOCALE.substring(3,7).toLowerCase()=="nkoo"||goog.LOCALE.substring(3,7).toLowerCase()=="rohg"||goog.LOCALE.substring(3,7).toLowerCase()=="thaa")||8<=goog.LOCALE.length&&(goog.LOCALE.substring(3,4)=="-"||goog.LOCALE.substring(3,4)=="_")&&(goog.LOCALE.substring(4,8).toLowerCase()=="adlm"||goog.LOCALE.substring(4,8).toLowerCase()=="arab"||goog.LOCALE.substring(4,8).toLowerCase()=="hebr"||goog.LOCALE.substring(4,8).toLowerCase()=="nkoo"||goog.LOCALE.substring(4,8).toLowerCase()=="rohg"||goog.LOCALE.substring(4,8).toLowerCase()=="thaa"),goog.i18n.bidi.Format={LRE:"\u202A",RLE:"\u202B",PDF:"\u202C",LRM:"\u200E",RLM:"\u200F"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,i){return typeof e=="number"?0<e?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:i?null:goog.i18n.bidi.Dir.NEUTRAL:e==null?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0900-\u1FFF\u200E\u2C00-\uD801\uD804-\uD839\uD83C-\uDBFF\uF900-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",goog.i18n.bidi.rtlChars_="\u0591-\u06EF\u06FA-\u08FF\u200F\uD802-\uD803\uD83A-\uD83B\uFB1D-\uFDFF\uFE70-\uFEFC",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,i){return i?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,i){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,i){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,i){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,i){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,i){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,i),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,i){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,i){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,i))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,i){return i=(i===void 0?goog.i18n.bidi.hasAnyRtl(e):i)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM,e.replace(goog.i18n.bidi.bracketGuardTextRe_,i+"$&"+i)},goog.i18n.bidi.enforceRtlInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=rtl"):`
<span dir=rtl>`+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return e.charAt(0)=="<"?e.replace(/<\w+/,"$& dir=ltr"):`
<span dir=ltr>`+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1\u05F4").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1\u05F3")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,i){var o=0,c=0,d=!1;for(e=goog.i18n.bidi.stripHtmlIfNeeded_(e,i).split(goog.i18n.bidi.wordSeparatorRe_),i=0;i<e.length;i++){var j=e[i];goog.i18n.bidi.startsWithRtl(j)?(o++,c++):goog.i18n.bidi.isRequiredLtrRe_.test(j)?d=!0:goog.i18n.bidi.hasAnyLtr(j)?c++:goog.i18n.bidi.hasNumeralsRe_.test(j)&&(d=!0)}return c==0?d?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:o/c>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,i){return goog.i18n.bidi.estimateDirection(e,i)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,i){e&&(i=goog.i18n.bidi.toDir(i))&&(e.style.textAlign=i==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=i==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,i){switch(goog.i18n.bidi.estimateDirection(i)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.trustedURL_=null,this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_.toString()},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.html.TrustedResourceUrl.prototype.cloneWithParams=function(e,i){var o=goog.html.TrustedResourceUrl.unwrap(this),c=(o=goog.html.TrustedResourceUrl.URL_PARAM_PARSER_.exec(o))[3]||"";return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(o[1]+goog.html.TrustedResourceUrl.stringifyParams_("?",o[2]||"",e)+goog.html.TrustedResourceUrl.stringifyParams_("#",c,i))},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(e).toString()},goog.html.TrustedResourceUrl.unwrapTrustedScriptURL=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.unwrapTrustedURL=function(e){return e.trustedURL_?e.trustedURL_:goog.html.TrustedResourceUrl.unwrap(e)},goog.html.TrustedResourceUrl.format=function(e,i){var o=goog.string.Const.unwrap(e);if(!goog.html.TrustedResourceUrl.BASE_URL_.test(o))throw Error("Invalid TrustedResourceUrl format: "+o);return e=o.replace(goog.html.TrustedResourceUrl.FORMAT_MARKER_,function(c,d){if(!Object.prototype.hasOwnProperty.call(i,d))throw Error('Found marker, "'+d+'", in format string, "'+o+'", but no valid label mapping found in args: '+JSON.stringify(i));return(c=i[d])instanceof goog.string.Const?goog.string.Const.unwrap(c):encodeURIComponent(String(c))}),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.TrustedResourceUrl.FORMAT_MARKER_=/%{(\w+)}/g,goog.html.TrustedResourceUrl.BASE_URL_=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,goog.html.TrustedResourceUrl.URL_PARAM_PARSER_=/^([^?#]*)(\?[^#]*)?(#[\s\S]*)?/,goog.html.TrustedResourceUrl.formatWithParams=function(e,i,o,c){return goog.html.TrustedResourceUrl.format(e,i).cloneWithParams(o,c)},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var i="",o=0;o<e.length;o++)i+=goog.string.Const.unwrap(e[o]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var i=new goog.html.TrustedResourceUrl;return i.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScriptURL(e):e,goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY&&(i.trustedURL_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e)),i},goog.html.TrustedResourceUrl.stringifyParams_=function(e,i,o){if(o==null)return i;if(goog.isString(o))return o?e+encodeURIComponent(o):"";for(var c in o){var d=o[c];d=goog.isArray(d)?d:[d];for(var j=0;j<d.length;j++){var Z=d[j];Z!=null&&(i||(i=e),i+=(i.length>e.length?"&":"")+encodeURIComponent(c)+"="+encodeURIComponent(String(Z)))}}return i},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeUrlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeUrlWrappedValue_.toString()},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeUrlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return goog.html.SafeUrl.unwrapTrustedURL(e).toString()},goog.html.SafeUrl.unwrapTrustedURL=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeUrlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-wav|wav|webm)|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime))(?:;\w+=(?:\w+|"[\w;=]+"))*$/i,goog.html.SafeUrl.isSafeMimeType=function(e){return goog.html.SAFE_MIME_TYPE_PATTERN_.test(e)},goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var i=(e=e.replace(/(%0A|%0D)/g,"")).match(goog.html.DATA_URL_PATTERN_);return i=i&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(i[1]),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SIP_URL_PATTERN_=/^sip[s]?:[+a-z0-9_.!$%&'*\/=^`{|}~-]+@([a-z0-9-]+\.)+[a-z0-9]{2,63}$/i,goog.html.SafeUrl.fromSipUrl=function(e){return goog.html.SIP_URL_PATTERN_.test(decodeURIComponent(e))||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromFacebookMessengerUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"fb-messenger://share")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromWhatsAppUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"whatsapp://send")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.fromSmsUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"sms:")&&goog.html.SafeUrl.isSmsUrlBodyValid_(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.isSmsUrlBodyValid_=function(e){var i=e.indexOf("#");if(0<i&&(e=e.substring(0,i)),!(i=e.match(/[?&]body=/gi)))return!0;if(1<i.length)return!1;if(!(e=e.match(/[?&]body=([^&]*)/)[1]))return!0;try{decodeURIComponent(e)}catch{return!1}return/^(?:[a-z0-9\-_.~]|%[0-9a-f]{2})+$/i.test(e)},goog.html.SafeUrl.fromSshUrl=function(e){return goog.string.internal.caseInsensitiveStartsWith(e,"ssh://")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeUrl.sanitizeChromeExtensionUrl=function(e,i){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^chrome-extension:\/\/([^\/]+)\//,e,i)},goog.html.SafeUrl.sanitizeFirefoxExtensionUrl=function(e,i){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^moz-extension:\/\/([^\/]+)\//,e,i)},goog.html.SafeUrl.sanitizeEdgeExtensionUrl=function(e,i){return goog.html.SafeUrl.sanitizeExtensionUrl_(/^ms-browser-extension:\/\/([^\/]+)\//,e,i)},goog.html.SafeUrl.sanitizeExtensionUrl_=function(e,i,o){return(e=e.exec(i))?(e=e[1],(o instanceof goog.string.Const?[goog.string.Const.unwrap(o)]:o.map(function(c){return goog.string.Const.unwrap(c)})).indexOf(e)==-1&&(i=goog.html.SafeUrl.INNOCUOUS_STRING)):i=goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeUrl.fromTrustedResourceUrl=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.html.TrustedResourceUrl.unwrap(e))},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i,goog.html.SafeUrl.SAFE_URL_PATTERN=goog.html.SAFE_URL_PATTERN_,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.sanitizeAssertUnchanged=function(e,i){return e instanceof goog.html.SafeUrl?e:(e=typeof e=="object"&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),i&&/^data:/i.test(e)&&(i=goog.html.SafeUrl.fromDataUrl(e)).getTypedStringValue()==e?i:(goog.asserts.assert(goog.html.SAFE_URL_PATTERN_.test(e),"%s does not match the safe URL pattern",e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var i=new goog.html.SafeUrl;return i.privateDoNotAccessOrElseSafeUrlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createURL(e):e,i},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return(e=goog.string.Const.unwrap(e)).length===0?goog.html.SafeStyle.EMPTY:(goog.asserts.assert(goog.string.internal.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.internal.contains(e,":"),`Style string must contain at least one ':', to specify a "name: value" pair: `+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeStyle().initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var i,o="";for(i in e){if(!/^[-_a-zA-Z0-9]+$/.test(i))throw Error("Name allows only [-_a-zA-Z0-9], got: "+i);var c=e[i];c!=null&&(o+=i+":"+(c=goog.isArray(c)?goog.array.map(c,goog.html.SafeStyle.sanitizePropertyValue_).join(" "):goog.html.SafeStyle.sanitizePropertyValue_(c))+";")}return o?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.sanitizePropertyValue_=function(e){if(e instanceof goog.html.SafeUrl)return'url("'+goog.html.SafeUrl.unwrap(e).replace(/</g,"%3c").replace(/[\\"]/g,"\\$&")+'")';if(e=e instanceof goog.string.Const?goog.string.Const.unwrap(e):goog.html.SafeStyle.sanitizePropertyValueString_(String(e)),/[{;}]/.test(e))throw new goog.asserts.AssertionError("Value does not allow [{;}], got: %s.",[e]);return e},goog.html.SafeStyle.sanitizePropertyValueString_=function(e){var i=e.replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.FUNCTIONS_RE_,"$1").replace(goog.html.SafeStyle.URL_RE_,"url");return goog.html.SafeStyle.VALUE_RE_.test(i)?goog.html.SafeStyle.COMMENT_RE_.test(e)?(goog.asserts.fail("String value disallows comments, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):goog.html.SafeStyle.hasBalancedQuotes_(e)?goog.html.SafeStyle.hasBalancedSquareBrackets_(e)?goog.html.SafeStyle.sanitizeUrl_(e):(goog.asserts.fail("String value requires balanced square brackets and one identifier per pair of brackets, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value requires balanced quotes, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only "+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+" and simple functions, got: "+e),goog.html.SafeStyle.INNOCUOUS_STRING)},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var i=!0,o=!0,c=0;c<e.length;c++){var d=e.charAt(c);d=="'"&&o?i=!i:d=='"'&&i&&(o=!o)}return i&&o},goog.html.SafeStyle.hasBalancedSquareBrackets_=function(e){for(var i=!0,o=/^[-_a-zA-Z0-9]$/,c=0;c<e.length;c++){var d=e.charAt(c);if(d=="]"){if(i)return!1;i=!0}else if(d=="["){if(!i)return!1;i=!1}else if(!i&&!o.test(d))return!1}return i},goog.html.SafeStyle.VALUE_ALLOWED_CHARS_=`[-,."'%_!# a-zA-Z0-9\\[\\]]`,goog.html.SafeStyle.VALUE_RE_=new RegExp("^"+goog.html.SafeStyle.VALUE_ALLOWED_CHARS_+"+$"),goog.html.SafeStyle.URL_RE_=/\b(url\([ \t\n]*)('[ -&(-\[\]-~]*'|"[ !#-\[\]-~]*"|[!#-&*-\[\]-~]*)([ \t\n]*\))/g,goog.html.SafeStyle.FUNCTIONS_RE_=/\b(hsl|hsla|rgb|rgba|matrix|calc|minmax|fit-content|repeat|(rotate|scale|translate)(X|Y|Z|3d)?)\([-+*/0-9a-z.%\[\], ]+\)/g,goog.html.SafeStyle.COMMENT_RE_=/\/\*/,goog.html.SafeStyle.sanitizeUrl_=function(e){return e.replace(goog.html.SafeStyle.URL_RE_,function(i,o,c,d){var j="";return c=c.replace(/^(['"])(.*)\1$/,function(Z,s,$){return j=s,$}),i=goog.html.SafeUrl.sanitize(c).getTypedStringValue(),o+j+i+j+d})},goog.html.SafeStyle.concat=function(e){var i="",o=function(c){goog.isArray(c)?goog.array.forEach(c,o):i+=goog.html.SafeStyle.unwrap(c)};return goog.array.forEach(arguments,o),i?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i):goog.html.SafeStyle.EMPTY},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return(e=goog.string.Const.unwrap(e)).length===0?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.fromConstantAndArgs=function(e,i){for(var o=[],c=1;c<arguments.length;c++)o.push(goog.html.SafeScript.stringify_(arguments[c]));return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse("("+goog.string.Const.unwrap(e)+")("+o.join(", ")+");")},goog.html.SafeScript.fromJson=function(e){return goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(goog.html.SafeScript.stringify_(e))},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return goog.html.SafeScript.unwrapTrustedScript(e).toString()},goog.html.SafeScript.unwrapTrustedScript=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.stringify_=function(e){return JSON.stringify(e).replace(/</g,"\\x3c")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeScript().initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createScript(e):e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.object={},goog.object.is=function(e,i){return e===i?e!==0||1/e==1/i:e!=e&&i!=i},goog.object.forEach=function(e,i,o){for(var c in e)i.call(o,e[c],c,e)},goog.object.filter=function(e,i,o){var c,d={};for(c in e)i.call(o,e[c],c,e)&&(d[c]=e[c]);return d},goog.object.map=function(e,i,o){var c,d={};for(c in e)d[c]=i.call(o,e[c],c,e);return d},goog.object.some=function(e,i,o){for(var c in e)if(i.call(o,e[c],c,e))return!0;return!1},goog.object.every=function(e,i,o){for(var c in e)if(!i.call(o,e[c],c,e))return!1;return!0},goog.object.getCount=function(e){var i,o=0;for(i in e)o++;return o},goog.object.getAnyKey=function(e){for(var i in e)return i},goog.object.getAnyValue=function(e){for(var i in e)return e[i]},goog.object.contains=function(e,i){return goog.object.containsValue(e,i)},goog.object.getValues=function(e){var i,o=[],c=0;for(i in e)o[c++]=e[i];return o},goog.object.getKeys=function(e){var i,o=[],c=0;for(i in e)o[c++]=i;return o},goog.object.getValueByKeys=function(e,i){var o=goog.isArrayLike(i),c=o?i:arguments;for(o=o?0:1;o<c.length;o++){if(e==null)return;e=e[c[o]]}return e},goog.object.containsKey=function(e,i){return e!==null&&i in e},goog.object.containsValue=function(e,i){for(var o in e)if(e[o]==i)return!0;return!1},goog.object.findKey=function(e,i,o){for(var c in e)if(i.call(o,e[c],c,e))return c},goog.object.findValue=function(e,i,o){return(i=goog.object.findKey(e,i,o))&&e[i]},goog.object.isEmpty=function(e){for(var i in e)return!1;return!0},goog.object.clear=function(e){for(var i in e)delete e[i]},goog.object.remove=function(e,i){var o;return(o=i in e)&&delete e[i],o},goog.object.add=function(e,i,o){if(e!==null&&i in e)throw Error('The object already contains the key "'+i+'"');goog.object.set(e,i,o)},goog.object.get=function(e,i,o){return e!==null&&i in e?e[i]:o},goog.object.set=function(e,i,o){e[i]=o},goog.object.setIfUndefined=function(e,i,o){return i in e?e[i]:e[i]=o},goog.object.setWithReturnValueIfNotSet=function(e,i,o){return i in e?e[i]:(o=o(),e[i]=o)},goog.object.equals=function(e,i){for(var o in e)if(!(o in i)||e[o]!==i[o])return!1;for(var c in i)if(!(c in e))return!1;return!0},goog.object.clone=function(e){var i,o={};for(i in e)o[i]=e[i];return o},goog.object.unsafeClone=function(e){var i=goog.typeOf(e);if(i=="object"||i=="array"){if(goog.isFunction(e.clone))return e.clone();for(var o in i=i=="array"?[]:{},e)i[o]=goog.object.unsafeClone(e[o]);return i}return e},goog.object.transpose=function(e){var i,o={};for(i in e)o[e[i]]=i;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,i){for(var o,c,d=1;d<arguments.length;d++){for(o in c=arguments[d])e[o]=c[o];for(var j=0;j<goog.object.PROTOTYPE_FIELDS_.length;j++)o=goog.object.PROTOTYPE_FIELDS_[j],Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o])}},goog.object.create=function(e){var i=arguments.length;if(i==1&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(i%2)throw Error("Uneven number of arguments");for(var o={},c=0;c<i;c+=2)o[arguments[c]]=arguments[c+1];return o},goog.object.createSet=function(e){var i=arguments.length;if(i==1&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var o={},c=0;c<i;c++)o[arguments[c]]=!0;return o},goog.object.createImmutableView=function(e){var i=e;return Object.isFrozen&&!Object.isFrozen(e)&&(i=Object.create(e),Object.freeze(i)),i},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.object.getAllPropertyNames=function(e,i,o){if(!e)return[];if(!Object.getOwnPropertyNames||!Object.getPrototypeOf)return goog.object.getKeys(e);for(var c={};e&&(e!==Object.prototype||i)&&(e!==Function.prototype||o);){for(var d=Object.getOwnPropertyNames(e),j=0;j<d.length;j++)c[d[j]]=!0;e=Object.getPrototypeOf(e)}return goog.object.getKeys(c)},goog.object.getSuperClass=function(e){return(e=Object.getPrototypeOf(e.prototype))&&e.constructor},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.createRule=function(e,i){if(goog.string.internal.contains(e,"<"))throw Error("Selector does not allow '<', got: "+e);var o=e.replace(/('|")((?!\1)[^\r\n\f\\]|\\[\s\S])*\1/g,"");if(!/^[-_a-zA-Z0-9#.:* ,>+~[\]()=^$|]+$/.test(o))throw Error("Selector allows only [-_a-zA-Z0-9#.:* ,>+~[\\]()=^$|] and strings, got: "+e);if(!goog.html.SafeStyleSheet.hasBalancedBrackets_(o))throw Error("() and [] in selector must be balanced, got: "+e);return i instanceof goog.html.SafeStyle||(i=goog.html.SafeStyle.create(i)),e=e+"{"+goog.html.SafeStyle.unwrap(i).replace(/</g,"\\3C ")+"}",goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeStyleSheet.hasBalancedBrackets_=function(e){for(var i={"(":")","[":"]"},o=[],c=0;c<e.length;c++){var d=e[c];if(i[d])o.push(i[d]);else if(goog.object.contains(i,d)&&o.pop()!=d)return!1}return o.length==0},goog.html.SafeStyleSheet.concat=function(e){var i="",o=function(c){goog.isArray(c)?goog.array.forEach(c,o):i+=goog.html.SafeStyleSheet.unwrap(c)};return goog.array.forEach(arguments,o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.SafeStyleSheet.fromConstant=function(e){return(e=goog.string.Const.unwrap(e)).length===0?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.internal.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return new goog.html.SafeStyleSheet().initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return goog.dom.tags.VOID_TAGS_[e]===!0},goog.dom.HtmlElement=function(){},goog.dom.TagName=function(e){this.tagName_=e},goog.dom.TagName.prototype.toString=function(){return this.tagName_},goog.dom.TagName.A=new goog.dom.TagName("A"),goog.dom.TagName.ABBR=new goog.dom.TagName("ABBR"),goog.dom.TagName.ACRONYM=new goog.dom.TagName("ACRONYM"),goog.dom.TagName.ADDRESS=new goog.dom.TagName("ADDRESS"),goog.dom.TagName.APPLET=new goog.dom.TagName("APPLET"),goog.dom.TagName.AREA=new goog.dom.TagName("AREA"),goog.dom.TagName.ARTICLE=new goog.dom.TagName("ARTICLE"),goog.dom.TagName.ASIDE=new goog.dom.TagName("ASIDE"),goog.dom.TagName.AUDIO=new goog.dom.TagName("AUDIO"),goog.dom.TagName.B=new goog.dom.TagName("B"),goog.dom.TagName.BASE=new goog.dom.TagName("BASE"),goog.dom.TagName.BASEFONT=new goog.dom.TagName("BASEFONT"),goog.dom.TagName.BDI=new goog.dom.TagName("BDI"),goog.dom.TagName.BDO=new goog.dom.TagName("BDO"),goog.dom.TagName.BIG=new goog.dom.TagName("BIG"),goog.dom.TagName.BLOCKQUOTE=new goog.dom.TagName("BLOCKQUOTE"),goog.dom.TagName.BODY=new goog.dom.TagName("BODY"),goog.dom.TagName.BR=new goog.dom.TagName("BR"),goog.dom.TagName.BUTTON=new goog.dom.TagName("BUTTON"),goog.dom.TagName.CANVAS=new goog.dom.TagName("CANVAS"),goog.dom.TagName.CAPTION=new goog.dom.TagName("CAPTION"),goog.dom.TagName.CENTER=new goog.dom.TagName("CENTER"),goog.dom.TagName.CITE=new goog.dom.TagName("CITE"),goog.dom.TagName.CODE=new goog.dom.TagName("CODE"),goog.dom.TagName.COL=new goog.dom.TagName("COL"),goog.dom.TagName.COLGROUP=new goog.dom.TagName("COLGROUP"),goog.dom.TagName.COMMAND=new goog.dom.TagName("COMMAND"),goog.dom.TagName.DATA=new goog.dom.TagName("DATA"),goog.dom.TagName.DATALIST=new goog.dom.TagName("DATALIST"),goog.dom.TagName.DD=new goog.dom.TagName("DD"),goog.dom.TagName.DEL=new goog.dom.TagName("DEL"),goog.dom.TagName.DETAILS=new goog.dom.TagName("DETAILS"),goog.dom.TagName.DFN=new goog.dom.TagName("DFN"),goog.dom.TagName.DIALOG=new goog.dom.TagName("DIALOG"),goog.dom.TagName.DIR=new goog.dom.TagName("DIR"),goog.dom.TagName.DIV=new goog.dom.TagName("DIV"),goog.dom.TagName.DL=new goog.dom.TagName("DL"),goog.dom.TagName.DT=new goog.dom.TagName("DT"),goog.dom.TagName.EM=new goog.dom.TagName("EM"),goog.dom.TagName.EMBED=new goog.dom.TagName("EMBED"),goog.dom.TagName.FIELDSET=new goog.dom.TagName("FIELDSET"),goog.dom.TagName.FIGCAPTION=new goog.dom.TagName("FIGCAPTION"),goog.dom.TagName.FIGURE=new goog.dom.TagName("FIGURE"),goog.dom.TagName.FONT=new goog.dom.TagName("FONT"),goog.dom.TagName.FOOTER=new goog.dom.TagName("FOOTER"),goog.dom.TagName.FORM=new goog.dom.TagName("FORM"),goog.dom.TagName.FRAME=new goog.dom.TagName("FRAME"),goog.dom.TagName.FRAMESET=new goog.dom.TagName("FRAMESET"),goog.dom.TagName.H1=new goog.dom.TagName("H1"),goog.dom.TagName.H2=new goog.dom.TagName("H2"),goog.dom.TagName.H3=new goog.dom.TagName("H3"),goog.dom.TagName.H4=new goog.dom.TagName("H4"),goog.dom.TagName.H5=new goog.dom.TagName("H5"),goog.dom.TagName.H6=new goog.dom.TagName("H6"),goog.dom.TagName.HEAD=new goog.dom.TagName("HEAD"),goog.dom.TagName.HEADER=new goog.dom.TagName("HEADER"),goog.dom.TagName.HGROUP=new goog.dom.TagName("HGROUP"),goog.dom.TagName.HR=new goog.dom.TagName("HR"),goog.dom.TagName.HTML=new goog.dom.TagName("HTML"),goog.dom.TagName.I=new goog.dom.TagName("I"),goog.dom.TagName.IFRAME=new goog.dom.TagName("IFRAME"),goog.dom.TagName.IMG=new goog.dom.TagName("IMG"),goog.dom.TagName.INPUT=new goog.dom.TagName("INPUT"),goog.dom.TagName.INS=new goog.dom.TagName("INS"),goog.dom.TagName.ISINDEX=new goog.dom.TagName("ISINDEX"),goog.dom.TagName.KBD=new goog.dom.TagName("KBD"),goog.dom.TagName.KEYGEN=new goog.dom.TagName("KEYGEN"),goog.dom.TagName.LABEL=new goog.dom.TagName("LABEL"),goog.dom.TagName.LEGEND=new goog.dom.TagName("LEGEND"),goog.dom.TagName.LI=new goog.dom.TagName("LI"),goog.dom.TagName.LINK=new goog.dom.TagName("LINK"),goog.dom.TagName.MAIN=new goog.dom.TagName("MAIN"),goog.dom.TagName.MAP=new goog.dom.TagName("MAP"),goog.dom.TagName.MARK=new goog.dom.TagName("MARK"),goog.dom.TagName.MATH=new goog.dom.TagName("MATH"),goog.dom.TagName.MENU=new goog.dom.TagName("MENU"),goog.dom.TagName.MENUITEM=new goog.dom.TagName("MENUITEM"),goog.dom.TagName.META=new goog.dom.TagName("META"),goog.dom.TagName.METER=new goog.dom.TagName("METER"),goog.dom.TagName.NAV=new goog.dom.TagName("NAV"),goog.dom.TagName.NOFRAMES=new goog.dom.TagName("NOFRAMES"),goog.dom.TagName.NOSCRIPT=new goog.dom.TagName("NOSCRIPT"),goog.dom.TagName.OBJECT=new goog.dom.TagName("OBJECT"),goog.dom.TagName.OL=new goog.dom.TagName("OL"),goog.dom.TagName.OPTGROUP=new goog.dom.TagName("OPTGROUP"),goog.dom.TagName.OPTION=new goog.dom.TagName("OPTION"),goog.dom.TagName.OUTPUT=new goog.dom.TagName("OUTPUT"),goog.dom.TagName.P=new goog.dom.TagName("P"),goog.dom.TagName.PARAM=new goog.dom.TagName("PARAM"),goog.dom.TagName.PICTURE=new goog.dom.TagName("PICTURE"),goog.dom.TagName.PRE=new goog.dom.TagName("PRE"),goog.dom.TagName.PROGRESS=new goog.dom.TagName("PROGRESS"),goog.dom.TagName.Q=new goog.dom.TagName("Q"),goog.dom.TagName.RP=new goog.dom.TagName("RP"),goog.dom.TagName.RT=new goog.dom.TagName("RT"),goog.dom.TagName.RTC=new goog.dom.TagName("RTC"),goog.dom.TagName.RUBY=new goog.dom.TagName("RUBY"),goog.dom.TagName.S=new goog.dom.TagName("S"),goog.dom.TagName.SAMP=new goog.dom.TagName("SAMP"),goog.dom.TagName.SCRIPT=new goog.dom.TagName("SCRIPT"),goog.dom.TagName.SECTION=new goog.dom.TagName("SECTION"),goog.dom.TagName.SELECT=new goog.dom.TagName("SELECT"),goog.dom.TagName.SMALL=new goog.dom.TagName("SMALL"),goog.dom.TagName.SOURCE=new goog.dom.TagName("SOURCE"),goog.dom.TagName.SPAN=new goog.dom.TagName("SPAN"),goog.dom.TagName.STRIKE=new goog.dom.TagName("STRIKE"),goog.dom.TagName.STRONG=new goog.dom.TagName("STRONG"),goog.dom.TagName.STYLE=new goog.dom.TagName("STYLE"),goog.dom.TagName.SUB=new goog.dom.TagName("SUB"),goog.dom.TagName.SUMMARY=new goog.dom.TagName("SUMMARY"),goog.dom.TagName.SUP=new goog.dom.TagName("SUP"),goog.dom.TagName.SVG=new goog.dom.TagName("SVG"),goog.dom.TagName.TABLE=new goog.dom.TagName("TABLE"),goog.dom.TagName.TBODY=new goog.dom.TagName("TBODY"),goog.dom.TagName.TD=new goog.dom.TagName("TD"),goog.dom.TagName.TEMPLATE=new goog.dom.TagName("TEMPLATE"),goog.dom.TagName.TEXTAREA=new goog.dom.TagName("TEXTAREA"),goog.dom.TagName.TFOOT=new goog.dom.TagName("TFOOT"),goog.dom.TagName.TH=new goog.dom.TagName("TH"),goog.dom.TagName.THEAD=new goog.dom.TagName("THEAD"),goog.dom.TagName.TIME=new goog.dom.TagName("TIME"),goog.dom.TagName.TITLE=new goog.dom.TagName("TITLE"),goog.dom.TagName.TR=new goog.dom.TagName("TR"),goog.dom.TagName.TRACK=new goog.dom.TagName("TRACK"),goog.dom.TagName.TT=new goog.dom.TagName("TT"),goog.dom.TagName.U=new goog.dom.TagName("U"),goog.dom.TagName.UL=new goog.dom.TagName("UL"),goog.dom.TagName.VAR=new goog.dom.TagName("VAR"),goog.dom.TagName.VIDEO=new goog.dom.TagName("VIDEO"),goog.dom.TagName.WBR=new goog.dom.TagName("WBR"),goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var i=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.contains(i,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var i=goog.labs.userAgent.util.getUserAgent();return goog.string.internal.caseInsensitiveContains(i,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var i,o=/(\w[\w ]+)\/([^\s]+)\s*(?:\((.*?)\))?/g,c=[];i=o.exec(e);)c.push([i[1],i[2],i[3]||void 0]);return c},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdgeHtml_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchEdgeChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("Edg/")},goog.labs.userAgent.browser.matchOperaChromium_=function(){return goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")||goog.labs.userAgent.util.matchUserAgent("FxiOS")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdgeHtml_()||goog.labs.userAgent.browser.matchEdgeChromium_()||goog.labs.userAgent.browser.matchOperaChromium_()||goog.labs.userAgent.browser.matchFirefox_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&!goog.labs.userAgent.browser.matchFirefox_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchEdgeHtml_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdgeHtml_,goog.labs.userAgent.browser.isEdgeChromium=goog.labs.userAgent.browser.matchEdgeChromium_,goog.labs.userAgent.browser.isOperaChromium=goog.labs.userAgent.browser.matchOperaChromium_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(d){return d=goog.array.find(d,c),o[d]||""}var i=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(i);i=goog.labs.userAgent.util.extractVersionTuples(i);var o={};goog.array.forEach(i,function(d){o[d[0]]=d[1]});var c=goog.partial(goog.object.containsKey,o);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isEdgeChromium()?e(["Edg"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(i=i[2])&&i[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.internal.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var i=/rv: *([\d\.]*)/.exec(e);if(i&&i[1])return i[1];i="";var o=/MSIE +([\d\.]+)/.exec(e);if(o&&o[1])if(e=/Trident\/(\d.\d)/.exec(e),o[1]=="7.0")if(e&&e[1])switch(e[1]){case"4.0":i="8.0";break;case"5.0":i="9.0";break;case"6.0":i="10.0";break;case"7.0":i="11.0"}else i="7.0";else i=o[1];return i},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_.toString()},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return goog.html.SafeHtml.unwrapTrustedHTML(e).toString()},goog.html.SafeHtml.unwrapTrustedHTML=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var i=typeof e=="object",o=null;return i&&e.implementsGoogI18nBidiDirectionalString&&(o=e.getDirection()),e=i&&e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.htmlEscape(e),o)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.internal.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_={APPLET:!0,BASE:!0,EMBED:!0,IFRAME:!0,LINK:!0,MATH:!0,META:!0,OBJECT:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.html.SafeHtml.create=function(e,i,o){return goog.html.SafeHtml.verifyTagName(String(e)),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(String(e),i,o)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,i,o,c){e&&goog.html.TrustedResourceUrl.unwrap(e);var d={};return d.src=e||null,d.srcdoc=i&&goog.html.SafeHtml.unwrap(i),e=goog.html.SafeHtml.combineAttributes(d,{sandbox:""},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,c)},goog.html.SafeHtml.createSandboxIframe=function(e,i,o,c){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var d={};return d.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,d.srcdoc=i||null,d.sandbox="",e=goog.html.SafeHtml.combineAttributes(d,{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,c)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,i){return goog.html.TrustedResourceUrl.unwrap(e),e=goog.html.SafeHtml.combineAttributes({src:e},{},i),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",e)},goog.html.SafeHtml.createScript=function(e,i){for(var o in i){var c=o.toLowerCase();if(c=="language"||c=="src"||c=="text"||c=="type")throw Error('Cannot set "'+c+'" attribute')}for(o="",e=goog.array.concat(e),c=0;c<e.length;c++)o+=goog.html.SafeScript.unwrap(e[c]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",i,e)},goog.html.SafeHtml.createStyle=function(e,i){i=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},i);var o="";e=goog.array.concat(e);for(var c=0;c<e.length;c++)o+=goog.html.SafeStyleSheet.unwrap(e[c]);return e=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",i,e)},goog.html.SafeHtml.createMetaRefresh=function(e,i){return e=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)),(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.internal.contains(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(i||0)+"; url="+e})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,i,o){if(o instanceof goog.string.Const)o=goog.string.Const.unwrap(o);else if(i.toLowerCase()=="style")o=goog.html.SafeHtml.getStyleValue_(o);else{if(/^on/i.test(i))throw Error('Attribute "'+i+'" requires goog.string.Const value, "'+o+'" given.');if(i.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(o instanceof goog.html.TrustedResourceUrl)o=goog.html.TrustedResourceUrl.unwrap(o);else if(o instanceof goog.html.SafeUrl)o=goog.html.SafeUrl.unwrap(o);else{if(!goog.isString(o))throw Error('Attribute "'+i+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+o+'" given.');o=goog.html.SafeUrl.sanitize(o).getTypedStringValue()}}return o.implementsGoogStringTypedString&&(o=o.getTypedStringValue()),goog.asserts.assert(goog.isString(o)||goog.isNumber(o),"String or number value expected, got "+typeof o+" with value: "+o),i+'="'+goog.string.internal.htmlEscape(String(o))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,i,o,c){return(i=goog.html.SafeHtml.create(i,o,c)).dir_=e,i},goog.html.SafeHtml.join=function(e,i){var o=(e=goog.html.SafeHtml.htmlEscape(e)).getDirection(),c=[],d=function(j){goog.isArray(j)?goog.array.forEach(j,d):(j=goog.html.SafeHtml.htmlEscape(j),c.push(goog.html.SafeHtml.unwrap(j)),j=j.getDirection(),o==goog.i18n.bidi.Dir.NEUTRAL?o=j:j!=goog.i18n.bidi.Dir.NEUTRAL&&o!=j&&(o=null))};return goog.array.forEach(i,d),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(c.join(goog.html.SafeHtml.unwrap(e)),o)},goog.html.SafeHtml.concat=function(e){return goog.html.SafeHtml.join(goog.html.SafeHtml.EMPTY,Array.prototype.slice.call(arguments))},goog.html.SafeHtml.concatWithDir=function(e,i){var o=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return o.dir_=e,o},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,i){return new goog.html.SafeHtml().initSecurityPrivateDoNotAccessOrElse_(e,i)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,i){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY?goog.html.trustedtypes.PRIVATE_DO_NOT_ACCESS_OR_ELSE_POLICY.createHTML(e):e,this.dir_=i,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,i,o){var c=null,d="<"+e+goog.html.SafeHtml.stringifyAttributes(e,i);return goog.isDefAndNotNull(o)?goog.isArray(o)||(o=[o]):o=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!o.length,"Void tag <"+e+"> does not allow content."),d+=">"):(c=goog.html.SafeHtml.concat(o),d+=">"+goog.html.SafeHtml.unwrap(c)+"</"+e+">",c=c.getDirection()),(e=i&&i.dir)&&(c=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(d,c)},goog.html.SafeHtml.stringifyAttributes=function(e,i){var o="";if(i)for(var c in i){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(c))throw Error('Invalid attribute name "'+c+'".');var d=i[c];goog.isDefAndNotNull(d)&&(o+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,c,d))}return o},goog.html.SafeHtml.combineAttributes=function(e,i,o){var c,d={};for(c in e)goog.asserts.assert(c.toLowerCase()==c,"Must be lower case"),d[c]=e[c];for(c in i)goog.asserts.assert(c.toLowerCase()==c,"Must be lower case"),d[c]=i[c];for(c in o){var j=c.toLowerCase();if(j in e)throw Error('Cannot override "'+j+'" attribute, got "'+c+'" with value "'+o[c]+'"');j in i&&delete d[j],d[c]=o[c]}return d},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,i,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(i,o||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(i)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(i)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(i)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(i)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,i){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.internal.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(i)},goog.dom.asserts={},goog.dom.asserts.assertIsLocation=function(e){if(goog.asserts.ENABLE_ASSERTS){var i=goog.dom.asserts.getWindow_(e);i&&(!e||!(e instanceof i.Location)&&e instanceof i.Element)&&goog.asserts.fail("Argument is not a Location (or a non-Element mock); got: %s",goog.dom.asserts.debugStringForType_(e))}return e},goog.dom.asserts.assertIsElementType_=function(e,i){if(goog.asserts.ENABLE_ASSERTS){var o=goog.dom.asserts.getWindow_(e);o&&o[i]!==void 0&&(e&&(e instanceof o[i]||!(e instanceof o.Location||e instanceof o.Element))||goog.asserts.fail("Argument is not a %s (or a non-Element, non-Location mock); got: %s",i,goog.dom.asserts.debugStringForType_(e)))}return e},goog.dom.asserts.assertIsHTMLAnchorElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAnchorElement")},goog.dom.asserts.assertIsHTMLButtonElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLButtonElement")},goog.dom.asserts.assertIsHTMLLinkElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLLinkElement")},goog.dom.asserts.assertIsHTMLImageElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLImageElement")},goog.dom.asserts.assertIsHTMLAudioElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLAudioElement")},goog.dom.asserts.assertIsHTMLVideoElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLVideoElement")},goog.dom.asserts.assertIsHTMLInputElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLInputElement")},goog.dom.asserts.assertIsHTMLTextAreaElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLTextAreaElement")},goog.dom.asserts.assertIsHTMLCanvasElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLCanvasElement")},goog.dom.asserts.assertIsHTMLEmbedElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLEmbedElement")},goog.dom.asserts.assertIsHTMLFormElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFormElement")},goog.dom.asserts.assertIsHTMLFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLFrameElement")},goog.dom.asserts.assertIsHTMLIFrameElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLIFrameElement")},goog.dom.asserts.assertIsHTMLObjectElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLObjectElement")},goog.dom.asserts.assertIsHTMLScriptElement=function(e){return goog.dom.asserts.assertIsElementType_(e,"HTMLScriptElement")},goog.dom.asserts.debugStringForType_=function(e){if(!goog.isObject(e))return e===void 0?"undefined":e===null?"null":typeof e;try{return e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch{return"<object could not be stringified>"}},goog.dom.asserts.getWindow_=function(e){try{var i=e&&e.ownerDocument,o=i&&(i.defaultView||i.parentWindow);if((o=o||goog.global).Element&&o.Location)return o}catch{}return null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=function(){return!1},goog.functions.TRUE=function(){return!0},goog.functions.NULL=function(){return null},goog.functions.identity=function(e,i){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,i){return i=i||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,i))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,i){var o=Array.prototype.slice.call(arguments,1);return function(){var c=Array.prototype.slice.call(arguments);return c.push.apply(c,o),e.apply(this,c)}},goog.functions.withReturnValue=function(e,i){return goog.functions.sequence(e,goog.functions.constant(i))},goog.functions.equalTo=function(e,i){return function(o){return i?e==o:e===o}},goog.functions.compose=function(e,i){var o=arguments,c=o.length;return function(){var d;c&&(d=o[c-1].apply(this,arguments));for(var j=c-2;0<=j;j--)d=o[j].call(this,d);return d}},goog.functions.sequence=function(e){var i=arguments,o=i.length;return function(){for(var c,d=0;d<o;d++)c=i[d].apply(this,arguments);return c}},goog.functions.and=function(e){var i=arguments,o=i.length;return function(){for(var c=0;c<o;c++)if(!i[c].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var i=arguments,o=i.length;return function(){for(var c=0;c<o;c++)if(i[c].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,i){var o=function(){};return o.prototype=e.prototype,o=new o,e.apply(o,Array.prototype.slice.call(arguments,1)),o},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var i,o=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(o||(i=e(),o=!0),i):e()}},goog.functions.once=function(e){var i=e;return function(){if(i){var o=i;i=null,o()}}},goog.functions.debounce=function(e,i,o){var c=0;return function(d){goog.global.clearTimeout(c);var j=arguments;c=goog.global.setTimeout(function(){e.apply(o,j)},i)}},goog.functions.throttle=function(e,i,o){var c=0,d=!1,j=[],Z=function(){c=0,d&&(d=!1,s())},s=function(){c=goog.global.setTimeout(Z,i),e.apply(o,j)};return function($){j=arguments,c?d=!0:s()}},goog.functions.rateLimit=function(e,i,o){var c=0,d=function(){c=0};return function(j){c||(c=goog.global.setTimeout(d,i),e.apply(o,arguments))}},goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,i,o){e.insertAdjacentHTML(i,goog.html.SafeHtml.unwrapTrustedHTML(o))},goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_={MATH:!0,SCRIPT:!0,STYLE:!0,SVG:!0,TEMPLATE:!0},goog.dom.safe.isInnerHtmlCleanupRecursive_=goog.functions.cacheReturnValue(function(){if(goog.DEBUG&&typeof document=="undefined")return!1;var e=document.createElement("div"),i=document.createElement("div");return i.appendChild(document.createElement("div")),e.appendChild(i),!(goog.DEBUG&&!e.firstChild)&&(i=e.firstChild.firstChild,e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(goog.html.SafeHtml.EMPTY),!i.parentElement)}),goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse=function(e,i){if(goog.dom.safe.isInnerHtmlCleanupRecursive_())for(;e.lastChild;)e.removeChild(e.lastChild);e.innerHTML=goog.html.SafeHtml.unwrapTrustedHTML(i)},goog.dom.safe.setInnerHtml=function(e,i){if(goog.asserts.ENABLE_ASSERTS){var o=e.tagName.toUpperCase();if(goog.dom.safe.SET_INNER_HTML_DISALLOWED_TAGS_[o])throw Error("goog.dom.safe.setInnerHtml cannot be used to set content of "+e.tagName+".")}goog.dom.safe.unsafeSetInnerHtmlDoNotUseOrElse(e,i)},goog.dom.safe.setOuterHtml=function(e,i){e.outerHTML=goog.html.SafeHtml.unwrapTrustedHTML(i)},goog.dom.safe.setFormElementAction=function(e,i){i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),goog.dom.asserts.assertIsHTMLFormElement(e).action=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setButtonFormAction=function(e,i){i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),goog.dom.asserts.assertIsHTMLButtonElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setInputFormAction=function(e,i){i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),goog.dom.asserts.assertIsHTMLInputElement(e).formAction=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setStyle=function(e,i){e.style.cssText=goog.html.SafeStyle.unwrap(i)},goog.dom.safe.documentWrite=function(e,i){e.write(goog.html.SafeHtml.unwrapTrustedHTML(i))},goog.dom.safe.setAnchorHref=function(e,i){goog.dom.asserts.assertIsHTMLAnchorElement(e),i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),e.href=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setImageSrc=function(e,i){if(goog.dom.asserts.assertIsHTMLImageElement(e),!(i instanceof goog.html.SafeUrl)){var o=/^data:image\//i.test(i);i=goog.html.SafeUrl.sanitizeAssertUnchanged(i,o)}e.src=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setAudioSrc=function(e,i){if(goog.dom.asserts.assertIsHTMLAudioElement(e),!(i instanceof goog.html.SafeUrl)){var o=/^data:audio\//i.test(i);i=goog.html.SafeUrl.sanitizeAssertUnchanged(i,o)}e.src=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setVideoSrc=function(e,i){if(goog.dom.asserts.assertIsHTMLVideoElement(e),!(i instanceof goog.html.SafeUrl)){var o=/^data:video\//i.test(i);i=goog.html.SafeUrl.sanitizeAssertUnchanged(i,o)}e.src=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.setEmbedSrc=function(e,i){goog.dom.asserts.assertIsHTMLEmbedElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i)},goog.dom.safe.setFrameSrc=function(e,i){goog.dom.asserts.assertIsHTMLFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(i)},goog.dom.safe.setIframeSrc=function(e,i){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedURL(i)},goog.dom.safe.setIframeSrcdoc=function(e,i){goog.dom.asserts.assertIsHTMLIFrameElement(e),e.srcdoc=goog.html.SafeHtml.unwrapTrustedHTML(i)},goog.dom.safe.setLinkHrefAndRel=function(e,i,o){goog.dom.asserts.assertIsHTMLLinkElement(e),e.rel=o,goog.string.internal.caseInsensitiveContains(o,"stylesheet")?(goog.asserts.assert(i instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrapTrustedURL(i)):e.href=i instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrapTrustedURL(i):i instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrapTrustedURL(i):goog.html.SafeUrl.unwrapTrustedURL(goog.html.SafeUrl.sanitizeAssertUnchanged(i))},goog.dom.safe.setObjectData=function(e,i){goog.dom.asserts.assertIsHTMLObjectElement(e),e.data=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i)},goog.dom.safe.setScriptSrc=function(e,i){goog.dom.asserts.assertIsHTMLScriptElement(e),e.src=goog.html.TrustedResourceUrl.unwrapTrustedScriptURL(i),(i=goog.getScriptNonce())&&e.setAttribute("nonce",i)},goog.dom.safe.setScriptContent=function(e,i){goog.dom.asserts.assertIsHTMLScriptElement(e),e.text=goog.html.SafeScript.unwrapTrustedScript(i),(i=goog.getScriptNonce())&&e.setAttribute("nonce",i)},goog.dom.safe.setLocationHref=function(e,i){goog.dom.asserts.assertIsLocation(e),i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),e.href=goog.html.SafeUrl.unwrapTrustedURL(i)},goog.dom.safe.assignLocation=function(e,i){goog.dom.asserts.assertIsLocation(e),i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),e.assign(goog.html.SafeUrl.unwrapTrustedURL(i))},goog.dom.safe.replaceLocation=function(e,i){goog.dom.asserts.assertIsLocation(e),i=i instanceof goog.html.SafeUrl?i:goog.html.SafeUrl.sanitizeAssertUnchanged(i),e.replace(goog.html.SafeUrl.unwrapTrustedURL(i))},goog.dom.safe.openInWindow=function(e,i,o,c,d){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitizeAssertUnchanged(e),(i||goog.global).open(goog.html.SafeUrl.unwrapTrustedURL(e),o?goog.string.Const.unwrap(o):"",c,d)},goog.dom.safe.parseFromStringHtml=function(e,i){return goog.dom.safe.parseFromString(e,i,"text/html")},goog.dom.safe.parseFromString=function(e,i,o){return e.parseFromString(goog.html.SafeHtml.unwrapTrustedHTML(i),o)},goog.dom.safe.createImageFromBlob=function(e){if(!/^image\/.*/g.test(e.type))throw Error("goog.dom.safe.createImageFromBlob only accepts MIME type image/.*.");var i=goog.global.URL.createObjectURL(e);return(e=new goog.global.Image).onload=function(){goog.global.URL.revokeObjectURL(i)},goog.dom.safe.setImageSrc(e,goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Image blob URL."),i)),e},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:"\xA0"},goog.string.startsWith=goog.string.internal.startsWith,goog.string.endsWith=goog.string.internal.endsWith,goog.string.caseInsensitiveStartsWith=goog.string.internal.caseInsensitiveStartsWith,goog.string.caseInsensitiveEndsWith=goog.string.internal.caseInsensitiveEndsWith,goog.string.caseInsensitiveEquals=goog.string.internal.caseInsensitiveEquals,goog.string.subs=function(e,i){for(var o=e.split("%s"),c="",d=Array.prototype.slice.call(arguments,1);d.length&&1<o.length;)c+=o.shift()+d.shift();return c+o.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=goog.string.internal.isEmptyOrWhitespace,goog.string.isEmptyString=function(e){return e.length==0},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return e==" "},goog.string.isUnicodeChar=function(e){return e.length==1&&" "<=e&&"~">=e||"\x80"<=e&&"\uFFFD">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,`
`)},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.string.internal.trim,goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=goog.string.internal.caseInsensitiveCompare,goog.string.numberAwareCompare_=function(e,i,o){if(e==i)return 0;if(!e)return-1;if(!i)return 1;for(var c=e.toLowerCase().match(o),d=i.toLowerCase().match(o),j=Math.min(c.length,d.length),Z=0;Z<j;Z++){o=c[Z];var s=d[Z];if(o!=s)return e=parseInt(o,10),!isNaN(e)&&(i=parseInt(s,10),!isNaN(i)&&e-i)?e-i:o<s?-1:1}return c.length!=d.length?c.length-d.length:e<i?-1:1},goog.string.intAwareCompare=function(e,i){return goog.string.numberAwareCompare_(e,i,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,i){return goog.string.numberAwareCompare_(e,i,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=goog.string.internal.newLineToBr,goog.string.htmlEscape=function(e,i){return e=goog.string.internal.htmlEscape(e,i),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;")),e},goog.string.E_RE_=/e/g,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,i){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,i):e},goog.string.unescapeEntitiesUsingDom_=function(e,i){var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'},c=i?i.createElement("div"):goog.global.document.createElement("div");return e.replace(goog.string.HTML_ENTITY_PATTERN_,function(d,j){var Z=o[d];return Z||(j.charAt(0)=="#"&&(j=Number("0"+j.substr(1)),isNaN(j)||(Z=String.fromCharCode(j))),Z||(goog.dom.safe.setInnerHtml(c,goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("Single HTML entity."),d+" ")),Z=c.firstChild.nodeValue.slice(0,-1)),o[d]=Z)})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(i,o){switch(o){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:return o.charAt(0)!="#"||(o=Number("0"+o.substr(1)),isNaN(o))?i:String.fromCharCode(o)}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,i){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),i)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,i){for(var o=i.length,c=0;c<o;c++){var d=o==1?i:i.charAt(c);if(e.charAt(0)==d&&e.charAt(e.length-1)==d)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,i,o){return o&&(e=goog.string.unescapeEntities(e)),e.length>i&&(e=e.substring(0,i-3)+"..."),o&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,i,o,c){if(o&&(e=goog.string.unescapeEntities(e)),c&&e.length>i){c>i&&(c=i);var d=e.length-c;e=e.substring(0,i-c)+"..."+e.substring(d)}else e.length>i&&(c=Math.floor(i/2),d=e.length-c,e=e.substring(0,c+i%2)+"..."+e.substring(d));return o&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\0":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\x0B",'"':'\\"',"\\":"\\\\","<":"\\u003C"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var i=['"'],o=0;o<e.length;o++){var c=e.charAt(o),d=c.charCodeAt(0);i[o+1]=goog.string.specialEscapeChars_[c]||(31<d&&127>d?c:goog.string.escapeChar(c))}return i.push('"'),i.join("")},goog.string.escapeString=function(e){for(var i=[],o=0;o<e.length;o++)i[o]=goog.string.escapeChar(e.charAt(o));return i.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var i=e.charCodeAt(0);if(31<i&&127>i)var o=e;else 256>i?(o="\\x",(16>i||256<i)&&(o+="0")):(o="\\u",4096>i&&(o+="0")),o+=i.toString(16).toUpperCase();return goog.string.jsEscapeCache_[e]=o},goog.string.contains=goog.string.internal.contains,goog.string.caseInsensitiveContains=goog.string.internal.caseInsensitiveContains,goog.string.countOf=function(e,i){return e&&i?e.split(i).length-1:0},goog.string.removeAt=function(e,i,o){var c=e;return 0<=i&&i<e.length&&0<o&&(c=e.substr(0,i)+e.substr(i+o,e.length-i-o)),c},goog.string.remove=function(e,i){return e.replace(i,"")},goog.string.removeAll=function(e,i){return i=new RegExp(goog.string.regExpEscape(i),"g"),e.replace(i,"")},goog.string.replaceAll=function(e,i,o){return i=new RegExp(goog.string.regExpEscape(i),"g"),e.replace(i,o.replace(/\$/g,"$$$$"))},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,i){return e.repeat(i)}:function(e,i){return Array(i+1).join(e)},goog.string.padNumber=function(e,i,o){return(o=(e=goog.isDef(o)?e.toFixed(o):String(e)).indexOf("."))==-1&&(o=e.length),goog.string.repeat("0",Math.max(0,i-o))+e},goog.string.makeSafe=function(e){return e==null?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=goog.string.internal.compareVersions,goog.string.hashCode=function(e){for(var i=0,o=0;o<e.length;++o)i=31*i+e.charCodeAt(o)>>>0;return i},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var i=Number(e);return i==0&&goog.string.isEmptyOrWhitespace(e)?NaN:i},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(i,o){return o.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,i){return i=goog.isString(i)?goog.string.regExpEscape(i):"\\s",e.replace(new RegExp("(^"+(i?"|["+i+"]+":"")+")([a-z])","g"),function(o,c,d){return c+d.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,i,o){e=e.split(i);for(var c=[];0<o&&e.length;)c.push(e.shift()),o--;return e.length&&c.push(e.join(i)),c},goog.string.lastComponent=function(e,i){if(!i)return e;typeof i=="string"&&(i=[i]);for(var o=-1,c=0;c<i.length;c++)if(i[c]!=""){var d=e.lastIndexOf(i[c]);d>o&&(o=d)}return o==-1?e:e.slice(o+1)},goog.string.editDistance=function(e,i){var o=[],c=[];if(e==i)return 0;if(!e.length||!i.length)return Math.max(e.length,i.length);for(var d=0;d<i.length+1;d++)o[d]=d;for(d=0;d<e.length;d++){c[0]=d+1;for(var j=0;j<i.length;j++)c[j+1]=Math.min(c[j]+1,o[j+1]+1,o[j]+Number(e[d]!=i[j]));for(j=0;j<o.length;j++)o[j]=c[j]}return c[i.length]},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.isChromecast=function(){return goog.labs.userAgent.util.matchUserAgent("CrKey")},goog.labs.userAgent.platform.isKaiOS=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("KaiOS")},goog.labs.userAgent.platform.isGo2Phone=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("GAFP")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),i="";return goog.labs.userAgent.platform.isWindows()?i=(e=(i=/Windows (?:NT|Phone) ([0-9.]+)/).exec(e))?e[1]:"0.0":goog.labs.userAgent.platform.isIos()?i=(e=(i=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/).exec(e))&&e[1].replace(/_/g,"."):goog.labs.userAgent.platform.isMacintosh()?i=(e=(i=/Mac OS X ([0-9_.]+)/).exec(e))?e[1].replace(/_/g,"."):"10":goog.labs.userAgent.platform.isKaiOS()?i=(e=(i=/(?:KaiOS)\/(\S+)/i).exec(e))&&e[1]:goog.labs.userAgent.platform.isAndroid()?i=(e=(i=/Android\s+([^\);]+)(\)|;)/).exec(e))&&e[1]:goog.labs.userAgent.platform.isChromeOS()&&(i=(e=(i=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/).exec(e))&&e[1]),i||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.reflect={},goog.reflect.object=function(e,i){return i},goog.reflect.objectProperty=function(e,i){return e},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,i){try{return goog.reflect.sinkValue(e[i]),!0}catch{}return!1},goog.reflect.cache=function(e,i,o,c){return c=c?c(i):i,Object.prototype.hasOwnProperty.call(e,c)?e[c]:e[c]=o(i)},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){e=goog.labs.userAgent.util.extractVersionTuples(e);var i,o=goog.labs.userAgent.engine.getEngineTuple_(e);if(o)return o[0]=="Gecko"?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):o[1];if((e=e[0])&&(i=e[2])&&(i=/Trident\/([^\s;]+)/.exec(i)))return i[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var i=0;i<e.length;i++){var o=e[i];if(o[0]=="Edge")return o}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,i){return(e=goog.array.find(e,function(o){return i==o[0]}))&&e[1]||""},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigatorTyped=function(){return goog.global.navigator||null},goog.userAgent.getNavigator=function(){return goog.userAgent.getNavigatorTyped()},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigatorTyped();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.ASSUME_IPOD=!1,goog.userAgent.ASSUME_KAIOS=!1,goog.userAgent.ASSUME_GO2PHONE=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigatorTyped();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.IPOD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIpod(),goog.userAgent.IOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD||goog.userAgent.ASSUME_IPOD:goog.labs.userAgent.platform.isIos(),goog.userAgent.KAIOS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_KAIOS:goog.labs.userAgent.platform.isKaiOS(),goog.userAgent.GO2PHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_GO2PHONE:goog.labs.userAgent.platform.isGo2Phone(),goog.userAgent.determineVersion_=function(){var e="",i=goog.userAgent.getVersionRegexResult_();return i&&(e=i?i[1]:""),goog.userAgent.IE&&(i=goog.userAgent.getDocumentMode_())!=null&&i>parseFloat(e)?String(i):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,i){return goog.string.compareVersions(e,i)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.reflect.cache(goog.userAgent.isVersionOrHigherCache_,e,function(){return 0<=goog.string.compareVersions(goog.userAgent.VERSION,e)})},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){if(goog.global.document&&goog.userAgent.IE)return goog.userAgent.getDocumentMode_()}(),goog.userAgent.product={},goog.userAgent.product.ASSUME_FIREFOX=!1,goog.userAgent.product.ASSUME_IPHONE=!1,goog.userAgent.product.ASSUME_IPAD=!1,goog.userAgent.product.ASSUME_ANDROID=!1,goog.userAgent.product.ASSUME_CHROME=!1,goog.userAgent.product.ASSUME_SAFARI=!1,goog.userAgent.product.PRODUCT_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_OPERA||goog.userAgent.product.ASSUME_FIREFOX||goog.userAgent.product.ASSUME_IPHONE||goog.userAgent.product.ASSUME_IPAD||goog.userAgent.product.ASSUME_ANDROID||goog.userAgent.product.ASSUME_CHROME||goog.userAgent.product.ASSUME_SAFARI,goog.userAgent.product.OPERA=goog.userAgent.OPERA,goog.userAgent.product.IE=goog.userAgent.IE,goog.userAgent.product.EDGE=goog.userAgent.EDGE,goog.userAgent.product.FIREFOX=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_FIREFOX:goog.labs.userAgent.browser.isFirefox(),goog.userAgent.product.isIphoneOrIpod_=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpod()},goog.userAgent.product.IPHONE=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPHONE:goog.userAgent.product.isIphoneOrIpod_(),goog.userAgent.product.IPAD=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.product.ANDROID=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_ANDROID:goog.labs.userAgent.browser.isAndroidBrowser(),goog.userAgent.product.CHROME=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_CHROME:goog.labs.userAgent.browser.isChrome(),goog.userAgent.product.isSafariDesktop_=function(){return goog.labs.userAgent.browser.isSafari()&&!goog.labs.userAgent.platform.isIos()},goog.userAgent.product.SAFARI=goog.userAgent.product.PRODUCT_KNOWN_?goog.userAgent.product.ASSUME_SAFARI:goog.userAgent.product.isSafariDesktop_(),goog.crypt.base64={},goog.crypt.base64.DEFAULT_ALPHABET_COMMON_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",goog.crypt.base64.ENCODED_VALS=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"+/=",goog.crypt.base64.ENCODED_VALS_WEBSAFE=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_+"-_.",goog.crypt.base64.Alphabet={DEFAULT:0,NO_PADDING:1,WEBSAFE:2,WEBSAFE_DOT_PADDING:3,WEBSAFE_NO_PADDING:4},goog.crypt.base64.paddingChars_="=.",goog.crypt.base64.isPadding_=function(e){return goog.string.contains(goog.crypt.base64.paddingChars_,e)},goog.crypt.base64.byteToCharMaps_={},goog.crypt.base64.charToByteMap_=null,goog.crypt.base64.ASSUME_NATIVE_SUPPORT_=goog.userAgent.GECKO||goog.userAgent.WEBKIT&&!goog.userAgent.product.SAFARI||goog.userAgent.OPERA,goog.crypt.base64.HAS_NATIVE_ENCODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||typeof goog.global.btoa=="function",goog.crypt.base64.HAS_NATIVE_DECODE_=goog.crypt.base64.ASSUME_NATIVE_SUPPORT_||!goog.userAgent.product.SAFARI&&!goog.userAgent.IE&&typeof goog.global.atob=="function",goog.crypt.base64.encodeByteArray=function(e,i){goog.asserts.assert(goog.isArrayLike(e),"encodeByteArray takes an array as a parameter"),i===void 0&&(i=goog.crypt.base64.Alphabet.DEFAULT),goog.crypt.base64.init_(),i=goog.crypt.base64.byteToCharMaps_[i];for(var o=[],c=0;c<e.length;c+=3){var d=e[c],j=c+1<e.length,Z=j?e[c+1]:0,s=c+2<e.length,$=s?e[c+2]:0,et=d>>2;d=(3&d)<<4|Z>>4,Z=(15&Z)<<2|$>>6,$&=63,s||($=64,j||(Z=64)),o.push(i[et],i[d],i[Z]||"",i[$]||"")}return o.join("")},goog.crypt.base64.encodeString=function(e,i){return goog.crypt.base64.HAS_NATIVE_ENCODE_&&!i?goog.global.btoa(e):goog.crypt.base64.encodeByteArray(goog.crypt.stringToByteArray(e),i)},goog.crypt.base64.decodeString=function(e,i){if(goog.crypt.base64.HAS_NATIVE_DECODE_&&!i)return goog.global.atob(e);var o="";return goog.crypt.base64.decodeStringInternal_(e,function(c){o+=String.fromCharCode(c)}),o},goog.crypt.base64.decodeStringToByteArray=function(e,i){var o=[];return goog.crypt.base64.decodeStringInternal_(e,function(c){o.push(c)}),o},goog.crypt.base64.decodeStringToUint8Array=function(e){goog.asserts.assert(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10"),"Browser does not support typed arrays");var i=e.length,o=3*i/4;o%3?o=Math.floor(o):goog.crypt.base64.isPadding_(e[i-1])&&(o=goog.crypt.base64.isPadding_(e[i-2])?o-2:o-1);var c=new Uint8Array(o),d=0;return goog.crypt.base64.decodeStringInternal_(e,function(j){c[d++]=j}),c.subarray(0,d)},goog.crypt.base64.decodeStringInternal_=function(e,i){function o($){for(;c<e.length;){var et=e.charAt(c++),ut=goog.crypt.base64.charToByteMap_[et];if(ut!=null)return ut;if(!goog.string.isEmptyOrWhitespace(et))throw Error("Unknown base64 encoding at char: "+et)}return $}goog.crypt.base64.init_();for(var c=0;;){var d=o(-1),j=o(0),Z=o(64),s=o(64);if(s===64&&d===-1)break;i(d<<2|j>>4),Z!=64&&(i(j<<4&240|Z>>2),s!=64&&i(Z<<6&192|s))}},goog.crypt.base64.init_=function(){if(!goog.crypt.base64.charToByteMap_){goog.crypt.base64.charToByteMap_={};for(var e=goog.crypt.base64.DEFAULT_ALPHABET_COMMON_.split(""),i=["+/=","+/","-_=","-_.","-_"],o=0;5>o;o++){var c=e.concat(i[o].split(""));goog.crypt.base64.byteToCharMaps_[o]=c;for(var d=0;d<c.length;d++){var j=c[d],Z=goog.crypt.base64.charToByteMap_[j];Z===void 0?goog.crypt.base64.charToByteMap_[j]=d:goog.asserts.assert(Z===d)}}}},jspb.utils={},jspb.utils.split64Low=0,jspb.utils.split64High=0,jspb.utils.splitUint64=function(e){var i=e>>>0;e=Math.floor((e-i)/jspb.BinaryConstants.TWO_TO_32)>>>0,jspb.utils.split64Low=i,jspb.utils.split64High=e},jspb.utils.splitInt64=function(e){var i=0>e,o=(e=Math.abs(e))>>>0;e=Math.floor((e-o)/jspb.BinaryConstants.TWO_TO_32),e>>>=0,i&&(e=~e>>>0,4294967295<(o=1+(~o>>>0))&&(o=0,4294967295<++e&&(e=0))),jspb.utils.split64Low=o,jspb.utils.split64High=e},jspb.utils.splitZigzag64=function(e){var i=0>e;e=2*Math.abs(e),jspb.utils.splitUint64(e),e=jspb.utils.split64Low;var o=jspb.utils.split64High;i&&(e==0?o==0?o=e=4294967295:(o--,e=4294967295):e--),jspb.utils.split64Low=e,jspb.utils.split64High=o},jspb.utils.splitFloat32=function(e){var i=0>e?1:0;if((e=i?-e:e)===0)0<1/e?(jspb.utils.split64High=0,jspb.utils.split64Low=0):(jspb.utils.split64High=0,jspb.utils.split64Low=2147483648);else if(isNaN(e))jspb.utils.split64High=0,jspb.utils.split64Low=2147483647;else if(e>jspb.BinaryConstants.FLOAT32_MAX)jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|2139095040)>>>0;else if(e<jspb.BinaryConstants.FLOAT32_MIN)e=Math.round(e/Math.pow(2,-149)),jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|e)>>>0;else{var o=Math.floor(Math.log(e)/Math.LN2);e*=Math.pow(2,-o),e=8388607&Math.round(e*jspb.BinaryConstants.TWO_TO_23),jspb.utils.split64High=0,jspb.utils.split64Low=(i<<31|o+127<<23|e)>>>0}},jspb.utils.splitFloat64=function(e){var i=0>e?1:0;if((e=i?-e:e)===0)jspb.utils.split64High=0<1/e?0:2147483648,jspb.utils.split64Low=0;else if(isNaN(e))jspb.utils.split64High=2147483647,jspb.utils.split64Low=4294967295;else if(e>jspb.BinaryConstants.FLOAT64_MAX)jspb.utils.split64High=(i<<31|2146435072)>>>0,jspb.utils.split64Low=0;else if(e<jspb.BinaryConstants.FLOAT64_MIN){var o=e/Math.pow(2,-1074);e=o/jspb.BinaryConstants.TWO_TO_32,jspb.utils.split64High=(i<<31|e)>>>0,jspb.utils.split64Low=o>>>0}else{var c=0;if(2<=(o=e))for(;2<=o&&1023>c;)c++,o/=2;else for(;1>o&&-1022<c;)o*=2,c--;e=(o=e*Math.pow(2,-c))*jspb.BinaryConstants.TWO_TO_20&1048575,o=o*jspb.BinaryConstants.TWO_TO_52>>>0,jspb.utils.split64High=(i<<31|c+1023<<20|e)>>>0,jspb.utils.split64Low=o}},jspb.utils.splitHash64=function(e){var i=e.charCodeAt(0),o=e.charCodeAt(1),c=e.charCodeAt(2),d=e.charCodeAt(3),j=e.charCodeAt(4),Z=e.charCodeAt(5),s=e.charCodeAt(6);e=e.charCodeAt(7),jspb.utils.split64Low=i+(o<<8)+(c<<16)+(d<<24)>>>0,jspb.utils.split64High=j+(Z<<8)+(s<<16)+(e<<24)>>>0},jspb.utils.joinUint64=function(e,i){return i*jspb.BinaryConstants.TWO_TO_32+(e>>>0)},jspb.utils.joinInt64=function(e,i){var o=2147483648&i;return o&&(i=~i>>>0,(e=1+~e>>>0)==0&&(i=i+1>>>0)),e=jspb.utils.joinUint64(e,i),o?-e:e},jspb.utils.toZigzag64=function(e,i,o){var c=i>>31;return o(e<<1^c,(i<<1|e>>>31)^c)},jspb.utils.joinZigzag64=function(e,i){return jspb.utils.fromZigzag64(e,i,jspb.utils.joinInt64)},jspb.utils.fromZigzag64=function(e,i,o){var c=-(1&e);return o((e>>>1|i<<31)^c,i>>>1^c)},jspb.utils.joinFloat32=function(e,i){i=2*(e>>31)+1;var o=e>>>23&255;return e&=8388607,o==255?e?NaN:1/0*i:o==0?i*Math.pow(2,-149)*e:i*Math.pow(2,o-150)*(e+Math.pow(2,23))},jspb.utils.joinFloat64=function(e,i){var o=2*(i>>31)+1,c=i>>>20&2047;return e=jspb.BinaryConstants.TWO_TO_32*(1048575&i)+e,c==2047?e?NaN:1/0*o:c==0?o*Math.pow(2,-1074)*e:o*Math.pow(2,c-1075)*(e+jspb.BinaryConstants.TWO_TO_52)},jspb.utils.joinHash64=function(e,i){return String.fromCharCode(e>>>0&255,e>>>8&255,e>>>16&255,e>>>24&255,i>>>0&255,i>>>8&255,i>>>16&255,i>>>24&255)},jspb.utils.DIGITS="0123456789abcdef".split(""),jspb.utils.ZERO_CHAR_CODE_=48,jspb.utils.A_CHAR_CODE_=97,jspb.utils.joinUnsignedDecimalString=function(e,i){function o(d,j){return d=d?String(d):"",j?"0000000".slice(d.length)+d:d}if(2097151>=i)return""+(jspb.BinaryConstants.TWO_TO_32*i+e);var c=(e>>>24|i<<8)>>>0&16777215;return e=(16777215&e)+6777216*c+6710656*(i=i>>16&65535),c+=8147497*i,i*=2,1e7<=e&&(c+=Math.floor(e/1e7),e%=1e7),1e7<=c&&(i+=Math.floor(c/1e7),c%=1e7),o(i,0)+o(c,i)+o(e,1)},jspb.utils.joinSignedDecimalString=function(e,i){var o=2147483648&i;return o&&(i=~i+((e=1+~e>>>0)==0?1:0)>>>0),e=jspb.utils.joinUnsignedDecimalString(e,i),o?"-"+e:e},jspb.utils.hash64ToDecimalString=function(e,i){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var o=jspb.utils.split64High;return i?jspb.utils.joinSignedDecimalString(e,o):jspb.utils.joinUnsignedDecimalString(e,o)},jspb.utils.hash64ArrayToDecimalStrings=function(e,i){for(var o=Array(e.length),c=0;c<e.length;c++)o[c]=jspb.utils.hash64ToDecimalString(e[c],i);return o},jspb.utils.decimalStringToHash64=function(e){function i(j,Z){for(var s=0;8>s&&(j!==1||0<Z);s++)Z=j*c[s]+Z,c[s]=255&Z,Z>>>=8}goog.asserts.assert(0<e.length);var o=!1;e[0]==="-"&&(o=!0,e=e.slice(1));for(var c=[0,0,0,0,0,0,0,0],d=0;d<e.length;d++)i(10,e.charCodeAt(d)-jspb.utils.ZERO_CHAR_CODE_);return o&&(function(){for(var j=0;8>j;j++)c[j]=255&~c[j]}(),i(1,1)),goog.crypt.byteArrayToString(c)},jspb.utils.splitDecimalString=function(e){jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e))},jspb.utils.toHexDigit_=function(e){return String.fromCharCode(10>e?jspb.utils.ZERO_CHAR_CODE_+e:jspb.utils.A_CHAR_CODE_-10+e)},jspb.utils.fromHexCharCode_=function(e){return e>=jspb.utils.A_CHAR_CODE_?e-jspb.utils.A_CHAR_CODE_+10:e-jspb.utils.ZERO_CHAR_CODE_},jspb.utils.hash64ToHexString=function(e){var i=Array(18);i[0]="0",i[1]="x";for(var o=0;8>o;o++){var c=e.charCodeAt(7-o);i[2*o+2]=jspb.utils.toHexDigit_(c>>4),i[2*o+3]=jspb.utils.toHexDigit_(15&c)}return i.join("")},jspb.utils.hexStringToHash64=function(e){e=e.toLowerCase(),goog.asserts.assert(e.length==18),goog.asserts.assert(e[0]=="0"),goog.asserts.assert(e[1]=="x");for(var i="",o=0;8>o;o++){var c=jspb.utils.fromHexCharCode_(e.charCodeAt(2*o+2)),d=jspb.utils.fromHexCharCode_(e.charCodeAt(2*o+3));i=String.fromCharCode(16*c+d)+i}return i},jspb.utils.hash64ToNumber=function(e,i){jspb.utils.splitHash64(e),e=jspb.utils.split64Low;var o=jspb.utils.split64High;return i?jspb.utils.joinInt64(e,o):jspb.utils.joinUint64(e,o)},jspb.utils.numberToHash64=function(e){return jspb.utils.splitInt64(e),jspb.utils.joinHash64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.utils.countVarints=function(e,i,o){for(var c=0,d=i;d<o;d++)c+=e[d]>>7;return o-i-c},jspb.utils.countVarintFields=function(e,i,o,c){var d=0;if(128>(c=8*c+jspb.BinaryConstants.WireType.VARINT))for(;i<o&&e[i++]==c;)for(d++;;){var j=e[i++];if((128&j)==0)break}else for(;i<o;){for(j=c;128<j;){if(e[i]!=(127&j|128))return d;i++,j>>=7}if(e[i++]!=j)break;for(d++;(128&(j=e[i++]))!=0;);}return d},jspb.utils.countFixedFields_=function(e,i,o,c,d){var j=0;if(128>c)for(;i<o&&e[i++]==c;)j++,i+=d;else for(;i<o;){for(var Z=c;128<Z;){if(e[i++]!=(127&Z|128))return j;Z>>=7}if(e[i++]!=Z)break;j++,i+=d}return j},jspb.utils.countFixed32Fields=function(e,i,o,c){return jspb.utils.countFixedFields_(e,i,o,8*c+jspb.BinaryConstants.WireType.FIXED32,4)},jspb.utils.countFixed64Fields=function(e,i,o,c){return jspb.utils.countFixedFields_(e,i,o,8*c+jspb.BinaryConstants.WireType.FIXED64,8)},jspb.utils.countDelimitedFields=function(e,i,o,c){var d=0;for(c=8*c+jspb.BinaryConstants.WireType.DELIMITED;i<o;){for(var j=c;128<j;){if(e[i++]!=(127&j|128))return d;j>>=7}if(e[i++]!=j)break;d++;for(var Z=0,s=1;Z+=(127&(j=e[i++]))*s,s*=128,(128&j)!=0;);i+=Z}return d},jspb.utils.debugBytesToTextFormat=function(e){var i='"';if(e){e=jspb.utils.byteSourceToUint8Array(e);for(var o=0;o<e.length;o++)i+="\\x",16>e[o]&&(i+="0"),i+=e[o].toString(16)}return i+'"'},jspb.utils.debugScalarToTextFormat=function(e){return typeof e=="string"?goog.string.quote(e):e.toString()},jspb.utils.stringToByteArray=function(e){for(var i=new Uint8Array(e.length),o=0;o<e.length;o++){var c=e.charCodeAt(o);if(255<c)throw Error("Conversion error: string contains codepoint outside of byte range");i[o]=c}return i},jspb.utils.byteSourceToUint8Array=function(e){return e.constructor===Uint8Array?e:e.constructor===ArrayBuffer||Buffer!==void 0&&e.constructor===Buffer||e.constructor===Array?new Uint8Array(e):e.constructor===String?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Type not convertible to Uint8Array."),new Uint8Array(0))},jspb.BinaryDecoder=function(e,i,o){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1,e&&this.setBlock(e,i,o)},jspb.BinaryDecoder.instanceCache_=[],jspb.BinaryDecoder.alloc=function(e,i,o){if(jspb.BinaryDecoder.instanceCache_.length){var c=jspb.BinaryDecoder.instanceCache_.pop();return e&&c.setBlock(e,i,o),c}return new jspb.BinaryDecoder(e,i,o)},jspb.BinaryDecoder.prototype.free=function(){this.clear(),100>jspb.BinaryDecoder.instanceCache_.length&&jspb.BinaryDecoder.instanceCache_.push(this)},jspb.BinaryDecoder.prototype.clone=function(){return jspb.BinaryDecoder.alloc(this.bytes_,this.start_,this.end_-this.start_)},jspb.BinaryDecoder.prototype.clear=function(){this.bytes_=null,this.cursor_=this.end_=this.start_=0,this.error_=!1},jspb.BinaryDecoder.prototype.getBuffer=function(){return this.bytes_},jspb.BinaryDecoder.prototype.setBlock=function(e,i,o){this.bytes_=jspb.utils.byteSourceToUint8Array(e),this.start_=i!==void 0?i:0,this.end_=o!==void 0?this.start_+o:this.bytes_.length,this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getEnd=function(){return this.end_},jspb.BinaryDecoder.prototype.setEnd=function(e){this.end_=e},jspb.BinaryDecoder.prototype.reset=function(){this.cursor_=this.start_},jspb.BinaryDecoder.prototype.getCursor=function(){return this.cursor_},jspb.BinaryDecoder.prototype.setCursor=function(e){this.cursor_=e},jspb.BinaryDecoder.prototype.advance=function(e){this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_)},jspb.BinaryDecoder.prototype.atEnd=function(){return this.cursor_==this.end_},jspb.BinaryDecoder.prototype.pastEnd=function(){return this.cursor_>this.end_},jspb.BinaryDecoder.prototype.getError=function(){return this.error_||0>this.cursor_||this.cursor_>this.end_},jspb.BinaryDecoder.prototype.readSplitVarint64=function(e){for(var i=128,o=0,c=0,d=0;4>d&&128<=i;d++)o|=(127&(i=this.bytes_[this.cursor_++]))<<7*d;if(128<=i&&(o|=(127&(i=this.bytes_[this.cursor_++]))<<28,c|=(127&i)>>4),128<=i)for(d=0;5>d&&128<=i;d++)c|=(127&(i=this.bytes_[this.cursor_++]))<<7*d+3;if(128>i)return e(o>>>0,c>>>0);goog.asserts.fail("Failed to read varint, encoding is invalid."),this.error_=!0},jspb.BinaryDecoder.prototype.readSplitZigzagVarint64=function(e){return this.readSplitVarint64(function(i,o){return jspb.utils.fromZigzag64(i,o,e)})},jspb.BinaryDecoder.prototype.readSplitFixed64=function(e){var i=this.bytes_,o=this.cursor_;this.cursor_+=8;for(var c=0,d=0,j=o+7;j>=o;j--)c=c<<8|i[j],d=d<<8|i[j+4];return e(c,d)},jspb.BinaryDecoder.prototype.skipVarint=function(){for(;128&this.bytes_[this.cursor_];)this.cursor_++;this.cursor_++},jspb.BinaryDecoder.prototype.unskipVarint=function(e){for(;128<e;)this.cursor_--,e>>>=7;this.cursor_--},jspb.BinaryDecoder.prototype.readUnsignedVarint32=function(){var e=this.bytes_,i=e[this.cursor_+0],o=127&i;return 128>i?(this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),o):(o|=(127&(i=e[this.cursor_+1]))<<7,128>i?(this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),o):(o|=(127&(i=e[this.cursor_+2]))<<14,128>i?(this.cursor_+=3,goog.asserts.assert(this.cursor_<=this.end_),o):(o|=(127&(i=e[this.cursor_+3]))<<21,128>i?(this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),o):(o|=(15&(i=e[this.cursor_+4]))<<28,128>i?(this.cursor_+=5,goog.asserts.assert(this.cursor_<=this.end_),o>>>0):(this.cursor_+=5,128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&128<=e[this.cursor_++]&&goog.asserts.assert(!1),goog.asserts.assert(this.cursor_<=this.end_),o)))))},jspb.BinaryDecoder.prototype.readSignedVarint32=jspb.BinaryDecoder.prototype.readUnsignedVarint32,jspb.BinaryDecoder.prototype.readUnsignedVarint32String=function(){return this.readUnsignedVarint32().toString()},jspb.BinaryDecoder.prototype.readSignedVarint32String=function(){return this.readSignedVarint32().toString()},jspb.BinaryDecoder.prototype.readZigzagVarint32=function(){var e=this.readUnsignedVarint32();return e>>>1^-(1&e)},jspb.BinaryDecoder.prototype.readUnsignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinUint64)},jspb.BinaryDecoder.prototype.readUnsignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinUnsignedDecimalString)},jspb.BinaryDecoder.prototype.readSignedVarint64=function(){return this.readSplitVarint64(jspb.utils.joinInt64)},jspb.BinaryDecoder.prototype.readSignedVarint64String=function(){return this.readSplitVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readZigzagVarint64=function(){return this.readSplitVarint64(jspb.utils.joinZigzag64)},jspb.BinaryDecoder.prototype.readZigzagVarintHash64=function(){return this.readSplitZigzagVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readZigzagVarint64String=function(){return this.readSplitZigzagVarint64(jspb.utils.joinSignedDecimalString)},jspb.BinaryDecoder.prototype.readUint8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e},jspb.BinaryDecoder.prototype.readUint16=function(){var e=this.bytes_[this.cursor_+0],i=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),e<<0|i<<8},jspb.BinaryDecoder.prototype.readUint32=function(){var e=this.bytes_[this.cursor_+0],i=this.bytes_[this.cursor_+1],o=this.bytes_[this.cursor_+2],c=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|i<<8|o<<16|c<<24)>>>0},jspb.BinaryDecoder.prototype.readUint64=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinUint64(e,i)},jspb.BinaryDecoder.prototype.readUint64String=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinUnsignedDecimalString(e,i)},jspb.BinaryDecoder.prototype.readInt8=function(){var e=this.bytes_[this.cursor_+0];return this.cursor_+=1,goog.asserts.assert(this.cursor_<=this.end_),e<<24>>24},jspb.BinaryDecoder.prototype.readInt16=function(){var e=this.bytes_[this.cursor_+0],i=this.bytes_[this.cursor_+1];return this.cursor_+=2,goog.asserts.assert(this.cursor_<=this.end_),(e<<0|i<<8)<<16>>16},jspb.BinaryDecoder.prototype.readInt32=function(){var e=this.bytes_[this.cursor_+0],i=this.bytes_[this.cursor_+1],o=this.bytes_[this.cursor_+2],c=this.bytes_[this.cursor_+3];return this.cursor_+=4,goog.asserts.assert(this.cursor_<=this.end_),e<<0|i<<8|o<<16|c<<24},jspb.BinaryDecoder.prototype.readInt64=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinInt64(e,i)},jspb.BinaryDecoder.prototype.readInt64String=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinSignedDecimalString(e,i)},jspb.BinaryDecoder.prototype.readFloat=function(){var e=this.readUint32();return jspb.utils.joinFloat32(e,0)},jspb.BinaryDecoder.prototype.readDouble=function(){var e=this.readUint32(),i=this.readUint32();return jspb.utils.joinFloat64(e,i)},jspb.BinaryDecoder.prototype.readBool=function(){return!!this.bytes_[this.cursor_++]},jspb.BinaryDecoder.prototype.readEnum=function(){return this.readSignedVarint32()},jspb.BinaryDecoder.prototype.readString=function(e){var i=this.bytes_,o=this.cursor_;e=o+e;for(var c=[],d="";o<e;){var j=i[o++];if(128>j)c.push(j);else{if(192>j)continue;if(224>j){var Z=i[o++];c.push((31&j)<<6|63&Z)}else if(240>j){Z=i[o++];var s=i[o++];c.push((15&j)<<12|(63&Z)<<6|63&s)}else 248>j&&(j=(7&j)<<18|(63&(Z=i[o++]))<<12|(63&(s=i[o++]))<<6|63&i[o++],j-=65536,c.push(55296+(j>>10&1023),56320+(1023&j)))}8192<=c.length&&(d+=String.fromCharCode.apply(null,c),c.length=0)}return d+=goog.crypt.byteArrayToString(c),this.cursor_=o,d},jspb.BinaryDecoder.prototype.readStringWithLength=function(){var e=this.readUnsignedVarint32();return this.readString(e)},jspb.BinaryDecoder.prototype.readBytes=function(e){if(0>e||this.cursor_+e>this.bytes_.length)return this.error_=!0,goog.asserts.fail("Invalid byte length!"),new Uint8Array(0);var i=this.bytes_.subarray(this.cursor_,this.cursor_+e);return this.cursor_+=e,goog.asserts.assert(this.cursor_<=this.end_),i},jspb.BinaryDecoder.prototype.readVarintHash64=function(){return this.readSplitVarint64(jspb.utils.joinHash64)},jspb.BinaryDecoder.prototype.readFixedHash64=function(){var e=this.bytes_,i=this.cursor_,o=e[i+0],c=e[i+1],d=e[i+2],j=e[i+3],Z=e[i+4],s=e[i+5],$=e[i+6];return e=e[i+7],this.cursor_+=8,String.fromCharCode(o,c,d,j,Z,s,$,e)},jspb.BinaryReader=function(e,i,o){this.decoder_=jspb.BinaryDecoder.alloc(e,i,o),this.fieldCursor_=this.decoder_.getCursor(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null},jspb.BinaryReader.instanceCache_=[],jspb.BinaryReader.alloc=function(e,i,o){if(jspb.BinaryReader.instanceCache_.length){var c=jspb.BinaryReader.instanceCache_.pop();return e&&c.decoder_.setBlock(e,i,o),c}return new jspb.BinaryReader(e,i,o)},jspb.BinaryReader.prototype.alloc=jspb.BinaryReader.alloc,jspb.BinaryReader.prototype.free=function(){this.decoder_.clear(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID,this.error_=!1,this.readCallbacks_=null,100>jspb.BinaryReader.instanceCache_.length&&jspb.BinaryReader.instanceCache_.push(this)},jspb.BinaryReader.prototype.getFieldCursor=function(){return this.fieldCursor_},jspb.BinaryReader.prototype.getCursor=function(){return this.decoder_.getCursor()},jspb.BinaryReader.prototype.getBuffer=function(){return this.decoder_.getBuffer()},jspb.BinaryReader.prototype.getFieldNumber=function(){return this.nextField_},jspb.BinaryReader.prototype.getWireType=function(){return this.nextWireType_},jspb.BinaryReader.prototype.isDelimited=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED},jspb.BinaryReader.prototype.isEndGroup=function(){return this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP},jspb.BinaryReader.prototype.getError=function(){return this.error_||this.decoder_.getError()},jspb.BinaryReader.prototype.setBlock=function(e,i,o){this.decoder_.setBlock(e,i,o),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.reset=function(){this.decoder_.reset(),this.nextField_=jspb.BinaryConstants.INVALID_FIELD_NUMBER,this.nextWireType_=jspb.BinaryConstants.WireType.INVALID},jspb.BinaryReader.prototype.advance=function(e){this.decoder_.advance(e)},jspb.BinaryReader.prototype.nextField=function(){if(this.decoder_.atEnd())return!1;if(this.getError())return goog.asserts.fail("Decoder hit an error"),!1;this.fieldCursor_=this.decoder_.getCursor();var e=this.decoder_.readUnsignedVarint32(),i=e>>>3;return(e&=7)!=jspb.BinaryConstants.WireType.VARINT&&e!=jspb.BinaryConstants.WireType.FIXED32&&e!=jspb.BinaryConstants.WireType.FIXED64&&e!=jspb.BinaryConstants.WireType.DELIMITED&&e!=jspb.BinaryConstants.WireType.START_GROUP&&e!=jspb.BinaryConstants.WireType.END_GROUP?(goog.asserts.fail("Invalid wire type: %s (at position %s)",e,this.fieldCursor_),this.error_=!0,!1):(this.nextField_=i,this.nextWireType_=e,!0)},jspb.BinaryReader.prototype.unskipHeader=function(){this.decoder_.unskipVarint(this.nextField_<<3|this.nextWireType_)},jspb.BinaryReader.prototype.skipMatchingFields=function(){var e=this.nextField_;for(this.unskipHeader();this.nextField()&&this.getFieldNumber()==e;)this.skipField();this.decoder_.atEnd()||this.unskipHeader()},jspb.BinaryReader.prototype.skipVarintField=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.VARINT?(goog.asserts.fail("Invalid wire type for skipVarintField"),this.skipField()):this.decoder_.skipVarint()},jspb.BinaryReader.prototype.skipDelimitedField=function(){if(this.nextWireType_!=jspb.BinaryConstants.WireType.DELIMITED)goog.asserts.fail("Invalid wire type for skipDelimitedField"),this.skipField();else{var e=this.decoder_.readUnsignedVarint32();this.decoder_.advance(e)}},jspb.BinaryReader.prototype.skipFixed32Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED32?(goog.asserts.fail("Invalid wire type for skipFixed32Field"),this.skipField()):this.decoder_.advance(4)},jspb.BinaryReader.prototype.skipFixed64Field=function(){this.nextWireType_!=jspb.BinaryConstants.WireType.FIXED64?(goog.asserts.fail("Invalid wire type for skipFixed64Field"),this.skipField()):this.decoder_.advance(8)},jspb.BinaryReader.prototype.skipGroup=function(){for(var e=this.nextField_;;){if(!this.nextField()){goog.asserts.fail("Unmatched start-group tag: stream EOF"),this.error_=!0;break}if(this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP){this.nextField_!=e&&(goog.asserts.fail("Unmatched end-group tag"),this.error_=!0);break}this.skipField()}},jspb.BinaryReader.prototype.skipField=function(){switch(this.nextWireType_){case jspb.BinaryConstants.WireType.VARINT:this.skipVarintField();break;case jspb.BinaryConstants.WireType.FIXED64:this.skipFixed64Field();break;case jspb.BinaryConstants.WireType.DELIMITED:this.skipDelimitedField();break;case jspb.BinaryConstants.WireType.FIXED32:this.skipFixed32Field();break;case jspb.BinaryConstants.WireType.START_GROUP:this.skipGroup();break;default:goog.asserts.fail("Invalid wire encoding for field.")}},jspb.BinaryReader.prototype.registerReadCallback=function(e,i){this.readCallbacks_===null&&(this.readCallbacks_={}),goog.asserts.assert(!this.readCallbacks_[e]),this.readCallbacks_[e]=i},jspb.BinaryReader.prototype.runReadCallback=function(e){return goog.asserts.assert(this.readCallbacks_!==null),e=this.readCallbacks_[e],goog.asserts.assert(e),e(this)},jspb.BinaryReader.prototype.readAny=function(e){this.nextWireType_=jspb.BinaryConstants.FieldTypeToWireType(e);var i=jspb.BinaryConstants.FieldType;switch(e){case i.DOUBLE:return this.readDouble();case i.FLOAT:return this.readFloat();case i.INT64:return this.readInt64();case i.UINT64:return this.readUint64();case i.INT32:return this.readInt32();case i.FIXED64:return this.readFixed64();case i.FIXED32:return this.readFixed32();case i.BOOL:return this.readBool();case i.STRING:return this.readString();case i.GROUP:goog.asserts.fail("Group field type not supported in readAny()");case i.MESSAGE:goog.asserts.fail("Message field type not supported in readAny()");case i.BYTES:return this.readBytes();case i.UINT32:return this.readUint32();case i.ENUM:return this.readEnum();case i.SFIXED32:return this.readSfixed32();case i.SFIXED64:return this.readSfixed64();case i.SINT32:return this.readSint32();case i.SINT64:return this.readSint64();case i.FHASH64:return this.readFixedHash64();case i.VHASH64:return this.readVarintHash64();default:goog.asserts.fail("Invalid field type in readAny()")}return 0},jspb.BinaryReader.prototype.readMessage=function(e,i){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var o=this.decoder_.getEnd(),c=this.decoder_.readUnsignedVarint32();c=this.decoder_.getCursor()+c,this.decoder_.setEnd(c),i(e,this),this.decoder_.setCursor(c),this.decoder_.setEnd(o)},jspb.BinaryReader.prototype.readGroup=function(e,i,o){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.START_GROUP),goog.asserts.assert(this.nextField_==e),o(i,this),this.error_||this.nextWireType_==jspb.BinaryConstants.WireType.END_GROUP||(goog.asserts.fail("Group submessage did not end with an END_GROUP tag"),this.error_=!0)},jspb.BinaryReader.prototype.getFieldDecoder=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32(),i=this.decoder_.getCursor(),o=i+e;return e=jspb.BinaryDecoder.alloc(this.decoder_.getBuffer(),i,e),this.decoder_.setCursor(o),e},jspb.BinaryReader.prototype.readInt32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32()},jspb.BinaryReader.prototype.readInt32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint32String()},jspb.BinaryReader.prototype.readInt64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readInt64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64String()},jspb.BinaryReader.prototype.readUint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readUint32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint32String()},jspb.BinaryReader.prototype.readUint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64()},jspb.BinaryReader.prototype.readUint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readUnsignedVarint64String()},jspb.BinaryReader.prototype.readSint32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint32()},jspb.BinaryReader.prototype.readSint64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64()},jspb.BinaryReader.prototype.readSint64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarint64String()},jspb.BinaryReader.prototype.readFixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readUint32()},jspb.BinaryReader.prototype.readFixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64()},jspb.BinaryReader.prototype.readFixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readUint64String()},jspb.BinaryReader.prototype.readSfixed32=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32()},jspb.BinaryReader.prototype.readSfixed32String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readInt32().toString()},jspb.BinaryReader.prototype.readSfixed64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64()},jspb.BinaryReader.prototype.readSfixed64String=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readInt64String()},jspb.BinaryReader.prototype.readFloat=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED32),this.decoder_.readFloat()},jspb.BinaryReader.prototype.readDouble=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readDouble()},jspb.BinaryReader.prototype.readBool=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),!!this.decoder_.readUnsignedVarint32()},jspb.BinaryReader.prototype.readEnum=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSignedVarint64()},jspb.BinaryReader.prototype.readString=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readString(e)},jspb.BinaryReader.prototype.readBytes=function(){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var e=this.decoder_.readUnsignedVarint32();return this.decoder_.readBytes(e)},jspb.BinaryReader.prototype.readVarintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readVarintHash64()},jspb.BinaryReader.prototype.readSintHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readZigzagVarintHash64()},jspb.BinaryReader.prototype.readSplitVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(e)},jspb.BinaryReader.prototype.readSplitZigzagVarint64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.VARINT),this.decoder_.readSplitVarint64(function(i,o){return jspb.utils.fromZigzag64(i,o,e)})},jspb.BinaryReader.prototype.readFixedHash64=function(){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readFixedHash64()},jspb.BinaryReader.prototype.readSplitFixed64=function(e){return goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.FIXED64),this.decoder_.readSplitFixed64(e)},jspb.BinaryReader.prototype.readPackedField_=function(e){goog.asserts.assert(this.nextWireType_==jspb.BinaryConstants.WireType.DELIMITED);var i=this.decoder_.readUnsignedVarint32();i=this.decoder_.getCursor()+i;for(var o=[];this.decoder_.getCursor()<i;)o.push(e.call(this.decoder_));return o},jspb.BinaryReader.prototype.readPackedInt32=function(){return this.readPackedField_(this.decoder_.readSignedVarint32)},jspb.BinaryReader.prototype.readPackedInt32String=function(){return this.readPackedField_(this.decoder_.readSignedVarint32String)},jspb.BinaryReader.prototype.readPackedInt64=function(){return this.readPackedField_(this.decoder_.readSignedVarint64)},jspb.BinaryReader.prototype.readPackedInt64String=function(){return this.readPackedField_(this.decoder_.readSignedVarint64String)},jspb.BinaryReader.prototype.readPackedUint32=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32)},jspb.BinaryReader.prototype.readPackedUint32String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint32String)},jspb.BinaryReader.prototype.readPackedUint64=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64)},jspb.BinaryReader.prototype.readPackedUint64String=function(){return this.readPackedField_(this.decoder_.readUnsignedVarint64String)},jspb.BinaryReader.prototype.readPackedSint32=function(){return this.readPackedField_(this.decoder_.readZigzagVarint32)},jspb.BinaryReader.prototype.readPackedSint64=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64)},jspb.BinaryReader.prototype.readPackedSint64String=function(){return this.readPackedField_(this.decoder_.readZigzagVarint64String)},jspb.BinaryReader.prototype.readPackedFixed32=function(){return this.readPackedField_(this.decoder_.readUint32)},jspb.BinaryReader.prototype.readPackedFixed64=function(){return this.readPackedField_(this.decoder_.readUint64)},jspb.BinaryReader.prototype.readPackedFixed64String=function(){return this.readPackedField_(this.decoder_.readUint64String)},jspb.BinaryReader.prototype.readPackedSfixed32=function(){return this.readPackedField_(this.decoder_.readInt32)},jspb.BinaryReader.prototype.readPackedSfixed64=function(){return this.readPackedField_(this.decoder_.readInt64)},jspb.BinaryReader.prototype.readPackedSfixed64String=function(){return this.readPackedField_(this.decoder_.readInt64String)},jspb.BinaryReader.prototype.readPackedFloat=function(){return this.readPackedField_(this.decoder_.readFloat)},jspb.BinaryReader.prototype.readPackedDouble=function(){return this.readPackedField_(this.decoder_.readDouble)},jspb.BinaryReader.prototype.readPackedBool=function(){return this.readPackedField_(this.decoder_.readBool)},jspb.BinaryReader.prototype.readPackedEnum=function(){return this.readPackedField_(this.decoder_.readEnum)},jspb.BinaryReader.prototype.readPackedVarintHash64=function(){return this.readPackedField_(this.decoder_.readVarintHash64)},jspb.BinaryReader.prototype.readPackedFixedHash64=function(){return this.readPackedField_(this.decoder_.readFixedHash64)},jspb.Map=function(e,i){this.arr_=e,this.valueCtor_=i,this.map_={},this.arrClean=!0,0<this.arr_.length&&this.loadFromArray_()},jspb.Map.prototype.loadFromArray_=function(){for(var e=0;e<this.arr_.length;e++){var i=this.arr_[e],o=i[0];this.map_[o.toString()]=new jspb.Map.Entry_(o,i[1])}this.arrClean=!0},jspb.Map.prototype.toArray=function(){if(this.arrClean){if(this.valueCtor_){var e,i=this.map_;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){var o=i[e].valueWrapper;o&&o.toArray()}}}else{for(this.arr_.length=0,(i=this.stringKeys_()).sort(),e=0;e<i.length;e++){var c=this.map_[i[e]];(o=c.valueWrapper)&&o.toArray(),this.arr_.push([c.key,c.value])}this.arrClean=!0}return this.arr_},jspb.Map.prototype.toObject=function(e,i){for(var o=this.toArray(),c=[],d=0;d<o.length;d++){var j=this.map_[o[d][0].toString()];this.wrapEntry_(j);var Z=j.valueWrapper;Z?(goog.asserts.assert(i),c.push([j.key,i(e,Z)])):c.push([j.key,j.value])}return c},jspb.Map.fromObject=function(e,i,o){i=new jspb.Map([],i);for(var c=0;c<e.length;c++){var d=e[c][0],j=o(e[c][1]);i.set(d,j)}return i},jspb.Map.ArrayIteratorIterable_=function(e){this.idx_=0,this.arr_=e},jspb.Map.ArrayIteratorIterable_.prototype.next=function(){return this.idx_<this.arr_.length?{done:!1,value:this.arr_[this.idx_++]}:{done:!0,value:void 0}},typeof Symbol!="undefined"&&(jspb.Map.ArrayIteratorIterable_.prototype[Symbol.iterator]=function(){return this}),jspb.Map.prototype.getLength=function(){return this.stringKeys_().length},jspb.Map.prototype.clear=function(){this.map_={},this.arrClean=!1},jspb.Map.prototype.del=function(e){e=e.toString();var i=this.map_.hasOwnProperty(e);return delete this.map_[e],this.arrClean=!1,i},jspb.Map.prototype.getEntryList=function(){var e=[],i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++){var c=this.map_[i[o]];e.push([c.key,c.value])}return e},jspb.Map.prototype.entries=function(){var e=[],i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++){var c=this.map_[i[o]];e.push([c.key,this.wrapEntry_(c)])}return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.keys=function(){var e=[],i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++)e.push(this.map_[i[o]].key);return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.values=function(){var e=[],i=this.stringKeys_();i.sort();for(var o=0;o<i.length;o++)e.push(this.wrapEntry_(this.map_[i[o]]));return new jspb.Map.ArrayIteratorIterable_(e)},jspb.Map.prototype.forEach=function(e,i){var o=this.stringKeys_();o.sort();for(var c=0;c<o.length;c++){var d=this.map_[o[c]];e.call(i,this.wrapEntry_(d),d.key,this)}},jspb.Map.prototype.set=function(e,i){var o=new jspb.Map.Entry_(e);return this.valueCtor_?(o.valueWrapper=i,o.value=i.toArray()):o.value=i,this.map_[e.toString()]=o,this.arrClean=!1,this},jspb.Map.prototype.wrapEntry_=function(e){return this.valueCtor_?(e.valueWrapper||(e.valueWrapper=new this.valueCtor_(e.value)),e.valueWrapper):e.value},jspb.Map.prototype.get=function(e){if(e=this.map_[e.toString()])return this.wrapEntry_(e)},jspb.Map.prototype.has=function(e){return e.toString()in this.map_},jspb.Map.prototype.serializeBinary=function(e,i,o,c,d){var j=this.stringKeys_();j.sort();for(var Z=0;Z<j.length;Z++){var s=this.map_[j[Z]];i.beginSubMessage(e),o.call(i,1,s.key),this.valueCtor_?c.call(i,2,this.wrapEntry_(s),d):c.call(i,2,s.value),i.endSubMessage()}},jspb.Map.deserializeBinary=function(e,i,o,c,d,j,Z){for(;i.nextField()&&!i.isEndGroup();){var s=i.getFieldNumber();s==1?j=o.call(i):s==2&&(e.valueCtor_?(goog.asserts.assert(d),Z||(Z=new e.valueCtor_),c.call(i,Z,d)):Z=c.call(i))}goog.asserts.assert(j!=null),goog.asserts.assert(Z!=null),e.set(j,Z)},jspb.Map.prototype.stringKeys_=function(){var e,i=this.map_,o=[];for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&o.push(e);return o},jspb.Map.Entry_=function(e,i){this.key=e,this.value=i,this.valueWrapper=void 0},jspb.ExtensionFieldInfo=function(e,i,o,c,d){this.fieldIndex=e,this.fieldName=i,this.ctor=o,this.toObjectFn=c,this.isRepeated=d},jspb.ExtensionFieldBinaryInfo=function(e,i,o,c,d,j){this.fieldInfo=e,this.binaryReaderFn=i,this.binaryWriterFn=o,this.binaryMessageSerializeFn=c,this.binaryMessageDeserializeFn=d,this.isPacked=j},jspb.ExtensionFieldInfo.prototype.isMessageType=function(){return!!this.ctor},jspb.Message=function(){},jspb.Message.GENERATE_TO_OBJECT=!0,jspb.Message.GENERATE_FROM_OBJECT=!goog.DISALLOW_TEST_ONLY_CODE,jspb.Message.GENERATE_TO_STRING=!0,jspb.Message.ASSUME_LOCAL_ARRAYS=!1,jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS=!0,jspb.Message.SUPPORTS_UINT8ARRAY_=typeof Uint8Array=="function",jspb.Message.prototype.getJsPbMessageId=function(){return this.messageId_},jspb.Message.getIndex_=function(e,i){return i+e.arrayIndexOffset_},jspb.Message.hiddenES6Property_=function(){},jspb.Message.getFieldNumber_=function(e,i){return i-e.arrayIndexOffset_},jspb.Message.initialize=function(e,i,o,c,d,j){if(e.wrappers_=null,i||(i=o?[o]:[]),e.messageId_=o?String(o):void 0,e.arrayIndexOffset_=o===0?-1:0,e.array=i,jspb.Message.initPivotAndExtensionObject_(e,c),e.convertedPrimitiveFields_={},jspb.Message.SERIALIZE_EMPTY_TRAILING_FIELDS||(e.repeatedFields=d),d)for(i=0;i<d.length;i++)(o=d[i])<e.pivot_?(o=jspb.Message.getIndex_(e,o),e.array[o]=e.array[o]||jspb.Message.EMPTY_LIST_SENTINEL_):(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[o]=e.extensionObject_[o]||jspb.Message.EMPTY_LIST_SENTINEL_);if(j&&j.length)for(i=0;i<j.length;i++)jspb.Message.computeOneofCase(e,j[i])},jspb.Message.EMPTY_LIST_SENTINEL_=goog.DEBUG&&Object.freeze?Object.freeze([]):[],jspb.Message.isArray_=function(e){return jspb.Message.ASSUME_LOCAL_ARRAYS?e instanceof Array:Array.isArray(e)},jspb.Message.isExtensionObject_=function(e){return!(e===null||typeof e!="object"||jspb.Message.isArray_(e)||jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)},jspb.Message.initPivotAndExtensionObject_=function(e,i){var o=e.array.length,c=-1;if(o&&(c=o-1,o=e.array[c],jspb.Message.isExtensionObject_(o)))return e.pivot_=jspb.Message.getFieldNumber_(e,c),void(e.extensionObject_=o);-1<i?(e.pivot_=Math.max(i,jspb.Message.getFieldNumber_(e,c+1)),e.extensionObject_=null):e.pivot_=Number.MAX_VALUE},jspb.Message.maybeInitEmptyExtensionObject_=function(e){var i=jspb.Message.getIndex_(e,e.pivot_);e.array[i]||(e.extensionObject_=e.array[i]={})},jspb.Message.toObjectList=function(e,i,o){for(var c=[],d=0;d<e.length;d++)c[d]=i.call(e[d],o,e[d]);return c},jspb.Message.toObjectExtension=function(e,i,o,c,d){for(var j in o){var Z=o[j],s=c.call(e,Z);if(s!=null){for(var $ in Z.fieldName)if(Z.fieldName.hasOwnProperty($))break;i[$]=Z.toObjectFn?Z.isRepeated?jspb.Message.toObjectList(s,Z.toObjectFn,d):Z.toObjectFn(d,s):s}}},jspb.Message.serializeBinaryExtensions=function(e,i,o,c){for(var d in o){var j=o[d],Z=j.fieldInfo;if(!j.binaryWriterFn)throw Error("Message extension present that was generated without binary serialization support");var s=c.call(e,Z);if(s!=null)if(Z.isMessageType()){if(!j.binaryMessageSerializeFn)throw Error("Message extension present holding submessage without binary support enabled, and message is being serialized to binary format");j.binaryWriterFn.call(i,Z.fieldIndex,s,j.binaryMessageSerializeFn)}else j.binaryWriterFn.call(i,Z.fieldIndex,s)}},jspb.Message.readBinaryExtension=function(e,i,o,c,d){var j=o[i.getFieldNumber()];if(j){if(o=j.fieldInfo,!j.binaryReaderFn)throw Error("Deserializing extension whose generated code does not support binary format");if(o.isMessageType()){var Z=new o.ctor;j.binaryReaderFn.call(i,Z,j.binaryMessageDeserializeFn)}else Z=j.binaryReaderFn.call(i);o.isRepeated&&!j.isPacked?(i=c.call(e,o))?i.push(Z):d.call(e,o,[Z]):d.call(e,o,Z)}else i.skipField()},jspb.Message.getField=function(e,i){if(i<e.pivot_){i=jspb.Message.getIndex_(e,i);var o=e.array[i];return o===jspb.Message.EMPTY_LIST_SENTINEL_?e.array[i]=[]:o}if(e.extensionObject_)return(o=e.extensionObject_[i])===jspb.Message.EMPTY_LIST_SENTINEL_?e.extensionObject_[i]=[]:o},jspb.Message.getRepeatedField=function(e,i){return jspb.Message.getField(e,i)},jspb.Message.getOptionalFloatingPointField=function(e,i){return(e=jspb.Message.getField(e,i))==null?e:+e},jspb.Message.getBooleanField=function(e,i){return(e=jspb.Message.getField(e,i))==null?e:!!e},jspb.Message.getRepeatedFloatingPointField=function(e,i){var o=jspb.Message.getRepeatedField(e,i);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[i]){for(var c=0;c<o.length;c++)o[c]=+o[c];e.convertedPrimitiveFields_[i]=!0}return o},jspb.Message.getRepeatedBooleanField=function(e,i){var o=jspb.Message.getRepeatedField(e,i);if(e.convertedPrimitiveFields_||(e.convertedPrimitiveFields_={}),!e.convertedPrimitiveFields_[i]){for(var c=0;c<o.length;c++)o[c]=!!o[c];e.convertedPrimitiveFields_[i]=!0}return o},jspb.Message.bytesAsB64=function(e){return e==null||typeof e=="string"?e:jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array?goog.crypt.base64.encodeByteArray(e):(goog.asserts.fail("Cannot coerce to b64 string: "+goog.typeOf(e)),null)},jspb.Message.bytesAsU8=function(e){return e==null||e instanceof Uint8Array?e:typeof e=="string"?goog.crypt.base64.decodeStringToUint8Array(e):(goog.asserts.fail("Cannot coerce to Uint8Array: "+goog.typeOf(e)),null)},jspb.Message.bytesListAsB64=function(e){return jspb.Message.assertConsistentTypes_(e),e.length&&typeof e[0]!="string"?goog.array.map(e,jspb.Message.bytesAsB64):e},jspb.Message.bytesListAsU8=function(e){return jspb.Message.assertConsistentTypes_(e),!e.length||e[0]instanceof Uint8Array?e:goog.array.map(e,jspb.Message.bytesAsU8)},jspb.Message.assertConsistentTypes_=function(e){if(goog.DEBUG&&e&&1<e.length){var i=goog.typeOf(e[0]);goog.array.forEach(e,function(o){goog.typeOf(o)!=i&&goog.asserts.fail("Inconsistent type in JSPB repeated field array. Got "+goog.typeOf(o)+" expected "+i)})}},jspb.Message.getFieldWithDefault=function(e,i,o){return(e=jspb.Message.getField(e,i))==null?o:e},jspb.Message.getBooleanFieldWithDefault=function(e,i,o){return(e=jspb.Message.getBooleanField(e,i))==null?o:e},jspb.Message.getFloatingPointFieldWithDefault=function(e,i,o){return(e=jspb.Message.getOptionalFloatingPointField(e,i))==null?o:e},jspb.Message.getFieldProto3=jspb.Message.getFieldWithDefault,jspb.Message.getMapField=function(e,i,o,c){if(e.wrappers_||(e.wrappers_={}),i in e.wrappers_)return e.wrappers_[i];var d=jspb.Message.getField(e,i);if(!d){if(o)return;d=[],jspb.Message.setField(e,i,d)}return e.wrappers_[i]=new jspb.Map(d,c)},jspb.Message.setField=function(e,i,o){return goog.asserts.assertInstanceof(e,jspb.Message),i<e.pivot_?e.array[jspb.Message.getIndex_(e,i)]=o:(jspb.Message.maybeInitEmptyExtensionObject_(e),e.extensionObject_[i]=o),e},jspb.Message.setProto3IntField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,0)},jspb.Message.setProto3FloatField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,0)},jspb.Message.setProto3BooleanField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,!1)},jspb.Message.setProto3StringField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,"")},jspb.Message.setProto3BytesField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,"")},jspb.Message.setProto3EnumField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,0)},jspb.Message.setProto3StringIntField=function(e,i,o){return jspb.Message.setFieldIgnoringDefault_(e,i,o,"0")},jspb.Message.setFieldIgnoringDefault_=function(e,i,o,c){return goog.asserts.assertInstanceof(e,jspb.Message),o!==c?jspb.Message.setField(e,i,o):i<e.pivot_?e.array[jspb.Message.getIndex_(e,i)]=null:(jspb.Message.maybeInitEmptyExtensionObject_(e),delete e.extensionObject_[i]),e},jspb.Message.addToRepeatedField=function(e,i,o,c){return goog.asserts.assertInstanceof(e,jspb.Message),i=jspb.Message.getRepeatedField(e,i),c!=null?i.splice(c,0,o):i.push(o),e},jspb.Message.setOneofField=function(e,i,o,c){return goog.asserts.assertInstanceof(e,jspb.Message),(o=jspb.Message.computeOneofCase(e,o))&&o!==i&&c!==void 0&&(e.wrappers_&&o in e.wrappers_&&(e.wrappers_[o]=void 0),jspb.Message.setField(e,o,void 0)),jspb.Message.setField(e,i,c)},jspb.Message.computeOneofCase=function(e,i){for(var o,c,d=0;d<i.length;d++){var j=i[d],Z=jspb.Message.getField(e,j);Z!=null&&(o=j,c=Z,jspb.Message.setField(e,j,void 0))}return o?(jspb.Message.setField(e,o,c),o):0},jspb.Message.getWrapperField=function(e,i,o,c){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[o]){var d=jspb.Message.getField(e,o);(c||d)&&(e.wrappers_[o]=new i(d))}return e.wrappers_[o]},jspb.Message.getRepeatedWrapperField=function(e,i,o){return jspb.Message.wrapRepeatedField_(e,i,o),(i=e.wrappers_[o])==jspb.Message.EMPTY_LIST_SENTINEL_&&(i=e.wrappers_[o]=[]),i},jspb.Message.wrapRepeatedField_=function(e,i,o){if(e.wrappers_||(e.wrappers_={}),!e.wrappers_[o]){for(var c=jspb.Message.getRepeatedField(e,o),d=[],j=0;j<c.length;j++)d[j]=new i(c[j]);e.wrappers_[o]=d}},jspb.Message.setWrapperField=function(e,i,o){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var c=o&&o.toArray();return e.wrappers_[i]=o,jspb.Message.setField(e,i,c)},jspb.Message.setOneofWrapperField=function(e,i,o,c){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={});var d=c&&c.toArray();return e.wrappers_[i]=c,jspb.Message.setOneofField(e,i,o,d)},jspb.Message.setRepeatedWrapperField=function(e,i,o){goog.asserts.assertInstanceof(e,jspb.Message),e.wrappers_||(e.wrappers_={}),o=o||[];for(var c=[],d=0;d<o.length;d++)c[d]=o[d].toArray();return e.wrappers_[i]=o,jspb.Message.setField(e,i,c)},jspb.Message.addToRepeatedWrapperField=function(e,i,o,c,d){jspb.Message.wrapRepeatedField_(e,c,i);var j=e.wrappers_[i];return j||(j=e.wrappers_[i]=[]),o=o||new c,e=jspb.Message.getRepeatedField(e,i),d!=null?(j.splice(d,0,o),e.splice(d,0,o.toArray())):(j.push(o),e.push(o.toArray())),o},jspb.Message.toMap=function(e,i,o,c){for(var d={},j=0;j<e.length;j++)d[i.call(e[j])]=o?o.call(e[j],c,e[j]):e[j];return d},jspb.Message.prototype.syncMapFields_=function(){if(this.wrappers_)for(var e in this.wrappers_){var i=this.wrappers_[e];if(Array.isArray(i))for(var o=0;o<i.length;o++)i[o]&&i[o].toArray();else i&&i.toArray()}},jspb.Message.prototype.toArray=function(){return this.syncMapFields_(),this.array},jspb.Message.GENERATE_TO_STRING&&(jspb.Message.prototype.toString=function(){return this.syncMapFields_(),this.array.toString()}),jspb.Message.prototype.getExtension=function(e){if(this.extensionObject_){this.wrappers_||(this.wrappers_={});var i=e.fieldIndex;if(e.isRepeated){if(e.isMessageType())return this.wrappers_[i]||(this.wrappers_[i]=goog.array.map(this.extensionObject_[i]||[],function(o){return new e.ctor(o)})),this.wrappers_[i]}else if(e.isMessageType())return!this.wrappers_[i]&&this.extensionObject_[i]&&(this.wrappers_[i]=new e.ctor(this.extensionObject_[i])),this.wrappers_[i];return this.extensionObject_[i]}},jspb.Message.prototype.setExtension=function(e,i){this.wrappers_||(this.wrappers_={}),jspb.Message.maybeInitEmptyExtensionObject_(this);var o=e.fieldIndex;return e.isRepeated?(i=i||[],e.isMessageType()?(this.wrappers_[o]=i,this.extensionObject_[o]=goog.array.map(i,function(c){return c.toArray()})):this.extensionObject_[o]=i):e.isMessageType()?(this.wrappers_[o]=i,this.extensionObject_[o]=i&&i.toArray()):this.extensionObject_[o]=i,this},jspb.Message.difference=function(e,i){if(!(e instanceof i.constructor))throw Error("Messages have different types.");var o=e.toArray();i=i.toArray();var c=[],d=0,j=o.length>i.length?o.length:i.length;for(e.getJsPbMessageId()&&(c[0]=e.getJsPbMessageId(),d=1);d<j;d++)jspb.Message.compareFields(o[d],i[d])||(c[d]=i[d]);return new e.constructor(c)},jspb.Message.equals=function(e,i){return e==i||!(!e||!i)&&e instanceof i.constructor&&jspb.Message.compareFields(e.toArray(),i.toArray())},jspb.Message.compareExtensions=function(e,i){e=e||{},i=i||{};var o,c={};for(o in e)c[o]=0;for(o in i)c[o]=0;for(o in c)if(!jspb.Message.compareFields(e[o],i[o]))return!1;return!0},jspb.Message.compareFields=function(e,i){if(e==i)return!0;if(!goog.isObject(e)||!goog.isObject(i))return!!(typeof e=="number"&&isNaN(e)||typeof i=="number"&&isNaN(i))&&String(e)==String(i);if(e.constructor!=i.constructor)return!1;if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e.constructor===Uint8Array){if(e.length!=i.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!=i[o])return!1;return!0}if(e.constructor===Array){var c=void 0,d=void 0,j=Math.max(e.length,i.length);for(o=0;o<j;o++){var Z=e[o],s=i[o];if(Z&&Z.constructor==Object&&(goog.asserts.assert(c===void 0),goog.asserts.assert(o===e.length-1),c=Z,Z=void 0),s&&s.constructor==Object&&(goog.asserts.assert(d===void 0),goog.asserts.assert(o===i.length-1),d=s,s=void 0),!jspb.Message.compareFields(Z,s))return!1}return!c&&!d||(c=c||{},d=d||{},jspb.Message.compareExtensions(c,d))}if(e.constructor===Object)return jspb.Message.compareExtensions(e,i);throw Error("Invalid type in JSPB array")},jspb.Message.prototype.cloneMessage=function(){return jspb.Message.cloneMessage(this)},jspb.Message.prototype.clone=function(){return jspb.Message.cloneMessage(this)},jspb.Message.clone=function(e){return jspb.Message.cloneMessage(e)},jspb.Message.cloneMessage=function(e){return new e.constructor(jspb.Message.clone_(e.toArray()))},jspb.Message.copyInto=function(e,i){goog.asserts.assertInstanceof(e,jspb.Message),goog.asserts.assertInstanceof(i,jspb.Message),goog.asserts.assert(e.constructor==i.constructor,"Copy source and target message should have the same type."),e=jspb.Message.clone(e);for(var o=i.toArray(),c=e.toArray(),d=o.length=0;d<c.length;d++)o[d]=c[d];i.wrappers_=e.wrappers_,i.extensionObject_=e.extensionObject_},jspb.Message.clone_=function(e){if(Array.isArray(e)){for(var i=Array(e.length),o=0;o<e.length;o++){var c=e[o];c!=null&&(i[o]=typeof c=="object"?jspb.Message.clone_(goog.asserts.assert(c)):c)}return i}if(jspb.Message.SUPPORTS_UINT8ARRAY_&&e instanceof Uint8Array)return new Uint8Array(e);for(o in i={},e)(c=e[o])!=null&&(i[o]=typeof c=="object"?jspb.Message.clone_(goog.asserts.assert(c)):c);return i},jspb.Message.registerMessageType=function(e,i){i.messageId=e},jspb.Message.messageSetExtensions={},jspb.Message.messageSetExtensionsBinary={},jspb.arith={},jspb.arith.UInt64=function(e,i){this.lo=e,this.hi=i},jspb.arith.UInt64.prototype.cmp=function(e){return this.hi<e.hi||this.hi==e.hi&&this.lo<e.lo?-1:this.hi==e.hi&&this.lo==e.lo?0:1},jspb.arith.UInt64.prototype.rightShift=function(){return new jspb.arith.UInt64((this.lo>>>1|(1&this.hi)<<31)>>>0,this.hi>>>1>>>0)},jspb.arith.UInt64.prototype.leftShift=function(){return new jspb.arith.UInt64(this.lo<<1>>>0,(this.hi<<1|this.lo>>>31)>>>0)},jspb.arith.UInt64.prototype.msb=function(){return!!(2147483648&this.hi)},jspb.arith.UInt64.prototype.lsb=function(){return!!(1&this.lo)},jspb.arith.UInt64.prototype.zero=function(){return this.lo==0&&this.hi==0},jspb.arith.UInt64.prototype.add=function(e){return new jspb.arith.UInt64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.UInt64.prototype.sub=function(e){return new jspb.arith.UInt64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.UInt64.mul32x32=function(e,i){var o=65535&e,c=65535&i,d=i>>>16;for(i=o*c+65536*(o*d&65535)+65536*((e>>>=16)*c&65535),o=e*d+(o*d>>>16)+(e*c>>>16);4294967296<=i;)i-=4294967296,o+=1;return new jspb.arith.UInt64(i>>>0,o>>>0)},jspb.arith.UInt64.prototype.mul=function(e){var i=jspb.arith.UInt64.mul32x32(this.lo,e);return(e=jspb.arith.UInt64.mul32x32(this.hi,e)).hi=e.lo,e.lo=0,i.add(e)},jspb.arith.UInt64.prototype.div=function(e){if(e==0)return[];var i=new jspb.arith.UInt64(0,0),o=new jspb.arith.UInt64(this.lo,this.hi);e=new jspb.arith.UInt64(e,0);for(var c=new jspb.arith.UInt64(1,0);!e.msb();)e=e.leftShift(),c=c.leftShift();for(;!c.zero();)0>=e.cmp(o)&&(i=i.add(c),o=o.sub(e)),e=e.rightShift(),c=c.rightShift();return[i,o]},jspb.arith.UInt64.prototype.toString=function(){for(var e="",i=this;!i.zero();){var o=(i=i.div(10))[0];e=i[1].lo+e,i=o}return e==""&&(e="0"),e},jspb.arith.UInt64.fromString=function(e){for(var i=new jspb.arith.UInt64(0,0),o=new jspb.arith.UInt64(0,0),c=0;c<e.length;c++){if("0">e[c]||"9"<e[c])return null;var d=parseInt(e[c],10);o.lo=d,i=i.mul(10).add(o)}return i},jspb.arith.UInt64.prototype.clone=function(){return new jspb.arith.UInt64(this.lo,this.hi)},jspb.arith.Int64=function(e,i){this.lo=e,this.hi=i},jspb.arith.Int64.prototype.add=function(e){return new jspb.arith.Int64((this.lo+e.lo&4294967295)>>>0>>>0,((this.hi+e.hi&4294967295)>>>0)+(4294967296<=this.lo+e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.sub=function(e){return new jspb.arith.Int64((this.lo-e.lo&4294967295)>>>0>>>0,((this.hi-e.hi&4294967295)>>>0)-(0>this.lo-e.lo?1:0)>>>0)},jspb.arith.Int64.prototype.clone=function(){return new jspb.arith.Int64(this.lo,this.hi)},jspb.arith.Int64.prototype.toString=function(){var e=(2147483648&this.hi)!=0,i=new jspb.arith.UInt64(this.lo,this.hi);return e&&(i=new jspb.arith.UInt64(0,0).sub(i)),(e?"-":"")+i.toString()},jspb.arith.Int64.fromString=function(e){var i=0<e.length&&e[0]=="-";return i&&(e=e.substring(1)),(e=jspb.arith.UInt64.fromString(e))===null?null:(i&&(e=new jspb.arith.UInt64(0,0).sub(e)),new jspb.arith.Int64(e.lo,e.hi))},jspb.BinaryEncoder=function(){this.buffer_=[]},jspb.BinaryEncoder.prototype.length=function(){return this.buffer_.length},jspb.BinaryEncoder.prototype.end=function(){var e=this.buffer_;return this.buffer_=[],e},jspb.BinaryEncoder.prototype.writeSplitVarint64=function(e,i){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32);0<i||127<e;)this.buffer_.push(127&e|128),e=(e>>>7|i<<25)>>>0,i>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSplitFixed64=function(e,i){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(i==Math.floor(i)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeUint32(e),this.writeUint32(i)},jspb.BinaryEncoder.prototype.writeUnsignedVarint32=function(e){for(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32);127<e;)this.buffer_.push(127&e|128),e>>>=7;this.buffer_.push(e)},jspb.BinaryEncoder.prototype.writeSignedVarint32=function(e){if(goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),0<=e)this.writeUnsignedVarint32(e);else{for(var i=0;9>i;i++)this.buffer_.push(127&e|128),e>>=7;this.buffer_.push(1)}},jspb.BinaryEncoder.prototype.writeUnsignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeSignedVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeUnsignedVarint32((e<<1^e>>31)>>>0)},jspb.BinaryEncoder.prototype.writeZigzagVarint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitZigzag64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeZigzagVarint64String=function(e){this.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(e))},jspb.BinaryEncoder.prototype.writeZigzagVarintHash64=function(e){var i=this;jspb.utils.splitHash64(e),jspb.utils.toZigzag64(jspb.utils.split64Low,jspb.utils.split64High,function(o,c){i.writeSplitVarint64(o>>>0,c>>>0)})},jspb.BinaryEncoder.prototype.writeUint8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&256>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeUint16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&65536>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeUint32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_32),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeUint64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(0<=e&&e<jspb.BinaryConstants.TWO_TO_64),jspb.utils.splitUint64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt8=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-128<=e&&128>e),this.buffer_.push(e>>>0&255)},jspb.BinaryEncoder.prototype.writeInt16=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(-32768<=e&&32768>e),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255)},jspb.BinaryEncoder.prototype.writeInt32=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.buffer_.push(e>>>0&255),this.buffer_.push(e>>>8&255),this.buffer_.push(e>>>16&255),this.buffer_.push(e>>>24&255)},jspb.BinaryEncoder.prototype.writeInt64=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_63&&e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitInt64(e),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeInt64String=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(+e>=-jspb.BinaryConstants.TWO_TO_63&&+e<jspb.BinaryConstants.TWO_TO_63),jspb.utils.splitHash64(jspb.utils.decimalStringToHash64(e)),this.writeSplitFixed64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFloat=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT32_MAX&&e<=jspb.BinaryConstants.FLOAT32_MAX),jspb.utils.splitFloat32(e),this.writeUint32(jspb.utils.split64Low)},jspb.BinaryEncoder.prototype.writeDouble=function(e){goog.asserts.assert(1/0===e||-1/0===e||isNaN(e)||e>=-jspb.BinaryConstants.FLOAT64_MAX&&e<=jspb.BinaryConstants.FLOAT64_MAX),jspb.utils.splitFloat64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeBool=function(e){goog.asserts.assert(typeof e=="boolean"||typeof e=="number"),this.buffer_.push(e?1:0)},jspb.BinaryEncoder.prototype.writeEnum=function(e){goog.asserts.assert(e==Math.floor(e)),goog.asserts.assert(e>=-jspb.BinaryConstants.TWO_TO_31&&e<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32(e)},jspb.BinaryEncoder.prototype.writeBytes=function(e){this.buffer_.push.apply(this.buffer_,e)},jspb.BinaryEncoder.prototype.writeVarintHash64=function(e){jspb.utils.splitHash64(e),this.writeSplitVarint64(jspb.utils.split64Low,jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeFixedHash64=function(e){jspb.utils.splitHash64(e),this.writeUint32(jspb.utils.split64Low),this.writeUint32(jspb.utils.split64High)},jspb.BinaryEncoder.prototype.writeString=function(e){for(var i=this.buffer_.length,o=0;o<e.length;o++){var c=e.charCodeAt(o);if(128>c)this.buffer_.push(c);else if(2048>c)this.buffer_.push(c>>6|192),this.buffer_.push(63&c|128);else if(65536>c)if(55296<=c&&56319>=c&&o+1<e.length){var d=e.charCodeAt(o+1);56320<=d&&57343>=d&&(c=1024*(c-55296)+d-56320+65536,this.buffer_.push(c>>18|240),this.buffer_.push(c>>12&63|128),this.buffer_.push(c>>6&63|128),this.buffer_.push(63&c|128),o++)}else this.buffer_.push(c>>12|224),this.buffer_.push(c>>6&63|128),this.buffer_.push(63&c|128)}return this.buffer_.length-i},jspb.BinaryWriter=function(){this.blocks_=[],this.totalLength_=0,this.encoder_=new jspb.BinaryEncoder,this.bookmarks_=[]},jspb.BinaryWriter.prototype.appendUint8Array_=function(e){var i=this.encoder_.end();this.blocks_.push(i),this.blocks_.push(e),this.totalLength_+=i.length+e.length},jspb.BinaryWriter.prototype.beginDelimited_=function(e){return this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),e=this.encoder_.end(),this.blocks_.push(e),this.totalLength_+=e.length,e.push(this.totalLength_),e},jspb.BinaryWriter.prototype.endDelimited_=function(e){var i=e.pop();for(i=this.totalLength_+this.encoder_.length()-i,goog.asserts.assert(0<=i);127<i;)e.push(127&i|128),i>>>=7,this.totalLength_++;e.push(i),this.totalLength_++},jspb.BinaryWriter.prototype.writeSerializedMessage=function(e,i,o){this.appendUint8Array_(e.subarray(i,o))},jspb.BinaryWriter.prototype.maybeWriteSerializedMessage=function(e,i,o){e!=null&&i!=null&&o!=null&&this.writeSerializedMessage(e,i,o)},jspb.BinaryWriter.prototype.reset=function(){this.blocks_=[],this.encoder_.end(),this.totalLength_=0,this.bookmarks_=[]},jspb.BinaryWriter.prototype.getResultBuffer=function(){goog.asserts.assert(this.bookmarks_.length==0);for(var e=new Uint8Array(this.totalLength_+this.encoder_.length()),i=this.blocks_,o=i.length,c=0,d=0;d<o;d++){var j=i[d];e.set(j,c),c+=j.length}return i=this.encoder_.end(),e.set(i,c),c+=i.length,goog.asserts.assert(c==e.length),this.blocks_=[e],e},jspb.BinaryWriter.prototype.getResultBase64String=function(e){return goog.crypt.base64.encodeByteArray(this.getResultBuffer(),e)},jspb.BinaryWriter.prototype.beginSubMessage=function(e){this.bookmarks_.push(this.beginDelimited_(e))},jspb.BinaryWriter.prototype.endSubMessage=function(){goog.asserts.assert(0<=this.bookmarks_.length),this.endDelimited_(this.bookmarks_.pop())},jspb.BinaryWriter.prototype.writeFieldHeader_=function(e,i){goog.asserts.assert(1<=e&&e==Math.floor(e)),this.encoder_.writeUnsignedVarint32(8*e+i)},jspb.BinaryWriter.prototype.writeAny=function(e,i,o){var c=jspb.BinaryConstants.FieldType;switch(e){case c.DOUBLE:this.writeDouble(i,o);break;case c.FLOAT:this.writeFloat(i,o);break;case c.INT64:this.writeInt64(i,o);break;case c.UINT64:this.writeUint64(i,o);break;case c.INT32:this.writeInt32(i,o);break;case c.FIXED64:this.writeFixed64(i,o);break;case c.FIXED32:this.writeFixed32(i,o);break;case c.BOOL:this.writeBool(i,o);break;case c.STRING:this.writeString(i,o);break;case c.GROUP:goog.asserts.fail("Group field type not supported in writeAny()");break;case c.MESSAGE:goog.asserts.fail("Message field type not supported in writeAny()");break;case c.BYTES:this.writeBytes(i,o);break;case c.UINT32:this.writeUint32(i,o);break;case c.ENUM:this.writeEnum(i,o);break;case c.SFIXED32:this.writeSfixed32(i,o);break;case c.SFIXED64:this.writeSfixed64(i,o);break;case c.SINT32:this.writeSint32(i,o);break;case c.SINT64:this.writeSint64(i,o);break;case c.FHASH64:this.writeFixedHash64(i,o);break;case c.VHASH64:this.writeVarintHash64(i,o);break;default:goog.asserts.fail("Invalid field type in writeAny()")}},jspb.BinaryWriter.prototype.writeUnsignedVarint32_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint32(i))},jspb.BinaryWriter.prototype.writeSignedVarint32_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i))},jspb.BinaryWriter.prototype.writeUnsignedVarint64_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeUnsignedVarint64(i))},jspb.BinaryWriter.prototype.writeSignedVarint64_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint64(i))},jspb.BinaryWriter.prototype.writeZigzagVarint32_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint32(i))},jspb.BinaryWriter.prototype.writeZigzagVarint64_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64(i))},jspb.BinaryWriter.prototype.writeZigzagVarint64String_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarint64String(i))},jspb.BinaryWriter.prototype.writeZigzagVarintHash64_=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeZigzagVarintHash64(i))},jspb.BinaryWriter.prototype.writeInt32=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,i))},jspb.BinaryWriter.prototype.writeInt32String=function(e,i){i!=null&&(i=parseInt(i,10),goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeSignedVarint32_(e,i))},jspb.BinaryWriter.prototype.writeInt64=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),this.writeSignedVarint64_(e,i))},jspb.BinaryWriter.prototype.writeInt64String=function(e,i){i!=null&&(i=jspb.arith.Int64.fromString(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(i.lo,i.hi))},jspb.BinaryWriter.prototype.writeUint32=function(e,i){i!=null&&(goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,i))},jspb.BinaryWriter.prototype.writeUint32String=function(e,i){i!=null&&(i=parseInt(i,10),goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeUnsignedVarint32_(e,i))},jspb.BinaryWriter.prototype.writeUint64=function(e,i){i!=null&&(goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),this.writeUnsignedVarint64_(e,i))},jspb.BinaryWriter.prototype.writeUint64String=function(e,i){i!=null&&(i=jspb.arith.UInt64.fromString(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(i.lo,i.hi))},jspb.BinaryWriter.prototype.writeSint32=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeZigzagVarint32_(e,i))},jspb.BinaryWriter.prototype.writeSint64=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),this.writeZigzagVarint64_(e,i))},jspb.BinaryWriter.prototype.writeSintHash64=function(e,i){i!=null&&this.writeZigzagVarintHash64_(e,i)},jspb.BinaryWriter.prototype.writeSint64String=function(e,i){i!=null&&this.writeZigzagVarint64String_(e,i)},jspb.BinaryWriter.prototype.writeFixed32=function(e,i){i!=null&&(goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_32),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeUint32(i))},jspb.BinaryWriter.prototype.writeFixed64=function(e,i){i!=null&&(goog.asserts.assert(0<=i&&i<jspb.BinaryConstants.TWO_TO_64),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeUint64(i))},jspb.BinaryWriter.prototype.writeFixed64String=function(e,i){i!=null&&(i=jspb.arith.UInt64.fromString(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(i.lo,i.hi))},jspb.BinaryWriter.prototype.writeSfixed32=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeInt32(i))},jspb.BinaryWriter.prototype.writeSfixed64=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_63&&i<jspb.BinaryConstants.TWO_TO_63),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeInt64(i))},jspb.BinaryWriter.prototype.writeSfixed64String=function(e,i){i!=null&&(i=jspb.arith.Int64.fromString(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(i.lo,i.hi))},jspb.BinaryWriter.prototype.writeFloat=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED32),this.encoder_.writeFloat(i))},jspb.BinaryWriter.prototype.writeDouble=function(e,i){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeDouble(i))},jspb.BinaryWriter.prototype.writeBool=function(e,i){i!=null&&(goog.asserts.assert(typeof i=="boolean"||typeof i=="number"),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeBool(i))},jspb.BinaryWriter.prototype.writeEnum=function(e,i){i!=null&&(goog.asserts.assert(i>=-jspb.BinaryConstants.TWO_TO_31&&i<jspb.BinaryConstants.TWO_TO_31),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(i))},jspb.BinaryWriter.prototype.writeString=function(e,i){i!=null&&(e=this.beginDelimited_(e),this.encoder_.writeString(i),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeBytes=function(e,i){i!=null&&(i=jspb.utils.byteSourceToUint8Array(i),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(i.length),this.appendUint8Array_(i))},jspb.BinaryWriter.prototype.writeMessage=function(e,i,o){i!=null&&(e=this.beginDelimited_(e),o(i,this),this.endDelimited_(e))},jspb.BinaryWriter.prototype.writeMessageSet=function(e,i,o){i!=null&&(this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.START_GROUP),this.writeFieldHeader_(2,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSignedVarint32(e),e=this.beginDelimited_(3),o(i,this),this.endDelimited_(e),this.writeFieldHeader_(1,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeGroup=function(e,i,o){i!=null&&(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),o(i,this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP))},jspb.BinaryWriter.prototype.writeFixedHash64=function(e,i){i!=null&&(goog.asserts.assert(i.length==8),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeFixedHash64(i))},jspb.BinaryWriter.prototype.writeVarintHash64=function(e,i){i!=null&&(goog.asserts.assert(i.length==8),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeVarintHash64(i))},jspb.BinaryWriter.prototype.writeSplitFixed64=function(e,i,o){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.FIXED64),this.encoder_.writeSplitFixed64(i,o)},jspb.BinaryWriter.prototype.writeSplitVarint64=function(e,i,o){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT),this.encoder_.writeSplitVarint64(i,o)},jspb.BinaryWriter.prototype.writeSplitZigzagVarint64=function(e,i,o){this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.VARINT);var c=this.encoder_;jspb.utils.toZigzag64(i,o,function(d,j){c.writeSplitVarint64(d>>>0,j>>>0)})},jspb.BinaryWriter.prototype.writeRepeatedInt32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSignedVarint32_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedInt32String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeInt32String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedInt64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSignedVarint64_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSplitFixed64=function(e,i,o,c){if(i!=null)for(var d=0;d<i.length;d++)this.writeSplitFixed64(e,o(i[d]),c(i[d]))},jspb.BinaryWriter.prototype.writeRepeatedSplitVarint64=function(e,i,o,c){if(i!=null)for(var d=0;d<i.length;d++)this.writeSplitVarint64(e,o(i[d]),c(i[d]))},jspb.BinaryWriter.prototype.writeRepeatedSplitZigzagVarint64=function(e,i,o,c){if(i!=null)for(var d=0;d<i.length;d++)this.writeSplitZigzagVarint64(e,o(i[d]),c(i[d]))},jspb.BinaryWriter.prototype.writeRepeatedInt64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeInt64String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedUint32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeUnsignedVarint32_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedUint32String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeUint32String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedUint64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeUnsignedVarint64_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedUint64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeUint64String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSint32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeZigzagVarint32_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSint64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeZigzagVarint64_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSint64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeZigzagVarint64String_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSintHash64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeZigzagVarintHash64_(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedFixed32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFixed32(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedFixed64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFixed64(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedFixed64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFixed64String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSfixed32=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSfixed32(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSfixed64(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedSfixed64String=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeSfixed64String(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedFloat=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFloat(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedDouble=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeDouble(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedBool=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeBool(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedEnum=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeEnum(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedString=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeString(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedBytes=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeBytes(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedMessage=function(e,i,o){if(i!=null)for(var c=0;c<i.length;c++){var d=this.beginDelimited_(e);o(i[c],this),this.endDelimited_(d)}},jspb.BinaryWriter.prototype.writeRepeatedGroup=function(e,i,o){if(i!=null)for(var c=0;c<i.length;c++)this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.START_GROUP),o(i[c],this),this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.END_GROUP)},jspb.BinaryWriter.prototype.writeRepeatedFixedHash64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeFixedHash64(e,i[o])},jspb.BinaryWriter.prototype.writeRepeatedVarintHash64=function(e,i){if(i!=null)for(var o=0;o<i.length;o++)this.writeVarintHash64(e,i[o])},jspb.BinaryWriter.prototype.writePackedInt32=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeSignedVarint32(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt32String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeSignedVarint32(parseInt(i[o],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeSignedVarint64(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitFixed64=function(e,i,o,c){if(i!=null){e=this.beginDelimited_(e);for(var d=0;d<i.length;d++)this.encoder_.writeSplitFixed64(o(i[d]),c(i[d]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitVarint64=function(e,i,o,c){if(i!=null){e=this.beginDelimited_(e);for(var d=0;d<i.length;d++)this.encoder_.writeSplitVarint64(o(i[d]),c(i[d]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSplitZigzagVarint64=function(e,i,o,c){if(i!=null){e=this.beginDelimited_(e);for(var d=this.encoder_,j=0;j<i.length;j++)jspb.utils.toZigzag64(o(i[j]),c(i[j]),function(Z,s){d.writeSplitVarint64(Z>>>0,s>>>0)});this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedInt64String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++){var c=jspb.arith.Int64.fromString(i[o]);this.encoder_.writeSplitVarint64(c.lo,c.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeUnsignedVarint32(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint32String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeUnsignedVarint32(parseInt(i[o],10));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeUnsignedVarint64(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedUint64String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++){var c=jspb.arith.UInt64.fromString(i[o]);this.encoder_.writeSplitVarint64(c.lo,c.hi)}this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint32=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeZigzagVarint32(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeZigzagVarint64(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSint64String=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeZigzagVarintHash64(jspb.utils.decimalStringToHash64(i[o]));this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedSintHash64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeZigzagVarintHash64(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixed32=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*i.length),e=0;e<i.length;e++)this.encoder_.writeUint32(i[e])},jspb.BinaryWriter.prototype.writePackedFixed64=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeUint64(i[e])},jspb.BinaryWriter.prototype.writePackedFixed64String=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++){var o=jspb.arith.UInt64.fromString(i[e]);this.encoder_.writeSplitFixed64(o.lo,o.hi)}},jspb.BinaryWriter.prototype.writePackedSfixed32=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*i.length),e=0;e<i.length;e++)this.encoder_.writeInt32(i[e])},jspb.BinaryWriter.prototype.writePackedSfixed64=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeInt64(i[e])},jspb.BinaryWriter.prototype.writePackedSfixed64String=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeInt64String(i[e])},jspb.BinaryWriter.prototype.writePackedFloat=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(4*i.length),e=0;e<i.length;e++)this.encoder_.writeFloat(i[e])},jspb.BinaryWriter.prototype.writePackedDouble=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeDouble(i[e])},jspb.BinaryWriter.prototype.writePackedBool=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(i.length),e=0;e<i.length;e++)this.encoder_.writeBool(i[e])},jspb.BinaryWriter.prototype.writePackedEnum=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeEnum(i[o]);this.endDelimited_(e)}},jspb.BinaryWriter.prototype.writePackedFixedHash64=function(e,i){if(i!=null&&i.length)for(this.writeFieldHeader_(e,jspb.BinaryConstants.WireType.DELIMITED),this.encoder_.writeUnsignedVarint32(8*i.length),e=0;e<i.length;e++)this.encoder_.writeFixedHash64(i[e])},jspb.BinaryWriter.prototype.writePackedVarintHash64=function(e,i){if(i!=null&&i.length){e=this.beginDelimited_(e);for(var o=0;o<i.length;o++)this.encoder_.writeVarintHash64(i[o]);this.endDelimited_(e)}},jspb.Export={},exports.Map=jspb.Map,exports.Message=jspb.Message,exports.BinaryReader=jspb.BinaryReader,exports.BinaryWriter=jspb.BinaryWriter,exports.ExtensionFieldInfo=jspb.ExtensionFieldInfo,exports.ExtensionFieldBinaryInfo=jspb.ExtensionFieldBinaryInfo,exports.exportSymbol=goog.exportSymbol,exports.inherits=goog.inherits,exports.object={extend:goog.object.extend},exports.typeOf=goog.typeOf}).call(this,__webpack_require__(5),__webpack_require__(4).Buffer)},function(e,i){var o=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof window.msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto);if(o){var c=new Uint8Array(16);e.exports=function(){return o(c),c}}else{var d=new Array(16);e.exports=function(){for(var j,Z=0;Z<16;Z++)(3&Z)==0&&(j=4294967296*Math.random()),d[Z]=j>>>((3&Z)<<3)&255;return d}}},function(e,i){for(var o=[],c=0;c<256;++c)o[c]=(c+256).toString(16).substr(1);e.exports=function(d,j){var Z=j||0,s=o;return[s[d[Z++]],s[d[Z++]],s[d[Z++]],s[d[Z++]],"-",s[d[Z++]],s[d[Z++]],"-",s[d[Z++]],s[d[Z++]],"-",s[d[Z++]],s[d[Z++]],"-",s[d[Z++]],s[d[Z++]],s[d[Z++]],s[d[Z++]],s[d[Z++]],s[d[Z++]]].join("")}},function(e,i,o){(function(c){const d=o(210),j=o(49),Z=(s,$)=>({from:Z,EnvVarError:o(49),get:function(et){if(!et)return s;if(arguments.length>1)throw new j("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return d(s,et,$||{})}});e.exports=Z(c.env)}).call(this,o(2))},function(e,i,o){var c=o(10),d=o(71),j=o(3).LEVEL,Z=e.exports=function(){var s=this,$=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};d.call(this,{objectMode:!0,highWaterMark:$.highWaterMark}),this.format=$.format,this.level=$.level,this.handleExceptions=$.handleExceptions,this.silent=$.silent,$.log&&(this.log=$.log),$.logv&&(this.logv=$.logv),$.close&&(this.close=$.close),this.once("pipe",function(et){s.levels=et.levels,s.parent=et}),this.once("unpipe",function(et){et===s.parent&&(s.parent=null,s.close&&s.close())})};c.inherits(Z,d),Z.prototype._write=function(s,$,et){if(this.silent||s.exception===!0&&!this.handleExceptions)return et(null);var ut=this.level||this.parent&&this.parent.level;if(!ut||this.levels[ut]>=this.levels[s[j]]){if(s&&!this.format)return this.log(s,et);var gt=void 0,lt=void 0;try{lt=this.format.transform(Object.assign({},s),this.format.options)}catch(ft){gt=ft}if(gt||!lt){if(et(),gt)throw gt;return}return this.log(lt,et)}return et(null)},Z.prototype._writev=function(s,$){if(this.logv){var et=s.filter(this._accept,this);return et.length?this.logv(et,$):$(null)}for(var ut=0;ut<s.length;ut++)if(this._accept(s[ut]))if(!s[ut].chunk||this.format){var gt=void 0,lt=void 0;try{lt=this.format.transform(Object.assign({},s[ut].chunk),this.format.options)}catch(ft){gt=ft}if(gt||!lt){if(s[ut].callback(),gt)throw $(null),gt}else this.log(lt,s[ut].callback)}else this.log(s[ut].chunk,s[ut].callback);return $(null)},Z.prototype._accept=function(s){var $=s.chunk;if(this.silent)return!1;var et=this.level||this.parent&&this.parent.level;return!($.exception!==!0&&et&&!(this.levels[et]>=this.levels[$[j]])||!this.handleExceptions&&$.exception===!0)},Z.prototype._nop=function(){}},function(e,i,o){const{AbortController:c,AbortSignal:d}=typeof self!="undefined"?self:typeof window!="undefined"?window:void 0;e.exports=c,e.exports.AbortSignal=d,e.exports.default=c},function(e,i){var o=function(c){function d(){this.fetch=!1,this.DOMException=c.DOMException}return d.prototype=c,new d}(typeof self!="undefined"?self:this);(function(c){(function(d){var j="URLSearchParams"in c,Z="Symbol"in c&&"iterator"in Symbol,s="FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),$="FormData"in c,et="ArrayBuffer"in c;if(et)var ut=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],gt=ArrayBuffer.isView||function(bt){return bt&&ut.indexOf(Object.prototype.toString.call(bt))>-1};function lt(bt){if(typeof bt!="string"&&(bt=String(bt)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(bt))throw new TypeError("Invalid character in header field name");return bt.toLowerCase()}function ft(bt){return typeof bt!="string"&&(bt=String(bt)),bt}function ot(bt){var mt={next:function(){var jt=bt.shift();return{done:jt===void 0,value:jt}}};return Z&&(mt[Symbol.iterator]=function(){return mt}),mt}function yt(bt){this.map={},bt instanceof yt?bt.forEach(function(mt,jt){this.append(jt,mt)},this):Array.isArray(bt)?bt.forEach(function(mt){this.append(mt[0],mt[1])},this):bt&&Object.getOwnPropertyNames(bt).forEach(function(mt){this.append(mt,bt[mt])},this)}function wt(bt){if(bt.bodyUsed)return Promise.reject(new TypeError("Already read"));bt.bodyUsed=!0}function Rt(bt){return new Promise(function(mt,jt){bt.onload=function(){mt(bt.result)},bt.onerror=function(){jt(bt.error)}})}function Mt(bt){var mt=new FileReader,jt=Rt(mt);return mt.readAsArrayBuffer(bt),jt}function Tt(bt){if(bt.slice)return bt.slice(0);var mt=new Uint8Array(bt.byteLength);return mt.set(new Uint8Array(bt)),mt.buffer}function Ct(){return this.bodyUsed=!1,this._initBody=function(bt){var mt;this._bodyInit=bt,bt?typeof bt=="string"?this._bodyText=bt:s&&Blob.prototype.isPrototypeOf(bt)?this._bodyBlob=bt:$&&FormData.prototype.isPrototypeOf(bt)?this._bodyFormData=bt:j&&URLSearchParams.prototype.isPrototypeOf(bt)?this._bodyText=bt.toString():et&&s&&(mt=bt)&&DataView.prototype.isPrototypeOf(mt)?(this._bodyArrayBuffer=Tt(bt.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):et&&(ArrayBuffer.prototype.isPrototypeOf(bt)||gt(bt))?this._bodyArrayBuffer=Tt(bt):this._bodyText=bt=Object.prototype.toString.call(bt):this._bodyText="",this.headers.get("content-type")||(typeof bt=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):j&&URLSearchParams.prototype.isPrototypeOf(bt)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var bt=wt(this);if(bt)return bt;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?wt(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(Mt)}),this.text=function(){var bt,mt,jt,zt=wt(this);if(zt)return zt;if(this._bodyBlob)return bt=this._bodyBlob,mt=new FileReader,jt=Rt(mt),mt.readAsText(bt),jt;if(this._bodyArrayBuffer)return Promise.resolve(function(kt){for(var St=new Uint8Array(kt),Dt=new Array(St.length),Nt=0;Nt<St.length;Nt++)Dt[Nt]=String.fromCharCode(St[Nt]);return Dt.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},$&&(this.formData=function(){return this.text().then(Kt)}),this.json=function(){return this.text().then(JSON.parse)},this}yt.prototype.append=function(bt,mt){bt=lt(bt),mt=ft(mt);var jt=this.map[bt];this.map[bt]=jt?jt+", "+mt:mt},yt.prototype.delete=function(bt){delete this.map[lt(bt)]},yt.prototype.get=function(bt){return bt=lt(bt),this.has(bt)?this.map[bt]:null},yt.prototype.has=function(bt){return this.map.hasOwnProperty(lt(bt))},yt.prototype.set=function(bt,mt){this.map[lt(bt)]=ft(mt)},yt.prototype.forEach=function(bt,mt){for(var jt in this.map)this.map.hasOwnProperty(jt)&&bt.call(mt,this.map[jt],jt,this)},yt.prototype.keys=function(){var bt=[];return this.forEach(function(mt,jt){bt.push(jt)}),ot(bt)},yt.prototype.values=function(){var bt=[];return this.forEach(function(mt){bt.push(mt)}),ot(bt)},yt.prototype.entries=function(){var bt=[];return this.forEach(function(mt,jt){bt.push([jt,mt])}),ot(bt)},Z&&(yt.prototype[Symbol.iterator]=yt.prototype.entries);var ct=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function Lt(bt,mt){var jt,zt,kt=(mt=mt||{}).body;if(bt instanceof Lt){if(bt.bodyUsed)throw new TypeError("Already read");this.url=bt.url,this.credentials=bt.credentials,mt.headers||(this.headers=new yt(bt.headers)),this.method=bt.method,this.mode=bt.mode,this.signal=bt.signal,kt||bt._bodyInit==null||(kt=bt._bodyInit,bt.bodyUsed=!0)}else this.url=String(bt);if(this.credentials=mt.credentials||this.credentials||"same-origin",!mt.headers&&this.headers||(this.headers=new yt(mt.headers)),this.method=(jt=mt.method||this.method||"GET",zt=jt.toUpperCase(),ct.indexOf(zt)>-1?zt:jt),this.mode=mt.mode||this.mode||null,this.signal=mt.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&kt)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(kt)}function Kt(bt){var mt=new FormData;return bt.trim().split("&").forEach(function(jt){if(jt){var zt=jt.split("="),kt=zt.shift().replace(/\+/g," "),St=zt.join("=").replace(/\+/g," ");mt.append(decodeURIComponent(kt),decodeURIComponent(St))}}),mt}function Yt(bt,mt){mt||(mt={}),this.type="default",this.status=mt.status===void 0?200:mt.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in mt?mt.statusText:"OK",this.headers=new yt(mt.headers),this.url=mt.url||"",this._initBody(bt)}Lt.prototype.clone=function(){return new Lt(this,{body:this._bodyInit})},Ct.call(Lt.prototype),Ct.call(Yt.prototype),Yt.prototype.clone=function(){return new Yt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new yt(this.headers),url:this.url})},Yt.error=function(){var bt=new Yt(null,{status:0,statusText:""});return bt.type="error",bt};var pt=[301,302,303,307,308];Yt.redirect=function(bt,mt){if(pt.indexOf(mt)===-1)throw new RangeError("Invalid status code");return new Yt(null,{status:mt,headers:{location:bt}})},d.DOMException=c.DOMException;try{new d.DOMException}catch{d.DOMException=function(mt,jt){this.message=mt,this.name=jt;var zt=Error(mt);this.stack=zt.stack},d.DOMException.prototype=Object.create(Error.prototype),d.DOMException.prototype.constructor=d.DOMException}function dt(bt,mt){return new Promise(function(jt,zt){var kt=new Lt(bt,mt);if(kt.signal&&kt.signal.aborted)return zt(new d.DOMException("Aborted","AbortError"));var St=new XMLHttpRequest;function Dt(){St.abort()}St.onload=function(){var Nt,_t,at={status:St.status,statusText:St.statusText,headers:(Nt=St.getAllResponseHeaders()||"",_t=new yt,Nt.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(Vt){var Qt=Vt.split(":"),or=Qt.shift().trim();if(or){var ar=Qt.join(":").trim();_t.append(or,ar)}}),_t)};at.url="responseURL"in St?St.responseURL:at.headers.get("X-Request-URL");var Bt="response"in St?St.response:St.responseText;jt(new Yt(Bt,at))},St.onerror=function(){zt(new TypeError("Network request failed"))},St.ontimeout=function(){zt(new TypeError("Network request failed"))},St.onabort=function(){zt(new d.DOMException("Aborted","AbortError"))},St.open(kt.method,kt.url,!0),kt.credentials==="include"?St.withCredentials=!0:kt.credentials==="omit"&&(St.withCredentials=!1),"responseType"in St&&s&&(St.responseType="blob"),kt.headers.forEach(function(Nt,_t){St.setRequestHeader(_t,Nt)}),kt.signal&&(kt.signal.addEventListener("abort",Dt),St.onreadystatechange=function(){St.readyState===4&&kt.signal.removeEventListener("abort",Dt)}),St.send(kt._bodyInit===void 0?null:kt._bodyInit)})}dt.polyfill=!0,c.fetch||(c.fetch=dt,c.Headers=yt,c.Request=Lt,c.Response=Yt),d.Headers=yt,d.Request=Lt,d.Response=Yt,d.fetch=dt})({})})(o),delete o.fetch.polyfill,(i=o.fetch).default=o.fetch,i.fetch=o.fetch,i.Headers=o.Headers,i.Request=o.Request,i.Response=o.Response,e.exports=i},function(e,i,o){const c=o(222),d=Symbol("max"),j=Symbol("length"),Z=Symbol("lengthCalculator"),s=Symbol("allowStale"),$=Symbol("maxAge"),et=Symbol("dispose"),ut=Symbol("noDisposeOnSet"),gt=Symbol("lruList"),lt=Symbol("cache"),ft=Symbol("updateAgeOnGet"),ot=()=>1,yt=(ct,Lt,Kt)=>{const Yt=ct[lt].get(Lt);if(Yt){const pt=Yt.value;if(wt(ct,pt)){if(Mt(ct,Yt),!ct[s])return}else Kt&&(ct[ft]&&(Yt.value.now=Date.now()),ct[gt].unshiftNode(Yt));return pt.value}},wt=(ct,Lt)=>{if(!Lt||!Lt.maxAge&&!ct[$])return!1;const Kt=Date.now()-Lt.now;return Lt.maxAge?Kt>Lt.maxAge:ct[$]&&Kt>ct[$]},Rt=ct=>{if(ct[j]>ct[d])for(let Lt=ct[gt].tail;ct[j]>ct[d]&&Lt!==null;){const Kt=Lt.prev;Mt(ct,Lt),Lt=Kt}},Mt=(ct,Lt)=>{if(Lt){const Kt=Lt.value;ct[et]&&ct[et](Kt.key,Kt.value),ct[j]-=Kt.length,ct[lt].delete(Kt.key),ct[gt].removeNode(Lt)}};class Tt{constructor(Lt,Kt,Yt,pt,dt){this.key=Lt,this.value=Kt,this.length=Yt,this.now=pt,this.maxAge=dt||0}}const Ct=(ct,Lt,Kt,Yt)=>{let pt=Kt.value;wt(ct,pt)&&(Mt(ct,Kt),ct[s]||(pt=void 0)),pt&&Lt.call(Yt,pt.value,pt.key,ct)};e.exports=class{constructor(ct){if(typeof ct=="number"&&(ct={max:ct}),ct||(ct={}),ct.max&&(typeof ct.max!="number"||ct.max<0))throw new TypeError("max must be a non-negative number");this[d]=ct.max||1/0;const Lt=ct.length||ot;if(this[Z]=typeof Lt!="function"?ot:Lt,this[s]=ct.stale||!1,ct.maxAge&&typeof ct.maxAge!="number")throw new TypeError("maxAge must be a number");this[$]=ct.maxAge||0,this[et]=ct.dispose,this[ut]=ct.noDisposeOnSet||!1,this[ft]=ct.updateAgeOnGet||!1,this.reset()}set max(ct){if(typeof ct!="number"||ct<0)throw new TypeError("max must be a non-negative number");this[d]=ct||1/0,Rt(this)}get max(){return this[d]}set allowStale(ct){this[s]=!!ct}get allowStale(){return this[s]}set maxAge(ct){if(typeof ct!="number")throw new TypeError("maxAge must be a non-negative number");this[$]=ct,Rt(this)}get maxAge(){return this[$]}set lengthCalculator(ct){typeof ct!="function"&&(ct=ot),ct!==this[Z]&&(this[Z]=ct,this[j]=0,this[gt].forEach(Lt=>{Lt.length=this[Z](Lt.value,Lt.key),this[j]+=Lt.length})),Rt(this)}get lengthCalculator(){return this[Z]}get length(){return this[j]}get itemCount(){return this[gt].length}rforEach(ct,Lt){Lt=Lt||this;for(let Kt=this[gt].tail;Kt!==null;){const Yt=Kt.prev;Ct(this,ct,Kt,Lt),Kt=Yt}}forEach(ct,Lt){Lt=Lt||this;for(let Kt=this[gt].head;Kt!==null;){const Yt=Kt.next;Ct(this,ct,Kt,Lt),Kt=Yt}}keys(){return this[gt].toArray().map(ct=>ct.key)}values(){return this[gt].toArray().map(ct=>ct.value)}reset(){this[et]&&this[gt]&&this[gt].length&&this[gt].forEach(ct=>this[et](ct.key,ct.value)),this[lt]=new Map,this[gt]=new c,this[j]=0}dump(){return this[gt].map(ct=>!wt(this,ct)&&{k:ct.key,v:ct.value,e:ct.now+(ct.maxAge||0)}).toArray().filter(ct=>ct)}dumpLru(){return this[gt]}set(ct,Lt,Kt){if((Kt=Kt||this[$])&&typeof Kt!="number")throw new TypeError("maxAge must be a number");const Yt=Kt?Date.now():0,pt=this[Z](Lt,ct);if(this[lt].has(ct)){if(pt>this[d])return Mt(this,this[lt].get(ct)),!1;const bt=this[lt].get(ct).value;return this[et]&&(this[ut]||this[et](ct,bt.value)),bt.now=Yt,bt.maxAge=Kt,bt.value=Lt,this[j]+=pt-bt.length,bt.length=pt,this.get(ct),Rt(this),!0}const dt=new Tt(ct,Lt,pt,Yt,Kt);return dt.length>this[d]?(this[et]&&this[et](ct,Lt),!1):(this[j]+=dt.length,this[gt].unshift(dt),this[lt].set(ct,this[gt].head),Rt(this),!0)}has(ct){if(!this[lt].has(ct))return!1;const Lt=this[lt].get(ct).value;return!wt(this,Lt)}get(ct){return yt(this,ct,!0)}peek(ct){return yt(this,ct,!1)}pop(){const ct=this[gt].tail;return ct?(Mt(this,ct),ct.value):null}del(ct){Mt(this,this[lt].get(ct))}load(ct){this.reset();const Lt=Date.now();for(let Kt=ct.length-1;Kt>=0;Kt--){const Yt=ct[Kt],pt=Yt.e||0;if(pt===0)this.set(Yt.k,Yt.v);else{const dt=pt-Lt;dt>0&&this.set(Yt.k,Yt.v,dt)}}}prune(){this[lt].forEach((ct,Lt)=>yt(this,Lt,!1))}}},function(e,i,o){var c=o(225),d=o(226),j=d;j.v1=c,j.v4=d,e.exports=j},function(e,i,o){var c=o(37).Colorizer;e.exports=function(d){return c.addColors(d.colors||d),d}},function(e,i,o){var c={};e.exports=c,c.themes={};var d=o(10),j=c.styles=o(108),Z=Object.defineProperties,s=new RegExp(/[\r\n]+/g);c.supportsColor=o(109).supportsColor,c.enabled===void 0&&(c.enabled=c.supportsColor()!==!1),c.enable=function(){c.enabled=!0},c.disable=function(){c.enabled=!1},c.stripColors=c.strip=function(wt){return(""+wt).replace(/\x1B\[\d+m/g,"")},c.stylize=function(wt,Rt){return c.enabled?j[Rt].open+wt+j[Rt].close:wt+""};var $=/[|\\{}()[\]^$+*?.]/g;function et(wt){var Rt=function Mt(){return ft.apply(Mt,arguments)};return Rt._styles=wt,Rt.__proto__=lt,Rt}var ut,gt=(ut={},j.grey=j.gray,Object.keys(j).forEach(function(wt){j[wt].closeRe=new RegExp(function(Rt){if(typeof Rt!="string")throw new TypeError("Expected a string");return Rt.replace($,"\\$&")}(j[wt].close),"g"),ut[wt]={get:function(){return et(this._styles.concat(wt))}}}),ut),lt=Z(function(){},gt);function ft(){var wt=Array.prototype.slice.call(arguments),Rt=wt.map(function(Lt){return Lt!==void 0&&Lt.constructor===String?Lt:d.inspect(Lt)}).join(" ");if(!c.enabled||!Rt)return Rt;for(var Mt=Rt.indexOf(`
`)!=-1,Tt=this._styles,Ct=Tt.length;Ct--;){var ct=j[Tt[Ct]];Rt=ct.open+Rt.replace(ct.closeRe,ct.open)+ct.close,Mt&&(Rt=Rt.replace(s,function(Lt){return ct.close+Lt+ct.open}))}return Rt}c.setTheme=function(wt){if(typeof wt!="string")for(var Rt in wt)(function(Mt){c[Mt]=function(Tt){if(typeof wt[Mt]=="object"){var Ct=Tt;for(var ct in wt[Mt])Ct=c[wt[Mt][ct]](Ct);return Ct}return c[wt[Mt]](Tt)}})(Rt);else console.log("colors.setTheme now only accepts an object, not a string.  If you are trying to set a theme from a file, it is now your (the caller's) responsibility to require the file.  The old syntax looked like colors.setTheme(__dirname + '/../themes/generic-logging.js'); The new syntax looks like colors.setTheme(require(__dirname + '/../themes/generic-logging.js'));")};var ot=function(wt,Rt){var Mt=Rt.split("");return(Mt=Mt.map(wt)).join("")};for(var yt in c.trap=o(111),c.zalgo=o(112),c.maps={},c.maps.america=o(113)(c),c.maps.zebra=o(114)(c),c.maps.rainbow=o(115)(c),c.maps.random=o(116)(c),c.maps)(function(wt){c[wt]=function(Rt){return ot(c.maps[wt],Rt)}})(yt);Z(c,function(){var wt={};return Object.keys(gt).forEach(function(Rt){wt[Rt]={get:function(){return et([Rt])}}}),wt}())},function(e,i){e.exports=function(o){return o&&typeof o=="object"&&typeof o.copy=="function"&&typeof o.fill=="function"&&typeof o.readUInt8=="function"}},function(e,i){typeof Object.create=="function"?e.exports=function(o,c){o.super_=c,o.prototype=Object.create(c.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(o,c){o.super_=c;var d=function(){};d.prototype=c.prototype,o.prototype=new d,o.prototype.constructor=o}},function(e,i){var o={};e.exports=o;var c={reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],inverse:[7,27],hidden:[8,28],strikethrough:[9,29],black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],gray:[90,39],grey:[90,39],bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],blackBG:[40,49],redBG:[41,49],greenBG:[42,49],yellowBG:[43,49],blueBG:[44,49],magentaBG:[45,49],cyanBG:[46,49],whiteBG:[47,49]};Object.keys(c).forEach(function(d){var j=c[d],Z=o[d]=[];Z.open="\x1B["+j[0]+"m",Z.close="\x1B["+j[1]+"m"})},function(e,i,o){(function(c){var d=o(15),j=o(110),Z=c.env,s=void 0;function $(et){return function(ut){return ut!==0&&{level:ut,hasBasic:!0,has256:ut>=2,has16m:ut>=3}}(function(ut){if(s===!1)return 0;if(j("color=16m")||j("color=full")||j("color=truecolor"))return 3;if(j("color=256"))return 2;if(ut&&!ut.isTTY&&s!==!0)return 0;var gt=s?1:0;if(c.platform==="win32"){var lt=d.release().split(".");return Number(c.versions.node.split(".")[0])>=8&&Number(lt[0])>=10&&Number(lt[2])>=10586?Number(lt[2])>=14931?3:2:1}if("CI"in Z)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(function(ot){return ot in Z})||Z.CI_NAME==="codeship"?1:gt;if("TEAMCITY_VERSION"in Z)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Z.TEAMCITY_VERSION)?1:0;if("TERM_PROGRAM"in Z){var ft=parseInt((Z.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Z.TERM_PROGRAM){case"iTerm.app":return ft>=3?3:2;case"Hyper":return 3;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test("xterm-256color")?2:/^screen|^xterm|^vt100|^rxvt|color|ansi|cygwin|linux/i.test("xterm-256color")||"COLORTERM"in Z?1:gt}(et))}j("no-color")||j("no-colors")||j("color=false")?s=!1:(j("color")||j("colors")||j("color=true")||j("color=always"))&&(s=!0),"FORCE_COLOR"in Z&&(s=Z.FORCE_COLOR.length===0||parseInt(Z.FORCE_COLOR,10)!==0),e.exports={supportsColor:$,stdout:$(c.stdout),stderr:$(c.stderr)}}).call(this,o(2))},function(e,i,o){(function(c){e.exports=function(d,j){var Z=(j=j||c.argv).indexOf("--"),s=/^-{1,2}/.test(d)?"":"--",$=j.indexOf(s+d);return $!==-1&&(Z===-1||$<Z)}}).call(this,o(2))},function(e,i){e.exports=function(o,c){var d="";o=(o=o||"Run the trap, drop the bass").split("");var j={a:["@","\u0104","\u023A","\u0245","\u0394","\u039B","\u0414"],b:["\xDF","\u0181","\u0243","\u026E","\u03B2","\u0E3F"],c:["\xA9","\u023B","\u03FE"],d:["\xD0","\u018A","\u0500","\u0501","\u0502","\u0503"],e:["\xCB","\u0115","\u018E","\u0258","\u03A3","\u03BE","\u04BC","\u0A6C"],f:["\u04FA"],g:["\u0262"],h:["\u0126","\u0195","\u04A2","\u04BA","\u04C7","\u050A"],i:["\u0F0F"],j:["\u0134"],k:["\u0138","\u04A0","\u04C3","\u051E"],l:["\u0139"],m:["\u028D","\u04CD","\u04CE","\u0520","\u0521","\u0D69"],n:["\xD1","\u014B","\u019D","\u0376","\u03A0","\u048A"],o:["\xD8","\xF5","\xF8","\u01FE","\u0298","\u047A","\u05DD","\u06DD","\u0E4F"],p:["\u01F7","\u048E"],q:["\u09CD"],r:["\xAE","\u01A6","\u0210","\u024C","\u0280","\u042F"],s:["\xA7","\u03DE","\u03DF","\u03E8"],t:["\u0141","\u0166","\u0373"],u:["\u01B1","\u054D"],v:["\u05D8"],w:["\u0428","\u0460","\u047C","\u0D70"],x:["\u04B2","\u04FE","\u04FC","\u04FD"],y:["\xA5","\u04B0","\u04CB"],z:["\u01B5","\u0240"]};return o.forEach(function(Z){Z=Z.toLowerCase();var s=j[Z]||[" "],$=Math.floor(Math.random()*s.length);d+=j[Z]!==void 0?j[Z][$]:Z}),d}},function(e,i){e.exports=function(o,c){o=o||"   he is here   ";var d={up:["\u030D","\u030E","\u0304","\u0305","\u033F","\u0311","\u0306","\u0310","\u0352","\u0357","\u0351","\u0307","\u0308","\u030A","\u0342","\u0313","\u0308","\u034A","\u034B","\u034C","\u0303","\u0302","\u030C","\u0350","\u0300","\u0301","\u030B","\u030F","\u0312","\u0313","\u0314","\u033D","\u0309","\u0363","\u0364","\u0365","\u0366","\u0367","\u0368","\u0369","\u036A","\u036B","\u036C","\u036D","\u036E","\u036F","\u033E","\u035B","\u0346","\u031A"],down:["\u0316","\u0317","\u0318","\u0319","\u031C","\u031D","\u031E","\u031F","\u0320","\u0324","\u0325","\u0326","\u0329","\u032A","\u032B","\u032C","\u032D","\u032E","\u032F","\u0330","\u0331","\u0332","\u0333","\u0339","\u033A","\u033B","\u033C","\u0345","\u0347","\u0348","\u0349","\u034D","\u034E","\u0353","\u0354","\u0355","\u0356","\u0359","\u035A","\u0323"],mid:["\u0315","\u031B","\u0300","\u0301","\u0358","\u0321","\u0322","\u0327","\u0328","\u0334","\u0335","\u0336","\u035C","\u035D","\u035E","\u035F","\u0360","\u0362","\u0338","\u0337","\u0361"," \u0489"]},j=[].concat(d.up,d.down,d.mid);function Z($){return Math.floor(Math.random()*$)}function s($){var et=!1;return j.filter(function(ut){et=ut===$}),et}return function($,et){var ut,gt,lt="";for(gt in(et=et||{}).up=et.up===void 0||et.up,et.mid=et.mid===void 0||et.mid,et.down=et.down===void 0||et.down,et.size=et.size!==void 0?et.size:"maxi",$=$.split(""))if(!s(gt)){switch(lt+=$[gt],ut={up:0,down:0,mid:0},et.size){case"mini":ut.up=Z(8),ut.mid=Z(2),ut.down=Z(8);break;case"maxi":ut.up=Z(16)+3,ut.mid=Z(4)+1,ut.down=Z(64)+3;break;default:ut.up=Z(8)+1,ut.mid=Z(6)/2,ut.down=Z(8)+1}var ft=["up","mid","down"];for(var ot in ft)for(var yt=ft[ot],wt=0;wt<=ut[yt];wt++)et[yt]&&(lt+=d[yt][Z(d[yt].length)])}return lt}(o,c)}},function(e,i){e.exports=function(o){return function(c,d,j){if(c===" ")return c;switch(d%3){case 0:return o.red(c);case 1:return o.white(c);case 2:return o.blue(c)}}}},function(e,i){e.exports=function(o){return function(c,d,j){return d%2==0?c:o.inverse(c)}}},function(e,i){e.exports=function(o){var c=["red","yellow","green","blue","magenta"];return function(d,j,Z){return d===" "?d:o[c[j++%c.length]](d)}}},function(e,i){e.exports=function(o){var c=["underline","inverse","grey","yellow","red","green","blue","white","cyan","magenta"];return function(d,j,Z){return d===" "?d:o[c[Math.round(Math.random()*(c.length-2))]](d)}}},function(e,i,o){Object.defineProperty(i,"cli",{value:o(118)}),Object.defineProperty(i,"npm",{value:o(119)}),Object.defineProperty(i,"syslog",{value:o(120)})},function(e,i,o){i.levels={error:0,warn:1,help:2,data:3,info:4,debug:5,prompt:6,verbose:7,input:8,silly:9},i.colors={error:"red",warn:"yellow",help:"cyan",data:"grey",info:"green",debug:"blue",prompt:"grey",verbose:"cyan",input:"grey",silly:"magenta"}},function(e,i,o){i.levels={error:0,warn:1,info:2,http:3,verbose:4,debug:5,silly:6},i.colors={error:"red",warn:"yellow",info:"green",http:"green",verbose:"cyan",debug:"blue",silly:"magenta"}},function(e,i,o){i.levels={emerg:0,alert:1,crit:2,error:3,warning:4,notice:5,info:6,debug:7},i.colors={emerg:"red",alert:"yellow",crit:"red",error:"red",warning:"red",notice:"yellow",info:"green",debug:"blue"}},function(e,i,o){var c=o(9);e.exports=c(function(d){return d.message="	".concat(d.message),d})},function(e,i,o){function c(gt,lt){if(!(gt instanceof lt))throw new TypeError("Cannot call a class as a function")}function d(gt,lt){for(var ft=0;ft<lt.length;ft++){var ot=lt[ft];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(gt,ot.key,ot)}}var j=o(37).Colorizer,Z=o(58).Padder,s=o(3),$=s.configs,et=s.MESSAGE,ut=function(){function gt(){var ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c(this,gt),ot.levels||(ot.levels=$.npm.levels),this.colorizer=new j(ot),this.padder=new Z(ot),this.options=ot}var lt,ft;return lt=gt,(ft=[{key:"transform",value:function(ot,yt){return this.colorizer.transform(this.padder.transform(ot,yt),yt),ot[et]="".concat(ot.level,":").concat(ot.message),ot}}])&&d(lt.prototype,ft),gt}();e.exports=function(gt){return new ut(gt)},e.exports.Format=ut},function(e,i,o){var c=o(9);function d(Z){if(Z.every(j))return function(s){for(var $=s,et=0;et<Z.length;et++)if(!($=Z[et].transform($,Z[et].options)))return!1;return $}}function j(Z){if(typeof Z.transform!="function")throw new Error(["No transform function found on format. Did you create a format instance?","const myFormat = format(formatFn);","const instance = myFormat();"].join(`
`));return!0}e.exports=function(){for(var Z=arguments.length,s=new Array(Z),$=0;$<Z;$++)s[$]=arguments[$];var et=c(d(s)),ut=et();return ut.Format=et.Format,ut},e.exports.cascade=d},function(e,i,o){(function(c){var d=o(9),j=o(3).MESSAGE,Z=o(31);function s($,et){return et instanceof c?et.toString("base64"):typeof et=="bigint"?et.toString():et}e.exports=d(function($){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return $[j]=(et.stable?Z.stableStringify:Z)($,et.replacer||s,et.space),$})}).call(this,o(4).Buffer)},function(e,i,o){i.byteLength=function(gt){var lt=et(gt),ft=lt[0],ot=lt[1];return 3*(ft+ot)/4-ot},i.toByteArray=function(gt){for(var lt,ft=et(gt),ot=ft[0],yt=ft[1],wt=new j(function(Ct,ct,Lt){return 3*(ct+Lt)/4-Lt}(0,ot,yt)),Rt=0,Mt=yt>0?ot-4:ot,Tt=0;Tt<Mt;Tt+=4)lt=d[gt.charCodeAt(Tt)]<<18|d[gt.charCodeAt(Tt+1)]<<12|d[gt.charCodeAt(Tt+2)]<<6|d[gt.charCodeAt(Tt+3)],wt[Rt++]=lt>>16&255,wt[Rt++]=lt>>8&255,wt[Rt++]=255&lt;return yt===2&&(lt=d[gt.charCodeAt(Tt)]<<2|d[gt.charCodeAt(Tt+1)]>>4,wt[Rt++]=255&lt),yt===1&&(lt=d[gt.charCodeAt(Tt)]<<10|d[gt.charCodeAt(Tt+1)]<<4|d[gt.charCodeAt(Tt+2)]>>2,wt[Rt++]=lt>>8&255,wt[Rt++]=255&lt),wt},i.fromByteArray=function(gt){for(var lt,ft=gt.length,ot=ft%3,yt=[],wt=0,Rt=ft-ot;wt<Rt;wt+=16383)yt.push(ut(gt,wt,wt+16383>Rt?Rt:wt+16383));return ot===1?(lt=gt[ft-1],yt.push(c[lt>>2]+c[lt<<4&63]+"==")):ot===2&&(lt=(gt[ft-2]<<8)+gt[ft-1],yt.push(c[lt>>10]+c[lt>>4&63]+c[lt<<2&63]+"=")),yt.join("")};for(var c=[],d=[],j=typeof Uint8Array!="undefined"?Uint8Array:Array,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,$=Z.length;s<$;++s)c[s]=Z[s],d[Z.charCodeAt(s)]=s;function et(gt){var lt=gt.length;if(lt%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ft=gt.indexOf("=");return ft===-1&&(ft=lt),[ft,ft===lt?0:4-ft%4]}function ut(gt,lt,ft){for(var ot,yt,wt=[],Rt=lt;Rt<ft;Rt+=3)ot=(gt[Rt]<<16&16711680)+(gt[Rt+1]<<8&65280)+(255&gt[Rt+2]),wt.push(c[(yt=ot)>>18&63]+c[yt>>12&63]+c[yt>>6&63]+c[63&yt]);return wt.join("")}d["-".charCodeAt(0)]=62,d["_".charCodeAt(0)]=63},function(e,i){i.read=function(o,c,d,j,Z){var s,$,et=8*Z-j-1,ut=(1<<et)-1,gt=ut>>1,lt=-7,ft=d?Z-1:0,ot=d?-1:1,yt=o[c+ft];for(ft+=ot,s=yt&(1<<-lt)-1,yt>>=-lt,lt+=et;lt>0;s=256*s+o[c+ft],ft+=ot,lt-=8);for($=s&(1<<-lt)-1,s>>=-lt,lt+=j;lt>0;$=256*$+o[c+ft],ft+=ot,lt-=8);if(s===0)s=1-gt;else{if(s===ut)return $?NaN:1/0*(yt?-1:1);$+=Math.pow(2,j),s-=gt}return(yt?-1:1)*$*Math.pow(2,s-j)},i.write=function(o,c,d,j,Z,s){var $,et,ut,gt=8*s-Z-1,lt=(1<<gt)-1,ft=lt>>1,ot=Z===23?Math.pow(2,-24)-Math.pow(2,-77):0,yt=j?0:s-1,wt=j?1:-1,Rt=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(et=isNaN(c)?1:0,$=lt):($=Math.floor(Math.log(c)/Math.LN2),c*(ut=Math.pow(2,-$))<1&&($--,ut*=2),(c+=$+ft>=1?ot/ut:ot*Math.pow(2,1-ft))*ut>=2&&($++,ut/=2),$+ft>=lt?(et=0,$=lt):$+ft>=1?(et=(c*ut-1)*Math.pow(2,Z),$+=ft):(et=c*Math.pow(2,ft-1)*Math.pow(2,Z),$=0));Z>=8;o[d+yt]=255&et,yt+=wt,et/=256,Z-=8);for($=$<<Z|et,gt+=Z;gt>0;o[d+yt]=255&$,yt+=wt,$/=256,gt-=8);o[d+yt-wt]|=128*Rt}},function(e,i,o){var c=o(9);e.exports=c(function(d,j){return j.message?(d.message="[".concat(j.label,"] ").concat(d.message),d):(d.label=j.label,d)})},function(e,i,o){var c=o(9),d=o(3).MESSAGE,j=o(31);e.exports=c(function(Z){var s={};return Z.message&&(s["@message"]=Z.message,delete Z.message),Z.timestamp&&(s["@timestamp"]=Z.timestamp,delete Z.timestamp),s["@fields"]=Z,Z[d]=j(s),Z})},function(e,i,o){var c=o(9);function d(Z,s,$){var et,ut,gt,lt=s.reduce(function(ot,yt){return ot[yt]=Z[yt],delete Z[yt],ot},{}),ft=Object.keys(Z).reduce(function(ot,yt){return ot[yt]=Z[yt],delete Z[yt],ot},{});return Object.assign(Z,lt,(gt=ft,(ut=$)in(et={})?Object.defineProperty(et,ut,{value:gt,enumerable:!0,configurable:!0,writable:!0}):et[ut]=gt,et)),Z}function j(Z,s,$){return Z[$]=s.reduce(function(et,ut){return et[ut]=Z[ut],delete Z[ut],et},{}),Z}e.exports=c(function(Z){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},$="metadata";s.key&&($=s.key);var et=[];return s.fillExcept||s.fillWith||(et.push("level"),et.push("message")),s.fillExcept&&(et=s.fillExcept),et.length>0?d(Z,et,$):s.fillWith?j(Z,s.fillWith,$):Z})},function(e,i,o){var c=o(10).inspect,d=o(9),j=o(3),Z=j.LEVEL,s=j.MESSAGE,$=j.SPLAT;e.exports=d(function(et){var ut=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},gt=Object.assign({},et);return delete gt[Z],delete gt[s],delete gt[$],et[s]=c(gt,!1,ut.depth||null,ut.colorize),et})},function(e,i,o){function c(Z,s){for(var $=0;$<s.length;$++){var et=s[$];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Z,et.key,et)}}var d=o(3).MESSAGE,j=function(){function Z(et){(function(ut,gt){if(!(ut instanceof gt))throw new TypeError("Cannot call a class as a function")})(this,Z),this.template=et}var s,$;return s=Z,($=[{key:"transform",value:function(et){return et[d]=this.template(et),et}}])&&c(s.prototype,$),Z}();e.exports=function(Z){return new j(Z)},e.exports.Printf=e.exports.Format=j},function(e,i,o){var c=o(9),d=o(3).MESSAGE,j=o(31);e.exports=c(function(Z){var s=j(Object.assign({},Z,{level:void 0,message:void 0,splat:void 0})),$=Z.padding&&Z.padding[Z.level]||"";return Z[d]=s!=="{}"?"".concat(Z.level,":").concat($," ").concat(Z.message," ").concat(s):"".concat(Z.level,":").concat($," ").concat(Z.message),Z})},function(e,i,o){function c(gt){return function(lt){if(Array.isArray(lt))return d(lt)}(gt)||function(lt){if(typeof Symbol!="undefined"&&Symbol.iterator in Object(lt))return Array.from(lt)}(gt)||function(lt,ft){if(!!lt){if(typeof lt=="string")return d(lt,ft);var ot=Object.prototype.toString.call(lt).slice(8,-1);if(ot==="Object"&&lt.constructor&&(ot=lt.constructor.name),ot==="Map"||ot==="Set")return Array.from(lt);if(ot==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ot))return d(lt,ft)}}(gt)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function d(gt,lt){(lt==null||lt>gt.length)&&(lt=gt.length);for(var ft=0,ot=new Array(lt);ft<lt;ft++)ot[ft]=gt[ft];return ot}function j(gt,lt){for(var ft=0;ft<lt.length;ft++){var ot=lt[ft];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(gt,ot.key,ot)}}var Z=o(10),s=o(3).SPLAT,$=/%[scdjifoO%]/g,et=/%%/g,ut=function(){function gt(ot){(function(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")})(this,gt),this.options=ot}var lt,ft;return lt=gt,(ft=[{key:"_splat",value:function(ot,yt){var wt=ot.message,Rt=ot[s]||ot.splat||[],Mt=wt.match(et),Tt=Mt&&Mt.length||0,Ct=yt.length-Tt-Rt.length,ct=Ct<0?Rt.splice(Ct,-1*Ct):[],Lt=ct.length;if(Lt)for(var Kt=0;Kt<Lt;Kt++)Object.assign(ot,ct[Kt]);return ot.message=Z.format.apply(Z,[wt].concat(c(Rt))),ot}},{key:"transform",value:function(ot){var yt=ot.message,wt=ot[s]||ot.splat;if(!wt||!wt.length)return ot;var Rt=yt&&yt.match&&yt.match($);if(!Rt&&(wt||wt.length)){var Mt=wt.length>1?wt.splice(0):wt,Tt=Mt.length;if(Tt)for(var Ct=0;Ct<Tt;Ct++)Object.assign(ot,Mt[Ct]);return ot}return Rt?this._splat(ot,Rt):ot}}])&&j(lt.prototype,ft),gt}();e.exports=function(gt){return new ut(gt)}},function(e,i,o){var c=o(135),d=o(9);e.exports=d(function(j){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Z.format&&(j.timestamp=typeof Z.format=="function"?Z.format():c.format(new Date,Z.format)),j.timestamp||(j.timestamp=new Date().toISOString()),Z.alias&&(j[Z.alias]=j.timestamp),j})},function(e,i,o){o.r(i),o.d(i,"assign",function(){return $}),o.d(i,"format",function(){return dt}),o.d(i,"parse",function(){return bt}),o.d(i,"defaultI18n",function(){return lt}),o.d(i,"setGlobalDateI18n",function(){return ot}),o.d(i,"setGlobalDateMasks",function(){return pt});var c=/d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,d="[^\\s]+",j=/\[([^]*?)\]/gm;function Z(jt,zt){for(var kt=[],St=0,Dt=jt.length;St<Dt;St++)kt.push(jt[St].substr(0,zt));return kt}var s=function(jt){return function(zt,kt){var St=kt[jt].map(function(Dt){return Dt.toLowerCase()}).indexOf(zt.toLowerCase());return St>-1?St:null}};function $(jt){for(var zt=[],kt=1;kt<arguments.length;kt++)zt[kt-1]=arguments[kt];for(var St=0,Dt=zt;St<Dt.length;St++){var Nt=Dt[St];for(var _t in Nt)jt[_t]=Nt[_t]}return jt}var et=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ut=["January","February","March","April","May","June","July","August","September","October","November","December"],gt=Z(ut,3),lt={dayNamesShort:Z(et,3),dayNames:et,monthNamesShort:gt,monthNames:ut,amPm:["am","pm"],DoFn:function(jt){return jt+["th","st","nd","rd"][jt%10>3?0:(jt-jt%10!=10?1:0)*jt%10]}},ft=$({},lt),ot=function(jt){return ft=$(ft,jt)},yt=function(jt){return jt.replace(/[|\\{()[^$+*?.-]/g,"\\$&")},wt=function(jt,zt){for(zt===void 0&&(zt=2),jt=String(jt);jt.length<zt;)jt="0"+jt;return jt},Rt={D:function(jt){return String(jt.getDate())},DD:function(jt){return wt(jt.getDate())},Do:function(jt,zt){return zt.DoFn(jt.getDate())},d:function(jt){return String(jt.getDay())},dd:function(jt){return wt(jt.getDay())},ddd:function(jt,zt){return zt.dayNamesShort[jt.getDay()]},dddd:function(jt,zt){return zt.dayNames[jt.getDay()]},M:function(jt){return String(jt.getMonth()+1)},MM:function(jt){return wt(jt.getMonth()+1)},MMM:function(jt,zt){return zt.monthNamesShort[jt.getMonth()]},MMMM:function(jt,zt){return zt.monthNames[jt.getMonth()]},YY:function(jt){return wt(String(jt.getFullYear()),4).substr(2)},YYYY:function(jt){return wt(jt.getFullYear(),4)},h:function(jt){return String(jt.getHours()%12||12)},hh:function(jt){return wt(jt.getHours()%12||12)},H:function(jt){return String(jt.getHours())},HH:function(jt){return wt(jt.getHours())},m:function(jt){return String(jt.getMinutes())},mm:function(jt){return wt(jt.getMinutes())},s:function(jt){return String(jt.getSeconds())},ss:function(jt){return wt(jt.getSeconds())},S:function(jt){return String(Math.round(jt.getMilliseconds()/100))},SS:function(jt){return wt(Math.round(jt.getMilliseconds()/10),2)},SSS:function(jt){return wt(jt.getMilliseconds(),3)},a:function(jt,zt){return jt.getHours()<12?zt.amPm[0]:zt.amPm[1]},A:function(jt,zt){return jt.getHours()<12?zt.amPm[0].toUpperCase():zt.amPm[1].toUpperCase()},ZZ:function(jt){var zt=jt.getTimezoneOffset();return(zt>0?"-":"+")+wt(100*Math.floor(Math.abs(zt)/60)+Math.abs(zt)%60,4)},Z:function(jt){var zt=jt.getTimezoneOffset();return(zt>0?"-":"+")+wt(Math.floor(Math.abs(zt)/60),2)+":"+wt(Math.abs(zt)%60,2)}},Mt=function(jt){return+jt-1},Tt=[null,"[1-9]\\d?"],Ct=[null,d],ct=["isPm",d,function(jt,zt){var kt=jt.toLowerCase();return kt===zt.amPm[0]?0:kt===zt.amPm[1]?1:null}],Lt=["timezoneOffset","[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?",function(jt){var zt=(jt+"").match(/([+-]|\d\d)/gi);if(zt){var kt=60*+zt[1]+parseInt(zt[2],10);return zt[0]==="+"?kt:-kt}return 0}],Kt={D:["day","[1-9]\\d?"],DD:["day","\\d\\d"],Do:["day","[1-9]\\d?"+d,function(jt){return parseInt(jt,10)}],M:["month","[1-9]\\d?",Mt],MM:["month","\\d\\d",Mt],YY:["year","\\d\\d",function(jt){var zt=+(""+new Date().getFullYear()).substr(0,2);return+(""+(+jt>68?zt-1:zt)+jt)}],h:["hour","[1-9]\\d?",void 0,"isPm"],hh:["hour","\\d\\d",void 0,"isPm"],H:["hour","[1-9]\\d?"],HH:["hour","\\d\\d"],m:["minute","[1-9]\\d?"],mm:["minute","\\d\\d"],s:["second","[1-9]\\d?"],ss:["second","\\d\\d"],YYYY:["year","\\d{4}"],S:["millisecond","\\d",function(jt){return 100*+jt}],SS:["millisecond","\\d\\d",function(jt){return 10*+jt}],SSS:["millisecond","\\d{3}"],d:Tt,dd:Tt,ddd:Ct,dddd:Ct,MMM:["month",d,s("monthNamesShort")],MMMM:["month",d,s("monthNames")],a:ct,A:ct,ZZ:Lt,Z:Lt},Yt={default:"ddd MMM DD YYYY HH:mm:ss",shortDate:"M/D/YY",mediumDate:"MMM D, YYYY",longDate:"MMMM D, YYYY",fullDate:"dddd, MMMM D, YYYY",isoDate:"YYYY-MM-DD",isoDateTime:"YYYY-MM-DDTHH:mm:ssZ",shortTime:"HH:mm",mediumTime:"HH:mm:ss",longTime:"HH:mm:ss.SSS"},pt=function(jt){return $(Yt,jt)},dt=function(jt,zt,kt){if(zt===void 0&&(zt=Yt.default),kt===void 0&&(kt={}),typeof jt=="number"&&(jt=new Date(jt)),Object.prototype.toString.call(jt)!=="[object Date]"||isNaN(jt.getTime()))throw new Error("Invalid Date pass to format");var St=[];zt=(zt=Yt[zt]||zt).replace(j,function(Nt,_t){return St.push(_t),"@@@"});var Dt=$($({},ft),kt);return(zt=zt.replace(c,function(Nt){return Rt[Nt](jt,Dt)})).replace(/@@@/g,function(){return St.shift()})};function bt(jt,zt,kt){if(kt===void 0&&(kt={}),typeof zt!="string")throw new Error("Invalid format in fecha parse");if(zt=Yt[zt]||zt,jt.length>1e3)return null;var St={year:new Date().getFullYear(),month:0,day:1,hour:0,minute:0,second:0,millisecond:0,isPm:null,timezoneOffset:null},Dt=[],Nt=[],_t=zt.replace(j,function(Zt,rr){return Nt.push(yt(rr)),"@@@"}),at={},Bt={};_t=yt(_t).replace(c,function(Zt){var rr=Kt[Zt],pr=rr[0],_r=rr[1],ir=rr[3];if(at[pr])throw new Error("Invalid format. "+pr+" specified twice in format");return at[pr]=!0,ir&&(Bt[ir]=!0),Dt.push(rr),"("+_r+")"}),Object.keys(Bt).forEach(function(Zt){if(!at[Zt])throw new Error("Invalid format. "+Zt+" is required in specified format")}),_t=_t.replace(/@@@/g,function(){return Nt.shift()});var Vt=jt.match(new RegExp(_t,"i"));if(!Vt)return null;for(var Qt=$($({},ft),kt),or=1;or<Vt.length;or++){var ar=Dt[or-1],qt=ar[0],Gt=ar[2],vt=Gt?Gt(Vt[or],Qt):+Vt[or];if(vt==null)return null;St[qt]=vt}St.isPm===1&&St.hour!=null&&+St.hour!=12?St.hour=+St.hour+12:St.isPm===0&&+St.hour==12&&(St.hour=0);for(var At=new Date(St.year,St.month,St.day,St.hour,St.minute,St.second,St.millisecond),It=[["month","getMonth"],["day","getDate"],["hour","getHours"],["minute","getMinutes"],["second","getSeconds"]],Ht=(or=0,It.length);or<Ht;or++)if(at[It[or][0]]&&St[It[or][0]]!==At[It[or][1]]())return null;return St.timezoneOffset==null?At:new Date(Date.UTC(St.year,St.month,St.day,St.hour,St.minute-St.timezoneOffset,St.second,St.millisecond))}var mt={format:dt,parse:bt,defaultI18n:lt,setGlobalDateI18n:ot,setGlobalDateMasks:pt};i.default=mt},function(e,i,o){var c=o(57),d=o(9),j=o(3).MESSAGE;e.exports=d(function(Z,s){return s.level!==!1&&(Z.level=c.strip(Z.level)),s.message!==!1&&(Z.message=c.strip(Z.message)),s.raw!==!1&&Z[j]&&(Z[j]=c.strip(Z[j])),Z})},function(e){e.exports=JSON.parse('{"name":"winston","description":"A logger for just about everything.","version":"3.3.3","author":"Charlie Robbins <charlie.robbins@gmail.com>","maintainers":["Jarrett Cruger <jcrugzz@gmail.com>","Chris Alderson <chrisalderson@protonmail.com>","David Hyde <dabh@stanford.edu>"],"repository":{"type":"git","url":"https://github.com/winstonjs/winston.git"},"keywords":["winston","logger","logging","logs","sysadmin","bunyan","pino","loglevel","tools","json","stream"],"dependencies":{"async":"^3.1.0","@dabh/diagnostics":"^2.0.2","is-stream":"^2.0.0","logform":"^2.2.0","one-time":"^1.0.0","readable-stream":"^3.4.0","stack-trace":"0.0.x","triple-beam":"^1.3.0","winston-transport":"^4.4.0"},"devDependencies":{"@babel/cli":"^7.10.3","@babel/core":"^7.10.3","@babel/preset-env":"^7.10.3","@types/node":"^14.0.13","abstract-winston-transport":"^0.5.1","assume":"^2.2.0","colors":"^1.4.0","cross-spawn-async":"^2.2.5","eslint-config-populist":"^4.2.0","hock":"^1.4.1","mocha":"^8.0.1","nyc":"^15.1.0","rimraf":"^3.0.2","split2":"^3.1.1","std-mocks":"^1.0.1","through2":"^3.0.1","winston-compat":"^0.1.5"},"main":"./lib/winston","browser":"./dist/winston","types":"./index.d.ts","scripts":{"lint":"populist lib/*.js lib/winston/*.js lib/winston/**/*.js","pretest":"npm run lint","test":"nyc --reporter=text --reporter lcov npm run test:mocha","test:mocha":"mocha test/*.test.js test/**/*.test.js --exit","build":"./node_modules/.bin/rimraf dist && babel lib -d dist","prepublishOnly":"npm run build"},"engines":{"node":">= 6.4.0"},"license":"MIT"}')},function(e,i,o){Object.defineProperty(i,"Console",{configurable:!0,enumerable:!0,get:function(){return o(139)}}),Object.defineProperty(i,"File",{configurable:!0,enumerable:!0,get:function(){return o(148)}}),Object.defineProperty(i,"Http",{configurable:!0,enumerable:!0,get:function(){return o(188)}}),Object.defineProperty(i,"Stream",{configurable:!0,enumerable:!0,get:function(){return o(200)}})},function(e,i,o){(function(c){function d(wt){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt})(wt)}function j(wt,Rt){if(!(wt instanceof Rt))throw new TypeError("Cannot call a class as a function")}function Z(wt,Rt){for(var Mt=0;Mt<Rt.length;Mt++){var Tt=Rt[Mt];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(wt,Tt.key,Tt)}}function s(wt,Rt){return(s=Object.setPrototypeOf||function(Mt,Tt){return Mt.__proto__=Tt,Mt})(wt,Rt)}function $(wt){var Rt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Mt,Tt=ut(wt);if(Rt){var Ct=ut(this).constructor;Mt=Reflect.construct(Tt,arguments,Ct)}else Mt=Tt.apply(this,arguments);return et(this,Mt)}}function et(wt,Rt){return!Rt||d(Rt)!=="object"&&typeof Rt!="function"?function(Mt){if(Mt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Mt}(wt):Rt}function ut(wt){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(Rt){return Rt.__proto__||Object.getPrototypeOf(Rt)})(wt)}var gt=o(15),lt=o(3),ft=lt.LEVEL,ot=lt.MESSAGE,yt=o(17);e.exports=function(wt){(function(ct,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Super expression must either be null or a function");ct.prototype=Object.create(Lt&&Lt.prototype,{constructor:{value:ct,writable:!0,configurable:!0}}),Lt&&s(ct,Lt)})(Ct,wt);var Rt,Mt,Tt=$(Ct);function Ct(){var ct,Lt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return j(this,Ct),(ct=Tt.call(this,Lt)).name=Lt.name||"console",ct.stderrLevels=ct._stringArrayToSet(Lt.stderrLevels),ct.consoleWarnLevels=ct._stringArrayToSet(Lt.consoleWarnLevels),ct.eol=Lt.eol||gt.EOL,ct.setMaxListeners(30),ct}return Rt=Ct,(Mt=[{key:"log",value:function(ct,Lt){var Kt=this;return c(function(){return Kt.emit("logged",ct)}),this.stderrLevels[ct[ft]]?(console._stderr?console._stderr.write("".concat(ct[ot]).concat(this.eol)):console.error(ct[ot]),void(Lt&&Lt())):this.consoleWarnLevels[ct[ft]]?(console._stderr?console._stderr.write("".concat(ct[ot]).concat(this.eol)):console.warn(ct[ot]),void(Lt&&Lt())):(console._stdout?console._stdout.write("".concat(ct[ot]).concat(this.eol)):console.log(ct[ot]),void(Lt&&Lt()))}},{key:"_stringArrayToSet",value:function(ct,Lt){if(!ct)return{};if(Lt=Lt||"Cannot make set from type other than Array of string elements",!Array.isArray(ct))throw new Error(Lt);return ct.reduce(function(Kt,Yt){if(typeof Yt!="string")throw new Error(Lt);return Kt[Yt]=!0,Kt},{})}}])&&Z(Rt.prototype,Mt),Ct}(yt)}).call(this,o(12).setImmediate)},function(e,i,o){(function(c,d){(function(j,Z){if(!j.setImmediate){var s,$,et,ut,gt,lt=1,ft={},ot=!1,yt=j.document,wt=Object.getPrototypeOf&&Object.getPrototypeOf(j);wt=wt&&wt.setTimeout?wt:j,{}.toString.call(j.process)==="[object process]"?s=function(Tt){d.nextTick(function(){Mt(Tt)})}:function(){if(j.postMessage&&!j.importScripts){var Tt=!0,Ct=j.onmessage;return j.onmessage=function(){Tt=!1},j.postMessage("","*"),j.onmessage=Ct,Tt}}()?(ut="setImmediate$"+Math.random()+"$",gt=function(Tt){Tt.source===j&&typeof Tt.data=="string"&&Tt.data.indexOf(ut)===0&&Mt(+Tt.data.slice(ut.length))},j.addEventListener?j.addEventListener("message",gt,!1):j.attachEvent("onmessage",gt),s=function(Tt){j.postMessage(ut+Tt,"*")}):j.MessageChannel?((et=new MessageChannel).port1.onmessage=function(Tt){Mt(Tt.data)},s=function(Tt){et.port2.postMessage(Tt)}):yt&&"onreadystatechange"in yt.createElement("script")?($=yt.documentElement,s=function(Tt){var Ct=yt.createElement("script");Ct.onreadystatechange=function(){Mt(Tt),Ct.onreadystatechange=null,$.removeChild(Ct),Ct=null},$.appendChild(Ct)}):s=function(Tt){setTimeout(Mt,0,Tt)},wt.setImmediate=function(Tt){typeof Tt!="function"&&(Tt=new Function(""+Tt));for(var Ct=new Array(arguments.length-1),ct=0;ct<Ct.length;ct++)Ct[ct]=arguments[ct+1];var Lt={callback:Tt,args:Ct};return ft[lt]=Lt,s(lt),lt++},wt.clearImmediate=Rt}function Rt(Tt){delete ft[Tt]}function Mt(Tt){if(ot)setTimeout(Mt,0,Tt);else{var Ct=ft[Tt];if(Ct){ot=!0;try{(function(ct){var Lt=ct.callback,Kt=ct.args;switch(Kt.length){case 0:Lt();break;case 1:Lt(Kt[0]);break;case 2:Lt(Kt[0],Kt[1]);break;case 3:Lt(Kt[0],Kt[1],Kt[2]);break;default:Lt.apply(void 0,Kt)}})(Ct)}finally{Rt(Tt),ot=!1}}}}})(typeof self=="undefined"?c===void 0?this:c:self)}).call(this,o(5),o(2))},function(e,i,o){e.exports=o(60)},function(e,i,o){(function(c,d){var j=o(13);e.exports=Ct;var Z,s=o(38);Ct.ReadableState=Tt,o(18).EventEmitter;var $=function(_t,at){return _t.listeners(at).length},et=o(61),ut=o(40).Buffer,gt=c.Uint8Array||function(){},lt=Object.create(o(14));lt.inherits=o(6);var ft=o(143),ot=void 0;ot=ft&&ft.debuglog?ft.debuglog("stream"):function(){};var yt,wt=o(144),Rt=o(62);lt.inherits(Ct,et);var Mt=["error","close","destroy","pause","resume"];function Tt(_t,at){_t=_t||{};var Bt=at instanceof(Z=Z||o(32));this.objectMode=!!_t.objectMode,Bt&&(this.objectMode=this.objectMode||!!_t.readableObjectMode);var Vt=_t.highWaterMark,Qt=_t.readableHighWaterMark,or=this.objectMode?16:16384;this.highWaterMark=Vt||Vt===0?Vt:Bt&&(Qt||Qt===0)?Qt:or,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new wt,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=_t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,_t.encoding&&(yt||(yt=o(19).StringDecoder),this.decoder=new yt(_t.encoding),this.encoding=_t.encoding)}function Ct(_t){if(Z=Z||o(32),!(this instanceof Ct))return new Ct(_t);this._readableState=new Tt(_t,this),this.readable=!0,_t&&(typeof _t.read=="function"&&(this._read=_t.read),typeof _t.destroy=="function"&&(this._destroy=_t.destroy)),et.call(this)}function ct(_t,at,Bt,Vt,Qt){var or,ar=_t._readableState;return at===null?(ar.reading=!1,function(qt,Gt){if(!Gt.ended){if(Gt.decoder){var vt=Gt.decoder.end();vt&&vt.length&&(Gt.buffer.push(vt),Gt.length+=Gt.objectMode?1:vt.length)}Gt.ended=!0,Yt(qt)}}(_t,ar)):(Qt||(or=function(qt,Gt){var vt;At=Gt,ut.isBuffer(At)||At instanceof gt||typeof Gt=="string"||Gt===void 0||qt.objectMode||(vt=new TypeError("Invalid non-string/buffer chunk"));var At;return vt}(ar,at)),or?_t.emit("error",or):ar.objectMode||at&&at.length>0?(typeof at=="string"||ar.objectMode||Object.getPrototypeOf(at)===ut.prototype||(at=function(qt){return ut.from(qt)}(at)),Vt?ar.endEmitted?_t.emit("error",new Error("stream.unshift() after end event")):Lt(_t,ar,at,!0):ar.ended?_t.emit("error",new Error("stream.push() after EOF")):(ar.reading=!1,ar.decoder&&!Bt?(at=ar.decoder.write(at),ar.objectMode||at.length!==0?Lt(_t,ar,at,!1):dt(_t,ar)):Lt(_t,ar,at,!1))):Vt||(ar.reading=!1)),function(qt){return!qt.ended&&(qt.needReadable||qt.length<qt.highWaterMark||qt.length===0)}(ar)}function Lt(_t,at,Bt,Vt){at.flowing&&at.length===0&&!at.sync?(_t.emit("data",Bt),_t.read(0)):(at.length+=at.objectMode?1:Bt.length,Vt?at.buffer.unshift(Bt):at.buffer.push(Bt),at.needReadable&&Yt(_t)),dt(_t,at)}Object.defineProperty(Ct.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(_t){this._readableState&&(this._readableState.destroyed=_t)}}),Ct.prototype.destroy=Rt.destroy,Ct.prototype._undestroy=Rt.undestroy,Ct.prototype._destroy=function(_t,at){this.push(null),at(_t)},Ct.prototype.push=function(_t,at){var Bt,Vt=this._readableState;return Vt.objectMode?Bt=!0:typeof _t=="string"&&((at=at||Vt.defaultEncoding)!==Vt.encoding&&(_t=ut.from(_t,at),at=""),Bt=!0),ct(this,_t,at,!1,Bt)},Ct.prototype.unshift=function(_t){return ct(this,_t,null,!0,!1)},Ct.prototype.isPaused=function(){return this._readableState.flowing===!1},Ct.prototype.setEncoding=function(_t){return yt||(yt=o(19).StringDecoder),this._readableState.decoder=new yt(_t),this._readableState.encoding=_t,this};function Kt(_t,at){return _t<=0||at.length===0&&at.ended?0:at.objectMode?1:_t!=_t?at.flowing&&at.length?at.buffer.head.data.length:at.length:(_t>at.highWaterMark&&(at.highWaterMark=function(Bt){return Bt>=8388608?Bt=8388608:(Bt--,Bt|=Bt>>>1,Bt|=Bt>>>2,Bt|=Bt>>>4,Bt|=Bt>>>8,Bt|=Bt>>>16,Bt++),Bt}(_t)),_t<=at.length?_t:at.ended?at.length:(at.needReadable=!0,0))}function Yt(_t){var at=_t._readableState;at.needReadable=!1,at.emittedReadable||(ot("emitReadable",at.flowing),at.emittedReadable=!0,at.sync?j.nextTick(pt,_t):pt(_t))}function pt(_t){ot("emit readable"),_t.emit("readable"),zt(_t)}function dt(_t,at){at.readingMore||(at.readingMore=!0,j.nextTick(bt,_t,at))}function bt(_t,at){for(var Bt=at.length;!at.reading&&!at.flowing&&!at.ended&&at.length<at.highWaterMark&&(ot("maybeReadMore read 0"),_t.read(0),Bt!==at.length);)Bt=at.length;at.readingMore=!1}function mt(_t){ot("readable nexttick read 0"),_t.read(0)}function jt(_t,at){at.reading||(ot("resume read 0"),_t.read(0)),at.resumeScheduled=!1,at.awaitDrain=0,_t.emit("resume"),zt(_t),at.flowing&&!at.reading&&_t.read(0)}function zt(_t){var at=_t._readableState;for(ot("flow",at.flowing);at.flowing&&_t.read()!==null;);}function kt(_t,at){return at.length===0?null:(at.objectMode?Bt=at.buffer.shift():!_t||_t>=at.length?(Bt=at.decoder?at.buffer.join(""):at.buffer.length===1?at.buffer.head.data:at.buffer.concat(at.length),at.buffer.clear()):Bt=function(Vt,Qt,or){var ar;return Vt<Qt.head.data.length?(ar=Qt.head.data.slice(0,Vt),Qt.head.data=Qt.head.data.slice(Vt)):ar=Vt===Qt.head.data.length?Qt.shift():or?function(qt,Gt){var vt=Gt.head,At=1,It=vt.data;for(qt-=It.length;vt=vt.next;){var Ht=vt.data,Zt=qt>Ht.length?Ht.length:qt;if(Zt===Ht.length?It+=Ht:It+=Ht.slice(0,qt),(qt-=Zt)===0){Zt===Ht.length?(++At,vt.next?Gt.head=vt.next:Gt.head=Gt.tail=null):(Gt.head=vt,vt.data=Ht.slice(Zt));break}++At}return Gt.length-=At,It}(Vt,Qt):function(qt,Gt){var vt=ut.allocUnsafe(qt),At=Gt.head,It=1;for(At.data.copy(vt),qt-=At.data.length;At=At.next;){var Ht=At.data,Zt=qt>Ht.length?Ht.length:qt;if(Ht.copy(vt,vt.length-qt,0,Zt),(qt-=Zt)===0){Zt===Ht.length?(++It,At.next?Gt.head=At.next:Gt.head=Gt.tail=null):(Gt.head=At,At.data=Ht.slice(Zt));break}++It}return Gt.length-=It,vt}(Vt,Qt),ar}(_t,at.buffer,at.decoder),Bt);var Bt}function St(_t){var at=_t._readableState;if(at.length>0)throw new Error('"endReadable()" called on non-empty stream');at.endEmitted||(at.ended=!0,j.nextTick(Dt,at,_t))}function Dt(_t,at){_t.endEmitted||_t.length!==0||(_t.endEmitted=!0,at.readable=!1,at.emit("end"))}function Nt(_t,at){for(var Bt=0,Vt=_t.length;Bt<Vt;Bt++)if(_t[Bt]===at)return Bt;return-1}Ct.prototype.read=function(_t){ot("read",_t),_t=parseInt(_t,10);var at=this._readableState,Bt=_t;if(_t!==0&&(at.emittedReadable=!1),_t===0&&at.needReadable&&(at.length>=at.highWaterMark||at.ended))return ot("read: emitReadable",at.length,at.ended),at.length===0&&at.ended?St(this):Yt(this),null;if((_t=Kt(_t,at))===0&&at.ended)return at.length===0&&St(this),null;var Vt,Qt=at.needReadable;return ot("need readable",Qt),(at.length===0||at.length-_t<at.highWaterMark)&&ot("length less than watermark",Qt=!0),at.ended||at.reading?ot("reading or ended",Qt=!1):Qt&&(ot("do read"),at.reading=!0,at.sync=!0,at.length===0&&(at.needReadable=!0),this._read(at.highWaterMark),at.sync=!1,at.reading||(_t=Kt(Bt,at))),(Vt=_t>0?kt(_t,at):null)===null?(at.needReadable=!0,_t=0):at.length-=_t,at.length===0&&(at.ended||(at.needReadable=!0),Bt!==_t&&at.ended&&St(this)),Vt!==null&&this.emit("data",Vt),Vt},Ct.prototype._read=function(_t){this.emit("error",new Error("_read() is not implemented"))},Ct.prototype.pipe=function(_t,at){var Bt=this,Vt=this._readableState;switch(Vt.pipesCount){case 0:Vt.pipes=_t;break;case 1:Vt.pipes=[Vt.pipes,_t];break;default:Vt.pipes.push(_t)}Vt.pipesCount+=1,ot("pipe count=%d opts=%j",Vt.pipesCount,at);var Qt=(!at||at.end!==!1)&&_t!==d.stdout&&_t!==d.stderr?ar:rr;function or(pr,_r){ot("onunpipe"),pr===Bt&&_r&&_r.hasUnpiped===!1&&(_r.hasUnpiped=!0,ot("cleanup"),_t.removeListener("close",Ht),_t.removeListener("finish",Zt),_t.removeListener("drain",qt),_t.removeListener("error",It),_t.removeListener("unpipe",or),Bt.removeListener("end",ar),Bt.removeListener("end",rr),Bt.removeListener("data",At),Gt=!0,!Vt.awaitDrain||_t._writableState&&!_t._writableState.needDrain||qt())}function ar(){ot("onend"),_t.end()}Vt.endEmitted?j.nextTick(Qt):Bt.once("end",Qt),_t.on("unpipe",or);var qt=function(pr){return function(){var _r=pr._readableState;ot("pipeOnDrain",_r.awaitDrain),_r.awaitDrain&&_r.awaitDrain--,_r.awaitDrain===0&&$(pr,"data")&&(_r.flowing=!0,zt(pr))}}(Bt);_t.on("drain",qt);var Gt=!1,vt=!1;function At(pr){ot("ondata"),vt=!1,_t.write(pr)!==!1||vt||((Vt.pipesCount===1&&Vt.pipes===_t||Vt.pipesCount>1&&Nt(Vt.pipes,_t)!==-1)&&!Gt&&(ot("false write response, pause",Bt._readableState.awaitDrain),Bt._readableState.awaitDrain++,vt=!0),Bt.pause())}function It(pr){ot("onerror",pr),rr(),_t.removeListener("error",It),$(_t,"error")===0&&_t.emit("error",pr)}function Ht(){_t.removeListener("finish",Zt),rr()}function Zt(){ot("onfinish"),_t.removeListener("close",Ht),rr()}function rr(){ot("unpipe"),Bt.unpipe(_t)}return Bt.on("data",At),function(pr,_r,ir){if(typeof pr.prependListener=="function")return pr.prependListener(_r,ir);pr._events&&pr._events[_r]?s(pr._events[_r])?pr._events[_r].unshift(ir):pr._events[_r]=[ir,pr._events[_r]]:pr.on(_r,ir)}(_t,"error",It),_t.once("close",Ht),_t.once("finish",Zt),_t.emit("pipe",Bt),Vt.flowing||(ot("pipe resume"),Bt.resume()),_t},Ct.prototype.unpipe=function(_t){var at=this._readableState,Bt={hasUnpiped:!1};if(at.pipesCount===0)return this;if(at.pipesCount===1)return _t&&_t!==at.pipes||(_t||(_t=at.pipes),at.pipes=null,at.pipesCount=0,at.flowing=!1,_t&&_t.emit("unpipe",this,Bt)),this;if(!_t){var Vt=at.pipes,Qt=at.pipesCount;at.pipes=null,at.pipesCount=0,at.flowing=!1;for(var or=0;or<Qt;or++)Vt[or].emit("unpipe",this,Bt);return this}var ar=Nt(at.pipes,_t);return ar===-1||(at.pipes.splice(ar,1),at.pipesCount-=1,at.pipesCount===1&&(at.pipes=at.pipes[0]),_t.emit("unpipe",this,Bt)),this},Ct.prototype.on=function(_t,at){var Bt=et.prototype.on.call(this,_t,at);if(_t==="data")this._readableState.flowing!==!1&&this.resume();else if(_t==="readable"){var Vt=this._readableState;Vt.endEmitted||Vt.readableListening||(Vt.readableListening=Vt.needReadable=!0,Vt.emittedReadable=!1,Vt.reading?Vt.length&&Yt(this):j.nextTick(mt,this))}return Bt},Ct.prototype.addListener=Ct.prototype.on,Ct.prototype.resume=function(){var _t=this._readableState;return _t.flowing||(ot("resume"),_t.flowing=!0,function(at,Bt){Bt.resumeScheduled||(Bt.resumeScheduled=!0,j.nextTick(jt,at,Bt))}(this,_t)),this},Ct.prototype.pause=function(){return ot("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(ot("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Ct.prototype.wrap=function(_t){var at=this,Bt=this._readableState,Vt=!1;for(var Qt in _t.on("end",function(){if(ot("wrapped end"),Bt.decoder&&!Bt.ended){var ar=Bt.decoder.end();ar&&ar.length&&at.push(ar)}at.push(null)}),_t.on("data",function(ar){ot("wrapped data"),Bt.decoder&&(ar=Bt.decoder.write(ar)),Bt.objectMode&&ar==null||(Bt.objectMode||ar&&ar.length)&&(at.push(ar)||(Vt=!0,_t.pause()))}),_t)this[Qt]===void 0&&typeof _t[Qt]=="function"&&(this[Qt]=function(ar){return function(){return _t[ar].apply(_t,arguments)}}(Qt));for(var or=0;or<Mt.length;or++)_t.on(Mt[or],this.emit.bind(this,Mt[or]));return this._read=function(ar){ot("wrapped _read",ar),Vt&&(Vt=!1,_t.resume())},this},Object.defineProperty(Ct.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Ct._fromList=kt}).call(this,o(5),o(2))},function(e,i){},function(e,i,o){var c=o(40).Buffer,d=o(145);e.exports=function(){function j(){(function(Z,s){if(!(Z instanceof s))throw new TypeError("Cannot call a class as a function")})(this,j),this.head=null,this.tail=null,this.length=0}return j.prototype.push=function(Z){var s={data:Z,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},j.prototype.unshift=function(Z){var s={data:Z,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},j.prototype.shift=function(){if(this.length!==0){var Z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Z}},j.prototype.clear=function(){this.head=this.tail=null,this.length=0},j.prototype.join=function(Z){if(this.length===0)return"";for(var s=this.head,$=""+s.data;s=s.next;)$+=Z+s.data;return $},j.prototype.concat=function(Z){if(this.length===0)return c.alloc(0);if(this.length===1)return this.head.data;for(var s,$,et,ut=c.allocUnsafe(Z>>>0),gt=this.head,lt=0;gt;)s=gt.data,$=ut,et=lt,s.copy($,et),lt+=gt.data.length,gt=gt.next;return ut},j}(),d&&d.inspect&&d.inspect.custom&&(e.exports.prototype[d.inspect.custom]=function(){var j=d.inspect({length:this.length});return this.constructor.name+" "+j})},function(e,i){},function(e,i,o){var c=o(4),d=c.Buffer;function j(s,$){for(var et in s)$[et]=s[et]}function Z(s,$,et){return d(s,$,et)}d.from&&d.alloc&&d.allocUnsafe&&d.allocUnsafeSlow?e.exports=c:(j(c,i),i.Buffer=Z),j(d,Z),Z.from=function(s,$,et){if(typeof s=="number")throw new TypeError("Argument must not be a number");return d(s,$,et)},Z.alloc=function(s,$,et){if(typeof s!="number")throw new TypeError("Argument must be a number");var ut=d(s);return $!==void 0?typeof et=="string"?ut.fill($,et):ut.fill($):ut.fill(0),ut},Z.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return d(s)},Z.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return c.SlowBuffer(s)}},function(e,i,o){var c=o(10),d=o(3).LEVEL,j=o(17),Z=e.exports=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(j.call(this,s),!s.transport||typeof s.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");function $(et){this.emit("error",et,this.transport)}this.transport=s.transport,this.level=this.level||s.transport.level,this.handleExceptions=this.handleExceptions||s.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=$.bind(this),this.transport.on("error",this.transport.__winstonError))};c.inherits(Z,j),Z.prototype._write=function(s,$,et){if(this.silent||s.exception===!0&&!this.handleExceptions)return et(null);(!this.level||this.levels[this.level]>=this.levels[s[d]])&&this.transport.log(s[d],s.message,s,this._nop),et(null)},Z.prototype._writev=function(s,$){for(var et=0;et<s.length;et++)this._accept(s[et])&&(this.transport.log(s[et].chunk[d],s[et].chunk.message,s[et].chunk,this._nop),s[et].callback());return $(null)},Z.prototype._deprecated=function(){console.error([this.transport.name+" is a legacy winston transport. Consider upgrading: ","- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},Z.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,i,o){(function(c,d){function j(pt){return(j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(dt){return typeof dt}:function(dt){return dt&&typeof Symbol=="function"&&dt.constructor===Symbol&&dt!==Symbol.prototype?"symbol":typeof dt})(pt)}function Z(pt,dt){if(!(pt instanceof dt))throw new TypeError("Cannot call a class as a function")}function s(pt,dt){for(var bt=0;bt<dt.length;bt++){var mt=dt[bt];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(pt,mt.key,mt)}}function $(pt,dt){return($=Object.setPrototypeOf||function(bt,mt){return bt.__proto__=mt,bt})(pt,dt)}function et(pt){var dt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var bt,mt=lt(pt);if(dt){var jt=lt(this).constructor;bt=Reflect.construct(mt,arguments,jt)}else bt=mt.apply(this,arguments);return ut(this,bt)}}function ut(pt,dt){return!dt||j(dt)!=="object"&&typeof dt!="function"?gt(pt):dt}function gt(pt){if(pt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt}function lt(pt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf:function(dt){return dt.__proto__||Object.getPrototypeOf(dt)})(pt)}var ft=o(63),ot=o(53),yt=o(149),wt=o(159),Rt=o(3).MESSAGE,Mt=o(29),Tt=Mt.Stream,Ct=Mt.PassThrough,ct=o(17),Lt=o(34)("winston:file"),Kt=o(15),Yt=o(187);e.exports=function(pt){(function(zt,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function");zt.prototype=Object.create(kt&&kt.prototype,{constructor:{value:zt,writable:!0,configurable:!0}}),kt&&$(zt,kt)})(jt,pt);var dt,bt,mt=et(jt);function jt(){var zt,kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function St(Dt){for(var Nt=arguments.length,_t=new Array(Nt>1?Nt-1:0),at=1;at<Nt;at++)_t[at-1]=arguments[at];_t.slice(1).forEach(function(Bt){if(kt[Bt])throw new Error("Cannot set ".concat(Bt," and ").concat(Dt," together"))})}if(Z(this,jt),(zt=mt.call(this,kt)).name=kt.name||"file",zt._stream=new Ct,zt._stream.setMaxListeners(30),zt._onError=zt._onError.bind(gt(zt)),kt.filename||kt.dirname)St("filename or dirname","stream"),zt._basename=zt.filename=kt.filename?ot.basename(kt.filename):"winston.log",zt.dirname=kt.dirname||ot.dirname(kt.filename),zt.options=kt.options||{flags:"a"};else{if(!kt.stream)throw new Error("Cannot log to file without filename or stream.");console.warn("options.stream will be removed in winston@4. Use winston.transports.Stream"),St("stream","filename","maxsize"),zt._dest=zt._stream.pipe(zt._setupStream(kt.stream)),zt.dirname=ot.dirname(zt._dest.path)}return zt.maxsize=kt.maxsize||null,zt.rotationFormat=kt.rotationFormat||!1,zt.zippedArchive=kt.zippedArchive||!1,zt.maxFiles=kt.maxFiles||null,zt.eol=kt.eol||Kt.EOL,zt.tailable=kt.tailable||!1,zt._size=0,zt._pendingSize=0,zt._created=0,zt._drain=!1,zt._opening=!1,zt._ending=!1,zt.dirname&&zt._createLogDirIfNotExist(zt.dirname),zt.open(),zt}return dt=jt,(bt=[{key:"finishIfEnding",value:function(){var zt=this;this._ending&&(this._opening?this.once("open",function(){zt._stream.once("finish",function(){return zt.emit("finish")}),c(function(){return zt._stream.end()})}):(this._stream.once("finish",function(){return zt.emit("finish")}),c(function(){return zt._stream.end()})))}},{key:"log",value:function(zt){var kt=this,St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){};if(this.silent)return St(),!0;if(this._drain)this._stream.once("drain",function(){kt._drain=!1,kt.log(zt,St)});else{if(!this._rotate){var Dt="".concat(zt[Rt]).concat(this.eol),Nt=d.byteLength(Dt);this._pendingSize+=Nt,this._opening&&!this.rotatedWhileOpening&&this._needsNewFile(this._size+this._pendingSize)&&(this.rotatedWhileOpening=!0);var _t=this._stream.write(Dt,at.bind(this));return _t?St():(this._drain=!0,this._stream.once("drain",function(){kt._drain=!1,St()})),Lt("written",_t,this._drain),this.finishIfEnding(),_t}this._stream.once("rotate",function(){kt._rotate=!1,kt.log(zt,St)})}function at(){var Bt=this;this._size+=Nt,this._pendingSize-=Nt,Lt("logged %s %s",this._size,Dt),this.emit("logged",zt),this._opening||this._needsNewFile()&&(this._rotate=!0,this._endStream(function(){return Bt._rotateFile()}))}}},{key:"query",value:function(zt,kt){typeof zt=="function"&&(kt=zt,zt={}),zt=function(Vt){return(Vt=Vt||{}).rows=Vt.rows||Vt.limit||10,Vt.start=Vt.start||0,Vt.until=Vt.until||new Date,j(Vt.until)!=="object"&&(Vt.until=new Date(Vt.until)),Vt.from=Vt.from||Vt.until-864e5,j(Vt.from)!=="object"&&(Vt.from=new Date(Vt.from)),Vt.order=Vt.order||"desc",Vt}(zt);var St=ot.join(this.dirname,this.filename),Dt="",Nt=[],_t=0,at=ft.createReadStream(St,{encoding:"utf8"});function Bt(Vt,Qt){try{var or=JSON.parse(Vt);(function(ar){if(ar&&j(ar)==="object"){var qt=new Date(ar.timestamp);if(!(zt.from&&qt<zt.from||zt.until&&qt>zt.until||zt.level&&zt.level!==ar.level))return!0}})(or)&&function(ar){zt.rows&&Nt.length>=zt.rows&&zt.order!=="desc"?at.readable&&at.destroy():(zt.fields&&(ar=zt.fields.reduce(function(qt,Gt){return qt[Gt]=ar[Gt],qt},{})),zt.order==="desc"&&Nt.length>=zt.rows&&Nt.shift(),Nt.push(ar))}(or)}catch(ar){Qt||at.emit("error",ar)}}at.on("error",function(Vt){if(at.readable&&at.destroy(),kt)return Vt.code!=="ENOENT"?kt(Vt):kt(null,Nt)}),at.on("data",function(Vt){for(var Qt=(Vt=(Dt+Vt).split(/\n+/)).length-1,or=0;or<Qt;or++)(!zt.start||_t>=zt.start)&&Bt(Vt[or]),_t++;Dt=Vt[Qt]}),at.on("close",function(){Dt&&Bt(Dt,!0),zt.order==="desc"&&(Nt=Nt.reverse()),kt&&kt(null,Nt)})}},{key:"stream",value:function(){var zt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},kt=ot.join(this.dirname,this.filename),St=new Tt,Dt={file:kt,start:zt.start};return St.destroy=Yt(Dt,function(Nt,_t){if(Nt)return St.emit("error",Nt);try{St.emit("data",_t),_t=JSON.parse(_t),St.emit("log",_t)}catch(at){St.emit("error",at)}}),St}},{key:"open",value:function(){var zt=this;this.filename&&(this._opening||(this._opening=!0,this.stat(function(kt,St){if(kt)return zt.emit("error",kt);Lt("stat done: %s { size: %s }",zt.filename,St),zt._size=St,zt._dest=zt._createStream(zt._stream),zt._opening=!1,zt.once("open",function(){zt._stream.eventNames().includes("rotate")?zt._stream.emit("rotate"):zt._rotate=!1})})))}},{key:"stat",value:function(zt){var kt=this,St=this._getFile(),Dt=ot.join(this.dirname,St);ft.stat(Dt,function(Nt,_t){return Nt&&Nt.code==="ENOENT"?(Lt("ENOENT\xA0ok",Dt),kt.filename=St,zt(null,0)):Nt?(Lt("err ".concat(Nt.code," ").concat(Dt)),zt(Nt)):!_t||kt._needsNewFile(_t.size)?kt._incFile(function(){return kt.stat(zt)}):(kt.filename=St,void zt(null,_t.size))})}},{key:"close",value:function(zt){var kt=this;this._stream&&this._stream.end(function(){zt&&zt(),kt.emit("flush"),kt.emit("closed")})}},{key:"_needsNewFile",value:function(zt){return zt=zt||this._size,this.maxsize&&zt>=this.maxsize}},{key:"_onError",value:function(zt){this.emit("error",zt)}},{key:"_setupStream",value:function(zt){return zt.on("error",this._onError),zt}},{key:"_cleanupStream",value:function(zt){return zt.removeListener("error",this._onError),zt}},{key:"_rotateFile",value:function(){var zt=this;this._incFile(function(){return zt.open()})}},{key:"_endStream",value:function(){var zt=this,kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){};this._dest?(this._stream.unpipe(this._dest),this._dest.end(function(){zt._cleanupStream(zt._dest),kt()})):kt()}},{key:"_createStream",value:function(zt){var kt=this,St=ot.join(this.dirname,this.filename);Lt("create stream start",St,this.options);var Dt=ft.createWriteStream(St,this.options).on("error",function(_t){return Lt(_t)}).on("close",function(){return Lt("close",Dt.path,Dt.bytesWritten)}).on("open",function(){Lt("file open ok",St),kt.emit("open",St),zt.pipe(Dt),kt.rotatedWhileOpening&&(kt._stream=new Ct,kt._stream.setMaxListeners(30),kt._rotateFile(),kt.rotatedWhileOpening=!1,kt._cleanupStream(Dt),zt.end())});if(Lt("create stream ok",St),this.zippedArchive){var Nt=wt.createGzip();return Nt.pipe(Dt),Nt}return Dt}},{key:"_incFile",value:function(zt){Lt("_incFile",this.filename);var kt=ot.extname(this._basename),St=ot.basename(this._basename,kt);this.tailable?this._checkMaxFilesTailable(kt,St,zt):(this._created+=1,this._checkMaxFilesIncrementing(kt,St,zt))}},{key:"_getFile",value:function(){var zt=ot.extname(this._basename),kt=ot.basename(this._basename,zt),St=this.rotationFormat?this.rotationFormat():this._created,Dt=!this.tailable&&this._created?"".concat(kt).concat(St).concat(zt):"".concat(kt).concat(zt);return this.zippedArchive&&!this.tailable?"".concat(Dt,".gz"):Dt}},{key:"_checkMaxFilesIncrementing",value:function(zt,kt,St){if(!this.maxFiles||this._created<this.maxFiles)return c(St);var Dt=this._created-this.maxFiles,Nt=Dt!==0?Dt:"",_t=this.zippedArchive?".gz":"",at="".concat(kt).concat(Nt).concat(zt).concat(_t),Bt=ot.join(this.dirname,at);ft.unlink(Bt,St)}},{key:"_checkMaxFilesTailable",value:function(zt,kt,St){var Dt=this,Nt=[];if(this.maxFiles){for(var _t=this.zippedArchive?".gz":"",at=this.maxFiles-1;at>1;at--)Nt.push(function(Bt,Vt){var Qt=this,or="".concat(kt).concat(Bt-1).concat(zt).concat(_t),ar=ot.join(this.dirname,or);ft.exists(ar,function(qt){if(!qt)return Vt(null);or="".concat(kt).concat(Bt).concat(zt).concat(_t),ft.rename(ar,ot.join(Qt.dirname,or),Vt)})}.bind(this,at));yt(Nt,function(){ft.rename(ot.join(Dt.dirname,"".concat(kt).concat(zt)),ot.join(Dt.dirname,"".concat(kt,"1").concat(zt).concat(_t)),St)})}}},{key:"_createLogDirIfNotExist",value:function(zt){ft.existsSync(zt)||ft.mkdirSync(zt,{recursive:!0})}}])&&s(dt.prototype,bt),jt}(ct)}).call(this,o(12).setImmediate,o(4).Buffer)},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(Z,s){return(0,c.default)(d.default,Z,s)};var c=j(o(150)),d=j(o(154));function j(Z){return Z&&Z.__esModule?Z:{default:Z}}e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=Z(o(41)),d=Z(o(23)),j=Z(o(27));function Z(s){return s&&s.__esModule?s:{default:s}}i.default=(0,j.default)((s,$,et)=>{var ut=(0,c.default)($)?[]:{};s($,(gt,lt,ft)=>{(0,d.default)(gt)((ot,...yt)=>{yt.length<2&&([yt]=yt),ut[lt]=yt,ft(ot)})},gt=>et(gt,ut))},3),e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(et){return(0,j.isAsync)(et)?function(...ut){const gt=ut.pop();return s(et.apply(this,ut),gt)}:(0,c.default)(function(ut,gt){var lt;try{lt=et.apply(this,ut)}catch(ft){return gt(ft)}if(lt&&typeof lt.then=="function")return s(lt,gt);gt(null,lt)})};var c=Z(o(152)),d=Z(o(153)),j=o(23);function Z(et){return et&&et.__esModule?et:{default:et}}function s(et,ut){return et.then(gt=>{$(ut,null,gt)},gt=>{$(ut,gt&&gt.message?gt:new Error(gt))})}function $(et,ut,gt){try{et(ut,gt)}catch(lt){(0,d.default)(ft=>{throw ft},lt)}}e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return function(...d){var j=d.pop();return c.call(this,d,j)}},e.exports=i.default},function(e,i,o){(function(c,d){Object.defineProperty(i,"__esModule",{value:!0}),i.fallback=$,i.wrap=et;var j,Z=i.hasSetImmediate=typeof c=="function"&&c,s=i.hasNextTick=typeof d=="object"&&typeof d.nextTick=="function";function $(ut){setTimeout(ut,0)}function et(ut){return(gt,...lt)=>ut(()=>gt(...lt))}j=Z?c:s?d.nextTick:$,i.default=et(j)}).call(this,o(12).setImmediate,o(2))},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=j(o(64)),d=j(o(27));function j(Z){return Z&&Z.__esModule?Z:{default:Z}}i.default=(0,d.default)(function(Z,s,$){return(0,c.default)(Z,1,s,$)},3),e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=et(o(65)),d=et(o(156)),j=et(o(66)),Z=o(23),s=et(o(158)),$=et(o(42));function et(ut){return ut&&ut.__esModule?ut:{default:ut}}i.default=ut=>(gt,lt,ft)=>{if(ft=(0,c.default)(ft),ut<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!gt)return ft(null);if((0,Z.isAsyncGenerator)(gt))return(0,s.default)(gt,ut,lt,ft);if((0,Z.isAsyncIterable)(gt))return(0,s.default)(gt[Symbol.asyncIterator](),ut,lt,ft);var ot=(0,d.default)(gt),yt=!1,wt=!1,Rt=0,Mt=!1;function Tt(ct,Lt){if(!wt)if(Rt-=1,ct)yt=!0,ft(ct);else if(ct===!1)yt=!0,wt=!0;else{if(Lt===$.default||yt&&Rt<=0)return yt=!0,ft(null);Mt||Ct()}}function Ct(){for(Mt=!0;Rt<ut&&!yt;){var ct=ot();if(ct===null)return yt=!0,void(Rt<=0&&ft(null));Rt+=1,lt(ct.value,ct.key,(0,j.default)(Tt))}Mt=!1}Ct()},e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(Z){if((0,c.default)(Z))return function(lt){var ft=-1,ot=lt.length;return function(){return++ft<ot?{value:lt[ft],key:ft}:null}}(Z);var s=(0,d.default)(Z);return s?function(lt){var ft=-1;return function(){var ot=lt.next();return ot.done?null:(ft++,{value:ot.value,key:ft})}}(s):($=Z,et=$?Object.keys($):[],ut=-1,gt=et.length,function(){var lt=et[++ut];return ut<gt?{value:$[lt],key:lt}:null});var $,et,ut,gt};var c=j(o(41)),d=j(o(157));function j(Z){return Z&&Z.__esModule?Z:{default:Z}}e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return c[Symbol.iterator]&&c[Symbol.iterator]()},e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(Z,s,$,et){let ut=!1,gt=!1,lt=!1,ft=0,ot=0;function yt(){ft>=s||lt||ut||(lt=!0,Z.next().then(({value:Mt,done:Tt})=>{if(!gt&&!ut){if(lt=!1,Tt)return ut=!0,void(ft<=0&&et(null));ft++,$(Mt,ot,wt),ot++,yt()}}).catch(Rt))}function wt(Mt,Tt){if(ft-=1,!gt)return Mt?Rt(Mt):Mt===!1?(ut=!0,void(gt=!0)):Tt===j.default||ut&&ft<=0?(ut=!0,et(null)):void yt()}function Rt(Mt){gt||(lt=!1,ut=!0,et(Mt))}yt()};var c,d=o(42),j=(c=d)&&c.__esModule?c:{default:c};e.exports=i.default},function(e,i,o){(function(c){var d=o(4).Buffer,j=o(160).Transform,Z=o(168),s=o(10),$=o(72).ok,et=o(4).kMaxLength,ut="Cannot create final Buffer. It would be larger than 0x"+et.toString(16)+" bytes";Z.Z_MIN_WINDOWBITS=8,Z.Z_MAX_WINDOWBITS=15,Z.Z_DEFAULT_WINDOWBITS=15,Z.Z_MIN_CHUNK=64,Z.Z_MAX_CHUNK=1/0,Z.Z_DEFAULT_CHUNK=16384,Z.Z_MIN_MEMLEVEL=1,Z.Z_MAX_MEMLEVEL=9,Z.Z_DEFAULT_MEMLEVEL=8,Z.Z_MIN_LEVEL=-1,Z.Z_MAX_LEVEL=9,Z.Z_DEFAULT_LEVEL=Z.Z_DEFAULT_COMPRESSION;for(var gt=Object.keys(Z),lt=0;lt<gt.length;lt++){var ft=gt[lt];ft.match(/^Z/)&&Object.defineProperty(i,ft,{enumerable:!0,value:Z[ft],writable:!1})}for(var ot={Z_OK:Z.Z_OK,Z_STREAM_END:Z.Z_STREAM_END,Z_NEED_DICT:Z.Z_NEED_DICT,Z_ERRNO:Z.Z_ERRNO,Z_STREAM_ERROR:Z.Z_STREAM_ERROR,Z_DATA_ERROR:Z.Z_DATA_ERROR,Z_MEM_ERROR:Z.Z_MEM_ERROR,Z_BUF_ERROR:Z.Z_BUF_ERROR,Z_VERSION_ERROR:Z.Z_VERSION_ERROR},yt=Object.keys(ot),wt=0;wt<yt.length;wt++){var Rt=yt[wt];ot[ot[Rt]]=Rt}function Mt(kt,St,Dt){var Nt=[],_t=0;function at(){for(var Vt;(Vt=kt.read())!==null;)Nt.push(Vt),_t+=Vt.length;kt.once("readable",at)}function Bt(){var Vt,Qt=null;_t>=et?Qt=new RangeError(ut):Vt=d.concat(Nt,_t),Nt=[],kt.close(),Dt(Qt,Vt)}kt.on("error",function(Vt){kt.removeListener("end",Bt),kt.removeListener("readable",at),Dt(Vt)}),kt.on("end",Bt),kt.end(St),at()}function Tt(kt,St){if(typeof St=="string"&&(St=d.from(St)),!d.isBuffer(St))throw new TypeError("Not a string or buffer");var Dt=kt._finishFlushFlag;return kt._processChunk(St,Dt)}function Ct(kt){if(!(this instanceof Ct))return new Ct(kt);mt.call(this,kt,Z.DEFLATE)}function ct(kt){if(!(this instanceof ct))return new ct(kt);mt.call(this,kt,Z.INFLATE)}function Lt(kt){if(!(this instanceof Lt))return new Lt(kt);mt.call(this,kt,Z.GZIP)}function Kt(kt){if(!(this instanceof Kt))return new Kt(kt);mt.call(this,kt,Z.GUNZIP)}function Yt(kt){if(!(this instanceof Yt))return new Yt(kt);mt.call(this,kt,Z.DEFLATERAW)}function pt(kt){if(!(this instanceof pt))return new pt(kt);mt.call(this,kt,Z.INFLATERAW)}function dt(kt){if(!(this instanceof dt))return new dt(kt);mt.call(this,kt,Z.UNZIP)}function bt(kt){return kt===Z.Z_NO_FLUSH||kt===Z.Z_PARTIAL_FLUSH||kt===Z.Z_SYNC_FLUSH||kt===Z.Z_FULL_FLUSH||kt===Z.Z_FINISH||kt===Z.Z_BLOCK}function mt(kt,St){var Dt=this;if(this._opts=kt=kt||{},this._chunkSize=kt.chunkSize||i.Z_DEFAULT_CHUNK,j.call(this,kt),kt.flush&&!bt(kt.flush))throw new Error("Invalid flush flag: "+kt.flush);if(kt.finishFlush&&!bt(kt.finishFlush))throw new Error("Invalid flush flag: "+kt.finishFlush);if(this._flushFlag=kt.flush||Z.Z_NO_FLUSH,this._finishFlushFlag=kt.finishFlush!==void 0?kt.finishFlush:Z.Z_FINISH,kt.chunkSize&&(kt.chunkSize<i.Z_MIN_CHUNK||kt.chunkSize>i.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+kt.chunkSize);if(kt.windowBits&&(kt.windowBits<i.Z_MIN_WINDOWBITS||kt.windowBits>i.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+kt.windowBits);if(kt.level&&(kt.level<i.Z_MIN_LEVEL||kt.level>i.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+kt.level);if(kt.memLevel&&(kt.memLevel<i.Z_MIN_MEMLEVEL||kt.memLevel>i.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+kt.memLevel);if(kt.strategy&&kt.strategy!=i.Z_FILTERED&&kt.strategy!=i.Z_HUFFMAN_ONLY&&kt.strategy!=i.Z_RLE&&kt.strategy!=i.Z_FIXED&&kt.strategy!=i.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+kt.strategy);if(kt.dictionary&&!d.isBuffer(kt.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new Z.Zlib(St);var Nt=this;this._hadError=!1,this._handle.onerror=function(Bt,Vt){jt(Nt),Nt._hadError=!0;var Qt=new Error(Bt);Qt.errno=Vt,Qt.code=i.codes[Vt],Nt.emit("error",Qt)};var _t=i.Z_DEFAULT_COMPRESSION;typeof kt.level=="number"&&(_t=kt.level);var at=i.Z_DEFAULT_STRATEGY;typeof kt.strategy=="number"&&(at=kt.strategy),this._handle.init(kt.windowBits||i.Z_DEFAULT_WINDOWBITS,_t,kt.memLevel||i.Z_DEFAULT_MEMLEVEL,at,kt.dictionary),this._buffer=d.allocUnsafe(this._chunkSize),this._offset=0,this._level=_t,this._strategy=at,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!Dt._handle},configurable:!0,enumerable:!0})}function jt(kt,St){St&&c.nextTick(St),kt._handle&&(kt._handle.close(),kt._handle=null)}function zt(kt){kt.emit("close")}Object.defineProperty(i,"codes",{enumerable:!0,value:Object.freeze(ot),writable:!1}),i.Deflate=Ct,i.Inflate=ct,i.Gzip=Lt,i.Gunzip=Kt,i.DeflateRaw=Yt,i.InflateRaw=pt,i.Unzip=dt,i.createDeflate=function(kt){return new Ct(kt)},i.createInflate=function(kt){return new ct(kt)},i.createDeflateRaw=function(kt){return new Yt(kt)},i.createInflateRaw=function(kt){return new pt(kt)},i.createGzip=function(kt){return new Lt(kt)},i.createGunzip=function(kt){return new Kt(kt)},i.createUnzip=function(kt){return new dt(kt)},i.deflate=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new Ct(St),kt,Dt)},i.deflateSync=function(kt,St){return Tt(new Ct(St),kt)},i.gzip=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new Lt(St),kt,Dt)},i.gzipSync=function(kt,St){return Tt(new Lt(St),kt)},i.deflateRaw=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new Yt(St),kt,Dt)},i.deflateRawSync=function(kt,St){return Tt(new Yt(St),kt)},i.unzip=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new dt(St),kt,Dt)},i.unzipSync=function(kt,St){return Tt(new dt(St),kt)},i.inflate=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new ct(St),kt,Dt)},i.inflateSync=function(kt,St){return Tt(new ct(St),kt)},i.gunzip=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new Kt(St),kt,Dt)},i.gunzipSync=function(kt,St){return Tt(new Kt(St),kt)},i.inflateRaw=function(kt,St,Dt){return typeof St=="function"&&(Dt=St,St={}),Mt(new pt(St),kt,Dt)},i.inflateRawSync=function(kt,St){return Tt(new pt(St),kt)},s.inherits(mt,j),mt.prototype.params=function(kt,St,Dt){if(kt<i.Z_MIN_LEVEL||kt>i.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+kt);if(St!=i.Z_FILTERED&&St!=i.Z_HUFFMAN_ONLY&&St!=i.Z_RLE&&St!=i.Z_FIXED&&St!=i.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+St);if(this._level!==kt||this._strategy!==St){var Nt=this;this.flush(Z.Z_SYNC_FLUSH,function(){$(Nt._handle,"zlib binding closed"),Nt._handle.params(kt,St),Nt._hadError||(Nt._level=kt,Nt._strategy=St,Dt&&Dt())})}else c.nextTick(Dt)},mt.prototype.reset=function(){return $(this._handle,"zlib binding closed"),this._handle.reset()},mt.prototype._flush=function(kt){this._transform(d.alloc(0),"",kt)},mt.prototype.flush=function(kt,St){var Dt=this,Nt=this._writableState;(typeof kt=="function"||kt===void 0&&!St)&&(St=kt,kt=Z.Z_FULL_FLUSH),Nt.ended?St&&c.nextTick(St):Nt.ending?St&&this.once("end",St):Nt.needDrain?St&&this.once("drain",function(){return Dt.flush(kt,St)}):(this._flushFlag=kt,this.write(d.alloc(0),"",St))},mt.prototype.close=function(kt){jt(this,kt),c.nextTick(zt,this)},mt.prototype._transform=function(kt,St,Dt){var Nt,_t=this._writableState,at=(_t.ending||_t.ended)&&(!kt||_t.length===kt.length);return kt===null||d.isBuffer(kt)?this._handle?(at?Nt=this._finishFlushFlag:(Nt=this._flushFlag,kt.length>=_t.length&&(this._flushFlag=this._opts.flush||Z.Z_NO_FLUSH)),void this._processChunk(kt,Nt,Dt)):Dt(new Error("zlib binding closed")):Dt(new Error("invalid input"))},mt.prototype._processChunk=function(kt,St,Dt){var Nt=kt&&kt.length,_t=this._chunkSize-this._offset,at=0,Bt=this,Vt=typeof Dt=="function";if(!Vt){var Qt,or=[],ar=0;this.on("error",function(It){Qt=It}),$(this._handle,"zlib binding closed");do var qt=this._handle.writeSync(St,kt,at,Nt,this._buffer,this._offset,_t);while(!this._hadError&&At(qt[0],qt[1]));if(this._hadError)throw Qt;if(ar>=et)throw jt(this),new RangeError(ut);var Gt=d.concat(or,ar);return jt(this),Gt}$(this._handle,"zlib binding closed");var vt=this._handle.write(St,kt,at,Nt,this._buffer,this._offset,_t);function At(It,Ht){if(this&&(this.buffer=null,this.callback=null),!Bt._hadError){var Zt=_t-Ht;if($(Zt>=0,"have should not go down"),Zt>0){var rr=Bt._buffer.slice(Bt._offset,Bt._offset+Zt);Bt._offset+=Zt,Vt?Bt.push(rr):(or.push(rr),ar+=rr.length)}if((Ht===0||Bt._offset>=Bt._chunkSize)&&(_t=Bt._chunkSize,Bt._offset=0,Bt._buffer=d.allocUnsafe(Bt._chunkSize)),Ht===0){if(at+=Nt-It,Nt=It,!Vt)return!0;var pr=Bt._handle.write(St,kt,at,Nt,Bt._buffer,Bt._offset,Bt._chunkSize);return pr.callback=At,void(pr.buffer=kt)}if(!Vt)return!1;Dt()}}vt.buffer=kt,vt.callback=At},s.inherits(Ct,mt),s.inherits(ct,mt),s.inherits(Lt,mt),s.inherits(Kt,mt),s.inherits(Yt,mt),s.inherits(pt,mt),s.inherits(dt,mt)}).call(this,o(2))},function(e,i,o){e.exports=d;var c=o(18).EventEmitter;function d(){c.call(this)}o(6)(d,c),d.Readable=o(28),d.Writable=o(71),d.Duplex=o(165),d.Transform=o(166),d.PassThrough=o(167),d.Stream=d,d.prototype.pipe=function(j,Z){var s=this;function $(yt){j.writable&&j.write(yt)===!1&&s.pause&&s.pause()}function et(){s.readable&&s.resume&&s.resume()}s.on("data",$),j.on("drain",et),j._isStdio||Z&&Z.end===!1||(s.on("end",gt),s.on("close",lt));var ut=!1;function gt(){ut||(ut=!0,j.end())}function lt(){ut||(ut=!0,typeof j.destroy=="function"&&j.destroy())}function ft(yt){if(ot(),c.listenerCount(this,"error")===0)throw yt}function ot(){s.removeListener("data",$),j.removeListener("drain",et),s.removeListener("end",gt),s.removeListener("close",lt),s.removeListener("error",ft),j.removeListener("error",ft),s.removeListener("end",ot),s.removeListener("close",ot),j.removeListener("close",ot)}return s.on("error",ft),j.on("error",ft),s.on("end",ot),s.on("close",ot),j.on("close",ot),j.emit("pipe",s),j}},function(e,i){},function(e,i,o){var c=o(43).Buffer,d=o(163);e.exports=function(){function j(){(function(Z,s){if(!(Z instanceof s))throw new TypeError("Cannot call a class as a function")})(this,j),this.head=null,this.tail=null,this.length=0}return j.prototype.push=function(Z){var s={data:Z,next:null};this.length>0?this.tail.next=s:this.head=s,this.tail=s,++this.length},j.prototype.unshift=function(Z){var s={data:Z,next:this.head};this.length===0&&(this.tail=s),this.head=s,++this.length},j.prototype.shift=function(){if(this.length!==0){var Z=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,Z}},j.prototype.clear=function(){this.head=this.tail=null,this.length=0},j.prototype.join=function(Z){if(this.length===0)return"";for(var s=this.head,$=""+s.data;s=s.next;)$+=Z+s.data;return $},j.prototype.concat=function(Z){if(this.length===0)return c.alloc(0);if(this.length===1)return this.head.data;for(var s,$,et,ut=c.allocUnsafe(Z>>>0),gt=this.head,lt=0;gt;)s=gt.data,$=ut,et=lt,s.copy($,et),lt+=gt.data.length,gt=gt.next;return ut},j}(),d&&d.inspect&&d.inspect.custom&&(e.exports.prototype[d.inspect.custom]=function(){var j=d.inspect({length:this.length});return this.constructor.name+" "+j})},function(e,i){},function(e,i,o){e.exports=j;var c=o(70),d=o(14);function j(Z){if(!(this instanceof j))return new j(Z);c.call(this,Z)}d.inherits=o(6),d.inherits(j,c),j.prototype._transform=function(Z,s,$){$(null,Z)}},function(e,i,o){e.exports=o(20)},function(e,i,o){e.exports=o(28).Transform},function(e,i,o){e.exports=o(28).PassThrough},function(e,i,o){(function(c,d){var j=o(72),Z=o(170),s=o(171),$=o(174),et=o(177);for(var ut in et)i[ut]=et[ut];i.NONE=0,i.DEFLATE=1,i.INFLATE=2,i.GZIP=3,i.GUNZIP=4,i.DEFLATERAW=5,i.INFLATERAW=6,i.UNZIP=7;function gt(lt){if(typeof lt!="number"||lt<i.DEFLATE||lt>i.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=lt,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}gt.prototype.close=function(){this.write_in_progress?this.pending_close=!0:(this.pending_close=!1,j(this.init_done,"close before init"),j(this.mode<=i.UNZIP),this.mode===i.DEFLATE||this.mode===i.GZIP||this.mode===i.DEFLATERAW?s.deflateEnd(this.strm):this.mode!==i.INFLATE&&this.mode!==i.GUNZIP&&this.mode!==i.INFLATERAW&&this.mode!==i.UNZIP||$.inflateEnd(this.strm),this.mode=i.NONE,this.dictionary=null)},gt.prototype.write=function(lt,ft,ot,yt,wt,Rt,Mt){return this._write(!0,lt,ft,ot,yt,wt,Rt,Mt)},gt.prototype.writeSync=function(lt,ft,ot,yt,wt,Rt,Mt){return this._write(!1,lt,ft,ot,yt,wt,Rt,Mt)},gt.prototype._write=function(lt,ft,ot,yt,wt,Rt,Mt,Tt){if(j.equal(arguments.length,8),j(this.init_done,"write before init"),j(this.mode!==i.NONE,"already finalized"),j.equal(!1,this.write_in_progress,"write already in progress"),j.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,j.equal(!1,ft===void 0,"must provide flush value"),this.write_in_progress=!0,ft!==i.Z_NO_FLUSH&&ft!==i.Z_PARTIAL_FLUSH&&ft!==i.Z_SYNC_FLUSH&&ft!==i.Z_FULL_FLUSH&&ft!==i.Z_FINISH&&ft!==i.Z_BLOCK)throw new Error("Invalid flush value");if(ot==null&&(ot=c.alloc(0),wt=0,yt=0),this.strm.avail_in=wt,this.strm.input=ot,this.strm.next_in=yt,this.strm.avail_out=Tt,this.strm.output=Rt,this.strm.next_out=Mt,this.flush=ft,!lt)return this._process(),this._checkError()?this._afterSync():void 0;var Ct=this;return d.nextTick(function(){Ct._process(),Ct._after()}),this},gt.prototype._afterSync=function(){var lt=this.strm.avail_out,ft=this.strm.avail_in;return this.write_in_progress=!1,[ft,lt]},gt.prototype._process=function(){var lt=null;switch(this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:this.err=s.deflate(this.strm,this.flush);break;case i.UNZIP:switch(this.strm.avail_in>0&&(lt=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(lt===null)break;if(this.strm.input[lt]!==31){this.mode=i.INFLATE;break}if(this.gzip_id_bytes_read=1,lt++,this.strm.avail_in===1)break;case 1:if(lt===null)break;this.strm.input[lt]===139?(this.gzip_id_bytes_read=2,this.mode=i.GUNZIP):this.mode=i.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:for(this.err=$.inflate(this.strm,this.flush),this.err===i.Z_NEED_DICT&&this.dictionary&&(this.err=$.inflateSetDictionary(this.strm,this.dictionary),this.err===i.Z_OK?this.err=$.inflate(this.strm,this.flush):this.err===i.Z_DATA_ERROR&&(this.err=i.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===i.GUNZIP&&this.err===i.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=$.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},gt.prototype._checkError=function(){switch(this.err){case i.Z_OK:case i.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===i.Z_FINISH)return this._error("unexpected end of file"),!1;break;case i.Z_STREAM_END:break;case i.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},gt.prototype._after=function(){if(this._checkError()){var lt=this.strm.avail_out,ft=this.strm.avail_in;this.write_in_progress=!1,this.callback(ft,lt),this.pending_close&&this.close()}},gt.prototype._error=function(lt){this.strm.msg&&(lt=this.strm.msg),this.onerror(lt,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},gt.prototype.init=function(lt,ft,ot,yt,wt){j(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),j(lt>=8&&lt<=15,"invalid windowBits"),j(ft>=-1&&ft<=9,"invalid compression level"),j(ot>=1&&ot<=9,"invalid memlevel"),j(yt===i.Z_FILTERED||yt===i.Z_HUFFMAN_ONLY||yt===i.Z_RLE||yt===i.Z_FIXED||yt===i.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(ft,lt,ot,yt,wt),this._setDictionary()},gt.prototype.params=function(){throw new Error("deflateParams Not supported")},gt.prototype.reset=function(){this._reset(),this._setDictionary()},gt.prototype._init=function(lt,ft,ot,yt,wt){switch(this.level=lt,this.windowBits=ft,this.memLevel=ot,this.strategy=yt,this.flush=i.Z_NO_FLUSH,this.err=i.Z_OK,this.mode!==i.GZIP&&this.mode!==i.GUNZIP||(this.windowBits+=16),this.mode===i.UNZIP&&(this.windowBits+=32),this.mode!==i.DEFLATERAW&&this.mode!==i.INFLATERAW||(this.windowBits=-1*this.windowBits),this.strm=new Z,this.mode){case i.DEFLATE:case i.GZIP:case i.DEFLATERAW:this.err=s.deflateInit2(this.strm,this.level,i.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case i.INFLATE:case i.GUNZIP:case i.INFLATERAW:case i.UNZIP:this.err=$.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==i.Z_OK&&this._error("Init error"),this.dictionary=wt,this.write_in_progress=!1,this.init_done=!0},gt.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=i.Z_OK,this.mode){case i.DEFLATE:case i.DEFLATERAW:this.err=s.deflateSetDictionary(this.strm,this.dictionary)}this.err!==i.Z_OK&&this._error("Failed to set dictionary")}},gt.prototype._reset=function(){switch(this.err=i.Z_OK,this.mode){case i.DEFLATE:case i.DEFLATERAW:case i.GZIP:this.err=s.deflateReset(this.strm);break;case i.INFLATE:case i.INFLATERAW:case i.GUNZIP:this.err=$.inflateReset(this.strm)}this.err!==i.Z_OK&&this._error("Failed to reset stream")},i.Zlib=gt}).call(this,o(4).Buffer,o(2))},function(e,i,o){var c=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;function Z(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}e.exports=function(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var $={},et=0;et<10;et++)$["_"+String.fromCharCode(et)]=et;if(Object.getOwnPropertyNames($).map(function(gt){return $[gt]}).join("")!=="0123456789")return!1;var ut={};return"abcdefghijklmnopqrst".split("").forEach(function(gt){ut[gt]=gt}),Object.keys(Object.assign({},ut)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(s,$){for(var et,ut,gt=Z(s),lt=1;lt<arguments.length;lt++){for(var ft in et=Object(arguments[lt]))d.call(et,ft)&&(gt[ft]=et[ft]);if(c){ut=c(et);for(var ot=0;ot<ut.length;ot++)j.call(et,ut[ot])&&(gt[ut[ot]]=et[ut[ot]])}}return gt}},function(e,i,o){e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,i,o){var c,d=o(33),j=o(172),Z=o(73),s=o(74),$=o(173);function et(pt,dt){return pt.msg=$[dt],dt}function ut(pt){return(pt<<1)-(pt>4?9:0)}function gt(pt){for(var dt=pt.length;--dt>=0;)pt[dt]=0}function lt(pt){var dt=pt.state,bt=dt.pending;bt>pt.avail_out&&(bt=pt.avail_out),bt!==0&&(d.arraySet(pt.output,dt.pending_buf,dt.pending_out,bt,pt.next_out),pt.next_out+=bt,dt.pending_out+=bt,pt.total_out+=bt,pt.avail_out-=bt,dt.pending-=bt,dt.pending===0&&(dt.pending_out=0))}function ft(pt,dt){j._tr_flush_block(pt,pt.block_start>=0?pt.block_start:-1,pt.strstart-pt.block_start,dt),pt.block_start=pt.strstart,lt(pt.strm)}function ot(pt,dt){pt.pending_buf[pt.pending++]=dt}function yt(pt,dt){pt.pending_buf[pt.pending++]=dt>>>8&255,pt.pending_buf[pt.pending++]=255&dt}function wt(pt,dt){var bt,mt,jt=pt.max_chain_length,zt=pt.strstart,kt=pt.prev_length,St=pt.nice_match,Dt=pt.strstart>pt.w_size-262?pt.strstart-(pt.w_size-262):0,Nt=pt.window,_t=pt.w_mask,at=pt.prev,Bt=pt.strstart+258,Vt=Nt[zt+kt-1],Qt=Nt[zt+kt];pt.prev_length>=pt.good_match&&(jt>>=2),St>pt.lookahead&&(St=pt.lookahead);do if(Nt[(bt=dt)+kt]===Qt&&Nt[bt+kt-1]===Vt&&Nt[bt]===Nt[zt]&&Nt[++bt]===Nt[zt+1]){zt+=2,bt++;do;while(Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&Nt[++zt]===Nt[++bt]&&zt<Bt);if(mt=258-(Bt-zt),zt=Bt-258,mt>kt){if(pt.match_start=dt,kt=mt,mt>=St)break;Vt=Nt[zt+kt-1],Qt=Nt[zt+kt]}}while((dt=at[dt&_t])>Dt&&--jt!=0);return kt<=pt.lookahead?kt:pt.lookahead}function Rt(pt){var dt,bt,mt,jt,zt,kt,St,Dt,Nt,_t,at=pt.w_size;do{if(jt=pt.window_size-pt.lookahead-pt.strstart,pt.strstart>=at+(at-262)){d.arraySet(pt.window,pt.window,at,at,0),pt.match_start-=at,pt.strstart-=at,pt.block_start-=at,dt=bt=pt.hash_size;do mt=pt.head[--dt],pt.head[dt]=mt>=at?mt-at:0;while(--bt);dt=bt=at;do mt=pt.prev[--dt],pt.prev[dt]=mt>=at?mt-at:0;while(--bt);jt+=at}if(pt.strm.avail_in===0)break;if(kt=pt.strm,St=pt.window,Dt=pt.strstart+pt.lookahead,Nt=jt,_t=void 0,(_t=kt.avail_in)>Nt&&(_t=Nt),bt=_t===0?0:(kt.avail_in-=_t,d.arraySet(St,kt.input,kt.next_in,_t,Dt),kt.state.wrap===1?kt.adler=Z(kt.adler,St,_t,Dt):kt.state.wrap===2&&(kt.adler=s(kt.adler,St,_t,Dt)),kt.next_in+=_t,kt.total_in+=_t,_t),pt.lookahead+=bt,pt.lookahead+pt.insert>=3)for(zt=pt.strstart-pt.insert,pt.ins_h=pt.window[zt],pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[zt+1])&pt.hash_mask;pt.insert&&(pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[zt+3-1])&pt.hash_mask,pt.prev[zt&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=zt,zt++,pt.insert--,!(pt.lookahead+pt.insert<3)););}while(pt.lookahead<262&&pt.strm.avail_in!==0)}function Mt(pt,dt){for(var bt,mt;;){if(pt.lookahead<262){if(Rt(pt),pt.lookahead<262&&dt===0)return 1;if(pt.lookahead===0)break}if(bt=0,pt.lookahead>=3&&(pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+3-1])&pt.hash_mask,bt=pt.prev[pt.strstart&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=pt.strstart),bt!==0&&pt.strstart-bt<=pt.w_size-262&&(pt.match_length=wt(pt,bt)),pt.match_length>=3)if(mt=j._tr_tally(pt,pt.strstart-pt.match_start,pt.match_length-3),pt.lookahead-=pt.match_length,pt.match_length<=pt.max_lazy_match&&pt.lookahead>=3){pt.match_length--;do pt.strstart++,pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+3-1])&pt.hash_mask,bt=pt.prev[pt.strstart&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=pt.strstart;while(--pt.match_length!=0);pt.strstart++}else pt.strstart+=pt.match_length,pt.match_length=0,pt.ins_h=pt.window[pt.strstart],pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+1])&pt.hash_mask;else mt=j._tr_tally(pt,0,pt.window[pt.strstart]),pt.lookahead--,pt.strstart++;if(mt&&(ft(pt,!1),pt.strm.avail_out===0))return 1}return pt.insert=pt.strstart<2?pt.strstart:2,dt===4?(ft(pt,!0),pt.strm.avail_out===0?3:4):pt.last_lit&&(ft(pt,!1),pt.strm.avail_out===0)?1:2}function Tt(pt,dt){for(var bt,mt,jt;;){if(pt.lookahead<262){if(Rt(pt),pt.lookahead<262&&dt===0)return 1;if(pt.lookahead===0)break}if(bt=0,pt.lookahead>=3&&(pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+3-1])&pt.hash_mask,bt=pt.prev[pt.strstart&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=pt.strstart),pt.prev_length=pt.match_length,pt.prev_match=pt.match_start,pt.match_length=2,bt!==0&&pt.prev_length<pt.max_lazy_match&&pt.strstart-bt<=pt.w_size-262&&(pt.match_length=wt(pt,bt),pt.match_length<=5&&(pt.strategy===1||pt.match_length===3&&pt.strstart-pt.match_start>4096)&&(pt.match_length=2)),pt.prev_length>=3&&pt.match_length<=pt.prev_length){jt=pt.strstart+pt.lookahead-3,mt=j._tr_tally(pt,pt.strstart-1-pt.prev_match,pt.prev_length-3),pt.lookahead-=pt.prev_length-1,pt.prev_length-=2;do++pt.strstart<=jt&&(pt.ins_h=(pt.ins_h<<pt.hash_shift^pt.window[pt.strstart+3-1])&pt.hash_mask,bt=pt.prev[pt.strstart&pt.w_mask]=pt.head[pt.ins_h],pt.head[pt.ins_h]=pt.strstart);while(--pt.prev_length!=0);if(pt.match_available=0,pt.match_length=2,pt.strstart++,mt&&(ft(pt,!1),pt.strm.avail_out===0))return 1}else if(pt.match_available){if((mt=j._tr_tally(pt,0,pt.window[pt.strstart-1]))&&ft(pt,!1),pt.strstart++,pt.lookahead--,pt.strm.avail_out===0)return 1}else pt.match_available=1,pt.strstart++,pt.lookahead--}return pt.match_available&&(mt=j._tr_tally(pt,0,pt.window[pt.strstart-1]),pt.match_available=0),pt.insert=pt.strstart<2?pt.strstart:2,dt===4?(ft(pt,!0),pt.strm.avail_out===0?3:4):pt.last_lit&&(ft(pt,!1),pt.strm.avail_out===0)?1:2}function Ct(pt,dt,bt,mt,jt){this.good_length=pt,this.max_lazy=dt,this.nice_length=bt,this.max_chain=mt,this.func=jt}function ct(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new d.Buf16(1146),this.dyn_dtree=new d.Buf16(122),this.bl_tree=new d.Buf16(78),gt(this.dyn_ltree),gt(this.dyn_dtree),gt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new d.Buf16(16),this.heap=new d.Buf16(573),gt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new d.Buf16(573),gt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Lt(pt){var dt;return pt&&pt.state?(pt.total_in=pt.total_out=0,pt.data_type=2,(dt=pt.state).pending=0,dt.pending_out=0,dt.wrap<0&&(dt.wrap=-dt.wrap),dt.status=dt.wrap?42:113,pt.adler=dt.wrap===2?0:1,dt.last_flush=0,j._tr_init(dt),0):et(pt,-2)}function Kt(pt){var dt,bt=Lt(pt);return bt===0&&((dt=pt.state).window_size=2*dt.w_size,gt(dt.head),dt.max_lazy_match=c[dt.level].max_lazy,dt.good_match=c[dt.level].good_length,dt.nice_match=c[dt.level].nice_length,dt.max_chain_length=c[dt.level].max_chain,dt.strstart=0,dt.block_start=0,dt.lookahead=0,dt.insert=0,dt.match_length=dt.prev_length=2,dt.match_available=0,dt.ins_h=0),bt}function Yt(pt,dt,bt,mt,jt,zt){if(!pt)return-2;var kt=1;if(dt===-1&&(dt=6),mt<0?(kt=0,mt=-mt):mt>15&&(kt=2,mt-=16),jt<1||jt>9||bt!==8||mt<8||mt>15||dt<0||dt>9||zt<0||zt>4)return et(pt,-2);mt===8&&(mt=9);var St=new ct;return pt.state=St,St.strm=pt,St.wrap=kt,St.gzhead=null,St.w_bits=mt,St.w_size=1<<St.w_bits,St.w_mask=St.w_size-1,St.hash_bits=jt+7,St.hash_size=1<<St.hash_bits,St.hash_mask=St.hash_size-1,St.hash_shift=~~((St.hash_bits+3-1)/3),St.window=new d.Buf8(2*St.w_size),St.head=new d.Buf16(St.hash_size),St.prev=new d.Buf16(St.w_size),St.lit_bufsize=1<<jt+6,St.pending_buf_size=4*St.lit_bufsize,St.pending_buf=new d.Buf8(St.pending_buf_size),St.d_buf=1*St.lit_bufsize,St.l_buf=3*St.lit_bufsize,St.level=dt,St.strategy=zt,St.method=bt,Kt(pt)}c=[new Ct(0,0,0,0,function(pt,dt){var bt=65535;for(bt>pt.pending_buf_size-5&&(bt=pt.pending_buf_size-5);;){if(pt.lookahead<=1){if(Rt(pt),pt.lookahead===0&&dt===0)return 1;if(pt.lookahead===0)break}pt.strstart+=pt.lookahead,pt.lookahead=0;var mt=pt.block_start+bt;if((pt.strstart===0||pt.strstart>=mt)&&(pt.lookahead=pt.strstart-mt,pt.strstart=mt,ft(pt,!1),pt.strm.avail_out===0)||pt.strstart-pt.block_start>=pt.w_size-262&&(ft(pt,!1),pt.strm.avail_out===0))return 1}return pt.insert=0,dt===4?(ft(pt,!0),pt.strm.avail_out===0?3:4):(pt.strstart>pt.block_start&&(ft(pt,!1),pt.strm.avail_out),1)}),new Ct(4,4,8,4,Mt),new Ct(4,5,16,8,Mt),new Ct(4,6,32,32,Mt),new Ct(4,4,16,16,Tt),new Ct(8,16,32,32,Tt),new Ct(8,16,128,128,Tt),new Ct(8,32,128,256,Tt),new Ct(32,128,258,1024,Tt),new Ct(32,258,258,4096,Tt)],i.deflateInit=function(pt,dt){return Yt(pt,dt,8,15,8,0)},i.deflateInit2=Yt,i.deflateReset=Kt,i.deflateResetKeep=Lt,i.deflateSetHeader=function(pt,dt){return pt&&pt.state?pt.state.wrap!==2?-2:(pt.state.gzhead=dt,0):-2},i.deflate=function(pt,dt){var bt,mt,jt,zt;if(!pt||!pt.state||dt>5||dt<0)return pt?et(pt,-2):-2;if(mt=pt.state,!pt.output||!pt.input&&pt.avail_in!==0||mt.status===666&&dt!==4)return et(pt,pt.avail_out===0?-5:-2);if(mt.strm=pt,bt=mt.last_flush,mt.last_flush=dt,mt.status===42)if(mt.wrap===2)pt.adler=0,ot(mt,31),ot(mt,139),ot(mt,8),mt.gzhead?(ot(mt,(mt.gzhead.text?1:0)+(mt.gzhead.hcrc?2:0)+(mt.gzhead.extra?4:0)+(mt.gzhead.name?8:0)+(mt.gzhead.comment?16:0)),ot(mt,255&mt.gzhead.time),ot(mt,mt.gzhead.time>>8&255),ot(mt,mt.gzhead.time>>16&255),ot(mt,mt.gzhead.time>>24&255),ot(mt,mt.level===9?2:mt.strategy>=2||mt.level<2?4:0),ot(mt,255&mt.gzhead.os),mt.gzhead.extra&&mt.gzhead.extra.length&&(ot(mt,255&mt.gzhead.extra.length),ot(mt,mt.gzhead.extra.length>>8&255)),mt.gzhead.hcrc&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending,0)),mt.gzindex=0,mt.status=69):(ot(mt,0),ot(mt,0),ot(mt,0),ot(mt,0),ot(mt,0),ot(mt,mt.level===9?2:mt.strategy>=2||mt.level<2?4:0),ot(mt,3),mt.status=113);else{var kt=8+(mt.w_bits-8<<4)<<8;kt|=(mt.strategy>=2||mt.level<2?0:mt.level<6?1:mt.level===6?2:3)<<6,mt.strstart!==0&&(kt|=32),kt+=31-kt%31,mt.status=113,yt(mt,kt),mt.strstart!==0&&(yt(mt,pt.adler>>>16),yt(mt,65535&pt.adler)),pt.adler=1}if(mt.status===69)if(mt.gzhead.extra){for(jt=mt.pending;mt.gzindex<(65535&mt.gzhead.extra.length)&&(mt.pending!==mt.pending_buf_size||(mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),lt(pt),jt=mt.pending,mt.pending!==mt.pending_buf_size));)ot(mt,255&mt.gzhead.extra[mt.gzindex]),mt.gzindex++;mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),mt.gzindex===mt.gzhead.extra.length&&(mt.gzindex=0,mt.status=73)}else mt.status=73;if(mt.status===73)if(mt.gzhead.name){jt=mt.pending;do{if(mt.pending===mt.pending_buf_size&&(mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),lt(pt),jt=mt.pending,mt.pending===mt.pending_buf_size)){zt=1;break}zt=mt.gzindex<mt.gzhead.name.length?255&mt.gzhead.name.charCodeAt(mt.gzindex++):0,ot(mt,zt)}while(zt!==0);mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),zt===0&&(mt.gzindex=0,mt.status=91)}else mt.status=91;if(mt.status===91)if(mt.gzhead.comment){jt=mt.pending;do{if(mt.pending===mt.pending_buf_size&&(mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),lt(pt),jt=mt.pending,mt.pending===mt.pending_buf_size)){zt=1;break}zt=mt.gzindex<mt.gzhead.comment.length?255&mt.gzhead.comment.charCodeAt(mt.gzindex++):0,ot(mt,zt)}while(zt!==0);mt.gzhead.hcrc&&mt.pending>jt&&(pt.adler=s(pt.adler,mt.pending_buf,mt.pending-jt,jt)),zt===0&&(mt.status=103)}else mt.status=103;if(mt.status===103&&(mt.gzhead.hcrc?(mt.pending+2>mt.pending_buf_size&&lt(pt),mt.pending+2<=mt.pending_buf_size&&(ot(mt,255&pt.adler),ot(mt,pt.adler>>8&255),pt.adler=0,mt.status=113)):mt.status=113),mt.pending!==0){if(lt(pt),pt.avail_out===0)return mt.last_flush=-1,0}else if(pt.avail_in===0&&ut(dt)<=ut(bt)&&dt!==4)return et(pt,-5);if(mt.status===666&&pt.avail_in!==0)return et(pt,-5);if(pt.avail_in!==0||mt.lookahead!==0||dt!==0&&mt.status!==666){var St=mt.strategy===2?function(Dt,Nt){for(var _t;;){if(Dt.lookahead===0&&(Rt(Dt),Dt.lookahead===0)){if(Nt===0)return 1;break}if(Dt.match_length=0,_t=j._tr_tally(Dt,0,Dt.window[Dt.strstart]),Dt.lookahead--,Dt.strstart++,_t&&(ft(Dt,!1),Dt.strm.avail_out===0))return 1}return Dt.insert=0,Nt===4?(ft(Dt,!0),Dt.strm.avail_out===0?3:4):Dt.last_lit&&(ft(Dt,!1),Dt.strm.avail_out===0)?1:2}(mt,dt):mt.strategy===3?function(Dt,Nt){for(var _t,at,Bt,Vt,Qt=Dt.window;;){if(Dt.lookahead<=258){if(Rt(Dt),Dt.lookahead<=258&&Nt===0)return 1;if(Dt.lookahead===0)break}if(Dt.match_length=0,Dt.lookahead>=3&&Dt.strstart>0&&(at=Qt[Bt=Dt.strstart-1])===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]){Vt=Dt.strstart+258;do;while(at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&at===Qt[++Bt]&&Bt<Vt);Dt.match_length=258-(Vt-Bt),Dt.match_length>Dt.lookahead&&(Dt.match_length=Dt.lookahead)}if(Dt.match_length>=3?(_t=j._tr_tally(Dt,1,Dt.match_length-3),Dt.lookahead-=Dt.match_length,Dt.strstart+=Dt.match_length,Dt.match_length=0):(_t=j._tr_tally(Dt,0,Dt.window[Dt.strstart]),Dt.lookahead--,Dt.strstart++),_t&&(ft(Dt,!1),Dt.strm.avail_out===0))return 1}return Dt.insert=0,Nt===4?(ft(Dt,!0),Dt.strm.avail_out===0?3:4):Dt.last_lit&&(ft(Dt,!1),Dt.strm.avail_out===0)?1:2}(mt,dt):c[mt.level].func(mt,dt);if(St!==3&&St!==4||(mt.status=666),St===1||St===3)return pt.avail_out===0&&(mt.last_flush=-1),0;if(St===2&&(dt===1?j._tr_align(mt):dt!==5&&(j._tr_stored_block(mt,0,0,!1),dt===3&&(gt(mt.head),mt.lookahead===0&&(mt.strstart=0,mt.block_start=0,mt.insert=0))),lt(pt),pt.avail_out===0))return mt.last_flush=-1,0}return dt!==4?0:mt.wrap<=0?1:(mt.wrap===2?(ot(mt,255&pt.adler),ot(mt,pt.adler>>8&255),ot(mt,pt.adler>>16&255),ot(mt,pt.adler>>24&255),ot(mt,255&pt.total_in),ot(mt,pt.total_in>>8&255),ot(mt,pt.total_in>>16&255),ot(mt,pt.total_in>>24&255)):(yt(mt,pt.adler>>>16),yt(mt,65535&pt.adler)),lt(pt),mt.wrap>0&&(mt.wrap=-mt.wrap),mt.pending!==0?0:1)},i.deflateEnd=function(pt){var dt;return pt&&pt.state?(dt=pt.state.status)!==42&&dt!==69&&dt!==73&&dt!==91&&dt!==103&&dt!==113&&dt!==666?et(pt,-2):(pt.state=null,dt===113?et(pt,-3):0):-2},i.deflateSetDictionary=function(pt,dt){var bt,mt,jt,zt,kt,St,Dt,Nt,_t=dt.length;if(!pt||!pt.state||(zt=(bt=pt.state).wrap)===2||zt===1&&bt.status!==42||bt.lookahead)return-2;for(zt===1&&(pt.adler=Z(pt.adler,dt,_t,0)),bt.wrap=0,_t>=bt.w_size&&(zt===0&&(gt(bt.head),bt.strstart=0,bt.block_start=0,bt.insert=0),Nt=new d.Buf8(bt.w_size),d.arraySet(Nt,dt,_t-bt.w_size,bt.w_size,0),dt=Nt,_t=bt.w_size),kt=pt.avail_in,St=pt.next_in,Dt=pt.input,pt.avail_in=_t,pt.next_in=0,pt.input=dt,Rt(bt);bt.lookahead>=3;){mt=bt.strstart,jt=bt.lookahead-2;do bt.ins_h=(bt.ins_h<<bt.hash_shift^bt.window[mt+3-1])&bt.hash_mask,bt.prev[mt&bt.w_mask]=bt.head[bt.ins_h],bt.head[bt.ins_h]=mt,mt++;while(--jt);bt.strstart=mt,bt.lookahead=2,Rt(bt)}return bt.strstart+=bt.lookahead,bt.block_start=bt.strstart,bt.insert=bt.lookahead,bt.lookahead=0,bt.match_length=bt.prev_length=2,bt.match_available=0,pt.next_in=St,pt.input=Dt,pt.avail_in=kt,bt.wrap=zt,0},i.deflateInfo="pako deflate (from Nodeca project)"},function(e,i,o){var c=o(33);function d(at){for(var Bt=at.length;--Bt>=0;)at[Bt]=0}var j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],$=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],et=new Array(576);d(et);var ut=new Array(60);d(ut);var gt=new Array(512);d(gt);var lt=new Array(256);d(lt);var ft=new Array(29);d(ft);var ot,yt,wt,Rt=new Array(30);function Mt(at,Bt,Vt,Qt,or){this.static_tree=at,this.extra_bits=Bt,this.extra_base=Vt,this.elems=Qt,this.max_length=or,this.has_stree=at&&at.length}function Tt(at,Bt){this.dyn_tree=at,this.max_code=0,this.stat_desc=Bt}function Ct(at){return at<256?gt[at]:gt[256+(at>>>7)]}function ct(at,Bt){at.pending_buf[at.pending++]=255&Bt,at.pending_buf[at.pending++]=Bt>>>8&255}function Lt(at,Bt,Vt){at.bi_valid>16-Vt?(at.bi_buf|=Bt<<at.bi_valid&65535,ct(at,at.bi_buf),at.bi_buf=Bt>>16-at.bi_valid,at.bi_valid+=Vt-16):(at.bi_buf|=Bt<<at.bi_valid&65535,at.bi_valid+=Vt)}function Kt(at,Bt,Vt){Lt(at,Vt[2*Bt],Vt[2*Bt+1])}function Yt(at,Bt){var Vt=0;do Vt|=1&at,at>>>=1,Vt<<=1;while(--Bt>0);return Vt>>>1}function pt(at,Bt,Vt){var Qt,or,ar=new Array(16),qt=0;for(Qt=1;Qt<=15;Qt++)ar[Qt]=qt=qt+Vt[Qt-1]<<1;for(or=0;or<=Bt;or++){var Gt=at[2*or+1];Gt!==0&&(at[2*or]=Yt(ar[Gt]++,Gt))}}function dt(at){var Bt;for(Bt=0;Bt<286;Bt++)at.dyn_ltree[2*Bt]=0;for(Bt=0;Bt<30;Bt++)at.dyn_dtree[2*Bt]=0;for(Bt=0;Bt<19;Bt++)at.bl_tree[2*Bt]=0;at.dyn_ltree[512]=1,at.opt_len=at.static_len=0,at.last_lit=at.matches=0}function bt(at){at.bi_valid>8?ct(at,at.bi_buf):at.bi_valid>0&&(at.pending_buf[at.pending++]=at.bi_buf),at.bi_buf=0,at.bi_valid=0}function mt(at,Bt,Vt,Qt){var or=2*Bt,ar=2*Vt;return at[or]<at[ar]||at[or]===at[ar]&&Qt[Bt]<=Qt[Vt]}function jt(at,Bt,Vt){for(var Qt=at.heap[Vt],or=Vt<<1;or<=at.heap_len&&(or<at.heap_len&&mt(Bt,at.heap[or+1],at.heap[or],at.depth)&&or++,!mt(Bt,Qt,at.heap[or],at.depth));)at.heap[Vt]=at.heap[or],Vt=or,or<<=1;at.heap[Vt]=Qt}function zt(at,Bt,Vt){var Qt,or,ar,qt,Gt=0;if(at.last_lit!==0)do Qt=at.pending_buf[at.d_buf+2*Gt]<<8|at.pending_buf[at.d_buf+2*Gt+1],or=at.pending_buf[at.l_buf+Gt],Gt++,Qt===0?Kt(at,or,Bt):(Kt(at,(ar=lt[or])+256+1,Bt),(qt=j[ar])!==0&&Lt(at,or-=ft[ar],qt),Kt(at,ar=Ct(--Qt),Vt),(qt=Z[ar])!==0&&Lt(at,Qt-=Rt[ar],qt));while(Gt<at.last_lit);Kt(at,256,Bt)}function kt(at,Bt){var Vt,Qt,or,ar=Bt.dyn_tree,qt=Bt.stat_desc.static_tree,Gt=Bt.stat_desc.has_stree,vt=Bt.stat_desc.elems,At=-1;for(at.heap_len=0,at.heap_max=573,Vt=0;Vt<vt;Vt++)ar[2*Vt]!==0?(at.heap[++at.heap_len]=At=Vt,at.depth[Vt]=0):ar[2*Vt+1]=0;for(;at.heap_len<2;)ar[2*(or=at.heap[++at.heap_len]=At<2?++At:0)]=1,at.depth[or]=0,at.opt_len--,Gt&&(at.static_len-=qt[2*or+1]);for(Bt.max_code=At,Vt=at.heap_len>>1;Vt>=1;Vt--)jt(at,ar,Vt);or=vt;do Vt=at.heap[1],at.heap[1]=at.heap[at.heap_len--],jt(at,ar,1),Qt=at.heap[1],at.heap[--at.heap_max]=Vt,at.heap[--at.heap_max]=Qt,ar[2*or]=ar[2*Vt]+ar[2*Qt],at.depth[or]=(at.depth[Vt]>=at.depth[Qt]?at.depth[Vt]:at.depth[Qt])+1,ar[2*Vt+1]=ar[2*Qt+1]=or,at.heap[1]=or++,jt(at,ar,1);while(at.heap_len>=2);at.heap[--at.heap_max]=at.heap[1],function(It,Ht){var Zt,rr,pr,_r,ir,cr,mr=Ht.dyn_tree,Cr=Ht.max_code,Mr=Ht.stat_desc.static_tree,Yr=Ht.stat_desc.has_stree,an=Ht.stat_desc.extra_bits,dn=Ht.stat_desc.extra_base,rn=Ht.stat_desc.max_length,tn=0;for(_r=0;_r<=15;_r++)It.bl_count[_r]=0;for(mr[2*It.heap[It.heap_max]+1]=0,Zt=It.heap_max+1;Zt<573;Zt++)(_r=mr[2*mr[2*(rr=It.heap[Zt])+1]+1]+1)>rn&&(_r=rn,tn++),mr[2*rr+1]=_r,rr>Cr||(It.bl_count[_r]++,ir=0,rr>=dn&&(ir=an[rr-dn]),cr=mr[2*rr],It.opt_len+=cr*(_r+ir),Yr&&(It.static_len+=cr*(Mr[2*rr+1]+ir)));if(tn!==0){do{for(_r=rn-1;It.bl_count[_r]===0;)_r--;It.bl_count[_r]--,It.bl_count[_r+1]+=2,It.bl_count[rn]--,tn-=2}while(tn>0);for(_r=rn;_r!==0;_r--)for(rr=It.bl_count[_r];rr!==0;)(pr=It.heap[--Zt])>Cr||(mr[2*pr+1]!==_r&&(It.opt_len+=(_r-mr[2*pr+1])*mr[2*pr],mr[2*pr+1]=_r),rr--)}}(at,Bt),pt(ar,At,at.bl_count)}function St(at,Bt,Vt){var Qt,or,ar=-1,qt=Bt[1],Gt=0,vt=7,At=4;for(qt===0&&(vt=138,At=3),Bt[2*(Vt+1)+1]=65535,Qt=0;Qt<=Vt;Qt++)or=qt,qt=Bt[2*(Qt+1)+1],++Gt<vt&&or===qt||(Gt<At?at.bl_tree[2*or]+=Gt:or!==0?(or!==ar&&at.bl_tree[2*or]++,at.bl_tree[32]++):Gt<=10?at.bl_tree[34]++:at.bl_tree[36]++,Gt=0,ar=or,qt===0?(vt=138,At=3):or===qt?(vt=6,At=3):(vt=7,At=4))}function Dt(at,Bt,Vt){var Qt,or,ar=-1,qt=Bt[1],Gt=0,vt=7,At=4;for(qt===0&&(vt=138,At=3),Qt=0;Qt<=Vt;Qt++)if(or=qt,qt=Bt[2*(Qt+1)+1],!(++Gt<vt&&or===qt)){if(Gt<At)do Kt(at,or,at.bl_tree);while(--Gt!=0);else or!==0?(or!==ar&&(Kt(at,or,at.bl_tree),Gt--),Kt(at,16,at.bl_tree),Lt(at,Gt-3,2)):Gt<=10?(Kt(at,17,at.bl_tree),Lt(at,Gt-3,3)):(Kt(at,18,at.bl_tree),Lt(at,Gt-11,7));Gt=0,ar=or,qt===0?(vt=138,At=3):or===qt?(vt=6,At=3):(vt=7,At=4)}}d(Rt);var Nt=!1;function _t(at,Bt,Vt,Qt){Lt(at,0+(Qt?1:0),3),function(or,ar,qt,Gt){bt(or),Gt&&(ct(or,qt),ct(or,~qt)),c.arraySet(or.pending_buf,or.window,ar,qt,or.pending),or.pending+=qt}(at,Bt,Vt,!0)}i._tr_init=function(at){Nt||(function(){var Bt,Vt,Qt,or,ar,qt=new Array(16);for(Qt=0,or=0;or<28;or++)for(ft[or]=Qt,Bt=0;Bt<1<<j[or];Bt++)lt[Qt++]=or;for(lt[Qt-1]=or,ar=0,or=0;or<16;or++)for(Rt[or]=ar,Bt=0;Bt<1<<Z[or];Bt++)gt[ar++]=or;for(ar>>=7;or<30;or++)for(Rt[or]=ar<<7,Bt=0;Bt<1<<Z[or]-7;Bt++)gt[256+ar++]=or;for(Vt=0;Vt<=15;Vt++)qt[Vt]=0;for(Bt=0;Bt<=143;)et[2*Bt+1]=8,Bt++,qt[8]++;for(;Bt<=255;)et[2*Bt+1]=9,Bt++,qt[9]++;for(;Bt<=279;)et[2*Bt+1]=7,Bt++,qt[7]++;for(;Bt<=287;)et[2*Bt+1]=8,Bt++,qt[8]++;for(pt(et,287,qt),Bt=0;Bt<30;Bt++)ut[2*Bt+1]=5,ut[2*Bt]=Yt(Bt,5);ot=new Mt(et,j,257,286,15),yt=new Mt(ut,Z,0,30,15),wt=new Mt(new Array(0),s,0,19,7)}(),Nt=!0),at.l_desc=new Tt(at.dyn_ltree,ot),at.d_desc=new Tt(at.dyn_dtree,yt),at.bl_desc=new Tt(at.bl_tree,wt),at.bi_buf=0,at.bi_valid=0,dt(at)},i._tr_stored_block=_t,i._tr_flush_block=function(at,Bt,Vt,Qt){var or,ar,qt=0;at.level>0?(at.strm.data_type===2&&(at.strm.data_type=function(Gt){var vt,At=4093624447;for(vt=0;vt<=31;vt++,At>>>=1)if(1&At&&Gt.dyn_ltree[2*vt]!==0)return 0;if(Gt.dyn_ltree[18]!==0||Gt.dyn_ltree[20]!==0||Gt.dyn_ltree[26]!==0)return 1;for(vt=32;vt<256;vt++)if(Gt.dyn_ltree[2*vt]!==0)return 1;return 0}(at)),kt(at,at.l_desc),kt(at,at.d_desc),qt=function(Gt){var vt;for(St(Gt,Gt.dyn_ltree,Gt.l_desc.max_code),St(Gt,Gt.dyn_dtree,Gt.d_desc.max_code),kt(Gt,Gt.bl_desc),vt=18;vt>=3&&Gt.bl_tree[2*$[vt]+1]===0;vt--);return Gt.opt_len+=3*(vt+1)+5+5+4,vt}(at),or=at.opt_len+3+7>>>3,(ar=at.static_len+3+7>>>3)<=or&&(or=ar)):or=ar=Vt+5,Vt+4<=or&&Bt!==-1?_t(at,Bt,Vt,Qt):at.strategy===4||ar===or?(Lt(at,2+(Qt?1:0),3),zt(at,et,ut)):(Lt(at,4+(Qt?1:0),3),function(Gt,vt,At,It){var Ht;for(Lt(Gt,vt-257,5),Lt(Gt,At-1,5),Lt(Gt,It-4,4),Ht=0;Ht<It;Ht++)Lt(Gt,Gt.bl_tree[2*$[Ht]+1],3);Dt(Gt,Gt.dyn_ltree,vt-1),Dt(Gt,Gt.dyn_dtree,At-1)}(at,at.l_desc.max_code+1,at.d_desc.max_code+1,qt+1),zt(at,at.dyn_ltree,at.dyn_dtree)),dt(at),Qt&&bt(at)},i._tr_tally=function(at,Bt,Vt){return at.pending_buf[at.d_buf+2*at.last_lit]=Bt>>>8&255,at.pending_buf[at.d_buf+2*at.last_lit+1]=255&Bt,at.pending_buf[at.l_buf+at.last_lit]=255&Vt,at.last_lit++,Bt===0?at.dyn_ltree[2*Vt]++:(at.matches++,Bt--,at.dyn_ltree[2*(lt[Vt]+256+1)]++,at.dyn_dtree[2*Ct(Bt)]++),at.last_lit===at.lit_bufsize-1},i._tr_align=function(at){Lt(at,2,3),Kt(at,256,et),function(Bt){Bt.bi_valid===16?(ct(Bt,Bt.bi_buf),Bt.bi_buf=0,Bt.bi_valid=0):Bt.bi_valid>=8&&(Bt.pending_buf[Bt.pending++]=255&Bt.bi_buf,Bt.bi_buf>>=8,Bt.bi_valid-=8)}(at)}},function(e,i,o){e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,i,o){var c=o(33),d=o(73),j=o(74),Z=o(175),s=o(176);function $(Tt){return(Tt>>>24&255)+(Tt>>>8&65280)+((65280&Tt)<<8)+((255&Tt)<<24)}function et(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ut(Tt){var Ct;return Tt&&Tt.state?(Ct=Tt.state,Tt.total_in=Tt.total_out=Ct.total=0,Tt.msg="",Ct.wrap&&(Tt.adler=1&Ct.wrap),Ct.mode=1,Ct.last=0,Ct.havedict=0,Ct.dmax=32768,Ct.head=null,Ct.hold=0,Ct.bits=0,Ct.lencode=Ct.lendyn=new c.Buf32(852),Ct.distcode=Ct.distdyn=new c.Buf32(592),Ct.sane=1,Ct.back=-1,0):-2}function gt(Tt){var Ct;return Tt&&Tt.state?((Ct=Tt.state).wsize=0,Ct.whave=0,Ct.wnext=0,ut(Tt)):-2}function lt(Tt,Ct){var ct,Lt;return Tt&&Tt.state?(Lt=Tt.state,Ct<0?(ct=0,Ct=-Ct):(ct=1+(Ct>>4),Ct<48&&(Ct&=15)),Ct&&(Ct<8||Ct>15)?-2:(Lt.window!==null&&Lt.wbits!==Ct&&(Lt.window=null),Lt.wrap=ct,Lt.wbits=Ct,gt(Tt))):-2}function ft(Tt,Ct){var ct,Lt;return Tt?(Lt=new et,Tt.state=Lt,Lt.window=null,(ct=lt(Tt,Ct))!==0&&(Tt.state=null),ct):-2}var ot,yt,wt=!0;function Rt(Tt){if(wt){var Ct;for(ot=new c.Buf32(512),yt=new c.Buf32(32),Ct=0;Ct<144;)Tt.lens[Ct++]=8;for(;Ct<256;)Tt.lens[Ct++]=9;for(;Ct<280;)Tt.lens[Ct++]=7;for(;Ct<288;)Tt.lens[Ct++]=8;for(s(1,Tt.lens,0,288,ot,0,Tt.work,{bits:9}),Ct=0;Ct<32;)Tt.lens[Ct++]=5;s(2,Tt.lens,0,32,yt,0,Tt.work,{bits:5}),wt=!1}Tt.lencode=ot,Tt.lenbits=9,Tt.distcode=yt,Tt.distbits=5}function Mt(Tt,Ct,ct,Lt){var Kt,Yt=Tt.state;return Yt.window===null&&(Yt.wsize=1<<Yt.wbits,Yt.wnext=0,Yt.whave=0,Yt.window=new c.Buf8(Yt.wsize)),Lt>=Yt.wsize?(c.arraySet(Yt.window,Ct,ct-Yt.wsize,Yt.wsize,0),Yt.wnext=0,Yt.whave=Yt.wsize):((Kt=Yt.wsize-Yt.wnext)>Lt&&(Kt=Lt),c.arraySet(Yt.window,Ct,ct-Lt,Kt,Yt.wnext),(Lt-=Kt)?(c.arraySet(Yt.window,Ct,ct-Lt,Lt,0),Yt.wnext=Lt,Yt.whave=Yt.wsize):(Yt.wnext+=Kt,Yt.wnext===Yt.wsize&&(Yt.wnext=0),Yt.whave<Yt.wsize&&(Yt.whave+=Kt))),0}i.inflateReset=gt,i.inflateReset2=lt,i.inflateResetKeep=ut,i.inflateInit=function(Tt){return ft(Tt,15)},i.inflateInit2=ft,i.inflate=function(Tt,Ct){var ct,Lt,Kt,Yt,pt,dt,bt,mt,jt,zt,kt,St,Dt,Nt,_t,at,Bt,Vt,Qt,or,ar,qt,Gt,vt,At=0,It=new c.Buf8(4),Ht=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Tt||!Tt.state||!Tt.output||!Tt.input&&Tt.avail_in!==0)return-2;(ct=Tt.state).mode===12&&(ct.mode=13),pt=Tt.next_out,Kt=Tt.output,bt=Tt.avail_out,Yt=Tt.next_in,Lt=Tt.input,dt=Tt.avail_in,mt=ct.hold,jt=ct.bits,zt=dt,kt=bt,qt=0;e:for(;;)switch(ct.mode){case 1:if(ct.wrap===0){ct.mode=13;break}for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(2&ct.wrap&&mt===35615){ct.check=0,It[0]=255&mt,It[1]=mt>>>8&255,ct.check=j(ct.check,It,2,0),mt=0,jt=0,ct.mode=2;break}if(ct.flags=0,ct.head&&(ct.head.done=!1),!(1&ct.wrap)||(((255&mt)<<8)+(mt>>8))%31){Tt.msg="incorrect header check",ct.mode=30;break}if((15&mt)!=8){Tt.msg="unknown compression method",ct.mode=30;break}if(jt-=4,ar=8+(15&(mt>>>=4)),ct.wbits===0)ct.wbits=ar;else if(ar>ct.wbits){Tt.msg="invalid window size",ct.mode=30;break}ct.dmax=1<<ar,Tt.adler=ct.check=1,ct.mode=512&mt?10:12,mt=0,jt=0;break;case 2:for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(ct.flags=mt,(255&ct.flags)!=8){Tt.msg="unknown compression method",ct.mode=30;break}if(57344&ct.flags){Tt.msg="unknown header flags set",ct.mode=30;break}ct.head&&(ct.head.text=mt>>8&1),512&ct.flags&&(It[0]=255&mt,It[1]=mt>>>8&255,ct.check=j(ct.check,It,2,0)),mt=0,jt=0,ct.mode=3;case 3:for(;jt<32;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.head&&(ct.head.time=mt),512&ct.flags&&(It[0]=255&mt,It[1]=mt>>>8&255,It[2]=mt>>>16&255,It[3]=mt>>>24&255,ct.check=j(ct.check,It,4,0)),mt=0,jt=0,ct.mode=4;case 4:for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.head&&(ct.head.xflags=255&mt,ct.head.os=mt>>8),512&ct.flags&&(It[0]=255&mt,It[1]=mt>>>8&255,ct.check=j(ct.check,It,2,0)),mt=0,jt=0,ct.mode=5;case 5:if(1024&ct.flags){for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.length=mt,ct.head&&(ct.head.extra_len=mt),512&ct.flags&&(It[0]=255&mt,It[1]=mt>>>8&255,ct.check=j(ct.check,It,2,0)),mt=0,jt=0}else ct.head&&(ct.head.extra=null);ct.mode=6;case 6:if(1024&ct.flags&&((St=ct.length)>dt&&(St=dt),St&&(ct.head&&(ar=ct.head.extra_len-ct.length,ct.head.extra||(ct.head.extra=new Array(ct.head.extra_len)),c.arraySet(ct.head.extra,Lt,Yt,St,ar)),512&ct.flags&&(ct.check=j(ct.check,Lt,St,Yt)),dt-=St,Yt+=St,ct.length-=St),ct.length))break e;ct.length=0,ct.mode=7;case 7:if(2048&ct.flags){if(dt===0)break e;St=0;do ar=Lt[Yt+St++],ct.head&&ar&&ct.length<65536&&(ct.head.name+=String.fromCharCode(ar));while(ar&&St<dt);if(512&ct.flags&&(ct.check=j(ct.check,Lt,St,Yt)),dt-=St,Yt+=St,ar)break e}else ct.head&&(ct.head.name=null);ct.length=0,ct.mode=8;case 8:if(4096&ct.flags){if(dt===0)break e;St=0;do ar=Lt[Yt+St++],ct.head&&ar&&ct.length<65536&&(ct.head.comment+=String.fromCharCode(ar));while(ar&&St<dt);if(512&ct.flags&&(ct.check=j(ct.check,Lt,St,Yt)),dt-=St,Yt+=St,ar)break e}else ct.head&&(ct.head.comment=null);ct.mode=9;case 9:if(512&ct.flags){for(;jt<16;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(mt!==(65535&ct.check)){Tt.msg="header crc mismatch",ct.mode=30;break}mt=0,jt=0}ct.head&&(ct.head.hcrc=ct.flags>>9&1,ct.head.done=!0),Tt.adler=ct.check=0,ct.mode=12;break;case 10:for(;jt<32;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}Tt.adler=ct.check=$(mt),mt=0,jt=0,ct.mode=11;case 11:if(ct.havedict===0)return Tt.next_out=pt,Tt.avail_out=bt,Tt.next_in=Yt,Tt.avail_in=dt,ct.hold=mt,ct.bits=jt,2;Tt.adler=ct.check=1,ct.mode=12;case 12:if(Ct===5||Ct===6)break e;case 13:if(ct.last){mt>>>=7&jt,jt-=7&jt,ct.mode=27;break}for(;jt<3;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}switch(ct.last=1&mt,jt-=1,3&(mt>>>=1)){case 0:ct.mode=14;break;case 1:if(Rt(ct),ct.mode=20,Ct===6){mt>>>=2,jt-=2;break e}break;case 2:ct.mode=17;break;case 3:Tt.msg="invalid block type",ct.mode=30}mt>>>=2,jt-=2;break;case 14:for(mt>>>=7&jt,jt-=7&jt;jt<32;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if((65535&mt)!=(mt>>>16^65535)){Tt.msg="invalid stored block lengths",ct.mode=30;break}if(ct.length=65535&mt,mt=0,jt=0,ct.mode=15,Ct===6)break e;case 15:ct.mode=16;case 16:if(St=ct.length){if(St>dt&&(St=dt),St>bt&&(St=bt),St===0)break e;c.arraySet(Kt,Lt,Yt,St,pt),dt-=St,Yt+=St,bt-=St,pt+=St,ct.length-=St;break}ct.mode=12;break;case 17:for(;jt<14;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(ct.nlen=257+(31&mt),mt>>>=5,jt-=5,ct.ndist=1+(31&mt),mt>>>=5,jt-=5,ct.ncode=4+(15&mt),mt>>>=4,jt-=4,ct.nlen>286||ct.ndist>30){Tt.msg="too many length or distance symbols",ct.mode=30;break}ct.have=0,ct.mode=18;case 18:for(;ct.have<ct.ncode;){for(;jt<3;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.lens[Ht[ct.have++]]=7&mt,mt>>>=3,jt-=3}for(;ct.have<19;)ct.lens[Ht[ct.have++]]=0;if(ct.lencode=ct.lendyn,ct.lenbits=7,Gt={bits:ct.lenbits},qt=s(0,ct.lens,0,19,ct.lencode,0,ct.work,Gt),ct.lenbits=Gt.bits,qt){Tt.msg="invalid code lengths set",ct.mode=30;break}ct.have=0,ct.mode=19;case 19:for(;ct.have<ct.nlen+ct.ndist;){for(;at=(At=ct.lencode[mt&(1<<ct.lenbits)-1])>>>16&255,Bt=65535&At,!((_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(Bt<16)mt>>>=_t,jt-=_t,ct.lens[ct.have++]=Bt;else{if(Bt===16){for(vt=_t+2;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(mt>>>=_t,jt-=_t,ct.have===0){Tt.msg="invalid bit length repeat",ct.mode=30;break}ar=ct.lens[ct.have-1],St=3+(3&mt),mt>>>=2,jt-=2}else if(Bt===17){for(vt=_t+3;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}jt-=_t,ar=0,St=3+(7&(mt>>>=_t)),mt>>>=3,jt-=3}else{for(vt=_t+7;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}jt-=_t,ar=0,St=11+(127&(mt>>>=_t)),mt>>>=7,jt-=7}if(ct.have+St>ct.nlen+ct.ndist){Tt.msg="invalid bit length repeat",ct.mode=30;break}for(;St--;)ct.lens[ct.have++]=ar}}if(ct.mode===30)break;if(ct.lens[256]===0){Tt.msg="invalid code -- missing end-of-block",ct.mode=30;break}if(ct.lenbits=9,Gt={bits:ct.lenbits},qt=s(1,ct.lens,0,ct.nlen,ct.lencode,0,ct.work,Gt),ct.lenbits=Gt.bits,qt){Tt.msg="invalid literal/lengths set",ct.mode=30;break}if(ct.distbits=6,ct.distcode=ct.distdyn,Gt={bits:ct.distbits},qt=s(2,ct.lens,ct.nlen,ct.ndist,ct.distcode,0,ct.work,Gt),ct.distbits=Gt.bits,qt){Tt.msg="invalid distances set",ct.mode=30;break}if(ct.mode=20,Ct===6)break e;case 20:ct.mode=21;case 21:if(dt>=6&&bt>=258){Tt.next_out=pt,Tt.avail_out=bt,Tt.next_in=Yt,Tt.avail_in=dt,ct.hold=mt,ct.bits=jt,Z(Tt,kt),pt=Tt.next_out,Kt=Tt.output,bt=Tt.avail_out,Yt=Tt.next_in,Lt=Tt.input,dt=Tt.avail_in,mt=ct.hold,jt=ct.bits,ct.mode===12&&(ct.back=-1);break}for(ct.back=0;at=(At=ct.lencode[mt&(1<<ct.lenbits)-1])>>>16&255,Bt=65535&At,!((_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(at&&(240&at)==0){for(Vt=_t,Qt=at,or=Bt;at=(At=ct.lencode[or+((mt&(1<<Vt+Qt)-1)>>Vt)])>>>16&255,Bt=65535&At,!(Vt+(_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}mt>>>=Vt,jt-=Vt,ct.back+=Vt}if(mt>>>=_t,jt-=_t,ct.back+=_t,ct.length=Bt,at===0){ct.mode=26;break}if(32&at){ct.back=-1,ct.mode=12;break}if(64&at){Tt.msg="invalid literal/length code",ct.mode=30;break}ct.extra=15&at,ct.mode=22;case 22:if(ct.extra){for(vt=ct.extra;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.length+=mt&(1<<ct.extra)-1,mt>>>=ct.extra,jt-=ct.extra,ct.back+=ct.extra}ct.was=ct.length,ct.mode=23;case 23:for(;at=(At=ct.distcode[mt&(1<<ct.distbits)-1])>>>16&255,Bt=65535&At,!((_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if((240&at)==0){for(Vt=_t,Qt=at,or=Bt;at=(At=ct.distcode[or+((mt&(1<<Vt+Qt)-1)>>Vt)])>>>16&255,Bt=65535&At,!(Vt+(_t=At>>>24)<=jt);){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}mt>>>=Vt,jt-=Vt,ct.back+=Vt}if(mt>>>=_t,jt-=_t,ct.back+=_t,64&at){Tt.msg="invalid distance code",ct.mode=30;break}ct.offset=Bt,ct.extra=15&at,ct.mode=24;case 24:if(ct.extra){for(vt=ct.extra;jt<vt;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}ct.offset+=mt&(1<<ct.extra)-1,mt>>>=ct.extra,jt-=ct.extra,ct.back+=ct.extra}if(ct.offset>ct.dmax){Tt.msg="invalid distance too far back",ct.mode=30;break}ct.mode=25;case 25:if(bt===0)break e;if(St=kt-bt,ct.offset>St){if((St=ct.offset-St)>ct.whave&&ct.sane){Tt.msg="invalid distance too far back",ct.mode=30;break}St>ct.wnext?(St-=ct.wnext,Dt=ct.wsize-St):Dt=ct.wnext-St,St>ct.length&&(St=ct.length),Nt=ct.window}else Nt=Kt,Dt=pt-ct.offset,St=ct.length;St>bt&&(St=bt),bt-=St,ct.length-=St;do Kt[pt++]=Nt[Dt++];while(--St);ct.length===0&&(ct.mode=21);break;case 26:if(bt===0)break e;Kt[pt++]=ct.length,bt--,ct.mode=21;break;case 27:if(ct.wrap){for(;jt<32;){if(dt===0)break e;dt--,mt|=Lt[Yt++]<<jt,jt+=8}if(kt-=bt,Tt.total_out+=kt,ct.total+=kt,kt&&(Tt.adler=ct.check=ct.flags?j(ct.check,Kt,kt,pt-kt):d(ct.check,Kt,kt,pt-kt)),kt=bt,(ct.flags?mt:$(mt))!==ct.check){Tt.msg="incorrect data check",ct.mode=30;break}mt=0,jt=0}ct.mode=28;case 28:if(ct.wrap&&ct.flags){for(;jt<32;){if(dt===0)break e;dt--,mt+=Lt[Yt++]<<jt,jt+=8}if(mt!==(4294967295&ct.total)){Tt.msg="incorrect length check",ct.mode=30;break}mt=0,jt=0}ct.mode=29;case 29:qt=1;break e;case 30:qt=-3;break e;case 31:return-4;case 32:default:return-2}return Tt.next_out=pt,Tt.avail_out=bt,Tt.next_in=Yt,Tt.avail_in=dt,ct.hold=mt,ct.bits=jt,(ct.wsize||kt!==Tt.avail_out&&ct.mode<30&&(ct.mode<27||Ct!==4))&&Mt(Tt,Tt.output,Tt.next_out,kt-Tt.avail_out)?(ct.mode=31,-4):(zt-=Tt.avail_in,kt-=Tt.avail_out,Tt.total_in+=zt,Tt.total_out+=kt,ct.total+=kt,ct.wrap&&kt&&(Tt.adler=ct.check=ct.flags?j(ct.check,Kt,kt,Tt.next_out-kt):d(ct.check,Kt,kt,Tt.next_out-kt)),Tt.data_type=ct.bits+(ct.last?64:0)+(ct.mode===12?128:0)+(ct.mode===20||ct.mode===15?256:0),(zt===0&&kt===0||Ct===4)&&qt===0&&(qt=-5),qt)},i.inflateEnd=function(Tt){if(!Tt||!Tt.state)return-2;var Ct=Tt.state;return Ct.window&&(Ct.window=null),Tt.state=null,0},i.inflateGetHeader=function(Tt,Ct){var ct;return Tt&&Tt.state?(2&(ct=Tt.state).wrap)==0?-2:(ct.head=Ct,Ct.done=!1,0):-2},i.inflateSetDictionary=function(Tt,Ct){var ct,Lt=Ct.length;return Tt&&Tt.state?(ct=Tt.state).wrap!==0&&ct.mode!==11?-2:ct.mode===11&&d(1,Ct,Lt,0)!==ct.check?-3:Mt(Tt,Ct,Lt,Lt)?(ct.mode=31,-4):(ct.havedict=1,0):-2},i.inflateInfo="pako inflate (from Nodeca project)"},function(e,i,o){e.exports=function(c,d){var j,Z,s,$,et,ut,gt,lt,ft,ot,yt,wt,Rt,Mt,Tt,Ct,ct,Lt,Kt,Yt,pt,dt,bt,mt,jt;j=c.state,Z=c.next_in,mt=c.input,s=Z+(c.avail_in-5),$=c.next_out,jt=c.output,et=$-(d-c.avail_out),ut=$+(c.avail_out-257),gt=j.dmax,lt=j.wsize,ft=j.whave,ot=j.wnext,yt=j.window,wt=j.hold,Rt=j.bits,Mt=j.lencode,Tt=j.distcode,Ct=(1<<j.lenbits)-1,ct=(1<<j.distbits)-1;e:do{Rt<15&&(wt+=mt[Z++]<<Rt,Rt+=8,wt+=mt[Z++]<<Rt,Rt+=8),Lt=Mt[wt&Ct];t:for(;;){if(wt>>>=Kt=Lt>>>24,Rt-=Kt,(Kt=Lt>>>16&255)===0)jt[$++]=65535&Lt;else{if(!(16&Kt)){if((64&Kt)==0){Lt=Mt[(65535&Lt)+(wt&(1<<Kt)-1)];continue t}if(32&Kt){j.mode=12;break e}c.msg="invalid literal/length code",j.mode=30;break e}Yt=65535&Lt,(Kt&=15)&&(Rt<Kt&&(wt+=mt[Z++]<<Rt,Rt+=8),Yt+=wt&(1<<Kt)-1,wt>>>=Kt,Rt-=Kt),Rt<15&&(wt+=mt[Z++]<<Rt,Rt+=8,wt+=mt[Z++]<<Rt,Rt+=8),Lt=Tt[wt&ct];r:for(;;){if(wt>>>=Kt=Lt>>>24,Rt-=Kt,!(16&(Kt=Lt>>>16&255))){if((64&Kt)==0){Lt=Tt[(65535&Lt)+(wt&(1<<Kt)-1)];continue r}c.msg="invalid distance code",j.mode=30;break e}if(pt=65535&Lt,Rt<(Kt&=15)&&(wt+=mt[Z++]<<Rt,(Rt+=8)<Kt&&(wt+=mt[Z++]<<Rt,Rt+=8)),(pt+=wt&(1<<Kt)-1)>gt){c.msg="invalid distance too far back",j.mode=30;break e}if(wt>>>=Kt,Rt-=Kt,pt>(Kt=$-et)){if((Kt=pt-Kt)>ft&&j.sane){c.msg="invalid distance too far back",j.mode=30;break e}if(dt=0,bt=yt,ot===0){if(dt+=lt-Kt,Kt<Yt){Yt-=Kt;do jt[$++]=yt[dt++];while(--Kt);dt=$-pt,bt=jt}}else if(ot<Kt){if(dt+=lt+ot-Kt,(Kt-=ot)<Yt){Yt-=Kt;do jt[$++]=yt[dt++];while(--Kt);if(dt=0,ot<Yt){Yt-=Kt=ot;do jt[$++]=yt[dt++];while(--Kt);dt=$-pt,bt=jt}}}else if(dt+=ot-Kt,Kt<Yt){Yt-=Kt;do jt[$++]=yt[dt++];while(--Kt);dt=$-pt,bt=jt}for(;Yt>2;)jt[$++]=bt[dt++],jt[$++]=bt[dt++],jt[$++]=bt[dt++],Yt-=3;Yt&&(jt[$++]=bt[dt++],Yt>1&&(jt[$++]=bt[dt++]))}else{dt=$-pt;do jt[$++]=jt[dt++],jt[$++]=jt[dt++],jt[$++]=jt[dt++],Yt-=3;while(Yt>2);Yt&&(jt[$++]=jt[dt++],Yt>1&&(jt[$++]=jt[dt++]))}break}}break}}while(Z<s&&$<ut);Z-=Yt=Rt>>3,wt&=(1<<(Rt-=Yt<<3))-1,c.next_in=Z,c.next_out=$,c.avail_in=Z<s?s-Z+5:5-(Z-s),c.avail_out=$<ut?ut-$+257:257-($-ut),j.hold=wt,j.bits=Rt}},function(e,i,o){var c=o(33),d=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],j=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],Z=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function($,et,ut,gt,lt,ft,ot,yt){var wt,Rt,Mt,Tt,Ct,ct,Lt,Kt,Yt,pt=yt.bits,dt=0,bt=0,mt=0,jt=0,zt=0,kt=0,St=0,Dt=0,Nt=0,_t=0,at=null,Bt=0,Vt=new c.Buf16(16),Qt=new c.Buf16(16),or=null,ar=0;for(dt=0;dt<=15;dt++)Vt[dt]=0;for(bt=0;bt<gt;bt++)Vt[et[ut+bt]]++;for(zt=pt,jt=15;jt>=1&&Vt[jt]===0;jt--);if(zt>jt&&(zt=jt),jt===0)return lt[ft++]=20971520,lt[ft++]=20971520,yt.bits=1,0;for(mt=1;mt<jt&&Vt[mt]===0;mt++);for(zt<mt&&(zt=mt),Dt=1,dt=1;dt<=15;dt++)if(Dt<<=1,(Dt-=Vt[dt])<0)return-1;if(Dt>0&&($===0||jt!==1))return-1;for(Qt[1]=0,dt=1;dt<15;dt++)Qt[dt+1]=Qt[dt]+Vt[dt];for(bt=0;bt<gt;bt++)et[ut+bt]!==0&&(ot[Qt[et[ut+bt]]++]=bt);if($===0?(at=or=ot,ct=19):$===1?(at=d,Bt-=257,or=j,ar-=257,ct=256):(at=Z,or=s,ct=-1),_t=0,bt=0,dt=mt,Ct=ft,kt=zt,St=0,Mt=-1,Tt=(Nt=1<<zt)-1,$===1&&Nt>852||$===2&&Nt>592)return 1;for(;;){Lt=dt-St,ot[bt]<ct?(Kt=0,Yt=ot[bt]):ot[bt]>ct?(Kt=or[ar+ot[bt]],Yt=at[Bt+ot[bt]]):(Kt=96,Yt=0),wt=1<<dt-St,mt=Rt=1<<kt;do lt[Ct+(_t>>St)+(Rt-=wt)]=Lt<<24|Kt<<16|Yt|0;while(Rt!==0);for(wt=1<<dt-1;_t&wt;)wt>>=1;if(wt!==0?(_t&=wt-1,_t+=wt):_t=0,bt++,--Vt[dt]==0){if(dt===jt)break;dt=et[ut+ot[bt]]}if(dt>zt&&(_t&Tt)!==Mt){for(St===0&&(St=zt),Ct+=mt,Dt=1<<(kt=dt-St);kt+St<jt&&!((Dt-=Vt[kt+St])<=0);)kt++,Dt<<=1;if(Nt+=1<<kt,$===1&&Nt>852||$===2&&Nt>592)return 1;lt[Mt=_t&Tt]=zt<<24|kt<<16|Ct-ft|0}}return _t!==0&&(lt[Ct+_t]=dt-St<<24|64<<16|0),yt.bits=zt,0}},function(e,i,o){e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,i){},function(e,i,o){function c(et,ut){var gt=Object.keys(et);if(Object.getOwnPropertySymbols){var lt=Object.getOwnPropertySymbols(et);ut&&(lt=lt.filter(function(ft){return Object.getOwnPropertyDescriptor(et,ft).enumerable})),gt.push.apply(gt,lt)}return gt}function d(et,ut,gt){return ut in et?Object.defineProperty(et,ut,{value:gt,enumerable:!0,configurable:!0,writable:!0}):et[ut]=gt,et}function j(et,ut){for(var gt=0;gt<ut.length;gt++){var lt=ut[gt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(et,lt.key,lt)}}var Z=o(4).Buffer,s=o(180).inspect,$=s&&s.custom||"inspect";e.exports=function(){function et(){(function(lt,ft){if(!(lt instanceof ft))throw new TypeError("Cannot call a class as a function")})(this,et),this.head=null,this.tail=null,this.length=0}var ut,gt;return ut=et,(gt=[{key:"push",value:function(lt){var ft={data:lt,next:null};this.length>0?this.tail.next=ft:this.head=ft,this.tail=ft,++this.length}},{key:"unshift",value:function(lt){var ft={data:lt,next:this.head};this.length===0&&(this.tail=ft),this.head=ft,++this.length}},{key:"shift",value:function(){if(this.length!==0){var lt=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,lt}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(lt){if(this.length===0)return"";for(var ft=this.head,ot=""+ft.data;ft=ft.next;)ot+=lt+ft.data;return ot}},{key:"concat",value:function(lt){if(this.length===0)return Z.alloc(0);for(var ft,ot,yt,wt=Z.allocUnsafe(lt>>>0),Rt=this.head,Mt=0;Rt;)ft=Rt.data,ot=wt,yt=Mt,Z.prototype.copy.call(ft,ot,yt),Mt+=Rt.data.length,Rt=Rt.next;return wt}},{key:"consume",value:function(lt,ft){var ot;return lt<this.head.data.length?(ot=this.head.data.slice(0,lt),this.head.data=this.head.data.slice(lt)):ot=lt===this.head.data.length?this.shift():ft?this._getString(lt):this._getBuffer(lt),ot}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(lt){var ft=this.head,ot=1,yt=ft.data;for(lt-=yt.length;ft=ft.next;){var wt=ft.data,Rt=lt>wt.length?wt.length:lt;if(Rt===wt.length?yt+=wt:yt+=wt.slice(0,lt),(lt-=Rt)==0){Rt===wt.length?(++ot,ft.next?this.head=ft.next:this.head=this.tail=null):(this.head=ft,ft.data=wt.slice(Rt));break}++ot}return this.length-=ot,yt}},{key:"_getBuffer",value:function(lt){var ft=Z.allocUnsafe(lt),ot=this.head,yt=1;for(ot.data.copy(ft),lt-=ot.data.length;ot=ot.next;){var wt=ot.data,Rt=lt>wt.length?wt.length:lt;if(wt.copy(ft,ft.length-lt,0,Rt),(lt-=Rt)==0){Rt===wt.length?(++yt,ot.next?this.head=ot.next:this.head=this.tail=null):(this.head=ot,ot.data=wt.slice(Rt));break}++yt}return this.length-=yt,ft}},{key:$,value:function(lt,ft){return s(this,function(ot){for(var yt=1;yt<arguments.length;yt++){var wt=arguments[yt]!=null?arguments[yt]:{};yt%2?c(Object(wt),!0).forEach(function(Rt){d(ot,Rt,wt[Rt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ot,Object.getOwnPropertyDescriptors(wt)):c(Object(wt)).forEach(function(Rt){Object.defineProperty(ot,Rt,Object.getOwnPropertyDescriptor(wt,Rt))})}return ot}({},ft,{depth:0,customInspect:!1}))}}])&&j(ut.prototype,gt),et}()},function(e,i){},function(e,i,o){(function(c){var d;function j(Tt,Ct,ct){return Ct in Tt?Object.defineProperty(Tt,Ct,{value:ct,enumerable:!0,configurable:!0,writable:!0}):Tt[Ct]=ct,Tt}var Z=o(45),s=Symbol("lastResolve"),$=Symbol("lastReject"),et=Symbol("error"),ut=Symbol("ended"),gt=Symbol("lastPromise"),lt=Symbol("handlePromise"),ft=Symbol("stream");function ot(Tt,Ct){return{value:Tt,done:Ct}}function yt(Tt){var Ct=Tt[s];if(Ct!==null){var ct=Tt[ft].read();ct!==null&&(Tt[gt]=null,Tt[s]=null,Tt[$]=null,Ct(ot(ct,!1)))}}function wt(Tt){c.nextTick(yt,Tt)}var Rt=Object.getPrototypeOf(function(){}),Mt=Object.setPrototypeOf((j(d={get stream(){return this[ft]},next:function(){var Tt=this,Ct=this[et];if(Ct!==null)return Promise.reject(Ct);if(this[ut])return Promise.resolve(ot(void 0,!0));if(this[ft].destroyed)return new Promise(function(Yt,pt){c.nextTick(function(){Tt[et]?pt(Tt[et]):Yt(ot(void 0,!0))})});var ct,Lt=this[gt];if(Lt)ct=new Promise(function(Yt,pt){return function(dt,bt){Yt.then(function(){pt[ut]?dt(ot(void 0,!0)):pt[lt](dt,bt)},bt)}}(Lt,this));else{var Kt=this[ft].read();if(Kt!==null)return Promise.resolve(ot(Kt,!1));ct=new Promise(this[lt])}return this[gt]=ct,ct}},Symbol.asyncIterator,function(){return this}),j(d,"return",function(){var Tt=this;return new Promise(function(Ct,ct){Tt[ft].destroy(null,function(Lt){Lt?ct(Lt):Ct(ot(void 0,!0))})})}),d),Rt);e.exports=function(Tt){var Ct,ct=Object.create(Mt,(j(Ct={},ft,{value:Tt,writable:!0}),j(Ct,s,{value:null,writable:!0}),j(Ct,$,{value:null,writable:!0}),j(Ct,et,{value:null,writable:!0}),j(Ct,ut,{value:Tt._readableState.endEmitted,writable:!0}),j(Ct,lt,{value:function(Lt,Kt){var Yt=ct[ft].read();Yt?(ct[gt]=null,ct[s]=null,ct[$]=null,Lt(ot(Yt,!1))):(ct[s]=Lt,ct[$]=Kt)},writable:!0}),Ct));return ct[gt]=null,Z(Tt,function(Lt){if(Lt&&Lt.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Kt=ct[$];return Kt!==null&&(ct[gt]=null,ct[s]=null,ct[$]=null,Kt(Lt)),void(ct[et]=Lt)}var Yt=ct[s];Yt!==null&&(ct[gt]=null,ct[s]=null,ct[$]=null,Yt(ot(void 0,!0))),ct[ut]=!0}),Tt.on("readable",wt.bind(null,ct)),ct}}).call(this,o(2))},function(e,i){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,i,o){e.exports=d;var c=o(80);function d(j){if(!(this instanceof d))return new d(j);c.call(this,j)}o(6)(d,c),d.prototype._transform=function(j,Z,s){s(null,j)}},function(e,i,o){var c,d=o(24).codes,j=d.ERR_MISSING_ARGS,Z=d.ERR_STREAM_DESTROYED;function s(lt){if(lt)throw lt}function $(lt,ft,ot,yt){yt=function(Mt){var Tt=!1;return function(){Tt||(Tt=!0,Mt.apply(void 0,arguments))}}(yt);var wt=!1;lt.on("close",function(){wt=!0}),c===void 0&&(c=o(45)),c(lt,{readable:ft,writable:ot},function(Mt){if(Mt)return yt(Mt);wt=!0,yt()});var Rt=!1;return function(Mt){if(!wt&&!Rt)return Rt=!0,function(Tt){return Tt.setHeader&&typeof Tt.abort=="function"}(lt)?lt.abort():typeof lt.destroy=="function"?lt.destroy():void yt(Mt||new Z("pipe"))}}function et(lt){lt()}function ut(lt,ft){return lt.pipe(ft)}function gt(lt){return lt.length?typeof lt[lt.length-1]!="function"?s:lt.pop():s}e.exports=function(){for(var lt=arguments.length,ft=new Array(lt),ot=0;ot<lt;ot++)ft[ot]=arguments[ot];var yt,wt=gt(ft);if(Array.isArray(ft[0])&&(ft=ft[0]),ft.length<2)throw new j("streams");var Rt=ft.map(function(Mt,Tt){var Ct=Tt<ft.length-1;return $(Mt,Ct,Tt>0,function(ct){yt||(yt=ct),ct&&Rt.forEach(et),Ct||(Rt.forEach(et),wt(yt))})});return ft.reduce(ut)}},function(e,i,o){var c=o(186)(function d(j,Z){return(Z=Z||{}).namespace=j,Z.prod=!0,Z.dev=!1,Z.force||d.force?d.yep(Z):d.nope(Z)});e.exports=c},function(e,i){var o=[],c=[],d=function(){};function j(ot){return!~o.indexOf(ot)&&(o.push(ot),!0)}function Z(ot){d=ot}function s(ot){for(var yt=[],wt=0;wt<o.length;wt++)if(o[wt].async)yt.push(o[wt]);else if(o[wt](ot))return!0;return!!yt.length&&new Promise(function(Rt){Promise.all(yt.map(function(Mt){return Mt(ot)})).then(function(Mt){Rt(Mt.some(Boolean))})})}function $(ot){return!~c.indexOf(ot)&&(c.push(ot),!0)}function et(){d.apply(d,arguments)}function ut(ot){for(var yt=0;yt<c.length;yt++)ot=c[yt].apply(c[yt],arguments);return ot}function gt(ot,yt){var wt=Object.prototype.hasOwnProperty;for(var Rt in yt)wt.call(yt,Rt)&&(ot[Rt]=yt[Rt]);return ot}function lt(ot){return ot.enabled=!1,ot.modify=$,ot.set=Z,ot.use=j,gt(function(){return!1},ot)}function ft(ot){return ot.enabled=!0,ot.modify=$,ot.set=Z,ot.use=j,gt(function(){var yt=Array.prototype.slice.call(arguments,0);return et.call(et,ot,ut(yt,ot)),!0},ot)}e.exports=function(ot){return ot.introduce=gt,ot.enabled=s,ot.process=ut,ot.modify=$,ot.write=et,ot.nope=lt,ot.yep=ft,ot.set=Z,ot.use=j,ot}},function(e,i,o){(function(c){var d=o(63),j=o(19).StringDecoder,Z=o(29).Stream;function s(){}e.exports=function($,et){var ut=c.alloc(65536),gt=new j("utf8"),lt=new Z,ft="",ot=0,yt=0;return $.start===-1&&delete $.start,lt.readable=!0,lt.destroy=function(){lt.destroyed=!0,lt.emit("end"),lt.emit("close")},d.open($.file,"a+","0644",function(wt,Rt){if(wt)return et?et(wt):lt.emit("error",wt),void lt.destroy();(function Mt(){if(!lt.destroyed)return d.read(Rt,ut,0,ut.length,ot,function(Tt,Ct){if(Tt)return et?et(Tt):lt.emit("error",Tt),void lt.destroy();if(!Ct)return ft&&(($.start==null||yt>$.start)&&(et?et(null,ft):lt.emit("line",ft)),yt++,ft=""),setTimeout(Mt,1e3);var ct=gt.write(ut.slice(0,Ct));et||lt.emit("data",ct);for(var Lt=(ct=(ft+ct).split(/\n+/)).length-1,Kt=0;Kt<Lt;Kt++)($.start==null||yt>$.start)&&(et?et(null,ct[Kt]):lt.emit("line",ct[Kt])),yt++;return ft=ct[Lt],ot+=Ct,Mt()});d.close(Rt,s)})()}),et?lt.destroy:lt}}).call(this,o(4).Buffer)},function(e,i,o){(function(c,d){function j(Tt){return(j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ct){return typeof Ct}:function(Ct){return Ct&&typeof Symbol=="function"&&Ct.constructor===Symbol&&Ct!==Symbol.prototype?"symbol":typeof Ct})(Tt)}function Z(Tt,Ct){var ct=Object.keys(Tt);if(Object.getOwnPropertySymbols){var Lt=Object.getOwnPropertySymbols(Tt);Ct&&(Lt=Lt.filter(function(Kt){return Object.getOwnPropertyDescriptor(Tt,Kt).enumerable})),ct.push.apply(ct,Lt)}return ct}function s(Tt){for(var Ct=1;Ct<arguments.length;Ct++){var ct=arguments[Ct]!=null?arguments[Ct]:{};Ct%2?Z(Object(ct),!0).forEach(function(Lt){$(Tt,Lt,ct[Lt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Tt,Object.getOwnPropertyDescriptors(ct)):Z(Object(ct)).forEach(function(Lt){Object.defineProperty(Tt,Lt,Object.getOwnPropertyDescriptor(ct,Lt))})}return Tt}function $(Tt,Ct,ct){return Ct in Tt?Object.defineProperty(Tt,Ct,{value:ct,enumerable:!0,configurable:!0,writable:!0}):Tt[Ct]=ct,Tt}function et(Tt,Ct){if(!(Tt instanceof Ct))throw new TypeError("Cannot call a class as a function")}function ut(Tt,Ct){for(var ct=0;ct<Ct.length;ct++){var Lt=Ct[ct];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(Tt,Lt.key,Lt)}}function gt(Tt,Ct){return(gt=Object.setPrototypeOf||function(ct,Lt){return ct.__proto__=Lt,ct})(Tt,Ct)}function lt(Tt){var Ct=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var ct,Lt=ot(Tt);if(Ct){var Kt=ot(this).constructor;ct=Reflect.construct(Lt,arguments,Kt)}else ct=Lt.apply(this,arguments);return ft(this,ct)}}function ft(Tt,Ct){return!Ct||j(Ct)!=="object"&&typeof Ct!="function"?function(ct){if(ct===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ct}(Tt):Ct}function ot(Tt){return(ot=Object.setPrototypeOf?Object.getPrototypeOf:function(Ct){return Ct.__proto__||Object.getPrototypeOf(Ct)})(Tt)}var yt=o(81),wt=o(199),Rt=o(29).Stream,Mt=o(17);e.exports=function(Tt){(function(Yt,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function");Yt.prototype=Object.create(pt&&pt.prototype,{constructor:{value:Yt,writable:!0,configurable:!0}}),pt&&gt(Yt,pt)})(Kt,Tt);var Ct,ct,Lt=lt(Kt);function Kt(){var Yt,pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return et(this,Kt),(Yt=Lt.call(this,pt)).options=pt,Yt.name=pt.name||"http",Yt.ssl=!!pt.ssl,Yt.host=pt.host||"localhost",Yt.port=pt.port,Yt.auth=pt.auth,Yt.path=pt.path||"",Yt.agent=pt.agent,Yt.headers=pt.headers||{},Yt.headers["content-type"]="application/json",Yt.port||(Yt.port=Yt.ssl?443:80),Yt}return Ct=Kt,(ct=[{key:"log",value:function(Yt,pt){var dt=this;this._request(Yt,function(bt,mt){mt&&mt.statusCode!==200&&(bt=new Error("Invalid HTTP Status Code: ".concat(mt.statusCode))),bt?dt.emit("warn",bt):dt.emit("logged",Yt)}),pt&&c(pt)}},{key:"query",value:function(Yt,pt){typeof Yt=="function"&&(pt=Yt,Yt={}),(Yt={method:"query",params:this.normalizeQuery(Yt)}).params.path&&(Yt.path=Yt.params.path,delete Yt.params.path),Yt.params.auth&&(Yt.auth=Yt.params.auth,delete Yt.params.auth),this._request(Yt,function(dt,bt,mt){if(bt&&bt.statusCode!==200&&(dt=new Error("Invalid HTTP Status Code: ".concat(bt.statusCode))),dt)return pt(dt);if(typeof mt=="string")try{mt=JSON.parse(mt)}catch(jt){return pt(jt)}pt(null,mt)})}},{key:"stream",value:function(){var Yt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},pt=new Rt;(Yt={method:"stream",params:Yt}).params.path&&(Yt.path=Yt.params.path,delete Yt.params.path),Yt.params.auth&&(Yt.auth=Yt.params.auth,delete Yt.params.auth);var dt="",bt=this._request(Yt);return pt.destroy=function(){return bt.destroy()},bt.on("data",function(mt){for(var jt=(mt=(dt+mt).split(/\n+/)).length-1,zt=0;zt<jt;zt++)try{pt.emit("log",JSON.parse(mt[zt]))}catch(kt){pt.emit("error",kt)}dt=mt[jt]}),bt.on("error",function(mt){return pt.emit("error",mt)}),pt}},{key:"_request",value:function(Yt,pt){var dt=(Yt=Yt||{}).auth||this.auth,bt=Yt.path||this.path||"";delete Yt.auth,delete Yt.path;var mt=Object.assign({},this.headers);dt&&dt.bearer&&(mt.Authorization="Bearer ".concat(dt.bearer));var jt=(this.ssl?wt:yt).request(s(s({},this.options),{},{method:"POST",host:this.host,port:this.port,path:"/".concat(bt.replace(/^\//,"")),headers:mt,auth:dt&&dt.username&&dt.password?"".concat(dt.username,":").concat(dt.password):"",agent:this.agent}));jt.on("error",pt),jt.on("response",function(zt){return zt.on("end",function(){return pt(null,zt)}).resume()}),jt.end(d.from(JSON.stringify(Yt),"utf8"))}}])&&ut(Ct.prototype,ct),Kt}(Mt)}).call(this,o(12).setImmediate,o(4).Buffer)},function(e,i,o){(function(c,d,j){var Z=o(82),s=o(6),$=o(83),et=o(28),ut=o(190),gt=$.IncomingMessage,lt=$.readyStates,ft=e.exports=function(yt){var wt,Rt=this;et.Writable.call(Rt),Rt._opts=yt,Rt._body=[],Rt._headers={},yt.auth&&Rt.setHeader("Authorization","Basic "+new c(yt.auth).toString("base64")),Object.keys(yt.headers).forEach(function(Tt){Rt.setHeader(Tt,yt.headers[Tt])});var Mt=!0;if(yt.mode==="disable-fetch"||"requestTimeout"in yt&&!Z.abortController)Mt=!1,wt=!0;else if(yt.mode==="prefer-streaming")wt=!1;else if(yt.mode==="allow-wrong-content-type")wt=!Z.overrideMimeType;else{if(yt.mode&&yt.mode!=="default"&&yt.mode!=="prefer-fast")throw new Error("Invalid value for opts.mode");wt=!0}Rt._mode=function(Tt,Ct){return Z.fetch&&Ct?"fetch":Z.mozchunkedarraybuffer?"moz-chunked-arraybuffer":Z.msstream?"ms-stream":Z.arraybuffer&&Tt?"arraybuffer":Z.vbArray&&Tt?"text:vbarray":"text"}(wt,Mt),Rt._fetchTimer=null,Rt.on("finish",function(){Rt._onFinish()})};s(ft,et.Writable),ft.prototype.setHeader=function(yt,wt){var Rt=yt.toLowerCase();ot.indexOf(Rt)===-1&&(this._headers[Rt]={name:yt,value:wt})},ft.prototype.getHeader=function(yt){var wt=this._headers[yt.toLowerCase()];return wt?wt.value:null},ft.prototype.removeHeader=function(yt){delete this._headers[yt.toLowerCase()]},ft.prototype._onFinish=function(){var yt=this;if(!yt._destroyed){var wt=yt._opts,Rt=yt._headers,Mt=null;wt.method!=="GET"&&wt.method!=="HEAD"&&(Mt=Z.arraybuffer?ut(c.concat(yt._body)):Z.blobConstructor?new d.Blob(yt._body.map(function(Kt){return ut(Kt)}),{type:(Rt["content-type"]||{}).value||""}):c.concat(yt._body).toString());var Tt=[];if(Object.keys(Rt).forEach(function(Kt){var Yt=Rt[Kt].name,pt=Rt[Kt].value;Array.isArray(pt)?pt.forEach(function(dt){Tt.push([Yt,dt])}):Tt.push([Yt,pt])}),yt._mode==="fetch"){var Ct=null;if(Z.abortController){var ct=new AbortController;Ct=ct.signal,yt._fetchAbortController=ct,"requestTimeout"in wt&&wt.requestTimeout!==0&&(yt._fetchTimer=d.setTimeout(function(){yt.emit("requestTimeout"),yt._fetchAbortController&&yt._fetchAbortController.abort()},wt.requestTimeout))}d.fetch(yt._opts.url,{method:yt._opts.method,headers:Tt,body:Mt||void 0,mode:"cors",credentials:wt.withCredentials?"include":"same-origin",signal:Ct}).then(function(Kt){yt._fetchResponse=Kt,yt._connect()},function(Kt){d.clearTimeout(yt._fetchTimer),yt._destroyed||yt.emit("error",Kt)})}else{var Lt=yt._xhr=new d.XMLHttpRequest;try{Lt.open(yt._opts.method,yt._opts.url,!0)}catch(Kt){return void j.nextTick(function(){yt.emit("error",Kt)})}"responseType"in Lt&&(Lt.responseType=yt._mode.split(":")[0]),"withCredentials"in Lt&&(Lt.withCredentials=!!wt.withCredentials),yt._mode==="text"&&"overrideMimeType"in Lt&&Lt.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in wt&&(Lt.timeout=wt.requestTimeout,Lt.ontimeout=function(){yt.emit("requestTimeout")}),Tt.forEach(function(Kt){Lt.setRequestHeader(Kt[0],Kt[1])}),yt._response=null,Lt.onreadystatechange=function(){switch(Lt.readyState){case lt.LOADING:case lt.DONE:yt._onXHRProgress()}},yt._mode==="moz-chunked-arraybuffer"&&(Lt.onprogress=function(){yt._onXHRProgress()}),Lt.onerror=function(){yt._destroyed||yt.emit("error",new Error("XHR error"))};try{Lt.send(Mt)}catch(Kt){return void j.nextTick(function(){yt.emit("error",Kt)})}}}},ft.prototype._onXHRProgress=function(){(function(yt){try{var wt=yt.status;return wt!==null&&wt!==0}catch{return!1}})(this._xhr)&&!this._destroyed&&(this._response||this._connect(),this._response._onXHRProgress())},ft.prototype._connect=function(){var yt=this;yt._destroyed||(yt._response=new gt(yt._xhr,yt._fetchResponse,yt._mode,yt._fetchTimer),yt._response.on("error",function(wt){yt.emit("error",wt)}),yt.emit("response",yt._response))},ft.prototype._write=function(yt,wt,Rt){this._body.push(yt),Rt()},ft.prototype.abort=ft.prototype.destroy=function(){this._destroyed=!0,d.clearTimeout(this._fetchTimer),this._response&&(this._response._destroyed=!0),this._xhr?this._xhr.abort():this._fetchAbortController&&this._fetchAbortController.abort()},ft.prototype.end=function(yt,wt,Rt){typeof yt=="function"&&(Rt=yt,yt=void 0),et.Writable.prototype.end.call(this,yt,wt,Rt)},ft.prototype.flushHeaders=function(){},ft.prototype.setTimeout=function(){},ft.prototype.setNoDelay=function(){},ft.prototype.setSocketKeepAlive=function(){};var ot=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,o(4).Buffer,o(5),o(2))},function(e,i,o){var c=o(4).Buffer;e.exports=function(d){if(d instanceof Uint8Array){if(d.byteOffset===0&&d.byteLength===d.buffer.byteLength)return d.buffer;if(typeof d.buffer.slice=="function")return d.buffer.slice(d.byteOffset,d.byteOffset+d.byteLength)}if(c.isBuffer(d)){for(var j=new Uint8Array(d.length),Z=d.length,s=0;s<Z;s++)j[s]=d[s];return j.buffer}throw new Error("Argument must be a Buffer")}},function(e,i){e.exports=function(){for(var c={},d=0;d<arguments.length;d++){var j=arguments[d];for(var Z in j)o.call(j,Z)&&(c[Z]=j[Z])}return c};var o=Object.prototype.hasOwnProperty},function(e,i){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,i,o){(function(c,d){var j;(function(Z){i&&i.nodeType,c&&c.nodeType;var s=typeof d=="object"&&d;s.global!==s&&s.window!==s&&s.self;var $,et=2147483647,ut=/^xn--/,gt=/[^\x20-\x7E]/,lt=/[\x2E\u3002\uFF0E\uFF61]/g,ft={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ot=Math.floor,yt=String.fromCharCode;function wt(pt){throw new RangeError(ft[pt])}function Rt(pt,dt){for(var bt=pt.length,mt=[];bt--;)mt[bt]=dt(pt[bt]);return mt}function Mt(pt,dt){var bt=pt.split("@"),mt="";return bt.length>1&&(mt=bt[0]+"@",pt=bt[1]),mt+Rt((pt=pt.replace(lt,".")).split("."),dt).join(".")}function Tt(pt){for(var dt,bt,mt=[],jt=0,zt=pt.length;jt<zt;)(dt=pt.charCodeAt(jt++))>=55296&&dt<=56319&&jt<zt?(64512&(bt=pt.charCodeAt(jt++)))==56320?mt.push(((1023&dt)<<10)+(1023&bt)+65536):(mt.push(dt),jt--):mt.push(dt);return mt}function Ct(pt){return Rt(pt,function(dt){var bt="";return dt>65535&&(bt+=yt((dt-=65536)>>>10&1023|55296),dt=56320|1023&dt),bt+=yt(dt)}).join("")}function ct(pt,dt){return pt+22+75*(pt<26)-((dt!=0)<<5)}function Lt(pt,dt,bt){var mt=0;for(pt=bt?ot(pt/700):pt>>1,pt+=ot(pt/dt);pt>455;mt+=36)pt=ot(pt/35);return ot(mt+36*pt/(pt+38))}function Kt(pt){var dt,bt,mt,jt,zt,kt,St,Dt,Nt,_t,at,Bt=[],Vt=pt.length,Qt=0,or=128,ar=72;for((bt=pt.lastIndexOf("-"))<0&&(bt=0),mt=0;mt<bt;++mt)pt.charCodeAt(mt)>=128&&wt("not-basic"),Bt.push(pt.charCodeAt(mt));for(jt=bt>0?bt+1:0;jt<Vt;){for(zt=Qt,kt=1,St=36;jt>=Vt&&wt("invalid-input"),((Dt=(at=pt.charCodeAt(jt++))-48<10?at-22:at-65<26?at-65:at-97<26?at-97:36)>=36||Dt>ot((et-Qt)/kt))&&wt("overflow"),Qt+=Dt*kt,!(Dt<(Nt=St<=ar?1:St>=ar+26?26:St-ar));St+=36)kt>ot(et/(_t=36-Nt))&&wt("overflow"),kt*=_t;ar=Lt(Qt-zt,dt=Bt.length+1,zt==0),ot(Qt/dt)>et-or&&wt("overflow"),or+=ot(Qt/dt),Qt%=dt,Bt.splice(Qt++,0,or)}return Ct(Bt)}function Yt(pt){var dt,bt,mt,jt,zt,kt,St,Dt,Nt,_t,at,Bt,Vt,Qt,or,ar=[];for(Bt=(pt=Tt(pt)).length,dt=128,bt=0,zt=72,kt=0;kt<Bt;++kt)(at=pt[kt])<128&&ar.push(yt(at));for(mt=jt=ar.length,jt&&ar.push("-");mt<Bt;){for(St=et,kt=0;kt<Bt;++kt)(at=pt[kt])>=dt&&at<St&&(St=at);for(St-dt>ot((et-bt)/(Vt=mt+1))&&wt("overflow"),bt+=(St-dt)*Vt,dt=St,kt=0;kt<Bt;++kt)if((at=pt[kt])<dt&&++bt>et&&wt("overflow"),at==dt){for(Dt=bt,Nt=36;!(Dt<(_t=Nt<=zt?1:Nt>=zt+26?26:Nt-zt));Nt+=36)or=Dt-_t,Qt=36-_t,ar.push(yt(ct(_t+or%Qt,0))),Dt=ot(or/Qt);ar.push(yt(ct(Dt,0))),zt=Lt(bt,Vt,mt==jt),bt=0,++mt}++bt,++dt}return ar.join("")}$={version:"1.4.1",ucs2:{decode:Tt,encode:Ct},decode:Kt,encode:Yt,toASCII:function(pt){return Mt(pt,function(dt){return gt.test(dt)?"xn--"+Yt(dt):dt})},toUnicode:function(pt){return Mt(pt,function(dt){return ut.test(dt)?Kt(dt.slice(4).toLowerCase()):dt})}},(j=function(){return $}.call(i,o,i,c))===void 0||(c.exports=j)})()}).call(this,o(194)(e),o(5))},function(e,i){e.exports=function(o){return o.webpackPolyfill||(o.deprecate=function(){},o.paths=[],o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),o.webpackPolyfill=1),o}},function(e,i,o){e.exports={isString:function(c){return typeof c=="string"},isObject:function(c){return typeof c=="object"&&c!==null},isNull:function(c){return c===null},isNullOrUndefined:function(c){return c==null}}},function(e,i,o){i.decode=i.parse=o(197),i.encode=i.stringify=o(198)},function(e,i,o){function c(j,Z){return Object.prototype.hasOwnProperty.call(j,Z)}e.exports=function(j,Z,s,$){Z=Z||"&",s=s||"=";var et={};if(typeof j!="string"||j.length===0)return et;var ut=/\+/g;j=j.split(Z);var gt=1e3;$&&typeof $.maxKeys=="number"&&(gt=$.maxKeys);var lt=j.length;gt>0&&lt>gt&&(lt=gt);for(var ft=0;ft<lt;++ft){var ot,yt,wt,Rt,Mt=j[ft].replace(ut,"%20"),Tt=Mt.indexOf(s);Tt>=0?(ot=Mt.substr(0,Tt),yt=Mt.substr(Tt+1)):(ot=Mt,yt=""),wt=decodeURIComponent(ot),Rt=decodeURIComponent(yt),c(et,wt)?d(et[wt])?et[wt].push(Rt):et[wt]=[et[wt],Rt]:et[wt]=Rt}return et};var d=Array.isArray||function(j){return Object.prototype.toString.call(j)==="[object Array]"}},function(e,i,o){var c=function(s){switch(typeof s){case"string":return s;case"boolean":return s?"true":"false";case"number":return isFinite(s)?s:"";default:return""}};e.exports=function(s,$,et,ut){return $=$||"&",et=et||"=",s===null&&(s=void 0),typeof s=="object"?j(Z(s),function(gt){var lt=encodeURIComponent(c(gt))+et;return d(s[gt])?j(s[gt],function(ft){return lt+encodeURIComponent(c(ft))}).join($):lt+encodeURIComponent(c(s[gt]))}).join($):ut?encodeURIComponent(c(ut))+et+encodeURIComponent(c(s)):""};var d=Array.isArray||function(s){return Object.prototype.toString.call(s)==="[object Array]"};function j(s,$){if(s.map)return s.map($);for(var et=[],ut=0;ut<s.length;ut++)et.push($(s[ut],ut));return et}var Z=Object.keys||function(s){var $=[];for(var et in s)Object.prototype.hasOwnProperty.call(s,et)&&$.push(et);return $}},function(e,i,o){var c=o(81),d=o(46),j=e.exports;for(var Z in c)c.hasOwnProperty(Z)&&(j[Z]=c[Z]);function s($){if(typeof $=="string"&&($=d.parse($)),$.protocol||($.protocol="https:"),$.protocol!=="https:")throw new Error('Protocol "'+$.protocol+'" not supported. Expected "https:"');return $}j.request=function($,et){return $=s($),c.request.call(this,$,et)},j.get=function($,et){return $=s($),c.get.call(this,$,et)}},function(e,i,o){(function(c){function d(yt){return(d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(wt){return typeof wt}:function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(yt)}function j(yt,wt){if(!(yt instanceof wt))throw new TypeError("Cannot call a class as a function")}function Z(yt,wt){for(var Rt=0;Rt<wt.length;Rt++){var Mt=wt[Rt];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(yt,Mt.key,Mt)}}function s(yt,wt){return(s=Object.setPrototypeOf||function(Rt,Mt){return Rt.__proto__=Mt,Rt})(yt,wt)}function $(yt){var wt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var Rt,Mt=ut(yt);if(wt){var Tt=ut(this).constructor;Rt=Reflect.construct(Mt,arguments,Tt)}else Rt=Mt.apply(this,arguments);return et(this,Rt)}}function et(yt,wt){return!wt||d(wt)!=="object"&&typeof wt!="function"?function(Rt){if(Rt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Rt}(yt):wt}function ut(yt){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(wt){return wt.__proto__||Object.getPrototypeOf(wt)})(yt)}var gt=o(84),lt=o(3).MESSAGE,ft=o(15),ot=o(17);e.exports=function(yt){(function(Ct,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function");Ct.prototype=Object.create(ct&&ct.prototype,{constructor:{value:Ct,writable:!0,configurable:!0}}),ct&&s(Ct,ct)})(Tt,yt);var wt,Rt,Mt=$(Tt);function Tt(){var Ct,ct=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(j(this,Tt),Ct=Mt.call(this,ct),!ct.stream||!gt(ct.stream))throw new Error("options.stream is required.");return Ct._stream=ct.stream,Ct._stream.setMaxListeners(1/0),Ct.isObjectMode=ct.stream._writableState.objectMode,Ct.eol=ct.eol||ft.EOL,Ct}return wt=Tt,(Rt=[{key:"log",value:function(Ct,ct){var Lt=this;if(c(function(){return Lt.emit("logged",Ct)}),this.isObjectMode)return this._stream.write(Ct),void(ct&&ct());this._stream.write("".concat(Ct[lt]).concat(this.eol)),ct&&ct()}}])&&Z(wt.prototype,Rt),Tt}(ot)}).call(this,o(12).setImmediate)},function(e,i,o){(function(c){function d(mt,jt,zt){return jt in mt?Object.defineProperty(mt,jt,{value:zt,enumerable:!0,configurable:!0,writable:!0}):mt[jt]=zt,mt}function j(mt){return(j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(jt){return typeof jt}:function(jt){return jt&&typeof Symbol=="function"&&jt.constructor===Symbol&&jt!==Symbol.prototype?"symbol":typeof jt})(mt)}function Z(mt,jt){for(var zt=0;zt<jt.length;zt++){var kt=jt[zt];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(mt,kt.key,kt)}}function s(mt,jt){return(s=Object.setPrototypeOf||function(zt,kt){return zt.__proto__=kt,zt})(mt,jt)}function $(mt){var jt=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var zt,kt=ut(mt);if(jt){var St=ut(this).constructor;zt=Reflect.construct(kt,arguments,St)}else zt=kt.apply(this,arguments);return et(this,zt)}}function et(mt,jt){return!jt||j(jt)!=="object"&&typeof jt!="function"?function(zt){if(zt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return zt}(mt):jt}function ut(mt){return(ut=Object.setPrototypeOf?Object.getPrototypeOf:function(jt){return jt.__proto__||Object.getPrototypeOf(jt)})(mt)}var gt=o(29),lt=gt.Stream,ft=gt.Transform,ot=o(48),yt=o(3),wt=yt.LEVEL,Rt=yt.SPLAT,Mt=o(84),Tt=o(86),Ct=o(90),ct=o(205),Lt=o(206),Kt=o(59).warn,Yt=o(47),pt=/%[scdjifoO%]/g,dt=function(mt){(function(Dt,Nt){if(typeof Nt!="function"&&Nt!==null)throw new TypeError("Super expression must either be null or a function");Dt.prototype=Object.create(Nt&&Nt.prototype,{constructor:{value:Dt,writable:!0,configurable:!0}}),Nt&&s(Dt,Nt)})(St,mt);var jt,zt,kt=$(St);function St(Dt){var Nt;return function(_t,at){if(!(_t instanceof at))throw new TypeError("Cannot call a class as a function")}(this,St),(Nt=kt.call(this,{objectMode:!0})).configure(Dt),Nt}return jt=St,(zt=[{key:"child",value:function(Dt){var Nt=this;return Object.create(Nt,{write:{value:function(_t){var at=Object.assign({},Dt,_t);_t instanceof Error&&(at.stack=_t.stack,at.message=_t.message),Nt.write(at)}}})}},{key:"configure",value:function(){var Dt=this,Nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_t=Nt.silent,at=Nt.format,Bt=Nt.defaultMeta,Vt=Nt.levels,Qt=Nt.level,or=Qt===void 0?"info":Qt,ar=Nt.exitOnError,qt=ar===void 0||ar,Gt=Nt.transports,vt=Nt.colors,At=Nt.emitErrs,It=Nt.formatters,Ht=Nt.padLevels,Zt=Nt.rewriters,rr=Nt.stripColors,pr=Nt.exceptionHandlers,_r=Nt.rejectionHandlers;if(this.transports.length&&this.clear(),this.silent=_t,this.format=at||this.format||o(207)(),this.defaultMeta=Bt||null,this.levels=Vt||this.levels||Yt.npm.levels,this.level=or,this.exceptions=new Tt(this),this.rejections=new Ct(this),this.profilers={},this.exitOnError=qt,Gt&&(Gt=Array.isArray(Gt)?Gt:[Gt]).forEach(function(ir){return Dt.add(ir)}),vt||At||It||Ht||Zt||rr)throw new Error(["{ colors, emitErrs, formatters, padLevels, rewriters, stripColors } were removed in winston@3.0.0.","Use a custom winston.format(function) instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`));pr&&this.exceptions.handle(pr),_r&&this.rejections.handle(_r)}},{key:"isLevelEnabled",value:function(Dt){var Nt=this,_t=bt(this.levels,Dt);if(_t===null)return!1;var at=bt(this.levels,this.level);return at!==null&&(this.transports&&this.transports.length!==0?this.transports.findIndex(function(Bt){var Vt=bt(Nt.levels,Bt.level);return Vt===null&&(Vt=at),Vt>=_t})!==-1:at>=_t)}},{key:"log",value:function(Dt,Nt){for(var _t,at,Bt=arguments.length,Vt=new Array(Bt>2?Bt-2:0),Qt=2;Qt<Bt;Qt++)Vt[Qt-2]=arguments[Qt];if(arguments.length===1)return Dt[wt]=Dt.level,this._addDefaultMeta(Dt),this.write(Dt),this;if(arguments.length===2)return Nt&&j(Nt)==="object"?(Nt[wt]=Nt.level=Dt,this._addDefaultMeta(Nt),this.write(Nt),this):(this.write((d(at={},wt,Dt),d(at,"level",Dt),d(at,"message",Nt),at)),this);var or=Vt[0];if(j(or)==="object"&&or!==null){var ar=Nt&&Nt.match&&Nt.match(pt);if(!ar){var qt,Gt=Object.assign({},this.defaultMeta,or,(d(qt={},wt,Dt),d(qt,Rt,Vt),d(qt,"level",Dt),d(qt,"message",Nt),qt));return or.message&&(Gt.message="".concat(Gt.message," ").concat(or.message)),or.stack&&(Gt.stack=or.stack),this.write(Gt),this}}return this.write(Object.assign({},this.defaultMeta,(d(_t={},wt,Dt),d(_t,Rt,Vt),d(_t,"level",Dt),d(_t,"message",Nt),_t))),this}},{key:"_transform",value:function(Dt,Nt,_t){if(this.silent)return _t();Dt[wt]||(Dt[wt]=Dt.level),this.levels[Dt[wt]]||this.levels[Dt[wt]]===0||console.error("[winston] Unknown logger level: %s",Dt[wt]),this._readableState.pipes||console.error("[winston] Attempt to write logs with no transports %j",Dt);try{this.push(this.format.transform(Dt,this.format.options))}catch(at){throw at}finally{_t()}}},{key:"_final",value:function(Dt){var Nt=this.transports.slice();ot(Nt,function(_t,at){if(!_t||_t.finished)return c(at);_t.once("finish",at),_t.end()},Dt)}},{key:"add",value:function(Dt){var Nt=!Mt(Dt)||Dt.log.length>2?new ct({transport:Dt}):Dt;if(!Nt._writableState||!Nt._writableState.objectMode)throw new Error("Transports must WritableStreams in objectMode. Set { objectMode: true }.");return this._onEvent("error",Nt),this._onEvent("warn",Nt),this.pipe(Nt),Dt.handleExceptions&&this.exceptions.handle(),Dt.handleRejections&&this.rejections.handle(),this}},{key:"remove",value:function(Dt){if(!Dt)return this;var Nt=Dt;return(!Mt(Dt)||Dt.log.length>2)&&(Nt=this.transports.filter(function(_t){return _t.transport===Dt})[0]),Nt&&this.unpipe(Nt),this}},{key:"clear",value:function(){return this.unpipe(),this}},{key:"close",value:function(){return this.clear(),this.emit("close"),this}},{key:"setLevels",value:function(){Kt.deprecated("setLevels")}},{key:"query",value:function(Dt,Nt){typeof Dt=="function"&&(Nt=Dt,Dt={}),Dt=Dt||{};var _t={},at=Object.assign({},Dt.query||{});ot(this.transports.filter(function(Bt){return!!Bt.query}),function(Bt,Vt){(function(Qt,or){Dt.query&&typeof Qt.formatQuery=="function"&&(Dt.query=Qt.formatQuery(at)),Qt.query(Dt,function(ar,qt){if(ar)return or(ar);typeof Qt.formatResults=="function"&&(qt=Qt.formatResults(qt,Dt.format)),or(null,qt)})})(Bt,function(Qt,or){Vt&&((or=Qt||or)&&(_t[Bt.name]=or),Vt()),Vt=null})},function(){return Nt(null,_t)})}},{key:"stream",value:function(){var Dt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Nt=new lt,_t=[];return Nt._streams=_t,Nt.destroy=function(){for(var at=_t.length;at--;)_t[at].destroy()},this.transports.filter(function(at){return!!at.stream}).forEach(function(at){var Bt=at.stream(Dt);Bt&&(_t.push(Bt),Bt.on("log",function(Vt){Vt.transport=Vt.transport||[],Vt.transport.push(at.name),Nt.emit("log",Vt)}),Bt.on("error",function(Vt){Vt.transport=Vt.transport||[],Vt.transport.push(at.name),Nt.emit("error",Vt)}))}),Nt}},{key:"startTimer",value:function(){return new Lt(this)}},{key:"profile",value:function(Dt){var Nt=Date.now();if(this.profilers[Dt]){var _t=this.profilers[Dt];delete this.profilers[Dt];for(var at=arguments.length,Bt=new Array(at>1?at-1:0),Vt=1;Vt<at;Vt++)Bt[Vt-1]=arguments[Vt];typeof Bt[Bt.length-2]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),Bt.pop());var Qt=j(Bt[Bt.length-1])==="object"?Bt.pop():{};return Qt.level=Qt.level||"info",Qt.durationMs=Nt-_t,Qt.message=Qt.message||Dt,this.write(Qt)}return this.profilers[Dt]=Nt,this}},{key:"handleExceptions",value:function(){var Dt;console.warn("Deprecated: .handleExceptions() will be removed in winston@4. Use .exceptions.handle()"),(Dt=this.exceptions).handle.apply(Dt,arguments)}},{key:"unhandleExceptions",value:function(){var Dt;console.warn("Deprecated: .unhandleExceptions() will be removed in winston@4. Use .exceptions.unhandle()"),(Dt=this.exceptions).unhandle.apply(Dt,arguments)}},{key:"cli",value:function(){throw new Error(["Logger.cli() was removed in winston@3.0.0","Use a custom winston.formats.cli() instead.","See: https://github.com/winstonjs/winston/tree/master/UPGRADE-3.0.md"].join(`
`))}},{key:"_onEvent",value:function(Dt,Nt){Nt["__winston"+Dt]||(Nt["__winston"+Dt]=function(_t){Dt!=="error"||this.transports.includes(Nt)||this.add(Nt),this.emit(Dt,_t,Nt)}.bind(this),Nt.on(Dt,Nt["__winston"+Dt]))}},{key:"_addDefaultMeta",value:function(Dt){this.defaultMeta&&Object.assign(Dt,this.defaultMeta)}}])&&Z(jt.prototype,zt),St}(ft);function bt(mt,jt){var zt=mt[jt];return zt||zt===0?zt:null}Object.defineProperty(dt.prototype,"transports",{configurable:!1,enumerable:!0,get:function(){var mt=this._readableState.pipes;return Array.isArray(mt)?mt:[mt].filter(Boolean)}}),e.exports=dt}).call(this,o(12).setImmediate)},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0});var c=ut(o(41)),d=ut(o(42)),j=ut(o(64)),Z=ut(o(65)),s=ut(o(66)),$=ut(o(23)),et=ut(o(27));function ut(ft){return ft&&ft.__esModule?ft:{default:ft}}function gt(ft,ot,yt){yt=(0,Z.default)(yt);var wt=0,Rt=0,{length:Mt}=ft,Tt=!1;function Ct(ct,Lt){ct===!1&&(Tt=!0),Tt!==!0&&(ct?yt(ct):++Rt!==Mt&&Lt!==d.default||yt(null))}for(Mt===0&&yt(null);wt<Mt;wt++)ot(ft[wt],wt,(0,s.default)(Ct))}function lt(ft,ot,yt){return(0,j.default)(ft,1/0,ot,yt)}i.default=(0,et.default)(function(ft,ot,yt){return((0,c.default)(ft)?gt:lt)(ft,(0,$.default)(ot),yt)},3),e.exports=i.default},function(e,i,o){Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(c){return(d,j,Z)=>c(d,Z)},e.exports=i.default},function(e,i,o){var c=Object.prototype.toString;e.exports=function(d){if(typeof d.displayName=="string"&&d.constructor.name)return d.displayName;if(typeof d.name=="string"&&d.name)return d.name;if(typeof d=="object"&&d.constructor&&typeof d.constructor.name=="string")return d.constructor.name;var j=d.toString(),Z=c.call(d).slice(8,-1);return(j=Z==="Function"?j.substring(j.indexOf("(")+1,j.indexOf(")")):Z)||"anonymous"}},function(e,i,o){const c=o(10),{LEVEL:d}=o(3),j=o(17),Z=e.exports=function(s={}){if(j.call(this,s),!s.transport||typeof s.transport.log!="function")throw new Error("Invalid transport, must be an object with a log method.");this.transport=s.transport,this.level=this.level||s.transport.level,this.handleExceptions=this.handleExceptions||s.transport.handleExceptions,this._deprecated(),this.transport.__winstonError||(this.transport.__winstonError=function($){this.emit("error",$,this.transport)}.bind(this),this.transport.on("error",this.transport.__winstonError))};c.inherits(Z,j),Z.prototype._write=function(s,$,et){if(this.silent||s.exception===!0&&!this.handleExceptions)return et(null);(!this.level||this.levels[this.level]>=this.levels[s[d]])&&this.transport.log(s[d],s.message,s,this._nop),et(null)},Z.prototype._writev=function(s,$){for(let et=0;et<s.length;et++)this._accept(s[et])&&(this.transport.log(s[et].chunk[d],s[et].chunk.message,s[et].chunk,this._nop),s[et].callback());return $(null)},Z.prototype._deprecated=function(){console.error([`${this.transport.name} is a legacy winston transport. Consider upgrading: `,"- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md"].join(`
`))},Z.prototype.close=function(){this.transport.close&&this.transport.close(),this.transport.__winstonError&&(this.transport.removeListener("error",this.transport.__winstonError),this.transport.__winstonError=null)}},function(e,i,o){function c(j){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(j)}function d(j,Z){for(var s=0;s<Z.length;s++){var $=Z[s];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(j,$.key,$)}}e.exports=function(){function j($){if(function(et,ut){if(!(et instanceof ut))throw new TypeError("Cannot call a class as a function")}(this,j),!$)throw new Error("Logger is required for profiling.");this.logger=$,this.start=Date.now()}var Z,s;return Z=j,(s=[{key:"done",value:function(){for(var $=arguments.length,et=new Array($),ut=0;ut<$;ut++)et[ut]=arguments[ut];typeof et[et.length-1]=="function"&&(console.warn("Callback function no longer supported as of winston@3.0.0"),et.pop());var gt=c(et[et.length-1])==="object"?et.pop():{};return gt.level=gt.level||"info",gt.durationMs=Date.now()-this.start,this.logger.write(gt)}}])&&d(Z.prototype,s),j}()},function(e,i,o){(function(c){const d=o(208),{MESSAGE:j}=o(3),Z=o(31);function s($,et){return et instanceof c?et.toString("base64"):typeof et=="bigint"?et.toString():et}e.exports=d(($,et={})=>($[j]=(et.stable?Z.stableStringify:Z)($,et.replacer||s,et.space),$))}).call(this,o(4).Buffer)},function(e,i,o){class c extends Error{constructor(j){super(`Format functions must be synchronous taking a two arguments: (info, opts)
Found: ${j.toString().split(`
`)[0]}
`),Error.captureStackTrace(this,c)}}e.exports=d=>{if(d.length>2)throw new c(d);function j(s={}){this.options=s}function Z(s){return new j(s)}return j.prototype.transform=d,Z.Format=j,Z}},function(e,i,o){function c(Z,s){if(!(Z instanceof s))throw new TypeError("Cannot call a class as a function")}function d(Z,s){for(var $=0;$<s.length;$++){var et=s[$];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(Z,et.key,et)}}var j=o(85);e.exports=function(){function Z(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};c(this,Z),this.loggers=new Map,this.options=et}var s,$;return s=Z,($=[{key:"add",value:function(et,ut){var gt=this;if(!this.loggers.has(et)){var lt=(ut=Object.assign({},ut||this.options)).transports||this.options.transports;ut.transports=lt?lt.slice():[];var ft=j(ut);ft.on("close",function(){return gt._delete(et)}),this.loggers.set(et,ft)}return this.loggers.get(et)}},{key:"get",value:function(et,ut){return this.add(et,ut)}},{key:"has",value:function(et){return!!this.loggers.has(et)}},{key:"close",value:function(et){var ut=this;if(et)return this._removeLogger(et);this.loggers.forEach(function(gt,lt){return ut._removeLogger(lt)})}},{key:"_removeLogger",value:function(et){this.loggers.has(et)&&(this.loggers.get(et).close(),this._delete(et))}},{key:"_delete",value:function(et){this.loggers.delete(et)}}])&&d(s.prototype,$),Z}()},function(e,i,o){(function(c){const d=o(49),j=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;e.exports=function(Z,s,$){let et,ut,gt=!1,lt=!1;function ft(wt,Rt){let Mt=`"${s}" ${Rt}`;throw wt&&(Mt=`${Mt}, but is set to "${wt}"`),ut&&(Mt=`${Mt}. An example of a valid value would be: ${ut}`),new d(Mt)}function ot(wt){return function(){let Rt=Z[s];if(Rt===void 0)if(et===void 0&&lt)ft(void 0,"is a required variable, but it was not set");else{if(et===void 0)return;Rt=et}lt&&Rt.trim().length===0&&ft(void 0,"is a required variable, but its value was empty"),gt&&(Rt.match(j)||ft(Rt,"should be a valid base64 string if using convertFromBase64"),Rt=c.from(Rt,"base64").toString());const Mt=[Rt].concat(Array.prototype.slice.call(arguments));try{return wt.apply(wt,Mt)}catch(Tt){ft(Rt,Tt.message)}}}const yt={asArray:ot(o(211)),asBoolStrict:ot(o(212)),asBool:ot(o(213)),asPortNumber:ot(o(214)),asEnum:ot(o(215)),asFloatNegative:ot(o(216)),asFloatPositive:ot(o(217)),asFloat:ot(o(51)),asIntNegative:ot(o(218)),asIntPositive:ot(o(91)),asInt:ot(o(50)),asJsonArray:ot(o(219)),asJsonObject:ot(o(220)),asJson:ot(o(52)),asString:ot(o(35)),asUrlObject:ot(o(92)),asUrlString:ot(o(221)),convertFromBase64:function(){return gt=!0,yt},default:function(wt){if(typeof wt=="number")et=wt.toString();else if(Array.isArray(wt)||typeof wt=="object"&&wt!==null)et=JSON.stringify(wt);else{if(typeof wt!="string")throw new d("values passed to default() must be of Number, String, Array, or Object type");et=wt}return yt},required:function(wt){return lt=wt===void 0||wt,yt},example:function(wt){return ut=wt,yt}};return Object.entries($).forEach(([wt,Rt])=>{yt[wt]=ot(Rt)}),yt}}).call(this,o(4).Buffer)},function(e,i,o){const c=o(35);e.exports=function(d,j){return j=j||",",d.length?c(d).split(j).filter(Boolean):[]}},function(e,i,o){e.exports=function(c){const d=c.toLowerCase();if(d!=="false"&&d!=="true")throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return d!=="false"}},function(e,i,o){e.exports=function(c){const d=c.toLowerCase();if(["false","0","true","1"].indexOf(d)===-1)throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!(d==="0"||d==="false")}},function(e,i,o){const c=o(91);e.exports=function(d){var j=c(d);if(j>65535)throw new Error("cannot assign a port number greater than 65535");return j}},function(e,i,o){const c=o(35);e.exports=function(d,j){const Z=c(d);if(j.indexOf(Z)<0)throw new Error(`should be one of [${j.join(", ")}]`);return Z}},function(e,i,o){const c=o(51);e.exports=function(d){const j=c(d);if(j>0)throw new Error("should be a negative float");return j}},function(e,i,o){const c=o(51);e.exports=function(d){const j=c(d);if(j<0)throw new Error("should be a positive float");return j}},function(e,i,o){const c=o(50);e.exports=function(d){const j=c(d);if(j>0)throw new Error("should be a negative integer");return j}},function(e,i,o){const c=o(52);e.exports=function(d){var j=c(d);if(!Array.isArray(j))throw new Error("should be a parseable JSON Array");return j}},function(e,i,o){const c=o(52);e.exports=function(d){var j=c(d);if(Array.isArray(j))throw new Error("should be a parseable JSON Object");return j}},function(e,i,o){const c=o(92);e.exports=function(d){return c(d).toString()}},function(e,i,o){function c(s){var $=this;if($ instanceof c||($=new c),$.tail=null,$.head=null,$.length=0,s&&typeof s.forEach=="function")s.forEach(function(gt){$.push(gt)});else if(arguments.length>0)for(var et=0,ut=arguments.length;et<ut;et++)$.push(arguments[et]);return $}function d(s,$){s.tail=new Z($,s.tail,null,s),s.head||(s.head=s.tail),s.length++}function j(s,$){s.head=new Z($,null,s.head,s),s.tail||(s.tail=s.head),s.length++}function Z(s,$,et,ut){if(!(this instanceof Z))return new Z(s,$,et,ut);this.list=ut,this.value=s,$?($.next=this,this.prev=$):this.prev=null,et?(et.prev=this,this.next=et):this.next=null}e.exports=c,c.Node=Z,c.create=c,c.prototype.removeNode=function(s){if(s.list!==this)throw new Error("removing node which does not belong to this list");var $=s.next,et=s.prev;$&&($.prev=et),et&&(et.next=$),s===this.head&&(this.head=$),s===this.tail&&(this.tail=et),s.list.length--,s.next=null,s.prev=null,s.list=null},c.prototype.unshiftNode=function(s){if(s!==this.head){s.list&&s.list.removeNode(s);var $=this.head;s.list=this,s.next=$,$&&($.prev=s),this.head=s,this.tail||(this.tail=s),this.length++}},c.prototype.pushNode=function(s){if(s!==this.tail){s.list&&s.list.removeNode(s);var $=this.tail;s.list=this,s.prev=$,$&&($.next=s),this.tail=s,this.head||(this.head=s),this.length++}},c.prototype.push=function(){for(var s=0,$=arguments.length;s<$;s++)d(this,arguments[s]);return this.length},c.prototype.unshift=function(){for(var s=0,$=arguments.length;s<$;s++)j(this,arguments[s]);return this.length},c.prototype.pop=function(){if(this.tail){var s=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,s}},c.prototype.shift=function(){if(this.head){var s=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,s}},c.prototype.forEach=function(s,$){$=$||this;for(var et=this.head,ut=0;et!==null;ut++)s.call($,et.value,ut,this),et=et.next},c.prototype.forEachReverse=function(s,$){$=$||this;for(var et=this.tail,ut=this.length-1;et!==null;ut--)s.call($,et.value,ut,this),et=et.prev},c.prototype.get=function(s){for(var $=0,et=this.head;et!==null&&$<s;$++)et=et.next;if($===s&&et!==null)return et.value},c.prototype.getReverse=function(s){for(var $=0,et=this.tail;et!==null&&$<s;$++)et=et.prev;if($===s&&et!==null)return et.value},c.prototype.map=function(s,$){$=$||this;for(var et=new c,ut=this.head;ut!==null;)et.push(s.call($,ut.value,this)),ut=ut.next;return et},c.prototype.mapReverse=function(s,$){$=$||this;for(var et=new c,ut=this.tail;ut!==null;)et.push(s.call($,ut.value,this)),ut=ut.prev;return et},c.prototype.reduce=function(s,$){var et,ut=this.head;if(arguments.length>1)et=$;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");ut=this.head.next,et=this.head.value}for(var gt=0;ut!==null;gt++)et=s(et,ut.value,gt),ut=ut.next;return et},c.prototype.reduceReverse=function(s,$){var et,ut=this.tail;if(arguments.length>1)et=$;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");ut=this.tail.prev,et=this.tail.value}for(var gt=this.length-1;ut!==null;gt--)et=s(et,ut.value,gt),ut=ut.prev;return et},c.prototype.toArray=function(){for(var s=new Array(this.length),$=0,et=this.head;et!==null;$++)s[$]=et.value,et=et.next;return s},c.prototype.toArrayReverse=function(){for(var s=new Array(this.length),$=0,et=this.tail;et!==null;$++)s[$]=et.value,et=et.prev;return s},c.prototype.slice=function(s,$){($=$||this.length)<0&&($+=this.length),(s=s||0)<0&&(s+=this.length);var et=new c;if($<s||$<0)return et;s<0&&(s=0),$>this.length&&($=this.length);for(var ut=0,gt=this.head;gt!==null&&ut<s;ut++)gt=gt.next;for(;gt!==null&&ut<$;ut++,gt=gt.next)et.push(gt.value);return et},c.prototype.sliceReverse=function(s,$){($=$||this.length)<0&&($+=this.length),(s=s||0)<0&&(s+=this.length);var et=new c;if($<s||$<0)return et;s<0&&(s=0),$>this.length&&($=this.length);for(var ut=this.length,gt=this.tail;gt!==null&&ut>$;ut--)gt=gt.prev;for(;gt!==null&&ut>s;ut--,gt=gt.prev)et.push(gt.value);return et},c.prototype.reverse=function(){for(var s=this.head,$=this.tail,et=s;et!==null;et=et.prev){var ut=et.prev;et.prev=et.next,et.next=ut}return this.head=$,this.tail=s,this};try{o(223)(c)}catch{}},function(e,i,o){e.exports=function(c){c.prototype[Symbol.iterator]=function*(){for(let d=this.head;d;d=d.next)yield d.value}}},function(e,i,o){(function(c){(function(){var d,j,Z,s,$,et;typeof performance!="undefined"&&performance!==null&&performance.now?e.exports=function(){return performance.now()}:c!=null&&c.hrtime?(e.exports=function(){return(d()-$)/1e6},j=c.hrtime,s=(d=function(){var ut;return 1e9*(ut=j())[0]+ut[1]})(),et=1e9*c.uptime(),$=s-et):Date.now?(e.exports=function(){return Date.now()-Z},Z=Date.now()):(e.exports=function(){return new Date().getTime()-Z},Z=new Date().getTime())}).call(this)}).call(this,o(2))},function(e,i,o){var c,d,j=o(96),Z=o(97),s=0,$=0;e.exports=function(et,ut,gt){var lt=ut&&gt||0,ft=ut||[],ot=(et=et||{}).node||c,yt=et.clockseq!==void 0?et.clockseq:d;if(ot==null||yt==null){var wt=j();ot==null&&(ot=c=[1|wt[0],wt[1],wt[2],wt[3],wt[4],wt[5]]),yt==null&&(yt=d=16383&(wt[6]<<8|wt[7]))}var Rt=et.msecs!==void 0?et.msecs:new Date().getTime(),Mt=et.nsecs!==void 0?et.nsecs:$+1,Tt=Rt-s+(Mt-$)/1e4;if(Tt<0&&et.clockseq===void 0&&(yt=yt+1&16383),(Tt<0||Rt>s)&&et.nsecs===void 0&&(Mt=0),Mt>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=Rt,$=Mt,d=yt;var Ct=(1e4*(268435455&(Rt+=122192928e5))+Mt)%4294967296;ft[lt++]=Ct>>>24&255,ft[lt++]=Ct>>>16&255,ft[lt++]=Ct>>>8&255,ft[lt++]=255&Ct;var ct=Rt/4294967296*1e4&268435455;ft[lt++]=ct>>>8&255,ft[lt++]=255&ct,ft[lt++]=ct>>>24&15|16,ft[lt++]=ct>>>16&255,ft[lt++]=yt>>>8|128,ft[lt++]=255&yt;for(var Lt=0;Lt<6;++Lt)ft[lt+Lt]=ot[Lt];return ut||Z(ft)}},function(e,i,o){var c=o(96),d=o(97);e.exports=function(j,Z,s){var $=Z&&s||0;typeof j=="string"&&(Z=j==="binary"?new Array(16):null,j=null);var et=(j=j||{}).random||(j.rng||c)();if(et[6]=15&et[6]|64,et[8]=63&et[8]|128,Z)for(var ut=0;ut<16;++ut)Z[$+ut]=et[ut];return Z||d(et)}},function(e,i,o){(function(c){(function(d){function j(s){if((s=s===void 0?"utf-8":s)!=="utf-8")throw new RangeError("Failed to construct 'TextEncoder': The encoding label provided ('"+s+"') is invalid.")}function Z(s,$){if($=$===void 0?{fatal:!1}:$,(s=s===void 0?"utf-8":s)!=="utf-8")throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+s+"') is invalid.");if($.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}if(d.TextEncoder&&d.TextDecoder)return!1;Object.defineProperty(j.prototype,"encoding",{value:"utf-8"}),j.prototype.encode=function(s,$){if(($=$===void 0?{stream:!1}:$).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");$=0;for(var et=s.length,ut=0,gt=Math.max(32,et+(et>>1)+7),lt=new Uint8Array(gt>>3<<3);$<et;){var ft=s.charCodeAt($++);if(55296<=ft&&56319>=ft){if($<et){var ot=s.charCodeAt($);(64512&ot)==56320&&(++$,ft=((1023&ft)<<10)+(1023&ot)+65536)}if(55296<=ft&&56319>=ft)continue}if(ut+4>lt.length&&(gt+=8,gt=(gt*=1+$/s.length*2)>>3<<3,(ot=new Uint8Array(gt)).set(lt),lt=ot),(4294967168&ft)==0)lt[ut++]=ft;else{if((4294965248&ft)==0)lt[ut++]=ft>>6&31|192;else if((4294901760&ft)==0)lt[ut++]=ft>>12&15|224,lt[ut++]=ft>>6&63|128;else{if((4292870144&ft)!=0)continue;lt[ut++]=ft>>18&7|240,lt[ut++]=ft>>12&63|128,lt[ut++]=ft>>6&63|128}lt[ut++]=63&ft|128}}return lt.slice(0,ut)},Object.defineProperty(Z.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(Z.prototype,"fatal",{value:!1}),Object.defineProperty(Z.prototype,"ignoreBOM",{value:!1}),Z.prototype.decode=function(s,$){if(($=$===void 0?{stream:!1}:$).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");$=0;for(var et=(s=new Uint8Array(s)).length,ut=[];$<et;){var gt=s[$++];if(gt===0)break;if((128&gt)==0)ut.push(gt);else if((224&gt)==192){var lt=63&s[$++];ut.push((31&gt)<<6|lt)}else if((240&gt)==224){lt=63&s[$++];var ft=63&s[$++];ut.push((31&gt)<<12|lt<<6|ft)}else(248&gt)==240&&(65535<(gt=(7&gt)<<18|(lt=63&s[$++])<<12|(ft=63&s[$++])<<6|63&s[$++])&&(gt-=65536,ut.push(gt>>>10&1023|55296),gt=56320|1023&gt),ut.push(gt))}return String.fromCharCode.apply(null,ut)},d.TextEncoder=j,d.TextDecoder=Z})(typeof window!="undefined"?window:c!==void 0?c:this)}).call(this,o(5))},function(e,i,o){o.r(i),o.d(i,"AuthClient",function(){return j}),o.d(i,"RtcSignalingClient",function(){return s}),o.d(i,"Credentials",function(){return yt}),o.d(i,"SignalingPromiseClient",function(){return wt.SignalingPromiseClient}),o.d(i,"IRtcClientConfiguration",function(){}),o.d(i,"IRtcConnectConfiguration",function(){}),o.d(i,"IRtcConnectionStatsInfo",function(){}),o.d(i,"IRtcSendConfiguration",function(){}),o.d(i,"IRtcSessionMetricsMessageCounts",function(){}),o.d(i,"IRtcStreamMessage",function(){}),o.d(i,"IStreamControl",function(){}),o.d(i,"RtcClient",function(){return pr});var c=o(26),d=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class j extends c.a{adminSignup(ir,cr){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/admin-signup",{token:cr,method:"POST",body:JSON.stringify(ir)})})}login(ir){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/login",{method:"POST",body:JSON.stringify(ir),allowUnsafeRetries:!0})})}loginWithGoogleToken(ir){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/login-google",{method:"POST",body:JSON.stringify(ir),allowUnsafeRetries:!0})})}refresh(ir,cr){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/refresh",{method:"POST",body:JSON.stringify({refreshToken:ir,tokenExpirationSeconds:cr}),allowUnsafeRetries:!0})})}respondToNewPasswordRequiredChallenge(ir){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/respond-to-new-password-required-challenge",{method:"POST",body:JSON.stringify(ir)})})}forgotPassword(ir){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/forgot-password",{method:"POST",body:JSON.stringify({email:ir})})})}confirmForgotPassword(ir){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/confirm-forgot-password",{method:"POST",body:JSON.stringify(ir)})})}resendInvitation(ir){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/resend-invitation",{method:"POST",body:JSON.stringify({email:ir})})})}changePassword({token:ir,refreshToken:cr,currentPassword:mr,newPassword:Cr}){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/change-password",{token:ir,method:"POST",body:JSON.stringify({refreshToken:cr,currentPassword:mr,newPassword:Cr})})})}getDeviceCredentials(ir){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/device-credentials",{token:ir,method:"POST",allowUnsafeRetries:!0})})}impersonate(ir,cr){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/impersonate",{token:ir,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({userId:cr})})})}createServiceAccount(ir,cr,mr){return d(this,void 0,void 0,function*(){return yield this.fetch("auth/service-account",{token:ir,method:"POST",allowUnsafeRetries:!0,body:JSON.stringify({name:cr,roleId:mr})})})}getFeatures(ir){return d(this,void 0,void 0,function*(){return(yield this.fetch("auth/features",{token:ir})).features})}}var Z=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class s extends c.a{createPeer(ir,cr){return Z(this,void 0,void 0,function*(){return yield this.fetch("peers",{token:ir,method:"POST",body:JSON.stringify(cr)})})}getPeers(ir){return Z(this,void 0,void 0,function*(){return(yield this.fetch("peers",{token:ir})).items})}refreshPeer(ir,cr){return Z(this,void 0,void 0,function*(){yield this.fetch(`peers/${cr}/refresh`,{token:ir,method:"POST",allowUnsafeRetries:!0})})}createSession(ir,cr){return Z(this,void 0,void 0,function*(){return yield this.fetch("sessions",{token:ir,method:"POST",body:JSON.stringify(cr)})})}refreshSession(ir,cr){return Z(this,void 0,void 0,function*(){yield this.fetch(`sessions/${cr}/refresh`,{token:ir,method:"POST",allowUnsafeRetries:!0})})}deleteSession(ir,cr){return Z(this,void 0,void 0,function*(){yield this.fetch(`sessions/${cr}`,{token:ir,method:"DELETE",allowUnsafeRetries:!0})})}getSessions(ir){return Z(this,void 0,void 0,function*(){return(yield this.fetch("sessions",{token:ir})).items})}getIceServers(ir){return Z(this,void 0,void 0,function*(){return(yield this.fetch("ice-servers",{token:ir})).items})}addSignals(ir,cr,mr){return Z(this,void 0,void 0,function*(){yield this.fetch(`sessions/${cr}/add-signals`,{token:ir,method:"POST",body:JSON.stringify(mr)})})}takeSignals(ir,cr){return Z(this,void 0,void 0,function*(){return(yield this.fetch(`sessions/${cr}/take-signals`,{token:ir,method:"POST"})).items})}}var $=o(1),et=o(11),ut=o(21),gt=o(102),lt=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class ft extends class{constructor(ir={}){this.cache=new gt(ir),this.stringify=ir.fastStringify?JSON.stringify:ut}set(ir,cr,mr){if(!this.cache.set(this.stringify(ir),cr,mr))throw Error(`Value too large (${this.cache.lengthCalculator(cr)} > ${this.cache.max})`)}get(ir){return this.cache.get(this.stringify(ir))}del(ir){this.cache.del(this.stringify(ir))}length(){return this.cache.length}reset(){this.cache.reset()}prune(){return this.cache.prune()}forEach(ir){return this.cache.forEach(ir)}}{constructor(ir={}){if(super(ir),this.expireRejectedPromiseValues=ir.expireRejectedPromiseValues===void 0||ir.expireRejectedPromiseValues,this.rejectedPromiseValueTtl=ir.rejectedPromiseValueTtl!==void 0?ir.rejectedPromiseValueTtl:$.a.second,this.rejectedPromiseValueTtl<0)throw new Error("rejectedPromiseValueTtl must not be negative")}set(ir,cr,mr){const Cr=this.stringify(ir);this.cache.set(Cr,cr,mr),this.expireRejectedPromiseValues&&Promise.resolve(cr).catch(()=>lt(this,void 0,void 0,function*(){yield Object(et.a)(this.rejectedPromiseValueTtl),this.cache.peek(Cr)===cr&&this.cache.del(Cr)}))}}var ot=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class yt{constructor(ir,cr,mr){this.authClient=ir,this.email=cr,this.password=mr,this.tokenTtlMs=1*$.a.hour,this.tokenCache=new ft({max:100,maxAge:this.tokenTtlMs-5*$.a.minute,fastStringify:!0})}getToken(){return ot(this,void 0,void 0,function*(){let ir=this.tokenCache.get(this.email);return ir||(ir=(()=>ot(this,void 0,void 0,function*(){const{authentication:cr}=yield this.authClient.login({email:this.email,password:this.password,tokenExpirationSeconds:this.tokenTtlMs/$.a.second});if(!cr)throw new Error("User account not verified.");return cr.accessToken}))(),this.tokenCache.set(this.email,ir)),ir})}}var wt=o(93),Rt=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};function Mt(_r){return Rt(this,void 0,void 0,function*(){return(yield Promise.all(_r.map(ir=>ir.catch(cr=>cr)))).filter(ir=>ir instanceof Error)})}function Tt(_r){if(_r!==void 0)return _r;throw new Error("Value is undefined")}var Ct=o(0),ct=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};function Lt({func:_r,delay:ir,immediate:cr}){let mr=!1,Cr=setTimeout(function Yr(){return ct(this,void 0,void 0,function*(){if(mr)return;const an=new Date().getTime();try{Mr=_r(),yield Mr}finally{if(!mr){const dn=new Date().getTime();Cr=setTimeout(Yr,Math.max(ir-(dn-an),0))}}})},cr?0:ir),Mr=Promise.resolve();return{stop(){return ct(this,void 0,void 0,function*(){mr=!0,clearTimeout(Cr),yield Mr})}}}function Kt(_r,ir){return Object.keys(_r).reduce((cr,mr)=>Object.assign(Object.assign({},cr),{[mr]:ir(_r[mr])}),{})}var Yt=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class pt{constructor(ir){this.message=ir}send(ir){return Yt(this,void 0,void 0,function*(){Ct.a.info(this.message,Kt(ir,cr=>{const{sum:mr,count:Cr}=cr,Mr=mr/Cr;return Object.assign(Object.assign({},cr),{average:Mr})}))})}}var dt=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};const bt=o(224),mt=!!o(7).c,jt=new class{constructor(_r=60){this.buffer={},this.metrics={},this.reporters=[],this.flushInterval=Lt({func:()=>this.flushStats(),delay:_r*$.a.second})}shutdown(){return dt(this,void 0,void 0,function*(){yield this.flushInterval.stop(),yield this.flushStats(),yield Object(et.a)(2*$.a.second)})}aggregate(_r,ir){if(this.buffer[_r]){const{min:cr,max:mr,sum:Cr,count:Mr}=this.buffer[_r];this.buffer[_r]={min:Math.min(cr,ir),max:Math.max(mr,ir),sum:Cr+ir,count:Mr+1}}else this.buffer[_r]={min:ir,max:ir,sum:ir,count:1}}increment(_r){this.aggregate(_r,1)}timer(_r,ir){return dt(this,void 0,void 0,function*(){const cr=bt(),mr=yield ir(),Cr=bt();return this.aggregate(_r,Cr-cr),mr})}metric(_r,ir){this.metrics[_r]=ir}registerStatsReporter(_r){this.reporters.push(_r)}write(_r){return dt(this,void 0,void 0,function*(){if(Object.values(_r).length===0)return;const ir=yield Mt(this.reporters.map(cr=>cr.send(_r)));for(const cr of ir)Ct.a.warn("Failed to write stats",{error:cr})})}flushStats(){return dt(this,void 0,void 0,function*(){const _r=Object.assign(Object.assign({},this.buffer),Kt(this.metrics,ir=>{const cr=ir();return{min:cr,max:cr,sum:cr,count:1}}));Object.keys(_r).length>0&&(yield this.write(_r),this.buffer={})})}};mt||jt.registerStatsReporter(new pt("stats"));var zt=o(8),kt=o(22),St=o(103),Dt=o(36),Nt=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class _t extends Dt.a{constructor(ir){super(ir)}postLanRtcOffer(ir){return Nt(this,void 0,void 0,function*(){return yield this.fetch("v1/lan-rtc-offer",{method:"POST",body:JSON.stringify(ir)})})}}var at=o(55);const Bt={ordered:!1,maxPacketLifeTime:300*$.a.millisecond},Vt={ordered:!0},Qt={ordered:!0},or={ordered:!1,maxRetransmits:0},ar={ordered:!1,maxRetransmits:0};function qt({entityId:_r,streamName:ir,streamType:cr}){return`${_r}.${ir}.${cr}`}var Gt=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class vt{constructor(ir,cr){this.sessionId=ir,this.connection=cr,this.counts={localSent:new Map,localReceived:new Map,remoteSent:new Map,remoteReceived:new Map},this.sessionId=ir,this.connection=cr}updateRemoteMessagesCounts(ir){if(ir.payload.streamsInfo){this.counts.remoteSent=new Map,this.counts.remoteReceived=new Map;for(const cr of ir.payload.streamsInfo.items)this.counts.remoteSent.set(cr.streamId,cr.sentCount),this.counts.remoteReceived.set(cr.streamId,cr.receivedCount)}}getLocalStreamsInfo(ir){const{localSent:cr,localReceived:mr}=this.counts;return{items:[...new Set([...cr.keys(),...mr.keys()])].map(Cr=>{var Mr,Yr;return{streamId:Cr,sentCount:(Mr=cr.get(Cr))!==null&&Mr!==void 0?Mr:0,receivedCount:(Yr=mr.get(Cr))!==null&&Yr!==void 0?Yr:0}}),timestamp:ir}}incrementLocalSent(ir){const{localSent:cr}=this.counts,mr=qt(ir.header.stream);cr.set(mr,(cr.get(mr)||0)+1)}incrementLocalReceived(ir){const{localReceived:cr}=this.counts,mr=qt(ir.header.stream),Cr=cr.get(mr)||0;if(Cr===0){const{streamName:Mr,streamType:Yr}=ir.header.stream;Ct.a.debug("RTC client received first message for stream",{streamName:Mr,streamType:Yr})}cr.set(mr,Cr+1)}uploadMetrics(){return Gt(this,void 0,void 0,function*(){const{sessionId:ir}=this,cr=yield this.connection.peerConnection.getStats(),mr={};cr.forEach(rn=>mr[rn.id]=rn),Ct.a.debug("rtc-stats",Object.assign(Object.assign({},mr),{sessionId:ir}));const{localSent:Cr,localReceived:Mr,remoteSent:Yr,remoteReceived:an}=this.counts,dn=[...new Set([...Cr.keys(),...Mr.keys()])].reduce((rn,tn)=>{const Hn=Cr.get(tn),Qn=Mr.get(tn),io=Yr.get(tn),yo=an.get(tn);return Object.assign(Object.assign({},rn),{[`local-${tn}-sent`]:Hn,[`local-${tn}-received`]:Qn,[`remote-${tn}-sent`]:io,[`remote-${tn}-received`]:yo})},{sessionId:ir});Ct.a.debug("rtc-message-report",Object.assign({deviceId:this.connection.getRemoteDeviceId()},dn))})}}function At(_r){return new Set(["disconnected","failed","closed"]).has(_r.iceConnectionState)}var It=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class Ht{constructor(ir,cr,mr){this.peerConnection=ir,this.config=cr,this.dataChannelNotifier=mr,this.connectTimeoutMs=20*$.a.second,this.iceGatheringTimeoutMs=15*$.a.second,this.pingUpdateTimeoutMs=1*$.a.second,this.streamsInfoUpdateTimeoutMs=2*$.a.second,this.reassemblyTimeoutMs=500*$.a.millisecond,this.reassemblyTableCleanupMs=1*$.a.second,this.heartbeatTimeoutMs=20*$.a.millisecond,this.streamLatestTimestamp=new Map,this.reassemblyTable=new Map,this.reassemblyTableLastTimestamp=new Map,this.closeCalled=!1,this.gotOffer=!1,this.hasIceCandidate=!1;const{isOffer:Cr}=cr.baseConfig;Cr?this.initializeChannels(ir):ir.ondatachannel=Mr=>{switch(Mr.channel.label){case"stream.latest-ttl":this.latestTtlStreamChannel=Mr.channel;break;case"stream.reliable":this.reliableStreamChannel=Mr.channel;break;case"stream.latest-reliable":this.latestReliableStreamChannel=Mr.channel;break;case"stream.latest-try-once":this.latestTryOnceStreamChannel=Mr.channel;break;case"heartbeat":return void(this.heartbeatChannel=Mr.channel);default:return void this.dataChannelNotifier(Mr.channel)}this.setupChannel(Mr.channel)},this.pingUpdateTimeout=setInterval(()=>{const{reliableStreamChannel:Mr}=this;Mr&&this.sendSystemMessage(Mr,{type:"ping"})},this.pingUpdateTimeoutMs),this.streamsInfoUpdateTimeout=setInterval(()=>{const{latestTtlStreamChannel:Mr}=this;Mr&&this.sendSystemMessage(Mr,{type:"streams-info"})},this.streamsInfoUpdateTimeoutMs),this.reassemblyTableCleanupTimeout=setInterval(()=>{const Mr=new Date().getTime();this.reassemblyTableLastTimestamp.forEach((Yr,an,dn)=>{Mr>an+this.reassemblyTimeoutMs&&this.reassemblyTable.delete(Yr)})},this.reassemblyTableCleanupMs),this.heartbeatTimeout=setInterval(()=>{const{heartbeatChannel:Mr}=this;Mr&&Mr.readyState==="open"&&Mr.send(new Uint8Array([1]))},this.heartbeatTimeoutMs)}handleSignal(ir){return It(this,void 0,void 0,function*(){const{peerConnection:cr}=this,{track:mr}=this.config.baseConfig,Cr=(()=>{try{return JSON.parse(ir.getPayload())}catch{return}})();if(!Cr)return void Ct.a.error("Received unparseable signal.");Ct.a.debug("Handling signal",{description:Cr});const{sdp:Mr,type:Yr}=Cr;if(!Mr||!Yr)return void Ct.a.warn("Received non-SDP signal");const{signalingState:an,connectionState:dn}=cr;if(an!=="stable"||dn!=="connected")if(cr.remoteDescription)Ct.a.warn(`Received SDP after remote description was set: ${Mr}`);else{if(Yr==="offer"){if(an!=="stable")return void Ct.a.warn("Received offer SDP when signaling is ongoing.");yield cr.setRemoteDescription(Cr);const rn=yield cr.createAnswer();yield cr.setLocalDescription(rn);const tn=ir.clone();return mr==null||mr("Answer Received",tn),tn.setPayload(JSON.stringify(rn)),tn.setReceiverId(ir.getSenderId()),tn.setSenderId(ir.getReceiverId()),tn}if(Yr==="answer"){if(an==="stable")return void Ct.a.warn("Received answer SDP when signaling hasn't started.");yield cr.setRemoteDescription(Cr)}}else Ct.a.warn(`Received SDP when already connected: ${Mr}`)})}send(ir,cr){const mr=this.getChannelFromLabel(cr.channelLabel);mr?this.sendOnChannel(mr,ir):Ct.a.warn("Send called with unexpected channel label",{channelLabel:cr.channelLabel})}controlRemoteStream(ir){this.sendSystemMessage(Tt(this.reliableStreamChannel),{type:"stream-control",streamControl:ir})}isActive(){return new Set(["new","checking","connected","completed"]).has(this.peerConnection.iceConnectionState)||this.isReady()}isReady(){const{reliableStreamChannel:ir,latestTtlStreamChannel:cr,latestTryOnceStreamChannel:mr,latestReliableStreamChannel:Cr}=this;return(ir==null?void 0:ir.readyState)==="open"&&(cr==null?void 0:cr.readyState)==="open"&&(mr==null?void 0:mr.readyState)==="open"&&(Cr==null?void 0:Cr.readyState)==="open"}close(){return It(this,void 0,void 0,function*(){if(this.closeCalled)return;this.closeCalled=!0,this.sessionMetrics&&(yield this.sessionMetrics.uploadMetrics()),this.pingUpdateTimeout&&clearInterval(this.pingUpdateTimeout),this.reassemblyTableCleanupTimeout&&clearInterval(this.reassemblyTableCleanupTimeout),this.streamsInfoUpdateTimeout&&clearInterval(this.streamsInfoUpdateTimeout),this.heartbeatTimeout&&clearInterval(this.heartbeatTimeout);const{peerConnection:ir,reliableStreamChannel:cr,latestTtlStreamChannel:mr,latestTryOnceStreamChannel:Cr,latestReliableStreamChannel:Mr}=this;ir.close(),cr==null||cr.close(),mr==null||mr.close(),Cr==null||Cr.close(),Mr==null||Mr.close()})}getPing(){return this.pingTimeMs}getLastMessageTimestamp(){return this.lastMessageTimestamp}getSessionCreatedTimestamp(){var ir;return(ir=this.config.remoteConfig)===null||ir===void 0?void 0:ir.sessionCreatedTimestamp}setSessionCreatedTimestamp(ir){this.config.remoteConfig&&(this.config.remoteConfig.sessionCreatedTimestamp=ir)}getSessionId(){var ir;return(ir=this.config.remoteConfig)===null||ir===void 0?void 0:ir.sessionId}setSessionId(ir){this.config.remoteConfig&&(this.config.remoteConfig.sessionId=ir,this.sessionMetrics=new vt(ir,this))}getRemotePeerId(){return this.config.baseConfig.remotePeerId}getRemoteDeviceId(){var ir;return(ir=this.config.baseConfig)===null||ir===void 0?void 0:ir.remoteDeviceId}setRemoteDeviceId(ir){this.config.baseConfig.remoteDeviceId=ir}getSessionMetricsMessageCounts(){var ir;return(ir=this.sessionMetrics)===null||ir===void 0?void 0:ir.counts}getConnectionStatsInfo(){return It(this,void 0,void 0,function*(){const{peerConnection:ir}=this;if(!ir)return;const cr=yield ir.getStats(null),mr=[];cr.forEach(dn=>{mr.push(dn)});const Cr=mr.find(dn=>dn.type==="transport");if(!Cr)return;const Mr=mr.find(dn=>(dn.type==="candidate-pair"||dn.type==="candidatepair")&&dn.id===Cr.selectedCandidatePairId);if(!Mr)return;const Yr=mr.find(dn=>dn.id===Mr.localCandidateId),an=mr.find(dn=>dn.id===Mr.remoteCandidateId);return Yr&&an&&(Yr.address=Yr.address||Yr.ip,an.address=an.address||an.ip,Yr.address!==void 0&&an.address!==void 0)?{transport:Cr,localCandidate:Yr,remoteCandidate:an}:void 0})}initializeChannels(ir){this.heartbeatChannel=ir.createDataChannel("heartbeat",ar),this.heartbeatChannel.binaryType="arraybuffer",this.latestTtlStreamChannel=ir.createDataChannel("stream.latest-ttl",Bt),this.latestTtlStreamChannel.binaryType="arraybuffer",this.reliableStreamChannel=ir.createDataChannel("stream.reliable",Vt),this.reliableStreamChannel.binaryType="arraybuffer",this.latestReliableStreamChannel=ir.createDataChannel("stream.latest-reliable",Qt),this.latestReliableStreamChannel.binaryType="arraybuffer",this.latestTryOnceStreamChannel=ir.createDataChannel("stream.latest-try-once",or),this.latestTryOnceStreamChannel.binaryType="arraybuffer",this.setupChannel(this.latestTtlStreamChannel),this.setupChannel(this.reliableStreamChannel),this.setupChannel(this.latestReliableStreamChannel),this.setupChannel(this.latestTryOnceStreamChannel)}getOffer(){var ir,cr,mr;return It(this,void 0,void 0,function*(){const{gotOffer:Cr}=this,{peerConnection:Mr,config:Yr}=this;if(this.config.baseConfig.isLan)throw new Error('"getOffer" method can only be called with internet connections. LAN connections should call the "getLanOffer" method.');const an=(ir=this.config.remoteConfig)===null||ir===void 0?void 0:ir.sessionId;if(Cr)return void Ct.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,At(this.peerConnection))return void Ct.a.debug("Failed to generate offer because the peer connection was inactive.");const dn=Yr.baseConfig.track;Mr.onicecandidate=()=>{this.hasIceCandidate=!0},Mr.oniceconnectionstatechange=()=>It(this,void 0,void 0,function*(){const io=Mr.iceConnectionState;if(io==="connected"||io==="completed"){const yo=yield this.getConnectionStatsInfo(),ko=yo?function(Ho){const qo=Ho.localCandidate.candidateType,Fo=Ho.remoteCandidate.candidateType;return qo==="host"&&Fo==="host"?"local":qo==="relay"||Fo==="relay"?"TURN":"STUN"}(yo):void 0;Ct.a.info(`ICE connection state changed to ${io}`,{sessionId:an,connectionStatsInfo:yo,iceMode:ko}),dn==null||dn("ICE connection state change",{iceConnectionState:io,sessionId:an,connectionStatsInfo:yo,iceMode:ko})}}),yield Mr.setLocalDescription(yield Mr.createOffer());const rn=new Date().getTime();for(;;){const io=new Date().getTime()-rn;if(io>this.connectTimeoutMs)return void Ct.a.debug("Failed to generate offer because ICE gathering timed out.");if(io>this.iceGatheringTimeoutMs&&this.hasIceCandidate){Ct.a.debug("ICE gathering partially completed; proceeding",{iceTransportPolicy:Mr.getConfiguration().iceTransportPolicy,waitTime:io}),dn==null||dn("ICE gathering partially completed",{sessionId:an,iceTransportPolicy:Mr.getConfiguration().iceTransportPolicy,waitTime:io});break}if(Mr.iceGatheringState==="complete"){Ct.a.debug("ICE gathering complete",{iceTransportPolicy:Mr.getConfiguration().iceTransportPolicy,waitTime:io}),dn==null||dn("ICE gathering completed",{sessionId:an,iceTransportPolicy:Mr.getConfiguration().iceTransportPolicy,waitTime:io});break}yield Object(et.a)(.1*$.a.second)}const tn=(cr=this.peerConnection.getConfiguration().iceServers)!==null&&cr!==void 0?cr:[];for(const io of tn)io.credentialType=void 0;const Hn=JSON.stringify(tn),Qn=new zt.Signal;return Qn.setPayload(JSON.stringify(Mr.localDescription)),Qn.setSenderId(this.config.baseConfig.localPeerId),Qn.setReceiverId(this.config.baseConfig.remotePeerId),Qn.setIceServers(Hn),Qn.setIceTransportPolicy((mr=this.peerConnection.getConfiguration().iceTransportPolicy)!==null&&mr!==void 0?mr:"all"),Qn.setSessionType(zt.SessionType.TELEOP),Ct.a.debug("Sending offer signal with description",{description:Qn.getPayload()}),Qn})}getLanOffer(){return It(this,void 0,void 0,function*(){const{peerConnection:ir,gotOffer:cr}=this;if(!this.config.baseConfig.isLan)throw new Error('"getLanOffer" method can only be used with LAN connections. Internet connections should call the "getOffer" method.');if(cr)return void Ct.a.debug("Failed to generate offer because gotOffer was already called.");if(this.gotOffer=!0,At(this.peerConnection))return void Ct.a.debug("Failed to generate offer because the peer connection was inactive.");yield ir.setLocalDescription(yield ir.createOffer());const mr=new Date().getTime();for(;;){if(new Date().getTime()-mr>this.iceGatheringTimeoutMs)return void Ct.a.debug("Failed to generate offer because ICE gathering timed out.");if(ir.iceGatheringState==="complete")break;yield Object(et.a)(.1*$.a.second)}const Cr=ir.localDescription;if(Cr)return Ct.a.debug("Sending LAN offer signal with description",{description:Cr}),Cr;Ct.a.error("Failed to generate LAN offer description")})}handleLanAnswer(ir){return It(this,void 0,void 0,function*(){const{peerConnection:cr}=this;if(!this.config.baseConfig.isLan)throw new Error('"handleLanAnswer" method can only be used with LAN connections. Internet connections should call the "handleSignal" method.');yield cr.setRemoteDescription(ir)})}getChannelFromLabel(ir){switch(ir){case"stream.latest-ttl":return this.latestTtlStreamChannel;case"stream.reliable":return this.reliableStreamChannel;case"stream.latest-reliable":return this.latestReliableStreamChannel;case"stream.latest-try-once":return this.latestTryOnceStreamChannel}}sendOnChannel(ir,cr){let mr;try{mr=Object(at.encode)(JSON.stringify(cr))}catch(Cr){return void Ct.a.warn("Failed to encode RTC message",{error:Cr})}try{ir.send(mr),this.sessionMetrics&&this.sessionMetrics.incrementLocalSent(cr)}catch(Cr){Ct.a.warn("Failed to send message to channel",{error:Cr,channel:ir.label})}}channelNotRecognized(ir){return ir!==this.latestTtlStreamChannel&&ir!==this.latestReliableStreamChannel&&ir!==this.latestTryOnceStreamChannel&&ir!==this.reliableStreamChannel}setupChannel(ir){ir.onmessage=cr=>{if(this.channelNotRecognized(ir))return void Ct.a.warn("Received message on unrecognized data channel.");let mr;try{mr=JSON.parse(Object(at.decode)(cr.data))}catch(Cr){return void Ct.a.warn("Received unparseable message on RTC stream data channel",{error:Cr,channel:ir.label})}mr.communicationType==="message-chunk"?this.receiveChannelMessageChunk(ir,mr):this.receiveChannelMessage(ir,mr)},ir.onerror=cr=>{Ct.a.warn(`Channel error: ${cr.error}`,{error:cr.error,sessionId:this.getSessionId(),channelLabel:ir.label})},ir.onopen=()=>{Ct.a.debug("Channel opened",{sessionId:this.getSessionId(),channelLabel:ir.label})},ir.onclose=()=>{const cr={bufferedAmount:ir.bufferedAmount,sessionId:this.getSessionId(),channelLabel:ir.label};this.closeCalled===!1?Ct.a.debug("Unexpected channel closed",cr):Ct.a.debug("Channel closed",cr)}}receiveChannelMessage(ir,cr){const{config:mr}=this,{remotePeerId:Cr}=this.config.baseConfig;this.lastMessageTimestamp=new Date().getTime(),cr=function(Mr){switch(Mr.header.stream.streamType){case"twist":const{twist:Yr}=Mr.payload;if(!Yr)throw Error("twist not in payload of RTC message with type twist");return{header:Mr.header,payload:{twist:{linear:Object.assign({x:0,y:0,z:0},Yr.linear),angular:Object.assign({x:0,y:0,z:0},Yr.angular)}}};case"pose":const{pose:an}=Mr.payload;if(!an)throw Error("pose not in payload of RTC message with type pose");return{header:Mr.header,payload:{pose:{translation:Object.assign({x:0,y:0,z:0},an.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},an.rotation)}}};case"pose-with-covariance":const{poseWithCovariance:dn}=Mr.payload;if(!dn)throw Error("poseWithCovariance not in payload of RTC message with type pose-with-covariance");const rn=new Array(36).fill(0);return dn.covariance.forEach((Hn,Qn)=>{if(Qn>=36)throw Error("covariance contains more than 36 elements");rn[Qn]=Hn}),{header:Mr.header,payload:{poseWithCovariance:{pose:{translation:Object.assign({x:0,y:0,z:0},dn.pose.translation),rotation:Object.assign({x:0,y:0,z:0,w:0},dn.pose.rotation)},covariance:rn}}};case"point":const{point:tn}=Mr.payload;if(!tn)throw Error("point not in payload of RTC message with type point");return{header:Mr.header,payload:{point:Object.assign({x:0,y:0,z:0},tn)}};default:return Mr}}(cr),this.sessionMetrics&&this.sessionMetrics.incrementLocalReceived(cr),this.handleSystemMessage(ir,cr)||(ir===this.latestTryOnceStreamChannel||ir===this.latestTtlStreamChannel||ir===this.latestReliableStreamChannel)&&!this.isLatestMessage(cr)||mr.baseConfig.receive(Cr,cr)}receiveChannelMessageChunk(ir,cr){const mr=this.reassemblyTable.get(cr.id)||[];if(mr.push(cr),mr.length===cr.total){const Cr=function(Mr){const Yr=Mr.sort((an,dn)=>an.seq<dn.seq?-1:1).map(an=>an.part).reduce((an,dn)=>an+dn);try{return JSON.parse(Yr)}catch{return void Ct.a.warn("Could not reassemble RTC message chunks")}}(mr);return Cr&&this.receiveChannelMessage(ir,Cr),void this.reassemblyTable.delete(cr.id)}this.reassemblyTable.set(cr.id,mr),this.reassemblyTableLastTimestamp.set(cr.id,new Date().getTime())}handleSystemMessage(ir,cr){var mr,Cr;const{config:Mr}=this,{baseConfig:Yr}=Mr,{remotePeerId:an}=Yr;switch(cr.header.stream.streamType){case"ping":return this.sendSystemMessage(ir,{type:"pong",timestamp:Tt(cr.payload.ping)}),!0;case"pong":const dn=new Date().getTime()-Tt(cr.payload.pong);return this.pingTimeMs=dn,jt.aggregate("rtc-ping-time",dn),!0;case"streams-info":const{sessionMetrics:rn}=this,tn=(mr=cr.payload.streamsInfo)===null||mr===void 0?void 0:mr.timestamp;return!!tn&&(rn==null||rn.updateRemoteMessagesCounts(cr),(Cr=Yr.onStreamsInfoUpdate)===null||Cr===void 0||Cr.call(Yr,an,tn),!0);case"stream-control":return!0;default:return!1}}sendSystemMessage(ir,cr){var mr;const{localUserId:Cr,localPeerId:Mr}=this.config.baseConfig;if(ir.readyState!=="open")return;const Yr={entityId:Cr!=null?Cr:Mr,streamName:`$.${cr.type}`,streamType:cr.type};let an;switch(cr.type){case"ping":an={ping:new Date().getTime()};break;case"pong":an={pong:cr.timestamp};break;case"stream-control":an={streamControl:cr.streamControl};break;case"streams-info":an={streamsInfo:(mr=this.sessionMetrics)===null||mr===void 0?void 0:mr.getLocalStreamsInfo(new Date().getTime())}}this.sendOnChannel(ir,function(dn,rn){return{header:{stream:dn,created:Date.now(),frameId:""},payload:rn}}(Yr,an))}isLatestMessage(ir){const cr=qt(ir.header.stream),mr=(this.streamLatestTimestamp.get(cr)||0)<=ir.header.created;return mr&&this.streamLatestTimestamp.set(cr,ir.header.created),mr}}function Zt(_r){var ir,cr;return{userId:(ir=_r.getUserId())===null||ir===void 0?void 0:ir.getValue(),deviceId:(cr=_r.getDeviceId())===null||cr===void 0?void 0:cr.getValue(),organizationId:_r.getOrganizationId(),id:_r.getPeerId(),capabilities:[],capabilitySet:{}}}var rr=function(_r,ir,cr,mr){return new(cr||(cr=Promise))(function(Cr,Mr){function Yr(rn){try{dn(mr.next(rn))}catch(tn){Mr(tn)}}function an(rn){try{dn(mr.throw(rn))}catch(tn){Mr(tn)}}function dn(rn){var tn;rn.done?Cr(rn.value):(tn=rn.value,tn instanceof cr?tn:new cr(function(Hn){Hn(tn)})).then(Yr,an)}dn((mr=mr.apply(_r,ir||[])).next())})};class pr{constructor(ir){this.config=ir,this.grpcCallDeadline=5*$.a.second,this.refreshIntervalDelayMs=2*$.a.second,this.iceServersTtl=30*$.a.minute,this.connections=[],this.localConnections=[],this.isConnectionInitiator=new Map,this.isOutgoingConnection=new Map,this.peerDataChannelListeners=[];const{refreshIntervalDelayMs:cr}=this;this.refreshInterval=Lt({func:()=>rr(this,void 0,void 0,function*(){try{yield this.update()}catch(mr){Ct.a.warn("RTC refresh failed",{error:mr})}}),delay:cr,immediate:!0})}send(ir,cr,mr){const Cr=this.getActiveConnection(ir);Cr?Cr.isReady()?Cr.send(cr,mr):Ct.a.warn("Send called with unready connection."):Ct.a.warn("Send called with no connection.")}controlRemoteStream(ir,cr){const mr=this.getActiveConnection(ir);mr?mr.isReady()?mr.controlRemoteStream(cr):Ct.a.warn("controlRemoteStream called with unready connection."):Ct.a.warn("controlRemoteStream called with no connection.")}getLocalPeer(){return rr(this,void 0,void 0,function*(){for(;!this.localPeer;)yield Object(et.a)(.1*$.a.second);return Zt(this.localPeer)})}connect(ir,cr){var mr,Cr,Mr;return rr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode===!0)throw new Error("connect method called in local only mode.");const{track:Yr,signalingClient:an}=this.config,{localPeer:dn,receiveSignalStream:rn,iceServers:tn}=this;if(!dn||!rn||!tn)return void Ct.a.warn("Connect called prior to local peer, receiveSignalStream, and ICE servers ready");if(this.getActiveConnection(ir))return void Ct.a.warn("Connect called for peer with existing connection.");if(this.isOutgoingConnection.get(ir))return void Ct.a.warn("Connect called for peer with an existing outgoing connection offer.");this.isOutgoingConnection.set(ir,!0);const Hn=new Ht(yield this.createRTCPeerConnection(tn,cr),{baseConfig:{isOffer:!0,isLan:!1,receive:(qo,Fo)=>this.config.receive(qo,Fo),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(qo,Fo)=>{var Vo,ss;return(ss=(Vo=this.config).onStreamsInfoUpdate)===null||ss===void 0?void 0:ss.call(Vo,qo,Fo)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(mr=dn.getUserId())===null||mr===void 0?void 0:mr.getValue(),localPeerId:dn.getPeerId(),remotePeerId:ir},remoteConfig:{}},qo=>this.onCustomDataChannel(ir,qo)),Qn=yield Hn.getOffer();if(!Qn)return Ct.a.error("Failed to generate offer."),void this.isOutgoingConnection.delete(ir);Ct.a.debug("Sending offer."),Yr==null||Yr("Sending offer",Qn);const io=new zt.SendSignalRequest;io.setSignal(Qn);const yo=yield(()=>rr(this,void 0,void 0,function*(){try{return yield an.sendSignal(io,yield this.getMetadata({}))}catch(qo){Ct.a.warn("Error when sending signal",{error:qo})}}))();if(!this.isOutgoingConnection.get(ir))return void Ct.a.debug("No offer set after receiving offer signal response.");Ct.a.debug("Offer sent.");const ko=(Cr=yo==null?void 0:yo.getSessionId())===null||Cr===void 0?void 0:Cr.getValue(),Ho=(Mr=yo==null?void 0:yo.getSessionCreatedTimestamp())===null||Mr===void 0?void 0:Mr.getValue();return ko&&Ho?(Hn.setSessionId(ko),Hn.setSessionCreatedTimestamp(Ho),this.isOutgoingConnection.delete(ir),this.connections.push(Hn),this.isConnectionInitiator.set(Hn,!0),this.setupHandlers(Hn),ko):(Ct.a.warn("No session ID or no session created timestamp on send signal response."),void this.isOutgoingConnection.delete(ir))})}connectLan(ir){var cr,mr;return rr(this,void 0,void 0,function*(){const Cr=new _t(ir),Mr=new Ht(yield this.createRTCPeerConnection([]),{baseConfig:{isOffer:!0,isLan:!0,receive:(rn,tn)=>this.config.receive(rn,tn),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(rn,tn)=>{var Hn,Qn;return(Qn=(Hn=this.config).onStreamsInfoUpdate)===null||Qn===void 0?void 0:Qn.call(Hn,rn,tn)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localUserId:(mr=(cr=this.localPeer)===null||cr===void 0?void 0:cr.getUserId())===null||mr===void 0?void 0:mr.getValue(),localPeerId:"lan_client",remotePeerId:ir}},rn=>this.onCustomDataChannel(ir,rn)),Yr=yield Mr.getLanOffer();if(!Yr)return Ct.a.warn("Could not generate LAN offer"),!1;const an=yield Cr.postLanRtcOffer({offer:JSON.stringify(Yr)}),dn=new RTCSessionDescription(JSON.parse(an.answer));return yield Mr.handleLanAnswer(dn),this.localConnections.push(Mr),Object(St.v4)()})}getConnections(){return[...this.connections,...this.localConnections]}createCustomDataChannel(ir,cr,mr,Cr,Mr){const Yr=this.getActiveConnection(ir);if(Yr&&this.isConnectionInitiator.has(Yr)){const dn=Yr.peerConnection.createDataChannel("custom."+cr,mr);return Cr&&(dn.binaryType="arraybuffer"),Mr(ir,dn),()=>{}}const an=(dn,rn)=>{ir===dn&&rn.label==="custom."+cr&&Mr(ir,rn)};return this.peerDataChannelListeners.push(an),()=>{this.peerDataChannelListeners=this.peerDataChannelListeners.filter(dn=>dn!==an)}}onCustomDataChannel(ir,cr){this.peerDataChannelListeners.forEach(mr=>mr(ir,cr))}getConnectionStatus(ir){if(this.isOutgoingConnection.get(ir))return"connecting";const cr=this.getActiveConnection(ir);return cr?cr.isReady()?"connected":"connecting":"disconnected"}getConnectionStatsInfo(ir){return rr(this,void 0,void 0,function*(){const cr=this.getActiveConnection(ir);if(cr)return yield cr.getConnectionStatsInfo()})}disconnect(ir){return rr(this,void 0,void 0,function*(){const cr=this.getActiveConnection(ir);cr&&(yield cr.close())})}getPeers(){return rr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:ir}=this.config,cr=yield(()=>rr(this,void 0,void 0,function*(){try{return yield ir.getPeers(new zt.GetPeersRequest,yield this.getMetadata({}))}catch(Mr){Ct.a.warn("Error when getting peers",{error:Mr})}}))();if(!cr)return[];const mr=cr.getPeersList();if(!mr)return[];const Cr=Mr=>{var Yr,an;return(an=(Yr=Mr.getPeerCreatedTimestamp())===null||Yr===void 0?void 0:Yr.getValue())!==null&&an!==void 0?an:0};return mr.sort((Mr,Yr)=>Cr(Yr)-Cr(Mr)).map(Mr=>Zt(Mr))})}getSessions(){return rr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getPeers method cannot be used in local-only mode.");const{signalingClient:ir}=this.config,cr=yield(()=>rr(this,void 0,void 0,function*(){try{return yield ir.getPeers(new zt.GetPeersRequest,yield this.getMetadata({}))}catch(Mr){Ct.a.warn("Error when getting peers",{error:Mr})}}))();if(!cr)return{};const mr=cr.getPeersList(),Cr={};for(const Mr of mr)Cr[Mr.getPeerId()]=Mr.getSessionIdsList();return Cr})}getPing(ir){const cr=this.getActiveConnection(ir);if(cr)return cr.getPing();Ct.a.warn("Attempted to get ping time from inactive peer.")}getLastMessageTimestamp(ir){const cr=this.getActiveConnection(ir);if(cr)return cr.getLastMessageTimestamp();Ct.a.warn("Attempted to get last message time from inactive peer.")}getSessionMetricsMessageCounts(ir){const cr=this.getActiveConnection(ir);if(cr)return cr.getSessionMetricsMessageCounts();Ct.a.warn("Attempted to get session metrics counts from inactive peer.")}isReady(){if(this.config.lanOnlyMode)return!0;const{localPeer:ir,receiveSignalStream:cr,iceServers:mr}=this;return!!(ir&&cr&&mr)}shutdown(){return rr(this,void 0,void 0,function*(){Ct.a.info("Shutdown called on RTC client"),yield this.refreshInterval.stop(),this.receiveSignalStream&&this.receiveSignalStream.cancel();const ir=this.connections;this.connections=[],yield this.closeConnections(ir);const{localPeer:cr}=this;if(!cr||this.config.lanOnlyMode)return;const{signalingClient:mr}=this.config;yield(()=>rr(this,void 0,void 0,function*(){try{const Cr=new zt.DeletePeerRequest;Cr.setPeerId(cr.getPeerId()),yield mr.deletePeer(Cr,yield this.getMetadata({}))}catch(Cr){return void Ct.a.warn("Error deleting local peer",{error:Cr})}}))()})}createPeer(){return rr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createPeer method cannot be used in local-only mode.");const{signalingClient:ir}=this.config,cr=yield(()=>rr(this,void 0,void 0,function*(){try{return yield ir.createPeer(new zt.CreatePeerRequest,yield this.getMetadata({}))}catch(Cr){throw new Error(`Was not able to create peer: ${JSON.stringify(Cr)}`)}}))(),mr=cr==null?void 0:cr.getPeer();if(!mr)throw new Error("Response did not provide peer.");return this.localPeer=mr})}createReceiveSignalStream(){return rr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("createReceiveSignalStream method cannot be used in local-only mode.");const{signalingClient:ir}=this.config,{localPeer:cr,iceServers:mr}=this;if(!cr||!mr)return;const{receiveSignalStream:Cr}=this;Cr&&Cr.cancel();const Mr=new zt.ReceiveSignalStreamRequest;Mr.setPeerId(cr.getPeerId());const Yr=yield(()=>rr(this,void 0,void 0,function*(){try{return ir.receiveSignalStream(Mr,yield this.getMetadata({hasDeadline:!1}))}catch(an){throw new Error(`Unable to create receive signal stream: ${JSON.stringify(an)}`)}}))();if(!Yr)throw new Error("Response did not provide stream.");return Yr.on("data",an=>rr(this,void 0,void 0,function*(){var dn,rn,tn,Hn;const Qn=an.getSignal(),io=(dn=Qn==null?void 0:Qn.getSessionId())===null||dn===void 0?void 0:dn.getValue(),yo=Qn==null?void 0:Qn.getSenderId(),ko=Qn==null?void 0:Qn.getReceiverId(),Ho=(rn=Qn==null?void 0:Qn.getSessionCreatedTimestamp())===null||rn===void 0?void 0:rn.getValue();if(!(Qn&&io&&yo&&ko&&Ho))return void Ct.a.warn("Received signal with missing information.");const qo=this.getActiveConnection(yo);if(qo)if(qo.getSessionId()!==io){if(Ct.a.debug("Received signal: different session for a peer we're already connected to."),(qo.getSessionCreatedTimestamp()||0)>Ho)return;const Fo=new Ht(yield this.createRTCPeerConnection(mr),{baseConfig:{isOffer:!1,isLan:!1,receive:(Vo,ss)=>this.config.receive(Vo,ss),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Vo,ss)=>{var ds,fs;return(fs=(ds=this.config).onStreamsInfoUpdate)===null||fs===void 0?void 0:fs.call(ds,Vo,ss)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:cr.getPeerId(),localUserId:(Hn=cr.getUserId())===null||Hn===void 0?void 0:Hn.getValue(),remotePeerId:yo},remoteConfig:{sessionId:io,sessionCreatedTimestamp:Ho}},Vo=>this.onCustomDataChannel(yo,Vo));yield Fo.handleSignal(Qn),this.connections.push(Fo)}else Ct.a.debug("Received signal: for an existing connection."),yield qo.handleSignal(Qn);else{Ct.a.debug("Received signal: new connection.");const Fo=new Ht(yield this.createRTCPeerConnection(mr),{baseConfig:{isOffer:!1,isLan:!1,receive:(Vo,ss)=>this.config.receive(Vo,ss),onStreamsInfoUpdate:this.config.onStreamsInfoUpdate?(Vo,ss)=>{var ds,fs;return(fs=(ds=this.config).onStreamsInfoUpdate)===null||fs===void 0?void 0:fs.call(ds,Vo,ss)}:void 0,track:this.config.lanOnlyMode?void 0:this.config.track,localPeerId:cr.getPeerId(),localUserId:(tn=cr.getUserId())===null||tn===void 0?void 0:tn.getValue(),remotePeerId:yo},remoteConfig:{sessionId:io,sessionCreatedTimestamp:Ho}},Vo=>this.onCustomDataChannel(yo,Vo));yield Fo.handleSignal(Qn),this.connections.push(Fo)}})),Yr.on("end",()=>{Yr.cancel(),this.receiveSignalStream=void 0}),Yr.on("error",an=>{switch(an.code){case kt.StatusCode.CANCELLED:case kt.StatusCode.UNAVAILABLE:case kt.StatusCode.UNKNOWN:Ct.a.debug("Receive signal stream error",{error:an});break;case kt.StatusCode.UNAUTHENTICATED:Ct.a.warn("Receive signal stream error",{error:an});break;default:Ct.a.error("Receive signal stream error",{error:an})}Yr.cancel(),this.receiveSignalStream=void 0}),this.receiveSignalStream=Yr})}createRTCPeerConnection(ir,cr){var mr;return rr(this,void 0,void 0,function*(){const Cr=cr==null?void 0:cr.rtcIceTransportPolicy,Mr=cr==null?void 0:cr.rtcIceServerProtocol,Yr=(rn,tn)=>typeof rn=="string"?rn.endsWith(`transport=${tn}`):rn.some(Hn=>Hn.endsWith(`transport=${tn}`)),an=ir.filter(rn=>{return Cr!=="relay"||(typeof(tn=rn.urls)=="string"?tn.startsWith("turn:"):tn.some(Hn=>Hn.startsWith("turn:")));var tn}).filter(rn=>Mr!=="udp"||Yr(rn.urls,"udp")).filter(rn=>Mr!=="tcp"||Yr(rn.urls,"tcp")),dn=(mr=this.config.alternateRTCPeerConnection)!==null&&mr!==void 0?mr:window.RTCPeerConnection;if(!dn)throw new Error("RTCPeerConnection class not found. WebRTC must be enabled.");return new dn(Object.assign({iceServers:an,iceTransportPolicy:Cr},cr))})}closeConnections(ir){return rr(this,void 0,void 0,function*(){const cr=yield Mt(ir.map(mr=>rr(this,void 0,void 0,function*(){yield mr.close()})));for(const mr of cr)Ct.a.warn("Request to close session failed",{error:mr})})}getActiveConnection(ir){return this.getConnections().find(cr=>cr.getRemotePeerId()===ir&&cr.isActive())}update(){var ir;return rr(this,void 0,void 0,function*(){if(this.localConnections=this.localConnections.filter(an=>an.isActive()),this.config.lanOnlyMode)return;const{signalingClient:cr}=this.config;if(!this.localPeer||!this.receiveSignalStream||!this.iceServers)return this.localPeer||(yield this.createPeer()),this.iceServers||(yield this.updateIceServers()),void(this.receiveSignalStream||(yield this.createReceiveSignalStream()));yield this.closeConnections(this.connections.filter(an=>!an.isActive())),this.connections=this.connections.filter(an=>an.isActive());const{localPeer:mr}=this,Cr=this.connections.filter(an=>an.getSessionId).map(an=>Tt(an.getSessionId()));mr.setSessionIdsList(Cr);const Mr=new zt.RefreshPeerRequest;Mr.setPeer(mr);try{yield cr.refreshPeer(Mr,yield this.getMetadata({}))}catch(an){an.code===kt.StatusCode.NOT_FOUND?(Ct.a.warn("Peer expired, creating new peer",{peerId:mr.getPeerId()}),yield this.reset()):Ct.a.warn("Error calling RefreshPeer",{error:an})}const Yr=yield this.getPeers();for(const an of this.connections)an.setRemoteDeviceId((ir=Yr.find(dn=>dn.id===an.getRemotePeerId()))===null||ir===void 0?void 0:ir.deviceId)})}reset(){return rr(this,void 0,void 0,function*(){yield this.closeConnections(this.connections),this.connections=[],this.isOutgoingConnection=new Map,yield this.createPeer(),yield this.createReceiveSignalStream()})}updateIceServers(){return rr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)return;const{iceServersLastUpdate:ir,iceServersTtl:cr}=this,mr=new Date().getTime();if(!ir||mr-ir>cr)try{const Cr=(yield this.config.signalingClient.getIceServers(new zt.GetIceServersRequest,yield this.getMetadata({}))).getIceServers();this.iceServers=JSON.parse(Cr),this.iceServersLastUpdate=mr}catch(Cr){Ct.a.warn("Error in updateIceServers",{error:Cr})}})}setupHandlers(ir){const{peerConnection:cr}=ir,mr=ir.getSessionCreatedTimestamp();cr.onconnectionstatechange=()=>rr(this,void 0,void 0,function*(){const Cr=cr.connectionState;if(mr)switch(Cr){case"connected":jt.aggregate("rtc-connect-time",new Date().getTime()-mr);break;case"failed":jt.increment("rtc-connect-failed")}})}getMetadata(ir){return rr(this,void 0,void 0,function*(){if(this.config.lanOnlyMode)throw new Error("getMetadata method cannot be called in local-only mode");const{getToken:cr}=this.config,{grpcCallDeadline:mr}=this,{hasDeadline:Cr}=ir,Mr=Cr===!1?void 0:new Date().getTime()+mr;return{authorization:yield cr(),deadline:Mr}})}}},,function(e,i,o){o.r(i),o.d(i,"LogClient",function(){return j});var c=o(26),d=function(Z,s,$,et){return new($||($=Promise))(function(ut,gt){function lt(yt){try{ot(et.next(yt))}catch(wt){gt(wt)}}function ft(yt){try{ot(et.throw(yt))}catch(wt){gt(wt)}}function ot(yt){var wt;yt.done?ut(yt.value):(wt=yt.value,wt instanceof $?wt:new $(function(Rt){Rt(wt)})).then(lt,ft)}ot((et=et.apply(Z,s||[])).next())})};class j extends c.a{log(s){return d(this,void 0,void 0,function*(){yield this.fetch("logs",{method:"POST",body:JSON.stringify({logs:s}),allowUnsafeRetries:!0})})}}}])})})(dist);let FORMANT_API_URL="https://api.formant.io";typeof window!="undefined"&&(FORMANT_API_URL=window.FORMANT_API_URL||FORMANT_API_URL);let urlParams$1=new URLSearchParams("");typeof window!="undefined"&&(urlParams$1=new URLSearchParams(window.location.search));const envDev=urlParams$1.get("formant_dev");envDev&&(FORMANT_API_URL="https://api-dev.formant.io");const envStage=urlParams$1.get("formant_stage");envStage&&(FORMANT_API_URL="https://api-stage.formant.io");function delay(e){return new Promise(i=>setTimeout(i,e))}function defined(e,i){if(e!==void 0)return e;throw new Error(i||"Value is undefined")}class App{static sendAppMessage(i){window.parent.postMessage(i,"*")}static getCurrentModuleContext(){let i=new URLSearchParams("");return typeof window!="undefined"&&(i=new URLSearchParams(window.location.search)),i.get("module")}static isModule(){return this.getCurrentModuleContext()!==null}static goToTime(i){this.sendAppMessage({type:"go_to_time",time:i.getTime()})}static showMessage(i){this.sendAppMessage({type:"show_message",message:i})}static requestModuleData(){const i=this.getCurrentModuleContext();if(!i)throw new Error("No module context");this.sendAppMessage({type:"request_module_data",module:i})}static setModuleDateTimeRange(i,o){const c=this.getCurrentModuleContext();if(!c)throw new Error("No module context");this.sendAppMessage({type:"set_module_data_time_range",module:c,before:i,after:o||0})}static refreshAuthToken(){const i=this.getCurrentModuleContext();if(!i)throw new Error("No module context");this.sendAppMessage({type:"refresh_auth_token",module:i})}static setupModuleMenus(i){const o=this.getCurrentModuleContext();if(!o)throw new Error("No module context");this.sendAppMessage({type:"setup_module_menus",module:o,menus:i})}static addMenuListener(i){window.addEventListener("message",o=>{const c=o.data;c.type==="module_menu_item_clicked"&&i(c.menu)})}static addAccessTokenRefreshListener(i){window.addEventListener("message",o=>{const c=o.data;c.type==="auth_token"&&i(c.token)})}static addModuleDataListener(i){window.addEventListener("message",o=>{const c=o.data;c.type==="module_data"&&i({streams:c.streams,time:c.time,queryRange:c.queryRange})})}}const _Authentication=class{static async login(e,i){try{const o=await fetch(`${FORMANT_API_URL}/v1/admin/auth/login`,{method:"POST",body:JSON.stringify({email:e,password:i}),headers:{"Content-Type":"application/json"}}),c=await o.json();if(o.status!==200)throw new Error(c.message);return await _Authentication.loginWithToken(c.authentication.accessToken,c.authentication.refreshToken),c.authentication}catch(o){return _Authentication.waitingForAuth.forEach(c=>c(!1)),_Authentication.waitingForAuth=[],Promise.reject(o)}}static async loginWithToken(e,i){const o=JSON.parse(atob(e.split(".")[1]));try{let c;if(_Authentication.isShareToken=o["formant:claims"]&&o["formant:claims"].type=="share",o["formant:claims"]&&(_Authentication.currentOrganization=o["formant:claims"].organizationId),o["custom:organization_id"]&&(_Authentication.currentOrganization=o["custom:organization_id"]),_Authentication.isShareToken||(c=o.sub),o["formant:claims"]&&o["formant:claims"].userId&&(c=o["formant:claims"].userId),c){const d=await fetch(`${FORMANT_API_URL}/v1/admin/users/${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}}),j=await d.json();if(d.status!==200)throw new Error(j.message);_Authentication.currentUser=j}_Authentication.token=e,_Authentication.waitingForAuth.forEach(d=>d(!0))}catch(c){console.error(c),_Authentication.waitingForAuth.forEach(d=>d(!1))}_Authentication.waitingForAuth=[],i&&(_Authentication.refreshToken=i,setInterval(async()=>{if(_Authentication.refreshToken){const d=await(await fetch(`${FORMANT_API_URL}/v1/admin/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:_Authentication.refreshToken})})).json();_Authentication.token=d.authentication.accessToken}},1e3*60*60))}static isAuthenticated(){return _Authentication.token!==void 0}static getCurrentUser(){return _Authentication.currentUser}static async waitTilAuthenticated(){return _Authentication.token!==void 0?!0:new Promise(e=>{_Authentication.waitingForAuth.push(function(i){e(i)})})}static async listenForRefresh(){App.addAccessTokenRefreshListener(e=>{this.loginWithToken(e)}),setInterval(async()=>{App.refreshAuthToken()},1e3*60*60)}};let Authentication=_Authentication;__publicField(Authentication,"token");__publicField(Authentication,"refreshToken");__publicField(Authentication,"currentUser");__publicField(Authentication,"currentOrganization");__publicField(Authentication,"isShareToken",!1);__publicField(Authentication,"defaultDeviceId");__publicField(Authentication,"waitingForAuth",[]);class DataChannel{constructor(i){__publicField(this,"ready",!1),__publicField(this,"listeners",[]),__publicField(this,"binaryListeners",[]),__publicField(this,"error"),__publicField(this,"decoder",new TextDecoder),this.dataChannel=i,this.dataChannel.binaryType="arraybuffer",this.dataChannel.onopen=()=>{this.ready=!0},this.dataChannel.onclose=()=>{this.ready=!1},this.dataChannel.onerror=o=>{console.error(o),this.error="An error occurred in DataChannel"},this.dataChannel.onmessage=o=>{this.listeners.forEach(c=>{const d=new Uint8Array(o.data),j=this.decoder.decode(d);c(j)}),this.binaryListeners.forEach(c=>{c(new Uint8Array(o.data))})}}async waitTilReady(){return this.ready?!0:new Promise((o,c)=>{let d=window.setInterval(()=>{this.ready&&(window.clearInterval(d),o(!0)),this.error&&c(this.error)},10)})}send(i){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(i)}sendBinary(i){if(!this.ready)throw new Error("Connection has been closed");this.dataChannel.send(i)}addListener(i){this.listeners.push(i)}removeListener(i){const o=this.listeners.indexOf(i);if(o===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.listeners.splice(o,1)}addBinaryListener(i){this.binaryListeners.push(i)}removeBinaryListener(i){const o=this.binaryListeners.indexOf(i);if(o===-1)throw new Error("Could not find data channel listener to remove");if(this.error)throw new Error(this.error);this.binaryListeners.splice(o,1)}}class CaptureStream{constructor(i){__publicField(this,"token"),this.captureSession=i}async ingestJSON(i){if(!this.token){const c=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions/${this.captureSession.code}/authenticate`,{method:"POST"})).json();this.token=c.token}await fetch(`${FORMANT_API_URL}/v1/ingest`,{method:"POST",body:JSON.stringify({deviceId:this.captureSession.deviceId,name:this.captureSession.streamName,type:"json",points:[[Date.now(),JSON.stringify(i)]]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+this.token}})}}class Manipulator{constructor(i,o){__publicField(this,"currentListeners",[]),__publicField(this,"onRealtimeMessage",(c,d)=>{d.payload.jointState&&this.currentListeners.forEach(j=>j(d.payload.jointState))}),this.device=i,this.config=o}async synchronize(){this.device.addRealtimeListener(this.onRealtimeMessage),this.device.startListeningToRealtimeDataStream(this.config.currentJointStateStream)}async desynchronize(){this.device.removeRealtimeListener(this.onRealtimeMessage),this.device.stopListeningToRealtimeDataStream(this.config.currentJointStateStream)}async addCurrentJointStateListener(i){this.currentListeners.push(i)}}class RequestDataChannel{constructor(i,o,c){__publicField(this,"channel"),__publicField(this,"requestIdToResponseMap",new Map),this.device=i,this.channel_name=o,this.timeout=c}}class BinaryRequestDataChannel extends RequestDataChannel{constructor(){super(...arguments),__publicField(this,"RESPONSE_SUCCESS_BYTE",0),__publicField(this,"decoder",new TextDecoder)}generateBinaryId(){const i=new Uint8Array(16);for(let o=0;o<i.length;o++)i[o]=Math.floor(Math.random()*256);return i}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addBinaryListener(i=>{const c=i.slice(0,16).toString();if(c.length===0)throw new Error("Invalid response");const d=i.slice(16);if(d.length===0)throw new Error("Invalid response");this.requestIdToResponseMap.has(c)&&this.requestIdToResponseMap.set(c,d)})}async request(i){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:o,requestIdToResponseMap:c,timeout:d}=this;await o.waitTilReady();const j=this.generateBinaryId(),Z=j.toString();c.set(Z,!0),o.sendBinary(new Uint8Array([...j,...i]));const s=new Date().getTime();for(;new Date().getTime()<s+d;)if(await delay(50),c.has(Z)){const $=c.get(Z);if($!==!0){c.delete(Z);const et=$[0]===this.RESPONSE_SUCCESS_BYTE,ut=$.slice(1);if(et)return ut;throw{name:"AdapterError",message:this.decoder.decode(ut)}}}throw c.delete(Z),{name:"TimeoutError",message:`Request timed out after ${d/1e3} seconds`}}}class TextRequestDataChannel extends RequestDataChannel{generateTextId(){return Math.random().toString(36).substring(2)+"-"+Math.random().toString(36).substring(2)}async initialize(){this.channel=await this.device.createCustomDataChannel(this.channel_name),this.channel.addListener(i=>{const o=JSON.parse(i),{id:c,data:d,error:j}=o;if(!c)throw new Error("Invalid response");if(!d&&!j)throw new Error("Invalid response");this.requestIdToResponseMap.has(c)&&this.requestIdToResponseMap.set(c,o)})}async request(i){if(this.channel||await this.initialize(),!this.channel)throw new Error("Failed to create channel");const{channel:o,requestIdToResponseMap:c,timeout:d}=this;await o.waitTilReady();const j=this.generateTextId();c.set(j,!0),o.send(JSON.stringify({id:j,data:i}));const Z=new Date().getTime();for(;new Date().getTime()<Z+d;)if(await delay(50),c.has(j)){const s=c.get(j);if(s!==!0){c.delete(j);const{data:$,error:et}=s;if($)return $;if(et)throw{name:"AdapterError",message:et}}}throw c.delete(j),{name:"TimeoutError",message:`Request timed out after ${d/1e3} seconds`}}}class Device{constructor(i,o,c){__publicField(this,"rtcClient"),__publicField(this,"realtimeListeners",[]),__publicField(this,"handleMessage",(d,j)=>{this.realtimeListeners.forEach(Z=>Z(d,j))}),this.id=i,this.name=o,this.organizationId=c}async getLatestTelemetry(){return(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}async getConfiguration(){let i=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}});const o=await i.json();if(!o.state.reportedConfiguration)throw new Error("Device has no configuration, has it ever been turned on?");const c=o.state.reportedConfiguration.version;return i=await fetch(`${FORMANT_API_URL}/v1/admin/devices/${this.id}/configurations/${c}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),(await i.json()).document}async getFileUrl(i){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileId:[i]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).fileUrls}async startRealtimeConnection(){if(this.rtcClient)throw new Error(`Already created realtime connection to device ${this.id}`);{const i=new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined(Authentication.token,"Realtime when user isn't authorized"),receive:this.handleMessage});for(;!i.isReady();)await delay(100);const c=(await i.getPeers()).find(j=>j.deviceId===this.id);if(!c)throw new Error("Cannot find peer, is the robot offline?");const d=c.id;for(await i.connect(d);i.getConnectionStatus(d)!=="connected";)await delay(100);this.rtcClient=i}}addRealtimeListener(i){this.realtimeListeners.push(i)}removeRealtimeListener(i){const o=this.realtimeListeners.indexOf(i);if(o===-1)throw new Error("Could not find realtime listener to remove");this.realtimeListeners.splice(o,1)}async getRealtimeVideoStreams(){var i,o,c;const d=await this.getConfiguration(),j=[];for(const Z of(i=d.teleop.hardwareStreams)!=null?i:[])Z.rtcStreamType==="h264-video-frame"&&j.push({name:Z.name});for(const Z of(o=d.teleop.rosStreams)!=null?o:[])Z.topicType=="formant/H264VideoFrame"&&j.push({name:Z.topicName});for(const Z of(c=d.teleop.customStreams)!=null?c:[])Z.rtcStreamType==="h264-video-frame"&&j.push({name:Z.name});return j}async getRealtimeManipulators(){var i;const o=await this.getConfiguration(),c=[];for(const d of(i=o.teleop.rosStreams)!=null?i:[])d.topicType=="sensor_msgs/JointState"&&c.push(new Manipulator(this,{currentJointStateStream:{name:d.topicName},plannedJointStateStream:d.plannedTopic?{name:d.plannedTopic}:void 0,planValidStream:d.planValidTopic?{name:d.planValidTopic}:void 0,endEffectorStream:d.endEffectorTopic?{name:d.endEffectorTopic}:void 0,endEffectorLinkName:d.endEffectorLinkName,baseReferenceFrame:d.baseReferenceFrame,localFrame:d.localFrame}));return c}async startListeningToRealtimeVideo(i){const o=defined(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined(c).id,{streamName:i.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeVideo(i){const o=defined(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined(c).id,{streamName:i.name,enable:!1,pipeline:"rtc"})}async startListeningToRealtimeDataStream(i){const o=defined(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined(c).id,{streamName:i.name,enable:!0,pipeline:"rtc"})}async stopListeningToRealtimeDataStream(i){const o=defined(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined(c).id,{streamName:i.name,enable:!1,pipeline:"rtc"})}async enableRealtimeTelemetryPriorityIngestion(i){const o=defined(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined(c).id,{streamName:i,enablePriorityUpload:!0,pipeline:"telemetry"})}async disableRealtimeTelemetryPriorityIngestion(i){const o=defined(this.rtcClient,"Realtime connection has not been started"),c=await this.getRemotePeer();o.controlRemoteStream(defined(c).id,{streamName:i,enablePriorityUpload:!1,pipeline:"telemetry"})}async getRemotePeer(){const o=(await defined(this.rtcClient,"Realtime connection has not been started").getPeers()).find(c=>c.deviceId===this.id);return defined(o,"Could not find remote peer for device "+this.id)}async stopRealtimeConnection(){if(this.rtcClient)await this.rtcClient.disconnect(this.id);else throw new Error(`Realtime connection hasn't been started for ${this.id}`)}async isInRealtimeSession(){let i=await Fleet.getPeers(),o=await Fleet.getRealtimeSessions(),c=i.find(d=>d.deviceId===this.id);return c?o[c.id].length>0:!1}async getAvailableCommands(){return(await(await fetch(`${FORMANT_API_URL}/v1/admin/command-templates/`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(c=>({name:c.name,id:c.id,command:c.command,description:c.description,parameterEnabled:c.parameterEnabled,parameterValue:c.parameterValue,parameterMeta:c.parameterMeta}))}async sendCommand(i,o,c,d){var j;const s=(await this.getAvailableCommands()).find(lt=>lt.name===i);if(!s)throw new Error(`Could not find command with name "${i}"`);let $;if(o===void 0)if(s.parameterEnabled&&s.parameterValue)$=s.parameterValue;else throw new Error("Command has no default parameter value, you must provide one");else $=o;let et={value:$,scrubberTime:(c||new Date).toISOString(),meta:__spreadValues(__spreadValues({},s.parameterMeta),d)};return(await(await fetch(`${FORMANT_API_URL}/v1/admin/commands`,{method:"POST",body:JSON.stringify({commandTemplateId:s.id,organizationId:this.organizationId,deviceId:this.id,command:s.command,parameter:et,userId:(j=Authentication.currentUser)==null?void 0:j.id}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).fileUrls}async createCustomDataChannel(i,o){const c=defined(this.rtcClient,"Realtime connection has not been started"),d=await this.getRemotePeer();return new Promise(Z=>{c.createCustomDataChannel(defined(d).id,i,__spreadValues({ordered:!0},o),!1,(s,$)=>{const et=new DataChannel($);Z(et)})})}createCustomRequestDataChannel(i,o=3e3){return new TextRequestDataChannel(this,i,o)}createCustomBinaryRequestDataChannel(i,o=3e3){return new BinaryRequestDataChannel(this,i,o)}async createCaptureStream(i){const c=await(await fetch(`${FORMANT_API_URL}/v1/admin/capture-sessions`,{method:"POST",body:JSON.stringify({deviceId:this.id,streamName:i,tags:{}}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return new CaptureStream(c)}async getTelemetry(i,o,c,d){return await Fleet.getTelemetry(this.id,i,o,c,d)}async getTelemetryStreams(){var i,o;const c=await this.getConfiguration(),d=await fetch(`${FORMANT_API_URL}/v1/queries/metadata/stream-names`,{method:"POST",body:JSON.stringify({deviceIds:[this.id]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}}),j=[],Z=[];return(o=(i=c.telemetry)==null?void 0:i.streams)==null||o.forEach(et=>{et.disabled!==!0&&j.push(et.name),et.onDemand===!0&&Z.push(et.name)}),console.log(Z),(await d.json()).items.filter(et=>!j.includes(et)).map(et=>({name:et,onDemand:Z.includes(et)}))}}const _Fleet=class{static async setDefaultDevice(e){_Fleet.defaultDeviceId=e}static async getCurrentDevice(){if(!Authentication.token)throw new Error("Not authenticated");if(!_Fleet.defaultDeviceId)throw new Error("No known default device");const c=(await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.find(j=>j.id===_Fleet.defaultDeviceId).name,d=new Device(_Fleet.defaultDeviceId,c,defined(Authentication.currentOrganization));return _Fleet.knownContext.push(new WeakRef(d)),d}static async getDevice(e){if(!Authentication.token)throw new Error("Not authenticated");const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/devices/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json(),c=o.name,d=new Device(e,c,o.organizationId);return _Fleet.knownContext.push(new WeakRef(d)),d}static async getDevices(){if(!Authentication.token)throw new Error("Not authenticated");const i=await(await fetch(`${FORMANT_API_URL}/v1/admin/device-details/query`,{method:"POST",body:JSON.stringify({enabled:!0,type:"default"}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();return i.items,i.items.map(o=>new Device(o.id,o.name,o.organizationId))}static async getOnlineDevices(){if(!Authentication.token)throw new Error("Not authenticated");const o=(await(await fetch(`${FORMANT_API_URL}/v1/queries/online-devices`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items;return(await _Fleet.getDevices()).filter(d=>o.includes(d.id))}static async getPeers(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getPeers()}static async getRealtimeSessions(){if(!Authentication.token)throw new Error("Not authenticated");return await new dist.exports.RtcClient({signalingClient:new dist.exports.SignalingPromiseClient(FORMANT_API_URL,null,null),getToken:async()=>defined(Authentication.token,"Realtime when user isn't authorized"),receive:()=>{}}).getSessions()}static async getRealtimeDevices(){if(!Authentication.token)throw new Error("Not authenticated");const o=(await(await fetch(`${FORMANT_API_URL}/v1/signaling/peers`,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items.map(d=>d.deviceId);return(await _Fleet.getDevices()).filter(d=>o.includes(d.id))}static async getLatestTelemetry(e){let i=e;return e&&!Array.isArray(e)&&(e=[e]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/stream-current-value`,{method:"POST",body:JSON.stringify({deviceIds:i}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getTelemetry(e,i,o,c,d){let j=e;Array.isArray(e)||(j=[e]);let Z=i;return Array.isArray(i)||(Z=[i]),(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify({deviceIds:j,end:c.toISOString(),names:Z,start:o.toISOString(),tags:d}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async getFileUrl(e){const o=await(await fetch(`${FORMANT_API_URL}/v1/admin/files/query`,{method:"POST",body:JSON.stringify({fileIds:[e]}),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json();if(o.fileUrls.length===0)throw new Error("File not found");return o.fileUrls[0]}static async queryTelemetry(e){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/queries/queries`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}static async queryEvents(e){if(!Authentication.token)throw new Error("Not authenticated");return(await(await fetch(`${FORMANT_API_URL}/v1/admin/events/query`,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json",Authorization:"Bearer "+Authentication.token}})).json()).items}};let Fleet=_Fleet;__publicField(Fleet,"defaultDeviceId");__publicField(Fleet,"knownContext",[]);let urlParams=new URLSearchParams("");typeof window!="undefined"&&(urlParams=new URLSearchParams(window.location.search));const urlDevice=urlParams.get("device");urlDevice&&Fleet.setDefaultDevice(urlDevice);const urlAuth=urlParams.get("auth");urlAuth&&Authentication.loginWithToken(urlAuth);const moduleName=urlParams.get("module");moduleName&&Authentication.listenForRefresh();const DeviceCard=({latitude:e,longitude:i,weight:o})=>jsxs("div",{id:"card",className:`${styles.card} ${o<10?styles["card-low"]:o<30?styles["card-medium"]:o<60?styles["card-high"]:styles.card}`,children:[jsx(Typography,{type:"h2",children:`${e}, ${i}`||"High -86.788869, 36.148066"}),jsxs("div",{className:styles["card-name"],children:[jsx(Icon,{color:"#BAC4E2",name:"device",size:"small"}),jsx(Typography,{type:"h3",children:"Astro"})]}),jsx(Typography,{type:"h4",children:`Points of interest: ${o||"-"}`})]});mapboxgl.accessToken="pk.eyJ1IjoiYWxlbmpkZXYiLCJhIjoiY2t3NWt5ZmExMTcxMDJvbW5kdDR2eGs1diJ9.aYT7nc_i5rp2hY4dt3CLrw";function Apps(){const e=react.exports.useRef(null),i=react.exports.useRef(null),[o,c]=react.exports.useState(),[d,j]=react.exports.useState(),[Z,s]=react.exports.useState(),[$,et]=react.exports.useState([{type:"Feature",properties:{weight:10},geometry:{type:"Point",coordinates:[]}}]),ut=()=>({type:"FeatureCollection",features:$});react.exports.useEffect(()=>{App$1.addModuleDataListener(gt)},[]);const gt=async lt=>{const ft=lt.streams;if(Object.keys(ft).length===0)throw new Error("No streams.");let ot,yt,wt;Object.keys(ft).forEach(Rt=>{const Mt=getLatestData(ft,Rt);let Tt=$;if(typeof Mt!="string"&&Mt!==void 0&&(ft[Rt].data[0].name==="Heatmap_test"&&(ot=Mt[1].latitude,yt=Mt[1].longitude),wt=1),!!ot&&!!yt&&!!wt){let Ct={type:"Feature",properties:{weight:wt},geometry:{type:"Point",coordinates:[ot,yt]}};Tt.push(Ct),et([...Tt])}})};return react.exports.useLayoutEffect(()=>{i.current||(i.current=new mapboxgl.Map({container:e.current,style:"mapbox://styles/alenjdev/ckwcflbv8201814n10hxbqz6q",center:[-86.78843321115833,36.15309705831918],zoom:11}))},[]),react.exports.useLayoutEffect(()=>{if(!i.current)return;const lt=ut();i.current.on("load",()=>{i.current.addSource("numeric-example",{type:"geojson",data:lt}),i.current.addLayer({id:"numeric-example-heat",type:"heatmap",source:"numeric-example",maxzoom:15,paint:{"heatmap-weight":{property:"weight",type:"exponential",stops:[[1,0],[62,1]]},"heatmap-intensity":{stops:[[11,1],[15,3]]},"heatmap-color":["interpolate",["linear"],["heatmap-density"],0,"rgba(236,222,239,0)",.2,"rgb(208,209,230)",.4,"rgb(166,189,219)",.6,"rgb(103,169,207)",.8,"rgb(28,144,153)"],"heatmap-radius":{stops:[[11,15],[15,20]]},"heatmap-opacity":{default:1,stops:[[14,1],[15,0]]}}},"waterway-label"),i.current.addLayer({id:"numeric-example-point",type:"circle",source:"numeric-example",minzoom:14,paint:{"circle-radius":{property:"weight",type:"exponential",stops:[[{zoom:15,value:1},5],[{zoom:15,value:62},10],[{zoom:22,value:1},20],[{zoom:22,value:62},50]]},"circle-color":{property:"weight",type:"exponential",stops:[[0,"rgba(236,222,239,0)"],[10,"rgb(236,222,239)"],[20,"rgb(208,209,230)"],[30,"rgb(166,189,219)"],[40,"rgb(103,169,207)"],[50,"rgb(28,144,153)"],[60,"rgb(1,108,89)"]]},"circle-stroke-color":"white","circle-stroke-width":1,"circle-opacity":{stops:[[14,0],[15,1]]}}},"waterway-label")})},[$]),react.exports.useLayoutEffect(()=>{if(!i.current)return;const lt=document.getElementById("card");i.current.on("mouseover","numeric-example-point",ft=>{const{x:ot,y:yt}=ft.point,{weight:wt}=ft.features[0].properties,{lat:Rt,lng:Mt}=ft.lngLat;let Tt=Rt.toString(),Ct=Mt.toString();s(wt),c(Tt.slice(0,8)),j(Ct.slice(0,9)),lt.classList.add("fade-in"),lt.classList.remove("fade-out"),lt.style.top=`${yt}px`,lt.style.left=`${ot}px`}),i.current.on("mouseleave","numeric-example-point",ft=>{lt.classList.remove("fade-in"),lt.classList.add("fade-out")})},[]),react.exports.useLayoutEffect(()=>{if(!i.current)return;const lt=ut();if(lt.features.length===1)return;i.current.getSource("numeric-example").setData(lt)},[$]),jsxs("div",{className:styles.app,children:[jsx("div",{ref:e,className:styles["map-container"]}),jsx(DeviceCard,{latitude:o,longitude:d,weight:Z})]})}const getLatestData=(e,i)=>{if(e[i]===void 0)return"No stream.";if(e[i].loading)return;if(e[i].tooMuchData)return"Too much data.";if(e[i].data.length===0)return"No data.";const o=e[i].data[0].points.at(-1);return o||"No datapoints."};var index="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(Apps,{})}));
